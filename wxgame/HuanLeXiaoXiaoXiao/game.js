	define("weapp-adapter.js", function(require, module, exports){ 			
(function(){(function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p='',b(0)})([function(a,b,c){'use strict';var d=c(1),e=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(d),f=GameGlobal;GameGlobal.__isAdapterInjected||(GameGlobal.__isAdapterInjected=!0,function(){e.addEventListener=function(a,b){e.document.addEventListener(a,b)},e.removeEventListener=function(a,b){e.document.removeEventListener(a,b)},e.canvas&&(e.canvas.addEventListener=e.addEventListener,e.canvas.removeEventListener=e.removeEventListener),f.sharedCanvas&&(sharedCanvas.addEventListener=e.addEventListener,sharedCanvas.removeEventListener=e.removeEventListener);var a=wx.getSystemInfoSync(),b=a.platform;if('undefined'==typeof __devtoolssubcontext&&'devtools'===b){for(var c in e){var d=Object.getOwnPropertyDescriptor(f,c);d&&!0!==d.configurable||Object.defineProperty(window,c,{value:e[c]})}for(var g in e.document){var h=Object.getOwnPropertyDescriptor(f.document,g);h&&!0!==h.configurable||Object.defineProperty(f.document,g,{value:e.document[g]})}window.parent=window}else{for(var i in e)f[i]=e[i];f.window=e,window=f,window.top=window.parent=window}}())},function(a,b,c){'use strict';function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,'__esModule',{value:!0}),b.cancelAnimationFrame=b.requestAnimationFrame=b.clearInterval=b.clearTimeout=b.setInterval=b.setTimeout=b.canvas=b.location=b.localStorage=b.HTMLElement=b.FileReader=b.Audio=b.Image=b.WebSocket=b.XMLHttpRequest=b.navigator=b.document=void 0;var e=c(2);Object.keys(e).forEach(function(a){'default'===a||'__esModule'===a||Object.defineProperty(b,a,{enumerable:!0,get:function(){return e[a]}})});var f=c(3);Object.keys(f).forEach(function(a){'default'===a||'__esModule'===a||Object.defineProperty(b,a,{enumerable:!0,get:function(){return f[a]}})});var g=c(9),h=d(g),i=c(23),j=c(10),k=d(j),l=c(17),m=d(l),n=c(18),o=d(n),p=c(19),q=d(p),r=c(11),s=d(r),t=c(12),u=d(t),v=c(20),w=d(v),x=c(4),y=d(x),z=c(21),A=d(z),B=c(22),C=d(B);b.document=k.default,b.navigator=m.default,b.XMLHttpRequest=o.default,b.WebSocket=q.default,b.Image=s.default,b.Audio=u.default,b.FileReader=w.default,b.HTMLElement=y.default,b.localStorage=A.default,b.location=C.default;var D=(0,i.isSubContext)()?void 0:new h.default;b.canvas=D,b.setTimeout=setTimeout,b.setInterval=setInterval,b.clearTimeout=clearTimeout,b.clearInterval=clearInterval,b.requestAnimationFrame=requestAnimationFrame,b.cancelAnimationFrame=cancelAnimationFrame},function(a,b){'use strict';Object.defineProperty(b,'__esModule',{value:!0});var c=wx.getSystemInfoSync(),d=c.screenWidth,e=c.screenHeight,f=c.devicePixelRatio,g=b.innerWidth=d,h=b.innerHeight=e;b.devicePixelRatio=f;var i=b.screen={availWidth:g,availHeight:h},j=b.performance={now:function(){return Date.now()/1e3}},k=b.ontouchstart=null,l=b.ontouchmove=null,m=b.ontouchend=null},function(a,b,c){'use strict';function d(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function e(a,b){if(!a)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a}function f(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,'__esModule',{value:!0}),b.HTMLCanvasElement=b.HTMLImageElement=void 0;var g=c(4),h=function(a){return a&&a.__esModule?a:{default:a}}(g),i=b.HTMLImageElement=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,'img'))}return f(b,a),b}(h.default),j=b.HTMLCanvasElement=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,'canvas'))}return f(b,a),b}(h.default)},function(a,b,c){'use strict';function d(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function e(a,b){if(!a)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a}function f(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,'__esModule',{value:!0});var g=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(5),i=function(a){return a&&a.__esModule?a:{default:a}}(h),j=c(8),k=c(2),l=function(a){function b(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'';d(this,b);var c=e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return c.className='',c.childern=[],c.style={width:k.innerWidth+'px',height:k.innerHeight+'px'},c.insertBefore=j.noop,c.innerHTML='',c.tagName=a.toUpperCase(),c}var c=Number.isNaN;return f(b,a),g(b,[{key:'setAttribute',value:function(a,b){this[a]=b}},{key:'getAttribute',value:function(a){return this[a]}},{key:'getBoundingClientRect',value:function(){return{top:0,left:0,width:k.innerWidth,height:k.innerHeight}}},{key:'focus',value:function(){}},{key:'clientWidth',get:function(){var a=parseInt(this.style.fontSize,10)*this.innerHTML.length;return c(a)?0:a}},{key:'clientHeight',get:function(){var a=parseInt(this.style.fontSize,10);return c(a)?0:a}}]),b}(i.default);b.default=l},function(a,b,c){'use strict';function d(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function e(a,b){if(!a)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a}function f(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,'__esModule',{value:!0});var g=c(6),h=function(a){return a&&a.__esModule?a:{default:a}}(g),i=function(a){function b(){d(this,b);var a=e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a.className='',a.children=[],a}return f(b,a),b}(h.default);b.default=i},function(a,b,c){'use strict';function d(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function e(a,b){if(!a)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a}function f(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,'__esModule',{value:!0});var g=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(7),i=function(a){return a&&a.__esModule?a:{default:a}}(h),j=function(a){function b(){d(this,b);var a=e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a.childNodes=[],a}return f(b,a),g(b,[{key:'appendChild',value:function(a){if(a instanceof b)this.childNodes.push(a);else throw new TypeError('Failed to executed \'appendChild\' on \'Node\': parameter 1 is not of type \'Node\'.')}},{key:'cloneNode',value:function(){var a=Object.create(this);return Object.assign(a,this),a}},{key:'removeChild',value:function(a){var b=this.childNodes.findIndex(function(b){return b===a});return-1<b?this.childNodes.splice(b,1):null}}]),b}(i.default);b.default=j},function(a,b){'use strict';function c(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(b,'__esModule',{value:!0});var d=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=new WeakMap,f=function(){function a(){c(this,a),e.set(this,{})}return d(a,[{key:'addEventListener',value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},d=e.get(this);d||(d={},e.set(this,d)),d[a]||(d[a]=[]),d[a].push(b),c.capture&&console.warn('EventTarget.addEventListener: options.capture is not implemented.'),c.once&&console.warn('EventTarget.addEventListener: options.once is not implemented.'),c.passive&&console.warn('EventTarget.addEventListener: options.passive is not implemented.')}},{key:'removeEventListener',value:function(a,b){var c=e.get(this)[a];if(c&&0<c.length)for(var d=c.length;d--;0<d)if(c[d]===b){c.splice(d,1);break}}},{key:'dispatchEvent',value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=e.get(this)[a.type];if(b)for(var c=0;c<b.length;c++)b[c](a)}}]),a}();b.default=f},function(a,b){'use strict';Object.defineProperty(b,'__esModule',{value:!0}),b.noop=function(){},b.isSubContext=function(){return'undefined'!=typeof GameGlobal&&!0===GameGlobal.__isSubContext}},function(a,b,c){'use strict';function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,'__esModule',{value:!0}),b.default=function(){var a=wx.createCanvas();a.type='canvas',a.__proto__.__proto__=new g.default('canvas');a.getContext;return a.getBoundingClientRect=function(){var a={top:0,left:0,width:window.innerWidth,height:window.innerHeight};return a},a};var e=c(3),f=c(4),g=d(f),h=c(10),i=d(h)},function(a,b,c){'use strict';function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,'__esModule',{value:!0});var e=c(1),f=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(e),g=c(4),h=d(g),i=c(11),j=d(i),k=c(12),l=d(k),m=c(9),n=d(m);c(15);var o={},p={readyState:'complete',visibilityState:'visible',documentElement:f,hidden:!1,style:{},location:f.location,ontouchstart:null,ontouchmove:null,ontouchend:null,head:new h.default('head'),body:new h.default('body'),createElement:function(a){if('canvas'===a)return new n.default;return'audio'===a?new l.default:'img'===a?new j.default:new h.default(a)},getElementById:function(a){return a===f.canvas.id?f.canvas:null},getElementsByTagName:function(a){if('head'===a)return[p.head];return'body'===a?[p.body]:'canvas'===a?[f.canvas]:[]},querySelector:function(a){if('head'===a)return p.head;return'body'===a?p.body:'canvas'===a?f.canvas:a==='#'+f.canvas.id?f.canvas:null},querySelectorAll:function(a){if('head'===a)return[p.head];return'body'===a?[p.body]:'canvas'===a?[f.canvas]:[]},addEventListener:function(a,b){o[a]||(o[a]=[]),o[a].push(b)},removeEventListener:function(a,b){var c=o[a];if(c&&0<c.length)for(var d=c.length;d--;0<d)if(c[d]===b){c.splice(d,1);break}},dispatchEvent:function(a){var b=o[a.type];if(b)for(var c=0;c<b.length;c++)b[c](a)}};b.default=p},function(a,b){'use strict';Object.defineProperty(b,'__esModule',{value:!0}),b.default=function(){var a=wx.createImage();return a}},function(a,b,c){'use strict';function d(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function e(a,b){if(!a)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a}function f(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,'__esModule',{value:!0});var g=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(13),i=function(a){return a&&a.__esModule?a:{default:a}}(h),j=c(8),k=0,l=2,m=4,n=new WeakMap,o=new WeakMap,p=new WeakMap,q=new WeakMap,r=function(a){function b(a){d(this,b);var c=e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));if(c.HAVE_NOTHING=k,c.HAVE_METADATA=1,c.HAVE_CURRENT_DATA=l,c.HAVE_FUTURE_DATA=3,c.HAVE_ENOUGH_DATA=m,c.readyState=k,(0,j.isSubContext)())return console.warn('HTMLAudioElement is not supported in SubContext.'),e(c);o.set(c,'');var f=wx.createInnerAudioContext();return n.set(c,f),f.onCanplay(function(){c.dispatchEvent({type:'load'}),c.dispatchEvent({type:'loadend'}),c.dispatchEvent({type:'canplay'}),c.dispatchEvent({type:'canplaythrough'}),c.dispatchEvent({type:'loadedmetadata'}),c.readyState=l}),f.onPlay(function(){c.dispatchEvent({type:'play'})}),f.onPause(function(){c.dispatchEvent({type:'pause'})}),f.onEnded(function(){c.dispatchEvent({type:'ended'}),c.readyState=m}),f.onError(function(){c.dispatchEvent({type:'error'})}),a&&(n.get(c).src=a),c}return f(b,a),g(b,[{key:'load',value:function(){console.warn('HTMLAudioElement.load() is not implemented.')}},{key:'play',value:function(){(0,j.isSubContext)()||n.get(this).play()}},{key:'pause',value:function(){(0,j.isSubContext)()||n.get(this).pause()}},{key:'canPlayType',value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'';return'string'==typeof a?-1<a.indexOf('audio/mpeg')||a.indexOf('audio/mp4')?'probably':'':''}},{key:'cloneNode',value:function(){var a=new b;return(0,j.isSubContext)()||(a.loop=n.get(this).loop,a.autoplay=n.get(this).loop,a.src=this.src),a}},{key:'currentTime',get:function(){return(0,j.isSubContext)()?0:n.get(this).currentTime},set:function(a){(0,j.isSubContext)()||n.get(this).seek(a)}},{key:'src',get:function(){return o.get(this)},set:function(a){o.set(this,a),(0,j.isSubContext)()||(n.get(this).src=a)}},{key:'loop',get:function(){return!(0,j.isSubContext)()&&n.get(this).loop},set:function(a){(0,j.isSubContext)()||(n.get(this).loop=a)}},{key:'autoplay',get:function(){return!(0,j.isSubContext)()&&n.get(this).autoplay},set:function(a){(0,j.isSubContext)()||(n.get(this).autoplay=a)}},{key:'paused',get:function(){return!(0,j.isSubContext)()&&n.get(this).paused}}]),b}(i.default);b.default=r},function(a,b,c){'use strict';function d(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function e(a,b){if(!a)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a}function f(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,'__esModule',{value:!0});var g=c(14),h=function(a){return a&&a.__esModule?a:{default:a}}(g),i=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,'audio'))}return f(b,a),b}(h.default);b.default=i},function(a,b,c){'use strict';function d(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function e(a,b){if(!a)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a}function f(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,'__esModule',{value:!0});var g=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(4),i=function(a){return a&&a.__esModule?a:{default:a}}(h),j=function(a){function b(a){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a))}return f(b,a),g(b,[{key:'addTextTrack',value:function(){}},{key:'captureStream',value:function(){}},{key:'fastSeek',value:function(){}},{key:'load',value:function(){}},{key:'pause',value:function(){}},{key:'play',value:function(){}}]),b}(i.default);b.default=j},function(a,b,c){'use strict';c(16)},function(a,b,c){'use strict';function d(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function e(a){return function(b){var c=new k(a);c.touches=b.touches,c.targetTouches=Array.prototype.slice.call(b.touches),c.changedTouches=b.changedTouches,c.timeStamp=b.timeStamp,i.default.dispatchEvent(c)}}var f=c(1),g=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(f),h=c(10),i=function(a){return a&&a.__esModule?a:{default:a}}(h),j=c(8),k=function a(b){d(this,a),this.target=g.canvas,this.currentTarget=g.canvas,this.touches=[],this.targetTouches=[],this.changedTouches=[],this.preventDefault=j.noop,this.stopPropagation=j.noop,this.type=b};wx.onTouchStart(e('touchstart')),wx.onTouchMove(e('touchmove')),wx.onTouchEnd(e('touchend')),wx.onTouchCancel(e('touchcancel'))},function(a,b,c){'use strict';Object.defineProperty(b,'__esModule',{value:!0});var d=c(8),e=wx.getSystemInfoSync(),f=e.platform,g={platform:f,language:'zh-cn',appVersion:'5.0 (iPhone; CPU iPhone OS 9_1 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1',userAgent:'Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Mobile/14E8301 MicroMessenger/6.6.0 MiniGame NetType/WIFI Language/zh_CN',onLine:!0,geolocation:{getCurrentPosition:d.noop,watchPosition:d.noop,clearWatch:d.noop}};b.default=g},function(a,b){'use strict';function c(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function d(a){if('function'==typeof this['on'+a]){for(var b=arguments.length,c=Array(1<b?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this['on'+a].apply(this,c)}}function e(a){this.readyState=a,d.call(this,'readystatechange')}Object.defineProperty(b,'__esModule',{value:!0});var f=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=new WeakMap,h=new WeakMap,i=new WeakMap,j=new WeakMap,k=new WeakMap,l=function(){function a(){c(this,a),this.onabort=null,this.onerror=null,this.onload=null,this.onloadstart=null,this.onprogress=null,this.ontimeout=null,this.onloadend=null,this.onreadystatechange=null,this.readyState=0,this.response=null,this.responseText=null,this.responseType='',this.responseXML=null,this.status=0,this.statusText='',this.upload={},this.withCredentials=!1,i.set(this,{"content-type":'application/x-www-form-urlencoded'}),j.set(this,{})}return f(a,[{key:'abort',value:function(){var a=k.get(this);a&&a.abort()}},{key:'getAllResponseHeaders',value:function(){var a=j.get(this);return Object.keys(a).map(function(b){return b+': '+a[b]}).join('\n')}},{key:'getResponseHeader',value:function(a){return j.get(this)[a]}},{key:'open',value:function(b,c){h.set(this,b),g.set(this,c),e.call(this,a.OPENED)}},{key:'overrideMimeType',value:function(){}},{key:'send',value:function(){var b=this,c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'';if(this.readyState!==a.OPENED)throw new Error('Failed to execute \'send\' on \'XMLHttpRequest\': The object\'s state must be OPENED.');else wx.request({data:c,url:g.get(this),method:h.get(this),header:i.get(this),responseType:this.responseType,success:function(c){var f=c.data,g=c.statusCode,h=c.header;if('string'!=typeof f&&!(f instanceof ArrayBuffer))try{f=JSON.stringify(f)}catch(a){f=f}if(b.status=g,j.set(b,h),d.call(b,'loadstart'),e.call(b,a.HEADERS_RECEIVED),e.call(b,a.LOADING),b.response=f,f instanceof ArrayBuffer){b.responseText='';for(var k=new Uint8Array(f),l=k.byteLength,m=0;m<l;m++)b.responseText+=String.fromCharCode(k[m])}else b.responseText=f;e.call(b,a.DONE),d.call(b,'load'),d.call(b,'loadend'),b=null},fail:function(a){var c=a.errMsg;-1===c.indexOf('abort')?d.call(b,'error',c):d.call(b,'abort'),d.call(b,'loadend'),b=null}})}},{key:'setRequestHeader',value:function(a,b){var c=i.get(this);c[a]=b,i.set(this,c)}}]),a}();l.UNSEND=0,l.OPENED=1,l.HEADERS_RECEIVED=2,l.LOADING=3,l.DONE=4,b.default=l},function(a,b,c){'use strict';function d(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(b,'__esModule',{value:!0});var e=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(8),g=new WeakMap,h=function(){function a(b){var c=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];if(d(this,a),this.binaryType='',this.bufferedAmount=0,this.extensions='',this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this.protocol='',this.readyState=3,(0,f.isSubContext)())throw new Error('WebSocket is not supported in SubContext.');if('string'!=typeof b||!/(^ws:\/\/)|(^wss:\/\/)/.test(b))throw new TypeError('Failed to construct \'WebSocket\': The URL \''+b+'\' is invalid');this.url=b,this.readyState=a.CONNECTING;var h=wx.connectSocket({url:b,protocols:Array.isArray(e)?e:[e]});return g.set(this,h),h.onClose(function(b){c.readyState=a.CLOSED,'function'==typeof c.onclose&&c.onclose(b)}),h.onMessage(function(a){'function'==typeof c.onmessage&&c.onmessage(a)}),h.onOpen(function(){c.readyState=a.OPEN,'function'==typeof c.onopen&&c.onopen()}),h.onError(function(a){'function'==typeof c.onerror&&c.onerror(new Error(a.errMsg))}),this}return e(a,[{key:'close',value:function(b,c){this.readyState=a.CLOSING;var d=g.get(this);d.close({code:b,reason:c})}},{key:'send',value:function(a){if('string'!=typeof a&&!(a instanceof ArrayBuffer))throw new TypeError('Failed to send message: The data '+a+' is invalid');var b=g.get(this);b.send({data:a})}}]),a}();h.CONNECTING=0,h.OPEN=1,h.CLOSING=2,h.CLOSED=3,b.default=h},function(a,b,c){'use strict';function d(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(b,'__esModule',{value:!0});var e=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(8),g=function(){function a(){d(this,a)}return e(a,[{key:'construct',value:function(){if((0,f.isSubContext)())throw new Error('FileReader is not supported in SubContext.')}}]),a}();b.default=g},function(a,b,c){'use strict';Object.defineProperty(b,'__esModule',{value:!0});var d=c(8),e={get length(){var a=wx.getStorageInfoSync(),b=a.keys;return b.length},key:function(a){var b=wx.getStorageInfoSync(),c=b.keys;return c[a]},getItem:function(a){return wx.getStorageSync(a)},setItem:function(a,b){return wx.setStorageSync(a,b)},removeItem:function(a){wx.removeStorageSync(a)},clear:function(){wx.clearStorageSync()}},f={},g={get length(){var a=Object.keys(f);return a.length},key:function(a){var b=Object.keys(f);return b[a]},getItem:function(a){return f[a]},setItem:function(a,b){f[a]=b},removeItem:function(a){delete f[a]},clear:function(){f={}}},h=(0,d.isSubContext)()?g:e;b.default=h},function(a,b){'use strict';Object.defineProperty(b,'__esModule',{value:!0});b.default={href:'game.js',reload:function(){}}},function(a,b){'use strict';Object.defineProperty(b,'__esModule',{value:!0}),b.noop=function(){},b.isSubContext=function(){return'undefined'!=typeof GameGlobal&&!0===GameGlobal.__isSubContext}}])})(); 
 			});
 		define("game.js", function(require, module, exports){ 			
var b;require("./weapp-adapter.js");var cc=cc||{};cc._tmp=cc._tmp||{};cc._LogInfos={};cc.timePoints=[];cc.addTimePoint=function(a){var c=(new Date).getTime();cc.timePoints.push(a);cc.timePoints[a]=c};cc.printTimePoint=function(a,c){if(a&&c)console.log(a,"---------",c,cc.timePoints[c]-cc.timePoints[a]);else if(a)console.log(a,cc.timePoints[a]-cc.timePoints[0]);else{a=cc.timePoints[0];for(var d=0;d<cc.timePoints.length;++d)c=cc.timePoints[d],console.log("---------",c,cc.timePoints[c]-cc.timePoints[a])}};
cc.addTimePoint("start");var _p=window,_p=Object.prototype,_p=null;cc.ORIENTATION_PORTRAIT=0;cc.ORIENTATION_PORTRAIT_UPSIDE_DOWN=1;cc.ORIENTATION_LANDSCAPE_LEFT=2;cc.ORIENTATION_LANDSCAPE_RIGHT=3;cc._drawingUtil=null;cc._renderContext=null;cc._supportRender=!1;cc._canvas=null;cc.container=null;cc._gameDiv=null;cc.newElement=function(a){return document.createElement(a)};
cc.each=function(a,c,d){if(a)if(a instanceof Array)for(var e=0,f=a.length;e<f&&!1!==c.call(d,a[e],e);e++);else for(e in a)if(!1===c.call(d,a[e],e))break};cc.extend=function(a){var c=2<=arguments.length?Array.prototype.slice.call(arguments,1):[];cc.each(c,function(c){for(var e in c)c.hasOwnProperty(e)&&(a[e]=c[e])});return a};cc.isFunction=function(a){return"function"===typeof a};cc.isNumber=function(a){return"number"===typeof a||"[object Number]"===Object.prototype.toString.call(a)};
cc.isString=function(a){return"string"===typeof a||"[object String]"===Object.prototype.toString.call(a)};cc.isArray=function(a){return Array.isArray(a)||"object"===typeof a&&"[object Array]"===Object.prototype.toString.call(a)};cc.isUndefined=function(a){return"undefined"===typeof a};cc.isObject=function(a){return"object"===typeof a&&"[object Object]"===Object.prototype.toString.call(a)};
cc.isCrossOrigin=function(a){if(!a)return cc.log("invalid URL"),!1;var c=a.indexOf("://");if(-1===c)return!1;c=a.indexOf("/",c+3);return(-1===c?a:a.substring(0,c))!==location.origin};
cc.AsyncPool=function(a,c,d,e,f){var g=this;g._srcObj=a;g._limit=c;g._pool=[];g._iterator=d;g._iteratorTarget=f;g._onEnd=e;g._onEndTarget=f;g._results=a instanceof Array?[]:{};g._errors=a instanceof Array?[]:{};cc.each(a,function(a,c){g._pool.push({index:c,value:a})});g.size=g._pool.length;g.finishedSize=0;g._workingSize=0;g._limit=g._limit||g.size;g.onIterator=function(a,c){g._iterator=a;g._iteratorTarget=c};g.onEnd=function(a,c){g._onEnd=a;g._onEndTarget=c};g._handleItem=function(){var a=this;if(!(0===
a._pool.length||a._workingSize>=a._limit)){var c=a._pool.shift(),d=c.value,e=c.index;a._workingSize++;a._iterator.call(a._iteratorTarget,d,e,function(c,d){a.finishedSize++;a._workingSize--;c?(a._errors[this.index]=c,console.error(a._pool[this.index],c)):a._results[this.index]=d;a.finishedSize===a.size?a._onEnd&&a._onEnd.call(a._onEndTarget,0===a._errors.length?null:a._errors,a._results):a._handleItem()}.bind(c),a)}};g.flow=function(){if(0===this._pool.length)this._onEnd&&this._onEnd.call(this._onEndTarget,
null,[]);else for(var a=0;a<this._limit;a++)this._handleItem()}};
cc.async={series:function(a,c,d){a=new cc.AsyncPool(a,1,function(a,c,g){a.call(d,g)},c,d);a.flow();return a},parallel:function(a,c,d){a=new cc.AsyncPool(a,0,function(a,c,g){a.call(d,g)},c,d);a.flow();return a},waterfall:function(a,c,d){var e=[],f=[null],g=new cc.AsyncPool(a,1,function(c,g,n){e.push(function(c){e=Array.prototype.slice.call(arguments,1);a.length-1===g&&(f=f.concat(e));n.apply(null,arguments)});c.apply(d,e)},function(a){if(c){if(a)return c.call(d,a);c.apply(d,f)}});g.flow();return g},
map:function(a,c,d,e){var f=c;"object"===typeof c&&(d=c.cb,e=c.iteratorTarget,f=c.iterator);a=new cc.AsyncPool(a,0,f,d,e);a.flow();return a},mapLimit:function(a,c,d,e,f){a=new cc.AsyncPool(a,c,d,e,f);a.flow();return a}};
cc.path={normalizeRE:/[^\.\/]+\/\.\.\//,join:function(){for(var a=arguments.length,c="",d=0;d<a;d++)c=(c+(""===c?"":"/")+arguments[d]).replace(/(\/|\\\\)$/,"");return c},extname:function(a){return(a=/(\.[^\.\/\?\\]*)(\?.*)?$/.exec(a))?a[1]:null},mainFileName:function(a){if(a){var c=a.lastIndexOf(".");if(-1!==c)return a.substring(0,c)}return a},basename:function(a,c){var d=a.indexOf("?");0<d&&(a=a.substring(0,d));d=/(\/|\\\\)([^(\/|\\\\)]+)$/g.exec(a.replace(/(\/|\\\\)$/,""));if(!d)return null;d=d[2];
return c&&a.substring(a.length-c.length).toLowerCase()===c.toLowerCase()?d.substring(0,d.length-c.length):d},dirname:function(a){return a.replace(/((.*)(\/|\\|\\\\))?(.*?\..*$)?/,"$2")},changeExtname:function(a,c){c=c||"";var d=a.indexOf("?"),e="";0<d&&(e=a.substring(d),a=a.substring(0,d));d=a.lastIndexOf(".");return 0>d?a+c+e:a.substring(0,d)+c+e},changeBasename:function(a,c,d){if(0===c.indexOf("."))return this.changeExtname(a,c);var e=a.indexOf("?"),f="";d=d?this.extname(a):"";0<e&&(f=a.substring(e),
a=a.substring(0,e));e=a.lastIndexOf("/");return a.substring(0,0>=e?0:e+1)+c+d+f},_normalize:function(a){var c=a=String(a);do c=a,a=a.replace(this.normalizeRE,"");while(c.length!==a.length);return a}};
cc.loader=function(){var a={},c={},d={},e={},f=RegExp("^(?:(?:https?|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))|(?:localhost))(?::\\d{2,5})?(?:/\\S*)?$","i");return{resPath:"",audioPath:"",cache:{},getXMLHttpRequest:function(){return window.XMLHttpRequest?
new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP")},_getArgs4Js:function(a){},isLoading:function(a){return void 0!==e[a]},loadJs:function(a,c,d){},loadJsWithImg:function(a,c,d){},_createScript:function(a,c,d){},_loadJs4Dependency:function(a,c,d,e){},_loadJsImg:function(){},loadTxt:function(a,c){wxResManager.loadTxt(a,c)},_loadTxtSync:function(a){},loadCsb:function(a,c){},loadJson:function(a,c){wxResManager.loadJson(a,c)},_checkIsImageURL:function(a){return null!=/(\.png)|(\.jpg)|(\.bmp)|(\.jpeg)|(\.gif)/.exec(a)},
loadImg:function(a,c,d){var f={isCrossOrigin:!0,isSaveToLocalDisk:!0};void 0!==d?(f.isCrossOrigin=void 0===c.isCrossOrigin?f.isCrossOrigin:c.isCrossOrigin,f.isSaveToLocalDisk=void 0===c.isSaveToLocalDisk?f.isSaveToLocalDisk:c.isSaveToLocalDisk):void 0!==c&&(d=c);var r=this.getRes(a);if(r)return d&&d(null,r),r;if(c=e[a])return c.callbacks.push(d),c.img;r=new Image;f.isCrossOrigin&&"file://"!==location.origin&&(r.crossOrigin="Anonymous");var s=function(){this.removeEventListener("load",s,!1);this.removeEventListener("error",
u,!1);var c=e[a];if(c){for(var d=c.callbacks,f=0;f<d.length;++f){var h=d[f];h&&h(null,r)}c.img=null;delete e[a]}},t=this,u=function(){this.removeEventListener("load",s,!1);this.removeEventListener("error",u,!1);if("https:"!==window.location.protocol&&r.crossOrigin&&"anonymous"===r.crossOrigin.toLowerCase())f.isCrossOrigin=!1,t.release(a),cc.loader.loadImg(a,f,d);else{var c=e[a];if(c){for(var h=c.callbacks,A=0;A<h.length;++A){var B=h[A];B&&B("load image failed")}c.img=null;delete e[a]}}};e[a]={img:r,
callbacks:d?[d]:[]};wxResManager.loadImg(a,f.isSaveToLocalDisk,function(a){a?(r.addEventListener("load",s),r.addEventListener("error",u),r.src=a):u()});return r},_loadResIterator:function(c,d,e){var n=this,r=null,s=c.type;s?(s="."+s.toLowerCase(),r=c.src?c.src:c.name+s):(r=c,s=cc.path.extname(r));if(d=n.getRes(r))return e(null,d);d=null;s&&(d=a[s.toLowerCase()]);if(!d)return cc.error("loader for ["+s+"] not exists!"),e();s=r;f.test(r)||(s=d.getBasePath?d.getBasePath():n.resPath,s=n.getUrl(s,r));cc.game.config.noCache&&
"string"===typeof s&&(s=n._noCacheRex.test(s)?s+("\x26_t\x3d"+(new Date-0)):s+("?_t\x3d"+(new Date-0)));d.load(s,r,c,function(a,c){a?(cc.log(a),n.cache[r]=null,delete n.cache[r],e({status:520,errorMessage:a},null)):(n.cache[r]=c,e(null,c))})},_noCacheRex:/\?/,getUrl:function(d,e){var f=cc.path;if(void 0!==d&&void 0===e){e=d;var n=f.extname(e),n=n?n.toLowerCase():"";d=(n=a[n])?n.getBasePath?n.getBasePath():this.resPath:this.resPath}e=cc.path.join(d||"",e);if(e.match(/[\/(\\\\)]lang[\/(\\\\)]/i)){if(c[e])return c[e];
f=f.extname(e)||"";e=c[e]=e.substring(0,e.length-f.length)+"_"+cc.sys.language+f}return e},load:function(a,c,d){var e=this,f=arguments.length;if(0===f)throw Error("arguments error!");3===f?"function"===typeof c&&(c="function"===typeof d?{trigger:c,cb:d}:{cb:c,cbTarget:d}):2===f?"function"===typeof c&&(c={cb:c}):1===f&&(c={});a instanceof Array||(a=[a]);f=new cc.AsyncPool(a,0,function(a,d,f,g){e._loadResIterator(a,d,function(a){var d=Array.prototype.slice.call(arguments,1);c.trigger&&c.trigger.call(c.triggerTarget,
d[0],g.size,g.finishedSize);f(a,d[0])})},c.cb,c.cbTarget);f.flow();return f},_handleAliases:function(a,c){var e=[],f;for(f in a){var r=a[f];d[f]=r;e.push(r)}this.load(e,c)},loadAliases:function(a,c){var d=this,e=d.getRes(a);e?d._handleAliases(e.filenames,c):d.load(a,function(a,e){d._handleAliases(e[0].filenames,c)})},register:function(c,d){if(c&&d){if("string"===typeof c)return a[c.trim().toLowerCase()]=d;for(var e=0,f=c.length;e<f;e++)a["."+c[e].trim().toLowerCase()]=d}},getLoader:function(c){return a[c]},
getRes:function(a){return this.cache[a]||this.cache[d[a]]},_getAliase:function(a){return d[a]},release:function(a){if(null!=a){var c=this.cache,f=e[a];f&&(f.img=null,delete e[a]);delete c[a];delete c[d[a]];delete d[a];wxResManager.removeQueue(a)}},releaseAll:function(){var a=this.cache,c;for(c in a)delete a[c];for(c in d)delete d[c]},registerAliases:function(a){this.urlAliases=a},urlByAliases:function(a){if(this.urlAliases){var c=a.indexOf("res/");if(0==c)(c=this.urlAliases[a])&&(a=c),cc.res_url&&
(a=cc.res_url+a);else if(0<c&&"/"===a.charAt(c-1)){var c=a.slice(c),d=this.urlAliases[c];cc.res_url&&d?a=cc.res_url+d:cc.res_url?a=cc.res_url+c:d&&(a=a.replace(c,d))}}else cc.res_url&&0!=a.indexOf("http")&&(c=a.indexOf("res/"),0==c?a=cc.res_url+a:0<c&&"/"===a.charAt(c-1)&&(c=a.slice(c),a=cc.res_url+c));return a}}}();
cc.formatStr=function(){var a=arguments,c=a.length;if(1>c)return"";var d=a[0],e=!0;"object"===typeof d&&(e=!1);for(var f=1;f<c;++f){var g=a[f];if(e)for(;;){var h=null;if("number"===typeof g&&(h=d.match(/(%d)|(%s)/))){d=d.replace(/(%d)|(%s)/,g);break}d=(h=d.match(/%s/))?d.replace(/%s/,g):d+("    "+g);break}else d+="    "+g}return d};
(function(){function a(a){cc._initDebugSetting&&cc._initDebugSetting(a[cc.game.CONFIG_KEY.debugMode]);cc._engineLoaded=!0;cc.log(cc.ENGINE_VERSION);e&&e()}function c(){this.removeEventListener("load",c,!1);a(cc.game.config)}cc.create3DContext=function(a,c){return a.getContext("webgl",c)};(function(){cc.sys={};var a=cc.sys;a.LANGUAGE_ENGLISH="en";a.LANGUAGE_CHINESE="zh";a.LANGUAGE_FRENCH="fr";a.LANGUAGE_ITALIAN="it";a.LANGUAGE_GERMAN="de";a.LANGUAGE_SPANISH="es";a.LANGUAGE_DUTCH="du";a.LANGUAGE_RUSSIAN=
"ru";a.LANGUAGE_KOREAN="ko";a.LANGUAGE_JAPANESE="ja";a.LANGUAGE_HUNGARIAN="hu";a.LANGUAGE_PORTUGUESE="pt";a.LANGUAGE_ARABIC="ar";a.LANGUAGE_NORWEGIAN="no";a.LANGUAGE_POLISH="pl";a.LANGUAGE_UNKNOWN="unkonwn";a.OS_IOS="iOS";a.OS_ANDROID="Android";a.OS_DEV="devtools";a.OS_WINDOWS="Windows";a.OS_MARMALADE="Marmalade";a.OS_LINUX="Linux";a.OS_BADA="Bada";a.OS_BLACKBERRY="Blackberry";a.OS_OSX="OS X";a.OS_WP8="WP8";a.OS_WINRT="WINRT";a.OS_UNKNOWN="Unknown";a.UNKNOWN=-1;a.WIN32=0;a.LINUX=1;a.MACOS=2;a.ANDROID=
3;a.IPHONE=4;a.IPAD=5;a.BLACKBERRY=6;a.NACL=7;a.EMSCRIPTEN=8;a.TIZEN=9;a.WINRT=10;a.WP8=11;a.MOBILE_BROWSER=100;a.DESKTOP_BROWSER=101;a.BROWSER_TYPE_WECHAT="wechat";a.BROWSER_TYPE_ANDROID="androidbrowser";a.BROWSER_TYPE_IE="ie";a.BROWSER_TYPE_QQ="qqbrowser";a.BROWSER_TYPE_MOBILE_QQ="mqqbrowser";a.BROWSER_TYPE_UC="ucbrowser";a.BROWSER_TYPE_360="360browser";a.BROWSER_TYPE_BAIDU_APP="baiduboxapp";a.BROWSER_TYPE_BAIDU="baidubrowser";a.BROWSER_TYPE_MAXTHON="maxthon";a.BROWSER_TYPE_OPERA="opera";a.BROWSER_TYPE_OUPENG=
"oupeng";a.BROWSER_TYPE_MIUI="miuibrowser";a.BROWSER_TYPE_FIREFOX="firefox";a.BROWSER_TYPE_SAFARI="safari";a.BROWSER_TYPE_CHROME="chrome";a.BROWSER_TYPE_LIEBAO="liebao";a.BROWSER_TYPE_QZONE="qzone";a.BROWSER_TYPE_SOUGOU="sogou";a.BROWSER_TYPE_UNKNOWN="unknown";a.isNative=!1;var c=window,d=c.navigator,e=document,n=e.documentElement;d.userAgent.toLowerCase();a.isMobile=!0;a.wxSystemInfo=wx.getSystemInfoSync();a.platform=a.isMobile?a.MOBILE_BROWSER:a.DESKTOP_BROWSER;var r=d.language,r=(r=r?r:d.browserLanguage)?
r.split("-")[0]:a.LANGUAGE_ENGLISH;a.language=r;r=a.wxSystemInfo.platform;"devtools"==r?(a.os=a.OS_DEV,a.osVersion="",a.osMainVersion=0):"ios"==r?(a.os=a.OS_IOS,a.osVersion="",a.osMainVersion=10):"android"==r&&(a.os=a.OS_ANDROID,a.osVersion="",a.osMainVersion=7);a.browserType=a.BROWSER_TYPE_UNKNOWN;a.browserVersion="";a.browserType=a.BROWSER_TYPE_WECHAT;a.browserVersion="";r=window.devicePixelRatio||1;a.windowPixelResolution={width:r*(window.innerWidth||document.documentElement.clientWidth),height:r*
(window.innerHeight||document.documentElement.clientHeight)};a._checkWebGLRenderMode=function(){if(cc._renderType!==cc.game.RENDER_TYPE_WEBGL)throw Error("This feature supports WebGL render mode only.");};a._supportCanvasNewBlendModes=!1;r=a.capabilities={canvas:!1,opengl:!0};if(void 0!==n.ontouchstart||void 0!==e.ontouchstart||d.msPointerEnabled)r.touches=!0;void 0!==n.onmouseup&&(r.mouse=!0);void 0!==n.onkeyup&&(r.keyboard=!0);if(c.DeviceMotionEvent||c.DeviceOrientationEvent)r.accelerometer=!0;
a.garbageCollect=function(){};a.dumpRoot=function(){};a.restartVM=function(){};a.cleanScript=function(a){};a.isObjectValid=function(a){return a?!0:!1};a.dump=function(){var a;a=""+("isMobile : "+this.isMobile+"\r\n");a+="language : "+this.language+"\r\n";a+="browserType : "+this.browserType+"\r\n";a+="browserVersion : "+this.browserVersion+"\r\n";a+="capabilities : "+JSON.stringify(this.capabilities)+"\r\n";a+="os : "+this.os+"\r\n";a+="osVersion : "+this.osVersion+"\r\n";a+="platform : "+this.platform+
"\r\n";a+="Using "+(cc._renderType===cc.game.RENDER_TYPE_WEBGL?"WEBGL":"CANVAS")+" renderer.\r\n";cc.log(a)};a.openURL=function(a){window.open(a)}})();cc.log=cc.warn=cc.error=cc.assert=function(){};var d=!1,e=null;cc._engineLoaded=!1;cc.initEngine=function(f,g){if(d){var h=e;e=function(){h&&h();g&&g()}}else e=g,!cc.game.config&&f?cc.game.config=f:cc.game.config||cc.game._loadConfig(),f=cc.game.config,cc._renderType=cc.game.RENDER_TYPE_WEBGL,cc._supportRender=!0,document.body?a(f):cc._addEventListener(window,
"load",c,!1),d=!0}})();
cc.game={DEBUG_MODE_NONE:0,DEBUG_MODE_INFO:1,DEBUG_MODE_WARN:2,DEBUG_MODE_ERROR:3,DEBUG_MODE_INFO_FOR_WEB_PAGE:4,DEBUG_MODE_WARN_FOR_WEB_PAGE:5,DEBUG_MODE_ERROR_FOR_WEB_PAGE:6,EVENT_HIDE:"game_on_hide",EVENT_SHOW:"game_on_show",EVENT_RESIZE:"game_on_resize",EVENT_RENDERER_INITED:"renderer_inited",RENDER_TYPE_CANVAS:0,RENDER_TYPE_WEBGL:1,RENDER_TYPE_OPENGL:2,_eventHide:null,_eventShow:null,CONFIG_KEY:{width:"width",height:"height",engineDir:"engineDir",modules:"modules",debugMode:"debugMode",showFPS:"showFPS",
frameRate:"frameRate",id:"id",renderMode:"renderMode",jsList:"jsList"},_paused:!0,_prepareCalled:!1,_prepared:!1,_rendererInitialized:!1,_renderContext:null,_intervalId:null,_lastTime:null,_frameTime:null,frame:null,container:null,canvas:null,config:null,onStart:null,onStop:null,setFrameRate:function(a){this.config[this.CONFIG_KEY.frameRate]=a;this._intervalId&&window.cancelAnimationFrame(this._intervalId);this._paused=!0;this._setAnimFrame();this._runMainLoop()},step:function(){cc.director.mainLoop()},
pause:function(){this._paused||(this._paused=!0,cc.audioEngine&&(cc.audioEngine.stopAllEffects(),cc.audioEngine.pauseMusic()),this._intervalId&&window.cancelAnimationFrame(this._intervalId),this._intervalId=0)},resume:function(){this._paused&&(this._paused=!1,cc.audioEngine&&cc.audioEngine.resumeMusic(),this._runMainLoop())},isPaused:function(){return this._paused},restart:function(){cc.director.popToSceneStackLevel(0);cc.audioEngine&&cc.audioEngine.end();cc.game.onStart()},end:function(){close()},
prepare:function(a){var c=this,d=c.config,e=c.CONFIG_KEY;this._loadConfig();this._prepared?a&&a():this._prepareCalled||(cc._engineLoaded?(this._prepareCalled=!0,this._initRenderer(d[e.width],d[e.height]),cc.view=cc.EGLView._getInstance(),cc.director=cc.Director._getInstance(),cc.director.setOpenGLView&&cc.director.setOpenGLView(cc.view),cc.winSize=cc.director.getWinSize(),this._initEvents(),this._setAnimFrame(),this._runMainLoop(),a&&a()):cc.initEngine(this.config,function(){c.prepare(a)}))},run:function(a,
c){"function"===typeof a?cc.game.onStart=a:(a&&("string"===typeof a?(cc.game.config||this._loadConfig(),cc.game.config[cc.game.CONFIG_KEY.id]=a):cc.game.config=a),"function"===typeof c&&(cc.game.onStart=c));this.prepare(cc.game.onStart&&cc.game.onStart.bind(cc.game))},_setAnimFrame:function(){this._lastTime=new Date;this._frameTime=1E3/cc.game.config[cc.game.CONFIG_KEY.frameRate];this._isLowMode=60!==cc.game.config[cc.game.CONFIG_KEY.frameRate];this._isDoubleLoop=!1;window.requestAnimFrame=window.requestAnimationFrame||
window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||this._stTime;window.cancelAnimationFrame=window.cancelAnimationFrame||window.cancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.oCancelAnimationFrame||
this._ctTime},_stTime:function(a){var c=(new Date).getTime(),d=Math.max(0,cc.game._frameTime-(c-cc.game._lastTime)),e=window.setTimeout(function(){a()},d);cc.game._lastTime=c+d;return e},_ctTime:function(a){window.clearTimeout(a)},_runMainLoop:function(){var a=this,c,d=cc.director;d.setDisplayStats(a.config[a.CONFIG_KEY.showFPS]);c=function(){a._paused||(a._isDoubleLoop=!a._isDoubleLoop,a._isLowMode&&!a._isDoubleLoop||d.mainLoop(),a._intervalId&&window.cancelAnimationFrame(a._intervalId),a._intervalId=
window.requestAnimFrame(c))};window.requestAnimFrame(c);a._paused=!1},_loadConfig:function(){this.config?this._initConfig(this.config):this._initConfig(wxConfig.projectConfig)},_initConfig:function(a){var c=this.CONFIG_KEY,d=a[c.modules];a[c.showFPS]="undefined"===typeof a[c.showFPS]?!0:a[c.showFPS];a[c.engineDir]=a[c.engineDir]||"frameworks/cocos2d-html5";null==a[c.debugMode]&&(a[c.debugMode]=0);a[c.frameRate]=a[c.frameRate]||60;null==a[c.renderMode]&&(a[c.renderMode]=0);null==a[c.registerSystemEvent]&&
(a[c.registerSystemEvent]=!0);d&&0>d.indexOf("core")&&d.splice(0,0,"core");d&&(a[c.modules]=d);this.config=a},_initRenderer:function(a,c){if(!this._rendererInitialized){if(!cc._supportRender)throw Error("The renderer doesn't support the renderMode "+this.config[this.CONFIG_KEY.renderMode]);var d=window,e=window.canvas,f;a=a||e.width;c=c||e.height;this.canvas=cc._canvas=e;this.container=cc.container=f=document.createElement("DIV");e.parentNode&&e.parentNode.insertBefore(f,e);f.setAttribute("id","Cocos2dGameContainer");
f.appendChild(e);this.frame=f.parentNode===document.body?document.documentElement:f.parentNode;e.setAttribute("width",a||480);e.setAttribute("height",c||320);e.setAttribute("tabindex",99);cc._renderType===cc.game.RENDER_TYPE_WEBGL&&(this._renderContext=cc._renderContext=cc.webglContext=cc.create3DContext(e,{alpha:!1}),cc.labelTTFCanvas=wx.createCanvas(),cc.labelTTFCanvas.width=1,cc.labelTTFCanvas.height=1,cc.labelTTFContext=cc.labelTTFCanvas.getContext("2d"));this._renderContext?(cc.renderer=cc.rendererWebGL,
d.gl=this._renderContext,cc.renderer.init(),cc.shaderCache._init(),cc._drawingUtil=new cc.DrawingPrimitiveWebGL(this._renderContext),cc.textureCache._initializingRenderer(),cc.glExt={},cc.glExt.instanced_arrays=d.gl.getExtension("ANGLE_instanced_arrays"),cc.glExt.element_uint=d.gl.getExtension("OES_element_index_uint")):(cc._renderType=cc.game.RENDER_TYPE_CANVAS,cc.renderer=cc.rendererCanvas,this._renderContext=cc._renderContext=new cc.CanvasContextWrapper(e.getContext("2d")),cc._drawingUtil=cc.DrawingPrimitiveCanvas?
new cc.DrawingPrimitiveCanvas(this._renderContext):null);cc._gameDiv=f;cc.game.canvas.oncontextmenu=function(){if(!cc._isContextMenuEnable)return!1};this.dispatchEvent(this.EVENT_RENDERER_INITED,!0);this._rendererInitialized=!0}},_initEvents:function(){var a=window,c,d;this._eventHide=this._eventHide||new cc.EventCustom(this.EVENT_HIDE);this._eventHide.setUserData(this);this._eventShow=this._eventShow||new cc.EventCustom(this.EVENT_SHOW);this._eventShow.setUserData(this);this.config[this.CONFIG_KEY.registerSystemEvent]&&
cc.inputManager.registerSystemEvent(this.canvas);cc.isUndefined(document.hidden)?cc.isUndefined(document.mozHidden)?cc.isUndefined(document.msHidden)?cc.isUndefined(document.webkitHidden)||(c="webkitHidden",d="webkitvisibilitychange"):(c="msHidden",d="msvisibilitychange"):(c="mozHidden",d="mozvisibilitychange"):(c="hidden",d="visibilitychange");var e=function(){cc.eventManager&&cc.game._eventHide&&cc.eventManager.dispatchEvent(cc.game._eventHide)},f=function(){cc.eventManager&&cc.game._eventShow&&
cc.eventManager.dispatchEvent(cc.game._eventShow)};c?document.addEventListener(d,function(){document[c]?e():f()},!1):(a.addEventListener("blur",e,!1),a.addEventListener("focus",f,!1));-1<navigator.userAgent.indexOf("MicroMessenger")&&(a.onfocus=function(){f()});"onpageshow"in window&&"onpagehide"in window&&(a.addEventListener("pagehide",e,!1),a.addEventListener("pageshow",f,!1));cc.eventManager.addCustomListener(cc.game.EVENT_HIDE,function(){cc.game.pause()});cc.eventManager.addCustomListener(cc.game.EVENT_SHOW,
function(){cc.game.resume()})}};Function.prototype.bind=Function.prototype.bind||function(a){if(!cc.isFunction(this))throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var c=Array.prototype.slice.call(arguments,1),d=this,e=function(){},f=function(){return d.apply(this instanceof e&&a?this:a,c.concat(Array.prototype.slice.call(arguments)))};e.prototype=this.prototype;f.prototype=new e;return f};
cc._urlRegExp=RegExp("^(?:(?:https?|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))|(?:localhost))(?::\\d{2,5})?(?:/\\S*)?$","i");cc.EventHelper=function(){};
cc.EventHelper.prototype={constructor:cc.EventHelper,apply:function(a){a.addEventListener=cc.EventHelper.prototype.addEventListener;a.hasEventListener=cc.EventHelper.prototype.hasEventListener;a.removeEventListener=cc.EventHelper.prototype.removeEventListener;a.dispatchEvent=cc.EventHelper.prototype.dispatchEvent},addEventListener:function(a,c,d){if("load"===a&&this._textureLoaded)setTimeout(function(){c.call(d)},0);else{void 0===this._listeners&&(this._listeners={});var e=this._listeners;void 0===
e[a]&&(e[a]=[]);this.hasEventListener(a,c,d)||e[a].push({callback:c,eventTarget:d})}},hasEventListener:function(a,c,d){if(void 0===this._listeners)return!1;var e=this._listeners;if(void 0!==e[a]){a=0;for(var f=e.length;a<f;a++){var g=e[a];if(g.callback===c&&g.eventTarget===d)return!0}}return!1},removeEventListener:function(a,c,d){if(void 0!==this._listeners&&(a=this._listeners[a],void 0!==a))for(var e=0;e<a.length;){var f=a[e];f.eventTarget===d&&f.callback===c?a.splice(e,1):e++}},removeEventTarget:function(a,
c,d){if(void 0!==this._listeners&&(a=this._listeners[a],void 0!==a))for(c=0;c<a.length;)a[c].eventTarget===d?a.splice(c,1):c++},dispatchEvent:function(a,c){if(void 0!==this._listeners){null==c&&(c=!0);var d=this._listeners[a];if(void 0!==d){for(var e=[],f=d.length,g=0;g<f;g++)e[g]=d[g];for(g=0;g<f;g++)e[g].callback.call(e[g].eventTarget,this);c&&(d.length=0)}}}};cc.EventHelper.prototype.apply(cc.game);cc._LogInfos={ActionManager_addAction:"cc.ActionManager.addAction(): action must be non-null",ActionManager_removeAction:"cocos2d: removeAction: Target not found",ActionManager_removeActionByTag:"cc.ActionManager.removeActionByTag(): an invalid tag",ActionManager_removeActionByTag_2:"cc.ActionManager.removeActionByTag(): target must be non-null",ActionManager_getActionByTag:"cc.ActionManager.getActionByTag(): an invalid tag",ActionManager_getActionByTag_2:"cocos2d : getActionByTag(tag \x3d %s): Action not found",
configuration_dumpInfo:"cocos2d: **** WARNING **** CC_ENABLE_PROFILERS is defined. Disable it when you finish profiling (from ccConfig.js)",configuration_loadConfigFile:"Expected 'data' dict, but not found. Config file: %s",configuration_loadConfigFile_2:"Please load the resource first : %s",Director_resume:"cocos2d: Director: Error in gettimeofday",Director_setProjection:"cocos2d: Director: unrecognized projection",Director_popToSceneStackLevel:"cocos2d: Director: unrecognized projection",Director_popToSceneStackLevel_2:"cocos2d: Director: Error in gettimeofday",
Director_popScene:"running scene should not null",Director_pushScene:"the scene should not null",arrayVerifyType:"element type is wrong!",Scheduler_scheduleCallbackForTarget:"CCSheduler#scheduleCallback. Callback already scheduled. Updating interval from:%s to %s",Scheduler_scheduleCallbackForTarget_2:"cc.scheduler.scheduleCallbackForTarget(): callback_fn should be non-null.",Scheduler_scheduleCallbackForTarget_3:"cc.scheduler.scheduleCallbackForTarget(): target should be non-null.",Scheduler_pauseTarget:"cc.Scheduler.pauseTarget():target should be non-null",
Scheduler_resumeTarget:"cc.Scheduler.resumeTarget():target should be non-null",Scheduler_isTargetPaused:"cc.Scheduler.isTargetPaused():target should be non-null",Node_getZOrder:"getZOrder is deprecated. Please use getLocalZOrder instead.",Node_setZOrder:"setZOrder is deprecated. Please use setLocalZOrder instead.",Node_getRotation:"RotationX !\x3d RotationY. Don't know which one to return",Node_getScale:"ScaleX !\x3d ScaleY. Don't know which one to return",Node_addChild:"An Node can't be added as a child of itself.",
Node_addChild_2:"child already added. It can't be added again",Node_addChild_3:"child must be non-null",Node_removeFromParentAndCleanup:"removeFromParentAndCleanup is deprecated. Use removeFromParent instead",Node_boundingBox:"boundingBox is deprecated. Use getBoundingBox instead",Node_removeChildByTag:"argument tag is an invalid tag",Node_removeChildByTag_2:"cocos2d: removeChildByTag(tag \x3d %s): child not found!",Node_removeAllChildrenWithCleanup:"removeAllChildrenWithCleanup is deprecated. Use removeAllChildren instead",
Node_stopActionByTag:"cc.Node.stopActionBy(): argument tag an invalid tag",Node_getActionByTag:"cc.Node.getActionByTag(): argument tag is an invalid tag",Node_resumeSchedulerAndActions:"resumeSchedulerAndActions is deprecated, please use resume instead.",Node_pauseSchedulerAndActions:"pauseSchedulerAndActions is deprecated, please use pause instead.",Node__arrayMakeObjectsPerformSelector:"Unknown callback function",Node_reorderChild:"child must be non-null",Node_runAction:"cc.Node.runAction(): action must be non-null",
Node_schedule:"callback function must be non-null",Node_schedule_2:"interval must be positive",Node_initWithTexture:"cocos2d: Could not initialize cc.AtlasNode. Invalid Texture.",AtlasNode_updateAtlasValues:"cc.AtlasNode.updateAtlasValues(): Shall be overridden in subclasses",AtlasNode_initWithTileFile:"",AtlasNode__initWithTexture:"cocos2d: Could not initialize cc.AtlasNode. Invalid Texture.",_EventListenerKeyboard_checkAvailable:"cc._EventListenerKeyboard.checkAvailable(): Invalid EventListenerKeyboard!",
_EventListenerTouchOneByOne_checkAvailable:"cc._EventListenerTouchOneByOne.checkAvailable(): Invalid EventListenerTouchOneByOne!",_EventListenerTouchAllAtOnce_checkAvailable:"cc._EventListenerTouchAllAtOnce.checkAvailable(): Invalid EventListenerTouchAllAtOnce!",_EventListenerAcceleration_checkAvailable:"cc._EventListenerAcceleration.checkAvailable(): _onAccelerationEvent must be non-nil",EventListener_create:"Invalid parameter.",__getListenerID:"Don't call this method if the event is for touch.",
eventManager__forceAddEventListener:"Invalid scene graph priority!",eventManager_addListener:"0 priority is forbidden for fixed priority since it's used for scene graph based priority.",eventManager_removeListeners:"Invalid listener type!",eventManager_setPriority:"Can't set fixed priority with scene graph based listener.",eventManager_addListener_2:"Invalid parameters.",eventManager_addListener_3:"listener must be a cc.EventListener object when adding a fixed priority listener",eventManager_addListener_4:"The listener has been registered, please don't register it again.",
LayerMultiplex_initWithLayers:"parameters should not be ending with null in Javascript",LayerMultiplex_switchTo:"Invalid index in MultiplexLayer switchTo message",LayerMultiplex_switchToAndReleaseMe:"Invalid index in MultiplexLayer switchTo message",LayerMultiplex_addLayer:"cc.Layer.addLayer(): layer should be non-null",EGLView_setDesignResolutionSize:"Resolution not valid",EGLView_setDesignResolutionSize_2:"should set resolutionPolicy",inputManager_handleTouchesBegin:"The touches is more than MAX_TOUCHES, nUnusedIndex \x3d %s",
swap:"cc.swap is being modified from original macro, please check usage",checkGLErrorDebug:"WebGL error %s",animationCache__addAnimationsWithDictionary:"cocos2d: cc.AnimationCache: No animations were found in provided dictionary.",animationCache__addAnimationsWithDictionary_2:"cc.AnimationCache. Invalid animation format",animationCache_addAnimations:"cc.AnimationCache.addAnimations(): File could not be found",animationCache__parseVersion1:"cocos2d: cc.AnimationCache: Animation '%s' found in dictionary without any frames - cannot add to animation cache.",
animationCache__parseVersion1_2:"cocos2d: cc.AnimationCache: Animation '%s' refers to frame '%s' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.",animationCache__parseVersion1_3:"cocos2d: cc.AnimationCache: None of the frames for animation '%s' were found in the cc.SpriteFrameCache. Animation is not being added to the Animation Cache.",animationCache__parseVersion1_4:"cocos2d: cc.AnimationCache: An animation in your dictionary refers to a frame which is not in the cc.SpriteFrameCache. Some or all of the frames for the animation '%s' may be missing.",
animationCache__parseVersion2:"cocos2d: CCAnimationCache: Animation '%s' found in dictionary without any frames - cannot add to animation cache.",animationCache__parseVersion2_2:"cocos2d: cc.AnimationCache: Animation '%s' refers to frame '%s' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.",animationCache_addAnimations_2:"cc.AnimationCache.addAnimations(): Invalid texture file name",Sprite_reorderChild:"cc.Sprite.reorderChild(): this child is not in children list",
Sprite_ignoreAnchorPointForPosition:"cc.Sprite.ignoreAnchorPointForPosition(): it is invalid in cc.Sprite when using SpriteBatchNode",Sprite_setDisplayFrameWithAnimationName:"cc.Sprite.setDisplayFrameWithAnimationName(): Frame not found",Sprite_setDisplayFrameWithAnimationName_2:"cc.Sprite.setDisplayFrameWithAnimationName(): Invalid frame index",Sprite_setDisplayFrame:"setDisplayFrame is deprecated, please use setSpriteFrame instead.",Sprite__updateBlendFunc:"cc.Sprite._updateBlendFunc(): _updateBlendFunc doesn't work when the sprite is rendered using a cc.CCSpriteBatchNode",
Sprite_initWithSpriteFrame:"cc.Sprite.initWithSpriteFrame(): spriteFrame should be non-null",Sprite_initWithSpriteFrameName:"cc.Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null",Sprite_initWithSpriteFrameName1:" is null, please check.",Sprite_initWithFile:"cc.Sprite.initWithFile(): filename should be non-null",Sprite_setDisplayFrameWithAnimationName_3:"cc.Sprite.setDisplayFrameWithAnimationName(): animationName must be non-null",Sprite_reorderChild_2:"cc.Sprite.reorderChild(): child should be non-null",
Sprite_addChild:"cc.Sprite.addChild(): cc.Sprite only supports cc.Sprites as children when using cc.SpriteBatchNode",Sprite_addChild_2:"cc.Sprite.addChild(): cc.Sprite only supports a sprite using same texture as children when using cc.SpriteBatchNode",Sprite_addChild_3:"cc.Sprite.addChild(): child should be non-null",Sprite_setTexture:"cc.Sprite.texture setter: Batched sprites should use the same texture as the batchnode",Sprite_updateQuadFromSprite:"cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children",
Sprite_insertQuadFromSprite:"cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children",Sprite_addChild_4:"cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children",Sprite_addChild_5:"cc.SpriteBatchNode.addChild(): cc.Sprite is not using the same texture",Sprite_initWithTexture:"Sprite.initWithTexture(): Argument must be non-nil ",Sprite_setSpriteFrame:"Invalid spriteFrameName",Sprite_setTexture_2:"Invalid argument: cc.Sprite.texture setter expects a CCTexture2D.",
Sprite_updateQuadFromSprite_2:"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null",Sprite_insertQuadFromSprite_2:"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null",SpriteBatchNode_addSpriteWithoutQuad:"cc.SpriteBatchNode.addQuadFromSprite(): SpriteBatchNode only supports cc.Sprites as children",SpriteBatchNode_increaseAtlasCapacity:"cocos2d: CCSpriteBatchNode: resizing TextureAtlas capacity from %s to %s.",SpriteBatchNode_increaseAtlasCapacity_2:"cocos2d: WARNING: Not enough memory to resize the atlas",
SpriteBatchNode_reorderChild:"cc.SpriteBatchNode.addChild(): Child doesn't belong to Sprite",SpriteBatchNode_removeChild:"cc.SpriteBatchNode.addChild(): sprite batch node should contain the child",SpriteBatchNode_addSpriteWithoutQuad_2:"cc.SpriteBatchNode.addQuadFromSprite(): child should be non-null",SpriteBatchNode_reorderChild_2:"cc.SpriteBatchNode.addChild(): child should be non-null",spriteFrameCache__getFrameConfig:"cocos2d: WARNING: originalWidth/Height not found on the cc.SpriteFrame. AnchorPoint won't work as expected. Regenrate the .plist",
spriteFrameCache_addSpriteFrames:"cocos2d: WARNING: an alias with name %s already exists",spriteFrameCache__checkConflict:"cocos2d: WARNING: Sprite frame: %s has already been added by another source, please fix name conflit",spriteFrameCache_getSpriteFrame:"cocos2d: cc.SpriteFrameCahce: Frame %s not found",spriteFrameCache__getFrameConfig_2:"Please load the resource first : %s",spriteFrameCache_addSpriteFrames_2:"cc.SpriteFrameCache.addSpriteFrames(): plist should be non-null",spriteFrameCache_addSpriteFrames_3:"Argument must be non-nil",
CCSpriteBatchNode_updateQuadFromSprite:"cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children",CCSpriteBatchNode_insertQuadFromSprite:"cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children",CCSpriteBatchNode_addChild:"cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children",CCSpriteBatchNode_initWithTexture:"Sprite.initWithTexture(): Argument must be non-nil ",CCSpriteBatchNode_addChild_2:"cc.Sprite.addChild(): child should be non-null",
CCSpriteBatchNode_setSpriteFrame:"Invalid spriteFrameName",CCSpriteBatchNode_setTexture:"Invalid argument: cc.Sprite texture setter expects a CCTexture2D.",CCSpriteBatchNode_updateQuadFromSprite_2:"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null",CCSpriteBatchNode_insertQuadFromSprite_2:"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null",CCSpriteBatchNode_addChild_3:"cc.SpriteBatchNode.addChild(): child should be non-null",TextureAtlas_initWithFile:"cocos2d: Could not open file: %s",
TextureAtlas_insertQuad:"cc.TextureAtlas.insertQuad(): invalid totalQuads",TextureAtlas_initWithTexture:"cc.TextureAtlas.initWithTexture():texture should be non-null",TextureAtlas_updateQuad:"cc.TextureAtlas.updateQuad(): quad should be non-null",TextureAtlas_updateQuad_2:"cc.TextureAtlas.updateQuad(): Invalid index",TextureAtlas_insertQuad_2:"cc.TextureAtlas.insertQuad(): Invalid index",TextureAtlas_insertQuads:"cc.TextureAtlas.insertQuad(): Invalid index + amount",TextureAtlas_insertQuadFromIndex:"cc.TextureAtlas.insertQuadFromIndex(): Invalid newIndex",
TextureAtlas_insertQuadFromIndex_2:"cc.TextureAtlas.insertQuadFromIndex(): Invalid fromIndex",TextureAtlas_removeQuadAtIndex:"cc.TextureAtlas.removeQuadAtIndex(): Invalid index",TextureAtlas_removeQuadsAtIndex:"cc.TextureAtlas.removeQuadsAtIndex(): index + amount out of bounds",TextureAtlas_moveQuadsFromIndex:"cc.TextureAtlas.moveQuadsFromIndex(): move is out of bounds",TextureAtlas_moveQuadsFromIndex_2:"cc.TextureAtlas.moveQuadsFromIndex(): Invalid newIndex",TextureAtlas_moveQuadsFromIndex_3:"cc.TextureAtlas.moveQuadsFromIndex(): Invalid oldIndex",
textureCache_addPVRTCImage:"TextureCache:addPVRTCImage does not support on HTML5",textureCache_addETCImage:"TextureCache:addPVRTCImage does not support on HTML5",textureCache_textureForKey:"textureForKey is deprecated. Please use getTextureForKey instead.",textureCache_addPVRImage:"addPVRImage does not support on HTML5",textureCache_addUIImage:"cocos2d: Couldn't add UIImage in TextureCache",textureCache_dumpCachedTextureInfo:"cocos2d: '%s' id\x3d%s %s x %s",textureCache_dumpCachedTextureInfo_2:"cocos2d: '%s' id\x3d HTMLCanvasElement %s x %s",
textureCache_dumpCachedTextureInfo_3:"cocos2d: TextureCache dumpDebugInfo: %s textures, HTMLCanvasElement for %s KB (%s MB)",textureCache_addUIImage_2:"cc.Texture.addUIImage(): image should be non-null",Texture2D_initWithETCFile:"initWithETCFile does not support on HTML5",Texture2D_initWithPVRFile:"initWithPVRFile does not support on HTML5",Texture2D_initWithPVRTCData:"initWithPVRTCData does not support on HTML5",Texture2D_addImage:"cc.Texture.addImage(): path should be non-null",Texture2D_initWithImage:"cocos2d: cc.Texture2D. Can't create Texture. UIImage is nil",
Texture2D_initWithImage_2:"cocos2d: WARNING: Image (%s x %s) is bigger than the supported %s x %s",Texture2D_initWithString:"initWithString isn't supported on cocos2d-html5",Texture2D_initWithETCFile_2:"initWithETCFile does not support on HTML5",Texture2D_initWithPVRFile_2:"initWithPVRFile does not support on HTML5",Texture2D_initWithPVRTCData_2:"initWithPVRTCData does not support on HTML5",Texture2D_bitsPerPixelForFormat:"bitsPerPixelForFormat: %s, cannot give useful result, it's a illegal pixel format",
Texture2D__initPremultipliedATextureWithImage:"cocos2d: cc.Texture2D: Using RGB565 texture since image has no alpha",Texture2D_addImage_2:"cc.Texture.addImage(): path should be non-null",Texture2D_initWithData:"NSInternalInconsistencyException",MissingFile:"Missing file: %s",radiansToDegress:"cc.radiansToDegress() should be called cc.radiansToDegrees()",RectWidth:"Rect width exceeds maximum margin: %s",RectHeight:"Rect height exceeds maximum margin: %s",EventManager__updateListeners:"If program goes here, there should be event in dispatch.",
EventManager__updateListeners_2:"_inDispatch should be 1 here."};cc._initDebugSetting=function(a){var c=cc.game;a!==c.DEBUG_MODE_NONE&&(cc.error=Function.prototype.bind.call(console.error,console),cc.assert=Function.prototype.bind.call(console.assert,console),a!==c.DEBUG_MODE_ERROR&&(cc.warn=Function.prototype.bind.call(console.warn,console)),a===c.DEBUG_MODE_INFO&&(cc.log=Function.prototype.bind.call(console.log,console)))};var myVBScript,IEBinaryToArray_ByteStr_Script;cc.loader.loadBinary=function(a,c){wxResManager.loadBinary(a,c)};var cc=cc||{},ClassManager={id:0|998*Math.random(),instanceId:0|998*Math.random(),getNewID:function(){return this.id++},getNewInstanceId:function(){return this.instanceId++}};
(function(){var a=/\b_super\b/;cc.Class=function(){};cc.Class.extend=function(c){function d(){this.__instanceId=ClassManager.getNewInstanceId();this.ctor&&this.ctor.apply(this,arguments)}var e=this.prototype,f=Object.create(e),g=ClassManager.getNewID();ClassManager[g]=e;var h={writable:!0,enumerable:!1,configurable:!0};f.__instanceId=null;d.id=g;h.value=g;Object.defineProperty(f,"__pid",h);d.prototype=f;h.value=d;Object.defineProperty(d.prototype,"constructor",h);this.__getters__&&(d.__getters__=
cc.clone(this.__getters__));this.__setters__&&(d.__setters__=cc.clone(this.__setters__));for(var g=0,m=arguments.length;g<m;++g){var n=arguments[g],r;for(r in n){var s="function"===typeof n[r],t="function"===typeof e[r],u=a.test(n[r]);s&&t&&u?(h.value=function(a,c){return function(){var d=this._super;this._super=e[a];var f=c.apply(this,arguments);this._super=d;return f}}(r,n[r]),Object.defineProperty(f,r,h)):s?(h.value=n[r],Object.defineProperty(f,r,h)):f[r]=n[r];if(s){var w,z;if(this.__getters__&&
this.__getters__[r]){var s=this.__getters__[r],A;for(A in this.__setters__)if(this.__setters__[A]===s){z=A;break}cc.defineGetterSetter(f,s,n[r],n[z]?n[z]:f[z],r,z)}if(this.__setters__&&this.__setters__[r]){s=this.__setters__[r];for(A in this.__getters__)if(this.__getters__[A]===s){w=A;break}cc.defineGetterSetter(f,s,n[w]?n[w]:f[w],n[r],w,r)}}}}d.extend=cc.Class.extend;d.implement=function(a){for(var c in a)f[c]=a[c]};return d}})();
cc.defineGetterSetter=function(a,c,d,e,f,g){if(a.__defineGetter__)d&&a.__defineGetter__(c,d),e&&a.__defineSetter__(c,e);else if(Object.defineProperty){var h={enumerable:!1,configurable:!0};d&&(h.get=d);e&&(h.set=e);Object.defineProperty(a,c,h)}else throw Error("browser does not support getters");if(!f&&!g)for(var h=null!=d,m=void 0!=e,n=Object.getOwnPropertyNames(a),r=0;r<n.length;r++){var s=n[r];if((a.__lookupGetter__?!a.__lookupGetter__(s):!Object.getOwnPropertyDescriptor(a,s))&&"function"===typeof a[s]){var t=
a[s];if(h&&t===d&&(f=s,!m||g))break;if(m&&t===e&&(g=s,!h||f))break}}a=a.constructor;f&&(a.__getters__||(a.__getters__={}),a.__getters__[f]=c);g&&(a.__setters__||(a.__setters__={}),a.__setters__[g]=c)};cc.clone=function(a){var c=a.constructor?new a.constructor:{},d;for(d in a){var e=a[d];c[d]="object"!==typeof e||!e||e instanceof cc.Node||e instanceof HTMLElement?e:cc.clone(e)}return c};cc.inject=function(a,c){for(var d in a)c[d]=a[d]};cc=cc||{};cc._tmp=cc._tmp||{};cc.associateWithNative=function(a,c){};cc.FMT_JPG=0;cc.FMT_PNG=1;cc.FMT_TIFF=2;cc.FMT_RAWDATA=3;cc.FMT_WEBP=4;cc.FMT_UNKNOWN=5;cc.getImageFormatByData=function(a){return 8<a.length&&137===a[0]&&80===a[1]&&78===a[2]&&71===a[3]&&13===a[4]&&10===a[5]&&26===a[6]&&10===a[7]?cc.FMT_PNG:2<a.length&&(73===a[0]&&73===a[1]||77===a[0]&&77===a[1]||255===a[0]&&216===a[1])?cc.FMT_TIFF:cc.FMT_UNKNOWN};
cc.inherits=function(a,c){function d(){}d.prototype=c.prototype;a.superClass_=c.prototype;a.prototype=new d;a.prototype.constructor=a};
cc.base=function(a,c,d){var e=arguments.callee.caller;if(e.superClass_)return ret=e.superClass_.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var f=Array.prototype.slice.call(arguments,2),g=!1,h=a.constructor;h;h=h.superClass_&&h.superClass_.constructor)if(h.prototype[c]===e)g=!0;else if(g)return h.prototype[c].apply(a,f);if(a[c]===e)return a.constructor.prototype[c].apply(a,f);throw Error("cc.base called from a method of one name to a method of a different name");};cc.Point=function(a,c){this.x=a||0;this.y=c||0};cc.p=function(a,c){return void 0===a?{x:0,y:0}:void 0===c?{x:a.x,y:a.y}:{x:a,y:c}};cc.pointEqualToPoint=function(a,c){return a&&c&&a.x===c.x&&a.y===c.y};cc.Size=function(a,c){this.width=a||0;this.height=c||0};cc.size=function(a,c){return void 0===a?{width:0,height:0}:void 0===c?{width:a.width,height:a.height}:{width:a,height:c}};cc.sizeEqualToSize=function(a,c){return a&&c&&a.width===c.width&&a.height===c.height};
cc.Rect=function(a,c,d,e){this.x=a||0;this.y=c||0;this.width=d||0;this.height=e||0};cc.rect=function(a,c,d,e){return void 0===a?{x:0,y:0,width:0,height:0}:void 0===c?{x:a.x,y:a.y,width:a.width,height:a.height}:{x:a,y:c,width:d,height:e}};cc.rectEqualToRect=function(a,c){return a&&c&&a.x===c.x&&a.y===c.y&&a.width===c.width&&a.height===c.height};cc._rectEqualToZero=function(a){return a&&0===a.x&&0===a.y&&0===a.width&&0===a.height};
cc.rectContainsRect=function(a,c){return a&&c?!(a.x>=c.x||a.y>=c.y||a.x+a.width<=c.x+c.width||a.y+a.height<=c.y+c.height):!1};cc.rectGetMaxX=function(a){return a.x+a.width};cc.rectGetMidX=function(a){return a.x+a.width/2};cc.rectGetMinX=function(a){return a.x};cc.rectGetMaxY=function(a){return a.y+a.height};cc.rectGetMidY=function(a){return a.y+a.height/2};cc.rectGetMinY=function(a){return a.y};
cc.rectContainsPoint=function(a,c){return c.x>=cc.rectGetMinX(a)&&c.x<=cc.rectGetMaxX(a)&&c.y>=cc.rectGetMinY(a)&&c.y<=cc.rectGetMaxY(a)};cc.rectIntersectsRect=function(a,c){var d=a.y+a.height,e=c.x+c.width,f=c.y+c.height;return!(a.x+a.width<c.x||e<a.x||d<c.y||f<a.y)};cc.rectOverlapsRect=function(a,c){return!(a.x+a.width<c.x||c.x+c.width<a.x||a.y+a.height<c.y||c.y+c.height<a.y)};
cc.rectUnion=function(a,c){var d=cc.rect(0,0,0,0);d.x=Math.min(a.x,c.x);d.y=Math.min(a.y,c.y);d.width=Math.max(a.x+a.width,c.x+c.width)-d.x;d.height=Math.max(a.y+a.height,c.y+c.height)-d.y;return d};cc.rectIntersection=function(a,c){var d=cc.rect(Math.max(cc.rectGetMinX(a),cc.rectGetMinX(c)),Math.max(cc.rectGetMinY(a),cc.rectGetMinY(c)),0,0);d.width=Math.min(cc.rectGetMaxX(a),cc.rectGetMaxX(c))-cc.rectGetMinX(d);d.height=Math.min(cc.rectGetMaxY(a),cc.rectGetMaxY(c))-cc.rectGetMinY(d);return d};cc.SAXParser=cc.Class.extend({_parser:null,_isSupportDOMParser:null,ctor:function(){window.DOMParser?(this._isSupportDOMParser=!0,this._parser=new DOMParser):this._isSupportDOMParser=!1},parse:function(a){return this._parseXML(a)},_parseXML:function(a){var c;this._isSupportDOMParser?c=this._parser.parseFromString(a,"text/xml"):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(a));return c}});cc.PlistParser=cc.SAXParser.extend({parse:function(a){return(new PlistDataParser(a)).data}});
cc.saxParser=new cc.SAXParser;cc.plistParser=new cc.PlistParser;cc._txtLoader={load:function(a,c,d,e){cc.loader.loadTxt(a,e)}};cc.loader.register(["txt","xml","vsh","fsh","atlas"],cc._txtLoader);cc._jsonLoader={load:function(a,c,d,e){cc.loader.loadJson(a,e)}};cc.loader.register(["json","ExportJson"],cc._jsonLoader);cc._jsLoader={load:function(a,c,d,e){cc.loader.loadJs(a,e)}};cc.loader.register(["js"],cc._jsLoader);
cc._imgLoader={load:function(a,c,d,e){d=cc.loader.isLoading(a)?e:function(a,d){if(a)return e(a);cc.loader.cache[c]=d;cc.textureCache.handleLoadedTexture(c);e(null,d)};cc.loader.loadImg(a,d)}};cc.loader.register("png jpg bmp jpeg gif ico tiff webp".split(" "),cc._imgLoader);cc._serverImgLoader={load:function(a,c,d,e){cc._imgLoader.load(d.src,c,d,e)}};cc.loader.register(["serverImg"],cc._serverImgLoader);
cc._plistLoader={load:function(a,c,d,e){cc.loader.loadTxt(a,function(a,c){if(a)return e(a);e(null,cc.plistParser.parse(c))})}};cc.loader.register(["plist"],cc._plistLoader);
cc._fontLoader={TYPE:{".eot":"embedded-opentype",".ttf":"truetype",".ttc":"truetype",".woff":"woff",".svg":"svg"},_loadFont:function(a,c,d){var e=document,f=cc.path,g=this.TYPE,h=document.createElement("style");h.type="text/css";e.body.appendChild(h);var m="",m=isNaN(a-0)?m+("@font-face { font-family:"+a+"; src:"):m+("@font-face { font-family:'"+a+"'; src:");if(c instanceof Array)for(var n=0,r=c.length;n<r;n++)d=f.extname(c[n]).toLowerCase(),m+="url('"+c[n]+"') format('"+g[d]+"')",m+=n===r-1?";":
",";else d=d.toLowerCase(),m+="url('"+c+"') format('"+g[d]+"');";h.textContent+=m+"}";c=document.createElement("div");d=c.style;d.fontFamily=a;c.innerHTML=".";d.position="absolute";d.left="-100px";d.top="-100px";e.body.appendChild(c)},load:function(a,c,d,e){c=d.type;a=d.name;c=d.srcs;cc.isString(d)?(c=cc.path.extname(d),a=cc.path.basename(d,c),this._loadFont(a,d,c)):this._loadFont(a,c);document.fonts?document.fonts.load("1em "+a).then(function(){e(null,!0)},function(a){e(a)}):e(null,!0)}};
cc.loader.register("font eot ttf woff svg ttc".split(" "),cc._fontLoader);cc._binaryLoader={load:function(a,c,d,e){cc.loader.loadBinary(a,e)}};cc._binary2Loader={load:function(a,c,d,e){cc.loader.loadBinary(a,e)}};cc._csbLoader={load:function(a,c,d,e){cc.loader.loadCsb(a,e)}};cc.loader.register(["csb"],cc._csbLoader);window.CocosEngine=cc.ENGINE_VERSION="Cocos2d-JS v3.13";cc.FIX_ARTIFACTS_BY_STRECHING_TEXEL=0;cc.DIRECTOR_STATS_POSITION=cc.p(0,0);cc.DIRECTOR_FPS_INTERVAL=0.5;cc.COCOSNODE_RENDER_SUBPIXEL=1;cc.SPRITEBATCHNODE_RENDER_SUBPIXEL=1;cc.OPTIMIZE_BLEND_FUNC_FOR_PREMULTIPLIED_ALPHA=1;cc.TEXTURE_ATLAS_USE_TRIANGLE_STRIP=0;cc.TEXTURE_ATLAS_USE_VAO=0;cc.TEXTURE_NPOT_SUPPORT=0;cc.RETINA_DISPLAY_SUPPORT=1;cc.RETINA_DISPLAY_FILENAME_SUFFIX="-hd";cc.USE_LA88_LABELS=1;cc.SPRITE_DEBUG_DRAW=0;
cc.SPRITEBATCHNODE_DEBUG_DRAW=0;cc.LABELBMFONT_DEBUG_DRAW=0;cc.LABELATLAS_DEBUG_DRAW=0;cc.IS_RETINA_DISPLAY_SUPPORTED=1;cc.DEFAULT_ENGINE=cc.ENGINE_VERSION+"-canvas";cc.ENABLE_STACKABLE_ACTIONS=1;cc.ENABLE_GL_STATE_CACHE=1;cc.INVALID_INDEX=-1;cc.PI=Math.PI;cc.FLT_MAX=parseFloat("3.402823466e+38F");cc.FLT_MIN=parseFloat("1.175494351e-38F");cc.RAD=cc.PI/180;cc.DEG=180/cc.PI;cc.UINT_MAX=4294967295;cc.swap=function(a,c,d){if(!cc.isObject(d)||cc.isUndefined(d.x)||cc.isUndefined(d.y))cc.log(cc._LogInfos.swap);else{var e=d[a];d[a]=d[c];d[c]=e}};cc.lerp=function(a,c,d){return a+(c-a)*d};cc.rand=function(){return 16777215*Math.random()};cc.randomMinus1To1=function(){return 2*(Math.random()-0.5)};cc.random0To1=Math.random;
cc.degreesToRadians=function(a){return a*cc.RAD};cc.radiansToDegrees=function(a){return a*cc.DEG};cc.radiansToDegress=function(a){cc.log(cc._LogInfos.radiansToDegress);return a*cc.DEG};cc.REPEAT_FOREVER=Number.MAX_VALUE-1;cc.nodeDrawSetup=function(a){a._shaderProgram&&(a._shaderProgram.use(),a._shaderProgram.setUniformForModelViewAndProjectionMatrixWithMat4())};cc.enableDefaultGLStates=function(){};cc.disableDefaultGLStates=function(){};cc.incrementGLDraws=function(a){cc.g_NumberOfDraws+=a};
cc.FLT_EPSILON=1.192092896E-7;cc.contentScaleFactor=cc.IS_RETINA_DISPLAY_SUPPORTED?function(){return cc.director.getContentScaleFactor()}:function(){return 1};cc.pointPointsToPixels=function(a){var c=cc.contentScaleFactor();return cc.p(a.x*c,a.y*c)};cc.pointPixelsToPoints=function(a){var c=cc.contentScaleFactor();return cc.p(a.x/c,a.y/c)};cc._pointPixelsToPointsOut=function(a,c){var d=cc.contentScaleFactor();c.x=a.x/d;c.y=a.y/d};
cc.sizePointsToPixels=function(a){var c=cc.contentScaleFactor();return cc.size(a.width*c,a.height*c)};cc.sizePixelsToPoints=function(a){var c=cc.contentScaleFactor();return cc.size(a.width/c,a.height/c)};cc._sizePixelsToPointsOut=function(a,c){var d=cc.contentScaleFactor();c.width=a.width/d;c.height=a.height/d};cc.rectPixelsToPoints=cc.IS_RETINA_DISPLAY_SUPPORTED?function(a){var c=cc.contentScaleFactor();return cc.rect(a.x/c,a.y/c,a.width/c,a.height/c)}:function(a){return a};
cc.rectPointsToPixels=cc.IS_RETINA_DISPLAY_SUPPORTED?function(a){var c=cc.contentScaleFactor();return cc.rect(a.x*c,a.y*c,a.width*c,a.height*c)}:function(a){return a};cc.ONE=1;cc.ZERO=0;cc.SRC_ALPHA=770;cc.SRC_ALPHA_SATURATE=776;cc.SRC_COLOR=768;cc.DST_ALPHA=772;cc.DST_COLOR=774;cc.ONE_MINUS_SRC_ALPHA=771;cc.ONE_MINUS_SRC_COLOR=769;cc.ONE_MINUS_DST_ALPHA=773;cc.ONE_MINUS_DST_COLOR=775;cc.ONE_MINUS_CONSTANT_ALPHA=32772;cc.ONE_MINUS_CONSTANT_COLOR=32770;cc.LINEAR=9729;cc.REPEAT=10497;
cc.CLAMP_TO_EDGE=33071;cc.MIRRORED_REPEAT=33648;cc.BLEND_SRC=cc.SRC_ALPHA;cc.game.addEventListener(cc.game.EVENT_RENDERER_INITED,function(){cc._renderType===cc.game.RENDER_TYPE_WEBGL&&cc.OPTIMIZE_BLEND_FUNC_FOR_PREMULTIPLIED_ALPHA&&(cc.BLEND_SRC=cc.ONE)});cc.BLEND_DST=cc.ONE_MINUS_SRC_ALPHA;cc.checkGLErrorDebug=function(){if(cc.renderMode===cc.game.RENDER_TYPE_WEBGL){var a=cc._renderContext.getError();a&&cc.log(cc._LogInfos.checkGLErrorDebug,a)}};cc.ORIENTATION_PORTRAIT=1;
cc.ORIENTATION_LANDSCAPE=2;cc.ORIENTATION_AUTO=3;cc.VERTEX_ATTRIB_FLAG_NONE=0;cc.VERTEX_ATTRIB_FLAG_POSITION=1;cc.VERTEX_ATTRIB_FLAG_COLOR=2;cc.VERTEX_ATTRIB_FLAG_TEX_COORDS=4;cc.VERTEX_ATTRIB_FLAG_POS_COLOR_TEX=cc.VERTEX_ATTRIB_FLAG_POSITION|cc.VERTEX_ATTRIB_FLAG_COLOR|cc.VERTEX_ATTRIB_FLAG_TEX_COORDS;cc.GL_ALL=0;cc.VERTEX_ATTRIB_POSITION=0;cc.VERTEX_ATTRIB_COLOR=1;cc.VERTEX_ATTRIB_TEX_COORDS=2;cc.VERTEX_ATTRIB_MAX=7;cc.UNIFORM_PMATRIX=0;cc.UNIFORM_MVMATRIX=1;cc.UNIFORM_MVPMATRIX=2;
cc.UNIFORM_TIME=3;cc.UNIFORM_SINTIME=4;cc.UNIFORM_COSTIME=5;cc.UNIFORM_RANDOM01=6;cc.UNIFORM_SAMPLER=7;cc.UNIFORM_MAX=8;cc.SHADER_POSITION_TEXTURECOLOR="ShaderPositionTextureColor";cc.SHADER_SPRITE_POSITION_TEXTURECOLOR="ShaderSpritePositionTextureColor";cc.SHADER_POSITION_TEXTURECOLORALPHATEST="ShaderPositionTextureColorAlphaTest";cc.SHADER_SPRITE_POSITION_TEXTURECOLORALPHATEST="ShaderSpritePositionTextureColorAlphaTest";cc.SHADER_POSITION_COLOR="ShaderPositionColor";
cc.SHADER_SPRITE_POSITION_COLOR="ShaderSpritePositionColor";cc.SHADER_POSITION_TEXTURE="ShaderPositionTexture";cc.SHADER_POSITION_TEXTURE_UCOLOR="ShaderPositionTexture_uColor";cc.SHADER_POSITION_TEXTUREA8COLOR="ShaderPositionTextureA8Color";cc.SHADER_POSITION_UCOLOR="ShaderPosition_uColor";cc.SHADER_POSITION_LENGTHTEXTURECOLOR="ShaderPositionLengthTextureColor";cc.SHADER_SPRITE_POSITION_TEXTURECOLOR_CIRCLECLIP="ShaderSpritePositionTextureColorCircleClip";
cc.SHADER_SPRITE_POSITION_TEXTURECOLOR_GRAY="ShaderSpritePositionTextureColorGray";cc.UNIFORM_PMATRIX_S="CC_PMatrix";cc.UNIFORM_MVMATRIX_S="CC_MVMatrix";cc.UNIFORM_MVPMATRIX_S="CC_MVPMatrix";cc.UNIFORM_TIME_S="CC_Time";cc.UNIFORM_SINTIME_S="CC_SinTime";cc.UNIFORM_COSTIME_S="CC_CosTime";cc.UNIFORM_RANDOM01_S="CC_Random01";cc.UNIFORM_SAMPLER_S="CC_Texture0";cc.UNIFORM_ALPHA_TEST_VALUE_S="CC_alpha_value";cc.ATTRIBUTE_NAME_COLOR="a_color";cc.ATTRIBUTE_NAME_POSITION="a_position";
cc.ATTRIBUTE_NAME_TEX_COORD="a_texCoord";cc.ATTRIBUTE_NAME_MVMAT="a_mvMatrix";cc.ITEM_SIZE=32;cc.CURRENT_ITEM=3233828865;cc.ZOOM_ACTION_TAG=3233828866;cc.NORMAL_TAG=8801;cc.SELECTED_TAG=8802;cc.DISABLE_TAG=8803;cc.arrayVerifyType=function(a,c){if(a&&0<a.length)for(var d=0;d<a.length;d++)if(!(a[d]instanceof c))return cc.log("element type is wrong!"),!1;return!0};cc.arrayRemoveObject=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]===c){a.splice(d,1);break}};
cc.arrayRemoveArray=function(a,c){for(var d=0,e=c.length;d<e;d++)cc.arrayRemoveObject(a,c[d])};cc.arrayAppendObjectsToIndex=function(a,c,d){a.splice.apply(a,[d,0].concat(c));return a};cc.copyArray=function(a){var c,d=a.length,e=Array(d);for(c=0;c<d;c+=1)e[c]=a[c];return e};cc=cc||{};cc._tmp=cc._tmp||{};
cc.game.addEventListener(cc.game.EVENT_RENDERER_INITED,function(){if(cc._renderType===cc.game.RENDER_TYPE_WEBGL){cc.color=function(a,d,e,f,g,h){return void 0===a?new cc.Color(0,0,0,255,g,h):cc.isString(a)?(a=cc.hexToColor(a),new cc.Color(a.r,a.g,a.b,a.a)):cc.isObject(a)?new cc.Color(a.r,a.g,a.b,a.a,a.arrayBuffer,a.offset):new cc.Color(a,d,e,f,g,h)};cc.Color=function(a,d,e,f,g,h){this._arrayBuffer=g||new ArrayBuffer(cc.Color.BYTES_PER_ELEMENT);this._offset=h||0;this._view=new Uint8Array(this._arrayBuffer,
this._offset,4);this._view[0]=a||0;this._view[1]=d||0;this._view[2]=e||0;this._view[3]=null==f?255:f;void 0===f&&(this.a_undefined=!0)};cc.Color.BYTES_PER_ELEMENT=4;var a=cc.Color.prototype;a._getR=function(){return this._view[0]};a._setR=function(a){this._view[0]=0>a?0:a};a._getG=function(){return this._view[1]};a._setG=function(a){this._view[1]=0>a?0:a};a._getB=function(){return this._view[2]};a._setB=function(a){this._view[2]=0>a?0:a};a._getA=function(){return this._view[3]};a._setA=function(a){this._view[3]=
0>a?0:a};cc.defineGetterSetter(a,"r",a._getR,a._setR);cc.defineGetterSetter(a,"g",a._getG,a._setG);cc.defineGetterSetter(a,"b",a._getB,a._setB);cc.defineGetterSetter(a,"a",a._getA,a._setA);cc.assert(cc.isFunction(cc._tmp.PrototypeColor),cc._LogInfos.MissingFile,"CCTypesPropertyDefine.js");cc._tmp.PrototypeColor();delete cc._tmp.PrototypeColor}});cc._tmp.PrototypeColor=function(){var a=cc.color;a._getWhite=function(){return a(255,255,255)};a._getYellow=function(){return a(255,255,0)};a._getBlue=function(){return a(0,0,255)};a._getGreen=function(){return a(0,255,0)};a._getRed=function(){return a(255,0,0)};a._getMagenta=function(){return a(255,0,255)};a._getBlack=function(){return a(0,0,0)};a._getOrange=function(){return a(255,127,0)};a._getGray=function(){return a(166,166,166)};cc.defineGetterSetter(a,"WHITE",a._getWhite);cc.defineGetterSetter(a,
"YELLOW",a._getYellow);cc.defineGetterSetter(a,"BLUE",a._getBlue);cc.defineGetterSetter(a,"GREEN",a._getGreen);cc.defineGetterSetter(a,"RED",a._getRed);cc.defineGetterSetter(a,"MAGENTA",a._getMagenta);cc.defineGetterSetter(a,"BLACK",a._getBlack);cc.defineGetterSetter(a,"ORANGE",a._getOrange);cc.defineGetterSetter(a,"GRAY",a._getGray);cc.BlendFunc._disable=function(){return new cc.BlendFunc(cc.ONE,cc.ZERO)};cc.BlendFunc._alphaPremultiplied=function(){return new cc.BlendFunc(cc.ONE,cc.ONE_MINUS_SRC_ALPHA)};
cc.BlendFunc._alphaNonPremultiplied=function(){return new cc.BlendFunc(cc.SRC_ALPHA,cc.ONE_MINUS_SRC_ALPHA)};cc.BlendFunc._additive=function(){return new cc.BlendFunc(cc.SRC_ALPHA,cc.ONE)};cc.defineGetterSetter(cc.BlendFunc,"DISABLE",cc.BlendFunc._disable);cc.defineGetterSetter(cc.BlendFunc,"ALPHA_PREMULTIPLIED",cc.BlendFunc._alphaPremultiplied);cc.defineGetterSetter(cc.BlendFunc,"ALPHA_NON_PREMULTIPLIED",cc.BlendFunc._alphaNonPremultiplied);cc.defineGetterSetter(cc.BlendFunc,"ADDITIVE",cc.BlendFunc._additive)};cc.Color=function(a,c,d,e){this.r=a||0;this.g=c||0;this.b=d||0;this.a=null==e?255:e};cc.color=function(a,c,d,e){return void 0===a?{r:0,g:0,b:0,a:255}:cc.isString(a)?cc.hexToColor(a):cc.isObject(a)?{r:a.r,g:a.g,b:a.b,a:null==a.a?255:a.a}:{r:a,g:c,b:d,a:null==e?255:e}};cc.colorEqual=function(a,c){return a.r===c.r&&a.g===c.g&&a.b===c.b};cc.Acceleration=function(a,c,d,e){this.x=a||0;this.y=c||0;this.z=d||0;this.timestamp=e||0};
cc.Vertex2F=function(a,c,d,e){this._arrayBuffer=d||new ArrayBuffer(cc.Vertex2F.BYTES_PER_ELEMENT);this._offset=e||0;this._view=new Float32Array(this._arrayBuffer,this._offset,2);this._view[0]=a||0;this._view[1]=c||0};cc.Vertex2F.BYTES_PER_ELEMENT=8;_p=cc.Vertex2F.prototype;_p._getX=function(){return this._view[0]};_p._setX=function(a){this._view[0]=a};_p._getY=function(){return this._view[1]};_p._setY=function(a){this._view[1]=a};cc.defineGetterSetter(_p,"x",_p._getX,_p._setX);
cc.defineGetterSetter(_p,"y",_p._getY,_p._setY);cc.Vertex3F=function(a,c,d,e,f){this._arrayBuffer=e||new ArrayBuffer(cc.Vertex3F.BYTES_PER_ELEMENT);this._offset=f||0;this._view=new Float32Array(this._arrayBuffer,this._offset,3);this._view[0]=a||0;this._view[1]=c||0;this._view[2]=d||0};cc.Vertex3F.BYTES_PER_ELEMENT=12;_p=cc.Vertex3F.prototype;_p._getX=function(){return this._view[0]};_p._setX=function(a){this._view[0]=a};_p._getY=function(){return this._view[1]};
_p._setY=function(a){this._view[1]=a};_p._getZ=function(){return this._view[2]};_p._setZ=function(a){this._view[2]=a};cc.defineGetterSetter(_p,"x",_p._getX,_p._setX);cc.defineGetterSetter(_p,"y",_p._getY,_p._setY);cc.defineGetterSetter(_p,"z",_p._getZ,_p._setZ);cc.Tex2F=function(a,c,d,e){this._arrayBuffer=d||new ArrayBuffer(cc.Tex2F.BYTES_PER_ELEMENT);this._offset=e||0;this._view=new Float32Array(this._arrayBuffer,this._offset,2);this._view[0]=a||0;this._view[1]=c||0};cc.Tex2F.BYTES_PER_ELEMENT=8;
_p=cc.Tex2F.prototype;_p._getU=function(){return this._view[0]};_p._setU=function(a){this._view[0]=a};_p._getV=function(){return this._view[1]};_p._setV=function(a){this._view[1]=a};cc.defineGetterSetter(_p,"u",_p._getU,_p._setU);cc.defineGetterSetter(_p,"v",_p._getV,_p._setV);
cc.Quad2=function(a,c,d,e,f,g){this._arrayBuffer=f||new ArrayBuffer(cc.Quad2.BYTES_PER_ELEMENT);this._offset=g||0;f=this._arrayBuffer;g=this._offset;var h=cc.Vertex2F.BYTES_PER_ELEMENT;this._tl=a?new cc.Vertex2F(a.x,a.y,f,g):new cc.Vertex2F(0,0,f,g);g+=h;this._tr=c?new cc.Vertex2F(c.x,c.y,f,g):new cc.Vertex2F(0,0,f,g);g+=h;this._bl=d?new cc.Vertex2F(d.x,d.y,f,g):new cc.Vertex2F(0,0,f,g);g+=h;this._br=e?new cc.Vertex2F(e.x,e.y,f,g):new cc.Vertex2F(0,0,f,g)};cc.Quad2.BYTES_PER_ELEMENT=32;_p=cc.Quad2.prototype;
_p._getTL=function(){return this._tl};_p._setTL=function(a){this._tl._view[0]=a.x;this._tl._view[1]=a.y};_p._getTR=function(){return this._tr};_p._setTR=function(a){this._tr._view[0]=a.x;this._tr._view[1]=a.y};_p._getBL=function(){return this._bl};_p._setBL=function(a){this._bl._view[0]=a.x;this._bl._view[1]=a.y};_p._getBR=function(){return this._br};_p._setBR=function(a){this._br._view[0]=a.x;this._br._view[1]=a.y};cc.defineGetterSetter(_p,"tl",_p._getTL,_p._setTL);
cc.defineGetterSetter(_p,"tr",_p._getTR,_p._setTR);cc.defineGetterSetter(_p,"bl",_p._getBL,_p._setBL);cc.defineGetterSetter(_p,"br",_p._getBR,_p._setBR);
cc.Quad3=function(a,c,d,e,f,g){this._arrayBuffer=f||new ArrayBuffer(cc.Quad3.BYTES_PER_ELEMENT);this._offset=g||0;f=this._arrayBuffer;g=this._offset;var h=cc.Vertex3F.BYTES_PER_ELEMENT;this.bl=a?new cc.Vertex3F(a.x,a.y,a.z,f,g):new cc.Vertex3F(0,0,0,f,g);g+=h;this.br=c?new cc.Vertex3F(c.x,c.y,c.z,f,g):new cc.Vertex3F(0,0,0,f,g);g+=h;this.tl=d?new cc.Vertex3F(d.x,d.y,d.z,f,g):new cc.Vertex3F(0,0,0,f,g);g+=h;this.tr=e?new cc.Vertex3F(e.x,e.y,e.z,f,g):new cc.Vertex3F(0,0,0,f,g)};
cc.Quad3.BYTES_PER_ELEMENT=48;cc.V3F_C4B_T2F=function(a,c,d,e,f){this._arrayBuffer=e||new ArrayBuffer(cc.V3F_C4B_T2F.BYTES_PER_ELEMENT);this._offset=f||0;e=this._arrayBuffer;f=this._offset;this._vertices=a?new cc.Vertex3F(a.x,a.y,a.z,e,f):new cc.Vertex3F(0,0,0,e,f);f+=cc.Vertex3F.BYTES_PER_ELEMENT;this._colors=c?new cc.Color(c.r,c.g,c.b,c.a,e,f):new cc.Color(0,0,0,0,e,f);f+=cc.Color.BYTES_PER_ELEMENT;this._texCoords=d?new cc.Tex2F(d.u,d.v,e,f):new cc.Tex2F(0,0,e,f)};
cc.V3F_C4B_T2F.BYTES_PER_ELEMENT=24;_p=cc.V3F_C4B_T2F.prototype;_p._getVertices=function(){return this._vertices};_p._setVertices=function(a){var c=this._vertices;c._view[0]=a.x;c._view[1]=a.y;c._view[2]=a.z};_p._getColor=function(){return this._colors};_p._setColor=function(a){var c=this._colors;c._view[0]=a.r;c._view[1]=a.g;c._view[2]=a.b;c._view[3]=a.a};_p._getTexCoords=function(){return this._texCoords};_p._setTexCoords=function(a){this._texCoords._view[0]=a.u;this._texCoords._view[1]=a.v};
cc.defineGetterSetter(_p,"vertices",_p._getVertices,_p._setVertices);cc.defineGetterSetter(_p,"colors",_p._getColor,_p._setColor);cc.defineGetterSetter(_p,"texCoords",_p._getTexCoords,_p._setTexCoords);
cc.V3F_C4B_T2F_Quad=function(a,c,d,e,f,g){this._arrayBuffer=f||new ArrayBuffer(cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT);this._offset=g||0;f=this._arrayBuffer;g=this._offset;var h=cc.V3F_C4B_T2F.BYTES_PER_ELEMENT;this._tl=a?new cc.V3F_C4B_T2F(a.vertices,a.colors,a.texCoords,f,g):new cc.V3F_C4B_T2F(null,null,null,f,g);g+=h;this._bl=c?new cc.V3F_C4B_T2F(c.vertices,c.colors,c.texCoords,f,g):new cc.V3F_C4B_T2F(null,null,null,f,g);g+=h;this._tr=d?new cc.V3F_C4B_T2F(d.vertices,d.colors,d.texCoords,f,g):new cc.V3F_C4B_T2F(null,
null,null,f,g);g+=h;this._br=e?new cc.V3F_C4B_T2F(e.vertices,e.colors,e.texCoords,f,g):new cc.V3F_C4B_T2F(null,null,null,f,g)};cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT=96;_p=cc.V3F_C4B_T2F_Quad.prototype;_p._getTL=function(){return this._tl};_p._setTL=function(a){var c=this._tl;c.vertices=a.vertices;c.colors=a.colors;c.texCoords=a.texCoords};_p._getBL=function(){return this._bl};_p._setBL=function(a){var c=this._bl;c.vertices=a.vertices;c.colors=a.colors;c.texCoords=a.texCoords};_p._getTR=function(){return this._tr};
_p._setTR=function(a){var c=this._tr;c.vertices=a.vertices;c.colors=a.colors;c.texCoords=a.texCoords};_p._getBR=function(){return this._br};_p._setBR=function(a){var c=this._br;c.vertices=a.vertices;c.colors=a.colors;c.texCoords=a.texCoords};_p._getArrayBuffer=function(){return this._arrayBuffer};cc.defineGetterSetter(_p,"tl",_p._getTL,_p._setTL);cc.defineGetterSetter(_p,"tr",_p._getTR,_p._setTR);cc.defineGetterSetter(_p,"bl",_p._getBL,_p._setBL);cc.defineGetterSetter(_p,"br",_p._getBR,_p._setBR);
cc.defineGetterSetter(_p,"arrayBuffer",_p._getArrayBuffer,null);cc.V3F_C4B_T2F_QuadZero=function(){return new cc.V3F_C4B_T2F_Quad};
cc.V3F_C4B_T2F_QuadCopy=function(a){if(!a)return cc.V3F_C4B_T2F_QuadZero();var c=a.tl,d=a.bl,e=a.tr;a=a.br;return{tl:{vertices:{x:c.vertices.x,y:c.vertices.y,z:c.vertices.z},colors:{r:c.colors.r,g:c.colors.g,b:c.colors.b,a:c.colors.a},texCoords:{u:c.texCoords.u,v:c.texCoords.v}},bl:{vertices:{x:d.vertices.x,y:d.vertices.y,z:d.vertices.z},colors:{r:d.colors.r,g:d.colors.g,b:d.colors.b,a:d.colors.a},texCoords:{u:d.texCoords.u,v:d.texCoords.v}},tr:{vertices:{x:e.vertices.x,y:e.vertices.y,z:e.vertices.z},
colors:{r:e.colors.r,g:e.colors.g,b:e.colors.b,a:e.colors.a},texCoords:{u:e.texCoords.u,v:e.texCoords.v}},br:{vertices:{x:a.vertices.x,y:a.vertices.y,z:a.vertices.z},colors:{r:a.colors.r,g:a.colors.g,b:a.colors.b,a:a.colors.a},texCoords:{u:a.texCoords.u,v:a.texCoords.v}}}};cc.V3F_C4B_T2F_QuadsCopy=function(a){if(!a)return[];for(var c=[],d=0;d<a.length;d++)c.push(cc.V3F_C4B_T2F_QuadCopy(a[d]));return c};
cc.V2F_C4B_T2F=function(a,c,d,e,f){this._arrayBuffer=e||new ArrayBuffer(cc.V2F_C4B_T2F.BYTES_PER_ELEMENT);this._offset=f||0;e=this._arrayBuffer;f=this._offset;this._vertices=a?new cc.Vertex2F(a.x,a.y,e,f):new cc.Vertex2F(0,0,e,f);f+=cc.Vertex2F.BYTES_PER_ELEMENT;this._colors=c?cc.color(c.r,c.g,c.b,c.a,e,f):cc.color(0,0,0,0,e,f);f+=cc.Color.BYTES_PER_ELEMENT;this._texCoords=d?new cc.Tex2F(d.u,d.v,e,f):new cc.Tex2F(0,0,e,f)};cc.V2F_C4B_T2F.BYTES_PER_ELEMENT=20;_p=cc.V2F_C4B_T2F.prototype;
_p._getVertices=function(){return this._vertices};_p._setVertices=function(a){this._vertices._view[0]=a.x;this._vertices._view[1]=a.y};_p._getColor=function(){return this._colors};_p._setColor=function(a){var c=this._colors;c._view[0]=a.r;c._view[1]=a.g;c._view[2]=a.b;c._view[3]=a.a};_p._getTexCoords=function(){return this._texCoords};_p._setTexCoords=function(a){this._texCoords._view[0]=a.u;this._texCoords._view[1]=a.v};cc.defineGetterSetter(_p,"vertices",_p._getVertices,_p._setVertices);
cc.defineGetterSetter(_p,"colors",_p._getColor,_p._setColor);cc.defineGetterSetter(_p,"texCoords",_p._getTexCoords,_p._setTexCoords);
cc.V2F_C4B_T2F_Triangle=function(a,c,d,e,f){this._arrayBuffer=e||new ArrayBuffer(cc.V2F_C4B_T2F_Triangle.BYTES_PER_ELEMENT);this._offset=f||0;e=this._arrayBuffer;f=this._offset;var g=cc.V2F_C4B_T2F.BYTES_PER_ELEMENT;this._a=a?new cc.V2F_C4B_T2F(a.vertices,a.colors,a.texCoords,e,f):new cc.V2F_C4B_T2F(null,null,null,e,f);f+=g;this._b=c?new cc.V2F_C4B_T2F(c.vertices,c.colors,c.texCoords,e,f):new cc.V2F_C4B_T2F(null,null,null,e,f);f+=g;this._c=d?new cc.V2F_C4B_T2F(d.vertices,d.colors,d.texCoords,e,f):
new cc.V2F_C4B_T2F(null,null,null,e,f)};cc.V2F_C4B_T2F_Triangle.BYTES_PER_ELEMENT=60;_p=cc.V2F_C4B_T2F_Triangle.prototype;_p._getA=function(){return this._a};_p._setA=function(a){var c=this._a;c.vertices=a.vertices;c.colors=a.colors;c.texCoords=a.texCoords};_p._getB=function(){return this._b};_p._setB=function(a){var c=this._b;c.vertices=a.vertices;c.colors=a.colors;c.texCoords=a.texCoords};_p._getC=function(){return this._c};
_p._setC=function(a){var c=this._c;c.vertices=a.vertices;c.colors=a.colors;c.texCoords=a.texCoords};cc.defineGetterSetter(_p,"a",_p._getA,_p._setA);cc.defineGetterSetter(_p,"b",_p._getB,_p._setB);cc.defineGetterSetter(_p,"c",_p._getC,_p._setC);cc.vertex2=function(a,c){return new cc.Vertex2F(a,c)};cc.vertex3=function(a,c,d){return new cc.Vertex3F(a,c,d)};cc.tex2=function(a,c){return new cc.Tex2F(a,c)};cc.BlendFunc=function(a,c){this.src=a;this.dst=c};
cc.blendFuncDisable=function(){return new cc.BlendFunc(cc.ONE,cc.ZERO)};cc.hexToColor=function(a){a=a.replace(/^#?/,"0x");a=parseInt(a);return cc.color(a>>16,(a>>8)%256,a%256)};cc.colorToHex=function(a){var c=a.r.toString(16),d=a.g.toString(16),e=a.b.toString(16);return"#"+(16>a.r?"0"+c:c)+(16>a.g?"0"+d:d)+(16>a.b?"0"+e:e)};cc.TEXT_ALIGNMENT_LEFT=0;cc.TEXT_ALIGNMENT_CENTER=1;cc.TEXT_ALIGNMENT_RIGHT=2;cc.VERTICAL_TEXT_ALIGNMENT_TOP=0;cc.VERTICAL_TEXT_ALIGNMENT_CENTER=1;
cc.VERTICAL_TEXT_ALIGNMENT_BOTTOM=2;
cc._Dictionary=cc.Class.extend({_keyMapTb:null,_valueMapTb:null,__currId:0,ctor:function(){this._keyMapTb={};this._valueMapTb={};this.__currId=2<<(0|10*Math.random())},__getKey:function(){this.__currId++;return"key_"+this.__currId},setObject:function(a,c){if(null!=c){var d=this.__getKey();this._keyMapTb[d]=c;this._valueMapTb[d]=a}},objectForKey:function(a){if(null==a)return null;var c=this._keyMapTb,d;for(d in c)if(c[d]===a)return this._valueMapTb[d];return null},valueForKey:function(a){return this.objectForKey(a)},
removeObjectForKey:function(a){if(null!=a){var c=this._keyMapTb,d;for(d in c)if(c[d]===a){delete this._valueMapTb[d];delete c[d];break}}},removeObjectsForKeys:function(a){if(null!=a)for(var c=0;c<a.length;c++)this.removeObjectForKey(a[c])},allKeys:function(){var a=[],c=this._keyMapTb,d;for(d in c)a.push(c[d]);return a},removeAllObjects:function(){this._keyMapTb={};this._valueMapTb={}},count:function(){return this.allKeys().length}});
cc.FontDefinition=function(a){this.fontName="Arial";this.fontSize=12;this.textAlign=cc.TEXT_ALIGNMENT_CENTER;this.verticalAlign=cc.VERTICAL_TEXT_ALIGNMENT_TOP;this.fillStyle=cc.color(255,255,255,255);this.boundingHeight=this.boundingWidth=0;this.strokeEnabled=!1;this.strokeStyle=cc.color(255,255,255,255);this.lineWidth=1;this.fontWeight=this.fontStyle=this.lineHeight="normal";this.shadowEnabled=!1;this.shadowBlur=this.shadowOffsetY=this.shadowOffsetX=0;this.shadowOpacity=1;if(a&&a instanceof Object)for(var c in a)this[c]=
a[c]};cc.FontDefinition.prototype._getCanvasFontStr=function(){return this.fontStyle+" "+this.fontWeight+" "+this.fontSize+"px/"+(this.lineHeight.charAt?this.lineHeight:this.lineHeight+"px")+" '"+this.fontName+"'"};cc.game.addEventListener(cc.game.EVENT_RENDERER_INITED,function(){cc._renderType===cc.game.RENDER_TYPE_CANVAS&&(cc.assert(cc.isFunction(cc._tmp.PrototypeColor),cc._LogInfos.MissingFile,"CCTypesPropertyDefine.js"),cc._tmp.PrototypeColor(),delete cc._tmp.PrototypeColor)});cc.Touches=[];cc.TouchesIntergerDict={};cc.DENSITYDPI_DEVICE="device-dpi";cc.DENSITYDPI_HIGH="high-dpi";cc.DENSITYDPI_MEDIUM="medium-dpi";cc.DENSITYDPI_LOW="low-dpi";var __BrowserGetter={init:function(){this.html=document.getElementsByTagName("html")[0]},availWidth:function(a){return window.innerWidth},availHeight:function(a){return window.innerHeight},meta:{width:"device-width"},adaptationType:cc.sys.browserType};-1<window.navigator.userAgent.indexOf("OS 8_1_")&&(__BrowserGetter.adaptationType=cc.sys.BROWSER_TYPE_MIUI);
cc.sys.os===cc.sys.OS_IOS&&(__BrowserGetter.adaptationType=cc.sys.BROWSER_TYPE_SAFARI);
switch(__BrowserGetter.adaptationType){case cc.sys.BROWSER_TYPE_SAFARI:__BrowserGetter.meta["minimal-ui"]="true";__BrowserGetter.availWidth=function(a){return window.innerWidth};__BrowserGetter.availHeight=function(a){return window.innerHeight};break;case cc.sys.BROWSER_TYPE_CHROME:__BrowserGetter.__defineGetter__("target-densitydpi",function(){return cc.view._targetDensityDPI});case cc.sys.BROWSER_TYPE_SOUGOU:case cc.sys.BROWSER_TYPE_UC:__BrowserGetter.availWidth=function(a){return a.clientWidth};
__BrowserGetter.availHeight=function(a){return a.clientHeight};break;case cc.sys.BROWSER_TYPE_MIUI:__BrowserGetter.init=function(a){if(!a.__resizeWithBrowserSize){var c=function(){a.setDesignResolutionSize(a._designResolutionSize.width,a._designResolutionSize.height,a._resolutionPolicy);window.removeEventListener("resize",c,!1)};window.addEventListener("resize",c,!1)}}}var _scissorRect=cc.rect();
cc.EGLView=cc.Class.extend({_delegate:null,_frameSize:null,_designResolutionSize:null,_originalDesignResolutionSize:null,_viewPortRect:null,_visibleRect:null,_retinaEnabled:!1,_autoFullScreen:!1,_devicePixelRatio:1,_viewName:"",_resizeCallback:null,_scaleX:1,_originalScaleX:1,_scaleY:1,_originalScaleY:1,_isRotated:!1,_orientation:3,_resolutionPolicy:null,_rpExactFit:null,_rpShowAll:null,_rpNoBorder:null,_rpFixedHeight:null,_rpFixedWidth:null,_initialized:!1,_contentTranslateLeftTop:null,_frame:null,
_frameZoomFactor:1,__resizeWithBrowserSize:!1,_isAdjustViewPort:!0,_targetDensityDPI:null,ctor:function(){var a=document,c=cc.ContainerStrategy,d=cc.ContentStrategy;__BrowserGetter.init(this);this._frame=cc.container.parentNode===a.body?a.documentElement:cc.container.parentNode;this._frameSize=cc.size(0,0);this._initFrameSize();var a=cc._canvas.width,e=cc._canvas.height;this._designResolutionSize=cc.size(a,e);this._originalDesignResolutionSize=cc.size(a,e);this._viewPortRect=cc.rect(0,0,a,e);this._visibleRect=
cc.rect(0,0,a,e);this._contentTranslateLeftTop={left:0,top:0};this._viewName="Cocos2dHTML5";cc.visibleRect&&cc.visibleRect.init(this._visibleRect);this._rpExactFit=new cc.ResolutionPolicy(c.EQUAL_TO_FRAME,d.EXACT_FIT);this._rpShowAll=new cc.ResolutionPolicy(c.PROPORTION_TO_FRAME,d.SHOW_ALL);this._rpNoBorder=new cc.ResolutionPolicy(c.EQUAL_TO_FRAME,d.NO_BORDER);this._rpFixedHeight=new cc.ResolutionPolicy(c.EQUAL_TO_FRAME,d.FIXED_HEIGHT);this._rpFixedWidth=new cc.ResolutionPolicy(c.EQUAL_TO_FRAME,d.FIXED_WIDTH);
this._targetDensityDPI=cc.DENSITYDPI_HIGH},_resizeEvent:function(){var a;a=this.setDesignResolutionSize?this:cc.view;var c=a._frameSize.width,d=a._frameSize.height,e=a._isRotated;a._initFrameSize();if(a._isRotated!==e||a._frameSize.width!==c||a._frameSize.height!==d)a._resizeCallback&&a._resizeCallback.call(),c=a._originalDesignResolutionSize.width,d=a._originalDesignResolutionSize.height,0<c&&a.setDesignResolutionSize(c,d,a._resolutionPolicy)},setTargetDensityDPI:function(a){this._targetDensityDPI=
a;this._adjustViewportMeta()},getTargetDensityDPI:function(){return this._targetDensityDPI},resizeWithBrowserSize:function(a){a?this.__resizeWithBrowserSize||(this.__resizeWithBrowserSize=!0,window.addEventListener("resize",this._resizeEvent),window.addEventListener("orientationchange",this._resizeEvent)):this.__resizeWithBrowserSize&&(this.__resizeWithBrowserSize=!1,window.removeEventListener("resize",this._resizeEvent),window.removeEventListener("orientationchange",this._resizeEvent))},setResizeCallback:function(a){if(cc.isFunction(a)||
null==a)this._resizeCallback=a},setOrientation:function(a){if(a&=cc.ORIENTATION_AUTO)this._orientation=a},_initFrameSize:function(){var a=this._frameSize,c=__BrowserGetter.availWidth(this._frame),d=__BrowserGetter.availHeight(this._frame),e=c>=d;!cc.sys.isMobile||e&&this._orientation&cc.ORIENTATION_LANDSCAPE||!e&&this._orientation&cc.ORIENTATION_PORTRAIT?(a.width=c,a.height=d,cc.container.style["-webkit-transform"]="rotate(0deg)",cc.container.style.transform="rotate(0deg)",this._isRotated=!1):(a.width=
d,a.height=c,cc.container.style["-webkit-transform"]="rotate(90deg)",cc.container.style.transform="rotate(90deg)",cc.container.style["-webkit-transform-origin"]="0px 0px 0px",cc.container.style.transformOrigin="0px 0px 0px",this._isRotated=!0)},_adjustSizeKeepCanvasSize:function(){var a=this._originalDesignResolutionSize.width,c=this._originalDesignResolutionSize.height;0<a&&this.setDesignResolutionSize(a,c,this._resolutionPolicy)},_setViewportMeta:function(a,c){},_adjustViewportMeta:function(){this._isAdjustViewPort&&
(this._setViewportMeta(__BrowserGetter.meta,!1),this._isAdjustViewPort=!1)},_setScaleXYForRenderTexture:function(){var a=cc.contentScaleFactor();this._scaleY=this._scaleX=a},_resetScale:function(){this._scaleX=this._originalScaleX;this._scaleY=this._originalScaleY},_adjustSizeToBrowser:function(){},initialize:function(){this._initialized=!0},adjustViewPort:function(a){this._isAdjustViewPort=a},enableRetina:function(a){this._retinaEnabled=a?!0:!1},isRetinaEnabled:function(){return this._retinaEnabled},
enableAutoFullScreen:function(a){a&&a!==this._autoFullScreen&&cc.sys.isMobile&&this._frame===document.documentElement?(this._autoFullScreen=!0,cc.screen.autoFullScreen(this._frame)):this._autoFullScreen=!1},isAutoFullScreenEnabled:function(){return this._autoFullScreen},end:function(){},isOpenGLReady:function(){return cc.game.canvas&&cc._renderContext},setFrameZoomFactor:function(a){this._frameZoomFactor=a;this.centerWindow();cc.director.setProjection(cc.director.getProjection())},swapBuffers:function(){},
setIMEKeyboardState:function(a){},setContentTranslateLeftTop:function(a,c){this._contentTranslateLeftTop={left:a,top:c}},getContentTranslateLeftTop:function(){return this._contentTranslateLeftTop},getCanvasSize:function(){return cc.size(cc._canvas.width,cc._canvas.height)},getFrameSize:function(){return cc.size(this._frameSize.width,this._frameSize.height)},setFrameSize:function(a,c){this._frameSize.width=a;this._frameSize.height=c;this._frame.style.width=a+"px";this._frame.style.height=c+"px";this._resizeEvent();
cc.director.setProjection(cc.director.getProjection())},centerWindow:function(){},getVisibleSize:function(){return cc.size(this._visibleRect.width,this._visibleRect.height)},getVisibleSizeInPixel:function(){return cc.size(this._visibleRect.width*this._scaleX,this._visibleRect.height*this._scaleY)},getVisibleOrigin:function(){return cc.p(this._visibleRect.x,this._visibleRect.y)},getVisibleOriginInPixel:function(){return cc.p(this._visibleRect.x*this._scaleX,this._visibleRect.y*this._scaleY)},canSetContentScaleFactor:function(){return!0},
getResolutionPolicy:function(){return this._resolutionPolicy},setResolutionPolicy:function(a){if(a instanceof cc.ResolutionPolicy)this._resolutionPolicy=a;else{var c=cc.ResolutionPolicy;a===c.EXACT_FIT&&(this._resolutionPolicy=this._rpExactFit);a===c.SHOW_ALL&&(this._resolutionPolicy=this._rpShowAll);a===c.NO_BORDER&&(this._resolutionPolicy=this._rpNoBorder);a===c.FIXED_HEIGHT&&(this._resolutionPolicy=this._rpFixedHeight);a===c.FIXED_WIDTH&&(this._resolutionPolicy=this._rpFixedWidth)}},setDesignResolutionSize:function(a,
c,d){if(0<a||0<c)if(this.setResolutionPolicy(d),d=this._resolutionPolicy){d.preApply(this);cc.sys.isMobile&&this._adjustViewportMeta();this._initFrameSize();this._originalDesignResolutionSize.width=this._designResolutionSize.width=a;this._originalDesignResolutionSize.height=this._designResolutionSize.height=c;var e=d.apply(this,this._designResolutionSize);e.scale&&2===e.scale.length&&(this._scaleX=e.scale[0],this._scaleY=e.scale[1]);e.viewport&&(a=this._viewPortRect,c=this._visibleRect,e=e.viewport,
a.x=e.x,a.y=e.y,a.width=e.width,a.height=e.height,c.x=-a.x/this._scaleX,c.y=-a.y/this._scaleY,c.width=cc._canvas.width/this._scaleX,c.height=cc._canvas.height/this._scaleY,cc._renderContext.setOffset&&cc._renderContext.setOffset(a.x,-a.y));a=cc.director;a._winSizeInPoints.width=this._designResolutionSize.width;a._winSizeInPoints.height=this._designResolutionSize.height;d.postApply(this);cc.winSize.width=a._winSizeInPoints.width;cc.winSize.height=a._winSizeInPoints.height;cc._renderType===cc.game.RENDER_TYPE_WEBGL&&
a.setGLDefaultValues();this._originalScaleX=this._scaleX;this._originalScaleY=this._scaleY;cc.DOM&&cc.DOM._resetEGLViewDiv();cc.visibleRect&&cc.visibleRect.init(this._visibleRect)}else cc.log(cc._LogInfos.EGLView_setDesignResolutionSize_2);else cc.log(cc._LogInfos.EGLView_setDesignResolutionSize)},getDesignResolutionSize:function(){return cc.size(this._designResolutionSize.width,this._designResolutionSize.height)},setRealPixelResolution:function(a,c,d){this._setViewportMeta({width:a,"target-densitydpi":cc.DENSITYDPI_DEVICE},
!0);document.body.style.width=a+"px";document.body.style.left="0px";document.body.style.top="0px";this.setDesignResolutionSize(a,c,d)},setViewPortInPoints:function(a,c,d,e){var f=this._frameZoomFactor,g=this._scaleX,h=this._scaleY;cc._renderContext.viewport(a*g*f+this._viewPortRect.x*f,c*h*f+this._viewPortRect.y*f,d*g*f,e*h*f)},setScissorInPoints:function(a,c,d,e){var f=this._frameZoomFactor,g=this._scaleX,h=this._scaleY;_scissorRect.x=a;_scissorRect.y=c;_scissorRect.width=d;_scissorRect.height=e;
cc._renderContext.scissor(a*g*f+this._viewPortRect.x*f,c*h*f+this._viewPortRect.y*f,d*g*f,e*h*f)},isScissorEnabled:function(){return cc._renderContext.isEnabled(gl.SCISSOR_TEST)},getScissorRect:function(){return cc.rect(_scissorRect)},setViewName:function(a){null!=a&&0<a.length&&(this._viewName=a)},getViewName:function(){return this._viewName},getViewPortRect:function(){return this._viewPortRect},getScaleX:function(){return this._scaleX},getScaleY:function(){return this._scaleY},getDevicePixelRatio:function(){return this._devicePixelRatio},
convertToLocationInView:function(a,c,d){a=this._devicePixelRatio*(a-d.left);c=this._devicePixelRatio*(d.top+d.height-c);return this._isRotated?{x:this._viewPortRect.width-c,y:a}:{x:a,y:c}},_convertMouseToLocationInView:function(a,c){var d=this._viewPortRect;a.x=(this._devicePixelRatio*(a.x-c.left)-d.x)/this._scaleX;a.y=(this._devicePixelRatio*(c.top+c.height-a.y)-d.y)/this._scaleY},_convertPointWithScale:function(a){var c=this._viewPortRect;a.x=(a.x-c.x)/this._scaleX;a.y=(a.y-c.y)/this._scaleY},_convertTouchesWithScale:function(a){for(var c=
this._viewPortRect,d=this._scaleX,e=this._scaleY,f,g,h=0;h<a.length;h++)f=a[h],g=f._point,f=f._prevPoint,g.x=(g.x-c.x)/d,g.y=(g.y-c.y)/e,f.x=(f.x-c.x)/d,f.y=(f.y-c.y)/e}});cc.EGLView._getInstance=function(){this._instance||(this._instance=this._instance||new cc.EGLView,this._instance.initialize());return this._instance};
cc.ContainerStrategy=cc.Class.extend({preApply:function(a){},apply:function(a,c){},postApply:function(a){},_setupContainer:function(a,c,d){var e=cc.game.canvas,f=cc.game.container;f.style.width=e.style.width=c+"px";f.style.height=e.style.height=d+"px";f=a._devicePixelRatio=1;a.isRetinaEnabled()&&1024>c&&1024>d&&(f=a._devicePixelRatio=Math.min(4,window.devicePixelRatio||1));e.width=c*f;e.height=d*f;cc._renderContext.resetCache&&cc._renderContext.resetCache()},_fixContainer:function(){document.body.insertBefore(cc.container,
document.body.firstChild);var a=document.body.style;a.width=window.innerWidth+"px";a.height=window.innerHeight+"px";a.overflow="hidden";a=cc.container.style;a.position="fixed";a.left=a.top="0px";document.body.scrollTop=0}});
cc.ContentStrategy=cc.Class.extend({_result:{scale:[1,1],viewport:null},_buildResult:function(a,c,d,e,f,g){2>Math.abs(a-d)&&(d=a);2>Math.abs(c-e)&&(e=c);a=cc.rect(Math.round((a-d)/2),Math.round((c-e)/2),d,e);this._result.scale=[f,g];this._result.viewport=a;return this._result},preApply:function(a){},apply:function(a,c){return{scale:[1,1]}},postApply:function(a){}});
(function(){var a=cc.ContainerStrategy.extend({apply:function(a){var c=a._frameSize.height,d=cc.container.style;this._setupContainer(a,a._frameSize.width,a._frameSize.height);a._isRotated?d.marginLeft=c+"px":d.margin="0px"}}),c=cc.ContainerStrategy.extend({apply:function(a,c){var d=a._frameSize.width,e=a._frameSize.height,f=cc.container.style,s=c.width,t=c.height,u=d/s,w=e/t,z,A;u<w?(z=d,A=t*u):(z=s*w,A=e);s=Math.round((d-z)/2);A=Math.round((e-A)/2);this._setupContainer(a,d-2*s,e-2*A);a._isRotated?
f.marginLeft=e+"px":f.margin="0px";f.paddingLeft=s+"px";f.paddingRight=s+"px";f.paddingTop=A+"px";f.paddingBottom=A+"px"}});a.extend({preApply:function(a){this._super(a);a._frame=document.documentElement},apply:function(a){this._super(a);this._fixContainer()}});c.extend({preApply:function(a){this._super(a);a._frame=document.documentElement},apply:function(a,c){this._super(a,c);this._fixContainer()}});var d=cc.ContainerStrategy.extend({apply:function(a){this._setupContainer(a,cc._canvas.width,cc._canvas.height)}});
cc.ContainerStrategy.EQUAL_TO_FRAME=new a;cc.ContainerStrategy.PROPORTION_TO_FRAME=new c;cc.ContainerStrategy.ORIGINAL_CONTAINER=new d;var a=cc.ContentStrategy.extend({apply:function(a,c){var d=cc._canvas.width,e=cc._canvas.height;return this._buildResult(d,e,d,e,d/c.width,e/c.height)}}),c=cc.ContentStrategy.extend({apply:function(a,c){var d=cc._canvas.width,e=cc._canvas.height,f=c.width,s=c.height,t=d/f,u=e/s,w=0,z,A;t<u?(w=t,z=d,A=s*w):(w=u,z=f*w,A=e);return this._buildResult(d,e,z,A,w,w)}}),d=
cc.ContentStrategy.extend({apply:function(a,c){var d=cc._canvas.width,e=cc._canvas.height,f=c.width,s=c.height,t=d/f,u=e/s,w,z,A;t<u?(w=u,z=f*w,A=e):(w=t,z=d,A=s*w);return this._buildResult(d,e,z,A,w,w)}}),e=cc.ContentStrategy.extend({apply:function(a,c){var d=cc._canvas.width,e=cc._canvas.height,f=e/c.height;return this._buildResult(d,e,d,e,f,f)},postApply:function(a){cc.director._winSizeInPoints=a.getVisibleSize()}}),f=cc.ContentStrategy.extend({apply:function(a,c){var d=cc._canvas.width,e=cc._canvas.height,
f=d/c.width;return this._buildResult(d,e,d,e,f,f)},postApply:function(a){cc.director._winSizeInPoints=a.getVisibleSize()}});cc.ContentStrategy.EXACT_FIT=new a;cc.ContentStrategy.SHOW_ALL=new c;cc.ContentStrategy.NO_BORDER=new d;cc.ContentStrategy.FIXED_HEIGHT=new e;cc.ContentStrategy.FIXED_WIDTH=new f})();
cc.ResolutionPolicy=cc.Class.extend({_containerStrategy:null,_contentStrategy:null,ctor:function(a,c){this.setContainerStrategy(a);this.setContentStrategy(c)},preApply:function(a){this._containerStrategy.preApply(a);this._contentStrategy.preApply(a)},apply:function(a,c){this._containerStrategy.apply(a,c);return this._contentStrategy.apply(a,c)},postApply:function(a){this._containerStrategy.postApply(a);this._contentStrategy.postApply(a)},setContainerStrategy:function(a){a instanceof cc.ContainerStrategy&&
(this._containerStrategy=a)},setContentStrategy:function(a){a instanceof cc.ContentStrategy&&(this._contentStrategy=a)}});cc.ResolutionPolicy.EXACT_FIT=0;cc.ResolutionPolicy.NO_BORDER=1;cc.ResolutionPolicy.SHOW_ALL=2;cc.ResolutionPolicy.FIXED_HEIGHT=3;cc.ResolutionPolicy.FIXED_WIDTH=4;cc.ResolutionPolicy.UNKNOWN=5;cc.screen={_supportsFullScreen:!1,_preOnFullScreenChange:null,_touchEvent:"",_fn:null,_fnMap:[["requestFullscreen","exitFullscreen","fullscreenchange","fullscreenEnabled","fullscreenElement"],["requestFullScreen","exitFullScreen","fullScreenchange","fullScreenEnabled","fullScreenElement"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitfullscreenchange","webkitIsFullScreen","webkitCurrentFullScreenElement"],["mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozFullScreen",
"mozFullScreenElement"],["msRequestFullscreen","msExitFullscreen","MSFullscreenChange","msFullscreenEnabled","msFullscreenElement"]],init:function(){this._fn={};var a,c,d=this._fnMap,e;a=0;for(l=d.length;a<l;a++)if((c=d[a])&&c[1]in document){a=0;for(e=c.length;a<e;a++)this._fn[d[0][a]]=c[a];break}this._supportsFullScreen="undefined"!==typeof this._fn.requestFullscreen;this._touchEvent="ontouchstart"in window?"touchstart":"mousedown"},fullScreen:function(){return this._supportsFullScreen?void 0===
document[this._fn.fullscreenElement]||null===document[this._fn.fullscreenElement]?!1:!0:!1},requestFullScreen:function(a,c){if(this._supportsFullScreen){a=a||document.documentElement;if(c){var d=this._fn.fullscreenchange;this._preOnFullScreenChange&&document.removeEventListener(d,this._preOnFullScreenChange);this._preOnFullScreenChange=c;document.addEventListener(d,c,!1)}return a[this._fn.requestFullscreen]()}},exitFullScreen:function(){return this._supportsFullScreen?document[this._fn.exitFullscreen]():
!0},autoFullScreen:function(a,c){function d(){e.removeEventListener(f._touchEvent,d);f.requestFullScreen(a,c)}a=a||document.body;var e=cc.game.canvas||a,f=this;this.requestFullScreen(a,c);e.addEventListener(this._touchEvent,d)}};cc.screen.init();cc.visibleRect={topLeft:cc.p(0,0),topRight:cc.p(0,0),top:cc.p(0,0),bottomLeft:cc.p(0,0),bottomRight:cc.p(0,0),bottom:cc.p(0,0),center:cc.p(0,0),left:cc.p(0,0),right:cc.p(0,0),width:0,height:0,init:function(a){var c=this.width=a.width,d=this.height=a.height,e=a.x;a=a.y;var f=a+d,g=e+c;this.topLeft.x=e;this.topLeft.y=f;this.topRight.x=g;this.topRight.y=f;this.top.x=e+c/2;this.top.y=f;this.bottomLeft.x=e;this.bottomLeft.y=a;this.bottomRight.x=g;this.bottomRight.y=a;this.bottom.x=e+c/2;this.bottom.y=
a;this.center.x=e+c/2;this.center.y=a+d/2;this.left.x=e;this.left.y=a+d/2;this.right.x=g;this.right.y=a+d/2}};cc.UIInterfaceOrientationLandscapeLeft=-90;cc.UIInterfaceOrientationLandscapeRight=90;cc.UIInterfaceOrientationPortraitUpsideDown=180;cc.UIInterfaceOrientationPortrait=0;
cc.inputManager={_mousePressed:!1,_isRegisterEvent:!1,_preTouchPoint:cc.p(0,0),_prevMousePoint:cc.p(0,0),_preTouchPool:[],_preTouchPoolPointer:0,_touches:[],_touchesIntegerDict:{},_indexBitsUsed:0,_maxTouches:5,_accelEnabled:!1,_accelInterval:1/30,_accelMinus:1,_accelCurTime:0,_acceleration:null,_accelDeviceEvent:null,_getUnUsedIndex:function(){for(var a=this._indexBitsUsed,c=0;c<this._maxTouches;c++){if(!(a&1))return this._indexBitsUsed|=1<<c,c;a>>=1}return-1},_removeUsedIndexBit:function(a){0>a||
a>=this._maxTouches||(a=~(1<<a),this._indexBitsUsed&=a)},_glView:null,handleTouchesBegin:function(a){for(var c,d,e,f=[],g=this._touchesIntegerDict,h=0,m=a.length;h<m;h++)if(c=a[h],e=c.getID(),d=g[e],null==d){var n=this._getUnUsedIndex();-1===n?cc.log(cc._LogInfos.inputManager_handleTouchesBegin,n):(d=this._touches[n]=new cc.Touch(c._point.x,c._point.y,c.getID()),d._setPrevPoint(c._prevPoint),g[e]=n,f.push(d))}0<f.length&&(this._glView._convertTouchesWithScale(f),a=new cc.EventTouch(f),a._eventCode=
cc.EventTouch.EventCode.BEGAN,cc.eventManager.dispatchEvent(a))},handleTouchesMove:function(a){for(var c,d,e=[],f=this._touches,g=0,h=a.length;g<h;g++)c=a[g],d=c.getID(),d=this._touchesIntegerDict[d],null!=d&&f[d]&&(f[d]._setPoint(c._point),f[d]._setPrevPoint(c._prevPoint),e.push(f[d]));0<e.length&&(this._glView._convertTouchesWithScale(e),a=new cc.EventTouch(e),a._eventCode=cc.EventTouch.EventCode.MOVED,cc.eventManager.dispatchEvent(a))},handleTouchesEnd:function(a){a=this.getSetOfTouchesEndOrCancel(a);
0<a.length&&(this._glView._convertTouchesWithScale(a),a=new cc.EventTouch(a),a._eventCode=cc.EventTouch.EventCode.ENDED,cc.eventManager.dispatchEvent(a))},handleTouchesCancel:function(a){a=this.getSetOfTouchesEndOrCancel(a);0<a.length&&(this._glView._convertTouchesWithScale(a),a=new cc.EventTouch(a),a._eventCode=cc.EventTouch.EventCode.CANCELLED,cc.eventManager.dispatchEvent(a))},getSetOfTouchesEndOrCancel:function(a){for(var c,d,e,f=[],g=this._touches,h=this._touchesIntegerDict,m=0,n=a.length;m<
n;m++)c=a[m],e=c.getID(),d=h[e],null!=d&&g[d]&&(g[d]._setPoint(c._point),g[d]._setPrevPoint(c._prevPoint),f.push(g[d]),this._removeUsedIndexBit(d),delete h[e]);return f},getHTMLElementPosition:function(a){var c=null,c=cc.isFunction(a.getBoundingClientRect)?a.getBoundingClientRect():{left:0,top:0,width:parseInt(a.style.width),height:parseInt(a.style.height)};return{left:0,top:0,width:c.width,height:c.height}},getPreTouch:function(a){for(var c=null,d=this._preTouchPool,e=a.getID(),f=d.length-1;0<=f;f--)if(d[f].getID()===
e){c=d[f];break}c||(c=a);return c},setPreTouch:function(a){for(var c=!1,d=this._preTouchPool,e=a.getID(),f=d.length-1;0<=f;f--)if(d[f].getID()===e){d[f]=a;c=!0;break}c||(50>=d.length?d.push(a):(d[this._preTouchPoolPointer]=a,this._preTouchPoolPointer=(this._preTouchPoolPointer+1)%50))},getTouchByXY:function(a,c,d){var e=this._preTouchPoint;a=this._glView.convertToLocationInView(a,c,d);c=new cc.Touch(a.x,a.y);c._setPrevPoint(e.x,e.y);e.x=a.x;e.y=a.y;return c},getMouseEvent:function(a,c,d){var e=this._prevMousePoint;
this._glView._convertMouseToLocationInView(a,c);c=new cc.EventMouse(d);c.setLocation(a.x,a.y);c._setPrevCursor(e.x,e.y);e.x=a.x;e.y=a.y;return c},getPointByEvent:function(a,c){return null!=a.pageX?{x:a.pageX,y:a.pageY}:{x:a.clientX,y:a.clientY}},getTouchesByEvent:function(a,c){for(var d=[],e=this._glView,f,g,h=this._preTouchPoint,m=a.changedTouches.length,n=0;n<m;n++)if(f=a.changedTouches[n]){var r;r=cc.sys.BROWSER_TYPE_FIREFOX===cc.sys.browserType?e.convertToLocationInView(f.pageX,f.pageY,c):e.convertToLocationInView(f.clientX,
f.clientY,c);null!=f.identifier?(f=new cc.Touch(r.x,r.y,f.identifier),g=this.getPreTouch(f).getLocation(),f._setPrevPoint(g.x,g.y),this.setPreTouch(f)):(f=new cc.Touch(r.x,r.y),f._setPrevPoint(h.x,h.y));h.x=r.x;h.y=r.y;d.push(f)}return d},registerSystemEvent:function(a){if(!this._isRegisterEvent){this._glView=cc.view;var c=this,d="mouse"in cc.sys.capabilities,e="touches"in cc.sys.capabilities,f=!1;cc.sys.isMobile&&(f=!0);d&&(window.addEventListener("mousedown",function(){c._mousePressed=!0},!1),window.addEventListener("mouseup",
function(d){if(!f){var e=c._mousePressed;c._mousePressed=!1;if(e){var e=c.getHTMLElementPosition(a),g=c.getPointByEvent(d,e);cc.rectContainsPoint(new cc.Rect(e.left,e.top,e.width,e.height),g)||(c.handleTouchesEnd([c.getTouchByXY(g.x,g.y,e)]),e=c.getMouseEvent(g,e,cc.EventMouse.UP),e.setButton(d.button),cc.eventManager.dispatchEvent(e))}}},!1),a.addEventListener("mousedown",function(d){if(!f){c._mousePressed=!0;var e=c.getHTMLElementPosition(a),g=c.getPointByEvent(d,e);c.handleTouchesBegin([c.getTouchByXY(g.x,
g.y,e)]);e=c.getMouseEvent(g,e,cc.EventMouse.DOWN);e.setButton(d.button);cc.eventManager.dispatchEvent(e);d.stopPropagation();d.preventDefault()}},!1),a.addEventListener("mouseup",function(d){if(!f){c._mousePressed=!1;var e=c.getHTMLElementPosition(a),g=c.getPointByEvent(d,e);c.handleTouchesEnd([c.getTouchByXY(g.x,g.y,e)]);e=c.getMouseEvent(g,e,cc.EventMouse.UP);e.setButton(d.button);cc.eventManager.dispatchEvent(e);d.stopPropagation();d.preventDefault()}},!1),a.addEventListener("mousemove",function(d){if(!f){var e=
c.getHTMLElementPosition(a),g=c.getPointByEvent(d,e);c.handleTouchesMove([c.getTouchByXY(g.x,g.y,e)]);e=c.getMouseEvent(g,e,cc.EventMouse.MOVE);c._mousePressed?e.setButton(d.button):e.setButton(null);cc.eventManager.dispatchEvent(e);d.stopPropagation();d.preventDefault()}},!1),a.addEventListener("mousewheel",function(d){var e=c.getHTMLElementPosition(a),f=c.getPointByEvent(d,e),e=c.getMouseEvent(f,e,cc.EventMouse.SCROLL);e.setButton(d.button);e.setScrollData(0,d.wheelDelta);cc.eventManager.dispatchEvent(e);
d.stopPropagation();d.preventDefault()},!1),a.addEventListener("DOMMouseScroll",function(d){var e=c.getHTMLElementPosition(a),f=c.getPointByEvent(d,e),e=c.getMouseEvent(f,e,cc.EventMouse.SCROLL);e.setButton(d.button);e.setScrollData(0,-120*d.detail);cc.eventManager.dispatchEvent(e);d.stopPropagation();d.preventDefault()},!1));if(window.navigator.msPointerEnabled){var d={MSPointerDown:c.handleTouchesBegin,MSPointerMove:c.handleTouchesMove,MSPointerUp:c.handleTouchesEnd,MSPointerCancel:c.handleTouchesCancel},
g;for(g in d)(function(d,e){a.addEventListener(d,function(d){var f=c.getHTMLElementPosition(a);e.call(c,[c.getTouchByXY(d.clientX,d.clientY,f)]);d.stopPropagation()},!1)})(g,d[g])}e&&(a.addEventListener("touchstart",function(d){if(d.changedTouches){var e=c.getHTMLElementPosition(a);c.handleTouchesBegin(c.getTouchesByEvent(d,e));d.stopPropagation();d.preventDefault()}},!1),a.addEventListener("touchmove",function(d){if(d.changedTouches){var e=c.getHTMLElementPosition(a);c.handleTouchesMove(c.getTouchesByEvent(d,
e));d.stopPropagation();d.preventDefault()}},!1),a.addEventListener("touchend",function(d){if(d.changedTouches){var e=c.getHTMLElementPosition(a);c.handleTouchesEnd(c.getTouchesByEvent(d,e));d.stopPropagation();d.preventDefault()}},!1),a.addEventListener("touchcancel",function(d){if(d.changedTouches){var e=c.getHTMLElementPosition(a);c.handleTouchesCancel(c.getTouchesByEvent(d,e));d.stopPropagation();d.preventDefault()}},!1));this._registerKeyboardEvent();this._registerAccelerometerEvent();this._isRegisterEvent=
!0}},_registerKeyboardEvent:function(){},_registerAccelerometerEvent:function(){},update:function(a){this._accelCurTime>this._accelInterval&&(this._accelCurTime-=this._accelInterval,cc.eventManager.dispatchEvent(new cc.EventAcceleration(this._acceleration)));this._accelCurTime+=a}};_p=cc.inputManager;_p.setAccelerometerEnabled=function(a){this._accelEnabled!==a&&(this._accelEnabled=a,a=cc.director.getScheduler(),this._accelCurTime=0,a.scheduleUpdate(this))};_p.setAccelerometerInterval=function(a){this._accelInterval!==a&&(this._accelInterval=a)};
_p._registerKeyboardEvent=function(){cc._canvas.addEventListener("keydown",function(a){cc.eventManager.dispatchEvent(new cc.EventKeyboard(a.keyCode,!0));a.stopPropagation();a.preventDefault()},!1);cc._canvas.addEventListener("keyup",function(a){cc.eventManager.dispatchEvent(new cc.EventKeyboard(a.keyCode,!1));a.stopPropagation();a.preventDefault()},!1)};
_p._registerAccelerometerEvent=function(){var a=window;this._acceleration=new cc.Acceleration;this._accelDeviceEvent=a.DeviceMotionEvent||a.DeviceOrientationEvent;cc.sys.browserType===cc.sys.BROWSER_TYPE_MOBILE_QQ&&(this._accelDeviceEvent=window.DeviceOrientationEvent);var c=this._accelDeviceEvent===a.DeviceMotionEvent?"devicemotion":"deviceorientation",d=navigator.userAgent;if(/Android/.test(d)||/Adr/.test(d)&&cc.sys.browserType===cc.BROWSER_TYPE_UC)this._minus=-1;a.addEventListener(c,this.didAccelerate.bind(this),
!1)};
_p.didAccelerate=function(a){var c=window;if(this._accelEnabled){var d=this._acceleration,e,f,g;this._accelDeviceEvent===window.DeviceMotionEvent?(g=a.accelerationIncludingGravity,e=this._accelMinus*g.x*0.1,f=this._accelMinus*g.y*0.1,g=0.1*g.z):(e=a.gamma/90*0.981,f=0.981*-(a.beta/90),g=a.alpha/90*0.981);d.x=e;d.y=f;d.z=g;d.timestamp=a.timeStamp||Date.now();a=d.x;c.orientation===cc.UIInterfaceOrientationLandscapeRight?(d.x=-d.y,d.y=a):c.orientation===cc.UIInterfaceOrientationLandscapeLeft?(d.x=d.y,
d.y=-a):c.orientation===cc.UIInterfaceOrientationPortraitUpsideDown&&(d.x=-d.x,d.y=-d.y)}};_p=null;cc.AffineTransform=function(a,c,d,e,f,g){this.a=a;this.b=c;this.c=d;this.d=e;this.tx=f;this.ty=g};cc.affineTransformMake=function(a,c,d,e,f,g){return{a:a,b:c,c:d,d:e,tx:f,ty:g}};cc.pointApplyAffineTransform=function(a,c,d){var e;void 0===d?(d=c,e=a.x,a=a.y):(e=a,a=c);return{x:d.a*e+d.c*a+d.tx,y:d.b*e+d.d*a+d.ty}};cc._pointApplyAffineTransform=function(a,c,d){return cc.pointApplyAffineTransform(a,c,d)};
cc.sizeApplyAffineTransform=function(a,c){return{width:c.a*a.width+c.c*a.height,height:c.b*a.width+c.d*a.height}};cc.affineTransformMakeIdentity=function(){return{a:1,b:0,c:0,d:1,tx:0,ty:0}};cc.affineTransformIdentity=function(){return{a:1,b:0,c:0,d:1,tx:0,ty:0}};
cc.rectApplyAffineTransform=function(a,c){var d=cc.rectGetMinY(a),e=cc.rectGetMinX(a),f=cc.rectGetMaxX(a),g=cc.rectGetMaxY(a),h=cc.pointApplyAffineTransform(e,d,c),d=cc.pointApplyAffineTransform(f,d,c),e=cc.pointApplyAffineTransform(e,g,c),m=cc.pointApplyAffineTransform(f,g,c),f=Math.min(h.x,d.x,e.x,m.x),g=Math.max(h.x,d.x,e.x,m.x),n=Math.min(h.y,d.y,e.y,m.y),h=Math.max(h.y,d.y,e.y,m.y);return cc.rect(f,n,g-f,h-n)};
cc._rectApplyAffineTransformIn=function(a,c){var d=cc.rectGetMinY(a),e=cc.rectGetMinX(a),f=cc.rectGetMaxX(a),g=cc.rectGetMaxY(a),h=cc.pointApplyAffineTransform(e,d,c),d=cc.pointApplyAffineTransform(f,d,c),e=cc.pointApplyAffineTransform(e,g,c),m=cc.pointApplyAffineTransform(f,g,c),f=Math.min(h.x,d.x,e.x,m.x),g=Math.max(h.x,d.x,e.x,m.x),n=Math.min(h.y,d.y,e.y,m.y),h=Math.max(h.y,d.y,e.y,m.y);a.x=f;a.y=n;a.width=g-f;a.height=h-n;return a};
cc.affineTransformTranslate=function(a,c,d){return{a:a.a,b:a.b,c:a.c,d:a.d,tx:a.tx+a.a*c+a.c*d,ty:a.ty+a.b*c+a.d*d}};cc.affineTransformScale=function(a,c,d){return{a:a.a*c,b:a.b*c,c:a.c*d,d:a.d*d,tx:a.tx,ty:a.ty}};cc.affineTransformRotate=function(a,c){var d=Math.sin(c),e=Math.cos(c);return{a:a.a*e+a.c*d,b:a.b*e+a.d*d,c:a.c*e-a.a*d,d:a.d*e-a.b*d,tx:a.tx,ty:a.ty}};
cc.affineTransformConcat=function(a,c){return{a:a.a*c.a+a.b*c.c,b:a.a*c.b+a.b*c.d,c:a.c*c.a+a.d*c.c,d:a.c*c.b+a.d*c.d,tx:a.tx*c.a+a.ty*c.c+c.tx,ty:a.tx*c.b+a.ty*c.d+c.ty}};cc.affineTransformConcatIn=function(a,c){var d=a.a,e=a.b,f=a.c,g=a.d,h=a.tx,m=a.ty;a.a=d*c.a+e*c.c;a.b=d*c.b+e*c.d;a.c=f*c.a+g*c.c;a.d=f*c.b+g*c.d;a.tx=h*c.a+m*c.c+c.tx;a.ty=h*c.b+m*c.d+c.ty;return a};cc.affineTransformEqualToTransform=function(a,c){return a.a===c.a&&a.b===c.b&&a.c===c.c&&a.d===c.d&&a.tx===c.tx&&a.ty===c.ty};
cc.affineTransformInvert=function(a){var c=1/(a.a*a.d-a.b*a.c);return{a:c*a.d,b:-c*a.b,c:-c*a.c,d:c*a.a,tx:c*(a.c*a.ty-a.d*a.tx),ty:c*(a.b*a.tx-a.a*a.ty)}};cc.POINT_EPSILON=parseFloat("1.192092896e-07F");cc.pNeg=function(a){return cc.p(-a.x,-a.y)};cc.pAdd=function(a,c){return cc.p(a.x+c.x,a.y+c.y)};cc.pSub=function(a,c){return cc.p(a.x-c.x,a.y-c.y)};cc.pMult=function(a,c){return cc.p(a.x*c,a.y*c)};cc.pMidpoint=function(a,c){return cc.pMult(cc.pAdd(a,c),0.5)};cc.pDot=function(a,c){return a.x*c.x+a.y*c.y};cc.pCross=function(a,c){return a.x*c.y-a.y*c.x};cc.pPerp=function(a){return cc.p(-a.y,a.x)};cc.pRPerp=function(a){return cc.p(a.y,-a.x)};
cc.pProject=function(a,c){return cc.pMult(c,cc.pDot(a,c)/cc.pDot(c,c))};cc.pRotate=function(a,c){return cc.p(a.x*c.x-a.y*c.y,a.x*c.y+a.y*c.x)};cc.pUnrotate=function(a,c){return cc.p(a.x*c.x+a.y*c.y,a.y*c.x-a.x*c.y)};cc.pLengthSQ=function(a){return cc.pDot(a,a)};cc.pDistanceSQ=function(a,c){return cc.pLengthSQ(cc.pSub(a,c))};cc.pLength=function(a){return Math.sqrt(cc.pLengthSQ(a))};cc.pDistance=function(a,c){return cc.pLength(cc.pSub(a,c))};
cc.pNormalize=function(a){var c=cc.pLength(a);return 0===c?cc.p(a):cc.pMult(a,1/c)};cc.pForAngle=function(a){return cc.p(Math.cos(a),Math.sin(a))};cc.pToAngle=function(a){return Math.atan2(a.y,a.x)};cc.clampf=function(a,c,d){if(c>d){var e=c;c=d;d=e}return a<c?c:a<d?a:d};cc.pClamp=function(a,c,d){return cc.p(cc.clampf(a.x,c.x,d.x),cc.clampf(a.y,c.y,d.y))};cc.pFromSize=function(a){return cc.p(a.width,a.height)};cc.pCompOp=function(a,c){return cc.p(c(a.x),c(a.y))};
cc.pLerp=function(a,c,d){return cc.pAdd(cc.pMult(a,1-d),cc.pMult(c,d))};cc.pFuzzyEqual=function(a,c,d){return a.x-d<=c.x&&c.x<=a.x+d&&a.y-d<=c.y&&c.y<=a.y+d?!0:!1};cc.pCompMult=function(a,c){return cc.p(a.x*c.x,a.y*c.y)};cc.pAngleSigned=function(a,c){var d=cc.pNormalize(a),e=cc.pNormalize(c),d=Math.atan2(d.x*e.y-d.y*e.x,cc.pDot(d,e));return Math.abs(d)<cc.POINT_EPSILON?0:d};cc.pAngle=function(a,c){var d=Math.acos(cc.pDot(cc.pNormalize(a),cc.pNormalize(c)));return Math.abs(d)<cc.POINT_EPSILON?0:d};
cc.pRotateByAngle=function(a,c,d){a=cc.pSub(a,c);var e=Math.cos(d);d=Math.sin(d);var f=a.x;a.x=f*e-a.y*d+c.x;a.y=f*d+a.y*e+c.y;return a};cc.pLineIntersect=function(a,c,d,e,f){if(a.x===c.x&&a.y===c.y||d.x===e.x&&d.y===e.y)return!1;var g=c.x-a.x;c=c.y-a.y;var h=e.x-d.x;e=e.y-d.y;var m=a.x-d.x;a=a.y-d.y;d=e*g-h*c;f.x=h*a-e*m;f.y=g*a-c*m;if(0===d)return 0===f.x||0===f.y?!0:!1;f.x/=d;f.y/=d;return!0};
cc.pSegmentIntersect=function(a,c,d,e){var f=cc.p(0,0);return cc.pLineIntersect(a,c,d,e,f)&&0<=f.x&&1>=f.x&&0<=f.y&&1>=f.y?!0:!1};cc.pIntersectPoint=function(a,c,d,e){var f=cc.p(0,0);return cc.pLineIntersect(a,c,d,e,f)?(d=cc.p(0,0),d.x=a.x+f.x*(c.x-a.x),d.y=a.y+f.x*(c.y-a.y),d):cc.p(0,0)};cc.pSameAs=function(a,c){return null!=a&&null!=c?a.x===c.x&&a.y===c.y:!1};cc.pZeroIn=function(a){a.x=0;a.y=0};cc.pIn=function(a,c){a.x=c.x;a.y=c.y};cc.pMultIn=function(a,c){a.x*=c;a.y*=c};
cc.pSubIn=function(a,c){a.x-=c.x;a.y-=c.y};cc.pAddIn=function(a,c){a.x+=c.x;a.y+=c.y};cc.pNormalizeIn=function(a){cc.pMultIn(a,1/Math.sqrt(a.x*a.x+a.y*a.y))};cc.vertexLineToPolygon=function(a,c,d,e,f){f+=e;if(!(1>=f)){c*=0.5;for(var g,h=f-1,m=e;m<f;m++){g=2*m;var n=cc.p(a[2*m],a[2*m+1]),r;if(0===m)r=cc.pPerp(cc.pNormalize(cc.pSub(n,cc.p(a[2*(m+1)],a[2*(m+1)+1]))));else if(m===h)r=cc.pPerp(cc.pNormalize(cc.pSub(cc.p(a[2*(m-1)],a[2*(m-1)+1]),n)));else{r=cc.p(a[2*(m-1)],a[2*(m-1)+1]);var s=cc.p(a[2*(m+1)],a[2*(m+1)+1]),t=cc.pNormalize(cc.pSub(s,n)),u=cc.pNormalize(cc.pSub(r,n)),w=Math.acos(cc.pDot(t,u));r=w<cc.degreesToRadians(70)?cc.pPerp(cc.pNormalize(cc.pMidpoint(t,
u))):w<cc.degreesToRadians(170)?cc.pNormalize(cc.pMidpoint(t,u)):cc.pPerp(cc.pNormalize(cc.pSub(s,r)))}r=cc.pMult(r,c);d[2*g]=n.x+r.x;d[2*g+1]=n.y+r.y;d[2*(g+1)]=n.x-r.x;d[2*(g+1)+1]=n.y-r.y}for(m=0===e?0:e-1;m<h;m++)g=2*m,a=g+2,c=cc.vertex2(d[2*g],d[2*g+1]),f=cc.vertex2(d[2*(g+1)],d[2*(g+1)+1]),g=cc.vertex2(d[2*a],d[2*a]),e=cc.vertex2(d[2*(a+1)],d[2*(a+1)+1]),c=!cc.vertexLineIntersect(c.x,c.y,e.x,e.y,f.x,f.y,g.x,g.y),!c.isSuccess&&(0>c.value||1<c.value)&&(c.isSuccess=!0),c.isSuccess&&(d[2*a]=e.x,
d[2*a+1]=e.y,d[2*(a+1)]=g.x,d[2*(a+1)+1]=g.y)}};cc.vertexLineIntersect=function(a,c,d,e,f,g,h,m){if(a===d&&c===e||f===h&&g===m)return{isSuccess:!1,value:0};d-=a;e-=c;f-=a;g-=c;h-=a;m-=c;a=Math.sqrt(d*d+e*e);d/=a;e/=a;c=f*d+g*e;g=g*d-f*e;f=c;c=h*d+m*e;m=m*d-h*e;h=c;return g===m?{isSuccess:!1,value:0}:{isSuccess:!0,value:(h+(f-h)*m/(m-g))/a}};cc.vertexListIsClockwise=function(a){for(var c=0,d=a.length;c<d;c++){var e=a[(c+1)%d],f=a[(c+2)%d];if(0<cc.pCross(cc.pSub(e,a[c]),cc.pSub(f,e)))return!1}return!0};cc.CGAffineToGL=function(a,c){c[2]=c[3]=c[6]=c[7]=c[8]=c[9]=c[11]=c[14]=0;c[10]=c[15]=1;c[0]=a.a;c[4]=a.c;c[12]=a.tx;c[1]=a.b;c[5]=a.d;c[13]=a.ty};cc.GLToCGAffine=function(a,c){c.a=a[0];c.c=a[4];c.tx=a[12];c.b=a[1];c.d=a[5];c.ty=a[13]};cc.Touch=cc.Class.extend({_point:null,_prevPoint:null,_id:0,_startPointCaptured:!1,_startPoint:null,ctor:function(a,c,d){this.setTouchInfo(d,a,c)},getLocation:function(){return{x:this._point.x,y:this._point.y}},getLocationX:function(){return this._point.x},getLocationY:function(){return this._point.y},getPreviousLocation:function(){return{x:this._prevPoint.x,y:this._prevPoint.y}},getStartLocation:function(){return{x:this._startPoint.x,y:this._startPoint.y}},getDelta:function(){return cc.pSub(this._point,
this._prevPoint)},getLocationInView:function(){return{x:this._point.x,y:this._point.y}},getPreviousLocationInView:function(){return{x:this._prevPoint.x,y:this._prevPoint.y}},getStartLocationInView:function(){return{x:this._startPoint.x,y:this._startPoint.y}},getID:function(){return this._id},getId:function(){cc.log("getId is deprecated. Please use getID instead.");return this._id},setTouchInfo:function(a,c,d){this._prevPoint=this._point;this._point=cc.p(c||0,d||0);this._id=a;this._startPointCaptured||
(this._startPoint=cc.p(this._point),cc.view._convertPointWithScale(this._startPoint),this._startPointCaptured=!0)},_setPoint:function(a,c){void 0===c?(this._point.x=a.x,this._point.y=a.y):(this._point.x=a,this._point.y=c)},_setPrevPoint:function(a,c){this._prevPoint=void 0===c?cc.p(a.x,a.y):cc.p(a||0,c||0)}});cc.Event=cc.Class.extend({_type:0,_isStopped:!1,_currentTarget:null,_setCurrentTarget:function(a){this._currentTarget=a},ctor:function(a){this._type=a},getType:function(){return this._type},stopPropagation:function(){this._isStopped=!0},isStopped:function(){return this._isStopped},getCurrentTarget:function(){return this._currentTarget}});cc.Event.TOUCH=0;cc.Event.KEYBOARD=1;cc.Event.ACCELERATION=2;cc.Event.MOUSE=3;cc.Event.FOCUS=4;cc.Event.CUSTOM=6;
cc.EventCustom=cc.Event.extend({_eventName:null,_userData:null,ctor:function(a){cc.Event.prototype.ctor.call(this,cc.Event.CUSTOM);this._eventName=a},setUserData:function(a){this._userData=a},getUserData:function(){return this._userData},getEventName:function(){return this._eventName}});
cc.EventMouse=cc.Event.extend({_eventType:0,_button:0,_x:0,_y:0,_prevX:0,_prevY:0,_scrollX:0,_scrollY:0,ctor:function(a){cc.Event.prototype.ctor.call(this,cc.Event.MOUSE);this._eventType=a},setScrollData:function(a,c){this._scrollX=a;this._scrollY=c},getScrollX:function(){return this._scrollX},getScrollY:function(){return this._scrollY},setLocation:function(a,c){this._x=a;this._y=c},getLocation:function(){return{x:this._x,y:this._y}},getLocationInView:function(){return{x:this._x,y:cc.view._designResolutionSize.height-
this._y}},_setPrevCursor:function(a,c){this._prevX=a;this._prevY=c},getDelta:function(){return{x:this._x-this._prevX,y:this._y-this._prevY}},getDeltaX:function(){return this._x-this._prevX},getDeltaY:function(){return this._y-this._prevY},setButton:function(a){this._button=a},getButton:function(){return this._button},getLocationX:function(){return this._x},getLocationY:function(){return this._y}});cc.EventMouse.NONE=0;cc.EventMouse.DOWN=1;cc.EventMouse.UP=2;cc.EventMouse.MOVE=3;
cc.EventMouse.SCROLL=4;cc.EventMouse.BUTTON_LEFT=0;cc.EventMouse.BUTTON_RIGHT=2;cc.EventMouse.BUTTON_MIDDLE=1;cc.EventMouse.BUTTON_4=3;cc.EventMouse.BUTTON_5=4;cc.EventMouse.BUTTON_6=5;cc.EventMouse.BUTTON_7=6;cc.EventMouse.BUTTON_8=7;
cc.EventTouch=cc.Event.extend({_eventCode:0,_touches:null,ctor:function(a){cc.Event.prototype.ctor.call(this,cc.Event.TOUCH);this._touches=a||[]},getEventCode:function(){return this._eventCode},getTouches:function(){return this._touches},_setEventCode:function(a){this._eventCode=a},_setTouches:function(a){this._touches=a}});cc.EventTouch.MAX_TOUCHES=5;cc.EventTouch.EventCode={BEGAN:0,MOVED:1,ENDED:2,CANCELLED:3};
cc.EventFocus=cc.Event.extend({_widgetGetFocus:null,_widgetLoseFocus:null,ctor:function(a,c){cc.Event.prototype.ctor.call(this,cc.Event.FOCUS);this._widgetGetFocus=c;this._widgetLoseFocus=a}});cc.EventListener=cc.Class.extend({_onEvent:null,_type:0,_listenerID:null,_registered:!1,_fixedPriority:0,_node:null,_paused:!0,_isEnabled:!0,ctor:function(a,c,d){this._onEvent=d;this._type=a||0;this._listenerID=c||""},_setPaused:function(a){this._paused=a},_isPaused:function(){return this._paused},_setRegistered:function(a){this._registered=a},_isRegistered:function(){return this._registered},_getType:function(){return this._type},_getListenerID:function(){return this._listenerID},_setFixedPriority:function(a){this._fixedPriority=
a},_getFixedPriority:function(){return this._fixedPriority},_setSceneGraphPriority:function(a){this._node=a},_getSceneGraphPriority:function(){return this._node},checkAvailable:function(){return null!==this._onEvent},clone:function(){return null},setEnabled:function(a){this._isEnabled=a},isEnabled:function(){return this._isEnabled},retain:function(){},release:function(){}});cc.EventListener.UNKNOWN=0;cc.EventListener.TOUCH_ONE_BY_ONE=1;cc.EventListener.TOUCH_ALL_AT_ONCE=2;
cc.EventListener.KEYBOARD=3;cc.EventListener.MOUSE=4;cc.EventListener.ACCELERATION=6;cc.EventListener.FOCUS=7;cc.EventListener.CUSTOM=8;
cc._EventListenerCustom=cc.EventListener.extend({_onCustomEvent:null,ctor:function(a,c){this._onCustomEvent=c;var d=this;cc.EventListener.prototype.ctor.call(this,cc.EventListener.CUSTOM,a,function(a){null!==d._onCustomEvent&&d._onCustomEvent(a)})},checkAvailable:function(){return cc.EventListener.prototype.checkAvailable.call(this)&&null!==this._onCustomEvent},clone:function(){return new cc._EventListenerCustom(this._listenerID,this._onCustomEvent)}});
cc._EventListenerCustom.create=function(a,c){return new cc._EventListenerCustom(a,c)};
cc._EventListenerMouse=cc.EventListener.extend({onMouseDown:null,onMouseUp:null,onMouseMove:null,onMouseScroll:null,ctor:function(){var a=this;cc.EventListener.prototype.ctor.call(this,cc.EventListener.MOUSE,cc._EventListenerMouse.LISTENER_ID,function(c){var d=cc.EventMouse;switch(c._eventType){case d.DOWN:if(a.onMouseDown)a.onMouseDown(c);break;case d.UP:if(a.onMouseUp)a.onMouseUp(c);break;case d.MOVE:if(a.onMouseMove)a.onMouseMove(c);break;case d.SCROLL:if(a.onMouseScroll)a.onMouseScroll(c)}})},
clone:function(){var a=new cc._EventListenerMouse;a.onMouseDown=this.onMouseDown;a.onMouseUp=this.onMouseUp;a.onMouseMove=this.onMouseMove;a.onMouseScroll=this.onMouseScroll;return a},checkAvailable:function(){return!0}});cc._EventListenerMouse.LISTENER_ID="__cc_mouse";cc._EventListenerMouse.create=function(){return new cc._EventListenerMouse};
cc._EventListenerTouchOneByOne=cc.EventListener.extend({_claimedTouches:null,swallowTouches:!1,onTouchBegan:null,onTouchMoved:null,onTouchEnded:null,onTouchCancelled:null,ctor:function(){cc.EventListener.prototype.ctor.call(this,cc.EventListener.TOUCH_ONE_BY_ONE,cc._EventListenerTouchOneByOne.LISTENER_ID,null);this._claimedTouches=[]},setSwallowTouches:function(a){this.swallowTouches=a},isSwallowTouches:function(){return this.swallowTouches},clone:function(){var a=new cc._EventListenerTouchOneByOne;
a.onTouchBegan=this.onTouchBegan;a.onTouchMoved=this.onTouchMoved;a.onTouchEnded=this.onTouchEnded;a.onTouchCancelled=this.onTouchCancelled;a.swallowTouches=this.swallowTouches;return a},checkAvailable:function(){return this.onTouchBegan?!0:(cc.log(cc._LogInfos._EventListenerTouchOneByOne_checkAvailable),!1)}});cc._EventListenerTouchOneByOne.LISTENER_ID="__cc_touch_one_by_one";cc._EventListenerTouchOneByOne.create=function(){return new cc._EventListenerTouchOneByOne};
cc._EventListenerTouchAllAtOnce=cc.EventListener.extend({onTouchesBegan:null,onTouchesMoved:null,onTouchesEnded:null,onTouchesCancelled:null,ctor:function(){cc.EventListener.prototype.ctor.call(this,cc.EventListener.TOUCH_ALL_AT_ONCE,cc._EventListenerTouchAllAtOnce.LISTENER_ID,null)},clone:function(){var a=new cc._EventListenerTouchAllAtOnce;a.onTouchesBegan=this.onTouchesBegan;a.onTouchesMoved=this.onTouchesMoved;a.onTouchesEnded=this.onTouchesEnded;a.onTouchesCancelled=this.onTouchesCancelled;return a},
checkAvailable:function(){return null===this.onTouchesBegan&&null===this.onTouchesMoved&&null===this.onTouchesEnded&&null===this.onTouchesCancelled?(cc.log(cc._LogInfos._EventListenerTouchAllAtOnce_checkAvailable),!1):!0}});cc._EventListenerTouchAllAtOnce.LISTENER_ID="__cc_touch_all_at_once";cc._EventListenerTouchAllAtOnce.create=function(){return new cc._EventListenerTouchAllAtOnce};
cc.EventListener.create=function(a){cc.assert(a&&a.event,cc._LogInfos.EventListener_create);var c=a.event;delete a.event;var d=null;c===cc.EventListener.TOUCH_ONE_BY_ONE?d=new cc._EventListenerTouchOneByOne:c===cc.EventListener.TOUCH_ALL_AT_ONCE?d=new cc._EventListenerTouchAllAtOnce:c===cc.EventListener.MOUSE?d=new cc._EventListenerMouse:c===cc.EventListener.CUSTOM?(d=new cc._EventListenerCustom(a.eventName,a.callback),delete a.eventName,delete a.callback):c===cc.EventListener.KEYBOARD?d=new cc._EventListenerKeyboard:
c===cc.EventListener.ACCELERATION?(d=new cc._EventListenerAcceleration(a.callback),delete a.callback):c===cc.EventListener.FOCUS&&(d=new cc._EventListenerFocus);for(var e in a)d[e]=a[e];return d};
cc._EventListenerFocus=cc.EventListener.extend({clone:function(){var a=new cc._EventListenerFocus;a.onFocusChanged=this.onFocusChanged;return a},checkAvailable:function(){return this.onFocusChanged?!0:(cc.log("Invalid EventListenerFocus!"),!1)},onFocusChanged:null,ctor:function(){cc.EventListener.prototype.ctor.call(this,cc.EventListener.FOCUS,cc._EventListenerFocus.LISTENER_ID,function(a){if(this.onFocusChanged)this.onFocusChanged(a._widgetLoseFocus,a._widgetGetFocus)})}});
cc._EventListenerFocus.LISTENER_ID="__cc_focus_event";cc._EventListenerVector=cc.Class.extend({_fixedListeners:null,_sceneGraphListeners:null,gt0Index:0,ctor:function(){this._fixedListeners=[];this._sceneGraphListeners=[]},size:function(){return this._fixedListeners.length+this._sceneGraphListeners.length},empty:function(){return 0===this._fixedListeners.length&&0===this._sceneGraphListeners.length},push:function(a){0===a._getFixedPriority()?this._sceneGraphListeners.push(a):this._fixedListeners.push(a)},clearSceneGraphListeners:function(){this._sceneGraphListeners.length=
0},clearFixedListeners:function(){this._fixedListeners.length=0},clear:function(){this._sceneGraphListeners.length=0;this._fixedListeners.length=0},getFixedPriorityListeners:function(){return this._fixedListeners},getSceneGraphPriorityListeners:function(){return this._sceneGraphListeners}});
cc.__getListenerID=function(a){var c=cc.Event,d=a.getType();if(d===c.ACCELERATION)return cc._EventListenerAcceleration.LISTENER_ID;if(d===c.CUSTOM)return a.getEventName();if(d===c.KEYBOARD)return cc._EventListenerKeyboard.LISTENER_ID;if(d===c.MOUSE)return cc._EventListenerMouse.LISTENER_ID;if(d===c.FOCUS)return cc._EventListenerFocus.LISTENER_ID;d===c.TOUCH&&cc.log(cc._LogInfos.__getListenerID);return""};
cc.eventManager={DIRTY_NONE:0,DIRTY_FIXED_PRIORITY:1,DIRTY_SCENE_GRAPH_PRIORITY:2,DIRTY_ALL:3,_listenersMap:{},_priorityDirtyFlagMap:{},_nodeListenersMap:{},_nodePriorityMap:{},_globalZOrderNodeMap:{},_toAddedListeners:[],_toRemovedListeners:[],_dirtyNodes:[],_inDispatch:0,_isEnabled:!1,_nodePriorityIndex:0,_internalCustomListenerIDs:[cc.game.EVENT_HIDE,cc.game.EVENT_SHOW],_setDirtyForNode:function(a){null!=this._nodeListenersMap[a.__instanceId]&&this._dirtyNodes.push(a);a=a.getChildren();for(var c=
0,d=a.length;c<d;c++)this._setDirtyForNode(a[c])},pauseTarget:function(a,c){var d=this._nodeListenersMap[a.__instanceId],e,f;if(d)for(e=0,f=d.length;e<f;e++)d[e]._setPaused(!0);if(!0===c)for(d=a.getChildren(),e=0,f=d.length;e<f;e++)this.pauseTarget(d[e],!0)},resumeTarget:function(a,c){var d=this._nodeListenersMap[a.__instanceId],e,f;if(d)for(e=0,f=d.length;e<f;e++)d[e]._setPaused(!1);this._setDirtyForNode(a);if(!0===c)for(d=a.getChildren(),e=0,f=d.length;e<f;e++)this.resumeTarget(d[e],!0)},_addListener:function(a){0===
this._inDispatch?this._forceAddEventListener(a):this._toAddedListeners.push(a)},_forceAddEventListener:function(a){var c=a._getListenerID(),d=this._listenersMap[c];d||(d=new cc._EventListenerVector,this._listenersMap[c]=d);d.push(a);0===a._getFixedPriority()?(this._setDirty(c,this.DIRTY_SCENE_GRAPH_PRIORITY),c=a._getSceneGraphPriority(),null===c&&cc.log(cc._LogInfos.eventManager__forceAddEventListener),this._associateNodeAndEventListener(c,a),c.isRunning()&&this.resumeTarget(c)):this._setDirty(c,
this.DIRTY_FIXED_PRIORITY)},_getListeners:function(a){return this._listenersMap[a]},_updateDirtyFlagForSceneGraph:function(){if(0!==this._dirtyNodes.length){for(var a=this._dirtyNodes,c,d,e=this._nodeListenersMap,f=0,g=a.length;f<g;f++)if(c=e[a[f].__instanceId])for(var h=0,m=c.length;h<m;h++)(d=c[h])&&this._setDirty(d._getListenerID(),this.DIRTY_SCENE_GRAPH_PRIORITY);this._dirtyNodes.length=0}},_removeAllListenersInVector:function(a){if(a)for(var c,d=0;d<a.length;)c=a[d],c._setRegistered(!1),null!=
c._getSceneGraphPriority()&&(this._dissociateNodeAndEventListener(c._getSceneGraphPriority(),c),c._setSceneGraphPriority(null)),0===this._inDispatch?cc.arrayRemoveObject(a,c):++d},_removeListenersForListenerID:function(a){var c=this._listenersMap[a];if(c){var d=c.getFixedPriorityListeners(),e=c.getSceneGraphPriorityListeners();this._removeAllListenersInVector(e);this._removeAllListenersInVector(d);delete this._priorityDirtyFlagMap[a];this._inDispatch||(c.clear(),delete this._listenersMap[a])}d=this._toAddedListeners;
for(c=0;c<d.length;)(e=d[c])&&e._getListenerID()===a?cc.arrayRemoveObject(d,e):++c},_sortEventListeners:function(a){var c=this.DIRTY_NONE,d=this._priorityDirtyFlagMap;d[a]&&(c=d[a]);c!==this.DIRTY_NONE&&(d[a]=this.DIRTY_NONE,c&this.DIRTY_FIXED_PRIORITY&&this._sortListenersOfFixedPriority(a),c&this.DIRTY_SCENE_GRAPH_PRIORITY&&((c=cc.director.getRunningScene())?this._sortListenersOfSceneGraphPriority(a,c):d[a]=this.DIRTY_SCENE_GRAPH_PRIORITY))},_sortListenersOfSceneGraphPriority:function(a,c){var d=
this._getListeners(a);if(d){var e=d.getSceneGraphPriorityListeners();e&&0!==e.length&&(this._nodePriorityIndex=0,this._nodePriorityMap={},this._visitTarget(c,!0),d.getSceneGraphPriorityListeners().sort(this._sortEventListenersOfSceneGraphPriorityDes))}},_sortEventListenersOfSceneGraphPriorityDes:function(a,c){var d=cc.eventManager._nodePriorityMap,e=a._getSceneGraphPriority(),f=c._getSceneGraphPriority();return c&&f&&d[f.__instanceId]?a&&e&&d[e.__instanceId]?d[c._getSceneGraphPriority().__instanceId]-
d[a._getSceneGraphPriority().__instanceId]:1:-1},_sortListenersOfFixedPriority:function(a){if(a=this._listenersMap[a]){var c=a.getFixedPriorityListeners();if(c&&0!==c.length){c.sort(this._sortListenersOfFixedPriorityAsc);for(var d=0,e=c.length;d<e&&!(0<=c[d]._getFixedPriority());)++d;a.gt0Index=d}}},_sortListenersOfFixedPriorityAsc:function(a,c){return a._getFixedPriority()-c._getFixedPriority()},_onUpdateListeners:function(a){if(a=this._listenersMap[a]){var c=a.getFixedPriorityListeners(),d=a.getSceneGraphPriorityListeners(),
e,f,g=this._toRemovedListeners;if(d)for(e=0;e<d.length;)f=d[e],f._isRegistered()?++e:(cc.arrayRemoveObject(d,f),f=g.indexOf(f),-1!==f&&g.splice(f,1));if(c)for(e=0;e<c.length;)f=c[e],f._isRegistered()?++e:(cc.arrayRemoveObject(c,f),f=g.indexOf(f),-1!==f&&g.splice(f,1));d&&0===d.length&&a.clearSceneGraphListeners();c&&0===c.length&&a.clearFixedListeners()}},_updateListeners:function(a){var c=this._inDispatch;cc.assert(0<c,cc._LogInfos.EventManager__updateListeners);if(!(1<c)){a.getType()===cc.Event.TOUCH?
(this._onUpdateListeners(cc._EventListenerTouchOneByOne.LISTENER_ID),this._onUpdateListeners(cc._EventListenerTouchAllAtOnce.LISTENER_ID)):this._onUpdateListeners(cc.__getListenerID(a));cc.assert(1===c,cc._LogInfos.EventManager__updateListeners_2);a=this._listenersMap;var c=this._priorityDirtyFlagMap,d;for(d in a)a[d].empty()&&(delete c[d],delete a[d]);d=this._toAddedListeners;if(0!==d.length){a=0;for(c=d.length;a<c;a++)this._forceAddEventListener(d[a]);this._toAddedListeners.length=0}0!==this._toRemovedListeners.length&&
this._cleanToRemovedListeners()}},_cleanToRemovedListeners:function(){for(var a=this._toRemovedListeners,c=0;c<a.length;c++){var d=a[c],e=this._listenersMap[d._getListenerID()];if(e){var f=e.getFixedPriorityListeners(),g=e.getSceneGraphPriorityListeners();g&&(e=g.indexOf(d),-1!==e&&g.splice(e,1));f&&(e=f.indexOf(d),-1!==e&&f.splice(e,1))}}a.length=0},_onTouchEventCallback:function(a,c){if(!a._isRegistered)return!1;var d=c.event,e=c.selTouch;d._setCurrentTarget(a._node);var f=!1,g,h=d.getEventCode(),
m=cc.EventTouch.EventCode;if(h===m.BEGAN)a.onTouchBegan&&(f=a.onTouchBegan(e,d))&&a._registered&&a._claimedTouches.push(e);else if(0<a._claimedTouches.length&&-1!==(g=a._claimedTouches.indexOf(e)))if(f=!0,h===m.MOVED&&a.onTouchMoved)a.onTouchMoved(e,d);else if(h===m.ENDED){if(a.onTouchEnded)a.onTouchEnded(e,d);a._registered&&a._claimedTouches.splice(g,1)}else if(h===m.CANCELLED){if(a.onTouchCancelled)a.onTouchCancelled(e,d);a._registered&&a._claimedTouches.splice(g,1)}return d.isStopped()?(cc.eventManager._updateListeners(d),
!0):f&&a.swallowTouches?(c.needsMutableSet&&c.touches.splice(e,1),!0):!1},_dispatchTouchEvent:function(a){this._sortEventListeners(cc._EventListenerTouchOneByOne.LISTENER_ID);this._sortEventListeners(cc._EventListenerTouchAllAtOnce.LISTENER_ID);var c=this._getListeners(cc._EventListenerTouchOneByOne.LISTENER_ID),d=this._getListeners(cc._EventListenerTouchAllAtOnce.LISTENER_ID);if(null!==c||null!==d){var e=a.getTouches(),f=cc.copyArray(e),g={event:a,needsMutableSet:c&&d,touches:f,selTouch:null};if(c)for(var h=
0;h<e.length;h++)if(g.selTouch=e[h],this._dispatchEventToListeners(c,this._onTouchEventCallback,g),a.isStopped())return;if(d&&0<f.length&&(this._dispatchEventToListeners(d,this._onTouchesEventCallback,{event:a,touches:f}),a.isStopped()))return;this._updateListeners(a)}},_onTouchesEventCallback:function(a,c){if(!a._registered)return!1;var d=cc.EventTouch.EventCode,e=c.event,f=c.touches,g=e.getEventCode();e._setCurrentTarget(a._node);if(g===d.BEGAN&&a.onTouchesBegan)a.onTouchesBegan(f,e);else if(g===
d.MOVED&&a.onTouchesMoved)a.onTouchesMoved(f,e);else if(g===d.ENDED&&a.onTouchesEnded)a.onTouchesEnded(f,e);else if(g===d.CANCELLED&&a.onTouchesCancelled)a.onTouchesCancelled(f,e);return e.isStopped()?(cc.eventManager._updateListeners(e),!0):!1},_associateNodeAndEventListener:function(a,c){var d=this._nodeListenersMap[a.__instanceId];d||(d=[],this._nodeListenersMap[a.__instanceId]=d);d.push(c)},_dissociateNodeAndEventListener:function(a,c){var d=this._nodeListenersMap[a.__instanceId];d&&(cc.arrayRemoveObject(d,
c),0===d.length&&delete this._nodeListenersMap[a.__instanceId])},_dispatchEventToListeners:function(a,c,d){var e=!1,f=a.getFixedPriorityListeners(),g=a.getSceneGraphPriorityListeners(),h=0,m;if(f&&0!==f.length)for(;h<a.gt0Index;++h)if(m=f[h],m.isEnabled()&&!m._isPaused()&&m._isRegistered()&&c(m,d)){e=!0;break}if(g&&!e)for(a=0;a<g.length;a++)if(m=g[a],m.isEnabled()&&!m._isPaused()&&m._isRegistered()&&c(m,d)){e=!0;break}if(f&&!e)for(;h<f.length&&(m=f[h],!m.isEnabled()||m._isPaused()||!m._isRegistered()||
!c(m,d));++h);},_setDirty:function(a,c){var d=this._priorityDirtyFlagMap;d[a]=null==d[a]?c:c|d[a]},_visitTarget:function(a,c){var d=a.getChildren(),e=0,f=d.length,g=this._globalZOrderNodeMap,h=this._nodeListenersMap;if(0<f){for(var m;e<f;e++)if((m=d[e])&&0>m.getLocalZOrder())this._visitTarget(m,!1);else break;null!=h[a.__instanceId]&&(g[a.getGlobalZOrder()]||(g[a.getGlobalZOrder()]=[]),g[a.getGlobalZOrder()].push(a.__instanceId));for(;e<f;e++)(m=d[e])&&this._visitTarget(m,!1)}else null!=h[a.__instanceId]&&
(g[a.getGlobalZOrder()]||(g[a.getGlobalZOrder()]=[]),g[a.getGlobalZOrder()].push(a.__instanceId));if(c){var d=[],n;for(n in g)d.push(n);d.sort(this._sortNumberAsc);n=d.length;m=this._nodePriorityMap;for(e=0;e<n;e++)for(f=g[d[e]],h=0;h<f.length;h++)m[f[h]]=++this._nodePriorityIndex;this._globalZOrderNodeMap={}}},_sortNumberAsc:function(a,c){return a-c},addListener:function(a,c){cc.assert(a&&c,cc._LogInfos.eventManager_addListener_2);if(!(a instanceof cc.EventListener))cc.assert(!cc.isNumber(c),cc._LogInfos.eventManager_addListener_3),
a=cc.EventListener.create(a);else if(a._isRegistered()){cc.log(cc._LogInfos.eventManager_addListener_4);return}if(a.checkAvailable()){if(cc.isNumber(c)){if(0===c){cc.log(cc._LogInfos.eventManager_addListener);return}a._setSceneGraphPriority(null);a._setFixedPriority(c);a._setRegistered(!0);a._setPaused(!1)}else a._setSceneGraphPriority(c),a._setFixedPriority(0),a._setRegistered(!0);this._addListener(a);return a}},addCustomListener:function(a,c){var d=new cc._EventListenerCustom(a,c);this.addListener(d,
1);return d},removeListener:function(a){if(null!=a){var c,d=this._listenersMap,e;for(e in d){var f=d[e],g=f.getFixedPriorityListeners();c=f.getSceneGraphPriorityListeners();(c=this._removeListenerInVector(c,a))?this._setDirty(a._getListenerID(),this.DIRTY_SCENE_GRAPH_PRIORITY):(c=this._removeListenerInVector(g,a))&&this._setDirty(a._getListenerID(),this.DIRTY_FIXED_PRIORITY);f.empty()&&(delete this._priorityDirtyFlagMap[a._getListenerID()],delete d[e]);if(c)break}if(!c)for(d=this._toAddedListeners,
e=0,f=d.length;e<f;e++)if(g=d[e],g===a){cc.arrayRemoveObject(d,g);g._setRegistered(!1);break}}},_removeListenerInCallback:function(a,c){if(null==a)return!1;for(var d=0,e=a.length;d<e;d++){var f=a[d];if(f._onCustomEvent===c||f._onEvent===c)return f._setRegistered(!1),null!=f._getSceneGraphPriority()&&(this._dissociateNodeAndEventListener(f._getSceneGraphPriority(),f),f._setSceneGraphPriority(null)),0===this._inDispatch&&cc.arrayRemoveObject(a,f),!0}return!1},_removeListenerInVector:function(a,c){if(null==
a)return!1;for(var d=0,e=a.length;d<e;d++){var f=a[d];if(f===c)return f._setRegistered(!1),null!=f._getSceneGraphPriority()&&(this._dissociateNodeAndEventListener(f._getSceneGraphPriority(),f),f._setSceneGraphPriority(null)),0===this._inDispatch?cc.arrayRemoveObject(a,f):this._toRemovedListeners.push(f),!0}return!1},removeListeners:function(a,c){if(a instanceof cc.Node){delete this._nodePriorityMap[a.__instanceId];cc.arrayRemoveObject(this._dirtyNodes,a);var d=this._nodeListenersMap[a.__instanceId];
if(d){for(var e=cc.copyArray(d),d=0;d<e.length;d++)this.removeListener(e[d]);e.length=0}e=this._toAddedListeners;for(d=0;d<e.length;){var f=e[d];f._getSceneGraphPriority()===a?(f._setSceneGraphPriority(null),f._setRegistered(!1),e.splice(d,1)):++d}if(!0===c)for(e=a.getChildren(),d=0,f=e.length;d<f;d++)this.removeListeners(e[d],!0)}else a===cc.EventListener.TOUCH_ONE_BY_ONE?this._removeListenersForListenerID(cc._EventListenerTouchOneByOne.LISTENER_ID):a===cc.EventListener.TOUCH_ALL_AT_ONCE?this._removeListenersForListenerID(cc._EventListenerTouchAllAtOnce.LISTENER_ID):
a===cc.EventListener.MOUSE?this._removeListenersForListenerID(cc._EventListenerMouse.LISTENER_ID):a===cc.EventListener.ACCELERATION?this._removeListenersForListenerID(cc._EventListenerAcceleration.LISTENER_ID):a===cc.EventListener.KEYBOARD?this._removeListenersForListenerID(cc._EventListenerKeyboard.LISTENER_ID):cc.log(cc._LogInfos.eventManager_removeListeners)},removeCustomListeners:function(a){this._removeListenersForListenerID(a)},removeAllListeners:function(){var a=this._listenersMap,c=this._internalCustomListenerIDs,
d;for(d in a)-1===c.indexOf(d)&&this._removeListenersForListenerID(d)},setPriority:function(a,c){if(null!=a){var d=this._listenersMap,e;for(e in d){var f=d[e].getFixedPriorityListeners();if(f&&-1!==f.indexOf(a)){null!=a._getSceneGraphPriority()&&cc.log(cc._LogInfos.eventManager_setPriority);a._getFixedPriority()!==c&&(a._setFixedPriority(c),this._setDirty(a._getListenerID(),this.DIRTY_FIXED_PRIORITY));break}}}},setEnabled:function(a){this._isEnabled=a},isEnabled:function(){return this._isEnabled},
dispatchEvent:function(a){if(this._isEnabled){this._updateDirtyFlagForSceneGraph();this._inDispatch++;if(!a||!a.getType)throw Error("event is undefined");if(a.getType()===cc.Event.TOUCH)try{this._dispatchTouchEvent(a)}catch(c){cc.log(c)}else{var d=cc.__getListenerID(a);this._sortEventListeners(d);d=this._listenersMap[d];null!=d&&this._dispatchEventToListeners(d,this._onListenerCallback,a);this._updateListeners(a)}this._inDispatch--}},_onListenerCallback:function(a,c){c._setCurrentTarget(a._getSceneGraphPriority());
a._onEvent(c);return c.isStopped()},dispatchCustomEvent:function(a,c){var d=new cc.EventCustom(a);d.setUserData(c);this.dispatchEvent(d)}};cc.EventAcceleration=cc.Event.extend({_acc:null,ctor:function(a){cc.Event.prototype.ctor.call(this,cc.Event.ACCELERATION);this._acc=a}});cc.EventKeyboard=cc.Event.extend({_keyCode:0,_isPressed:!1,ctor:function(a,c){cc.Event.prototype.ctor.call(this,cc.Event.KEYBOARD);this._keyCode=a;this._isPressed=c}});
cc._EventListenerAcceleration=cc.EventListener.extend({_onAccelerationEvent:null,ctor:function(a){this._onAccelerationEvent=a;var c=this;cc.EventListener.prototype.ctor.call(this,cc.EventListener.ACCELERATION,cc._EventListenerAcceleration.LISTENER_ID,function(a){c._onAccelerationEvent(a._acc,a)})},checkAvailable:function(){cc.assert(this._onAccelerationEvent,cc._LogInfos._EventListenerAcceleration_checkAvailable);return!0},clone:function(){return new cc._EventListenerAcceleration(this._onAccelerationEvent)}});
cc._EventListenerAcceleration.LISTENER_ID="__cc_acceleration";cc._EventListenerAcceleration.create=function(a){return new cc._EventListenerAcceleration(a)};
cc._EventListenerKeyboard=cc.EventListener.extend({onKeyPressed:null,onKeyReleased:null,ctor:function(){var a=this;cc.EventListener.prototype.ctor.call(this,cc.EventListener.KEYBOARD,cc._EventListenerKeyboard.LISTENER_ID,function(c){if(c._isPressed){if(a.onKeyPressed)a.onKeyPressed(c._keyCode,c)}else if(a.onKeyReleased)a.onKeyReleased(c._keyCode,c)})},clone:function(){var a=new cc._EventListenerKeyboard;a.onKeyPressed=this.onKeyPressed;a.onKeyReleased=this.onKeyReleased;return a},checkAvailable:function(){return null===
this.onKeyPressed&&null===this.onKeyReleased?(cc.log(cc._LogInfos._EventListenerKeyboard_checkAvailable),!1):!0}});cc._EventListenerKeyboard.LISTENER_ID="__cc_keyboard";cc._EventListenerKeyboard.create=function(){return new cc._EventListenerKeyboard};cc.rendererWebGL=function(){var a={texture:null,blendSrc:null,blendDst:null,shader:null},c=null,d=null,e=0,f=0,g=null,h=0,m=null,n=null;return{mat4Identity:null,childrenOrderDirty:!0,assignedZ:0,assignedZStep:0.01,_transformNodePool:[],_renderCmds:[],_isCacheToBufferOn:!1,_cacheToBufferCmds:{},_cacheInstanceIds:[],_currentID:0,_clearColor:cc.color(),init:function(){var a=cc._renderContext;a.disable(a.CULL_FACE);a.disable(a.DEPTH_TEST);this.mat4Identity=new cc.math.Matrix4;this.mat4Identity.identity();
a=cc._renderContext;null===c&&(d=a.createBuffer(),c=a.createBuffer());a=cc._renderContext;if(c){a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,c);for(var f=new Uint16Array(12E3),t=0,u=0;12E3>u;u+=6)f[u]=t+0,f[u+1]=t+1,f[u+2]=t+2,f[u+3]=t+1,f[u+4]=t+2,f[u+5]=t+3,t+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,f,a.STATIC_DRAW)}d&&(h=48E3,g=new ArrayBuffer(4*h),m=new Float32Array(g),n=new Uint32Array(g),a.bindBuffer(a.ARRAY_BUFFER,d),a.bufferData(a.ARRAY_BUFFER,m,a.DYNAMIC_DRAW));e=8E3},getVertexSize:function(){return e},
getRenderCmd:function(a){return a._createRenderCmd()},_turnToCacheMode:function(a){this._isCacheToBufferOn=!0;a=a||0;this._cacheToBufferCmds[a]?this._cacheToBufferCmds[a].length=0:this._cacheToBufferCmds[a]=[];-1===this._cacheInstanceIds.indexOf(a)&&this._cacheInstanceIds.push(a);this._currentID=a},_turnToNormalMode:function(){this._isCacheToBufferOn=!1},_removeCache:function(a){a=a||this._currentID;var c=this._cacheToBufferCmds[a];c&&(c.length=0,delete this._cacheToBufferCmds[a]);cc.arrayRemoveObject(this._cacheInstanceIds,
a)},_renderingToBuffer:function(a){a=a||this._currentID;this.rendering(cc._renderContext,this._cacheToBufferCmds[a]);this._removeCache(a);a=this._cacheInstanceIds;0===a.length?this._isCacheToBufferOn=!1:this._currentID=a[a.length-1]},resetFlag:function(){this.childrenOrderDirty&&(this.childrenOrderDirty=!1);this._transformNodePool.length=0},transform:function(){var a=this._transformNodePool;a.sort(this._sortNodeByLevelAsc);var c,d,e;c=0;for(d=a.length;c<d;c++)e=a[c],e.updateStatus();a.length=0},transformDirty:function(){return 0<
this._transformNodePool.length},_sortNodeByLevelAsc:function(a,c){return a._curLevel-c._curLevel},pushDirtyNode:function(a){this._transformNodePool.push(a)},clearRenderCommands:function(){this._renderCmds.length=0},clear:function(){var a=cc._renderContext;a.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearColor.a);a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},setDepthTest:function(a){var c=cc._renderContext;a?(c.clearDepth(1),c.enable(c.DEPTH_TEST),c.depthFunc(c.LEQUAL)):
c.disable(c.DEPTH_TEST)},pushRenderCommand:function(a){if(a.needDraw())if(this._isCacheToBufferOn){var c=this._cacheToBufferCmds[this._currentID];-1===c.indexOf(a)&&c.push(a)}else-1===this._renderCmds.indexOf(a)&&this._renderCmds.push(a)},_increaseBatchingSize:function(a){f+=a},_uploadBufferData:function(c){f>=e&&this._batchRendering();var d=c._node._texture,g=c._node._blendFunc.src,h=c._node._blendFunc.dst,w=c._shaderProgram;if(a.texture!==d||a.blendSrc!==g||a.blendDst!==h||a.shader!==w)this._batchRendering(),
a.texture=d,a.blendSrc=g,a.blendDst=h,a.shader=w;c=c.uploadData(m,n,6*f);0<c&&(f+=c)},_batchRendering:function(){if(0!==f&&a.texture){var g=cc._renderContext,h=a.texture,n=a.shader,u=f/4;n&&(n.use(),n._updateProjectionUniform());cc.glBlendFunc(a.blendSrc,a.blendDst);cc.glBindTexture2DN(0,h);g.bindBuffer(g.ARRAY_BUFFER,d);f>0.5*e?g.bufferData(g.ARRAY_BUFFER,m,g.DYNAMIC_DRAW):(h=m.subarray(0,6*f),g.bufferData(g.ARRAY_BUFFER,h,g.DYNAMIC_DRAW));g.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION);g.enableVertexAttribArray(cc.VERTEX_ATTRIB_COLOR);
g.enableVertexAttribArray(cc.VERTEX_ATTRIB_TEX_COORDS);g.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,3,g.FLOAT,!1,24,0);g.vertexAttribPointer(cc.VERTEX_ATTRIB_COLOR,4,g.UNSIGNED_BYTE,!0,24,12);g.vertexAttribPointer(cc.VERTEX_ATTRIB_TEX_COORDS,2,g.FLOAT,!1,24,16);g.bindBuffer(g.ELEMENT_ARRAY_BUFFER,c);g.drawElements(g.TRIANGLES,6*u,g.UNSIGNED_SHORT,0);cc.g_NumberOfDraws++;f=0}},rendering:function(c,d){var e=d||this._renderCmds,g,h,m,n=c||cc._renderContext;n.bindBuffer(gl.ARRAY_BUFFER,null);g=0;for(h=
e.length;g<h;++g)m=e[g],m.uploadData?this._uploadBufferData(m):(0<f&&this._batchRendering(),m.rendering(n));this._batchRendering();a.texture=null}}}();var Region=function(){this._area=this._height=this._width=this._maxY=this._maxX=this._minY=this._minX=0},regionProto=Region.prototype,regionPool=[];function regionCreate(){var a=regionPool.pop();a||(a=new Region);return a}function regionRelease(a){regionPool.push(a)}regionProto.setTo=function(a,c,d,e){this._minX=a;this._minY=c;this._maxX=d;this._maxY=e;this.updateArea();return this};
regionProto.intValues=function(){this._minX=Math.floor(this._minX);this._minY=Math.floor(this._minY);this._maxX=Math.ceil(this._maxX);this._maxY=Math.ceil(this._maxY);this.updateArea()};regionProto.updateArea=function(){this._width=this._maxX-this._minX;this._height=this._maxY-this._minY;this._area=this._width*this._height};
regionProto.union=function(a){0>=this._width||0>=this._height?this.setTo(a._minX,a._minY,a._maxX,a._maxY):(this._minX>a._minX&&(this._minX=a._minX),this._minY>a._minY&&(this._minY=a._minY),this._maxX<a._maxX&&(this._maxX=a._maxX),this._maxY<a._maxY&&(this._maxY=a._maxY),this.updateArea())};regionProto.setEmpty=function(){this._area=this._height=this._width=this._maxY=this._maxX=this._minY=this._minX=0};regionProto.isEmpty=function(){return 0>=this._width||0>=this._height};
regionProto.intersects=function(a){if(0>=this._width||0>=this._height||0>=a._width||0>=a._height)return!1;var c=this._minX>a._minX?this._minX:a._minX,d=this._maxX<a._maxX?this._maxX:a._maxX;if(c>d)return!1;c=this._minY>a._minY?this._minY:a._minY;d=this._maxY<a._maxY?this._maxY:a._maxY;return c<=d};
regionProto.updateRegion=function(a,c){if(0==a.width||0==a.height)this.setEmpty();else{var d=c.a,e=c.b,f=c.c,g=c.d,h=c.tx,m=c.ty,n=a.x,r=a.y,s=n+a.width,t=r+a.height,u,w,z;if(1==d&&0==e&&0==f&&1==g)u=n+h-1,w=r+m-1,z=s+h+1,r=t+m+1;else{u=d*n+f*r+h;w=e*n+g*r+m;z=d*s+f*r+h;var r=e*s+g*r+m,A=d*s+f*t+h,s=e*s+g*t+m,h=d*n+f*t+h,m=e*n+g*t+m,t=0;u>z&&(t=u,u=z,z=t);A>h&&(t=A,A=h,h=t);u=(u<A?u:A)-1;z=(z>h?z:h)+1;w>r&&(t=w,w=r,r=t);s>m&&(t=s,s=m,m=t);w=(w<s?w:s)-1;r=(r>m?r:m)+1}this._minX=u;this._minY=w;this._maxX=
z;this._maxY=r;this._width=z-u;this._height=r-w;this._area=this._width*this._height}};function unionArea(a,c){return((a._maxX>c._maxX?a._maxX:c._maxX)-(a._minX<c._minX?a._minX:c._minX))*((a._maxY>c._maxY?a._maxY:c._maxY)-(a._minY<c._minY?a._minY:c._minY))}var DirtyRegion=function(){this.dirtyList=[];this.hasClipRect=!1;this.clipArea=this.clipHeight=this.clipWidth=0;this.clipRectChanged=!1},dirtyRegionProto=DirtyRegion.prototype;
dirtyRegionProto.setClipRect=function(a,c){this.clipRectChanged=this.hasClipRect=!0;this.clipWidth=Math.ceil(a);this.clipHeight=Math.ceil(c);this.clipArea=this.clipWidth*this.clipHeight};
dirtyRegionProto.addRegion=function(a){var c=a._minX,d=a._minY,e=a._maxX;a=a._maxY;this.hasClipRect&&(0>c&&(c=0),0>d&&(d=0),e>this.clipWidth&&(e=this.clipWidth),a>this.clipHeight&&(a=this.clipHeight));if(c>=e||d>=a)return!1;if(this.clipRectChanged)return!0;var f=this.dirtyList,g=regionCreate();f.push(g.setTo(c,d,e,a));this.mergeDirtyList(f);return!0};dirtyRegionProto.clear=function(){for(var a=this.dirtyList,c=a.length,d=0;d<c;d++)regionRelease(a[d]);a.length=0};
dirtyRegionProto.getDirtyRegions=function(){var a=this.dirtyList;if(this.clipRectChanged){this.clipRectChanged=!1;this.clear();var c=regionCreate();a.push(c.setTo(0,0,this.clipWidth,this.clipHeight))}else for(;this.mergeDirtyList(a););a=this.dirtyList.length;if(0<a)for(c=0;c<a;c++)this.dirtyList[c].intValues();return this.dirtyList};
dirtyRegionProto.mergeDirtyList=function(a){var c=a.length;if(2>c)return!1;for(var d=this.hasClipRect,e=3<c?Number.POSITIVE_INFINITY:0,f=0,g=0,h=0,m=0;m<c-1;m++){var n=a[m];d&&(h+=n.area);for(var r=m+1;r<c;r++){var s=a[r],s=unionArea(n,s)-n.area-s.area;e>s&&(f=m,g=r,e=s)}}d&&0.95<h/this.clipArea&&(this.clipRectChanged=!0);return f!=g?(c=a[g],a[f].union(c),regionRelease(c),a.splice(g,1),!0):!1};cc.Region=Region;cc.DirtyRegion=DirtyRegion;cc._tmp.PrototypeCCNode=function(){var a=cc.Node.prototype;cc.defineGetterSetter(a,"x",a.getPositionX,a.setPositionX);cc.defineGetterSetter(a,"y",a.getPositionY,a.setPositionY);cc.defineGetterSetter(a,"width",a._getWidth,a._setWidth);cc.defineGetterSetter(a,"height",a._getHeight,a._setHeight);cc.defineGetterSetter(a,"anchorX",a._getAnchorX,a._setAnchorX);cc.defineGetterSetter(a,"anchorY",a._getAnchorY,a._setAnchorY);cc.defineGetterSetter(a,"skewX",a.getSkewX,a.setSkewX);cc.defineGetterSetter(a,"skewY",
a.getSkewY,a.setSkewY);cc.defineGetterSetter(a,"zIndex",a.getLocalZOrder,a.setLocalZOrder);cc.defineGetterSetter(a,"vertexZ",a.getVertexZ,a.setVertexZ);cc.defineGetterSetter(a,"rotation",a.getRotation,a.setRotation);cc.defineGetterSetter(a,"rotationX",a.getRotationX,a.setRotationX);cc.defineGetterSetter(a,"rotationY",a.getRotationY,a.setRotationY);cc.defineGetterSetter(a,"scale",a.getScale,a.setScale);cc.defineGetterSetter(a,"scaleX",a.getScaleX,a.setScaleX);cc.defineGetterSetter(a,"scaleY",a.getScaleY,
a.setScaleY);cc.defineGetterSetter(a,"children",a.getChildren);cc.defineGetterSetter(a,"childrenCount",a.getChildrenCount);cc.defineGetterSetter(a,"parent",a.getParent,a.setParent);cc.defineGetterSetter(a,"visible",a.isVisible,a.setVisible);cc.defineGetterSetter(a,"running",a.isRunning);cc.defineGetterSetter(a,"ignoreAnchor",a.isIgnoreAnchorPointForPosition,a.ignoreAnchorPointForPosition);cc.defineGetterSetter(a,"actionManager",a.getActionManager,a.setActionManager);cc.defineGetterSetter(a,"scheduler",
a.getScheduler,a.setScheduler);cc.defineGetterSetter(a,"shaderProgram",a.getShaderProgram,a.setShaderProgram);cc.defineGetterSetter(a,"opacity",a.getOpacity,a.setOpacity);cc.defineGetterSetter(a,"opacityModifyRGB",a.isOpacityModifyRGB);cc.defineGetterSetter(a,"cascadeOpacity",a.isCascadeOpacityEnabled,a.setCascadeOpacityEnabled);cc.defineGetterSetter(a,"color",a.getColor,a.setColor);cc.defineGetterSetter(a,"cascadeColor",a.isCascadeColorEnabled,a.setCascadeColorEnabled)};cc.NODE_TAG_INVALID=-1;cc.s_globalOrderOfArrival=1;
cc.Node=cc.Class.extend({_localZOrder:0,_globalZOrder:0,_vertexZ:0,_customZ:NaN,_nodeName:"",_rotationX:0,_rotationY:0,_scaleX:1,_scaleY:1,_position:null,_normalizedPosition:null,_usingNormalizedPosition:!1,_normalizedPositionDirty:!1,_skewX:0,_skewY:0,_children:null,_visible:!0,_anchorPoint:null,_contentSize:null,_running:!1,_parent:null,_ignoreAnchorPointForPosition:!1,tag:cc.NODE_TAG_INVALID,userData:null,userObject:null,_reorderChildDirty:!1,_shaderProgram:null,arrivalOrder:0,_actionManager:null,
_scheduler:null,_eventDispatcher:null,_additionalTransformDirty:!1,_additionalTransform:null,_componentContainer:null,_isTransitionFinished:!1,_className:"Node",_showNode:!1,_name:"",_realOpacity:255,_realColor:null,_cascadeColorEnabled:!1,_cascadeOpacityEnabled:!1,_renderCmd:null,_scriptHandler:null,ctor:function(){this._initNode();this._initRendererCmd()},_initNode:function(){this._anchorPoint=cc.p(0,0);this._contentSize=cc.size(0,0);this._position=cc.p(0,0);this._normalizedPosition=cc.p(0,0);this._children=
[];var a=cc.director;this._actionManager=a.getActionManager();this._scheduler=a.getScheduler();this._additionalTransform=cc.affineTransformMakeIdentity();cc.ComponentContainer&&(this._componentContainer=new cc.ComponentContainer(this));this._realOpacity=255;this._realColor=cc.color(255,255,255,255);this._cascadeOpacityEnabled=this._cascadeColorEnabled=!1},init:function(){return!0},_arrayMakeObjectsPerformSelector:function(a,c){if(a&&0!==a.length){var d,e=a.length,f;d=cc.Node._stateCallbackType;switch(c){case d.onEnter:for(d=
0;d<e;d++)if(f=a[d])f.onEnter();break;case d.onExit:for(d=0;d<e;d++)if(f=a[d])f.onExit();break;case d.onEnterTransitionDidFinish:for(d=0;d<e;d++)if(f=a[d])f.onEnterTransitionDidFinish();break;case d.cleanup:for(d=0;d<e;d++)(f=a[d])&&f.cleanup();break;case d.updateTransform:for(d=0;d<e;d++)(f=a[d])&&f.updateTransform();break;case d.onExitTransitionDidStart:for(d=0;d<e;d++)if(f=a[d])f.onExitTransitionDidStart();break;case d.sortAllChildren:for(d=0;d<e;d++)(f=a[d])&&f.sortAllChildren();break;default:cc.assert(0,
cc._LogInfos.Node__arrayMakeObjectsPerformSelector)}}},attr:function(a){for(var c in a)this[c]=a[c]},getNodeName:function(){return this._nodeName},setNodeName:function(a){this._nodeName=a},getSkewX:function(){return this._skewX},setSkewX:function(a){this._skewX=a;this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)},getSkewY:function(){return this._skewY},setSkewY:function(a){this._skewY=a;this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)},setLocalZOrder:function(a){this._localZOrder=
a;this._parent&&this._parent.reorderChild(this,a);cc.eventManager._setDirtyForNode(this)},_setLocalZOrder:function(a){this._localZOrder=a},getLocalZOrder:function(){return this._localZOrder},getZOrder:function(){cc.log(cc._LogInfos.Node_getZOrder);return this.getLocalZOrder()},setZOrder:function(a){this.setLocalZOrder(a)},setGlobalZOrder:function(a){this._globalZOrder!==a&&(this._globalZOrder=a,cc.eventManager._setDirtyForNode(this))},getGlobalZOrder:function(){return this._globalZOrder},getVertexZ:function(){return this._vertexZ},
setVertexZ:function(a){this._customZ=this._vertexZ=a},getRotation:function(){this._rotationX!==this._rotationY&&cc.log(cc._LogInfos.Node_getRotation);return this._rotationX},setRotation:function(a){this._rotationX=this._rotationY=a;this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)},getRotationX:function(){return this._rotationX},setRotationX:function(a){this._rotationX=a;this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)},getRotationY:function(){return this._rotationY},
setRotationY:function(a){this._rotationY=a;this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)},getScale:function(){this._scaleX!==this._scaleY&&cc.log(cc._LogInfos.Node_getScale);return this._scaleX},setScale:function(a,c){this._scaleX=a;this._scaleY=c||0===c?c:a;this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)},getScaleX:function(){return this._scaleX},setScaleX:function(a){this._scaleX=a;this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)},getScaleY:function(){return this._scaleY},
setScaleY:function(a){this._scaleY=a;this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)},setPosition:function(a,c){var d=this._position;if(void 0===c){if(d.x===a.x&&d.y===a.y)return;d.x=a.x;d.y=a.y}else{if(d.x===a&&d.y===c)return;d.x=a;d.y=c}this._usingNormalizedPosition=!1;this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)},setNormalizedPosition:function(a,c){var d=this._normalizedPosition;void 0===c?(d.x=a.x,d.y=a.y):(d.x=a,d.y=c);this._normalizedPositionDirty=this._usingNormalizedPosition=
!0;this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)},getPosition:function(){return cc.p(this._position)},getNormalizedPosition:function(){return cc.p(this._normalizedPosition)},getPositionX:function(){return this._position.x},setPositionX:function(a){this._position.x=a;this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)},getPositionY:function(){return this._position.y},setPositionY:function(a){this._position.y=a;this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)},
getChildrenCount:function(){return this._children.length},getChildren:function(){return this._children},isVisibleInParents:function(a){if(!this._visible)return!1;if(this._parent){var c=null;null!=a&&(c=cc.pointApplyAffineTransform(a,this.nodeToParentTransform()));return this._parent.isVisibleInParents(c)}return!0},m_bOriVisible:!0,setOriVisible:function(a){this.m_bOriVisible=a},isOriVisible:function(){return this.m_bOriVisible},containWorldPoint:function(a,c){var d=this.convertToNodeSpace(ccp(a,c)),
e=cc.rect(0,0,this._contentSize.width,this._contentSize.height);return cc.rectContainsPoint(e,d)},setContentWidth:function(a){this.setContentSize(cc.size(a,this._contentSize.height))},setContentHeight:function(a){this.setContentSize(cc.size(this._contentSize.width,a))},getContentWidth:function(){return this._contentSize.width},getContentHeight:function(){return this._contentSize.height},getChildByIdx:function(a){return this._children&&this._children.length>a?this._children[a]:null},boundingBoxInWorld:function(){var a=
cc.rect(0,0,this._contentSize.width,this._contentSize.height),c=this.getNodeToWorldTransform();return a=cc.rectApplyAffineTransform(a,c)},m_intUserData:0,setIntUserData:function(a){this.m_intUserData=a},getIntUserData:function(){return this.m_intUserData},isVisible:function(){return this._visible},setVisible:function(a){this._visible!==a&&((this.m_bOriVisible=this._visible=a)&&this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty),cc.renderer.childrenOrderDirty=!0)},getAnchorPoint:function(){return cc.p(this._anchorPoint)},
setAnchorPoint:function(a,c){var d=this._anchorPoint;if(void 0===c){if(a.x===d.x&&a.y===d.y)return;d.x=a.x;d.y=a.y}else{if(a===d.x&&c===d.y)return;d.x=a;d.y=c}this._renderCmd._updateAnchorPointInPoint()},_getAnchorX:function(){return this._anchorPoint.x},_setAnchorX:function(a){this._anchorPoint.x!==a&&(this._anchorPoint.x=a,this._renderCmd._updateAnchorPointInPoint())},_getAnchorY:function(){return this._anchorPoint.y},_setAnchorY:function(a){this._anchorPoint.y!==a&&(this._anchorPoint.y=a,this._renderCmd._updateAnchorPointInPoint())},
getAnchorPointInPoints:function(){return this._renderCmd.getAnchorPointInPoints()},_getWidth:function(){return this._contentSize.width},_setWidth:function(a){this._contentSize.width=a;this._renderCmd._updateAnchorPointInPoint()},_getHeight:function(){return this._contentSize.height},_setHeight:function(a){this._contentSize.height=a;this._renderCmd._updateAnchorPointInPoint()},getContentSize:function(){return cc.size(this._contentSize)},setContentSize:function(a,c){var d=this._contentSize;if(void 0===
c){if(a.width===d.width&&a.height===d.height)return;d.width=a.width;d.height=a.height}else{if(a===d.width&&c===d.height)return;d.width=a;d.height=c}this._renderCmd._updateAnchorPointInPoint()},isRunning:function(){return this._running},getParent:function(){return this._parent},setParent:function(a){this._parent=a;this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)},isIgnoreAnchorPointForPosition:function(){return this._ignoreAnchorPointForPosition},ignoreAnchorPointForPosition:function(a){a!==
this._ignoreAnchorPointForPosition&&(this._ignoreAnchorPointForPosition=a,this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty))},getTag:function(){return this.tag},setTag:function(a){this.tag=a},setName:function(a){this._name=a},getName:function(){return this._name},getUserData:function(){return this.userData},setUserData:function(a){this.userData=a},getUserObject:function(){return this.userObject},setUserObject:function(a){this.userObject!==a&&(this.userObject=a)},getOrderOfArrival:function(){return this.arrivalOrder},
setOrderOfArrival:function(a){this.arrivalOrder=a},getActionManager:function(){this._actionManager||(this._actionManager=cc.director.getActionManager());return this._actionManager},setActionManager:function(a){this._actionManager!==a&&(this.stopAllActions(),this._actionManager=a)},getScheduler:function(){this._scheduler||(this._scheduler=cc.director.getScheduler());return this._scheduler},setScheduler:function(a){this._scheduler!==a&&(this.unscheduleAllCallbacks(),this._scheduler=a)},boundingBox:function(){cc.log(cc._LogInfos.Node_boundingBox);
return this.getBoundingBox()},getBoundingBox:function(){var a=cc.rect(0,0,this._contentSize.width,this._contentSize.height);return cc._rectApplyAffineTransformIn(a,this.getNodeToParentTransform())},cleanup:function(){this.stopAllActions();this.unscheduleAllCallbacks();cc.eventManager.removeListeners(this);this._arrayMakeObjectsPerformSelector(this._children,cc.Node._stateCallbackType.cleanup)},getChildByTag:function(a){var c=this._children;if(null!==c)for(var d=0;d<c.length;d++){var e=c[d];if(e&&
e.tag===a)return e}return null},getChildByName:function(a){if(!a)return cc.log("Invalid name"),null;for(var c=this._children,d=0,e=c.length;d<e;d++)if(c[d]._name===a)return c[d];return null},addChild:function(a,c,d){c=void 0===c?a._localZOrder:c;var e,f=!1;cc.isUndefined(d)?(d=void 0,e=a._name):cc.isString(d)?(e=d,d=void 0):cc.isNumber(d)&&(f=!0,e="");cc.assert(a,cc._LogInfos.Node_addChild_3);cc.assert(null===a._parent,"child already added. It can't be added again");this._addChildHelper(a,c,d,e,f)},
_addChildHelper:function(a,c,d,e,f){this._children||(this._children=[]);this._insertChild(a,c);f?a.setTag(d):a.setName(e);a.setParent(this);a.setOrderOfArrival(cc.s_globalOrderOfArrival++);if(this._running&&(a.onEnter(),this._isTransitionFinished))a.onEnterTransitionDidFinish();a._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty);this._cascadeColorEnabled&&a._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.colorDirty);this._cascadeOpacityEnabled&&a._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.opacityDirty)},
removeFromParent:function(a){this._parent&&(void 0===a&&(a=!0),this._parent.removeChild(this,a))},removeFromParentAndCleanup:function(a){this.removeFromParent(a)},removeChild:function(a,c){0!==this._children.length&&(void 0===c&&(c=!0),-1<this._children.indexOf(a)&&this._detachChild(a,c),cc.renderer.childrenOrderDirty=!0)},removeChildByTag:function(a,c){a===cc.NODE_TAG_INVALID&&cc.log(cc._LogInfos.Node_removeChildByTag);var d=this.getChildByTag(a);d?this.removeChild(d,c):cc.log(cc._LogInfos.Node_removeChildByTag_2,
a)},removeAllChildrenWithCleanup:function(a){this.removeAllChildren(a)},removeAllChildren:function(a){var c=this._children;if(null!==c){void 0===a&&(a=!0);for(var d=0;d<c.length;d++){var e=c[d];e&&(this._running&&(e.onExitTransitionDidStart(),e.onExit()),a&&e.cleanup(),e.parent=null,e._renderCmd.detachFromParent(a))}this._children.length=0;cc.renderer.childrenOrderDirty=!0}},_detachChild:function(a,c){this._running&&(a.onExitTransitionDidStart(),a.onExit());c&&a.cleanup();a.parent=null;a._renderCmd.detachFromParent(c);
cc.arrayRemoveObject(this._children,a)},_insertChild:function(a,c){cc.renderer.childrenOrderDirty=this._reorderChildDirty=!0;this._children.push(a);a._setLocalZOrder(c)},setNodeDirty:function(){this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)},reorderChild:function(a,c){cc.assert(a,cc._LogInfos.Node_reorderChild);cc.renderer.childrenOrderDirty=this._reorderChildDirty=!0;a.arrivalOrder=cc.s_globalOrderOfArrival;cc.s_globalOrderOfArrival++;a._setLocalZOrder(c);this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.orderDirty)},
sortAllChildren:function(){if(this._reorderChildDirty){var a=this._children,c=a.length,d,e,f;for(d=1;d<c;d++){f=a[d];for(e=d-1;0<=e;){if(f._localZOrder<a[e]._localZOrder)a[e+1]=a[e];else if(f._localZOrder===a[e]._localZOrder&&f.arrivalOrder<a[e].arrivalOrder)a[e+1]=a[e];else break;e--}a[e+1]=f}this._reorderChildDirty=!1}},draw:function(a){},transformAncestors:function(){null!==this._parent&&(this._parent.transformAncestors(),this._parent.transform())},registerScriptHandler:function(a){this._scriptHandler=
a},onEnter:function(){this._isTransitionFinished=!1;this._running=!0;this._scriptHandler&&this._scriptHandler("enter",this);this._arrayMakeObjectsPerformSelector(this._children,cc.Node._stateCallbackType.onEnter);this.resume()},onEnterTransitionDidFinish:function(){this._isTransitionFinished=!0;this._arrayMakeObjectsPerformSelector(this._children,cc.Node._stateCallbackType.onEnterTransitionDidFinish)},onExitTransitionDidStart:function(){this._scriptHandler&&this._scriptHandler("exitTransitionStart",
this);this._arrayMakeObjectsPerformSelector(this._children,cc.Node._stateCallbackType.onExitTransitionDidStart)},onExit:function(){this._running=!1;this._scriptHandler&&this._scriptHandler("exit",this);this.pause();this._arrayMakeObjectsPerformSelector(this._children,cc.Node._stateCallbackType.onExit);this.removeAllComponents()},runAction:function(a){cc.assert(a,cc._LogInfos.Node_runAction);this.actionManager.addAction(a,this,!this._running);return a},stopAllActions:function(){this.actionManager&&
this.actionManager.removeAllActionsFromTarget(this)},stopAction:function(a){this.actionManager.removeAction(a)},stopActionByTag:function(a){a===cc.ACTION_TAG_INVALID?cc.log(cc._LogInfos.Node_stopActionByTag):this.actionManager.removeActionByTag(a,this)},getActionByTag:function(a){return a===cc.ACTION_TAG_INVALID?(cc.log(cc._LogInfos.Node_getActionByTag),null):this.actionManager.getActionByTag(a,this)},getNumberOfRunningActions:function(){return this.actionManager.numberOfRunningActionsInTarget(this)},
scheduleUpdate:function(){this.scheduleUpdateWithPriority(0)},scheduleUpdateWithPriority:function(a){this.scheduler.scheduleUpdate(this,a,!this._running)},unscheduleUpdate:function(){this.scheduler.unscheduleUpdate(this)},schedule:function(a,c,d,e,f){var g=arguments.length;"function"===typeof a?1===g?(c=0,d=cc.REPEAT_FOREVER,e=0,f=this.__instanceId):2===g?"number"===typeof c?(d=cc.REPEAT_FOREVER,e=0,f=this.__instanceId):(f=c,c=0,d=cc.REPEAT_FOREVER,e=0):3===g?("string"===typeof d?(f=d,d=cc.REPEAT_FOREVER):
f=this.__instanceId,e=0):4===g&&(f=this.__instanceId):1===g?(c=0,d=cc.REPEAT_FOREVER,e=0):2===g&&(d=cc.REPEAT_FOREVER,e=0);cc.assert(a,cc._LogInfos.Node_schedule);cc.assert(0<=c,cc._LogInfos.Node_schedule_2);d=null==d?cc.REPEAT_FOREVER:d;this.scheduler.schedule(a,this,c||0,d,e||0,!this._running,f)},scheduleOnce:function(a,c,d){void 0===d&&(d=this.__instanceId);this.schedule(a,0,0,c,d)},unschedule:function(a){a&&this.scheduler.unschedule(a,this)},unscheduleAllCallbacks:function(){this.scheduler.unscheduleAllForTarget(this)},
resumeSchedulerAndActions:function(){cc.log(cc._LogInfos.Node_resumeSchedulerAndActions);this.resume()},resume:function(){this.scheduler.resumeTarget(this);this.actionManager&&this.actionManager.resumeTarget(this);cc.eventManager.resumeTarget(this)},pauseSchedulerAndActions:function(){cc.log(cc._LogInfos.Node_pauseSchedulerAndActions);this.pause()},pause:function(){this.scheduler.pauseTarget(this);this.actionManager&&this.actionManager.pauseTarget(this);cc.eventManager.pauseTarget(this)},setAdditionalTransform:function(a){if(void 0===
a)return this._additionalTransformDirty=!1;this._additionalTransform=a;this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty);this._additionalTransformDirty=!0},getParentToNodeTransform:function(){return this._renderCmd.getParentToNodeTransform()},parentToNodeTransform:function(){return this.getParentToNodeTransform()},getNodeToWorldTransform:function(){for(var a=this.getNodeToParentTransform(),c=this._parent;null!==c;c=c.parent)a=cc.affineTransformConcat(a,c.getNodeToParentTransform());
return a},nodeToWorldTransform:function(){return this.getNodeToWorldTransform()},getWorldToNodeTransform:function(){return cc.affineTransformInvert(this.getNodeToWorldTransform())},worldToNodeTransform:function(){return this.getWorldToNodeTransform()},convertToNodeSpace:function(a){return cc.pointApplyAffineTransform(a,this.getWorldToNodeTransform())},convertToWorldSpace:function(a){a=a||cc.p(0,0);return cc.pointApplyAffineTransform(a,this.getNodeToWorldTransform())},convertToNodeSpaceAR:function(a){return cc.pSub(this.convertToNodeSpace(a),
this._renderCmd.getAnchorPointInPoints())},convertToWorldSpaceAR:function(a){a=a||cc.p(0,0);a=cc.pAdd(a,this._renderCmd.getAnchorPointInPoints());return this.convertToWorldSpace(a)},_convertToWindowSpace:function(a){a=this.convertToWorldSpace(a);return cc.director.convertToUI(a)},convertTouchToNodeSpace:function(a){a=a.getLocation();return this.convertToNodeSpace(a)},convertTouchToNodeSpaceAR:function(a){a=cc.director.convertToGL(a.getLocation());return this.convertToNodeSpaceAR(a)},update:function(a){this._componentContainer&&
!this._componentContainer.isEmpty()&&this._componentContainer.visit(a)},updateTransform:function(){this._arrayMakeObjectsPerformSelector(this._children,cc.Node._stateCallbackType.updateTransform)},retain:function(){},release:function(){},getComponent:function(a){return this._componentContainer?this._componentContainer.getComponent(a):null},addComponent:function(a){this._componentContainer&&this._componentContainer.add(a)},removeComponent:function(a){return this._componentContainer?this._componentContainer.remove(a):
!1},removeAllComponents:function(){this._componentContainer&&this._componentContainer.removeAll()},grid:null,visit:function(a){this._renderCmd.visit(a)},transform:function(a,c){this._renderCmd.transform(a,c)},nodeToParentTransform:function(){return this.getNodeToParentTransform()},getNodeToParentTransform:function(a){var c=this._renderCmd.getNodeToParentTransform();if(a)for(var c={a:c.a,b:c.b,c:c.c,d:c.d,tx:c.tx,ty:c.ty},d=this._parent;null!=d&&d!=a;d=d.getParent())cc.affineTransformConcatIn(c,d.getNodeToParentTransform());
return c},getNodeToParentAffineTransform:function(a){return this.getNodeToParentTransform(a)},getCamera:function(){return null},getGrid:function(){return this.grid},setGrid:function(a){this.grid=a},getShaderProgram:function(){return this._renderCmd.getShaderProgram()},setShaderProgram:function(a){this._renderCmd.setShaderProgram(a)},setShaderProgramByKey:function(a){var c=cc.shaderCache.programForKey(a);c&&this._renderCmd.setShaderProgram(c);cc._renderType===cc.game.RENDER_TYPE_CANVAS&&(a==cc.SHADER_SPRITE_POSITION_TEXTURECOLOR?
this.setColor(cc.color(255,255,255)):a==cc.SHADER_SPRITE_POSITION_TEXTURECOLOR_GRAY&&this.setColor(cc.color(150,150,150)))},getGLServerState:function(){return 0},setGLServerState:function(a){},getBoundingBoxToWorld:function(){var a=cc.rect(0,0,this._contentSize.width,this._contentSize.height),c=this.getNodeToWorldTransform(),a=cc.rectApplyAffineTransform(a,c);if(!this._children)return a;for(var d=this._children,e=0;e<d.length;e++){var f=d[e];f&&f._visible&&(f=f._getBoundingBoxToCurrentNode(c))&&(a=
cc.rectUnion(a,f))}return a},_getBoundingBoxToCurrentNode:function(a){var c=cc.rect(0,0,this._contentSize.width,this._contentSize.height);a=void 0===a?this.getNodeToParentTransform():cc.affineTransformConcat(this.getNodeToParentTransform(),a);c=cc.rectApplyAffineTransform(c,a);if(!this._children)return c;for(var d=this._children,e=0;e<d.length;e++){var f=d[e];f&&f._visible&&(f=f._getBoundingBoxToCurrentNode(a))&&(c=cc.rectUnion(c,f))}return c},getOpacity:function(){return this._realOpacity},getDisplayedOpacity:function(){return this._renderCmd.getDisplayedOpacity()},
setOpacity:function(a){this._realOpacity=a;this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.opacityDirty)},updateDisplayedOpacity:function(a){this._renderCmd._updateDisplayOpacity(a)},isCascadeOpacityEnabled:function(){return this._cascadeOpacityEnabled},setCascadeOpacityEnabled:function(a){this._cascadeOpacityEnabled!==a&&(this._cascadeOpacityEnabled=a,this._renderCmd.setCascadeOpacityEnabledDirty())},getColor:function(){var a=this._realColor;return cc.color(a.r,a.g,a.b,a.a)},getDisplayedColor:function(){return this._renderCmd.getDisplayedColor()},
setColor:function(a){var c=this._realColor;c.r=a.r;c.g=a.g;c.b=a.b;this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.colorDirty)},updateDisplayedColor:function(a){this._renderCmd._updateDisplayColor(a)},isCascadeColorEnabled:function(){return this._cascadeColorEnabled},setCascadeColorEnabled:function(a){this._cascadeColorEnabled!==a&&(this._cascadeColorEnabled=a,this._renderCmd.setCascadeColorEnabledDirty())},setOpacityModifyRGB:function(a){},isOpacityModifyRGB:function(){return!1},_initRendererCmd:function(){this._renderCmd=
cc.renderer.getRenderCmd(this)},_createRenderCmd:function(){return cc._renderType===cc.game.RENDER_TYPE_CANVAS?new cc.Node.CanvasRenderCmd(this):new cc.Node.WebGLRenderCmd(this)},enumerateChildren:function(a,c){cc.assert(a&&0!=a.length,"Invalid name");cc.assert(null!=c,"Invalid callback function");var d=a.length,e=0,f=d,g=!1;2<d&&"/"===a[0]&&"/"===a[1]&&(g=!0,e=2,f-=2);var h=!1;3<d&&"/"===a[d-3]&&"."===a[d-2]&&"."===a[d-1]&&(h=!0,f-=3);d=a.substr(e,f);h&&(d="[[:alnum:]]+/"+d);g?this.doEnumerateRecursive(this,
d,c):this.doEnumerate(d,c)},doEnumerateRecursive:function(a,c,d){if(!a.doEnumerate(c,d))for(var e=a.getChildren(),f=e.length,g=0;g<f&&(a=e[g],!this.doEnumerateRecursive(a,c,d));g++);},doEnumerate:function(a,c){var d=a.indexOf("/"),e=a,f=!1;-1!==d&&(e=a.substr(0,d),f=!0);for(var d=!1,g,h=this._children,m=h.length,n=0;n<m;n++)if(g=h[n],-1!==g._name.indexOf(e))if(f){if(d=g.doEnumerate(a,c))break}else if(c(g)){d=!0;break}return d}});cc.Node.create=function(){return new cc.Node};
cc.Node._stateCallbackType={onEnter:1,onExit:2,cleanup:3,onEnterTransitionDidFinish:4,updateTransform:5,onExitTransitionDidStart:6,sortAllChildren:7};cc.assert(cc.isFunction(cc._tmp.PrototypeCCNode),cc._LogInfos.MissingFile,"BaseNodesPropertyDefine.js");cc._tmp.PrototypeCCNode();delete cc._tmp.PrototypeCCNode;cc.CustomRenderCmd=function(a,c){this._needDraw=!0;this._target=a;this._callback=c;this.rendering=function(a,c,f){this._callback&&this._callback.call(this._target,a,c,f)};this.needDraw=function(){return this._needDraw}};cc.Node._dirtyFlags={transformDirty:1,visibleDirty:2,colorDirty:4,opacityDirty:8,cacheDirty:16,orderDirty:32,textDirty:64,gradientDirty:128,textureDirty:256,contentDirty:512,COUNT:10,all:1023};
cc.Node.RenderCmd=function(a){this._dirtyFlag=1;this._savedDirtyFlag=!0;this._node=a;this._needDraw=!1;this._anchorPointInPoints=new cc.Point(0,0);this._transform={a:1,b:0,c:0,d:1,tx:0,ty:0};this._worldTransform={a:1,b:0,c:0,d:1,tx:0,ty:0};this._inverse={a:1,b:0,c:0,d:1,tx:0,ty:0};this._displayedOpacity=255;this._displayedColor=cc.color(255,255,255,255);this._cascadeOpacityEnabledDirty=this._cascadeColorEnabledDirty=!1;this._curLevel=-1};
cc.Node.RenderCmd.prototype={constructor:cc.Node.RenderCmd,needDraw:function(){return this._needDraw},getAnchorPointInPoints:function(){return cc.p(this._anchorPointInPoints)},getDisplayedColor:function(){var a=this._displayedColor;return cc.color(a.r,a.g,a.b,a.a)},getDisplayedOpacity:function(){return this._displayedOpacity},setCascadeColorEnabledDirty:function(){this._cascadeColorEnabledDirty=!0;this.setDirtyFlag(cc.Node._dirtyFlags.colorDirty)},setCascadeOpacityEnabledDirty:function(){this._cascadeOpacityEnabledDirty=
!0;this.setDirtyFlag(cc.Node._dirtyFlags.opacityDirty)},getParentToNodeTransform:function(){this._dirtyFlag&cc.Node._dirtyFlags.transformDirty&&(this._inverse=cc.affineTransformInvert(this.getNodeToParentTransform()));return this._inverse},detachFromParent:function(a){for(var c=this._node._children,d,e=0,f=c.length;e<f;e++)(d=c[e])&&d._renderCmd&&d._renderCmd.detachFromParent(a)},_updateAnchorPointInPoint:function(){var a=this._anchorPointInPoints,c=this._node._contentSize,d=this._node._anchorPoint;
a.x=c.width*d.x;a.y=c.height*d.y;this.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)},setDirtyFlag:function(a){0===this._dirtyFlag&&0!==a&&cc.renderer.pushDirtyNode(this);this._dirtyFlag|=a},getParentRenderCmd:function(){return this._node&&this._node._parent&&this._node._parent._renderCmd?this._node._parent._renderCmd:null},transform:function(a,c){var d=this._node,e=a?a._worldTransform:null,f=this._transform,g=this._worldTransform;if(d._usingNormalizedPosition&&d._parent){var h=d._parent._contentSize;
d._position.x=d._normalizedPosition.x*h.width;d._position.y=d._normalizedPosition.y*h.height;d._normalizedPositionDirty=!1}var m=d._rotationX||d._rotationY,n=d._skewX||d._skewY,r=d._scaleX,s=d._scaleY,h=this._anchorPointInPoints.x,t=this._anchorPointInPoints.y,u=1,w=0,z=0,A=1;if(m||n){f.tx=d._position.x;f.ty=d._position.y;m&&(u=0.017453292519943295*d._rotationX,z=Math.sin(u),A=Math.cos(u),d._rotationY===d._rotationX?(u=A,w=-z):(w=0.017453292519943295*d._rotationY,u=Math.cos(w),w=-Math.sin(w)));f.a=
u*=r;f.b=w*=r;f.c=z*=s;f.d=A*=s;n&&(n=Math.tan(d._skewX*Math.PI/180),r=Math.tan(d._skewY*Math.PI/180),Infinity===n&&(n=99999999),Infinity===r&&(r=99999999),f.a=u+z*r,f.b=w+A*r,f.c=z+u*n,f.d=A+w*n);if(h||t)f.tx-=f.a*h+f.c*t,f.ty-=f.b*h+f.d*t,d._ignoreAnchorPointForPosition&&(f.tx+=h,f.ty+=t);e?(g.a=f.a*e.a+f.b*e.c,g.b=f.a*e.b+f.b*e.d,g.c=f.c*e.a+f.d*e.c,g.d=f.c*e.b+f.d*e.d,g.tx=e.a*f.tx+e.c*f.ty+e.tx,g.ty=e.d*f.ty+e.ty+e.b*f.tx):(g.a=f.a,g.b=f.b,g.c=f.c,g.d=f.d,g.tx=f.tx,g.ty=f.ty)}else{f.a=r;f.b=
0;f.c=0;f.d=s;f.tx=d._position.x;f.ty=d._position.y;if(h||t)f.tx-=f.a*h,f.ty-=f.d*t,d._ignoreAnchorPointForPosition&&(f.tx+=h,f.ty+=t);e?(g.a=f.a*e.a+f.b*e.c,g.b=f.a*e.b+f.b*e.d,g.c=f.c*e.a+f.d*e.c,g.d=f.c*e.b+f.d*e.d,g.tx=f.tx*e.a+f.ty*e.c+e.tx,g.ty=f.tx*e.b+f.ty*e.d+e.ty):(g.a=f.a,g.b=f.b,g.c=f.c,g.d=f.d,g.tx=f.tx,g.ty=f.ty)}d._additionalTransformDirty&&(this._transform=cc.affineTransformConcat(f,d._additionalTransform));this._updateCurrentRegions&&this._updateCurrentRegions();this._notifyRegionStatus&&
this._notifyRegionStatus(cc.Node.CanvasRenderCmd.RegionStatus.DirtyDouble);if(c){d=this._node._children;if(!d||0===d.length)return;e=0;for(f=d.length;e<f;e++)d[e].isVisible()&&d[e]._renderCmd.transform(this,c)}this._cacheDirty=!0},getNodeToParentTransform:function(){this._dirtyFlag&cc.Node._dirtyFlags.transformDirty&&this.transform();return this._transform},visit:function(a){var c=this._node,d=cc.renderer;if(c._visible){if(a=a||this.getParentRenderCmd())this._curLevel=a._curLevel+1;isNaN(c._customZ)&&
(c._vertexZ=d.assignedZ,d.assignedZ+=d.assignedZStep);this._syncStatus(a);this.visitChildren()}},_updateDisplayColor:function(a){var c=this._node,d=this._displayedColor,e=c._realColor,f;this._notifyRegionStatus&&this._notifyRegionStatus(cc.Node.CanvasRenderCmd.RegionStatus.Dirty);if(this._cascadeColorEnabledDirty&&!c._cascadeColorEnabled){d.r=e.r;d.g=e.g;d.b=e.b;d=new cc.Color(255,255,255,255);a=c._children;c=0;for(e=a.length;c<e;c++)(f=a[c])&&f._renderCmd&&f._renderCmd._updateDisplayColor(d);this._cascadeColorEnabledDirty=
!1}else if(void 0===a&&(a=(a=c._parent)&&a._cascadeColorEnabled?a.getDisplayedColor():cc.color.WHITE),d.r=0|e.r*a.r/255,d.g=0|e.g*a.g/255,d.b=0|e.b*a.b/255,c._cascadeColorEnabled)for(a=c._children,c=0,e=a.length;c<e;c++)(f=a[c])&&f._renderCmd&&(f._renderCmd._updateDisplayColor(d),f._renderCmd._updateColor());this._dirtyFlag^=this._dirtyFlag&cc.Node._dirtyFlags.colorDirty},_updateDisplayOpacity:function(a){var c=this._node,d,e;this._notifyRegionStatus&&this._notifyRegionStatus(cc.Node.CanvasRenderCmd.RegionStatus.Dirty);
if(this._cascadeOpacityEnabledDirty&&!c._cascadeOpacityEnabled){this._displayedOpacity=c._realOpacity;d=c._children;a=0;for(c=d.length;a<c;a++)(e=d[a])&&e._renderCmd&&e._renderCmd._updateDisplayOpacity(255);this._cascadeOpacityEnabledDirty=!1}else if(void 0===a&&(d=c._parent,a=255,d&&d._cascadeOpacityEnabled&&(a=d.getDisplayedOpacity())),this._displayedOpacity=c._realOpacity*a/255,c._cascadeOpacityEnabled)for(d=c._children,a=0,c=d.length;a<c;a++)(e=d[a])&&e._renderCmd&&(e._renderCmd._updateDisplayOpacity(this._displayedOpacity),
e._renderCmd._updateColor());this._dirtyFlag^=this._dirtyFlag&cc.Node._dirtyFlags.opacityDirty},_syncDisplayColor:function(a){var c=this._node,d=this._displayedColor,e=c._realColor;void 0===a&&(a=(a=c._parent)&&a._cascadeColorEnabled?a.getDisplayedColor():cc.color.WHITE);d.r=0|e.r*a.r/255;d.g=0|e.g*a.g/255;d.b=0|e.b*a.b/255},_syncDisplayOpacity:function(a){var c=this._node;if(void 0===a){var d=c._parent;a=255;d&&d._cascadeOpacityEnabled&&(a=d.getDisplayedOpacity())}this._displayedOpacity=c._realOpacity*
a/255},_updateColor:function(){},updateStatus:function(){var a=cc.Node._dirtyFlags,c=this._dirtyFlag,d=c&a.colorDirty,e=c&a.opacityDirty;this._savedDirtyFlag=this._savedDirtyFlag||c;d&&this._updateDisplayColor();e&&this._updateDisplayOpacity();(d||e)&&this._updateColor();c&a.transformDirty&&(this.transform(this.getParentRenderCmd(),!0),this._dirtyFlag^=this._dirtyFlag&a.transformDirty);c&a.orderDirty&&(this._dirtyFlag^=this._dirtyFlag&a.orderDirty)},_syncStatus:function(a){var c=cc.Node._dirtyFlags,
d=this._dirtyFlag,e=null;a?(e=a._node,this._savedDirtyFlag=this._savedDirtyFlag||a._savedDirtyFlag||d):this._savedDirtyFlag=this._savedDirtyFlag||d;e&&e._cascadeColorEnabled&&a._dirtyFlag&c.colorDirty&&(d|=c.colorDirty);e&&e._cascadeOpacityEnabled&&a._dirtyFlag&c.opacityDirty&&(d|=c.opacityDirty);a&&a._dirtyFlag&c.transformDirty&&(d|=c.transformDirty);var e=d&c.colorDirty,f=d&c.opacityDirty;this._dirtyFlag=d;e&&this._syncDisplayColor();f&&this._syncDisplayOpacity();(e||f)&&this._updateColor();d&c.transformDirty&&
this.transform(a);d&c.orderDirty&&(this._dirtyFlag^=this._dirtyFlag&c.orderDirty)},visitChildren:function(){var a=cc.renderer,c=this._node,d=c._children,e,f=d.length;if(0<f){c.sortAllChildren();for(c=0;c<f;c++)if(e=d[c],0>e._localZOrder)e._renderCmd.visit(this);else break;for(a.pushRenderCommand(this);c<f;c++)d[c]._renderCmd.visit(this)}else a.pushRenderCommand(this);this._dirtyFlag=0}};cc.Node.RenderCmd.prototype.originVisit=cc.Node.RenderCmd.prototype.visit;
cc.Node.RenderCmd.prototype.originTransform=cc.Node.RenderCmd.prototype.transform;(function(){cc.Node.WebGLRenderCmd=function(a){cc.Node.RenderCmd.call(this,a);this._shaderProgram=null};var a=cc.Node.WebGLRenderCmd.prototype=Object.create(cc.Node.RenderCmd.prototype);a.constructor=cc.Node.WebGLRenderCmd;a._updateColor=function(){};a.setShaderProgram=function(a){this._shaderProgram=a};a.getShaderProgram=function(){return this._shaderProgram}})();cc.AtlasNode=cc.Node.extend({textureAtlas:null,quadsToDraw:0,_itemsPerRow:0,_itemsPerColumn:0,_itemWidth:0,_itemHeight:0,_opacityModifyRGB:!1,_blendFunc:null,_ignoreContentScaleFactor:!1,_className:"AtlasNode",_texture:null,_textureForCanvas:null,ctor:function(a,c,d,e){cc.Node.prototype.ctor.call(this);this._blendFunc={src:cc.BLEND_SRC,dst:cc.BLEND_DST};this._ignoreContentScaleFactor=!1;void 0!==e&&this.initWithTileFile(a,c,d,e)},_createRenderCmd:function(){this._renderCmd=cc._renderType===cc.game.RENDER_TYPE_CANVAS?
new cc.AtlasNode.CanvasRenderCmd(this):new cc.AtlasNode.WebGLRenderCmd(this)},updateAtlasValues:function(){cc.log(cc._LogInfos.AtlasNode_updateAtlasValues)},getColor:function(){return this._opacityModifyRGB?this._renderCmd._colorUnmodified:cc.Node.prototype.getColor.call(this)},setOpacityModifyRGB:function(a){var c=this.color;this._opacityModifyRGB=a;this.setColor(c)},isOpacityModifyRGB:function(){return this._opacityModifyRGB},getBlendFunc:function(){return this._blendFunc},setBlendFunc:function(a,
c){this._blendFunc=void 0===c?a:{src:a,dst:c}},setTextureAtlas:function(a){this.textureAtlas=a},getTextureAtlas:function(){return this.textureAtlas},getQuadsToDraw:function(){return this.quadsToDraw},setQuadsToDraw:function(a){this.quadsToDraw=a},initWithTileFile:function(a,c,d,e){if(!a)throw Error("cc.AtlasNode.initWithTileFile(): title should not be null");a=cc.textureCache.addImage(a);return this.initWithTexture(a,c,d,e)},initWithTexture:function(a,c,d,e){return this._renderCmd.initWithTexture(a,
c,d,e)},setColor:function(a){this._renderCmd.setColor(a)},setOpacity:function(a){this._renderCmd.setOpacity(a)},getTexture:function(){return this._texture},setTexture:function(a){this._texture=a},_setIgnoreContentScaleFactor:function(a){this._ignoreContentScaleFactor=a}});_p=cc.AtlasNode.prototype;cc.defineGetterSetter(_p,"opacity",_p.getOpacity,_p.setOpacity);cc.defineGetterSetter(_p,"color",_p.getColor,_p.setColor);cc.defineGetterSetter(_p,"texture",_p.getTexture,_p.setTexture);cc.EventHelper.prototype.apply(_p);
cc.AtlasNode.create=function(a,c,d,e){return new cc.AtlasNode(a,c,d,e)};(function(){cc.AtlasNode.WebGLRenderCmd=function(a){cc.Node.WebGLRenderCmd.call(this,a);this._needDraw=!0;this._textureAtlas=null;this._colorUnmodified=cc.color.WHITE;this._uniformColor=this._colorF32Array=null;this._matrix=new cc.math.Matrix4;this._matrix.identity();this._shaderProgram=cc.shaderCache.programForKey(cc.SHADER_POSITION_TEXTURE_UCOLOR);this._uniformColor=cc._renderContext.getUniformLocation(this._shaderProgram.getProgram(),"u_color")};var a=cc.AtlasNode.WebGLRenderCmd.prototype=Object.create(cc.Node.WebGLRenderCmd.prototype);
a.constructor=cc.AtlasNode.WebGLRenderCmd;a._updateBlendFunc=function(){var a=this._node;this._textureAtlas.texture.hasPremultipliedAlpha()||(a._blendFunc.src=cc.SRC_ALPHA,a._blendFunc.dst=cc.ONE_MINUS_SRC_ALPHA)};a._updateOpacityModifyRGB=function(){this._node._opacityModifyRGB=this._textureAtlas.texture.hasPremultipliedAlpha()};a.rendering=function(a){a=a||cc._renderContext;var d=this._node,e=this._worldTransform;this._matrix.mat[0]=e.a;this._matrix.mat[4]=e.c;this._matrix.mat[12]=e.tx;this._matrix.mat[1]=
e.b;this._matrix.mat[5]=e.d;this._matrix.mat[13]=e.ty;this._shaderProgram.use();this._shaderProgram._setUniformForMVPMatrixWithMat4(this._matrix);cc.glBlendFunc(d._blendFunc.src,d._blendFunc.dst);this._uniformColor&&this._colorF32Array&&(a.uniform4fv(this._uniformColor,this._colorF32Array),this._textureAtlas.drawNumberOfQuads(d.quadsToDraw,0))};a.initWithTexture=function(a,d,e,f){var g=this._node;g._itemWidth=d;g._itemHeight=e;this._colorUnmodified=cc.color.WHITE;g._opacityModifyRGB=!0;g._blendFunc.src=
cc.BLEND_SRC;g._blendFunc.dst=cc.BLEND_DST;d=g._realColor;this._colorF32Array=new Float32Array([d.r/255,d.g/255,d.b/255,g._realOpacity/255]);this._textureAtlas=new cc.TextureAtlas;this._textureAtlas.initWithTexture(a,f);if(!this._textureAtlas)return cc.log(cc._LogInfos.AtlasNode__initWithTexture),!1;this._updateBlendFunc();this._updateOpacityModifyRGB();this._calculateMaxItems();g.quadsToDraw=f;return!0};a.setColor=function(a){var d=cc.color(a.r,a.g,a.b),e=this._node;this._colorUnmodified=a;a=this._displayedOpacity;
e._opacityModifyRGB&&(d.r=d.r*a/255,d.g=d.g*a/255,d.b=d.b*a/255);cc.Node.prototype.setColor.call(e,d)};a.setOpacity=function(a){var d=this._node;cc.Node.prototype.setOpacity.call(d,a);d._opacityModifyRGB&&(d.color=this._colorUnmodified)};a._updateColor=function(){if(this._colorF32Array){var a=this._displayedColor;this._colorF32Array[0]=a.r/255;this._colorF32Array[1]=a.g/255;this._colorF32Array[2]=a.b/255;this._colorF32Array[3]=this._displayedOpacity/255}};a.getTexture=function(){return this._textureAtlas.texture};
a.setTexture=function(a){this._textureAtlas.texture=a;this._updateBlendFunc();this._updateOpacityModifyRGB()};a._calculateMaxItems=function(){var a=this._node,d=this._textureAtlas.texture,e=d.getContentSize();a._ignoreContentScaleFactor&&(e=d.getContentSizeInPixels());a._itemsPerColumn=0|e.height/a._itemHeight;a._itemsPerRow=0|e.width/a._itemWidth}})();cc._tmp.WebGLTexture2D=function(){cc.Texture2D=cc.Class.extend({_pVRHaveAlphaPremultiplied:!0,_pixelFormat:null,_pixelsWide:0,_pixelsHigh:0,_name:"",_contentSize:null,maxS:0,maxT:0,_hasPremultipliedAlpha:!1,_hasMipmaps:!1,shaderProgram:null,_textureLoaded:!1,_htmlElementObj:null,_webTextureObj:null,url:null,retainCount:0,ctor:function(){this._contentSize=cc.size(0,0);this._pixelFormat=cc.Texture2D.defaultPixelFormat},releaseTexture:function(){this._webTextureObj&&(cc._renderContext.deleteTexture(this._webTextureObj),
this._webTextureObj=null);cc.loader.release(this.url)},getPixelFormat:function(){return this._pixelFormat},getPixelsWide:function(){return this._pixelsWide},getPixelsHigh:function(){return this._pixelsHigh},getName:function(){return this._webTextureObj},getContentSize:function(){return cc.size(this._contentSize.width/cc.contentScaleFactor(),this._contentSize.height/cc.contentScaleFactor())},_getWidth:function(){return this._contentSize.width/cc.contentScaleFactor()},_getHeight:function(){return this._contentSize.height/
cc.contentScaleFactor()},getContentSizeInPixels:function(){return this._contentSize},getMaxS:function(){return this.maxS},setMaxS:function(a){this.maxS=a},getMaxT:function(){return this.maxT},setMaxT:function(a){this.maxT=a},getShaderProgram:function(){return this.shaderProgram},setShaderProgram:function(a){this.shaderProgram=a},hasPremultipliedAlpha:function(){return this._hasPremultipliedAlpha},hasMipmaps:function(){return this._hasMipmaps},description:function(){return"\x3ccc.Texture2D | Name \x3d "+
this._name+" | Dimensions \x3d "+this._pixelsWide+" x "+this._pixelsHigh+" | Coordinates \x3d ("+this.maxS+", "+this.maxT+")\x3e"},releaseData:function(a){},keepData:function(a,c){return a},initWithData:function(a,c,d,e,f){var g=cc.Texture2D,h=cc._renderContext,m=h.RGBA,n=h.UNSIGNED_BYTE,r=d*cc.Texture2D._B[c]/8;0===r%8?h.pixelStorei(h.UNPACK_ALIGNMENT,8):0===r%4?h.pixelStorei(h.UNPACK_ALIGNMENT,4):0===r%2?h.pixelStorei(h.UNPACK_ALIGNMENT,2):h.pixelStorei(h.UNPACK_ALIGNMENT,1);this._webTextureObj=
h.createTexture();cc.glBindTexture2D(this);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.LINEAR);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.LINEAR);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE);switch(c){case g.PIXEL_FORMAT_RGBA8888:m=h.RGBA;break;case g.PIXEL_FORMAT_RGB888:m=h.RGB;break;case g.PIXEL_FORMAT_RGBA4444:n=h.UNSIGNED_SHORT_4_4_4_4;break;case g.PIXEL_FORMAT_RGB5A1:n=h.UNSIGNED_SHORT_5_5_5_1;break;
case g.PIXEL_FORMAT_RGB565:n=h.UNSIGNED_SHORT_5_6_5;break;case g.PIXEL_FORMAT_AI88:m=h.LUMINANCE_ALPHA;break;case g.PIXEL_FORMAT_A8:m=h.ALPHA;break;case g.PIXEL_FORMAT_I8:m=h.LUMINANCE;break;default:cc.assert(0,cc._LogInfos.Texture2D_initWithData)}h.texImage2D(h.TEXTURE_2D,0,m,d,e,0,m,n,a);this._contentSize.width=f.width;this._contentSize.height=f.height;this._pixelsWide=d;this._pixelsHigh=e;this._pixelFormat=c;this.maxS=f.width/d;this.maxT=f.height/e;this._hasMipmaps=this._hasPremultipliedAlpha=
!1;this.shaderProgram=cc.shaderCache.programForKey(cc.SHADER_POSITION_TEXTURE);return this._textureLoaded=!0},drawAtPoint:function(a){var c=[0,this.maxT,this.maxS,this.maxT,0,0,this.maxS,0],d=cc._renderContext,e=this._pixelsWide*this.maxS,f=this._pixelsHigh*this.maxT;a=[a.x,a.y,0,e+a.x,a.y,0,a.x,f+a.y,0,e+a.x,f+a.y,0];this._shaderProgram.use();this._shaderProgram.setUniformsForBuiltins();cc.glBindTexture2D(this);d.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION);d.enableVertexAttribArray(cc.VERTEX_ATTRIB_TEX_COORDS);
d.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,2,d.FLOAT,!1,0,a);d.vertexAttribPointer(cc.VERTEX_ATTRIB_TEX_COORDS,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},drawInRect:function(a){var c=[0,this.maxT,this.maxS,this.maxT,0,0,this.maxS,0];a=[a.x,a.y,a.x+a.width,a.y,a.x,a.y+a.height,a.x+a.width,a.y+a.height];this._shaderProgram.use();this._shaderProgram.setUniformsForBuiltins();cc.glBindTexture2D(this);var d=cc._renderContext;d.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION);d.enableVertexAttribArray(cc.VERTEX_ATTRIB_TEX_COORDS);
d.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,2,d.FLOAT,!1,0,a);d.vertexAttribPointer(cc.VERTEX_ATTRIB_TEX_COORDS,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},initWithImage:function(a){if(null==a)return cc.log(cc._LogInfos.Texture2D_initWithImage),!1;var c=a.getWidth(),d=a.getHeight(),e=cc.configuration.getMaxTextureSize();if(c>e||d>e)return cc.log(cc._LogInfos.Texture2D_initWithImage_2,c,d,e,e),!1;this._textureLoaded=!0;return this._initPremultipliedATextureWithImage(a,c,d)},initWithElement:function(a){a&&
(this._webTextureObj=cc._renderContext.createTexture(),this._htmlElementObj=a,this._hasPremultipliedAlpha=this._textureLoaded=!0)},getHtmlElementObj:function(){return this._htmlElementObj},isLoaded:function(){return this._textureLoaded},handleLoadedTexture:function(a){a=void 0!==a?a:this._hasPremultipliedAlpha;if(cc.game._rendererInitialized){if(!this._htmlElementObj){var c=cc.loader.getRes(this.url);if(!c)return;this.initWithElement(c)}this._htmlElementObj.width&&this._htmlElementObj.height?(c=cc._renderContext,
cc.glBindTexture2D(this),c.pixelStorei(c.UNPACK_ALIGNMENT,4),a&&c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,this._htmlElementObj),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.LINEAR),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.LINEAR),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),this.shaderProgram=cc.shaderCache.programForKey(cc.SHADER_POSITION_TEXTURE),
cc.glBindTexture2D(null),a&&c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,0),c=this._htmlElementObj.height,this._pixelsWide=this._contentSize.width=this._htmlElementObj.width,this._pixelsHigh=this._contentSize.height=c,this._pixelFormat=cc.Texture2D.PIXEL_FORMAT_RGBA8888,this.maxT=this.maxS=1,this._hasPremultipliedAlpha=a,this._hasMipmaps=!1,this._htmlElementObj=null,this.dispatchEvent("load")):console.error("TextureWebGL : error load :",this.url)}},initWithString:function(a,c,d,e,f,g){cc.log(cc._LogInfos.Texture2D_initWithString);
return null},initWithETCFile:function(a){cc.log(cc._LogInfos.Texture2D_initWithETCFile_2);return!1},initWithPVRFile:function(a){cc.log(cc._LogInfos.Texture2D_initWithPVRFile_2);return!1},initWithPVRTCData:function(a,c,d,e,f,g){cc.log(cc._LogInfos.Texture2D_initWithPVRTCData_2);return!1},setTexParameters:function(a,c,d,e){var f=cc._renderContext;void 0!==c&&(a={minFilter:a,magFilter:c,wrapS:d,wrapT:e});cc.assert(this._pixelsWide===cc.NextPOT(this._pixelsWide)&&this._pixelsHigh===cc.NextPOT(this._pixelsHigh)||
a.wrapS===f.CLAMP_TO_EDGE&&a.wrapT===f.CLAMP_TO_EDGE,"WebGLRenderingContext.CLAMP_TO_EDGE should be used in NPOT textures");cc.glBindTexture2D(this);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,a.minFilter);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,a.magFilter);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,a.wrapS);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,a.wrapT)},setAntiAliasTexParameters:function(){var a=cc._renderContext;cc.glBindTexture2D(this);this._hasMipmaps?a.texParameteri(a.TEXTURE_2D,
a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR)},setAliasTexParameters:function(){var a=cc._renderContext;cc.glBindTexture2D(this);this._hasMipmaps?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},generateMipmap:function(){cc.assert(this._pixelsWide===
cc.NextPOT(this._pixelsWide)&&this._pixelsHigh===cc.NextPOT(this._pixelsHigh),"Mimpap texture only works in POT textures");cc.glBindTexture2D(this);cc._renderContext.generateMipmap(cc._renderContext.TEXTURE_2D);this._hasMipmaps=!0},stringForFormat:function(){return cc.Texture2D._M[this._pixelFormat]},bitsPerPixelForFormat:function(a){a=a||this._pixelFormat;var c=cc.Texture2D._B[a];if(null!=c)return c;cc.log(cc._LogInfos.Texture2D_bitsPerPixelForFormat,a);return-1},_initPremultipliedATextureWithImage:function(a,
c,d){var e=cc.Texture2D,f=a.getData(),g=null,g=null,h=a.hasAlpha(),m=cc.size(a.getWidth(),a.getHeight()),n=e.defaultPixelFormat,r=a.getBitsPerComponent();h||(8<=r?n=e.PIXEL_FORMAT_RGB888:(cc.log(cc._LogInfos.Texture2D__initPremultipliedATextureWithImage),n=e.PIXEL_FORMAT_RGB565));var s=c*d;if(n===e.PIXEL_FORMAT_RGB565)if(h)for(f=new Uint16Array(c*d),g=a.getData(),r=0;r<s;++r)f[r]=(g[r]>>0&255)>>3<<11|(g[r]>>8&255)>>2<<5|(g[r]>>16&255)>>3<<0;else for(f=new Uint16Array(c*d),g=a.getData(),r=0;r<s;++r)f[r]=
(g[r]&255)>>3<<11|(g[r]&255)>>2<<5|(g[r]&255)>>3<<0;else if(n===e.PIXEL_FORMAT_RGBA4444)for(f=new Uint16Array(c*d),g=a.getData(),r=0;r<s;++r)f[r]=(g[r]>>0&255)>>4<<12|(g[r]>>8&255)>>4<<8|(g[r]>>16&255)>>4<<4|(g[r]>>24&255)>>4<<0;else if(n===e.PIXEL_FORMAT_RGB5A1)for(f=new Uint16Array(c*d),g=a.getData(),r=0;r<s;++r)f[r]=(g[r]>>0&255)>>3<<11|(g[r]>>8&255)>>3<<6|(g[r]>>16&255)>>3<<1|(g[r]>>24&255)>>7<<0;else if(n===e.PIXEL_FORMAT_A8)for(f=new Uint8Array(c*d),g=a.getData(),r=0;r<s;++r)f[r]=g>>24&255;
if(h&&n===e.PIXEL_FORMAT_RGB888)for(g=a.getData(),f=new Uint8Array(c*d*3),r=0;r<s;++r)f[3*r]=g>>0&255,f[3*r+1]=g>>8&255,f[3*r+2]=g>>16&255;this.initWithData(f,n,c,d,m);a.getData();this._hasPremultipliedAlpha=a.isPremultipliedAlpha();return!0},addLoadedEventListener:function(a,c){this.addEventListener("load",a,c)},removeLoadedEventListener:function(a){this.removeEventTarget("load",a)}})};
cc._tmp.WebGLTextureAtlas=function(){var a=cc.TextureAtlas.prototype;a._setupVBO=function(){var a=cc._renderContext;this._buffersVBO[1]=a.createBuffer();this._quadsWebBuffer=a.createBuffer();this._mapBuffers()};a._mapBuffers=function(){var a=cc._renderContext;a.bindBuffer(a.ARRAY_BUFFER,this._quadsWebBuffer);a.bufferData(a.ARRAY_BUFFER,this._quadsArrayBuffer,a.DYNAMIC_DRAW);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this._buffersVBO[1]);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this._indices,a.STATIC_DRAW)};a.drawNumberOfQuads=
function(a,d){d=d||0;if(0!==a&&this.texture&&this.texture.isLoaded()){var e=cc._renderContext;cc.glBindTexture2D(this.texture);e.bindBuffer(e.ARRAY_BUFFER,this._quadsWebBuffer);this.dirty&&(e.bufferData(e.ARRAY_BUFFER,this._quadsArrayBuffer,e.DYNAMIC_DRAW),this.dirty=!1);e.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION);e.enableVertexAttribArray(cc.VERTEX_ATTRIB_COLOR);e.enableVertexAttribArray(cc.VERTEX_ATTRIB_TEX_COORDS);e.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,3,e.FLOAT,!1,24,0);e.vertexAttribPointer(cc.VERTEX_ATTRIB_COLOR,
4,e.UNSIGNED_BYTE,!0,24,12);e.vertexAttribPointer(cc.VERTEX_ATTRIB_TEX_COORDS,2,e.FLOAT,!1,24,16);e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._buffersVBO[1]);cc.TEXTURE_ATLAS_USE_TRIANGLE_STRIP?e.drawElements(e.TRIANGLE_STRIP,6*a,e.UNSIGNED_SHORT,6*d*this._indices.BYTES_PER_ELEMENT):e.drawElements(e.TRIANGLES,6*a,e.UNSIGNED_SHORT,6*d*this._indices.BYTES_PER_ELEMENT);cc.g_NumberOfDraws++}}};
cc._tmp.WebGLTextureCache=function(){var a=cc.textureCache;a.handleLoadedTexture=function(a){var d=this._textures,e;cc.game._rendererInitialized||(d=this._loadedTexturesBefore);e=d[a];e||(e=d[a]=new cc.Texture2D,e.url=a);".png"===cc.path.extname(a)?e.handleLoadedTexture(!0):e.handleLoadedTexture()};a.addImage=function(a,d,e){cc.assert(a,cc._LogInfos.Texture2D_addImage_2);var f=this._textures;cc.game._rendererInitialized||(f=this._loadedTexturesBefore);var g=f[a]||f[cc.loader._getAliase(a)];if(g&&
g.isLoaded())return d&&d.call(e,g),g;g=f[a]=g||new cc.Texture2D;g.url=a;var h=cc.loader.getBasePath?cc.loader.getBasePath():cc.loader.resPath,m=a;-1===a.indexOf("http://")&&-1===a.indexOf("https://")&&(m=cc.path.join(h||"",a));if(cc.loader.isLoading(m))return d&&g.addEventListener("load",function(){d.call(e,g)},e),g;cc.loader.loadImg(m,function(g,h){if(g)return d&&d.call(e,g);cc.loader.cache[a]||(cc.loader.cache[a]=h);cc.textureCache.handleLoadedTexture(a);var m=f[a];d&&d.call(e,m)});return g};a.addImageAsync=
a.addImage;a=null};cc._tmp.PrototypeTexture2D=function(){var a=cc.Texture2D;a.PVRImagesHavePremultipliedAlpha=function(a){cc.PVRHaveAlphaPremultiplied_=a};a.PIXEL_FORMAT_RGBA8888=2;a.PIXEL_FORMAT_RGB888=3;a.PIXEL_FORMAT_RGB565=4;a.PIXEL_FORMAT_A8=5;a.PIXEL_FORMAT_I8=6;a.PIXEL_FORMAT_AI88=7;a.PIXEL_FORMAT_RGBA4444=8;a.PIXEL_FORMAT_RGB5A1=7;a.PIXEL_FORMAT_PVRTC4=9;a.PIXEL_FORMAT_PVRTC2=10;a.PIXEL_FORMAT_DEFAULT=a.PIXEL_FORMAT_RGBA8888;a.defaultPixelFormat=a.PIXEL_FORMAT_DEFAULT;var c=cc.Texture2D._M={};c[a.PIXEL_FORMAT_RGBA8888]=
"RGBA8888";c[a.PIXEL_FORMAT_RGB888]="RGB888";c[a.PIXEL_FORMAT_RGB565]="RGB565";c[a.PIXEL_FORMAT_A8]="A8";c[a.PIXEL_FORMAT_I8]="I8";c[a.PIXEL_FORMAT_AI88]="AI88";c[a.PIXEL_FORMAT_RGBA4444]="RGBA4444";c[a.PIXEL_FORMAT_RGB5A1]="RGB5A1";c[a.PIXEL_FORMAT_PVRTC4]="PVRTC4";c[a.PIXEL_FORMAT_PVRTC2]="PVRTC2";c=cc.Texture2D._B={};c[a.PIXEL_FORMAT_RGBA8888]=32;c[a.PIXEL_FORMAT_RGB888]=24;c[a.PIXEL_FORMAT_RGB565]=16;c[a.PIXEL_FORMAT_A8]=8;c[a.PIXEL_FORMAT_I8]=8;c[a.PIXEL_FORMAT_AI88]=16;c[a.PIXEL_FORMAT_RGBA4444]=
16;c[a.PIXEL_FORMAT_RGB5A1]=16;c[a.PIXEL_FORMAT_PVRTC4]=4;c[a.PIXEL_FORMAT_PVRTC2]=3;a=cc.Texture2D.prototype;cc.defineGetterSetter(a,"name",a.getName);cc.defineGetterSetter(a,"pixelFormat",a.getPixelFormat);cc.defineGetterSetter(a,"pixelsWidth",a.getPixelsWide);cc.defineGetterSetter(a,"pixelsHeight",a.getPixelsHigh);cc.defineGetterSetter(a,"width",a._getWidth);cc.defineGetterSetter(a,"height",a._getHeight)};
cc._tmp.PrototypeTextureAtlas=function(){var a=cc.TextureAtlas.prototype;cc.defineGetterSetter(a,"totalQuads",a.getTotalQuads);cc.defineGetterSetter(a,"capacity",a.getCapacity);cc.defineGetterSetter(a,"quads",a.getQuads,a.setQuads)};cc.ALIGN_CENTER=51;cc.ALIGN_TOP=19;cc.ALIGN_TOP_RIGHT=18;cc.ALIGN_RIGHT=50;cc.ALIGN_BOTTOM_RIGHT=34;cc.ALIGN_BOTTOM=35;cc.ALIGN_BOTTOM_LEFT=33;cc.ALIGN_LEFT=49;cc.ALIGN_TOP_LEFT=17;cc.PVRHaveAlphaPremultiplied_=!1;
cc.game.addEventListener(cc.game.EVENT_RENDERER_INITED,function(){cc._renderType===cc.game.RENDER_TYPE_WEBGL&&(cc.assert(cc.isFunction(cc._tmp.WebGLTexture2D),cc._LogInfos.MissingFile,"TexturesWebGL.js"),cc._tmp.WebGLTexture2D(),delete cc._tmp.WebGLTexture2D);cc.EventHelper.prototype.apply(cc.Texture2D.prototype);cc.assert(cc.isFunction(cc._tmp.PrototypeTexture2D),cc._LogInfos.MissingFile,"TexturesPropertyDefine.js");cc._tmp.PrototypeTexture2D();delete cc._tmp.PrototypeTexture2D});cc.textureCache={_textures:{},_retainedTextures:{},_textureColorsCache:{},_textureKeySeq:0|1E3*Math.random(),_loadedTexturesBefore:{},_initializingRenderer:function(){var a,c=this._loadedTexturesBefore,d=this._textures;for(a in c){var e=c[a];e.handleLoadedTexture();d[a]=e}this._loadedTexturesBefore={}},addPVRTCImage:function(a){cc.log(cc._LogInfos.textureCache_addPVRTCImage)},addETCImage:function(a){cc.log(cc._LogInfos.textureCache_addETCImage)},description:function(){return"\x3cTextureCache | Number of textures \x3d "+
this._textures.length+"\x3e"},textureForKey:function(a){cc.log(cc._LogInfos.textureCache_textureForKey);return this.getTextureForKey(a)},getTextureForKey:function(a){return this._textures[a]||this._textures[cc.loader._getAliase(a)]},getKeyByTexture:function(a){for(var c in this._textures)if(this._textures[c]===a)return c;return null},_generalTextureKey:function(a){return"_textureKey_"+a},getTextureColors:function(a){var c=a._htmlElementObj,d=this.getKeyByTexture(c);d||(d=c instanceof HTMLImageElement?
c.src:this._generalTextureKey(a.__instanceId));this._textureColorsCache[d]||(this._textureColorsCache[d]=a._generateTextureCacheForColor());return this._textureColorsCache[d]},addPVRImage:function(a){cc.log(cc._LogInfos.textureCache_addPVRImage)},removeAllTextures:function(){var a=this._textures,c;for(c in a)a[c]&&a[c].releaseTexture();this._textures={}},removeTexture:function(a){if(a){var c=this._textures,d;for(d in c)c[d]===a&&(c[d].releaseTexture(),delete c[d])}},removeTextureForKey:function(a){null!=
a&&this._textures[a]&&delete this._textures[a]},removeTextureByName:function(a){null!=a&&(a=this._textures[a])&&a._textureLoaded&&(a.releaseTexture(),a._htmlElementObj=null,a._textureLoaded=!1)},removeUnusedTextures:function(a){a=this._textures;for(var c in a){var d=a[c];0>=d.retainCount&&cc.loader.cache[c]&&!this._retainedTextures[c]&&(console.log("remove unused texture: "+c),d.releaseTexture(),d._htmlElementObj=null,d._textureLoaded=!1)}},setTextureRetain:function(a){this._retainedTextures[a]=!0},
cacheImage:function(a,c){if(c instanceof cc.Texture2D)this._textures[a]=c;else{var d=new cc.Texture2D;d.initWithElement(c);d.handleLoadedTexture();this._textures[a]=d}},addUIImage:function(a,c){cc.assert(a,cc._LogInfos.textureCache_addUIImage_2);if(c&&this._textures[c])return this._textures[c];var d=new cc.Texture2D;d.initWithImage(a);null!=c?this._textures[c]=d:cc.log(cc._LogInfos.textureCache_addUIImage);return d},dumpCachedTextureInfo:function(){var a=0,c=0,d=this._textures,e;for(e in d){var f=
d[e];f._webTextureObj&&(a++,cc.log("cocos2d: '%s' %sx%s %d",e,f.pixelsWidth,f.pixelsHeight,f.retainCount),c+=f.pixelsWidth*f.pixelsHeight*4)}d=this._textureColorsCache;for(e in d){var f=d[e],g;for(g in f){var h=f[g];a++;cc.log(cc._LogInfos.textureCache_dumpCachedTextureInfo_2,e,h.width,h.height);c+=h.width*h.height*4}}cc.log(cc._LogInfos.textureCache_dumpCachedTextureInfo_3,a,c/1024,(c/1048576).toFixed(2))},_clear:function(){this._textures={};this._textureColorsCache={};this._textureKeySeq=0|1E3*
Math.random();this._loadedTexturesBefore={}}};cc.game.addEventListener(cc.game.EVENT_RENDERER_INITED,function(){cc._renderType===cc.game.RENDER_TYPE_WEBGL&&(cc.assert(cc.isFunction(cc._tmp.WebGLTextureCache),cc._LogInfos.MissingFile,"TexturesWebGL.js"),cc._tmp.WebGLTextureCache(),delete cc._tmp.WebGLTextureCache)});cc.TextureAtlas=cc.Class.extend({dirty:!1,texture:null,_indices:null,_buffersVBO:null,_capacity:0,_quads:null,_quadsArrayBuffer:null,_quadsWebBuffer:null,_quadsReader:null,ctor:function(a,c){this._buffersVBO=[];cc.isString(a)?this.initWithFile(a,c):a instanceof cc.Texture2D&&this.initWithTexture(a,c)},getTotalQuads:function(){return this._totalQuads},getCapacity:function(){return this._capacity},getTexture:function(){return this.texture},setTexture:function(a){this.texture=a},setDirty:function(a){this.dirty=
a},isDirty:function(){return this.dirty},getQuads:function(){return this._quads},setQuads:function(a){this._quads=a},_copyQuadsToTextureAtlas:function(a,c){if(a)for(var d=0;d<a.length;d++)this._setQuadToArray(a[d],c+d)},_setQuadToArray:function(a,c){var d=this._quads;d[c]?(d[c].bl=a.bl,d[c].br=a.br,d[c].tl=a.tl,d[c].tr=a.tr):d[c]=new cc.V3F_C4B_T2F_Quad(a.tl,a.bl,a.tr,a.br,this._quadsArrayBuffer,c*cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT)},description:function(){return"\x3ccc.TextureAtlas | totalQuads \x3d"+
this._totalQuads+"\x3e"},_setupIndices:function(){if(0!==this._capacity)for(var a=this._indices,c=this._capacity,d=0;d<c;d++)cc.TEXTURE_ATLAS_USE_TRIANGLE_STRIP?(a[6*d+0]=4*d+0,a[6*d+1]=4*d+0,a[6*d+2]=4*d+2,a[6*d+3]=4*d+1,a[6*d+4]=4*d+3,a[6*d+5]=4*d+3):(a[6*d+0]=4*d+0,a[6*d+1]=4*d+1,a[6*d+2]=4*d+2,a[6*d+3]=4*d+3,a[6*d+4]=4*d+2,a[6*d+5]=4*d+1)},_setupVBO:function(){var a=cc._renderContext;this._buffersVBO[1]=a.createBuffer();this._quadsWebBuffer=a.createBuffer();this._mapBuffers()},_mapBuffers:function(){var a=
cc._renderContext;a.bindBuffer(a.ARRAY_BUFFER,this._quadsWebBuffer);a.bufferData(a.ARRAY_BUFFER,this._quadsArrayBuffer,a.DYNAMIC_DRAW);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this._buffersVBO[1]);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this._indices,a.STATIC_DRAW)},initWithFile:function(a,c){var d=cc.textureCache.addImage(a);if(d)return this.initWithTexture(d,c);cc.log(cc._LogInfos.TextureAtlas_initWithFile,a);return!1},initWithTexture:function(a,c){cc.assert(a,cc._LogInfos.TextureAtlas_initWithTexture);
this._capacity=c|=0;this._totalQuads=0;this.texture=a;this._quads=[];this._indices=new Uint16Array(6*c);var d=cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT;this._quadsArrayBuffer=new ArrayBuffer(d*c);this._quadsReader=new Uint8Array(this._quadsArrayBuffer);if((!this._quads||!this._indices)&&0<c)return!1;for(var e=this._quads,f=0;f<c;f++)e[f]=new cc.V3F_C4B_T2F_Quad(null,null,null,null,this._quadsArrayBuffer,f*d);this._setupIndices();this._setupVBO();return this.dirty=!0},updateQuad:function(a,c){cc.assert(a,
cc._LogInfos.TextureAtlas_updateQuad);cc.assert(0<=c&&c<this._capacity,cc._LogInfos.TextureAtlas_updateQuad_2);this._totalQuads=Math.max(c+1,this._totalQuads);this._setQuadToArray(a,c);this.dirty=!0},insertQuad:function(a,c){cc.assert(c<this._capacity,cc._LogInfos.TextureAtlas_insertQuad_2);this._totalQuads++;if(this._totalQuads>this._capacity)cc.log(cc._LogInfos.TextureAtlas_insertQuad);else{var d=cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT,e=c*d,f=(this._totalQuads-1-c)*d;this._quads[this._totalQuads-
1]=new cc.V3F_C4B_T2F_Quad(null,null,null,null,this._quadsArrayBuffer,(this._totalQuads-1)*d);this._quadsReader.set(this._quadsReader.subarray(e,e+f),e+d);this._setQuadToArray(a,c);this.dirty=!0}},insertQuads:function(a,c,d){d=d||a.length;cc.assert(c+d<=this._capacity,cc._LogInfos.TextureAtlas_insertQuads);var e=cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT;this._totalQuads+=d;if(this._totalQuads>this._capacity)cc.log(cc._LogInfos.TextureAtlas_insertQuad);else{var f=c*e,g=(this._totalQuads-1-c-d)*e,h=this._totalQuads-
1-d,m;for(m=0;m<d;m++)this._quads[h+m]=new cc.V3F_C4B_T2F_Quad(null,null,null,null,this._quadsArrayBuffer,(this._totalQuads-1)*e);this._quadsReader.set(this._quadsReader.subarray(f,f+g),f+e*d);for(m=0;m<d;m++)this._setQuadToArray(a[m],c+m);this.dirty=!0}},insertQuadFromIndex:function(a,c){if(a!==c){cc.assert(0<=c||c<this._totalQuads,cc._LogInfos.TextureAtlas_insertQuadFromIndex);cc.assert(0<=a||a<this._totalQuads,cc._LogInfos.TextureAtlas_insertQuadFromIndex_2);var d=cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT,
e=this._quadsReader,f=e.subarray(a*d,d),g;a>c?(g=c*d,e.set(e.subarray(g,g+(a-c)*d),g+d),e.set(f,g)):(g=(a+1)*d,e.set(e.subarray(g,g+(c-a)*d),g-d),e.set(f,c*d));this.dirty=!0}},removeQuadAtIndex:function(a){cc.assert(a<this._totalQuads,cc._LogInfos.TextureAtlas_removeQuadAtIndex);var c=cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT;this._totalQuads--;this._quads.length=this._totalQuads;if(a!==this._totalQuads){var d=(a+1)*c;this._quadsReader.set(this._quadsReader.subarray(d,d+(this._totalQuads-a)*c),d-c)}this.dirty=
!0},removeQuadsAtIndex:function(a,c){cc.assert(a+c<=this._totalQuads,cc._LogInfos.TextureAtlas_removeQuadsAtIndex);this._totalQuads-=c;if(a!==this._totalQuads){var d=cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT,e=(a+c)*d,f=a*d;this._quadsReader.set(this._quadsReader.subarray(e,e+(this._totalQuads-a)*d),f)}this.dirty=!0},removeAllQuads:function(){this._totalQuads=this._quads.length=0},_setDirty:function(a){this.dirty=a},resizeCapacity:function(a){if(a===this._capacity)return!0;var c=cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT,
d=this._capacity;this._totalQuads=Math.min(this._totalQuads,a);var e=this._capacity=0|a,f=this._totalQuads;if(null===this._quads)for(this._quads=[],this._quadsArrayBuffer=new ArrayBuffer(c*e),this._quadsReader=new Uint8Array(this._quadsArrayBuffer),a=0;a<e;a++)this._quads=new cc.V3F_C4B_T2F_Quad(null,null,null,null,this._quadsArrayBuffer,a*c);else{var g,h,m=this._quads;if(e>d){g=[];h=new ArrayBuffer(c*e);for(a=0;a<f;a++)g[a]=new cc.V3F_C4B_T2F_Quad(m[a].tl,m[a].bl,m[a].tr,m[a].br,h,a*c);for(;a<e;a++)g[a]=
new cc.V3F_C4B_T2F_Quad(null,null,null,null,h,a*c)}else for(f=Math.max(f,e),g=[],h=new ArrayBuffer(c*e),a=0;a<f;a++)g[a]=new cc.V3F_C4B_T2F_Quad(m[a].tl,m[a].bl,m[a].tr,m[a].br,h,a*c);this._quadsReader=new Uint8Array(h);this._quads=g;this._quadsArrayBuffer=h}null===this._indices?this._indices=new Uint16Array(6*e):e>d?(c=new Uint16Array(6*e),c.set(this._indices,0),this._indices=c):this._indices=this._indices.subarray(0,6*e);this._setupIndices();this._mapBuffers();return this.dirty=!0},increaseTotalQuadsWith:function(a){this._totalQuads+=
a},moveQuadsFromIndex:function(a,c,d){if(void 0===d){if(d=c,c=this._totalQuads-a,cc.assert(d+(this._totalQuads-a)<=this._capacity,cc._LogInfos.TextureAtlas_moveQuadsFromIndex),0===c)return}else if(cc.assert(d+c<=this._totalQuads,cc._LogInfos.TextureAtlas_moveQuadsFromIndex_2),cc.assert(a<this._totalQuads,cc._LogInfos.TextureAtlas_moveQuadsFromIndex_3),a===d)return;var e=cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT,f=a*e,g=c*e,h=this._quadsReader,m=h.subarray(f,f+g),n=d*e;d<a?(c=d*e,h.set(h.subarray(c,c+
(a-d)*e),c+g)):(c=(a+c)*e,h.set(h.subarray(c,c+(d-a)*e),f));h.set(m,n);this.dirty=!0},fillWithEmptyQuadsFromIndex:function(a,c){for(var d=c*cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT,e=new Uint8Array(this._quadsArrayBuffer,a*cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT,d),f=0;f<d;f++)e[f]=0},drawQuads:function(){this.drawNumberOfQuads(this._totalQuads,0)},_releaseBuffer:function(){var a=cc._renderContext;this._buffersVBO&&this._buffersVBO[1]&&a.deleteBuffer(this._buffersVBO[1]);this._quadsWebBuffer&&a.deleteBuffer(this._quadsWebBuffer)}});
_p=cc.TextureAtlas.prototype;cc.defineGetterSetter(_p,"totalQuads",_p.getTotalQuads);cc.defineGetterSetter(_p,"capacity",_p.getCapacity);cc.defineGetterSetter(_p,"quads",_p.getQuads,_p.setQuads);cc.TextureAtlas.create=function(a,c){return new cc.TextureAtlas(a,c)};cc.TextureAtlas.createWithTexture=cc.TextureAtlas.create;
cc.game.addEventListener(cc.game.EVENT_RENDERER_INITED,function(){cc._renderType===cc.game.RENDER_TYPE_WEBGL&&(cc.assert(cc.isFunction(cc._tmp.WebGLTextureAtlas),cc._LogInfos.MissingFile,"TexturesWebGL.js"),cc._tmp.WebGLTextureAtlas(),delete cc._tmp.WebGLTextureAtlas)});cc.assert(cc.isFunction(cc._tmp.PrototypeTextureAtlas),cc._LogInfos.MissingFile,"TexturesPropertyDefine.js");cc._tmp.PrototypeTextureAtlas();delete cc._tmp.PrototypeTextureAtlas;cc.Scene=cc.Node.extend({_className:"Scene",ctor:function(){cc.Node.prototype.ctor.call(this);this._ignoreAnchorPointForPosition=!0;this.setAnchorPoint(0.5,0.5);this.setContentSize(cc.director.getWinSize())}});cc.Scene.create=function(){return new cc.Scene};cc.LoaderScene=cc.Scene.extend({_interval:null,_label:null,_className:"LoaderScene",cb:null,target:null,init:function(){var a=this,c=200,d=a._bgLayer=new cc.LayerColor(cc.color(32,32,32,255));a.addChild(d,0);var e=24,f=-c/2+100;cc._loaderImage&&(cc.loader.loadImg(cc._loaderImage,{isCrossOrigin:!1},function(d,e){c=e.height;a._initStage(e,cc.visibleRect.center)}),e=14,f=-c/2-10);e=a._label=new cc.LabelTTF("Loading... 0%","Arial",e);e.setPosition(cc.pAdd(cc.visibleRect.center,cc.p(0,f)));e.setColor(cc.color(180,
180,180));d.addChild(this._label,10);return!0},_initStage:function(a,c){var d=this._texture2d=new cc.Texture2D;d.initWithElement(a);d.handleLoadedTexture();d=this._logo=new cc.Sprite(d);d.setScale(cc.contentScaleFactor());d.x=c.x;d.y=c.y;this._bgLayer.addChild(d,10)},onEnter:function(){cc.Node.prototype.onEnter.call(this);this.schedule(this._startLoading,0)},onExit:function(){cc.Node.prototype.onExit.call(this);this._label.setString("Loading... 0%")},initWithResources:function(a,c,d){cc.isString(a)&&
(a=[a]);this.resources=a||[];this.cb=c;this.target=d},setPercent:function(a){},_startLoading:function(){var a=this;a.unschedule(a._startLoading);cc.loader.load(a.resources,function(c,d,e){c=Math.min(e/d*100|0,100);a._label.setString("Loading... "+c+"%");a.setPercent(c)},function(c){a.cb&&a.cb.call(a.target,c)})},_updateTransform:function(){this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty);this._bgLayer._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty);this._label._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty);
this._logo._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)}});cc.LoaderScene.preload=function(a,c,d){var e=cc;e.loaderScene||(e.loaderScene=new cc.LoaderScene,e.loaderScene.init(),cc.eventManager.addCustomListener(cc.Director.EVENT_PROJECTION_CHANGED,function(){e.loaderScene._updateTransform()}));e.loaderScene.initWithResources(a,c,d);cc.director.runScene(e.loaderScene);return e.loaderScene};cc.Layer=cc.Node.extend({_className:"Layer",ctor:function(){cc.Node.prototype.ctor.call(this);this._ignoreAnchorPointForPosition=!0;this.setAnchorPoint(0.5,0.5);this.setContentSize(cc.winSize)},init:function(){this._ignoreAnchorPointForPosition=!0;this.setAnchorPoint(0.5,0.5);this.setContentSize(cc.winSize);this._cascadeOpacityEnabled=this._cascadeColorEnabled=!1;return!0},bake:function(){this._renderCmd.bake()},unbake:function(){this._renderCmd.unbake()},isBaked:function(){return this._renderCmd._isBaked},
addChild:function(a,c,d){cc.Node.prototype.addChild.call(this,a,c,d);this._renderCmd._bakeForAddChild(a)},_createRenderCmd:function(){return cc._renderType===cc.game.RENDER_TYPE_CANVAS?new cc.Layer.CanvasRenderCmd(this):new cc.Layer.WebGLRenderCmd(this)}});cc.Layer.create=function(){return new cc.Layer};
cc.LayerColor=cc.Layer.extend({_blendFunc:null,_className:"LayerColor",getBlendFunc:function(){return this._blendFunc},changeWidthAndHeight:function(a,c){this.width=a;this.height=c},changeWidth:function(a){this.width=a},changeHeight:function(a){this.height=a},setOpacityModifyRGB:function(a){},isOpacityModifyRGB:function(){return!1},ctor:function(a,c,d){cc.Layer.prototype.ctor.call(this);this._blendFunc=cc.BlendFunc._alphaNonPremultiplied();cc.LayerColor.prototype.init.call(this,a,c,d)},init:function(a,
c,d){var e=cc.director.getWinSize();a=a||cc.color(0,0,0,255);c=void 0===c?e.width:c;d=void 0===d?e.height:d;e=this._realColor;e.r=a.r;e.g=a.g;e.b=a.b;this._realOpacity=a.a;this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.colorDirty|cc.Node._dirtyFlags.opacityDirty);cc.LayerColor.prototype.setContentSize.call(this,c,d);return!0},setBlendFunc:function(a,c){var d=this._blendFunc;void 0===c?(d.src=a.src,d.dst=a.dst):(d.src=a,d.dst=c);this._renderCmd.updateBlendFunc(d)},_createRenderCmd:function(){return cc._renderType===
cc.game.RENDER_TYPE_CANVAS?new cc.LayerColor.CanvasRenderCmd(this):new cc.LayerColor.WebGLRenderCmd(this)}});cc.LayerColor.create=function(a,c,d){return new cc.LayerColor(a,c,d)};(function(){var a=cc.LayerColor.prototype;cc.defineGetterSetter(a,"width",a._getWidth,a._setWidth);cc.defineGetterSetter(a,"height",a._getHeight,a._setHeight)})();
cc.LayerGradient=cc.LayerColor.extend({_endColor:null,_startOpacity:255,_endOpacity:255,_alongVector:null,_compressedInterpolation:!1,_className:"LayerGradient",_colorStops:[],ctor:function(a,c,d,e){cc.LayerColor.prototype.ctor.call(this);this._endColor=cc.color(0,0,0,255);this._alongVector=cc.p(0,-1);this._endOpacity=this._startOpacity=255;e&&e instanceof Array?(this._colorStops=e,e.splice(0,0,{p:0,color:a||cc.color.BLACK}),e.push({p:1,color:c||cc.color.BLACK})):this._colorStops=[{p:0,color:a||cc.color.BLACK},
{p:1,color:c||cc.color.BLACK}];cc.LayerGradient.prototype.init.call(this,a,c,d,e)},init:function(a,c,d,e){a=a||cc.color(0,0,0,255);c=c||cc.color(0,0,0,255);d=d||cc.p(0,-1);e=this._endColor;this._startOpacity=a.a;e.r=c.r;e.g=c.g;e.b=c.b;this._endOpacity=c.a;this._alongVector=d;this._compressedInterpolation=!0;cc.LayerColor.prototype.init.call(this,cc.color(a.r,a.g,a.b,255));this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.colorDirty|cc.Node._dirtyFlags.opacityDirty|cc.Node._dirtyFlags.gradientDirty);
return!0},setContentSize:function(a,c){cc.LayerColor.prototype.setContentSize.call(this,a,c);this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.gradientDirty)},_setWidth:function(a){cc.LayerColor.prototype._setWidth.call(this,a);this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.gradientDirty)},_setHeight:function(a){cc.LayerColor.prototype._setHeight.call(this,a);this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.gradientDirty)},getStartColor:function(){return cc.color(this._realColor)},setStartColor:function(a){this.color=
a;var c=this._colorStops;c&&0<c.length&&(c=c[0].color,c.r=a.r,c.g=a.g,c.b=a.b)},setEndColor:function(a){var c=this._endColor;c.r=a.r;c.g=a.g;c.b=a.b;(c=this._colorStops)&&0<c.length&&(c=c[c.length-1].color,c.r=a.r,c.g=a.g,c.b=a.b);this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.colorDirty)},getEndColor:function(){return cc.color(this._endColor)},setStartOpacity:function(a){this._startOpacity=a;var c=this._colorStops;c&&0<c.length&&(c[0].color.a=a);this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.opacityDirty)},
getStartOpacity:function(){return this._startOpacity},setEndOpacity:function(a){this._endOpacity=a;var c=this._colorStops;c&&0<c.length&&(c[c.length-1].color.a=a);this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.opacityDirty)},getEndOpacity:function(){return this._endOpacity},setVector:function(a){this._alongVector.x=a.x;this._alongVector.y=a.y;this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.gradientDirty)},getVector:function(){return cc.p(this._alongVector.x,this._alongVector.y)},isCompressedInterpolation:function(){return this._compressedInterpolation},
setCompressedInterpolation:function(a){this._compressedInterpolation=a;this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.gradientDirty)},getColorStops:function(){return this._colorStops},setColorStops:function(a){this._colorStops=a;this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.colorDirty|cc.Node._dirtyFlags.opacityDirty|cc.Node._dirtyFlags.gradientDirty)},_createRenderCmd:function(){return cc._renderType===cc.game.RENDER_TYPE_CANVAS?new cc.LayerGradient.CanvasRenderCmd(this):new cc.LayerGradient.WebGLRenderCmd(this)}});
cc.LayerGradient.create=function(a,c,d,e){return new cc.LayerGradient(a,c,d,e)};
(function(){var a=cc.LayerGradient.prototype;cc.defineGetterSetter(a,"startColor",a.getStartColor,a.setStartColor);cc.defineGetterSetter(a,"endColor",a.getEndColor,a.setEndColor);cc.defineGetterSetter(a,"startOpacity",a.getStartOpacity,a.setStartOpacity);cc.defineGetterSetter(a,"endOpacity",a.getEndOpacity,a.setEndOpacity);cc.defineGetterSetter(a,"vector",a.getVector,a.setVector);cc.defineGetterSetter(a,"colorStops",a.getColorStops,a.setColorStops)})();
cc.LayerMultiplex=cc.Layer.extend({_enabledLayer:0,_layers:null,_className:"LayerMultiplex",ctor:function(a){cc.Layer.prototype.ctor.call(this);a instanceof Array?cc.LayerMultiplex.prototype.initWithLayers.call(this,a):cc.LayerMultiplex.prototype.initWithLayers.call(this,Array.prototype.slice.call(arguments))},initWithLayers:function(a){0<a.length&&null==a[a.length-1]&&cc.log(cc._LogInfos.LayerMultiplex_initWithLayers);this._layers=a;this._enabledLayer=0;this.addChild(this._layers[this._enabledLayer]);
return!0},switchTo:function(a){a>=this._layers.length?cc.log(cc._LogInfos.LayerMultiplex_switchTo):(this.removeChild(this._layers[this._enabledLayer],!0),this._enabledLayer=a,this.addChild(this._layers[a]))},switchToAndReleaseMe:function(a){a>=this._layers.length?cc.log(cc._LogInfos.LayerMultiplex_switchToAndReleaseMe):(this.removeChild(this._layers[this._enabledLayer],!0),this._layers[this._enabledLayer]=null,this._enabledLayer=a,this.addChild(this._layers[a]))},addLayer:function(a){a?this._layers.push(a):
cc.log(cc._LogInfos.LayerMultiplex_addLayer)}});cc.LayerMultiplex.create=function(){return new cc.LayerMultiplex(Array.prototype.slice.call(arguments))};(function(){cc.Layer.WebGLRenderCmd=function(a){cc.Node.WebGLRenderCmd.call(this,a)};var a=cc.Layer.WebGLRenderCmd.prototype=Object.create(cc.Node.WebGLRenderCmd.prototype);a.constructor=cc.Layer.WebGLRenderCmd;a.bake=function(){};a.unbake=function(){};a._bakeForAddChild=function(){}})();
(function(){cc.LayerColor.WebGLRenderCmd=function(a){cc.Layer.WebGLRenderCmd.call(this,a);this._needDraw=!0;this._matrix=null;this.initData(4);this._color=new Uint32Array(1);this._vertexBuffer=null;this._shaderProgram=cc.shaderCache.programForKey(cc.SHADER_POSITION_COLOR)};var a=cc.LayerColor.WebGLRenderCmd.prototype=Object.create(cc.Layer.WebGLRenderCmd.prototype);a.constructor=cc.LayerColor.WebGLRenderCmd;a.initData=function(a){this._data=new ArrayBuffer(16*a);this._positionView=new Float32Array(this._data);
this._colorView=new Uint32Array(this._data);this._dataDirty=!0};a.transform=function(a,d){this.originTransform(a,d);var e=this._node,f=e._contentSize.width,g=e._contentSize.height,h=this._positionView;h[4]=f;h[9]=g;h[12]=f;h[13]=g;h[2].z=h[6]=h[10]=h[14]=e._vertexZ;this._dataDirty=!0};a._updateColor=function(){var a=this._displayedColor;this._color[0]=this._displayedOpacity<<24|a.b<<16|a.g<<8|a.r;for(var a=this._colorView,d=0;4>d;d++)a[4*d+3]=this._color[0];this._dataDirty=!0};a.rendering=function(a){a=
a||cc._renderContext;var d=this._node;this._matrix||(this._matrix=new cc.math.Matrix4,this._matrix.identity());var e=this._worldTransform;this._matrix.mat[0]=e.a;this._matrix.mat[4]=e.c;this._matrix.mat[12]=e.tx;this._matrix.mat[1]=e.b;this._matrix.mat[5]=e.d;this._matrix.mat[13]=e.ty;this._dataDirty&&(this._vertexBuffer||(this._vertexBuffer=a.createBuffer()),a.bindBuffer(a.ARRAY_BUFFER,this._vertexBuffer),a.bufferData(a.ARRAY_BUFFER,this._data,a.DYNAMIC_DRAW),this._dataDirty=!1);this._shaderProgram.use();
this._shaderProgram._setUniformForMVPMatrixWithMat4(this._matrix);cc.glBlendFunc(d._blendFunc.src,d._blendFunc.dst);a.bindBuffer(a.ARRAY_BUFFER,this._vertexBuffer);a.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION);a.enableVertexAttribArray(cc.VERTEX_ATTRIB_COLOR);a.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,3,a.FLOAT,!1,16,0);a.vertexAttribPointer(cc.VERTEX_ATTRIB_COLOR,4,a.UNSIGNED_BYTE,!0,16,12);a.drawArrays(a.TRIANGLE_STRIP,0,4)};a.detachFromParent=function(a){if(a){var d=this;setTimeout(function(){cc._renderContext.deleteBuffer(d._vertexBuffer)},
0)}cc.Node.WebGLRenderCmd.prototype.detachFromParent.call(this,a)};a.updateBlendFunc=function(a){}})();
(function(){cc.LayerGradient.WebGLRenderCmd=function(a){cc.LayerColor.WebGLRenderCmd.call(this,a);this._needDraw=!0;this._clipRect=new cc.Rect;this._clippingRectDirty=!1};var a=cc.LayerGradient.WebGLRenderCmd.prototype=Object.create(cc.LayerColor.WebGLRenderCmd.prototype);a.constructor=cc.LayerGradient.WebGLRenderCmd;a.updateStatus=function(){var a=cc.Node._dirtyFlags;this._dirtyFlag&a.gradientDirty&&(this._dirtyFlag|=a.colorDirty,this._updateVertex(),this._dirtyFlag&=~a.gradientDirty);cc.Node.RenderCmd.prototype.updateStatus.call(this)};
a._syncStatus=function(a){var d=cc.Node._dirtyFlags;this._dirtyFlag&d.gradientDirty&&(this._dirtyFlag|=d.colorDirty,this._updateVertex(),this._dirtyFlag&=~d.gradientDirty);cc.Node.RenderCmd.prototype._syncStatus.call(this,a)};a.transform=function(a,d){this.originTransform(a,d);this._updateVertex()};a._updateVertex=function(){var a=this._node,d=a._colorStops;if(d&&!(2>d.length)){this._clippingRectDirty=!0;var e,f=d.length,g=2*f,h=a._contentSize;this._positionView.length/4<g&&this.initData(g);var m=
Math.PI+cc.pAngleSigned(cc.p(0,-1),a._alongVector),g=cc.p(h.width/2,h.height/2);e=Math.round(cc.radiansToDegrees(m));var n=cc.affineTransformMake(1,0,0,1,g.x,g.y),n=cc.affineTransformRotate(n,m),r;90>e?(r=cc.p(-g.x,g.y),e=cc.p(g.x,g.y)):180>e?(r=cc.p(g.x,g.y),e=cc.p(g.x,-g.y)):270>e?(r=cc.p(g.x,-g.y),e=cc.p(-g.x,-g.y)):(r=cc.p(-g.x,-g.y),e=cc.p(-g.x,g.y));var s=Math.sin(m),m=Math.cos(m);r=Math.abs((r.x*m-r.y*s)/g.x);e=Math.abs((e.x*s+e.y*m)/g.y);n=cc.affineTransformScale(n,r,e);s=this._positionView;
for(e=0;e<f;e++){r=d[e].p*h.height;var t=cc.pointApplyAffineTransform(-g.x,r-g.y,n),m=8*e;s[m]=t.x;s[m+1]=t.y;s[m+2]=a._vertexZ;r=cc.pointApplyAffineTransform(h.width-g.x,r-g.y,n);m+=4;s[m]=r.x;s[m+1]=r.y;s[m+2]=a._vertexZ}this._dataDirty=!0}};a._updateColor=function(){var a=this._node._colorStops;if(a&&!(2>a.length)){var d=a.length,e,f=this._colorView,g=this._displayedOpacity/255;for(i=0;i<d;i++)e=a[i].color,this._color[0]=e.a*g<<24|e.b<<16|e.g<<8|e.r,e=8*i,f[e+3]=this._color[0],e+=4,f[e+3]=this._color[0];
this._dataDirty=!0}};a.rendering=function(a){a=a||cc._renderContext;var d=this._node;this._matrix||(this._matrix=new cc.math.Matrix4,this._matrix.identity());var e=this._getClippingRect();a.enable(a.SCISSOR_TEST);cc.view.setScissorInPoints(e.x,e.y,e.width,e.height);e=this._worldTransform;this._matrix.mat[0]=e.a;this._matrix.mat[4]=e.c;this._matrix.mat[12]=e.tx;this._matrix.mat[1]=e.b;this._matrix.mat[5]=e.d;this._matrix.mat[13]=e.ty;this._dataDirty&&(this._vertexBuffer||(this._vertexBuffer=gl.createBuffer()),
gl.bindBuffer(gl.ARRAY_BUFFER,this._vertexBuffer),gl.bufferData(gl.ARRAY_BUFFER,this._data,gl.DYNAMIC_DRAW),this._dataDirty=!1);this._shaderProgram.use();this._shaderProgram._setUniformForMVPMatrixWithMat4(this._matrix);cc.glBlendFunc(d._blendFunc.src,d._blendFunc.dst);gl.bindBuffer(gl.ARRAY_BUFFER,this._vertexBuffer);gl.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION);gl.enableVertexAttribArray(cc.VERTEX_ATTRIB_COLOR);gl.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,3,gl.FLOAT,!1,16,0);gl.vertexAttribPointer(cc.VERTEX_ATTRIB_COLOR,
4,gl.UNSIGNED_BYTE,!0,16,12);gl.drawArrays(gl.TRIANGLE_STRIP,0,4);a.disable(a.SCISSOR_TEST)};a._getClippingRect=function(){if(this._clippingRectDirty){var a=this._node,d=cc.rect(0,0,a._contentSize.width,a._contentSize.height),a=a.getNodeToWorldTransform();this._clipRect=cc._rectApplyAffineTransformIn(d,a)}return this._clipRect}})();cc._tmp.PrototypeSprite=function(){var a=cc.Sprite.prototype;cc.defineGetterSetter(a,"opacityModifyRGB",a.isOpacityModifyRGB,a.setOpacityModifyRGB);cc.defineGetterSetter(a,"opacity",a.getOpacity,a.setOpacity);cc.defineGetterSetter(a,"color",a.getColor,a.setColor);cc.defineGetterSetter(a,"flippedX",a.isFlippedX,a.setFlippedX);cc.defineGetterSetter(a,"flippedY",a.isFlippedY,a.setFlippedY);cc.defineGetterSetter(a,"offsetX",a._getOffsetX);cc.defineGetterSetter(a,"offsetY",a._getOffsetY);cc.defineGetterSetter(a,
"texture",a.getTexture,a.setTexture);cc.defineGetterSetter(a,"textureRectRotated",a.isTextureRectRotated);cc.defineGetterSetter(a,"batchNode",a.getBatchNode,a.setBatchNode);cc.defineGetterSetter(a,"quad",a.getQuad)};cc.Sprite=cc.Node.extend({dirty:!1,atlasIndex:0,textureAtlas:null,_batchNode:null,_recursiveDirty:null,_hasChildren:null,_shouldBeHidden:!1,_transformToBatch:null,_blendFunc:null,_texture:null,_rect:null,_rectRotated:!1,_offsetPosition:null,_unflippedOffsetPositionFromCenter:null,_opacityModifyRGB:!1,_flippedX:!1,_flippedY:!1,_textureLoaded:!1,_unloadedFrame:null,_className:"Sprite",_releaseTextureWhenDetach:!1,ctor:function(a,c,d){cc.Node.prototype.ctor.call(this);this.setAnchorPoint(0.5,0.5);this._loader=
new cc.Sprite.LoadManager;this._shouldBeHidden=!1;this._offsetPosition=cc.p(0,0);this._unflippedOffsetPositionFromCenter=cc.p(0,0);this._blendFunc={src:cc.BLEND_SRC,dst:cc.BLEND_DST};this._rect=cc.rect(0,0,0,0);this._softInit(a,c,d)},textureLoaded:function(){return this._textureLoaded},addLoadedEventListener:function(a,c){this.addEventListener("load",a,c)},isDirty:function(){return this.dirty},setDirty:function(a){this.dirty=a},isTextureRectRotated:function(){return this._rectRotated},getAtlasIndex:function(){return this.atlasIndex},
setAtlasIndex:function(a){this.atlasIndex=a},getTextureRect:function(){return cc.rect(this._rect)},getTextureAtlas:function(){return this.textureAtlas},setTextureAtlas:function(a){this.textureAtlas=a},getOffsetPosition:function(){return cc.p(this._offsetPosition)},_getOffsetX:function(){return this._offsetPosition.x},_getOffsetY:function(){return this._offsetPosition.y},getBlendFunc:function(){return this._blendFunc},initWithSpriteFrame:function(a){cc.assert(a,cc._LogInfos.Sprite_initWithSpriteFrame);
return this.setSpriteFrame(a)},initWithSpriteFrameName:function(a){cc.assert(a,cc._LogInfos.Sprite_initWithSpriteFrameName);var c=cc.spriteFrameCache.getSpriteFrame(a);cc.assert(c,a+cc._LogInfos.Sprite_initWithSpriteFrameName1);return this.initWithSpriteFrame(c)},useBatchNode:function(a){this.textureAtlas=a.getTextureAtlas();this._batchNode=a},setVertexRect:function(a){var c=this._rect;c.x=a.x;c.y=a.y;c.width=a.width;c.height=a.height;this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)},
sortAllChildren:function(){if(this._reorderChildDirty){var a=this._children;cc.Node.prototype.sortAllChildren.call(this);this._batchNode&&this._arrayMakeObjectsPerformSelector(a,cc.Node._stateCallbackType.sortAllChildren);this._reorderChildDirty=!1}},reorderChild:function(a,c){cc.assert(a,cc._LogInfos.Sprite_reorderChild_2);-1===this._children.indexOf(a)?cc.log(cc._LogInfos.Sprite_reorderChild):c!==a.zIndex&&(this._batchNode&&!this._reorderChildDirty&&(this._setReorderChildDirtyRecursively(),this._batchNode.reorderBatch(!0)),
cc.Node.prototype.reorderChild.call(this,a,c))},removeChild:function(a,c){this._batchNode&&this._batchNode.removeSpriteFromAtlas(a);cc.Node.prototype.removeChild.call(this,a,c)},setVisible:function(a){cc.Node.prototype.setVisible.call(this,a);this._renderCmd.setDirtyRecursively(!0)},removeAllChildren:function(a){var c=this._children,d=this._batchNode;if(d&&null!=c)for(var e=0,f=c.length;e<f;e++)d.removeSpriteFromAtlas(c[e]);cc.Node.prototype.removeAllChildren.call(this,a);this._hasChildren=!1},ignoreAnchorPointForPosition:function(a){this._batchNode?
cc.log(cc._LogInfos.Sprite_ignoreAnchorPointForPosition):cc.Node.prototype.ignoreAnchorPointForPosition.call(this,a)},setFlippedX:function(a){this._flippedX!==a&&(this._flippedX=a,this.setTextureRect(this._rect,this._rectRotated,this._contentSize),this.setNodeDirty(!0))},setFlippedY:function(a){this._flippedY!==a&&(this._flippedY=a,this.setTextureRect(this._rect,this._rectRotated,this._contentSize),this.setNodeDirty(!0))},setFlipX:function(a){this.setFlippedX(a)},setFlipY:function(a){this.setFlippedY(a)},
isFlippedX:function(){return this._flippedX},isFlippedY:function(){return this._flippedY},setOpacityModifyRGB:function(a){this._opacityModifyRGB!==a&&(this._opacityModifyRGB=a,this._renderCmd._setColorDirty())},isOpacityModifyRGB:function(){return this._opacityModifyRGB},setDisplayFrameWithAnimationName:function(a,c){cc.assert(a,cc._LogInfos.Sprite_setDisplayFrameWithAnimationName_3);var d=cc.animationCache.getAnimation(a);d?(d=d.getFrames()[c])?this.setSpriteFrame(d.getSpriteFrame()):cc.log(cc._LogInfos.Sprite_setDisplayFrameWithAnimationName_2):
cc.log(cc._LogInfos.Sprite_setDisplayFrameWithAnimationName)},getBatchNode:function(){return this._batchNode},_setReorderChildDirtyRecursively:function(){if(!this._reorderChildDirty){this._reorderChildDirty=!0;for(var a=this._parent;a&&a!==this._batchNode;)a._setReorderChildDirtyRecursively(),a=a.parent}},getTexture:function(){return this._texture},_softInit:function(a,c,d){void 0===a?cc.Sprite.prototype.init.call(this):cc.isString(a)?"#"===a[0]?(c=a.substr(1,a.length-1),(c=cc.spriteFrameCache.getSpriteFrame(c))?
this.initWithSpriteFrame(c):cc.log("%s does not exist",a)):cc.Sprite.prototype.init.call(this,a,c):"object"===typeof a&&(a instanceof cc.Texture2D?this.initWithTexture(a,c,d):a instanceof cc.SpriteFrame?this.initWithSpriteFrame(a):(c=new cc.Texture2D,c.initWithElement(a),c.handleLoadedTexture(),this.initWithTexture(c)))},getQuad:function(){return null},setBlendFunc:function(a,c){var d=this._blendFunc;void 0===c?(d.src=a.src,d.dst=a.dst):(d.src=a,d.dst=c);this._renderCmd.updateBlendFunc(d)},init:function(){if(0<
arguments.length)return this.initWithFile(arguments[0],arguments[1]);cc.Node.prototype.init.call(this);this.dirty=this._recursiveDirty=!1;this._blendFunc.src=cc.BLEND_SRC;this._blendFunc.dst=cc.BLEND_DST;this.texture=null;this._flippedX=this._flippedY=!1;this.anchorY=this.anchorX=0.5;this._offsetPosition.x=0;this._offsetPosition.y=0;this._hasChildren=!1;this.setTextureRect(cc.rect(0,0,0,0),!1,cc.size(0,0));return!0},initWithFile:function(a,c){cc.assert(a,cc._LogInfos.Sprite_initWithFile);var d=cc.textureCache.getTextureForKey(a);
d&&d.isLoaded()||(d=cc.textureCache.addImage(a));if(!d.isLoaded())return this._loader.clear(),this._loader.once(d,function(){this.initWithFile(a,c);this.dispatchEvent("load")},this),!1;if(!c){var e=d.getContentSize();c=cc.rect(0,0,e.width,e.height)}return this.initWithTexture(d,c)},initWithTexture:function(a,c,d,e){cc.assert(0!==arguments.length,cc._LogInfos.CCSpriteBatchNode_initWithTexture);this._loader.clear();this._textureLoaded=a.isLoaded();if(!this._textureLoaded)return this._loader.once(a,
function(){this.initWithTexture(a,c,d,e);this.dispatchEvent("load")},this),!1;d=d||!1;a=this._renderCmd._handleTextureForRotatedTexture(a,c,d,e);if(!cc.Node.prototype.init.call(this))return!1;this._batchNode=null;this.dirty=this._recursiveDirty=!1;this._opacityModifyRGB=!0;this._blendFunc.src=cc.BLEND_SRC;this._blendFunc.dst=cc.BLEND_DST;this._flippedX=this._flippedY=!1;this._offsetPosition.x=0;this._offsetPosition.y=0;this._hasChildren=!1;this._rectRotated=d;c&&(this._rect.x=c.x,this._rect.y=c.y,
this._rect.width=c.width,this._rect.height=c.height);c||(c=cc.rect(0,0,a.width,a.height));this._renderCmd._checkTextureBoundary(a,c,d);this.setTexture(a);this.setTextureRect(c,d);this.setBatchNode(null);return!0},_isCanSetRect:!0,setIsCanSetRect:function(a){this._isCanSetRect=a},setDisplayFrameFile:function(a){if(!a||0>=a.length)cc.log("setDisplayFrameFile empty path");else{var c=cc.textureCache.addImage(a);if(c)if(this._textureLoaded=c.isLoaded(),this._loader.clear(),this._textureLoaded){a=c.getContentSize();
var d=cc.rect(0,0,a.width,a.height);this.setTexture(c);this.setTextureRect(d,!1,a)}else this._loader.once(c,function(){var a=c.getContentSize(),d=cc.rect(0,0,a.width,a.height);this.setTexture(c);this.setTextureRect(d,!1,a);this.dispatchEvent("load")},this)}},setTextureRect:function(a,c,d,e){this._isCanSetRect&&(this._rectRotated=c||!1,this.setContentSize(d||a),this.setVertexRect(a),this._renderCmd._setTextureCoords(a,e),a=this._unflippedOffsetPositionFromCenter.x,c=this._unflippedOffsetPositionFromCenter.y,
this._flippedX&&(a=-a),this._flippedY&&(c=-c),d=this._rect,this._offsetPosition.x=a+(this._contentSize.width-d.width)/2,this._offsetPosition.y=c+(this._contentSize.height-d.height)/2)},addChild:function(a,c,d){cc.assert(a,cc._LogInfos.CCSpriteBatchNode_addChild_2);null==c&&(c=a._localZOrder);null==d&&(d=a.tag);this._renderCmd._setBatchNodeForAddChild(a)&&(cc.Node.prototype.addChild.call(this,a,c,d),this._hasChildren=!0)},setSpriteFrame:function(a){cc.isString(a)&&(a=cc.spriteFrameCache.getSpriteFrame(a),
cc.assert(a,cc._LogInfos.Sprite_setSpriteFrame));this._loader.clear();this.setNodeDirty(!0);var c=a.getTexture();this._textureLoaded=a.textureLoaded();this._loader.clear();if(!this._textureLoaded)return this._unloadedFrame=a,this._loader.once(c,function(){this.setSpriteFrame(a);this.dispatchEvent("load")},this),!1;this._unloadedFrame=null;var d=a.getOffset();this._unflippedOffsetPositionFromCenter.x=d.x;this._unflippedOffsetPositionFromCenter.y=d.y;c!==this._texture&&(this._renderCmd._setTexture(c),
this.setColor(this._realColor));this.setTextureRect(a.getRect(),a.isRotated(),a.getOriginalSize())},setDisplayFrame:function(a){this.setSpriteFrame(a)},setDisplayFrameName:function(a){(a=cc.spriteFrameCache.getSpriteFrame(a))&&this.setSpriteFrame(a)},isFrameDisplayed:function(a){return this._renderCmd.isFrameDisplayed(a)},displayFrame:function(){return this.getSpriteFrame()},getSpriteFrame:function(){return!this._textureLoaded&&this._unloadedFrame?this._unloadedFrame:new cc.SpriteFrame(this._texture,
cc.rectPointsToPixels(this._rect),this._rectRotated,cc.pointPointsToPixels(this._unflippedOffsetPositionFromCenter),cc.sizePointsToPixels(this._contentSize))},setBatchNode:function(a){(this._batchNode=a)?(this._transformToBatch=cc.affineTransformIdentity(),this.textureAtlas=this._batchNode.getTextureAtlas()):(this.atlasIndex=cc.Sprite.INDEX_NOT_INITIALIZED,this.textureAtlas=null,this.dirty=this._recursiveDirty=!1)},setTexture:function(a){if(!a)return this._renderCmd._setTexture(null);var c=cc.isString(a);
c&&(a=cc.textureCache.addImage(a));this._loader.clear();if(!a._textureLoaded)return this._loader.once(a,function(){this.setTexture(a);this.dispatchEvent("load")},this),!1;this._renderCmd._setTexture(a);c&&this._changeRectWithTexture(a);this.setColor(this._realColor);this._textureLoaded=!0},_changeRectWithTexture:function(a){a=a._contentSize;a=cc.rect(0,0,a.width,a.height);this.setTextureRect(a)},_createRenderCmd:function(){return cc._renderType===cc.game.RENDER_TYPE_CANVAS?new cc.Sprite.CanvasRenderCmd(this):
new cc.Sprite.WebGLRenderCmd(this)}});cc.Sprite.create=function(a,c,d){return new cc.Sprite(a,c,d)};cc.Sprite.createWithTexture=cc.Sprite.create;cc.Sprite.createWithSpriteFrameName=function(a){return"#"==a.substring(0,1)?cc.Sprite.create(a):cc.Sprite.create("#"+a)};cc.Sprite.createWithSpriteFrame=cc.Sprite.create;cc.Sprite.INDEX_NOT_INITIALIZED=-1;cc.EventHelper.prototype.apply(cc.Sprite.prototype);cc.assert(cc.isFunction(cc._tmp.PrototypeSprite),cc._LogInfos.MissingFile,"SpritesPropertyDefine.js");
cc._tmp.PrototypeSprite();delete cc._tmp.PrototypeSprite;
(function(){var a=cc.Sprite.LoadManager=function(){this.list=[]};a.prototype.add=function(a,d,e){a&&a.addEventListener&&(a.addEventListener("load",d,e),this.list.push({source:a,listener:d,target:e}))};a.prototype.once=function(a,d,e){if(a&&a.addEventListener){var f=function(g){a.removeEventListener("load",f,e);d.call(e,g)};a.addEventListener("load",f,e);this.list.push({source:a,listener:f,target:e})}};a.prototype.clear=function(){for(;0<this.list.length;){var a=this.list.pop();a.source.removeEventListener("load",
a.listener,a.target)}}})();(function(){cc.Sprite.WebGLRenderCmd=function(a){cc.Node.WebGLRenderCmd.call(this,a);this._needDraw=!0;this._vertices=[{x:0,y:0,u:0,v:0},{x:0,y:0,u:0,v:0},{x:0,y:0,u:0,v:0},{x:0,y:0,u:0,v:0}];this._color=new Uint32Array(1);this._recursiveDirty=this._dirty=!1;this._shaderProgram=cc.shaderCache.programForKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR)};var a=cc.Sprite.WebGLRenderCmd.prototype=Object.create(cc.Node.WebGLRenderCmd.prototype);a.constructor=cc.Sprite.WebGLRenderCmd;a.updateBlendFunc=function(a){};
a.setDirtyFlag=function(a){cc.Node.WebGLRenderCmd.prototype.setDirtyFlag.call(this,a);this._dirty=!0};a.setDirtyRecursively=function(a){this._dirty=this._recursiveDirty=a;for(var d=this._node._children,e,f=d?d.length:0,g=0;g<f;g++)e=d[g],e instanceof cc.Sprite&&e._renderCmd.setDirtyRecursively(a)};a._setBatchNodeForAddChild=function(a){var d=this._node;if(d._batchNode){if(!(a instanceof cc.Sprite))return cc.log(cc._LogInfos.Sprite_addChild),!1;a.texture._webTextureObj!==d.textureAtlas.texture._webTextureObj&&
cc.log(cc._LogInfos.Sprite_addChild_2);d._batchNode.appendChild(a);d._reorderChildDirty||d._setReorderChildDirtyRecursively()}return!0};a._handleTextureForRotatedTexture=function(a){return a};a.isFrameDisplayed=function(a){var d=this._node;return cc.rectEqualToRect(a.getRect(),d._rect)&&a.getTexture().getName()===d._texture.getName()&&cc.pointEqualToPoint(a.getOffset(),d._unflippedOffsetPositionFromCenter)};a._textureLoadedCallback=function(a){if(!this._textureLoaded){this._textureLoaded=!0;var d=
this._rect;d?cc._rectEqualToZero(d)&&(d.width=a.width,d.height=a.height):d=cc.rect(0,0,a.width,a.height);this.texture=a;this.setTextureRect(d,this._rectRotated);this.setBatchNode(this._batchNode);this.dispatchEvent("load");cc.renderer.childrenOrderDirty=!0}};a._setTextureCoords=function(a,d){void 0===d&&(d=!0);d&&(a=cc.rectPointsToPixels(a));var e=this._node,f=e._batchNode?e.textureAtlas.texture:e._texture,g=this._vertices;if(f){var h=f.pixelsWidth,m=f.pixelsHeight,n,r;e._rectRotated?(cc.FIX_ARTIFACTS_BY_STRECHING_TEXEL?
(f=(2*a.x+1)/(2*h),h=f+(2*a.height-2)/(2*h),n=(2*a.y+1)/(2*m),m=n+(2*a.width-2)/(2*m)):(f=a.x/h,h=(a.x+a.height)/h,n=a.y/m,m=(a.y+a.width)/m),e._flippedX&&(r=n,n=m,m=r),e._flippedY&&(r=f,f=h,h=r),g[0].u=h,g[0].v=n,g[1].u=f,g[1].v=n,g[2].u=h,g[2].v=m,g[3].u=f):(cc.FIX_ARTIFACTS_BY_STRECHING_TEXEL?(f=(2*a.x+1)/(2*h),h=f+(2*a.width-2)/(2*h),n=(2*a.y+1)/(2*m),m=n+(2*a.height-2)/(2*m)):(f=a.x/h,h=(a.x+a.width)/h,n=a.y/m,m=(a.y+a.height)/m),e._flippedX&&(r=f,f=h,h=r),e._flippedY&&(r=n,n=m,m=r),g[0].u=f,
g[0].v=n,g[1].u=f,g[1].v=m,g[2].u=h,g[2].v=n,g[3].u=h);g[3].v=m}};a._setColorDirty=function(){};a._updateBlendFunc=function(){if(this._batchNode)cc.log(cc._LogInfos.Sprite__updateBlendFunc);else{var a=this._node,d=a._blendFunc;a._texture&&a._texture.hasPremultipliedAlpha()?(d.src===cc.SRC_ALPHA&&d.dst===cc.BLEND_DST&&(d.src=cc.ONE),a.opacityModifyRGB=!0):(d.src===cc.ONE&&d.dst===cc.BLEND_DST&&(d.src=cc.SRC_ALPHA),a.opacityModifyRGB=!1)}};a._setTexture=function(a){var d=this._node;d._batchNode?((d=
d._batchNode.texture)&&d.retainCount--,a&&a.retainCount++,d!==a&&cc.log(cc._LogInfos.Sprite_setTexture)):(d._texture&&d._texture.retainCount--,a&&a.retainCount++,d._texture!==a&&(d._textureLoaded=a?a._textureLoaded:!1,d._texture=a,this._updateBlendFunc(),d._textureLoaded&&(cc.renderer.childrenOrderDirty=!0)))};a.detachFromParent=function(a){if(a){var d=this._node;d._texture&&(d._releaseTextureWhenDetach?d._texture.releaseTexture():d._texture.retainCount--)}cc.Node.WebGLRenderCmd.prototype.detachFromParent.call(this,
a)};a._checkTextureBoundary=function(a,d,e){a&&a.url&&(e?(e=d.x+d.height,d=d.y+d.width):(e=d.x+d.width,d=d.y+d.height),e>a.width&&cc.error(cc._LogInfos.RectWidth,a.url),d>a.height&&cc.error(cc._LogInfos.RectHeight,a.url))};a.transform=function(a,d){this.originTransform(a,d);var e=this._node,f=e._offsetPosition.x,g=f+e._rect.width,h=e._offsetPosition.y,e=h+e._rect.height,m=this._worldTransform,n=this._vertices;n[0].x=f*m.a+e*m.c+m.tx;n[0].y=f*m.b+e*m.d+m.ty;n[1].x=f*m.a+h*m.c+m.tx;n[1].y=f*m.b+h*m.d+
m.ty;n[2].x=g*m.a+e*m.c+m.tx;n[2].y=g*m.b+e*m.d+m.ty;n[3].x=g*m.a+h*m.c+m.tx;n[3].y=g*m.b+h*m.d+m.ty};a.needDraw=function(){var a=this._node._texture;return this._needDraw&&a};a.uploadData=function(a,d,e){var f=this._node,g=f._texture;if(!(g&&g._textureLoaded&&f._rect.width&&f._rect.height&&this._displayedOpacity))return!1;var g=this._displayedOpacity,h=this._displayedColor.r,m=this._displayedColor.g,n=this._displayedColor.b;if(f._opacityModifyRGB)var r=g/255,h=h*r,m=m*r,n=n*r;this._color[0]=g<<24|
n<<16|m<<8|h;f=f._vertexZ;g=this._vertices;h=g.length;n=e;for(e=0;e<h;++e)m=g[e],a[n]=m.x,a[n+1]=m.y,a[n+2]=f,d[n+3]=this._color[0],a[n+4]=m.u,a[n+5]=m.v,n+=6;return h}})();cc.SpriteBatchNode=cc.Node.extend({_blendFunc:null,_texture:null,_className:"SpriteBatchNode",ctor:function(a){cc.Node.prototype.ctor.call(this);this._blendFunc=new cc.BlendFunc(cc.BLEND_SRC,cc.BLEND_DST);var c;cc.isString(a)?(c=cc.textureCache.getTextureForKey(a))&&c.isLoaded()||(c=cc.textureCache.addImage(a)):a instanceof cc.Texture2D&&(c=a);c&&this.initWithTexture(c)},addSpriteWithoutQuad:function(a,c,d){this.addChild(a,c,d);return this},getTextureAtlas:function(){return null},setTextureAtlas:function(a){},
getDescendants:function(){return this._children},initWithFile:function(a,c){var d=cc.textureCache.getTextureForKey(a);d&&d.isLoaded()||(d=cc.textureCache.addImage(a));return this.initWithTexture(d,c)},init:function(a,c){var d=cc.textureCache.getTextureForKey(a);d&&d.isLoaded()||(d=cc.textureCache.addImage(a));return this.initWithTexture(d,c)},increaseAtlasCapacity:function(){},removeChildAtIndex:function(a,c){this.removeChild(this._children[a],c)},rebuildIndexInOrder:function(a,c){return c},highestAtlasIndexInChild:function(a){var c=
a.children;return c&&0!==c.length?this.highestAtlasIndexInChild(c[c.length-1]):a.zIndex},lowestAtlasIndexInChild:function(a){var c=a.children;return c&&0!==c.length?this.lowestAtlasIndexInChild(c[c.length-1]):a.zIndex},atlasIndexForChild:function(a){return a.zIndex},reorderBatch:function(a){this._reorderChildDirty=a},setBlendFunc:function(a,c){this._blendFunc=void 0===c?a:{src:a,dst:c}},getBlendFunc:function(){return new cc.BlendFunc(this._blendFunc.src,this._blendFunc.dst)},updateQuadFromSprite:function(a,
c){cc.assert(a,cc._LogInfos.CCSpriteBatchNode_updateQuadFromSprite_2);a instanceof cc.Sprite?(a.dirty=!0,a._renderCmd.transform(this._renderCmd,!0)):cc.log(cc._LogInfos.CCSpriteBatchNode_updateQuadFromSprite)},insertQuadFromSprite:function(a,c){this.addChild(a,c)},insertChild:function(a,c){this.addChild(a,c)},appendChild:function(a){this.sortAllChildren();this.addChild(a.lastLocalZOrder+1)},removeSpriteFromAtlas:function(a,c){this.removeChild(a,c)},initWithTexture:function(a){a&&this.setTexture(a);
return!0},getTexture:function(){return this._texture},setTexture:function(a){this._texture=a;if(a._textureLoaded){var c=this._children,d,e=c.length;for(d=0;d<e;++d)c[d].setTexture&&c[d].setTexture(a)}else a.addEventListener("load",function(){var c=this._children,d,e=c.length;for(d=0;d<e;++d)c[d].setTexture&&c[d].setTexture(a)},this)},setShaderProgram:function(a){this._renderCmd.setShaderProgram(a);var c=this._children,d,e=c.length;for(d=0;d<e;++d)c[d].setShaderProgram(a)},addChild:function(a,c,d){cc.assert(void 0!==
a,cc._LogInfos.CCSpriteBatchNode_addChild_3);this._isValidChild(a)&&(c=void 0===c?a.zIndex:c,d=void 0===d?a.tag:d,cc.Node.prototype.addChild.call(this,a,c,d),this._renderCmd._shaderProgram&&(a.shaderProgram=this._renderCmd._shaderProgram))},_isValidChild:function(a){if(!(a instanceof cc.Sprite))return cc.log(cc._LogInfos.Sprite_addChild_4),!0;if(a.texture!==this._texture){if(!a._textureLoaded)return!0;cc.log(cc._LogInfos.Sprite_addChild_5);return!1}return!0}});_p=cc.SpriteBatchNode.prototype;
cc.defineGetterSetter(_p,"texture",_p.getTexture,_p.setTexture);cc.defineGetterSetter(_p,"shaderProgram",_p.getShaderProgram,_p.setShaderProgram);cc.SpriteBatchNode.create=function(a){return new cc.SpriteBatchNode(a)};cc.SpriteBatchNode.createWithTexture=cc.SpriteBatchNode.create;cc.BakeSprite=cc.Sprite.extend({_cacheCanvas:null,_cacheContext:null,ctor:function(){cc.Sprite.prototype.ctor.call(this);var a=document.createElement("canvas");a.width=a.height=10;this._cacheCanvas=a;this._cacheContext=new cc.CanvasContextWrapper(a.getContext("2d"));var c=new cc.Texture2D;c.initWithElement(a);c.handleLoadedTexture();this.setTexture(c)},getCacheContext:function(){return this._cacheContext},getCacheCanvas:function(){return this._cacheCanvas},resetCanvasSize:function(a,c){var d=this._cacheCanvas,
e=this._cacheContext,f=e._context.strokeStyle,g=e._context.fillStyle;void 0===c&&(c=a.height,a=a.width);d.width=a;d.height=c;f!==e._context.strokeStyle&&(e._context.strokeStyle=f);g!==e._context.fillStyle&&(e._context.fillStyle=g);this.getTexture().handleLoadedTexture();this.setTextureRect(cc.rect(0,0,a,c),!1,null,!1)}});cc.AnimationFrame=cc.Class.extend({_spriteFrame:null,_delayPerUnit:0,_userInfo:null,ctor:function(a,c,d){this._spriteFrame=a||null;this._delayPerUnit=c||0;this._userInfo=d||null},clone:function(){var a=new cc.AnimationFrame;a.initWithSpriteFrame(this._spriteFrame.clone(),this._delayPerUnit,this._userInfo);return a},copyWithZone:function(a){return cc.clone(this)},copy:function(a){a=new cc.AnimationFrame;a.initWithSpriteFrame(this._spriteFrame.clone(),this._delayPerUnit,this._userInfo);return a},initWithSpriteFrame:function(a,
c,d){this._spriteFrame=a;this._delayPerUnit=c;this._userInfo=d;return!0},getSpriteFrame:function(){return this._spriteFrame},setSpriteFrame:function(a){this._spriteFrame=a},getDelayUnits:function(){return this._delayPerUnit},setDelayUnits:function(a){this._delayPerUnit=a},getUserInfo:function(){return this._userInfo},setUserInfo:function(a){this._userInfo=a}});cc.AnimationFrame.create=function(a,c,d){return new cc.AnimationFrame(a,c,d)};
cc.Animation=cc.Class.extend({_frames:null,_loops:0,_restoreOriginalFrame:!1,_duration:0,_delayPerUnit:0,_totalDelayUnits:0,ctor:function(a,c,d){this._frames=[];if(void 0===a)this.initWithSpriteFrames(null,0);else{var e=a[0];e&&(e instanceof cc.SpriteFrame?this.initWithSpriteFrames(a,c,d):e instanceof cc.AnimationFrame&&this.initWithAnimationFrames(a,c,d))}},getFrames:function(){return this._frames},setFrames:function(a){this._frames=a},addSpriteFrame:function(a){var c=new cc.AnimationFrame;c.initWithSpriteFrame(a,
1,null);this._frames.push(c);this._totalDelayUnits++},addSpriteFrameWithFile:function(a){a=cc.textureCache.addImage(a);var c=cc.rect(0,0,0,0);c.width=a.width;c.height=a.height;a=new cc.SpriteFrame(a,c);this.addSpriteFrame(a)},addSpriteFrameWithTexture:function(a,c){var d=new cc.SpriteFrame(a,c);this.addSpriteFrame(d)},initWithAnimationFrames:function(a,c,d){cc.arrayVerifyType(a,cc.AnimationFrame);this._delayPerUnit=c;this._loops=void 0===d?1:d;this._totalDelayUnits=0;c=this._frames;for(d=c.length=
0;d<a.length;d++){var e=a[d];c.push(e);this._totalDelayUnits+=e.getDelayUnits()}return!0},clone:function(){var a=new cc.Animation;a.initWithAnimationFrames(this._copyFrames(),this._delayPerUnit,this._loops);a.setRestoreOriginalFrame(this._restoreOriginalFrame);return a},copyWithZone:function(a){a=new cc.Animation;a.initWithAnimationFrames(this._copyFrames(),this._delayPerUnit,this._loops);a.setRestoreOriginalFrame(this._restoreOriginalFrame);return a},_copyFrames:function(){for(var a=[],c=0;c<this._frames.length;c++)a.push(this._frames[c].clone());
return a},copy:function(a){return this.copyWithZone(null)},getLoops:function(){return this._loops},setLoops:function(a){this._loops=a},setRestoreOriginalFrame:function(a){this._restoreOriginalFrame=a},getRestoreOriginalFrame:function(){return this._restoreOriginalFrame},getDuration:function(){return this._totalDelayUnits*this._delayPerUnit},getDelayPerUnit:function(){return this._delayPerUnit},setDelayPerUnit:function(a){this._delayPerUnit=a},getTotalDelayUnits:function(){return this._totalDelayUnits},
initWithSpriteFrames:function(a,c,d){cc.arrayVerifyType(a,cc.SpriteFrame);this._loops=void 0===d?1:d;this._delayPerUnit=c||0;this._totalDelayUnits=0;c=this._frames;c.length=0;if(a){for(d=0;d<a.length;d++){var e=a[d],f=new cc.AnimationFrame;f.initWithSpriteFrame(e,1,null);c.push(f)}this._totalDelayUnits+=a.length}return!0},retain:function(){},release:function(){}});cc.Animation.create=function(a,c,d){return new cc.Animation(a,c,d)};cc.Animation.createWithAnimationFrames=cc.Animation.create;cc.animationCache={_animations:{},addAnimation:function(a,c){this._animations[c]=a},removeAnimation:function(a){a&&this._animations[a]&&delete this._animations[a]},getAnimation:function(a){return this._animations[a]?this._animations[a]:null},_addAnimationsWithDictionary:function(a,c){var d=a.animations;if(d){var e=1,f=a.properties;if(f)for(var e=null!=f.format?parseInt(f.format):e,f=f.spritesheets,g=cc.spriteFrameCache,h=cc.path,m=0;m<f.length;m++)g.addSpriteFrames(h.changeBasename(c,f[m]));switch(e){case 1:this._parseVersion1(d);
break;case 2:this._parseVersion2(d);break;default:cc.log(cc._LogInfos.animationCache__addAnimationsWithDictionary_2)}}else cc.log(cc._LogInfos.animationCache__addAnimationsWithDictionary)},addAnimations:function(a){cc.assert(a,cc._LogInfos.animationCache_addAnimations_2);var c=cc.loader.getRes(a);c?this._addAnimationsWithDictionary(c,a):cc.log(cc._LogInfos.animationCache_addAnimations)},_parseVersion1:function(a){var c=cc.spriteFrameCache,d;for(d in a){var e=a[d],f=e.frames,e=parseFloat(e.delay)||
0,g=null;if(f){for(var g=[],h=0;h<f.length;h++){var m=c.getSpriteFrame(f[h]);if(m){var n=new cc.AnimationFrame;n.initWithSpriteFrame(m,1,null);g.push(n)}else cc.log(cc._LogInfos.animationCache__parseVersion1_2,d,f[h])}0===g.length?cc.log(cc._LogInfos.animationCache__parseVersion1_3,d):(g.length!==f.length&&cc.log(cc._LogInfos.animationCache__parseVersion1_4,d),g=new cc.Animation(g,e,1),cc.animationCache.addAnimation(g,d))}else cc.log(cc._LogInfos.animationCache__parseVersion1,d)}},_parseVersion2:function(a){var c=
cc.spriteFrameCache,d;for(d in a){var e=a[d],f=e.loop,g=parseInt(e.loops),f=f?cc.REPEAT_FOREVER:isNaN(g)?1:g,g=e.restoreOriginalFrame&&!0==e.restoreOriginalFrame?!0:!1,h=e.frames;if(h){for(var m=[],n=0;n<h.length;n++){var r=h[n],s=r.spriteframe,t=c.getSpriteFrame(s);if(t){var s=parseFloat(r.delayUnits)||0,r=r.notification,u=new cc.AnimationFrame;u.initWithSpriteFrame(t,s,r);m.push(u)}else cc.log(cc._LogInfos.animationCache__parseVersion2_2,d,s)}e=parseFloat(e.delayPerUnit)||0;h=new cc.Animation;h.initWithAnimationFrames(m,
e,f);h.setRestoreOriginalFrame(g);cc.animationCache.addAnimation(h,d)}else cc.log(cc._LogInfos.animationCache__parseVersion2,d)}},_clear:function(){this._animations={}}};cc.SpriteFrame=cc.Class.extend({_offset:null,_originalSize:null,_rectInPixels:null,_rotated:!1,_rect:null,_offsetInPixels:null,_originalSizeInPixels:null,_texture:null,_textureFilename:"",_textureLoaded:!1,ctor:function(a,c,d,e,f){this._offset=cc.p(0,0);this._offsetInPixels=cc.p(0,0);this._originalSize=cc.size(0,0);this._rotated=!1;this._originalSizeInPixels=cc.size(0,0);this._textureFilename="";this._texture=null;this._textureLoaded=!1;void 0!==a&&void 0!==c&&(void 0===d||void 0===e||void 0===f?
this.initWithTexture(a,c):this.initWithTexture(a,c,d,e,f))},textureLoaded:function(){return this._textureLoaded},addLoadedEventListener:function(a,c){this.addEventListener("load",a,c)},getRectInPixels:function(){var a=this._rectInPixels;return cc.rect(a.x,a.y,a.width,a.height)},setRectInPixels:function(a){this._rectInPixels||(this._rectInPixels=cc.rect(0,0,0,0));this._rectInPixels.x=a.x;this._rectInPixels.y=a.y;this._rectInPixels.width=a.width;this._rectInPixels.height=a.height;this._rect=cc.rectPixelsToPoints(a)},
isRotated:function(){return this._rotated},setRotated:function(a){this._rotated=a},getRect:function(){var a=this._rect;return cc.rect(a.x,a.y,a.width,a.height)},setRect:function(a){this._rect||(this._rect=cc.rect(0,0,0,0));this._rect.x=a.x;this._rect.y=a.y;this._rect.width=a.width;this._rect.height=a.height;this._rectInPixels=cc.rectPointsToPixels(this._rect)},getOffsetInPixels:function(){return cc.p(this._offsetInPixels)},setOffsetInPixels:function(a){this._offsetInPixels.x=a.x;this._offsetInPixels.y=
a.y;cc._pointPixelsToPointsOut(this._offsetInPixels,this._offset)},getOriginalSizeInPixels:function(){return cc.size(this._originalSizeInPixels)},setOriginalSizeInPixels:function(a){this._originalSizeInPixels.width=a.width;this._originalSizeInPixels.height=a.height},getOriginalSize:function(){return cc.size(this._originalSize)},setOriginalSize:function(a){this._originalSize.width=a.width;this._originalSize.height=a.height},getTexture:function(){if(this._texture)return this._texture;if(""!==this._textureFilename){var a=
cc.textureCache.addImage(this._textureFilename);a&&(this._textureLoaded=a.isLoaded());return a}return null},setTexture:function(a){if(this._texture!==a){var c=a.isLoaded();this._textureLoaded=c;this._texture=a;c||a.addEventListener("load",function(c){this._textureLoaded=!0;if(this._rotated&&cc._renderType===cc.game.RENDER_TYPE_CANVAS){var e=c.getHtmlElementObj(),e=cc.Sprite.CanvasRenderCmd._cutRotateImageToCanvas(e,this.getRect()),f=new cc.Texture2D;f.initWithElement(e);f.handleLoadedTexture();this.setTexture(f);
e=this.getRect();this.setRect(cc.rect(0,0,e.width,e.height))}e=this._rect;if(a.isNeedRestSize||0===e.width&&0===e.height)e=c.width,c=c.height,this._rect.width=e,this._rect.height=c,this._rectInPixels=cc.rectPointsToPixels(this._rect),this._originalSizeInPixels.width=this._rectInPixels.width,this._originalSizeInPixels.height=this._rectInPixels.height,this._originalSize.width=e,this._originalSize.height=c;this.dispatchEvent("load")},this)}},getOffset:function(){return cc.p(this._offset)},setOffset:function(a){this._offset.x=
a.x;this._offset.y=a.y},clone:function(){var a=new cc.SpriteFrame;a.initWithTexture(this._textureFilename,this._rectInPixels,this._rotated,this._offsetInPixels,this._originalSizeInPixels);a.setTexture(this._texture);return a},copyWithZone:function(){var a=new cc.SpriteFrame;a.initWithTexture(this._textureFilename,this._rectInPixels,this._rotated,this._offsetInPixels,this._originalSizeInPixels);a.setTexture(this._texture);return a},copy:function(){return this.copyWithZone()},initWithTexture:function(a,
c,d,e,f){2===arguments.length&&(c=cc.rectPointsToPixels(c));e=e||cc.p(0,0);f=f||c;d=d||!1;cc.isString(a)?(this._texture=null,this._textureFilename=a):a instanceof cc.Texture2D&&this.setTexture(a);if((a=this.getTexture())&&a.url&&a.isLoaded()){a.isNeedRestSize&&(c.width=a.getPixelsWide(),c.height=a.getPixelsHigh());var g,h;d?(g=c.x+c.height,h=c.y+c.width):(g=c.x+c.width,h=c.y+c.height);g>a.getPixelsWide()&&cc.error(cc._LogInfos.RectWidth,a.url);h>a.getPixelsHigh()&&cc.error(cc._LogInfos.RectHeight,
a.url)}this._rectInPixels=c;this._rect=cc.rectPixelsToPoints(c);this._offsetInPixels.x=e.x;this._offsetInPixels.y=e.y;cc._pointPixelsToPointsOut(e,this._offset);this._originalSizeInPixels.width=f.width;this._originalSizeInPixels.height=f.height;cc._sizePixelsToPointsOut(f,this._originalSize);this._rotated=d;return!0}});cc.EventHelper.prototype.apply(cc.SpriteFrame.prototype);cc.SpriteFrame.create=function(a,c,d,e,f){return new cc.SpriteFrame(a,c,d,e,f)};cc.SpriteFrame.createWithTexture=cc.SpriteFrame.create;
cc.SpriteFrame._frameWithTextureForCanvas=function(a,c,d,e,f){var g=new cc.SpriteFrame;g._texture=a;g._rectInPixels=c;g._rect=cc.rectPixelsToPoints(c);g._offsetInPixels.x=e.x;g._offsetInPixels.y=e.y;cc._pointPixelsToPointsOut(g._offsetInPixels,g._offset);g._originalSizeInPixels.width=f.width;g._originalSizeInPixels.height=f.height;cc._sizePixelsToPointsOut(g._originalSizeInPixels,g._originalSize);g._rotated=d;return g};cc.spriteFrameCache={_CCNS_REG1:/^\s*\{\s*([\-]?\d+[.]?\d*)\s*,\s*([\-]?\d+[.]?\d*)\s*\}\s*$/,_CCNS_REG2:/^\s*\{\s*\{\s*([\-]?\d+[.]?\d*)\s*,\s*([\-]?\d+[.]?\d*)\s*\}\s*,\s*\{\s*([\-]?\d+[.]?\d*)\s*,\s*([\-]?\d+[.]?\d*)\s*\}\s*\}\s*$/,_spriteFrames:{},_spriteFramesAliases:{},_frameConfigCache:{},_rectFromString:function(a){return(a=this._CCNS_REG2.exec(a))?cc.rect(parseFloat(a[1]),parseFloat(a[2]),parseFloat(a[3]),parseFloat(a[4])):cc.rect(0,0,0,0)},_pointFromString:function(a){return(a=this._CCNS_REG1.exec(a))?
cc.p(parseFloat(a[1]),parseFloat(a[2])):cc.p(0,0)},_sizeFromString:function(a){return(a=this._CCNS_REG1.exec(a))?cc.size(parseFloat(a[1]),parseFloat(a[2])):cc.size(0,0)},_getFrameConfig:function(a){var c=cc.loader.getRes(a);cc.assert(c,cc._LogInfos.spriteFrameCache__getFrameConfig_2,a);if(c._inited)return this._frameConfigCache[a]=c;this._frameConfigCache[a]=this._parseFrameConfig(c);return this._frameConfigCache[a]},_getFrameConfigByJsonObject:function(a,c){cc.assert(c,cc._LogInfos.spriteFrameCache__getFrameConfig_2,
a);this._frameConfigCache[a]=this._parseFrameConfig(c);return this._frameConfigCache[a]},_parseFrameConfig:function(a){var c=a.frames,d=a.metadata||a.meta;a={};var e={},f=0;d&&(f=d.format,f=1>=f.length?parseInt(f):f,e.image=d.textureFileName||d.textureFileName||d.image);for(var g in c){var h=c[g];if(h){d={};if(0==f){d.rect=cc.rect(h.x,h.y,h.width,h.height);d.rotated=!1;d.offset=cc.p(h.offsetX,h.offsetY);var m=h.originalWidth,h=h.originalHeight;m&&h||cc.log(cc._LogInfos.spriteFrameCache__getFrameConfig);
m=Math.abs(m);h=Math.abs(h);d.size=cc.size(m,h)}else if(1==f||2==f)d.rect=this._rectFromString(h.frame),d.rotated=h.rotated||!1,d.offset=this._pointFromString(h.offset),d.size=this._sizeFromString(h.sourceSize);else if(3==f){var m=this._sizeFromString(h.spriteSize),n=this._rectFromString(h.textureRect);m&&(n=cc.rect(n.x,n.y,m.width,m.height));d.rect=n;d.rotated=h.textureRotated||!1;d.offset=this._pointFromString(h.spriteOffset);d.size=this._sizeFromString(h.spriteSourceSize);d.aliases=h.aliases}else m=
h.frame,n=h.sourceSize,g=h.filename||g,d.rect=cc.rect(m.x,m.y,m.w,m.h),d.rotated=h.rotated||!1,d.offset=cc.p(0,0),d.size=cc.size(n.w,n.h);a[g]=d}}return{_inited:!0,frames:a,meta:e}},_addSpriteFramesByObject:function(a,c,d){cc.assert(a,cc._LogInfos.spriteFrameCache_addSpriteFrames_2);c&&c.frames&&(c=this._frameConfigCache[a]||this._getFrameConfigByJsonObject(a,c),this._createSpriteFrames(a,c,d))},_createSpriteFrames:function(a,c,d){var e=c.frames;c=c.meta;d?d instanceof cc.Texture2D||(cc.isString(d)?
d=cc.textureCache.addImage(d):cc.assert(0,cc._LogInfos.spriteFrameCache_addSpriteFrames_3)):(d=cc.path.changeBasename(a,c.image||".png"),d=cc.textureCache.addImage(d));a=this._spriteFramesAliases;c=this._spriteFrames;for(var f in e){var g=e[f],h=c[f];if(h)d.isLoaded()&&!h.textureLoaded()&&h.setTexture(d);else{h=new cc.SpriteFrame(d,g.rect,g.rotated,g.offset,g.size);if(g=g.aliases)for(var m=0,n=g.length;m<n;m++){var r=g[m];a[r]&&cc.log(cc._LogInfos.spriteFrameCache_addSpriteFrames,r);a[r]=f}cc._renderType===
cc.game.RENDER_TYPE_CANVAS&&h.isRotated()&&h.getTexture().isLoaded()&&(g=h.getTexture().getHtmlElementObj(),g=cc.Sprite.CanvasRenderCmd._cutRotateImageToCanvas(g,h.getRectInPixels()),m=new cc.Texture2D,m.initWithElement(g),m.handleLoadedTexture(),h.setTexture(m),g=h._rect,h.setRect(cc.rect(0,0,g.width,g.height)));c[f]=h}}},addSpriteFrames:function(a,c){cc.assert(a,cc._LogInfos.spriteFrameCache_addSpriteFrames_2);var d=this._frameConfigCache[a]||cc.loader.getRes(a);d&&d.frames&&(d=this._frameConfigCache[a]||
this._getFrameConfig(a),this._createSpriteFrames(a,d,c))},_checkConflict:function(a){a=a.frames;for(var c in a)this._spriteFrames[c]&&cc.log(cc._LogInfos.spriteFrameCache__checkConflict,c)},addSpriteFrame:function(a,c){this._spriteFrames[c]=a},removeSpriteFrames:function(){this._spriteFrames={};this._spriteFramesAliases={}},removeSpriteFrameByName:function(a){a&&(this._spriteFramesAliases[a]&&delete this._spriteFramesAliases[a],this._spriteFrames[a]&&delete this._spriteFrames[a])},removeSpriteFramesFromFile:function(a){var c=
this._spriteFrames,d=this._spriteFramesAliases;if(a=this._frameConfigCache[a]){a=a.frames;for(var e in a)if(c[e]){delete c[e];for(var f in d)d[f]===e&&delete d[f]}}},removeSpriteFramesFromTexture:function(a){var c=this._spriteFrames,d=this._spriteFramesAliases,e;for(e in c){var f=c[e];if(f&&f.getTexture()===a){delete c[e];for(var g in d)d[g]===e&&delete d[g]}}},getSpriteFrame:function(a){var c=this._spriteFrames[a];if(!c){var d=this._spriteFramesAliases[a];d&&((c=this._spriteFrames[d.toString()])||
delete this._spriteFramesAliases[a])}return c},_clear:function(){this._spriteFrames={};this._spriteFramesAliases={};this._frameConfigCache={}}};cc.configuration={ERROR:0,STRING:1,INT:2,DOUBLE:3,BOOLEAN:4,_maxTextureSize:0,_maxModelviewStackDepth:0,_supportsPVRTC:!1,_supportsNPOT:!1,_supportsBGRA8888:!1,_supportsDiscardFramebuffer:!1,_supportsShareableVAO:!1,_maxSamplesAllowed:0,_maxTextureUnits:0,_GlExtensions:"",_valueDict:{},_inited:!1,_init:function(){var a=this._valueDict;a["cocos2d.x.version"]=cc.ENGINE_VERSION;a["cocos2d.x.compiled_with_profiler"]=!1;a["cocos2d.x.compiled_with_gl_state_cache"]=cc.ENABLE_GL_STATE_CACHE;this._inited=
!0},getMaxTextureSize:function(){return this._maxTextureSize},getMaxModelviewStackDepth:function(){return this._maxModelviewStackDepth},getMaxTextureUnits:function(){return this._maxTextureUnits},supportsNPOT:function(){return this._supportsNPOT},supportsPVRTC:function(){return this._supportsPVRTC},supportsETC:function(){return!1},supportsS3TC:function(){return!1},supportsATITC:function(){return!1},supportsBGRA8888:function(){return this._supportsBGRA8888},supportsDiscardFramebuffer:function(){return this._supportsDiscardFramebuffer},
supportsShareableVAO:function(){return this._supportsShareableVAO},checkForGLExtension:function(a){return-1<this._GlExtensions.indexOf(a)},getValue:function(a,c){this._inited||this._init();var d=this._valueDict;return d[a]?d[a]:c},setValue:function(a,c){this._valueDict[a]=c},dumpInfo:function(){0===cc.ENABLE_GL_STATE_CACHE&&(cc.log(""),cc.log(cc._LogInfos.configuration_dumpInfo),cc.log(""))},gatherGPUInfo:function(){if(cc._renderType!==cc.game.RENDER_TYPE_CANVAS){this._inited||this._init();var a=
cc._renderContext,c=this._valueDict;c["gl.vendor"]=a.getParameter(a.VENDOR);c["gl.renderer"]=a.getParameter(a.RENDERER);c["gl.version"]=a.getParameter(a.VERSION);this._GlExtensions="";for(var d=a.getSupportedExtensions(),e=0;e<d.length;e++)this._GlExtensions+=d[e]+" ";this._maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE);c["gl.max_texture_size"]=this._maxTextureSize;this._maxTextureUnits=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS);c["gl.max_texture_units"]=this._maxTextureUnits;this._supportsPVRTC=
this.checkForGLExtension("GL_IMG_texture_compression_pvrtc");c["gl.supports_PVRTC"]=this._supportsPVRTC;this._supportsNPOT=!1;c["gl.supports_NPOT"]=this._supportsNPOT;this._supportsBGRA8888=this.checkForGLExtension("GL_IMG_texture_format_BGRA888");c["gl.supports_BGRA8888"]=this._supportsBGRA8888;this._supportsDiscardFramebuffer=this.checkForGLExtension("GL_EXT_discard_framebuffer");c["gl.supports_discard_framebuffer"]=this._supportsDiscardFramebuffer;this._supportsShareableVAO=this.checkForGLExtension("vertex_array_object");
c["gl.supports_vertex_array_object"]=this._supportsShareableVAO;cc.checkGLErrorDebug()}},loadConfigFile:function(a){this._inited||this._init();var c=cc.loader.getRes(a);if(!c)throw Error("Please load the resource first : "+a);cc.assert(c,cc._LogInfos.configuration_loadConfigFile_2,a);if(c=c.data)for(var d in c)this._valueDict[d]=c[d];else cc.log(cc._LogInfos.configuration_loadConfigFile,a)}};cc.g_NumberOfDraws=0;
cc.Director=cc.Class.extend({_landscape:!1,_nextDeltaTimeZero:!1,_paused:!1,_purgeDirectorInNextLoop:!1,_sendCleanupToScene:!1,_animationInterval:0,_oldAnimationInterval:0,_projection:0,_contentScaleFactor:1,_deltaTime:0,_winSizeInPoints:null,_lastUpdate:null,_nextScene:null,_notificationNode:null,_openGLView:null,_scenesStack:null,_projectionDelegate:null,_runningScene:null,_totalFrames:0,_secondsPerFrame:0,_dirtyRegion:null,_scheduler:null,_actionManager:null,_eventProjectionChanged:null,_eventAfterUpdate:null,
_eventAfterVisit:null,_eventAfterDraw:null,ctor:function(){var a=this;a._lastUpdate=Date.now();cc.eventManager.addCustomListener(cc.game.EVENT_SHOW,function(){a._lastUpdate=Date.now()})},init:function(){this._oldAnimationInterval=this._animationInterval=1/cc.defaultFPS;this._scenesStack=[];this._projection=cc.Director.PROJECTION_DEFAULT;this._projectionDelegate=null;this._totalFrames=0;this._lastUpdate=Date.now();this._purgeDirectorInNextLoop=this._paused=!1;this._winSizeInPoints=cc.size(0,0);this._openGLView=
null;this._contentScaleFactor=1;this._scheduler=new cc.Scheduler;cc.ActionManager?(this._actionManager=new cc.ActionManager,this._scheduler.scheduleUpdate(this._actionManager,cc.Scheduler.PRIORITY_SYSTEM,!1)):this._actionManager=null;this._eventAfterUpdate=new cc.EventCustom(cc.Director.EVENT_AFTER_UPDATE);this._eventAfterUpdate.setUserData(this);this._eventAfterVisit=new cc.EventCustom(cc.Director.EVENT_AFTER_VISIT);this._eventAfterVisit.setUserData(this);this._eventAfterDraw=new cc.EventCustom(cc.Director.EVENT_AFTER_DRAW);
this._eventAfterDraw.setUserData(this);this._eventProjectionChanged=new cc.EventCustom(cc.Director.EVENT_PROJECTION_CHANGED);this._eventProjectionChanged.setUserData(this);return!0},calculateDeltaTime:function(){var a=Date.now();this._nextDeltaTimeZero?(this._deltaTime=0,this._nextDeltaTimeZero=!1):this._deltaTime=(a-this._lastUpdate)/1E3;0.1<this._deltaTime&&(this._deltaTime=0.1);this._lastUpdate=a},convertToGL:function(a){var c=cc.view,d=element.getBoundingClientRect(),e=c._devicePixelRatio*(a.x-
d.left);a=c._devicePixelRatio*(d.top+d.height-a.y);return c._isRotated?{x:c._viewPortRect.width-a,y:e}:{x:e,y:a}},convertToUI:function(a){var c=cc.view,d=element.getBoundingClientRect(),e={x:0,y:0};c._isRotated?(e.x=d.left+a.y/c._devicePixelRatio,e.y=d.top+d.height-(c._viewPortRect.width-a.x)/c._devicePixelRatio):(e.x=d.left+a.x/c._devicePixelRatio,e.y=d.top+d.height-a.y/c._devicePixelRatio);return e},drawScene:function(){var a=cc.renderer;this.calculateDeltaTime();this._paused||(this._scheduler.update(this._deltaTime),
cc.eventManager.dispatchEvent(this._eventAfterUpdate));this._nextScene&&this.setNextScene();this._beforeVisitScene&&this._beforeVisitScene();this._runningScene&&(a.childrenOrderDirty?(cc.renderer.clearRenderCommands(),cc.renderer.assignedZ=0,this._runningScene._renderCmd._curLevel=0,this._runningScene.visit(),a.resetFlag()):a.transformDirty()&&a.transform());a.clear();this._notificationNode&&this._notificationNode.visit();cc.eventManager.dispatchEvent(this._eventAfterVisit);cc.g_NumberOfDraws=0;this._afterVisitScene&&
this._afterVisitScene();a.rendering(cc._renderContext);this._totalFrames++;cc.eventManager.dispatchEvent(this._eventAfterDraw);this._calculateMPF()},_beforeVisitScene:null,_afterVisitScene:null,end:function(){this._purgeDirectorInNextLoop=!0},getContentScaleFactor:function(){return this._contentScaleFactor},getNotificationNode:function(){return this._notificationNode},getWinSize:function(){return cc.size(this._winSizeInPoints)},getWinSizeInPixels:function(){return cc.size(this._winSizeInPoints.width*
this._contentScaleFactor,this._winSizeInPoints.height*this._contentScaleFactor)},getVisibleSize:null,getVisibleOrigin:null,getZEye:null,pause:function(){this._paused||(this._oldAnimationInterval=this._animationInterval,this.setAnimationInterval(0.25),this._paused=!0)},popScene:function(){cc.assert(this._runningScene,cc._LogInfos.Director_popScene);this._scenesStack.pop();var a=this._scenesStack.length;0===a?this.end():(this._sendCleanupToScene=!0,this._nextScene=this._scenesStack[a-1])},purgeCachedData:function(){cc.animationCache._clear();
cc.spriteFrameCache._clear();cc.textureCache._clear()},purgeDirector:function(){this.getScheduler().unscheduleAll();cc.eventManager&&cc.eventManager.setEnabled(!1);this._runningScene&&(this._runningScene.onExitTransitionDidStart(),this._runningScene.onExit(),this._runningScene.cleanup());this._nextScene=this._runningScene=null;this._scenesStack.length=0;this.stopAnimation();this.purgeCachedData();cc.checkGLErrorDebug()},pushScene:function(a){cc.assert(a,cc._LogInfos.Director_pushScene);this._sendCleanupToScene=
!1;this._scenesStack.push(a);this._nextScene=a},runScene:function(a){cc.assert(a,cc._LogInfos.Director_pushScene);if(this._runningScene){var c=this._scenesStack.length;0===c?(this._sendCleanupToScene=!0,this._scenesStack[c]=a):(this._sendCleanupToScene=!0,this._scenesStack[c-1]=a);this._nextScene=a}else this.pushScene(a),this.startAnimation()},resume:function(){this._paused&&(this.setAnimationInterval(this._oldAnimationInterval),(this._lastUpdate=Date.now())||cc.log(cc._LogInfos.Director_resume),
this._paused=!1,this._deltaTime=0)},setContentScaleFactor:function(a){a!==this._contentScaleFactor&&(this._contentScaleFactor=a)},setDepthTest:null,setClearColor:null,setDefaultValues:function(){},setNextDeltaTimeZero:function(a){this._nextDeltaTimeZero=a},setNextScene:function(){var a=!1,c=!1;cc.TransitionScene&&(a=this._runningScene?this._runningScene instanceof cc.TransitionScene:!1,c=this._nextScene?this._nextScene instanceof cc.TransitionScene:!1);if(!c){if(c=this._runningScene)c.onExitTransitionDidStart(),
c.onExit();this._sendCleanupToScene&&c&&c.cleanup()}this._runningScene=this._nextScene;cc.renderer.childrenOrderDirty=!0;this._nextScene=null;a||null===this._runningScene||(this._runningScene.onEnter(),this._runningScene.onEnterTransitionDidFinish())},setNotificationNode:function(a){cc.renderer.childrenOrderDirty=!0;this._notificationNode&&(this._notificationNode.onExitTransitionDidStart(),this._notificationNode.onExit(),this._notificationNode.cleanup());if(this._notificationNode=a)this._notificationNode.onEnter(),
this._notificationNode.onEnterTransitionDidFinish()},getDelegate:function(){return this._projectionDelegate},setDelegate:function(a){this._projectionDelegate=a},setOpenGLView:null,setProjection:null,setViewport:null,getOpenGLView:null,getProjection:null,setAlphaBlending:null,isSendCleanupToScene:function(){return this._sendCleanupToScene},getRunningScene:function(){return this._runningScene},getRunningOrNextScene:function(){return this._nextScene?this._nextScene:this._runningScene},getAnimationInterval:function(){return this._animationInterval},
isDisplayStats:function(){return cc.profiler?cc.profiler.isShowingStats():!1},setDisplayStats:function(a){cc.profiler&&(a?cc.profiler.showStats():cc.profiler.hideStats())},getSecondsPerFrame:function(){return this._secondsPerFrame},isNextDeltaTimeZero:function(){return this._nextDeltaTimeZero},isPaused:function(){return this._paused},getTotalFrames:function(){return this._totalFrames},popToRootScene:function(){this.popToSceneStackLevel(1)},popToSceneStackLevel:function(a){cc.assert(this._runningScene,
cc._LogInfos.Director_popToSceneStackLevel_2);var c=this._scenesStack,d=c.length;if(0===a)this.end();else if(!(a>=d)){for(;d>a;){var e=c.pop();e.running&&(e.onExitTransitionDidStart(),e.onExit());e.cleanup();d--}this._nextScene=c[c.length-1];this._sendCleanupToScene=!0}},popAllBelowScene:function(){cc.assert(this._runningScene,cc._LogInfos.Director_popToSceneStackLevel_2);for(var a=this._scenesStack,c=0;c<a.length-1;c++){var d=a[c];d.running&&(d.onExitTransitionDidStart(),d.onExit());d.cleanup()}this._scenesStack=
[a[a.length-1]];this._sendCleanupToScene=!1},getScheduler:function(){return this._scheduler},setScheduler:function(a){this._scheduler!==a&&(this._scheduler=a)},getActionManager:function(){return this._actionManager},setActionManager:function(a){this._actionManager!==a&&(this._actionManager=a)},getDeltaTime:function(){return this._deltaTime},_calculateMPF:function(){this._secondsPerFrame=(Date.now()-this._lastUpdate)/1E3}});cc.Director.EVENT_PROJECTION_CHANGED="director_projection_changed";
cc.Director.EVENT_AFTER_UPDATE="director_after_update";cc.Director.EVENT_AFTER_VISIT="director_after_visit";cc.Director.EVENT_AFTER_DRAW="director_after_draw";
cc.DisplayLinkDirector=cc.Director.extend({invalid:!1,startAnimation:function(){this._nextDeltaTimeZero=!0;this.invalid=!1},mainLoop:function(){this._purgeDirectorInNextLoop?(this._purgeDirectorInNextLoop=!1,this.purgeDirector()):this.invalid||this.drawScene()},stopAnimation:function(){this.invalid=!0},setAnimationInterval:function(a){this._animationInterval=a;this.invalid||(this.stopAnimation(),this.startAnimation())}});cc.Director.sharedDirector=null;cc.Director.firstUseDirector=!0;
cc.Director._getInstance=function(){cc.Director.firstUseDirector&&(cc.Director.firstUseDirector=!1,cc.Director.sharedDirector=new cc.DisplayLinkDirector,cc.Director.sharedDirector.init());return cc.Director.sharedDirector};cc.defaultFPS=60;cc.Director.PROJECTION_2D=0;cc.Director.PROJECTION_3D=1;cc.Director.PROJECTION_CUSTOM=3;cc.Director.PROJECTION_DEFAULT=cc.Director.PROJECTION_2D;cc.game.addEventListener(cc.game.EVENT_RENDERER_INITED,function(){cc.Director._fpsImage=new Image;cc.Director._fpsImage.addEventListener("load",function(){cc.Director._fpsImageLoaded=!0});cc._fpsImage&&(cc.Director._fpsImage.src=cc._fpsImage)});cc.game.addEventListener(cc.game.EVENT_RENDERER_INITED,function(){if(cc._renderType===cc.game.RENDER_TYPE_WEBGL){cc.DirectorDelegate=cc.Class.extend({updateProjection:function(){}});var a=cc.Director.prototype,c=function(a){if(a&&a._renderCmd){a._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty);var e=a._children;for(a=0;a<e.length;a++)c(e[a])}};cc.eventManager.addCustomListener(cc.Director.EVENT_PROJECTION_CHANGED,function(){for(var a=cc.director._scenesStack,e=0;e<a.length;e++)c(a[e])});
a.setProjection=function(a){var c=this._winSizeInPoints;this.setViewport();var f=this._openGLView,g=f._viewPortRect.x/f._scaleX,h=f._viewPortRect.y/f._scaleY;switch(a){case cc.Director.PROJECTION_2D:cc.kmGLMatrixMode(cc.KM_GL_PROJECTION);cc.kmGLLoadIdentity();f=cc.math.Matrix4.createOrthographicProjection(0,c.width,0,c.height,-1024,1024);cc.kmGLMultMatrix(f);cc.kmGLMatrixMode(cc.KM_GL_MODELVIEW);cc.kmGLLoadIdentity();break;case cc.Director.PROJECTION_3D:var m=this.getZEye(),n=new cc.math.Matrix4,
f=new cc.math.Matrix4;cc.kmGLMatrixMode(cc.KM_GL_PROJECTION);cc.kmGLLoadIdentity();n=cc.math.Matrix4.createPerspectiveProjection(60,c.width/c.height,0.1,2*m);cc.kmGLMultMatrix(n);cc.kmGLMatrixMode(cc.KM_GL_MODELVIEW);cc.kmGLLoadIdentity();m=new cc.math.Vec3(-g+c.width/2,-h+c.height/2,m);c=new cc.math.Vec3(-g+c.width/2,-h+c.height/2,0);g=new cc.math.Vec3(0,1,0);f.lookAt(m,c,g);cc.kmGLMultMatrix(f);break;case cc.Director.PROJECTION_CUSTOM:this._projectionDelegate&&this._projectionDelegate.updateProjection();
break;default:cc.log(cc._LogInfos.Director_setProjection)}this._projection=a;cc.eventManager.dispatchEvent(this._eventProjectionChanged);cc.setProjectionMatrixDirty();cc.renderer.childrenOrderDirty=!0};a.setDepthTest=function(a){cc.renderer.setDepthTest(a)};a.setClearColor=function(a){cc.renderer._clearColor=a};a.setOpenGLView=function(a){this._winSizeInPoints.width=cc._canvas.width;this._winSizeInPoints.height=cc._canvas.height;this._openGLView=a||cc.view;a=cc.configuration;a.gatherGPUInfo();a.dumpInfo();
this.setGLDefaultValues();cc.eventManager&&cc.eventManager.setEnabled(!0)};a._clear=function(){var a=cc._renderContext;a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)};a.getVisibleSize=function(){return this._openGLView.getVisibleSize()};a.getVisibleOrigin=function(){return this._openGLView.getVisibleOrigin()};a.getZEye=function(){return this._winSizeInPoints.height/1.1566};a.setViewport=function(){var a=this._openGLView;if(a){var c=this._winSizeInPoints;a.setViewPortInPoints(-a._viewPortRect.x/a._scaleX,
-a._viewPortRect.y/a._scaleY,c.width,c.height)}};a.getOpenGLView=function(){return this._openGLView};a.getProjection=function(){return this._projection};a.setAlphaBlending=function(a){a?cc.glBlendFunc(cc.BLEND_SRC,cc.BLEND_DST):cc.glBlendFunc(cc._renderContext.ONE,cc._renderContext.ZERO)};a.setGLDefaultValues=function(){this.setAlphaBlending(!0);this.setProjection(this._projection);cc._renderContext.clearColor(0,0,0,0)}}});cc.PRIORITY_NON_SYSTEM=cc.PRIORITY_SYSTEM+1;cc.ListEntry=function(a,c,d,e,f,g,h){this.prev=a;this.next=c;this.callback=d;this.target=e;this.priority=f;this.paused=g;this.markedForDeletion=h};cc.HashUpdateEntry=function(a,c,d,e,f){this.list=a;this.entry=c;this.target=d;this.callback=e;this.hh=f};cc.HashTimerEntry=cc.hashSelectorEntry=function(a,c,d,e,f,g,h){this.timers=a;this.target=c;this.timerIndex=d;this.currentTimer=e;this.currentTimerSalvaged=f;this.paused=g;this.hh=h};
cc.Timer=cc.Class.extend({_scheduler:null,_elapsed:0,_runForever:!1,_useDelay:!1,_timesExecuted:0,_repeat:0,_delay:0,_interval:0,getInterval:function(){return this._interval},setInterval:function(a){this._interval=a},setupTimerWithInterval:function(a,c,d){this._elapsed=-1;this._interval=a;this._delay=d;this._useDelay=0<this._delay;this._repeat=c;this._runForever=this._repeat===cc.REPEAT_FOREVER},trigger:function(){return 0},cancel:function(){return 0},ctor:function(){this._scheduler=null;this._elapsed=
-1;this._useDelay=this._runForever=!1;this._interval=this._delay=this._repeat=this._timesExecuted=0},update:function(a){-1===this._elapsed?this._timesExecuted=this._elapsed=0:(this._elapsed+=a,this._runForever&&!this._useDelay?this._elapsed>=this._interval&&(this.trigger(),this._elapsed=0):(this._useDelay?this._elapsed>=this._delay&&(this.trigger(),this._elapsed-=this._delay,this._timesExecuted+=1,this._useDelay=!1):this._elapsed>=this._interval&&(this.trigger(),this._elapsed=0,this._timesExecuted+=
1),!this._runForever&&this._timesExecuted>this._repeat&&this.cancel()))}});
cc.TimerTargetSelector=cc.Timer.extend({_target:null,_selector:null,ctor:function(){this._selector=this._target=null},initWithSelector:function(a,c,d,e,f,g){this._scheduler=a;this._target=d;this._selector=c;this.setupTimerWithInterval(e,f,g);return!0},getSelector:function(){return this._selector},trigger:function(){this._target&&this._selector&&this._target.call(this._selector,this._elapsed)},cancel:function(){this._scheduler.unschedule(this._selector,this._target)}});
cc.TimerTargetCallback=cc.Timer.extend({_target:null,_callback:null,_key:null,ctor:function(){this._callback=this._target=null},initWithCallback:function(a,c,d,e,f,g,h){this._scheduler=a;this._target=d;this._callback=c;this._key=e;this.setupTimerWithInterval(f,g,h);return!0},getCallback:function(){return this._callback},getKey:function(){return this._key},trigger:function(){this._callback&&this._callback.call(this._target,this._elapsed)},cancel:function(){this._scheduler.unschedule(this._callback,
this._target)}});
cc.Scheduler=cc.Class.extend({_timeScale:1,_updatesNegList:null,_updates0List:null,_updatesPosList:null,_hashForTimers:null,_arrayForTimers:null,_hashForUpdates:null,_currentTarget:null,_currentTargetSalvaged:!1,_updateHashLocked:!1,ctor:function(){this._timeScale=1;this._updatesNegList=[];this._updates0List=[];this._updatesPosList=[];this._hashForUpdates={};this._hashForTimers={};this._currentTarget=null;this._updateHashLocked=this._currentTargetSalvaged=!1;this._arrayForTimers=[]},_schedulePerFrame:function(a,
c,d,e){var f=this._hashForUpdates[c.__instanceId];if(f&&f.entry)if(f.entry.priority!==d){if(this._updateHashLocked){cc.log("warning: you CANNOT change update priority in scheduled function");f.entry.markedForDeletion=!1;f.entry.paused=e;return}this.unscheduleUpdate(c)}else{f.entry.markedForDeletion=!1;f.entry.paused=e;return}0===d?this._appendIn(this._updates0List,a,c,e):0>d?this._priorityIn(this._updatesNegList,a,c,d,e):this._priorityIn(this._updatesPosList,a,c,d,e)},_removeHashElement:function(a){delete this._hashForTimers[a.target.__instanceId];
cc.arrayRemoveObject(this._arrayForTimers,a);a.Timer=null;a.target=null},_removeUpdateFromHash:function(a){if(a=this._hashForUpdates[a.target.__instanceId])cc.arrayRemoveObject(a.list,a.entry),delete this._hashForUpdates[a.target.__instanceId],a.entry=null,a.target=null},_priorityIn:function(a,c,d,e,f){c=new cc.ListEntry(null,null,c,d,e,f,!1);if(a){f=a.length-1;for(var g=0;g<=f&&!(e<a[g].priority);g++);a.splice(g,0,c)}else a=[],a.push(c);this._hashForUpdates[d.__instanceId]=new cc.HashUpdateEntry(a,
c,d,null);return a},_appendIn:function(a,c,d,e){c=new cc.ListEntry(null,null,c,d,0,e,!1);a.push(c);this._hashForUpdates[d.__instanceId]=new cc.HashUpdateEntry(a,c,d,null,null)},setTimeScale:function(a){this._timeScale=a},getTimeScale:function(){return this._timeScale},update:function(a){this._updateHashLocked=!0;1!==this._timeScale&&(a*=this._timeScale);var c,d,e,f;c=0;d=this._updatesNegList;for(e=d.length;c<e;c++)f=d[c],f.paused||f.markedForDeletion||f.callback(a);c=0;d=this._updates0List;for(e=
d.length;c<e;c++)f=d[c],f.paused||f.markedForDeletion||f.callback(a);c=0;d=this._updatesPosList;for(e=d.length;c<e;c++)f=d[c],f.paused||f.markedForDeletion||f.callback(a);e=this._arrayForTimers;for(c=0;c<e.length;c++){this._currentTarget=d=e[c];this._currentTargetSalvaged=!1;if(!d.paused)for(d.timerIndex=0;d.timerIndex<d.timers.length;++d.timerIndex)d.currentTimer=d.timers[d.timerIndex],d.currentTimerSalvaged=!1,d.currentTimer.update(a),d.currentTimer=null;this._currentTargetSalvaged&&0===this._currentTarget.timers.length&&
this._removeHashElement(this._currentTarget)}c=0;for(d=this._updatesNegList;c<d.length;)f=d[c],f.markedForDeletion?this._removeUpdateFromHash(f):c++;c=0;for(d=this._updates0List;c<d.length;)f=d[c],f.markedForDeletion?this._removeUpdateFromHash(f):c++;c=0;for(d=this._updatesPosList;c<d.length;)f=d[c],f.markedForDeletion?this._removeUpdateFromHash(f):c++;this._updateHashLocked=!1;this._currentTarget=null},scheduleCallbackForTarget:function(a,c,d,e,f,g){this.schedule(c,a,d,e,f,g,a.__instanceId+"")},
schedule:function(a,c,d,e,f,g,h){var m=!1;if("function"!==typeof a)var n=a,m=!0;if(!1===m){if(4===arguments.length||5===arguments.length)h=f,g=e,f=0,e=cc.REPEAT_FOREVER}else 4===arguments.length&&(g=e,e=cc.REPEAT_FOREVER,f=0);void 0===h&&(h=c.__instanceId+"");cc.assert(c,cc._LogInfos.Scheduler_scheduleCallbackForTarget_3);var r=this._hashForTimers[c.__instanceId];r?cc.assert(r.paused===g,""):(r=new cc.HashTimerEntry(null,c,0,null,null,g,null),this._arrayForTimers.push(r),this._hashForTimers[c.__instanceId]=
r);var s,t;if(null==r.timers)r.timers=[];else if(!1===m)for(t=0;t<r.timers.length;t++){if(s=r.timers[t],a===s._callback){cc.log(cc._LogInfos.Scheduler_scheduleCallbackForTarget,s.getInterval().toFixed(4),d.toFixed(4));s._interval=d;return}}else for(t=0;t<r.timers.length;++t)if((s=r.timers[t])&&n===s.getSelector()){cc.log("CCScheduler#scheduleSelector. Selector already scheduled. Updating interval from: %.4f to %.4f",s.getInterval(),d);s.setInterval(d);return}!1===m?(s=new cc.TimerTargetCallback,s.initWithCallback(this,
a,c,h,d,e,f)):(s=new cc.TimerTargetSelector,s.initWithSelector(this,n,c,d,e,f));r.timers.push(s)},scheduleUpdate:function(a,c,d){this._schedulePerFrame(function(c){a.update(c)},a,c,d)},_getUnscheduleMark:function(a,c){switch(typeof a){case "number":case "string":return a===c.getKey();case "function":return a===c._callback;default:return a===c.getSelector()}},unschedule:function(a,c){if(c&&a){var d=this._hashForTimers[c.__instanceId];if(d)for(var e=d.timers,f=0,g=e.length;f<g;f++){var h=e[f];if(this._getUnscheduleMark(a,
h)){h!==d.currentTimer||d.currentTimerSalvaged||(d.currentTimerSalvaged=!0);e.splice(f,1);d.timerIndex>=f&&d.timerIndex--;0===e.length&&(this._currentTarget===d?this._currentTargetSalvaged=!0:this._removeHashElement(d));break}}}},unscheduleUpdate:function(a){null!=a&&(a=this._hashForUpdates[a.__instanceId])&&(this._updateHashLocked?a.entry.markedForDeletion=!0:this._removeUpdateFromHash(a.entry))},unscheduleAllForTarget:function(a){if(null!=a){var c=this._hashForTimers[a.__instanceId];c&&(-1<c.timers.indexOf(c.currentTimer)&&
!c.currentTimerSalvaged&&(c.currentTimerSalvaged=!0),c.timers.length=0,this._currentTarget===c?this._currentTargetSalvaged=!0:this._removeHashElement(c));this.unscheduleUpdate(a)}},unscheduleAll:function(){this.unscheduleAllWithMinPriority(cc.Scheduler.PRIORITY_SYSTEM)},unscheduleAllWithMinPriority:function(a){var c,d,e=this._arrayForTimers;for(c=e.length-1;0<=c;c--)d=e[c],this.unscheduleAllForTarget(d.target);e=0;if(0>a)for(c=0;c<this._updatesNegList.length;)e=this._updatesNegList.length,(d=this._updatesNegList[c])&&
d.priority>=a&&this.unscheduleUpdate(d.target),e==this._updatesNegList.length&&c++;if(0>=a)for(c=0;c<this._updates0List.length;)e=this._updates0List.length,(d=this._updates0List[c])&&this.unscheduleUpdate(d.target),e==this._updates0List.length&&c++;for(c=0;c<this._updatesPosList.length;)e=this._updatesPosList.length,(d=this._updatesPosList[c])&&d.priority>=a&&this.unscheduleUpdate(d.target),e==this._updatesPosList.length&&c++},isScheduled:function(a,c){cc.assert(a,"Argument key must not be empty");
cc.assert(c,"Argument target must be non-nullptr");var d=this._hashForUpdates[c.__instanceId];if(!d)return!1;if(null!=d.timers)for(var d=d.timers,e=0;e<d.length;++e)if(a===d[e].getKey())return!0;return!1},pauseAllTargets:function(){return this.pauseAllTargetsWithMinPriority(cc.Scheduler.PRIORITY_SYSTEM)},pauseAllTargetsWithMinPriority:function(a){var c=[],d,e=this._arrayForTimers,f,g;f=0;for(g=e.length;f<g;f++)if(d=e[f])d.paused=!0,c.push(d.target);if(0>a)for(f=0;f<this._updatesNegList.length;f++)(d=
this._updatesNegList[f])&&d.priority>=a&&(d.paused=!0,c.push(d.target));if(0>=a)for(f=0;f<this._updates0List.length;f++)if(d=this._updates0List[f])d.paused=!0,c.push(d.target);for(f=0;f<this._updatesPosList.length;f++)(d=this._updatesPosList[f])&&d.priority>=a&&(d.paused=!0,c.push(d.target));return c},resumeTargets:function(a){if(a)for(var c=0;c<a.length;c++)this.resumeTarget(a[c])},pauseTarget:function(a){cc.assert(a,cc._LogInfos.Scheduler_pauseTarget);var c=this._hashForTimers[a.__instanceId];c&&
(c.paused=!0);(a=this._hashForUpdates[a.__instanceId])&&(a.entry.paused=!0)},resumeTarget:function(a){cc.assert(a,cc._LogInfos.Scheduler_resumeTarget);var c=this._hashForTimers[a.__instanceId];c&&(c.paused=!1);(a=this._hashForUpdates[a.__instanceId])&&(a.entry.paused=!1)},isTargetPaused:function(a){cc.assert(a,cc._LogInfos.Scheduler_isTargetPaused);var c=this._hashForTimers[a.__instanceId];return c?c.paused:(a=this._hashForUpdates[a.__instanceId])?a.entry.paused:!1},scheduleUpdateForTarget:function(a,
c,d){this.scheduleUpdate(a,c,d)},unscheduleCallbackForTarget:function(a,c){this.unschedule(c,a)},unscheduleUpdateForTarget:function(a){this.unscheduleUpdate(a)},unscheduleAllCallbacksForTarget:function(a){this.unschedule(a.__instanceId+"",a)},unscheduleAllCallbacks:function(){this.unscheduleAllWithMinPriority(cc.Scheduler.PRIORITY_SYSTEM)},unscheduleAllCallbacksWithMinPriority:function(a){this.unscheduleAllWithMinPriority(a)}});cc.Scheduler.PRIORITY_SYSTEM=-2147483648;cc.PI2=2*Math.PI;cc.DrawingPrimitiveWebGL=cc.Class.extend({_renderContext:null,_initialized:!1,_shader:null,_colorLocation:"u_color",_colorArray:null,_pointSizeLocation:"u_pointSize",_pointSize:-1,ctor:function(a){null==a&&(a=cc._renderContext);this._renderContext=a;this._colorArray=new Float32Array([1,1,1,1])},lazy_init:function(){this._initialized||(this._shader=cc.shaderCache.programForKey(cc.SHADER_POSITION_UCOLOR),this._shader._addUniformLocation(this._colorLocation),this._shader._addUniformLocation(this._pointSizeLocation),
this._initialized=!0)},drawInit:function(){this._initialized=!1},drawPoint:function(a){this.lazy_init();var c=this._renderContext;this._shader.use();this._shader.setUniformForModelViewAndProjectionMatrixWithMat4();c.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION);this._shader.setUniformLocationWith4fv(this._colorLocation,this._colorArray);this._shader.setUniformLocationWith1f(this._pointSizeLocation,this._pointSize);var d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,
new Float32Array([a.x,a.y]),c.STATIC_DRAW);c.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,1);c.deleteBuffer(d);cc.incrementGLDraws(1)},drawPoints:function(a,c){if(a&&0!==a.length){this.lazy_init();var d=this._renderContext;this._shader.use();this._shader.setUniformForModelViewAndProjectionMatrixWithMat4();d.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION);this._shader.setUniformLocationWith4fv(this._colorLocation,this._colorArray);this._shader.setUniformLocationWith1f(this._pointSizeLocation,
this._pointSize);var e=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,e);d.bufferData(d.ARRAY_BUFFER,this._pointsToTypeArray(a),d.STATIC_DRAW);d.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,2,d.FLOAT,!1,0,0);d.drawArrays(d.POINTS,0,a.length);d.deleteBuffer(e);cc.incrementGLDraws(1)}},_pointsToTypeArray:function(a){for(var c=new Float32Array(2*a.length),d=0;d<a.length;d++)c[2*d]=a[d].x,c[2*d+1]=a[d].y;return c},drawLine:function(a,c){this.lazy_init();var d=this._renderContext;this._shader.use();this._shader.setUniformForModelViewAndProjectionMatrixWithMat4();
d.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION);this._shader.setUniformLocationWith4fv(this._colorLocation,this._colorArray);var e=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,e);d.bufferData(d.ARRAY_BUFFER,this._pointsToTypeArray([a,c]),d.STATIC_DRAW);d.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,2,d.FLOAT,!1,0,0);d.drawArrays(d.LINES,0,2);d.deleteBuffer(e);cc.incrementGLDraws(1)},drawRect:function(a,c){this.drawLine(cc.p(a.x,a.y),cc.p(c.x,a.y));this.drawLine(cc.p(c.x,a.y),cc.p(c.x,c.y));
this.drawLine(cc.p(c.x,c.y),cc.p(a.x,c.y));this.drawLine(cc.p(a.x,c.y),cc.p(a.x,a.y))},drawSolidRect:function(a,c,d){a=[a,cc.p(c.x,a.y),c,cc.p(a.x,c.y)];this.drawSolidPoly(a,4,d)},drawPoly:function(a,c,d){this.lazy_init();c=this._renderContext;this._shader.use();this._shader.setUniformForModelViewAndProjectionMatrixWithMat4();c.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION);this._shader.setUniformLocationWith4fv(this._colorLocation,this._colorArray);var e=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,
e);c.bufferData(c.ARRAY_BUFFER,this._pointsToTypeArray(a),c.STATIC_DRAW);c.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,2,c.FLOAT,!1,0,0);d?c.drawArrays(c.LINE_LOOP,0,a.length):c.drawArrays(c.LINE_STRIP,0,a.length);c.deleteBuffer(e);cc.incrementGLDraws(1)},drawSolidPoly:function(a,c,d){this.lazy_init();d&&this.setDrawColor(d.r,d.g,d.b,d.a);c=this._renderContext;this._shader.use();this._shader.setUniformForModelViewAndProjectionMatrixWithMat4();c.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION);
this._shader.setUniformLocationWith4fv(this._colorLocation,this._colorArray);d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this._pointsToTypeArray(a),c.STATIC_DRAW);c.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,2,c.FLOAT,!1,0,0);c.drawArrays(c.TRIANGLE_FAN,0,a.length);c.deleteBuffer(d);cc.incrementGLDraws(1)},drawCircle:function(a,c,d,e,f){this.lazy_init();var g=1;f&&g++;var h=2*Math.PI/e;if(f=new Float32Array(2*(e+2))){for(var m=0;m<=e;m++){var n=m*h,r=c*Math.cos(n+
d)+a.x,n=c*Math.sin(n+d)+a.y;f[2*m]=r;f[2*m+1]=n}f[2*(e+1)]=a.x;f[2*(e+1)+1]=a.y;a=this._renderContext;this._shader.use();this._shader.setUniformForModelViewAndProjectionMatrixWithMat4();a.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION);this._shader.setUniformLocationWith4fv(this._colorLocation,this._colorArray);c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,f,a.STATIC_DRAW);a.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,
0,e+g);a.deleteBuffer(c);cc.incrementGLDraws(1)}},drawQuadBezier:function(a,c,d,e){this.lazy_init();for(var f=new Float32Array(2*(e+1)),g=0,h=0;h<e;h++)f[2*h]=Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,f[2*h+1]=Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y,g+=1/e;f[2*e]=d.x;f[2*e+1]=d.y;a=this._renderContext;this._shader.use();this._shader.setUniformForModelViewAndProjectionMatrixWithMat4();a.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION);this._shader.setUniformLocationWith4fv(this._colorLocation,
this._colorArray);c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,f,a.STATIC_DRAW);a.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+1);a.deleteBuffer(c);cc.incrementGLDraws(1)},drawCubicBezier:function(a,c,d,e,f){this.lazy_init();for(var g=new Float32Array(2*(f+1)),h=0,m=0;m<f;m++)g[2*m]=Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,g[2*m+1]=Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*
d.y+h*h*h*e.y,h+=1/f;g[2*f]=e.x;g[2*f+1]=e.y;a=this._renderContext;this._shader.use();this._shader.setUniformForModelViewAndProjectionMatrixWithMat4();a.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION);this._shader.setUniformLocationWith4fv(this._colorLocation,this._colorArray);c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,g,a.STATIC_DRAW);a.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,f+1);a.deleteBuffer(c);cc.incrementGLDraws(1)},
drawCatmullRom:function(a,c){this.drawCardinalSpline(a,0.5,c)},drawCardinalSpline:function(a,c,d){this.lazy_init();for(var e=new Float32Array(2*(d+1)),f,g,h=1/a.length,m=0;m<d+1;m++)g=m/d,1===g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=cc.cardinalSplineAt(cc.getControlPointAt(a,f-1),cc.getControlPointAt(a,f),cc.getControlPointAt(a,f+1),cc.getControlPointAt(a,f+2),c,g),e[2*m]=f.x,e[2*m+1]=f.y;a=this._renderContext;this._shader.use();this._shader.setUniformForModelViewAndProjectionMatrixWithMat4();
a.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION);this._shader.setUniformLocationWith4fv(this._colorLocation,this._colorArray);c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,e,a.STATIC_DRAW);a.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,d+1);a.deleteBuffer(c);cc.incrementGLDraws(1)},setDrawColor:function(a,c,d,e){this._colorArray[0]=a/255;this._colorArray[1]=c/255;this._colorArray[2]=d/255;this._colorArray[3]=e/255},
setPointSize:function(a){this._pointSize=a*cc.contentScaleFactor()},setLineWidth:function(a){this._renderContext.lineWidth&&this._renderContext.lineWidth(a)}});cc._tmp.PrototypeLabelTTF=function(){var a=cc.LabelTTF.prototype;cc.defineGetterSetter(a,"color",a.getColor,a.setColor);cc.defineGetterSetter(a,"opacity",a.getOpacity,a.setOpacity);cc.defineGetterSetter(a,"string",a.getString,a.setString);cc.defineGetterSetter(a,"textAlign",a.getHorizontalAlignment,a.setHorizontalAlignment);cc.defineGetterSetter(a,"verticalAlign",a.getVerticalAlignment,a.setVerticalAlignment);cc.defineGetterSetter(a,"fontSize",a.getFontSize,a.setFontSize);cc.defineGetterSetter(a,
"fontName",a.getFontName,a.setFontName);cc.defineGetterSetter(a,"font",a._getFont,a._setFont);cc.defineGetterSetter(a,"boundingWidth",a._getBoundingWidth,a._setBoundingWidth);cc.defineGetterSetter(a,"boundingHeight",a._getBoundingHeight,a._setBoundingHeight);cc.defineGetterSetter(a,"fillStyle",a._getFillStyle,a.setFontFillColor);cc.defineGetterSetter(a,"strokeStyle",a._getStrokeStyle,a._setStrokeStyle);cc.defineGetterSetter(a,"lineWidth",a._getLineWidth,a._setLineWidth);cc.defineGetterSetter(a,"shadowOffsetX",
a._getShadowOffsetX,a._setShadowOffsetX);cc.defineGetterSetter(a,"shadowOffsetY",a._getShadowOffsetY,a._setShadowOffsetY);cc.defineGetterSetter(a,"shadowOpacity",a._getShadowOpacity,a._setShadowOpacity);cc.defineGetterSetter(a,"shadowBlur",a._getShadowBlur,a._setShadowBlur)};cc.LabelTTF=cc.Sprite.extend({_dimensions:null,_hAlignment:cc.TEXT_ALIGNMENT_CENTER,_vAlignment:cc.VERTICAL_TEXT_ALIGNMENT_TOP,_fontName:null,_fontSize:0,_string:"",_originalText:null,_onCacheCanvasMode:!0,_shadowEnabled:!1,_shadowOffset:null,_shadowOpacity:0,_shadowBlur:0,_shadowColor:null,_strokeEnabled:!1,_strokeColor:null,_strokeSize:0,_textFillColor:null,_strokeShadowOffsetX:0,_strokeShadowOffsetY:0,_needUpdateTexture:!1,_lineWidths:null,_className:"LabelTTF",_fontStyle:"normal",_fontWeight:"normal",
_lineHeight:"normal",initWithString:function(a,c,d,e,f,g){a=a?a+"":"";d=d||16;e=e||cc.size(0,0);f=f||cc.TEXT_ALIGNMENT_LEFT;g=g||cc.VERTICAL_TEXT_ALIGNMENT_TOP;this._opacityModifyRGB=!1;this._dimensions=cc.size(e.width,e.height);this._fontName=c||"Arial";this._hAlignment=f;this._vAlignment=g;this._fontSize=d;this._renderCmd._setFontStyle(this._fontName,d,this._fontStyle,this._fontWeight);this.string=a;this._renderCmd._setColorsString();this._renderCmd._updateTexture();this._setUpdateTextureDirty();
this._scaleX=this._scaleY=1/cc.view.getDevicePixelRatio();return!0},_setUpdateTextureDirty:function(){this._needUpdateTexture=!0;this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.textDirty)},ctor:function(a,c,d,e,f,g){cc.Sprite.prototype.ctor.call(this);this._dimensions=cc.size(0,0);this._hAlignment=cc.TEXT_ALIGNMENT_LEFT;this._vAlignment=cc.VERTICAL_TEXT_ALIGNMENT_TOP;this._opacityModifyRGB=!1;this._fontName="Arial";this._shadowEnabled=!1;this._shadowOffset=cc.p(0,0);this._shadowBlur=this._shadowOpacity=
0;this._strokeEnabled=!1;this._strokeColor=cc.color(255,255,255,255);this._strokeSize=0;this._textFillColor=cc.color(255,255,255,255);this._strokeShadowOffsetY=this._strokeShadowOffsetX=0;this._needUpdateTexture=!1;this._lineWidths=[];this._renderCmd._setColorsString();this._textureLoaded=!0;c&&c instanceof cc.FontDefinition?this.initWithStringAndTextDefinition(a,c):cc.LabelTTF.prototype.initWithString.call(this,a,c,d,e,f,g)},init:function(){return this.initWithString(" ",this._fontName,this._fontSize)},
description:function(){return"\x3ccc.LabelTTF | FontName \x3d"+this._fontName+" FontSize \x3d "+this._fontSize.toFixed(1)+"\x3e"},getLineHeight:function(){return!this._lineHeight||this._lineHeight.charAt?this._renderCmd._getFontClientHeight():this._lineHeight||this._renderCmd._getFontClientHeight()},setLineHeight:function(a){this._lineHeight=a},getString:function(){return this._string},getHorizontalAlignment:function(){return this._hAlignment},getVerticalAlignment:function(){return this._vAlignment},
getDimensions:function(){return cc.size(this._dimensions)},getFontSize:function(){return this._fontSize},getFontName:function(){return this._fontName},initWithStringAndTextDefinition:function(a,c){this._updateWithTextDefinition(c,!1);this.string=a;return!0},setTextDefinition:function(a){a&&this._updateWithTextDefinition(a,!0)},getTextDefinition:function(){return this._prepareTextDefinition(!1)},enableShadow:function(a,c,d,e){null!=a.r&&null!=a.g&&null!=a.b&&null!=a.a?this._enableShadow(a,c,d):this._enableShadowNoneColor(a,
c,d,e)},_enableShadowNoneColor:function(a,c,d,e){d=d||0.5;!1===this._shadowEnabled&&(this._shadowEnabled=!0);var f=this._shadowOffset;if(f&&f.x!==a||f._y!==c)f.x=a,f.y=c;this._shadowOpacity!==d&&(this._shadowOpacity=d);this._renderCmd._setColorsString();this._shadowBlur!==e&&(this._shadowBlur=e);this._setUpdateTextureDirty()},_enableShadow:function(a,c,d){this._shadowColor||(this._shadowColor=cc.color(255,255,255,128));this._shadowColor.r=a.r;this._shadowColor.g=a.g;this._shadowColor.b=a.b;this._enableShadowNoneColor(c.width||
c.x||0,c.height||c.y||0,null!=a.a?a.a/255:0.5,d)},_getShadowOffsetX:function(){return this._shadowOffset.x},_setShadowOffsetX:function(a){!1===this._shadowEnabled&&(this._shadowEnabled=!0);this._shadowOffset.x!==a&&(this._shadowOffset.x=a,this._setUpdateTextureDirty())},_getShadowOffsetY:function(){return this._shadowOffset._y},_setShadowOffsetY:function(a){!1===this._shadowEnabled&&(this._shadowEnabled=!0);this._shadowOffset._y!==a&&(this._shadowOffset._y=a,this._setUpdateTextureDirty())},_getShadowOffset:function(){return cc.p(this._shadowOffset.x,
this._shadowOffset.y)},_setShadowOffset:function(a){!1===this._shadowEnabled&&(this._shadowEnabled=!0);if(this._shadowOffset.x!==a.x||this._shadowOffset.y!==a.y)this._shadowOffset.x=a.x,this._shadowOffset.y=a.y,this._setUpdateTextureDirty()},_getShadowOpacity:function(){return this._shadowOpacity},_setShadowOpacity:function(a){!1===this._shadowEnabled&&(this._shadowEnabled=!0);this._shadowOpacity!==a&&(this._shadowOpacity=a,this._renderCmd._setColorsString(),this._setUpdateTextureDirty())},_getShadowBlur:function(){return this._shadowBlur},
_setShadowBlur:function(a){!1===this._shadowEnabled&&(this._shadowEnabled=!0);this._shadowBlur!==a&&(this._shadowBlur=a,this._setUpdateTextureDirty())},disableShadow:function(){this._shadowEnabled&&(this._shadowEnabled=!1,this._setUpdateTextureDirty())},enableStroke:function(a,c,d){!1===this._strokeEnabled&&(this._strokeEnabled=!0);var e=this._strokeColor;if(e.r!==a.r||e.g!==a.g||e.b!==a.b)e.r=a.r,e.g=a.g,e.b=a.b,this._renderCmd._setCustomColorsString(d),this._renderCmd._setColorsString();this._strokeSize!==
c&&(this._strokeSize=c||0);this._setUpdateTextureDirty()},_getStrokeStyle:function(){return this._strokeColor},_setStrokeStyle:function(a){!1===this._strokeEnabled&&(this._strokeEnabled=!0);var c=this._strokeColor;if(c.r!==a.r||c.g!==a.g||c.b!==a.b)c.r=a.r,c.g=a.g,c.b=a.b,this._renderCmd._setColorsString(),this._setUpdateTextureDirty()},_getLineWidth:function(){return this._strokeSize},_setLineWidth:function(a){!1===this._strokeEnabled&&(this._strokeEnabled=!0);this._strokeSize!==a&&(this._strokeSize=
a||0,this._setUpdateTextureDirty())},disableStroke:function(){this._strokeEnabled&&(this._strokeEnabled=!1,this._setUpdateTextureDirty())},setFontFillColor:function(a){var c=this._textFillColor;if(c.r!==a.r||c.g!==a.g||c.b!==a.b)c.r=a.r,c.g=a.g,c.b=a.b,this._renderCmd._setColorsString(),this._needUpdateTexture=!0},_getFillStyle:function(){return this._textFillColor},_updateWithTextDefinition:function(a,c){a.fontDimensions?(this._dimensions.width=a.boundingWidth,this._dimensions.height=a.boundingHeight):
(this._dimensions.width=0,this._dimensions.height=0);this._hAlignment=a.textAlign;this._vAlignment=a.verticalAlign;this._fontName=a.fontName;this._fontSize=a.fontSize||12;this._lineHeight=a.lineHeight?a.lineHeight:this._fontSize;this._renderCmd._setFontStyle(a);a.shadowEnabled&&this.enableShadow(a.shadowOffsetX,a.shadowOffsetY,a.shadowOpacity,a.shadowBlur);a.strokeEnabled&&this.enableStroke(a.strokeStyle,a.lineWidth);this.setFontFillColor(a.fillStyle);c&&this._renderCmd._updateTexture();var d=cc.Node._dirtyFlags;
this._renderCmd.setDirtyFlag(d.colorDirty|d.opacityDirty|d.textDirty)},_prepareTextDefinition:function(a){var c=new cc.FontDefinition;a?(c.fontSize=this._fontSize,c.boundingWidth=cc.contentScaleFactor()*this._dimensions.width,c.boundingHeight=cc.contentScaleFactor()*this._dimensions.height):(c.fontSize=this._fontSize,c.boundingWidth=this._dimensions.width,c.boundingHeight=this._dimensions.height);c.fontName=this._fontName;c.textAlign=this._hAlignment;c.verticalAlign=this._vAlignment;if(this._strokeEnabled){c.strokeEnabled=
!0;var d=this._strokeColor;c.strokeStyle=cc.color(d.r,d.g,d.b);c.lineWidth=this._strokeSize}else c.strokeEnabled=!1;this._shadowEnabled?(c.shadowEnabled=!0,c.shadowBlur=this._shadowBlur,c.shadowOpacity=this._shadowOpacity,c.shadowOffsetX=(a?cc.contentScaleFactor():1)*this._shadowOffset.x,c.shadowOffsetY=(a?cc.contentScaleFactor():1)*this._shadowOffset.y):c._shadowEnabled=!1;a=this._textFillColor;c.fillStyle=cc.color(a.r,a.g,a.b);return c},getScale:function(){this._scaleX!==this._scaleY&&cc.log(cc._LogInfos.Node_getScale);
return this._scaleX*cc.view.getDevicePixelRatio()},setScale:function(a,c){this._scaleX=a/cc.view.getDevicePixelRatio();this._scaleY=(c||0===c?c:a)/cc.view.getDevicePixelRatio();this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)},getScaleX:function(){return this._scaleX*cc.view.getDevicePixelRatio()},setScaleX:function(a){this._scaleX=a/cc.view.getDevicePixelRatio();this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)},getScaleY:function(){return this._scaleY*cc.view.getDevicePixelRatio()},
setScaleY:function(a){this._scaleY=a/cc.view.getDevicePixelRatio();this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)},setString:function(a){a=String(a);this._originalText!==a&&(this._originalText=a+"",this._updateString(),this._setUpdateTextureDirty(),this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty))},_updateString:function(){this._string&&""!==this._string||this._string===this._originalText||(cc.renderer.childrenOrderDirty=!0);this._string=this._originalText},setHorizontalAlignment:function(a){a!==
this._hAlignment&&(this._hAlignment=a,this._setUpdateTextureDirty())},setVerticalAlignment:function(a){a!==this._vAlignment&&(this._vAlignment=a,this._setUpdateTextureDirty())},setDimensions:function(a,c){var d;void 0===c?(d=a.width,c=a.height):d=a;if(d!==this._dimensions.width||c!==this._dimensions.height)this._dimensions.width=d,this._dimensions.height=c,this._updateString(),this._setUpdateTextureDirty()},_getBoundingWidth:function(){return this._dimensions.width},_setBoundingWidth:function(a){a!==
this._dimensions.width&&(this._dimensions.width=a,this._updateString(),this._setUpdateTextureDirty())},_getBoundingHeight:function(){return this._dimensions.height},_setBoundingHeight:function(a){a!==this._dimensions.height&&(this._dimensions.height=a,this._updateString(),this._setUpdateTextureDirty())},setFontSize:function(a){this._fontSize!==a&&(this._fontSize=a,this._renderCmd._setFontStyle(this._fontName,this._fontSize,this._fontStyle,this._fontWeight),this._setUpdateTextureDirty())},setFontName:function(a){this._fontName&&
this._fontName!==a&&(this._fontName=a,this._renderCmd._setFontStyle(this._fontName,this._fontSize,this._fontStyle,this._fontWeight),this._setUpdateTextureDirty())},_getFont:function(){return this._renderCmd._getFontStyle()},_setFont:function(a){if(a=cc.LabelTTF._fontStyleRE.exec(a))this._fontSize=parseInt(a[1]),this._fontName=a[2],this._renderCmd._setFontStyle(this._fontName,this._fontSize,this._fontStyle,this._fontWeight),this._setUpdateTextureDirty()},getContentSize:function(){this._needUpdateTexture&&
this._renderCmd._updateTTF();return cc.size(this._contentSize)},_getWidth:function(){this._needUpdateTexture&&this._renderCmd._updateTTF();return this._contentSize.width},_getHeight:function(){this._needUpdateTexture&&this._renderCmd._updateTTF();return this._contentSize.height},setTextureRect:function(a,c,d){cc.Sprite.prototype.setTextureRect.call(this,a,c,d,!1)},setDrawMode:function(a){this._onCacheCanvasMode=a},_createRenderCmd:function(){return cc._renderType===cc.game.RENDER_TYPE_WEBGL?new cc.LabelTTF.WebGLRenderCmd(this):
this._onCacheCanvasMode?new cc.LabelTTF.CacheCanvasRenderCmd(this):new cc.LabelTTF.CanvasRenderCmd(this)},_setFontStyle:function(a){this._fontStyle!==a&&(this._fontStyle=a,this._renderCmd._setFontStyle(this._fontName,this._fontSize,this._fontStyle,this._fontWeight),this._setUpdateTextureDirty())},_getFontStyle:function(){return this._fontStyle},_setFontWeight:function(a){this._fontWeight!==a&&(this._fontWeight=a,this._renderCmd._setFontStyle(this._fontName,this._fontSize,this._fontStyle,this._fontWeight),
this._setUpdateTextureDirty())},_getFontWeight:function(){return this._fontWeight}});cc.assert(cc.isFunction(cc._tmp.PrototypeLabelTTF),cc._LogInfos.MissingFile,"LabelTTFPropertyDefine.js");cc._tmp.PrototypeLabelTTF();delete cc._tmp.PrototypeLabelTTF;cc.LabelTTF._fontStyleRE=/^(\d+)px\s+['"]?([\w\s\d]+)['"]?$/;cc.LabelTTF.create=function(a,c,d,e,f,g){return new cc.LabelTTF(a,c,d,e,f,g)};cc.LabelTTF.createWithFontDefinition=cc.LabelTTF.create;cc.LabelTTF.__labelHeightDiv=document.createElement("div");
cc.LabelTTF.__labelHeightDiv.style.fontFamily="Arial";cc.LabelTTF.__labelHeightDiv.style.position="absolute";cc.LabelTTF.__labelHeightDiv.style.left="-100px";cc.LabelTTF.__labelHeightDiv.style.top="-100px";cc.LabelTTF.__labelHeightDiv.style.lineHeight="normal";document.body?document.body.appendChild(cc.LabelTTF.__labelHeightDiv):window.addEventListener("load",function(){this.removeEventListener("load",arguments.callee,!1);document.body.appendChild(cc.LabelTTF.__labelHeightDiv)},!1);
cc.LabelTTF.__getFontHeightByDiv=function(a,c){var d,e=cc.LabelTTF.__labelHeightDiv;if(a instanceof cc.FontDefinition){d=cc.LabelTTF.__fontHeightCache[a._getCanvasFontStr()];if(0<d)return d;e.innerHTML="ajghl~!";e.style.fontFamily=a.fontName;e.style.fontSize=a.fontSize+"px";e.style.fontStyle=a.fontStyle;e.style.fontWeight=a.fontWeight;d=e.clientHeight;cc.LabelTTF.__fontHeightCache[a._getCanvasFontStr()]=d}else{d=cc.LabelTTF.__fontHeightCache[a+"."+c];if(0<d)return d;e.innerHTML="ajghl~!";e.style.fontFamily=
a;e.style.fontSize=c+"px";d=e.clientHeight;cc.LabelTTF.__fontHeightCache[a+"."+c]=d}e.innerHTML="";return d};cc.LabelTTF.__fontHeightCache={};cc.LabelTTF._textAlign=["left","center","right"];cc.LabelTTF._textBaseline=["top","middle","bottom"];cc.LabelTTF.wrapInspection=!0;cc.LabelTTF._wordRex=/([a-zA-Z0-9\u00c4\u00d6\u00dc\u00e4\u00f6\u00fc\u00df\u00e9\u00e8\u00e7\u00e0\u00f9\u00ea\u00e2\u00ee\u00f4\u00fb]+|\S)/;cc.LabelTTF._symbolRex=/^[!,.:;}\]%\?>\u3001\u2018\u201c\u300b\uff1f\u3002\uff0c\uff01]/;cc.LabelTTF._lastWordRex=/([a-zA-Z0-9\u00c4\u00d6\u00dc\u00e4\u00f6\u00fc\u00df\u00e9\u00e8\u00e7\u00e0\u00f9\u00ea\u00e2\u00ee\u00f4\u00fb]+|\S)$/;
cc.LabelTTF._lastEnglish=/[a-zA-Z0-9\u00c4\u00d6\u00dc\u00e4\u00f6\u00fc\u00df\u00e9\u00e8\u00e7\u00e0\u00f9\u00ea\u00e2\u00ee\u00f4\u00fb]+$/;cc.LabelTTF._firsrEnglish=/^[a-zA-Z0-9\u00c4\u00d6\u00dc\u00e4\u00f6\u00fc\u00df\u00e9\u00e8\u00e7\u00e0\u00f9\u00ea\u00e2\u00ee\u00f4\u00fb]/;
(function(){cc.LabelTTF.RenderCmd=function(){this._fontClientHeight=18;this._fontStyleStr="";this._shadowColorStr="rgba(128, 128, 128, 0.5)";this._strokeColorStr="";this._fillColorStr="rgba(255,255,255,1)";this._labelContext=this._labelCanvas=this._customfillColorStr=null;this._lineWidths=[];this._strings=[];this._isMultiLine=!1;this._status=[];this._renderingIndex=0;this._texRect=cc.rect();this._canUseDirtyRegion=!0};var a=cc.LabelTTF.RenderCmd.prototype;a.constructor=cc.LabelTTF.RenderCmd;a._setFontStyle=
function(a,c,f,g){if(a instanceof cc.FontDefinition)this._fontStyleStr=a._getCanvasFontStr(),this._fontClientHeight=cc.LabelTTF.__getFontHeightByDiv(a);else{var h=c*cc.view.getDevicePixelRatio();this._fontStyleStr=f+" "+g+" "+h+"px '"+a+"'";this._fontClientHeight=cc.LabelTTF.__getFontHeightByDiv(a,c)}};a._getFontStyle=function(){return this._fontStyleStr};a._getFontClientHeight=function(){return this._fontClientHeight};a._updateColor=function(){this._setColorsString();this._updateTexture()};a._setColorsString=
function(){var a=this._displayedColor,c=this._node,f=c._shadowColor||this._displayedColor,g=c._strokeColor,h=c._textFillColor,m=a.r/255,n=a.g/255,a=a.b/255;this._shadowColorStr="rgba("+(0|m*f.r)+","+(0|n*f.g)+","+(0|a*f.b)+","+c._shadowOpacity+")";this._fillColorStr="rgba("+(0|m*h.r)+","+(0|n*h.g)+","+(0|a*h.b)+", 1)";this._strokeColorStr="rgba("+(0|m*g.r)+","+(0|n*g.g)+","+(0|a*g.b)+", 1)"};a._setCustomColorsString=function(a){this._customfillColorStr=a&&"rgba("+(0|a.r)+","+(0|a.g)+","+(0|a.b)+", 1)"};
var c=new cc.Rect;a.getLocalBB=function(){var a=this._node;c.x=c.y=0;var e=cc.view.getDevicePixelRatio();c.width=a._getWidth()*e;c.height=a._getHeight()*e;return c};a._updateTTF=function(){var a=this._node,c=cc.view.getDevicePixelRatio(),f=a._dimensions.width*c,g,h,m=this._lineWidths;m.length=0;this._isMultiLine=!1;this._measureConfig();if(0!==f)for(this._strings=a._string.split("\n"),g=0;g<this._strings.length;g++)this._checkWarp(this._strings,g,f);else for(this._strings=a._string.split("\n"),g=
0,h=this._strings.length;g<h;g++)m.push(this._measure(this._strings[g]));1<this._strings.length&&(this._isMultiLine=!0);h=g=0;a._strokeEnabled&&(g=h=2*a._strokeSize);if(a._shadowEnabled){var n=a._shadowOffset;g+=2*Math.abs(n.x);h+=2*Math.abs(n.y)}f=0===f?this._isMultiLine?cc.size(Math.ceil(Math.max.apply(Math,m)+g),Math.ceil(this._fontClientHeight*c*this._strings.length+h)):cc.size(Math.ceil(this._measure(a._string)+g),Math.ceil(this._fontClientHeight*c+h)):0===a._dimensions.height?this._isMultiLine?
cc.size(Math.ceil(f+g),Math.ceil(a.getLineHeight()*c*this._strings.length+h)):cc.size(Math.ceil(f+g),Math.ceil(a.getLineHeight()*c+h)):cc.size(Math.ceil(f+g),Math.ceil(a._dimensions.height*c+h));"normal"!==a._getFontStyle()&&(f.width=Math.ceil(f.width+0.3*a._fontSize));0===this._strings.length?(this._texRect.width=1,this._texRect.height=f.height||1):(this._texRect.width=f.width,this._texRect.height=f.height);a.setContentSize(f.width/c,f.height/c);a._strokeShadowOffsetX=g;a._strokeShadowOffsetY=h;
a=a._anchorPoint;this._anchorPointInPoints.x=0.5*g+(f.width-g)*a.x;this._anchorPointInPoints.y=0.5*h+(f.height-h)*a.y};a._saveStatus=function(){var a=this._node,c=cc.view.getDevicePixelRatio(),f=a._strokeShadowOffsetX,g=a._strokeShadowOffsetY,h=a._contentSize.height*c-g,m=a._vAlignment,n=a._hAlignment,r=0.5*f,g=h+0.5*g,s=0,t=0,u=[],f=a._contentSize.width*c-f,a=a.getLineHeight()*c,c=(a-this._fontClientHeight*c)/2,s=n===cc.TEXT_ALIGNMENT_RIGHT?s+f:n===cc.TEXT_ALIGNMENT_CENTER?s+f/2:s+0;if(this._isMultiLine)for(n=
this._strings.length,m===cc.VERTICAL_TEXT_ALIGNMENT_BOTTOM?t=a-2*c+h-a*n:m===cc.VERTICAL_TEXT_ALIGNMENT_CENTER&&(t=(a-2*c)/2+(h-a*n)/2),m=0;m<n;m++)u.push(-h+(a*m+c)+t);else m!==cc.VERTICAL_TEXT_ALIGNMENT_BOTTOM&&(t=m===cc.VERTICAL_TEXT_ALIGNMENT_TOP?t-h:t-0.5*h),u.push(t);h={contextTransform:cc.p(r,g),xOffset:s,OffsetYArray:u};this._status.push(h)};a._drawTTFInCanvas=function(a){if(a){var c=this._status.pop();a.setTransform(1,0,0,1,c.contextTransform.x,c.contextTransform.y);this.drawLabels(a,c.xOffset,
c.OffsetYArray)}};a._checkWarp=function(a,c,f){var g=a[c],h=this._measure(g);if(h>f&&1<g.length){for(var m=f/h*g.length|0,n=g.substr(m),r=h-this._measure(n),s,t=0,u=0;r>f&&100>u++;)m*=f/r,m|=0,n=g.substr(m),r=h-this._measure(n);for(u=0;r<f&&100>u++;)n&&(t=(s=cc.LabelTTF._wordRex.exec(n))?s[0].length:1,s=n),m+=t,n=g.substr(m),r=h-this._measure(n);m-=t;0===m&&(m=1,s=s.substr(1));f=g.substr(0,m);cc.LabelTTF.wrapInspection&&cc.LabelTTF._symbolRex.test(s||n)&&(h=cc.LabelTTF._lastWordRex.exec(f),m-=h?h[0].length:
0,0===m&&(m=1),s=g.substr(m),f=g.substr(0,m));cc.LabelTTF._firsrEnglish.test(s)&&(h=cc.LabelTTF._lastEnglish.exec(f))&&f!==h[0]&&(m-=h[0].length,s=g.substr(m),f=g.substr(0,m));a[c]=s||n;a.splice(c,0,f)}};a.updateStatus=function(){var a=cc.Node._dirtyFlags;this._dirtyFlag&a.textDirty&&this._updateTexture();cc.Node.RenderCmd.prototype.updateStatus.call(this);this._dirtyFlag&a.transformDirty&&(this.transform(this.getParentRenderCmd(),!0),this._dirtyFlag^=this._dirtyFlag&cc.Node._dirtyFlags.transformDirty)};
a._syncStatus=function(a){var c=cc.Node._dirtyFlags,f=this._dirtyFlag;f&c.textDirty&&this._updateTexture();cc.Node.RenderCmd.prototype._syncStatus.call(this,a);(cc._renderType===cc.game.RENDER_TYPE_WEBGL||f&c.transformDirty)&&this.transform(a)};a.drawLabels=function(a,c,f){var g=this._node;if(g._shadowEnabled){var h=g._shadowOffset;a.shadowColor=this._shadowColorStr;a.shadowOffsetX=h.x;a.shadowOffsetY=-h.y;a.shadowBlur=g._shadowBlur}var h=g._hAlignment,m=g._vAlignment,n=g._strokeSize;a.font!==this._fontStyleStr&&
(a.font=this._fontStyleStr);a.fillStyle=this._customfillColorStr||this._fillColorStr;if(g=g._strokeEnabled)a.lineWidth=2*n,a.strokeStyle=this._strokeColorStr;a.textBaseline=cc.LabelTTF._textBaseline[m];a.textAlign=cc.LabelTTF._textAlign[h];h=this._strings.length;for(m=0;m<h;m++)n=this._strings[m],g&&a.strokeText(n,c,f[m]),a.fillText(n,c,f[m]);cc.g_NumberOfDraws++}})();
(function(){cc.LabelTTF.CacheRenderCmd=function(a){cc.LabelTTF.RenderCmd.call(this,a);cc._renderType!==cc.game.RENDER_TYPE_WEBGL&&(a=this._labelCanvas=document.createElement("canvas"),a.width=1,a.height=1,this._labelContext=a.getContext("2d"));this._texRect=cc.rect()};cc.LabelTTF.CacheRenderCmd.prototype=Object.create(cc.LabelTTF.RenderCmd.prototype);cc.inject(cc.LabelTTF.RenderCmd.prototype,cc.LabelTTF.CacheRenderCmd.prototype);var a=cc.LabelTTF.CacheRenderCmd.prototype;a.constructor=cc.LabelTTF.CacheRenderCmd;
a._updateTexture=function(){this._dirtyFlag^=this._dirtyFlag&cc.Node._dirtyFlags.textDirty;var a=this._node;this._updateTTF();var d=this._texRect.width,e=this._texRect.height,f=this._labelCanvas,g=this._labelContext;cc._renderType===cc.game.RENDER_TYPE_WEBGL&&(f=cc.labelTTFCanvas,g=cc.labelTTFContext);if(!a._texture&&0<a._string.length){var h=new cc.Texture2D;h.initWithElement(f);a.setTexture(h)}if(!a._texture&&0===a._string.length)return!0;g.font=this._fontStyleStr;h=f.width===d&&f.height===e;f.width=
this._texRect.width||1;f.height=this._texRect.height||1;h&&g.clearRect(0,0,d,e);this._saveStatus();this._drawTTFInCanvas(g);a._texture&&(a._texture._htmlElementObj=f,a._texture.handleLoadedTexture());a.setTextureRect(this._texRect);return!0};a._measureConfig=function(){cc._renderType===cc.game.RENDER_TYPE_WEBGL?cc.labelTTFContext.font=this._fontStyleStr:this._labelContext.font=this._fontStyleStr};a._measure=function(a){return cc._renderType===cc.game.RENDER_TYPE_WEBGL?cc.labelTTFContext.measureText(a).width:
this._labelContext.measureText(a).width}})();(function(){cc.LabelTTF.WebGLRenderCmd=function(a){cc.Sprite.WebGLRenderCmd.call(this,a);cc.LabelTTF.CacheRenderCmd.call(this)};var a=cc.LabelTTF.WebGLRenderCmd.prototype=Object.create(cc.Sprite.WebGLRenderCmd.prototype);cc.inject(cc.LabelTTF.CacheRenderCmd.prototype,a);a.constructor=cc.LabelTTF.WebGLRenderCmd;a._updateColor=function(){};a.detachFromParent=function(a){if(a){var d=this._node;d._texture&&d._texture.releaseTexture();this._labelCanvas=null}cc.Node.WebGLRenderCmd.prototype.detachFromParent.call(this,
a)}})();cc.HashElement=cc.Class.extend({actions:null,target:null,actionIndex:0,currentAction:null,currentActionSalvaged:!1,paused:!1,hh:null,ctor:function(){this.actions=[];this.target=null;this.actionIndex=0;this.currentAction=null;this.paused=this.currentActionSalvaged=!1;this.hh=null}});
cc.ActionManager=cc.Class.extend({_hashTargets:null,_arrayTargets:null,_currentTarget:null,_currentTargetSalvaged:!1,_searchElementByTarget:function(a,c){for(var d=0;d<a.length;d++)if(c===a[d].target)return a[d];return null},ctor:function(){this._hashTargets={};this._arrayTargets=[];this._currentTarget=null;this._currentTargetSalvaged=!1},addAction:function(a,c,d){if(!a)throw Error("cc.ActionManager.addAction(): action must be non-null");if(!c)throw Error("cc.ActionManager.addAction(): action must be non-null");
var e=this._hashTargets[c.__instanceId];e||(e=new cc.HashElement,e.paused=d,e.target=c,this._hashTargets[c.__instanceId]=e,this._arrayTargets.push(e));this._actionAllocWithHashElement(e);e.actions.push(a);a.startWithTarget(c)},removeAllActions:function(){for(var a=this._arrayTargets,c=0;c<a.length;c++){var d=a[c];d&&this.removeAllActionsFromTarget(d.target,!0)}},removeAllActionsFromTarget:function(a,c){if(null!=a){var d=this._hashTargets[a.__instanceId];d&&(-1===d.actions.indexOf(d.currentAction)||
d.currentActionSalvaged||(d.currentActionSalvaged=!0),d.actions.length=0,this._currentTarget!==d||c?this._deleteHashElement(d):this._currentTargetSalvaged=!0)}},removeAction:function(a){if(null!=a){var c=a.getOriginalTarget();if(c=this._hashTargets[c.__instanceId])for(var d=0;d<c.actions.length;d++){if(c.actions[d]===a){c.actions.splice(d,1);break}}else cc.log(cc._LogInfos.ActionManager_removeAction)}},removeActionByTag:function(a,c){a===cc.ACTION_TAG_INVALID&&cc.log(cc._LogInfos.ActionManager_addAction);
cc.assert(c,cc._LogInfos.ActionManager_addAction);var d=this._hashTargets[c.__instanceId];if(d)for(var e=d.actions.length,f=0;f<e;++f){var g=d.actions[f];if(g&&g.getTag()===a&&g.getOriginalTarget()===c){this._removeActionAtIndex(f,d);break}}},getActionByTag:function(a,c){a===cc.ACTION_TAG_INVALID&&cc.log(cc._LogInfos.ActionManager_getActionByTag);var d=this._hashTargets[c.__instanceId];if(d){if(null!=d.actions)for(var e=0;e<d.actions.length;++e){var f=d.actions[e];if(f&&f.getTag()===a)return f}cc.log(cc._LogInfos.ActionManager_getActionByTag_2,
a)}return null},numberOfRunningActionsInTarget:function(a){return(a=this._hashTargets[a.__instanceId])?a.actions?a.actions.length:0:0},pauseTarget:function(a){(a=this._hashTargets[a.__instanceId])&&(a.paused=!0)},resumeTarget:function(a){(a=this._hashTargets[a.__instanceId])&&(a.paused=!1)},pauseAllRunningActions:function(){for(var a=[],c=this._arrayTargets,d=0;d<c.length;d++){var e=c[d];e&&!e.paused&&(e.paused=!0,a.push(e.target))}return a},resumeTargets:function(a){if(a)for(var c=0;c<a.length;c++)a[c]&&
this.resumeTarget(a[c])},purgeSharedManager:function(){cc.director.getScheduler().unscheduleUpdate(this)},_removeActionAtIndex:function(a,c){c.actions[a]!==c.currentAction||c.currentActionSalvaged||(c.currentActionSalvaged=!0);c.actions.splice(a,1);c.actionIndex>=a&&c.actionIndex--;0===c.actions.length&&(this._currentTarget===c?this._currentTargetSalvaged=!0:this._deleteHashElement(c))},_deleteHashElement:function(a){var c=!1;a&&(this._hashTargets[a.target.__instanceId]&&(delete this._hashTargets[a.target.__instanceId],
cc.arrayRemoveObject(this._arrayTargets,a),c=!0),a.actions=null,a.target=null);return c},_actionAllocWithHashElement:function(a){null==a.actions&&(a.actions=[])},update:function(a){for(var c=this._arrayTargets,d,e=0;e<c.length;e++){d=this._currentTarget=c[e];if(!d.paused)for(d.actionIndex=0;d.actionIndex<(d.actions?d.actions.length:0);d.actionIndex++)if(d.currentAction=d.actions[d.actionIndex],d.currentAction){d.currentActionSalvaged=!1;d.currentAction.step(a*(d.currentAction._speedMethod?d.currentAction._speed:
1));if(d.currentActionSalvaged)d.currentAction=null;else if(d.currentAction.isDone()){d.currentAction.stop();var f=d.currentAction;d.currentAction=null;this.removeAction(f)}d.currentAction=null}this._currentTargetSalvaged&&0===d.actions.length&&this._deleteHashElement(d)&&e--}}});cc.profiler=function(){var a=!1,c=!1,d=0,e=0,f=0,g=0,h=null,m=document.createElement("div"),n=document.createElement("div"),r=document.createElement("div"),s=document.createElement("div"),t=10,u=[0,10,20,30],w=[0,0,0,0],z=3,A=0,B=0;s.id="fps";s.style.position="absolute";s.style.padding="3px";s.style.textAlign="left";s.style.backgroundColor="rgb(0, 0, 34)";s.style.bottom=cc.DIRECTOR_STATS_POSITION.y+"0px";s.style.left=cc.DIRECTOR_STATS_POSITION.x+"px";s.style.width="45px";s.style.height="60px";for(var C=
[r,n,m],E=0;3>E;++E){var H=C[E].style;H.color="rgb(0, 255, 255)";H.font="bold 12px Helvetica, Arial";H.lineHeight="20px";H.width="100%";s.appendChild(C[E])}var F=function(){f=cc.director.getSecondsPerFrame();d++;g+=cc.director.getDeltaTime();if(g>cc.DIRECTOR_FPS_INTERVAL){e=d/g;g=d=0;if(D.onFrameRateChange){var c=e,h=u.length-1,s=h,C=0;A++;for(B+=c;0<=s;s--)if(c>=u[s]){w[s]++;break}if(A>=t){C=B/t;for(s=h;0<s;s--)if(c=w[s]/t,0.6<=c&&C>=u[s]){s!=z&&(z=s,D.onFrameRateChange&&D.onFrameRateChange(C.toFixed(2)));
break}B=A=_changeCount=0;for(s=h;0<s;s--)w[s]=0}}a&&(n.innerText=f.toFixed(3),m.innerText=e.toFixed(1),r.innerText=(0|cc.g_NumberOfDraws).toString())}},D={onFrameRateChange:null,getSecondsPerFrame:function(){return f},getFrameRate:function(){return e},setProfileDuration:function(a){!isNaN(a)&&0<a&&(t=a/cc.DIRECTOR_FPS_INTERVAL)},resumeProfiling:function(){cc.eventManager.addListener(h,1)},stopProfiling:function(){cc.eventManager.removeListener(h)},isShowingStats:function(){return a},showStats:function(){c||
this.init();null===s.parentElement&&cc.container.appendChild(s);a=!0},hideStats:function(){a=!1;s.parentElement===cc.container&&cc.container.removeChild(s)},init:function(){c||(h=cc.eventManager.addCustomListener(cc.Director.EVENT_AFTER_VISIT,F),c=!0)}};return D}();cc.math=cc.math||{};cc.math.EPSILON=0.015625;cc.math.square=function(a){return a*a};cc.math.almostEqual=function(a,c){return a+cc.math.EPSILON>c&&a-cc.math.EPSILON<c};(function(a){a.math.Vec2=function(a,c){void 0===c?(this.x=a.x,this.y=a.y):(this.x=a||0,this.y=c||0)};var c=a.math.Vec2.prototype;c.fill=function(a,c){this.x=a;this.y=c};c.length=function(){return Math.sqrt(a.math.square(this.x)+a.math.square(this.y))};c.lengthSq=function(){return a.math.square(this.x)+a.math.square(this.y)};c.normalize=function(){var a=1/this.length();this.x*=a;this.y*=a;return this};a.math.Vec2.add=function(a,c,f){a.x=c.x+f.x;a.y=c.y+f.y;return a};c.add=function(a){this.x+=a.x;this.y+=
a.y;return this};c.dot=function(a){return this.x*a.x+this.y*a.y};a.math.Vec2.subtract=function(a,c,f){a.x=c.x-f.x;a.y=c.y-f.y;return a};c.subtract=function(a){this.x-=a.x;this.y-=a.y;return this};c.transform=function(a){var c=this.x,f=this.y;this.x=c*a.mat[0]+f*a.mat[3]+a.mat[6];this.y=c*a.mat[1]+f*a.mat[4]+a.mat[7];return this};a.math.Vec2.scale=function(a,c,f){a.x=c.x*f;a.y=c.y*f;return a};c.scale=function(a){this.x*=a;this.y*=a;return this};c.equals=function(c){return this.x<c.x+a.math.EPSILON&&
this.x>c.x-a.math.EPSILON&&this.y<c.y+a.math.EPSILON&&this.y>c.y-a.math.EPSILON}})(cc);(function(a){a.math.Vec3=a.kmVec3=function(a,c,f){a&&void 0===c?(this.x=a.x,this.y=a.y,this.z=a.z):(this.x=a||0,this.y=c||0,this.z=f||0)};a.math.vec3=function(c,e,f){return new a.math.Vec3(c,e,f)};var c=a.math.Vec3.prototype;c.fill=function(a,c,f){a&&void 0===c?(this.x=a.x,this.y=a.y,this.z=a.z):(this.x=a,this.y=c,this.z=f);return this};c.length=function(){return Math.sqrt(a.math.square(this.x)+a.math.square(this.y)+a.math.square(this.z))};c.lengthSq=function(){return a.math.square(this.x)+a.math.square(this.y)+
a.math.square(this.z)};c.normalize=function(){var a=1/this.length();this.x*=a;this.y*=a;this.z*=a;return this};c.cross=function(a){var c=this.x,f=this.y,g=this.z;this.x=f*a.z-g*a.y;this.y=g*a.x-c*a.z;this.z=c*a.y-f*a.x;return this};c.dot=function(a){return this.x*a.x+this.y*a.y+this.z*a.z};c.add=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;return this};c.subtract=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;return this};c.transform=function(a){var c=this.x,f=this.y,g=this.z;a=a.mat;this.x=c*
a[0]+f*a[4]+g*a[8]+a[12];this.y=c*a[1]+f*a[5]+g*a[9]+a[13];this.z=c*a[2]+f*a[6]+g*a[10]+a[14];return this};c.transformNormal=function(a){var c=this.x,f=this.y,g=this.z;a=a.mat;this.x=c*a[0]+f*a[4]+g*a[8];this.y=c*a[1]+f*a[5]+g*a[9];this.z=c*a[2]+f*a[6]+g*a[10];return this};c.transformCoord=function(c){var e=new a.math.Vec4(this.x,this.y,this.z,1);e.transform(c);this.x=e.x/e.w;this.y=e.y/e.w;this.z=e.z/e.w;return this};c.scale=function(a){this.x*=a;this.y*=a;this.z*=a;return this};c.equals=function(c){var e=
a.math.EPSILON;return this.x<c.x+e&&this.x>c.x-e&&this.y<c.y+e&&this.y>c.y-e&&this.z<c.z+e&&this.z>c.z-e};c.inverseTransform=function(c){c=c.mat;var e=new a.math.Vec3(this.x-c[12],this.y-c[13],this.z-c[14]);this.x=e.x*c[0]+e.y*c[1]+e.z*c[2];this.y=e.x*c[4]+e.y*c[5]+e.z*c[6];this.z=e.x*c[8]+e.y*c[9]+e.z*c[10];return this};c.inverseTransformNormal=function(a){var c=this.x,f=this.y,g=this.z;a=a.mat;this.x=c*a[0]+f*a[1]+g*a[2];this.y=c*a[4]+f*a[5]+g*a[6];this.z=c*a[8]+f*a[9]+g*a[10];return this};c.assignFrom=
function(a){if(!a)return this;this.x=a.x;this.y=a.y;this.z=a.z;return this};a.math.Vec3.zero=function(a){a.x=a.y=a.z=0;return a};c.toTypeArray=function(){var a=new Float32Array(3);a[0]=this.x;a[1]=this.y;a[2]=this.z;return a}})(cc);(function(a){a.math.Vec4=function(a,c,f,g){a&&void 0===c?(this.x=a.x,this.y=a.y,this.z=a.z,this.w=a.w):(this.x=a||0,this.y=c||0,this.z=f||0,this.w=g||0)};a.kmVec4=a.math.Vec4;var c=a.math.Vec4.prototype;c.fill=function(a,c,f,g){a&&void 0===c?(this.x=a.x,this.y=a.y,this.z=a.z,this.w=a.w):(this.x=a,this.y=c,this.z=f,this.w=g)};c.add=function(a){if(!a)return this;this.x+=a.x;this.y+=a.y;this.z+=a.z;this.w+=a.w;return this};c.dot=function(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w};c.length=
function(){return Math.sqrt(a.math.square(this.x)+a.math.square(this.y)+a.math.square(this.z)+a.math.square(this.w))};c.lengthSq=function(){return a.math.square(this.x)+a.math.square(this.y)+a.math.square(this.z)+a.math.square(this.w)};c.lerp=function(a,c){return this};c.normalize=function(){var a=1/this.length();this.x*=a;this.y*=a;this.z*=a;this.w*=a;return this};c.scale=function(a){this.normalize();this.x*=a;this.y*=a;this.z*=a;this.w*=a;return this};c.subtract=function(a){this.x-=a.x;this.y-=
a.y;this.z-=a.z;this.w-=a.w};c.transform=function(a){var c=this.x,f=this.y,g=this.z,h=this.w;a=a.mat;this.x=c*a[0]+f*a[4]+g*a[8]+h*a[12];this.y=c*a[1]+f*a[5]+g*a[9]+h*a[13];this.z=c*a[2]+f*a[6]+g*a[10]+h*a[14];this.w=c*a[3]+f*a[7]+g*a[11]+h*a[15];return this};a.math.Vec4.transformArray=function(c,e){for(var f=[],g=0;g<c.length;g++){var h=new a.math.Vec4(c[g]);h.transform(e);f.push(h)}return f};c.equals=function(c){var e=a.math.EPSILON;return this.x<c.x+e&&this.x>c.x-e&&this.y<c.y+e&&this.y>c.y-e&&
this.z<c.z+e&&this.z>c.z-e&&this.w<c.w+e&&this.w>c.w-e};c.assignFrom=function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=a.w;return this};c.toTypeArray=function(){var a=new Float32Array(4);a[0]=this.x;a[1]=this.y;a[2]=this.z;a[3]=this.w;return a}})(cc);(function(a){function c(c,e,f){e=new a.math.Vec2(e);e.subtract(c);f.x=-e.y;f.y=e.x;f.normalize()}a.math.Ray2=function(c,e){this.start=c||new a.math.Vec2;this.dir=e||new a.math.Vec2};a.math.Ray2.prototype.fill=function(a,c,f,g){this.start.x=a;this.start.y=c;this.dir.x=f;this.dir.y=g};a.math.Ray2.prototype.intersectLineSegment=function(c,e,f){var g=this.start.x,h=this.start.y,m=this.start.x+this.dir.x,n=this.start.y+this.dir.y,r=c.x,s=c.y,t=e.x,u=e.y,w=(u-s)*(m-g)-(t-r)*(n-h);if(w>-a.math.EPSILON&&
w<a.math.EPSILON)return!1;s=((t-r)*(h-s)-(u-s)*(g-r))/w;r=g+s*(m-g);s=h+s*(n-h);if(r<Math.min(c.x,e.x)-a.math.EPSILON||r>Math.max(c.x,e.x)+a.math.EPSILON||s<Math.min(c.y,e.y)-a.math.EPSILON||s>Math.max(c.y,e.y)+a.math.EPSILON||r<Math.min(g,m)-a.math.EPSILON||r>Math.max(g,m)+a.math.EPSILON||s<Math.min(h,n)-a.math.EPSILON||s>Math.max(h,n)+a.math.EPSILON)return!1;f.x=r;f.y=s;return!0};a.math.Ray2.prototype.intersectTriangle=function(d,e,f,g,h){var m=new a.math.Vec2,n=new a.math.Vec2,r=new a.math.Vec2,
s=1E4,t=!1,u;this.intersectLineSegment(d,e,m)&&(t=!0,u=m.subtract(this.start).length(),u<s&&(n.x=m.x,n.y=m.y,s=u,c(d,e,r)));this.intersectLineSegment(e,f,m)&&(t=!0,u=m.subtract(this.start).length(),u<s&&(n.x=m.x,n.y=m.y,s=u,c(e,f,r)));this.intersectLineSegment(f,d,m)&&(t=!0,u=m.subtract(this.start).length(),u<s&&(n.x=m.x,n.y=m.y,c(f,d,r)));t&&(g.x=n.x,g.y=n.y,h&&(h.x=r.x,h.y=r.y));return t}})(cc);window.Uint16Array=window.Uint16Array||window.Array;window.Float32Array=window.Float32Array||window.Array;
(function(a){a.math.Matrix3=function(a){this.mat=a&&a.mat?new Float32Array(a.mat):new Float32Array(9)};a.kmMat3=a.math.Matrix3;var c=a.math.Matrix3.prototype;c.fill=function(a){var c=this.mat;a=a.mat;c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];return this};c.adjugate=function(){var a=this.mat,c=a[0],d=a[1],h=a[2],m=a[3],n=a[4],r=a[5],s=a[6],t=a[7],u=a[8];a[0]=n*u-r*t;a[1]=h*t-d*u;a[2]=d*r-h*n;a[3]=r*s-m*u;a[4]=c*u-h*s;a[5]=h*m-c*r;a[6]=m*t-n*s;a[8]=c*
n-d*m;return this};c.identity=function(){var a=this.mat;a[1]=a[2]=a[3]=a[5]=a[6]=a[7]=0;a[0]=a[4]=a[8]=1;return this};var d=new a.math.Matrix3;c.inverse=function(a){if(0===a)return this;d.assignFrom(this);a=1/a;this.adjugate();this.multiplyScalar(a);return this};c.isIdentity=function(){var a=this.mat;return 1===a[0]&&0===a[1]&&0===a[2]&&0===a[3]&&1===a[4]&&0===a[5]&&0===a[6]&&0===a[7]&&1===a[8]};c.transpose=function(){var a=this.mat,c=a[1],d=a[2],h=a[5],m=a[6],n=a[7];a[1]=a[3];a[2]=m;a[3]=c;a[5]=
n;a[6]=d;a[7]=h;return this};c.determinant=function(){var a=this.mat,c=a[0]*a[4]*a[8]+a[1]*a[5]*a[6]+a[2]*a[3]*a[7];return c-=a[2]*a[4]*a[6]+a[0]*a[5]*a[7]+a[1]*a[3]*a[8]};c.multiply=function(a){var c=this.mat,d=a.mat;a=c[0];var h=c[1],m=c[2],n=c[3],r=c[4],s=c[5],t=c[6],u=c[7],w=c[8],z=d[0],A=d[1],B=d[2],C=d[3],E=d[4],H=d[5],F=d[6],D=d[7],d=d[8];c[0]=a*z+n*A+t*B;c[1]=h*z+r*A+u*B;c[2]=m*z+s*A+w*B;c[3]=m*z+s*A+w*B;c[4]=h*C+r*E+u*H;c[5]=m*C+s*E+w*H;c[6]=a*F+n*D+t*d;c[7]=h*F+r*D+u*d;c[8]=m*F+s*D+w*d;
return this};c.multiplyScalar=function(a){var c=this.mat;c[0]*=a;c[1]*=a;c[2]*=a;c[3]*=a;c[4]*=a;c[5]*=a;c[6]*=a;c[7]*=a;c[8]*=a;return this};a.math.Matrix3.rotationAxisAngle=function(c,d){var g=Math.cos(d),h=Math.sin(d),m=new a.math.Matrix3,n=m.mat;n[0]=g+c.x*c.x*(1-g);n[1]=c.z*h+c.y*c.x*(1-g);n[2]=-c.y*h+c.z*c.x*(1-g);n[3]=-c.z*h+c.x*c.y*(1-g);n[4]=g+c.y*c.y*(1-g);n[5]=c.x*h+c.z*c.y*(1-g);n[6]=c.y*h+c.x*c.z*(1-g);n[7]=-c.x*h+c.y*c.z*(1-g);n[8]=g+c.z*c.z*(1-g);return m};c.assignFrom=function(c){if(this===
c)return a.log("cc.math.Matrix3.assign(): current matrix equals matIn"),this;var d=this.mat;c=c.mat;d[0]=c[0];d[1]=c[1];d[2]=c[2];d[3]=c[3];d[4]=c[4];d[5]=c[5];d[6]=c[6];d[7]=c[7];d[8]=c[8];return this};c.equals=function(c){if(this===c)return!0;var d=a.math.EPSILON,g=this.mat;c=c.mat;for(var h=0;9>h;++h)if(!(g[h]+d>c[h]&&g[h]-d<c[h]))return!1;return!0};a.math.Matrix3.createByRotationX=function(c){var d=new a.math.Matrix3,g=d.mat;g[0]=1;g[1]=0;g[2]=0;g[3]=0;g[4]=Math.cos(c);g[5]=Math.sin(c);g[6]=0;
g[7]=-Math.sin(c);g[8]=Math.cos(c);return d};a.math.Matrix3.createByRotationY=function(c){var d=new a.math.Matrix3,g=d.mat;g[0]=Math.cos(c);g[1]=0;g[2]=-Math.sin(c);g[3]=0;g[4]=1;g[5]=0;g[6]=Math.sin(c);g[7]=0;g[8]=Math.cos(c);return d};a.math.Matrix3.createByRotationZ=function(c){var d=new a.math.Matrix3,g=d.mat;g[0]=Math.cos(c);g[1]=-Math.sin(c);g[2]=0;g[3]=Math.sin(c);g[4]=Math.cos(c);g[5]=0;g[6]=0;g[7]=0;g[8]=1;return d};a.math.Matrix3.createByRotation=function(c){var d=new a.math.Matrix3,g=d.mat;
g[0]=Math.cos(c);g[1]=Math.sin(c);g[2]=0;g[3]=-Math.sin(c);g[4]=Math.cos(c);g[5]=0;g[6]=0;g[7]=0;g[8]=1;return d};a.math.Matrix3.createByScale=function(c,d){var g=new a.math.Matrix3;g.identity();g.mat[0]=c;g.mat[4]=d;return g};a.math.Matrix3.createByTranslation=function(c,d){var g=new a.math.Matrix3;g.identity();g.mat[6]=c;g.mat[7]=d;return g};a.math.Matrix3.createByQuaternion=function(c){if(!c)return null;var d=new a.math.Matrix3,g=d.mat;g[0]=1-2*(c.y*c.y+c.z*c.z);g[1]=2*(c.x*c.y-c.w*c.z);g[2]=2*
(c.x*c.z+c.w*c.y);g[3]=2*(c.x*c.y+c.w*c.z);g[4]=1-2*(c.x*c.x+c.z*c.z);g[5]=2*(c.y*c.z-c.w*c.x);g[6]=2*(c.x*c.z-c.w*c.y);g[7]=2*(c.y*c.z+c.w*c.x);g[8]=1-2*(c.x*c.x+c.y*c.y);return d};c.rotationToAxisAngle=function(){return a.math.Quaternion.rotationMatrix(this).toAxisAndAngle()}})(cc);(function(a){a.math.Matrix4=function(a){this.mat=a&&a.mat?new Float32Array(a.mat):new Float32Array(16)};a.kmMat4=a.math.Matrix4;var c=a.math.Matrix4.prototype;c.fill=function(a){for(var c=this.mat,d=0;16>d;d++)c[d]=a[d];return this};a.kmMat4Identity=function(a){var c=a.mat;c[1]=c[2]=c[3]=c[4]=c[6]=c[7]=c[8]=c[9]=c[11]=c[12]=c[13]=c[14]=0;c[0]=c[5]=c[10]=c[15]=1;return a};c.identity=function(){var a=this.mat;a[1]=a[2]=a[3]=a[4]=a[6]=a[7]=a[8]=a[9]=a[11]=a[12]=a[13]=a[14]=0;a[0]=a[5]=a[10]=a[15]=1;
return this};c.get=function(a,c){return this.mat[a+4*c]};c.set=function(a,c,d){this.mat[a+4*c]=d};c.swap=function(a,c,d,e){var n=this.mat,r=n[a+4*c];n[a+4*c]=n[d+4*e];n[d+4*e]=r};a.math.Matrix4._gaussj=function(a,c){var d,e=0,n=0,r,s,t,u,w=[0,0,0,0],z=[0,0,0,0],A=[0,0,0,0];for(d=0;4>d;d++){for(r=u=0;4>r;r++)if(1!==A[r])for(s=0;4>s;s++)0===A[s]&&(t=Math.abs(a.get(r,s)),t>=u&&(u=t,n=r,e=s));++A[e];if(n!==e){for(r=0;4>r;r++)a.swap(n,r,e,r);for(r=0;4>r;r++)c.swap(n,r,e,r)}z[d]=n;w[d]=e;if(0===a.get(e,
e))return!1;s=1/a.get(e,e);a.set(e,e,1);for(r=0;4>r;r++)a.set(e,r,a.get(e,r)*s);for(r=0;4>r;r++)c.set(e,r,c.get(e,r)*s);for(s=0;4>s;s++)if(s!==e){t=a.get(s,e);a.set(s,e,0);for(r=0;4>r;r++)a.set(s,r,a.get(s,r)-a.get(e,r)*t);for(r=0;4>r;r++)c.set(s,r,a.get(s,r)-c.get(e,r)*t)}}for(r=3;0<=r;r--)if(z[r]!==w[r])for(s=0;4>s;s++)a.swap(s,z[r],s,w[r]);return!0};var d=(new a.math.Matrix4).identity();a.kmMat4Inverse=function(c,e){var h=new a.math.Matrix4(e),m=new a.math.Matrix4(d);if(!1===a.math.Matrix4._gaussj(h,
m))return null;c.assignFrom(h);return c};c.inverse=function(){var c=new a.math.Matrix4(this),e=new a.math.Matrix4(d);return!1===a.math.Matrix4._gaussj(c,e)?null:c};c.isIdentity=function(){var a=this.mat;return 1===a[0]&&0===a[1]&&0===a[2]&&0===a[3]&&0===a[4]&&1===a[5]&&0===a[6]&&0===a[7]&&0===a[8]&&0===a[9]&&1===a[10]&&0===a[11]&&0===a[12]&&0===a[13]&&0===a[14]&&1===a[15]};c.transpose=function(){var a=this.mat,c=a[1],d=a[2],e=a[3],n=a[6],r=a[7],s=a[8],t=a[9],u=a[11],w=a[12],z=a[13],A=a[14];a[1]=a[4];
a[2]=s;a[3]=w;a[4]=c;a[6]=t;a[7]=z;a[8]=d;a[9]=n;a[11]=A;a[12]=e;a[13]=r;a[14]=u;return this};a.kmMat4Multiply=function(a,c,d){var e=a.mat,n=c.mat,r=d.mat;d=n[0];c=n[1];var s=n[2],t=n[3],u=n[4],w=n[5],z=n[6],A=n[7],B=n[8],C=n[9],E=n[10],H=n[11],F=n[12],D=n[13],K=n[14],n=n[15],G=r[0],I=r[1],P=r[2],Q=r[3],O=r[4],S=r[5],R=r[6],J=r[7],N=r[8],L=r[9],M=r[10],T=r[11],U=r[12],V=r[13],W=r[14],r=r[15];e[0]=G*d+I*u+P*B+Q*F;e[1]=G*c+I*w+P*C+Q*D;e[2]=G*s+I*z+P*E+Q*K;e[3]=G*t+I*A+P*H+Q*n;e[4]=O*d+S*u+R*B+J*F;e[5]=
O*c+S*w+R*C+J*D;e[6]=O*s+S*z+R*E+J*K;e[7]=O*t+S*A+R*H+J*n;e[8]=N*d+L*u+M*B+T*F;e[9]=N*c+L*w+M*C+T*D;e[10]=N*s+L*z+M*E+T*K;e[11]=N*t+L*A+M*H+T*n;e[12]=U*d+V*u+W*B+r*F;e[13]=U*c+V*w+W*C+r*D;e[14]=U*s+V*z+W*E+r*K;e[15]=U*t+V*A+W*H+r*n;return a};c.multiply=function(a){var c=this.mat,d=a.mat;a=c[0];var e=c[1],n=c[2],r=c[3],s=c[4],t=c[5],u=c[6],w=c[7],z=c[8],A=c[9],B=c[10],C=c[11],E=c[12],H=c[13],F=c[14],D=c[15],K=d[0],G=d[1],I=d[2],P=d[3],Q=d[4],O=d[5],S=d[6],R=d[7],J=d[8],N=d[9],L=d[10],M=d[11],T=d[12],
U=d[13],V=d[14],d=d[15];c[0]=K*a+G*s+I*z+P*E;c[1]=K*e+G*t+I*A+P*H;c[2]=K*n+G*u+I*B+P*F;c[3]=K*r+G*w+I*C+P*D;c[4]=Q*a+O*s+S*z+R*E;c[5]=Q*e+O*t+S*A+R*H;c[6]=Q*n+O*u+S*B+R*F;c[7]=Q*r+O*w+S*C+R*D;c[8]=J*a+N*s+L*z+M*E;c[9]=J*e+N*t+L*A+M*H;c[10]=J*n+N*u+L*B+M*F;c[11]=J*r+N*w+L*C+M*D;c[12]=T*a+U*s+V*z+d*E;c[13]=T*e+U*t+V*A+d*H;c[14]=T*n+U*u+V*B+d*F;c[15]=T*r+U*w+V*C+d*D;return this};a.getMat4MultiplyValue=function(a,c){var d=a.mat,e=c.mat,n=new Float32Array(16);n[0]=d[0]*e[0]+d[4]*e[1]+d[8]*e[2]+d[12]*e[3];
n[1]=d[1]*e[0]+d[5]*e[1]+d[9]*e[2]+d[13]*e[3];n[2]=d[2]*e[0]+d[6]*e[1]+d[10]*e[2]+d[14]*e[3];n[3]=d[3]*e[0]+d[7]*e[1]+d[11]*e[2]+d[15]*e[3];n[4]=d[0]*e[4]+d[4]*e[5]+d[8]*e[6]+d[12]*e[7];n[5]=d[1]*e[4]+d[5]*e[5]+d[9]*e[6]+d[13]*e[7];n[6]=d[2]*e[4]+d[6]*e[5]+d[10]*e[6]+d[14]*e[7];n[7]=d[3]*e[4]+d[7]*e[5]+d[11]*e[6]+d[15]*e[7];n[8]=d[0]*e[8]+d[4]*e[9]+d[8]*e[10]+d[12]*e[11];n[9]=d[1]*e[8]+d[5]*e[9]+d[9]*e[10]+d[13]*e[11];n[10]=d[2]*e[8]+d[6]*e[9]+d[10]*e[10]+d[14]*e[11];n[11]=d[3]*e[8]+d[7]*e[9]+d[11]*
e[10]+d[15]*e[11];n[12]=d[0]*e[12]+d[4]*e[13]+d[8]*e[14]+d[12]*e[15];n[13]=d[1]*e[12]+d[5]*e[13]+d[9]*e[14]+d[13]*e[15];n[14]=d[2]*e[12]+d[6]*e[13]+d[10]*e[14]+d[14]*e[15];n[15]=d[3]*e[12]+d[7]*e[13]+d[11]*e[14]+d[15]*e[15];return n};a.kmMat4Assign=function(c,d){if(c===d)return a.log("cc.kmMat4Assign(): pOut equals pIn"),c;var e=c.mat,m=d.mat;e[0]=m[0];e[1]=m[1];e[2]=m[2];e[3]=m[3];e[4]=m[4];e[5]=m[5];e[6]=m[6];e[7]=m[7];e[8]=m[8];e[9]=m[9];e[10]=m[10];e[11]=m[11];e[12]=m[12];e[13]=m[13];e[14]=m[14];
e[15]=m[15];return c};c.assignFrom=function(c){if(this===c)return a.log("cc.mat.Matrix4.assignFrom(): mat4 equals current matrix"),this;var d=this.mat;c=c.mat;d[0]=c[0];d[1]=c[1];d[2]=c[2];d[3]=c[3];d[4]=c[4];d[5]=c[5];d[6]=c[6];d[7]=c[7];d[8]=c[8];d[9]=c[9];d[10]=c[10];d[11]=c[11];d[12]=c[12];d[13]=c[13];d[14]=c[14];d[15]=c[15];return this};c.equals=function(c){if(this===c)return a.log("cc.kmMat4AreEqual(): pMat1 and pMat2 are same object."),!0;var d=this.mat;c=c.mat;for(var e=a.math.EPSILON,m=0;16>
m;m++)if(!(d[m]+e>c[m]&&d[m]-e<c[m]))return!1;return!0};a.math.Matrix4.createByRotationX=function(c,d){d=d||new a.math.Matrix4;var e=d.mat;e[0]=1;e[3]=e[2]=e[1]=0;e[4]=0;e[5]=Math.cos(c);e[6]=Math.sin(c);e[7]=0;e[8]=0;e[9]=-Math.sin(c);e[10]=Math.cos(c);e[11]=0;e[14]=e[13]=e[12]=0;e[15]=1;return d};a.math.Matrix4.createByRotationY=function(c,d){d=d||new a.math.Matrix4;var e=d.mat;e[0]=Math.cos(c);e[1]=0;e[2]=-Math.sin(c);e[3]=0;e[7]=e[6]=e[4]=0;e[5]=1;e[8]=Math.sin(c);e[9]=0;e[10]=Math.cos(c);e[11]=
0;e[14]=e[13]=e[12]=0;e[15]=1;return d};a.math.Matrix4.createByRotationZ=function(c,d){d=d||new a.math.Matrix4;var e=d.mat;e[0]=Math.cos(c);e[1]=Math.sin(c);e[3]=e[2]=0;e[4]=-Math.sin(c);e[5]=Math.cos(c);e[7]=e[6]=0;e[11]=e[9]=e[8]=0;e[10]=1;e[14]=e[13]=e[12]=0;e[15]=1;return d};a.math.Matrix4.createByPitchYawRoll=function(c,d,e,m){m=m||new a.math.Matrix4;var n=Math.cos(c);c=Math.sin(c);var r=Math.cos(d);d=Math.sin(d);var s=Math.cos(e);e=Math.sin(e);var t=c*d,u=n*d,w=m.mat;w[0]=r*s;w[4]=r*e;w[8]=
-d;w[1]=t*s-n*e;w[5]=t*e+n*s;w[9]=c*r;w[2]=u*s+c*e;w[6]=u*e-c*s;w[10]=n*r;w[3]=w[7]=w[11]=0;w[15]=1;return m};a.math.Matrix4.createByQuaternion=function(c,d){d=d||new a.math.Matrix4;var e=d.mat;e[0]=1-2*(c.y*c.y+c.z*c.z);e[1]=2*(c.x*c.y+c.z*c.w);e[2]=2*(c.x*c.z-c.y*c.w);e[3]=0;e[4]=2*(c.x*c.y-c.z*c.w);e[5]=1-2*(c.x*c.x+c.z*c.z);e[6]=2*(c.z*c.y+c.x*c.w);e[7]=0;e[8]=2*(c.x*c.z+c.y*c.w);e[9]=2*(c.y*c.z-c.x*c.w);e[10]=1-2*(c.x*c.x+c.y*c.y);e[11]=0;e[14]=e[13]=e[12]=0;e[15]=1;return d};a.math.Matrix4.createByRotationTranslation=
function(c,d,e){e=e||new a.math.Matrix4;var m=e.mat;c=c.mat;m[0]=c[0];m[1]=c[1];m[2]=c[2];m[3]=0;m[4]=c[3];m[5]=c[4];m[6]=c[5];m[7]=0;m[8]=c[6];m[9]=c[7];m[10]=c[8];m[11]=0;m[12]=d.x;m[13]=d.y;m[14]=d.z;m[15]=1;return e};a.math.Matrix4.createByScale=function(c,d,e,m){m=m||new a.math.Matrix4;var n=m.mat;n[0]=c;n[5]=d;n[10]=e;n[15]=1;n[1]=n[2]=n[3]=n[4]=n[6]=n[7]=n[8]=n[9]=n[11]=n[12]=n[13]=n[14]=0;return m};a.kmMat4Translation=function(a,c,d,e){a.mat[0]=a.mat[5]=a.mat[10]=a.mat[15]=1;a.mat[1]=a.mat[2]=
a.mat[3]=a.mat[4]=a.mat[6]=a.mat[7]=a.mat[8]=a.mat[9]=a.mat[11]=0;a.mat[12]=c;a.mat[13]=d;a.mat[14]=e;return a};a.math.Matrix4.createByTranslation=function(c,d,e,m){m=m||new a.math.Matrix4;m.identity();m.mat[12]=c;m.mat[13]=d;m.mat[14]=e;return m};c.getUpVec3=function(){var c=this.mat;return(new a.math.Vec3(c[4],c[5],c[6])).normalize()};c.getRightVec3=function(){var c=this.mat;return(new a.math.Vec3(c[0],c[1],c[2])).normalize()};c.getForwardVec3=function(){var c=this.mat;return(new a.math.Vec3(c[8],
c[9],c[10])).normalize()};a.kmMat4PerspectiveProjection=function(c,d,e,m,n){var r=a.degreesToRadians(d/2);d=n-m;var s=Math.sin(r);if(0===d||0===s||0===e)return null;r=Math.cos(r)/s;c.identity();c.mat[0]=r/e;c.mat[5]=r;c.mat[10]=-(n+m)/d;c.mat[11]=-1;c.mat[14]=-2*m*n/d;c.mat[15]=0;return c};a.math.Matrix4.createPerspectiveProjection=function(c,d,e,m){var n=a.degreesToRadians(c/2);c=m-e;var r=Math.sin(n);if(0===c||0===r||0===d)return null;var n=Math.cos(n)/r,r=new a.math.Matrix4,s=r.mat;r.identity();
s[0]=n/d;s[5]=n;s[10]=-(m+e)/c;s[11]=-1;s[14]=-2*e*m/c;s[15]=0;return r};a.kmMat4OrthographicProjection=function(a,c,d,e,n,r,s){a.identity();a.mat[0]=2/(d-c);a.mat[5]=2/(n-e);a.mat[10]=-2/(s-r);a.mat[12]=-((d+c)/(d-c));a.mat[13]=-((n+e)/(n-e));a.mat[14]=-((s+r)/(s-r));return a};a.math.Matrix4.createOrthographicProjection=function(c,d,e,m,n,r){var s=new a.math.Matrix4,t=s.mat;s.identity();t[0]=2/(d-c);t[5]=2/(m-e);t[10]=-2/(r-n);t[12]=-((d+c)/(d-c));t[13]=-((m+e)/(m-e));t[14]=-((r+n)/(r-n));return s};
a.kmMat4LookAt=function(c,d,e,m){e=new a.math.Vec3(e);var n=new a.math.Vec3(m);e.subtract(d);e.normalize();n.normalize();m=new a.math.Vec3(e);m.cross(n);m.normalize();n=new a.math.Vec3(m);n.cross(e);m.normalize();c.identity();c.mat[0]=m.x;c.mat[4]=m.y;c.mat[8]=m.z;c.mat[1]=n.x;c.mat[5]=n.y;c.mat[9]=n.z;c.mat[2]=-e.x;c.mat[6]=-e.y;c.mat[10]=-e.z;d=a.math.Matrix4.createByTranslation(-d.x,-d.y,-d.z);c.multiply(d);return c};var e=new a.math.Matrix4;c.lookAt=function(c,d,h){d=new a.math.Vec3(d);var m=
new a.math.Vec3(h);h=this.mat;d.subtract(c);d.normalize();m.normalize();var n=new a.math.Vec3(d);n.cross(m);n.normalize();m=new a.math.Vec3(n);m.cross(d);n.normalize();this.identity();h[0]=n.x;h[4]=n.y;h[8]=n.z;h[1]=m.x;h[5]=m.y;h[9]=m.z;h[2]=-d.x;h[6]=-d.y;h[10]=-d.z;e=a.math.Matrix4.createByTranslation(-c.x,-c.y,-c.z,e);this.multiply(e);return this};a.kmMat4RotationAxisAngle=function(c,d,e){var m=Math.cos(e);e=Math.sin(e);d=new a.math.Vec3(d);d.normalize();c.mat[0]=m+d.x*d.x*(1-m);c.mat[1]=d.z*
e+d.y*d.x*(1-m);c.mat[2]=-d.y*e+d.z*d.x*(1-m);c.mat[3]=0;c.mat[4]=-d.z*e+d.x*d.y*(1-m);c.mat[5]=m+d.y*d.y*(1-m);c.mat[6]=d.x*e+d.z*d.y*(1-m);c.mat[7]=0;c.mat[8]=d.y*e+d.x*d.z*(1-m);c.mat[9]=-d.x*e+d.y*d.z*(1-m);c.mat[10]=m+d.z*d.z*(1-m);c.mat[11]=0;c.mat[12]=0;c.mat[13]=0;c.mat[14]=0;c.mat[15]=1;return c};a.math.Matrix4.createByAxisAndAngle=function(c,d,e){e=e||new a.math.Matrix4;var m=this.mat,n=Math.cos(d);d=Math.sin(d);c=new a.math.Vec3(c);c.normalize();m[0]=n+c.x*c.x*(1-n);m[1]=c.z*d+c.y*c.x*
(1-n);m[2]=-c.y*d+c.z*c.x*(1-n);m[3]=0;m[4]=-c.z*d+c.x*c.y*(1-n);m[5]=n+c.y*c.y*(1-n);m[6]=c.x*d+c.z*c.y*(1-n);m[7]=0;m[8]=c.y*d+c.x*c.z*(1-n);m[9]=-c.x*d+c.y*c.z*(1-n);m[10]=n+c.z*c.z*(1-n);m[11]=0;m[12]=m[13]=m[14]=0;m[15]=1;return e};c.extractRotation=function(){var c=new a.math.Matrix3,d=this.mat,e=c.mat;e[0]=d[0];e[1]=d[1];e[2]=d[2];e[3]=d[4];e[4]=d[5];e[5]=d[6];e[6]=d[8];e[7]=d[9];e[8]=d[10];return c};c.extractPlane=function(c){var d=new a.math.Plane,e=this.mat;switch(c){case a.math.Plane.RIGHT:d.a=
e[3]-e[0];d.b=e[7]-e[4];d.c=e[11]-e[8];d.d=e[15]-e[12];break;case a.math.Plane.LEFT:d.a=e[3]+e[0];d.b=e[7]+e[4];d.c=e[11]+e[8];d.d=e[15]+e[12];break;case a.math.Plane.BOTTOM:d.a=e[3]+e[1];d.b=e[7]+e[5];d.c=e[11]+e[9];d.d=e[15]+e[13];break;case a.math.Plane.TOP:d.a=e[3]-e[1];d.b=e[7]-e[5];d.c=e[11]-e[9];d.d=e[15]-e[13];break;case a.math.Plane.FAR:d.a=e[3]-e[2];d.b=e[7]-e[6];d.c=e[11]-e[10];d.d=e[15]-e[14];break;case a.math.Plane.NEAR:d.a=e[3]+e[2];d.b=e[7]+e[6];d.c=e[11]+e[10];d.d=e[15]+e[14];break;
default:a.log("cc.math.Matrix4.extractPlane: Invalid plane index")}c=Math.sqrt(d.a*d.a+d.b*d.b+d.c*d.c);d.a/=c;d.b/=c;d.c/=c;d.d/=c;return d};c.toAxisAndAngle=function(){var c=this.extractRotation();return a.math.Quaternion.rotationMatrix(c).toAxisAndAngle()}})(cc);(function(a){a.math.Plane=function(a,c,f,g){a&&void 0===c?(this.a=a.a,this.b=a.b,this.c=a.c,this.d=a.d):(this.a=a||0,this.b=c||0,this.c=f||0,this.d=g||0)};a.kmPlane=a.math.Plane;var c=a.math.Plane.prototype;a.math.Plane.LEFT=0;a.math.Plane.RIGHT=1;a.math.Plane.BOTTOM=2;a.math.Plane.TOP=3;a.math.Plane.NEAR=4;a.math.Plane.FAR=5;a.math.Plane.POINT_INFRONT_OF_PLANE=0;a.math.Plane.POINT_BEHIND_PLANE=1;a.math.Plane.POINT_ON_PLANE=2;c.dot=function(a){return this.a*a.x+this.b*a.y+this.c*a.z+this.d*a.w};c.dotCoord=
function(a){return this.a*a.x+this.b*a.y+this.c*a.z+this.d};c.dotNormal=function(a){return this.a*a.x+this.b*a.y+this.c*a.z};a.math.Plane.fromPointNormal=function(c,e){return new a.math.Plane(e.x,e.y,e.z,-e.dot(c))};a.math.Plane.fromPoints=function(c,e,f){e=new a.math.Vec3(e);f=new a.math.Vec3(f);var g=new a.math.Plane;e.subtract(c);f.subtract(c);e.cross(f);e.normalize();g.a=e.x;g.b=e.y;g.c=e.z;g.d=e.scale(-1).dot(c);return g};c.normalize=function(){var c=new a.math.Vec3(this.a,this.b,this.c),e=1/
c.length();c.normalize();this.a=c.x;this.b=c.y;this.c=c.z;this.d*=e;return this};c.classifyPoint=function(c){c=this.a*c.x+this.b*c.y+this.c*c.z+this.d;return 0.001<c?a.math.Plane.POINT_INFRONT_OF_PLANE:-0.001>c?a.math.Plane.POINT_BEHIND_PLANE:a.math.Plane.POINT_ON_PLANE}})(cc);(function(a){a.math.Quaternion=function(a,c,f,g){a&&void 0===c?(this.x=a.x,this.y=a.y,this.z=a.z,this.w=a.w):(this.x=a||0,this.y=c||0,this.z=f||0,this.w=g||0)};a.kmQuaternion=a.math.Quaternion;var c=a.math.Quaternion.prototype;c.conjugate=function(a){this.x=-a.x;this.y=-a.y;this.z=-a.z;this.w=a.w;return this};c.dot=function(a){return this.w*a.w+this.x*a.x+this.y*a.y+this.z*a.z};c.exponential=function(){return this};c.identity=function(){this.z=this.y=this.x=0;this.w=1;return this};c.inverse=function(){var c=
this.length();if(Math.abs(c)>a.math.EPSILON)return this.w=this.z=this.y=this.x=0,this;this.conjugate(this).scale(1/c);return this};c.isIdentity=function(){return 0===this.x&&0===this.y&&0===this.z&&1===this.w};c.length=function(){return Math.sqrt(this.lengthSq())};c.lengthSq=function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w};c.multiply=function(a){var c=this.x,f=this.y,g=this.z,h=this.w;this.w=h*a.w-c*a.x-f*a.y-g*a.z;this.x=h*a.x+c*a.w+f*a.z-g*a.y;this.y=h*a.y+f*a.w+g*a.x-
c*a.z;this.z=h*a.z+g*a.w+c*a.y-f*a.x;return this};c.normalize=function(){var c=this.length();if(Math.abs(c)<=a.math.EPSILON)throw Error("current quaternion is an invalid value");this.scale(1/c);return this};c.rotationAxis=function(a,c){var f=0.5*c,g=Math.sin(f);this.w=Math.cos(f);this.x=a.x*g;this.y=a.y*g;this.z=a.z*g;return this};a.math.Quaternion.rotationMatrix=function(c){if(!c)return null;var e,f,g;e=[];f=c.mat;c=0;e[0]=f[0];e[1]=f[3];e[2]=f[6];e[4]=f[1];e[5]=f[4];e[6]=f[7];e[8]=f[2];e[9]=f[5];
e[10]=f[8];e[15]=1;var h=e[0];c=h[0]+h[5]+h[10]+1;c>a.math.EPSILON?(c=2*Math.sqrt(c),e=(h[9]-h[6])/c,f=(h[2]-h[8])/c,g=(h[4]-h[1])/c,c*=0.25):h[0]>h[5]&&h[0]>h[10]?(c=2*Math.sqrt(1+h[0]-h[5]-h[10]),e=0.25*c,f=(h[4]+h[1])/c,g=(h[2]+h[8])/c,c=(h[9]-h[6])/c):h[5]>h[10]?(c=2*Math.sqrt(1+h[5]-h[0]-h[10]),e=(h[4]+h[1])/c,f=0.25*c,g=(h[9]+h[6])/c,c=(h[2]-h[8])/c):(c=2*Math.sqrt(1+h[10]-h[0]-h[5]),e=(h[2]+h[8])/c,f=(h[9]+h[6])/c,g=0.25*c,c=(h[4]-h[1])/c);return new a.math.Quaternion(e,f,g,c)};a.math.Quaternion.rotationYawPitchRoll=
function(c,e,f){var g,h,m,n,r;g=a.degreesToRadians(e)/2;h=a.degreesToRadians(c)/2;m=a.degreesToRadians(f)/2;f=Math.cos(g);c=Math.cos(h);e=Math.cos(m);g=Math.sin(g);h=Math.sin(h);m=Math.sin(m);n=c*e;r=h*m;var s=new a.math.Quaternion;s.w=f*n+g*r;s.x=g*n-f*r;s.y=f*h*e+g*c*m;s.z=f*c*m-g*h*e;s.normalize();return s};c.slerp=function(c,e){if(this.x===c.x&&this.y===c.y&&this.z===c.z&&this.w===c.w)return this;var f=this.dot(c),g=Math.acos(f),h=Math.sqrt(1-a.math.square(f)),f=Math.sin(e*g)/h,g=Math.sin((1-
e)*g)/h,h=new a.math.Quaternion(c);this.scale(g);h.scale(f);this.add(h);return this};c.toAxisAndAngle=function(){var c,e,f=new a.math.Vec3;c=Math.acos(this.w);e=Math.sqrt(a.math.square(this.x)+a.math.square(this.y)+a.math.square(this.z));e>-a.math.EPSILON&&e<a.math.EPSILON||e<2*Math.PI+a.math.EPSILON&&e>2*Math.PI-a.math.EPSILON?(c=0,f.x=0,f.y=0,f.z=1):(c*=2,f.x=this.x/e,f.y=this.y/e,f.z=this.z/e,f.normalize());return{axis:f,angle:c}};c.scale=function(a){this.x*=a;this.y*=a;this.z*=a;this.w*=a;return this};
c.assignFrom=function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=a.w;return this};c.add=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;this.w+=a.w;return this};a.math.Quaternion.rotationBetweenVec3=function(c,e,f){var g=new a.math.Vec3(c),h=new a.math.Vec3(e);g.normalize();h.normalize();var m=g.dot(h);e=new a.math.Quaternion;if(1<=m)return e.identity(),e;-0.999999>m?Math.abs(f.lengthSq())<a.math.EPSILON?e.rotationAxis(f,Math.PI):(g=new a.math.Vec3(1,0,0),g.cross(c),Math.abs(g.lengthSq())<a.math.EPSILON&&
(g.fill(0,1,0),g.cross(c)),g.normalize(),e.rotationAxis(g,Math.PI)):(c=Math.sqrt(2*(1+m)),f=1/c,g.cross(h),e.x=g.x*f,e.y=g.y*f,e.z=g.z*f,e.w=0.5*c,e.normalize());return e};c.multiplyVec3=function(c){var e=this.x,f=this.y,g=this.z,h=new a.math.Vec3(c),m=new a.math.Vec3(e,f,g),e=new a.math.Vec3(e,f,g);m.cross(c);e.cross(m);m.scale(2*q.w);e.scale(2);h.add(m);h.add(e);return h}})(cc);cc.math.AABB=function(a,c){this.min=a||new cc.math.Vec3;this.max=c||new cc.math.Vec3};cc.math.AABB.prototype.containsPoint=function(a){return a.x>=this.min.x&&a.x<=this.max.x&&a.y>=this.min.y&&a.y<=this.max.y&&a.z>=this.min.z&&a.z<=this.max.z};cc.math.AABB.containsPoint=function(a,c){return a.x>=c.min.x&&a.x<=c.max.x&&a.y>=c.min.y&&a.y<=c.max.y&&a.z>=c.min.z&&a.z<=c.max.z};cc.math.AABB.prototype.assignFrom=function(a){this.min.assignFrom(a.min);this.max.assignFrom(a.max)};
cc.math.AABB.assign=function(a,c){a.min.assignFrom(c.min);a.max.assignFrom(c.max);return a};(function(a){a.math.Matrix4Stack=function(a,c){this.top=a;this.stack=c||[]};a.km_mat4_stack=a.math.Matrix4Stack;var c=a.math.Matrix4Stack.prototype;c.initialize=function(){this.stack.length=0;this.top=null};a.km_mat4_stack_push=function(c,e){c.stack.push(c.top);c.top=new a.math.Matrix4(e)};a.km_mat4_stack_pop=function(a,c){a.top=a.stack.pop()};a.km_mat4_stack_release=function(a){a.stack=null;a.top=null};c.push=function(c){c=c||this.top;this.stack.push(this.top);this.top=new a.math.Matrix4(c)};c.pop=
function(){this.top=this.stack.pop()};c.release=function(){this._matrixPool=this.top=this.stack=null};c._getFromPool=function(c){var e=this._matrixPool;if(0===e.length)return new a.math.Matrix4(c);e=e.pop();e.assignFrom(c);return e};c._putInPool=function(a){this._matrixPool.push(a)}})(cc);(function(a){a.KM_GL_MODELVIEW=5888;a.KM_GL_PROJECTION=5889;a.KM_GL_TEXTURE=5890;a.modelview_matrix_stack=new a.math.Matrix4Stack;a.projection_matrix_stack=new a.math.Matrix4Stack;a.texture_matrix_stack=new a.math.Matrix4Stack;a.current_stack=null;a.lazyInitialize=function(){var c=new a.math.Matrix4;a.modelview_matrix_stack.initialize();a.projection_matrix_stack.initialize();a.texture_matrix_stack.initialize();a.current_stack=a.modelview_matrix_stack;a.initialized=!0;c.identity();a.modelview_matrix_stack.push(c);
a.projection_matrix_stack.push(c);a.texture_matrix_stack.push(c)};a.lazyInitialize();a.kmGLFreeAll=function(){a.modelview_matrix_stack.release();a.modelview_matrix_stack=null;a.projection_matrix_stack.release();a.projection_matrix_stack=null;a.texture_matrix_stack.release();a.texture_matrix_stack=null;a.initialized=!1;a.current_stack=null};a.kmGLPushMatrix=function(){a.current_stack.push(a.current_stack.top)};a.kmGLPushMatrixWitMat4=function(c){a.current_stack.stack.push(a.current_stack.top);c.assignFrom(a.current_stack.top);
a.current_stack.top=c};a.kmGLPopMatrix=function(){a.current_stack.top=a.current_stack.stack.pop()};a.kmGLMatrixMode=function(c){switch(c){case a.KM_GL_MODELVIEW:a.current_stack=a.modelview_matrix_stack;break;case a.KM_GL_PROJECTION:a.current_stack=a.projection_matrix_stack;break;case a.KM_GL_TEXTURE:a.current_stack=a.texture_matrix_stack;break;default:throw Error("Invalid matrix mode specified");}};a.kmGLLoadIdentity=function(){a.current_stack.top.identity()};a.kmGLLoadMatrix=function(c){a.current_stack.top.assignFrom(c)};
a.kmGLMultMatrix=function(c){a.current_stack.top.multiply(c)};var c=new a.math.Matrix4;a.kmGLTranslatef=function(d,f,g){d=a.math.Matrix4.createByTranslation(d,f,g,c);a.current_stack.top.multiply(d)};var d=new a.math.Vec3;a.kmGLRotatef=function(e,f,g,h){d.fill(f,g,h);e=a.math.Matrix4.createByAxisAndAngle(d,a.degreesToRadians(e),c);a.current_stack.top.multiply(e)};a.kmGLScalef=function(d,f,g){d=a.math.Matrix4.createByScale(d,f,g,c);a.current_stack.top.multiply(d)};a.kmGLGetMatrix=function(c,d){switch(c){case a.KM_GL_MODELVIEW:d.assignFrom(a.modelview_matrix_stack.top);
break;case a.KM_GL_PROJECTION:d.assignFrom(a.projection_matrix_stack.top);break;case a.KM_GL_TEXTURE:d.assignFrom(a.texture_matrix_stack.top);break;default:throw Error("Invalid matrix mode specified");}}})(cc);cc.SHADER_POSITION_UCOLOR_FRAG="precision lowp float;\nvarying vec4 v_fragmentColor;\nvoid main()                              \n{ \n    gl_FragColor \x3d v_fragmentColor;      \n}\n";cc.SHADER_POSITION_UCOLOR_VERT="attribute vec4 a_position;\nuniform    vec4 u_color;\nuniform float u_pointSize;\nvarying lowp vec4 v_fragmentColor; \nvoid main(void)   \n{\n    gl_Position \x3d (CC_PMatrix * CC_MVMatrix) * a_position;  \n    gl_PointSize \x3d u_pointSize;          \n    v_fragmentColor \x3d u_color;           \n}";
cc.SHADER_POSITION_COLOR_FRAG="precision lowp float; \nvarying vec4 v_fragmentColor; \nvoid main() \n{ \n     gl_FragColor \x3d v_fragmentColor; \n} ";cc.SHADER_POSITION_COLOR_VERT="attribute vec4 a_position;\nattribute vec4 a_color;\nvarying lowp vec4 v_fragmentColor;\nvoid main()\n{\n    gl_Position \x3d (CC_PMatrix * CC_MVMatrix) * a_position;  \n    v_fragmentColor \x3d a_color;             \n}";cc.SHADER_SPRITE_POSITION_COLOR_VERT="attribute vec4 a_position;\nattribute vec4 a_color;\nvarying lowp vec4 v_fragmentColor;\nvoid main()\n{\n    gl_Position \x3d CC_PMatrix * a_position;  \n    v_fragmentColor \x3d a_color;             \n}";
cc.SHADER_POSITION_COLOR_LENGTH_TEXTURE_FRAG="// #extension GL_OES_standard_derivatives : enable\nvarying mediump vec4 v_color;\nvarying mediump vec2 v_texcoord;\nvoid main()\t\n{ \n// #if defined GL_OES_standard_derivatives\t\n// gl_FragColor \x3d v_color*smoothstep(0.0, length(fwidth(v_texcoord)), 1.0 - length(v_texcoord)); \n// #else\t\ngl_FragColor \x3d v_color * step(0.0, 1.0 - length(v_texcoord)); \n// #endif \n}";cc.SHADER_POSITION_COLOR_LENGTH_TEXTURE_VERT="attribute mediump vec4 a_position; \nattribute mediump vec2 a_texcoord; \nattribute mediump vec4 a_color;\t\nvarying mediump vec4 v_color; \nvarying mediump vec2 v_texcoord;\t\nvoid main() \n{ \n     v_color \x3d a_color;//vec4(a_color.rgb * a_color.a, a_color.a); \n     v_texcoord \x3d a_texcoord; \n    gl_Position \x3d (CC_PMatrix * CC_MVMatrix) * a_position;  \n}";
cc.SHADER_POSITION_TEXTURE_FRAG="precision lowp float;   \nvarying vec2 v_texCoord;  \nvoid main() \n{  \n    gl_FragColor \x3d  texture2D(CC_Texture0, v_texCoord);   \n}";cc.SHADER_POSITION_TEXTURE_VERT="attribute vec4 a_position; \nattribute vec2 a_texCoord; \nvarying mediump vec2 v_texCoord; \nvoid main() \n{ \n    gl_Position \x3d (CC_PMatrix * CC_MVMatrix) * a_position;  \n    v_texCoord \x3d a_texCoord;               \n}";cc.SHADER_POSITION_TEXTURE_UCOLOR_FRAG="precision lowp float;  \nuniform vec4 u_color; \nvarying vec2 v_texCoord; \nvoid main() \n{  \n    gl_FragColor \x3d  texture2D(CC_Texture0, v_texCoord) * u_color;    \n}";
cc.SHADER_POSITION_TEXTURE_UCOLOR_VERT="attribute vec4 a_position;\nattribute vec2 a_texCoord; \nvarying mediump vec2 v_texCoord; \nvoid main() \n{ \n    gl_Position \x3d (CC_PMatrix * CC_MVMatrix) * a_position;  \n    v_texCoord \x3d a_texCoord;                 \n}";cc.SHADER_POSITION_TEXTURE_A8COLOR_FRAG="precision lowp float;  \nvarying vec4 v_fragmentColor; \nvarying vec2 v_texCoord; \nvoid main() \n{ \n    gl_FragColor \x3d vec4( v_fragmentColor.rgb,         \n        v_fragmentColor.a * texture2D(CC_Texture0, v_texCoord).a   \n    ); \n}";
cc.SHADER_POSITION_TEXTURE_A8COLOR_VERT="attribute vec4 a_position; \nattribute vec2 a_texCoord; \nattribute vec4 a_color;  \nvarying lowp vec4 v_fragmentColor; \nvarying mediump vec2 v_texCoord; \nvoid main() \n{ \n    gl_Position \x3d (CC_PMatrix * CC_MVMatrix) * a_position;  \n    v_fragmentColor \x3d a_color; \n    v_texCoord \x3d a_texCoord; \n}";cc.SHADER_POSITION_TEXTURE_COLOR_FRAG="precision lowp float;\nvarying vec4 v_fragmentColor; \nvarying vec2 v_texCoord; \nvoid main() \n{ \n    gl_FragColor \x3d v_fragmentColor * texture2D(CC_Texture0, v_texCoord); \n}";
cc.SHADER_POSITION_TEXTURE_COLOR_VERT="attribute vec4 a_position; \nattribute vec2 a_texCoord; \nattribute vec4 a_color;  \nvarying lowp vec4 v_fragmentColor; \nvarying mediump vec2 v_texCoord; \nvoid main() \n{ \n    gl_Position \x3d (CC_PMatrix * CC_MVMatrix) * a_position;  \n    v_fragmentColor \x3d a_color; \n    v_texCoord \x3d a_texCoord; \n}";cc.SHADER_SPRITE_POSITION_TEXTURE_COLOR_VERT="attribute vec4 a_position; \nattribute vec2 a_texCoord; \nattribute vec4 a_color;  \nvarying lowp vec4 v_fragmentColor; \nvarying mediump vec2 v_texCoord; \nvoid main() \n{ \n    gl_Position \x3d CC_PMatrix * a_position;  \n    v_fragmentColor \x3d a_color; \n    v_texCoord \x3d a_texCoord; \n}";
cc.SHADER_POSITION_TEXTURE_COLOR_ALPHATEST_FRAG="precision lowp float;   \nvarying vec4 v_fragmentColor; \nvarying vec2 v_texCoord;   \nuniform float CC_alpha_value; \nvoid main() \n{  \n    vec4 texColor \x3d texture2D(CC_Texture0, v_texCoord);  \n    if ( texColor.a \x3c\x3d CC_alpha_value )          \n        discard; \n    gl_FragColor \x3d texColor * v_fragmentColor;  \n}";cc.SHADEREX_SWITCHMASK_FRAG="precision lowp float; \nvarying vec4 v_fragmentColor; \nvarying vec2 v_texCoord; \nuniform sampler2D u_texture;  \nuniform sampler2D   u_mask;   \nvoid main()  \n{  \n    vec4 texColor   \x3d texture2D(u_texture, v_texCoord);  \n    vec4 maskColor  \x3d texture2D(u_mask, v_texCoord); \n    vec4 finalColor \x3d vec4(texColor.r, texColor.g, texColor.b, maskColor.a * texColor.a);        \n    gl_FragColor    \x3d v_fragmentColor * finalColor; \n}";
cc.SHADER_POSITION_TEXTURE_COLOR_CIRCLE_FRAG="precision lowp float;\nvarying vec4 v_fragmentColor; \nvarying vec2 v_texCoord; \nvoid main() \n{ \n    if (length(v_texCoord-0.5) \x3e 0.5) { discard; }\n    gl_FragColor \x3d v_fragmentColor * texture2D(CC_Texture0, v_texCoord); \n}";cc.SHADER_POSITION_TEXTURE_COLOR_GRAY_FRAG="precision lowp float;\nvarying vec4 v_fragmentColor; \nvarying vec2 v_texCoord; \nvoid main() \n{ \n    vec4 col \x3d texture2D(CC_Texture0, v_texCoord);\n    float grey \x3d dot(col.rgb, vec3(0.299, 0.587, 0.114)); \n    gl_FragColor \x3d vec4(grey, grey, grey, col.a); \n}";cc.shaderCache={TYPE_POSITION_TEXTURECOLOR:0,TYPE_POSITION_TEXTURECOLOR_ALPHATEST:1,TYPE_POSITION_COLOR:2,TYPE_POSITION_TEXTURE:3,TYPE_POSITION_TEXTURE_UCOLOR:4,TYPE_POSITION_TEXTURE_A8COLOR:5,TYPE_POSITION_UCOLOR:6,TYPE_POSITION_LENGTH_TEXTURECOLOR:7,TYPE_SPRITE_POSITION_TEXTURECOLOR:8,TYPE_SPRITE_POSITION_TEXTURECOLOR_ALPHATEST:9,TYPE_SPRITE_POSITION_COLOR:10,TYPE_SPRITE_POSITION_TEXTURECOLOR_CIRCLECLIP:11,TYPE_SPRITE_POSITION_TEXTURECOLOR_GRAY:12,TYPE_MAX:13,_programs:{},_init:function(){this.loadDefaultShaders();
return!0},_loadDefaultShader:function(a,c){switch(c){case this.TYPE_POSITION_TEXTURECOLOR:a.initWithVertexShaderByteArray(cc.SHADER_POSITION_TEXTURE_COLOR_VERT,cc.SHADER_POSITION_TEXTURE_COLOR_FRAG);a.addAttribute(cc.ATTRIBUTE_NAME_POSITION,cc.VERTEX_ATTRIB_POSITION);a.addAttribute(cc.ATTRIBUTE_NAME_COLOR,cc.VERTEX_ATTRIB_COLOR);a.addAttribute(cc.ATTRIBUTE_NAME_TEX_COORD,cc.VERTEX_ATTRIB_TEX_COORDS);break;case this.TYPE_SPRITE_POSITION_TEXTURECOLOR:a.initWithVertexShaderByteArray(cc.SHADER_SPRITE_POSITION_TEXTURE_COLOR_VERT,
cc.SHADER_POSITION_TEXTURE_COLOR_FRAG);a.addAttribute(cc.ATTRIBUTE_NAME_POSITION,cc.VERTEX_ATTRIB_POSITION);a.addAttribute(cc.ATTRIBUTE_NAME_COLOR,cc.VERTEX_ATTRIB_COLOR);a.addAttribute(cc.ATTRIBUTE_NAME_TEX_COORD,cc.VERTEX_ATTRIB_TEX_COORDS);break;case this.TYPE_POSITION_TEXTURECOLOR_ALPHATEST:a.initWithVertexShaderByteArray(cc.SHADER_POSITION_TEXTURE_COLOR_VERT,cc.SHADER_POSITION_TEXTURE_COLOR_ALPHATEST_FRAG);a.addAttribute(cc.ATTRIBUTE_NAME_POSITION,cc.VERTEX_ATTRIB_POSITION);a.addAttribute(cc.ATTRIBUTE_NAME_COLOR,
cc.VERTEX_ATTRIB_COLOR);a.addAttribute(cc.ATTRIBUTE_NAME_TEX_COORD,cc.VERTEX_ATTRIB_TEX_COORDS);break;case this.TYPE_SPRITE_POSITION_TEXTURECOLOR_ALPHATEST:a.initWithVertexShaderByteArray(cc.SHADER_SPRITE_POSITION_TEXTURE_COLOR_VERT,cc.SHADER_POSITION_TEXTURE_COLOR_ALPHATEST_FRAG);a.addAttribute(cc.ATTRIBUTE_NAME_POSITION,cc.VERTEX_ATTRIB_POSITION);a.addAttribute(cc.ATTRIBUTE_NAME_COLOR,cc.VERTEX_ATTRIB_COLOR);a.addAttribute(cc.ATTRIBUTE_NAME_TEX_COORD,cc.VERTEX_ATTRIB_TEX_COORDS);break;case this.TYPE_POSITION_COLOR:a.initWithVertexShaderByteArray(cc.SHADER_POSITION_COLOR_VERT,
cc.SHADER_POSITION_COLOR_FRAG);a.addAttribute(cc.ATTRIBUTE_NAME_POSITION,cc.VERTEX_ATTRIB_POSITION);a.addAttribute(cc.ATTRIBUTE_NAME_COLOR,cc.VERTEX_ATTRIB_COLOR);break;case this.TYPE_SPRITE_POSITION_COLOR:a.initWithVertexShaderByteArray(cc.SHADER_SPRITE_POSITION_COLOR_VERT,cc.SHADER_POSITION_COLOR_FRAG);a.addAttribute(cc.ATTRIBUTE_NAME_POSITION,cc.VERTEX_ATTRIB_POSITION);a.addAttribute(cc.ATTRIBUTE_NAME_COLOR,cc.VERTEX_ATTRIB_COLOR);break;case this.TYPE_POSITION_TEXTURE:a.initWithVertexShaderByteArray(cc.SHADER_POSITION_TEXTURE_VERT,
cc.SHADER_POSITION_TEXTURE_FRAG);a.addAttribute(cc.ATTRIBUTE_NAME_POSITION,cc.VERTEX_ATTRIB_POSITION);a.addAttribute(cc.ATTRIBUTE_NAME_TEX_COORD,cc.VERTEX_ATTRIB_TEX_COORDS);break;case this.TYPE_POSITION_TEXTURE_UCOLOR:a.initWithVertexShaderByteArray(cc.SHADER_POSITION_TEXTURE_UCOLOR_VERT,cc.SHADER_POSITION_TEXTURE_UCOLOR_FRAG);a.addAttribute(cc.ATTRIBUTE_NAME_POSITION,cc.VERTEX_ATTRIB_POSITION);a.addAttribute(cc.ATTRIBUTE_NAME_TEX_COORD,cc.VERTEX_ATTRIB_TEX_COORDS);break;case this.TYPE_POSITION_TEXTURE_A8COLOR:a.initWithVertexShaderByteArray(cc.SHADER_POSITION_TEXTURE_A8COLOR_VERT,
cc.SHADER_POSITION_TEXTURE_A8COLOR_FRAG);a.addAttribute(cc.ATTRIBUTE_NAME_POSITION,cc.VERTEX_ATTRIB_POSITION);a.addAttribute(cc.ATTRIBUTE_NAME_COLOR,cc.VERTEX_ATTRIB_COLOR);a.addAttribute(cc.ATTRIBUTE_NAME_TEX_COORD,cc.VERTEX_ATTRIB_TEX_COORDS);break;case this.TYPE_POSITION_UCOLOR:a.initWithVertexShaderByteArray(cc.SHADER_POSITION_UCOLOR_VERT,cc.SHADER_POSITION_UCOLOR_FRAG);a.addAttribute("aVertex",cc.VERTEX_ATTRIB_POSITION);break;case this.TYPE_POSITION_LENGTH_TEXTURECOLOR:a.initWithVertexShaderByteArray(cc.SHADER_POSITION_COLOR_LENGTH_TEXTURE_VERT,
cc.SHADER_POSITION_COLOR_LENGTH_TEXTURE_FRAG);a.addAttribute(cc.ATTRIBUTE_NAME_POSITION,cc.VERTEX_ATTRIB_POSITION);a.addAttribute(cc.ATTRIBUTE_NAME_TEX_COORD,cc.VERTEX_ATTRIB_TEX_COORDS);a.addAttribute(cc.ATTRIBUTE_NAME_COLOR,cc.VERTEX_ATTRIB_COLOR);break;case this.TYPE_SPRITE_POSITION_TEXTURECOLOR_CIRCLECLIP:a.initWithVertexShaderByteArray(cc.SHADER_SPRITE_POSITION_TEXTURE_COLOR_VERT,cc.SHADER_POSITION_TEXTURE_COLOR_CIRCLE_FRAG);a.addAttribute(cc.ATTRIBUTE_NAME_POSITION,cc.VERTEX_ATTRIB_POSITION);
a.addAttribute(cc.ATTRIBUTE_NAME_COLOR,cc.VERTEX_ATTRIB_COLOR);a.addAttribute(cc.ATTRIBUTE_NAME_TEX_COORD,cc.VERTEX_ATTRIB_TEX_COORDS);break;case this.TYPE_SPRITE_POSITION_TEXTURECOLOR_GRAY:a.initWithVertexShaderByteArray(cc.SHADER_SPRITE_POSITION_TEXTURE_COLOR_VERT,cc.SHADER_POSITION_TEXTURE_COLOR_GRAY_FRAG);a.addAttribute(cc.ATTRIBUTE_NAME_POSITION,cc.VERTEX_ATTRIB_POSITION);a.addAttribute(cc.ATTRIBUTE_NAME_COLOR,cc.VERTEX_ATTRIB_COLOR);a.addAttribute(cc.ATTRIBUTE_NAME_TEX_COORD,cc.VERTEX_ATTRIB_TEX_COORDS);
break;default:cc.log("cocos2d: cc.shaderCache._loadDefaultShader, error shader type");return}a.link();a.updateUniforms()},loadDefaultShaders:function(a){var c;a?(c=this.programForKey(cc.SHADER_POSITION_TEXTURECOLOR),c.reset()):(c=new cc.GLProgram,this._programs[cc.SHADER_POSITION_TEXTURECOLOR]=c,this._programs.ShaderPositionTextureColor=c);this._loadDefaultShader(c,this.TYPE_POSITION_TEXTURECOLOR);a?(c=this.programForKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR),c.reset()):(c=new cc.GLProgram,this._programs[cc.SHADER_SPRITE_POSITION_TEXTURECOLOR]=
c,this._programs.ShaderSpritePositionTextureColor=c);this._loadDefaultShader(c,this.TYPE_SPRITE_POSITION_TEXTURECOLOR);a?(c=this.programForKey(cc.SHADER_POSITION_COLOR),c.reset()):(c=new cc.GLProgram,this._programs[cc.SHADER_POSITION_COLOR]=c,this._programs.ShaderPositionColor=c);this._loadDefaultShader(c,this.TYPE_POSITION_COLOR);a?(c=this.programForKey(cc.SHADER_POSITION_TEXTURE),c.reset()):(c=new cc.GLProgram,this._programs[cc.SHADER_POSITION_TEXTURE]=c,this._programs.ShaderPositionTexture=c);
this._loadDefaultShader(c,this.TYPE_POSITION_TEXTURE);a?(c=this.programForKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR_CIRCLECLIP),c.reset()):(c=new cc.GLProgram,this._programs[cc.SHADER_SPRITE_POSITION_TEXTURECOLOR_CIRCLECLIP]=c,this._programs.ShaderSpritePositionTextureColorCircleClip=c);this._loadDefaultShader(c,this.TYPE_SPRITE_POSITION_TEXTURECOLOR_CIRCLECLIP);a?(c=this.programForKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR_GRAY),c.reset()):(c=new cc.GLProgram,this._programs[cc.SHADER_SPRITE_POSITION_TEXTURECOLOR_GRAY]=
c,this._programs.ShaderSpritePositionTextureColorGray=c);this._loadDefaultShader(c,this.TYPE_SPRITE_POSITION_TEXTURECOLOR_GRAY)},reloadDefaultShaders:function(){this.loadDefaultShaders(!0)},programForKey:function(a){return this._programs[a]},getProgram:function(a){return this._programs[a]},addProgram:function(a,c){this._programs[c]=a}};cc.GLProgram=cc.Class.extend({_glContext:null,_programObj:null,_vertShader:null,_fragShader:null,_uniforms:null,_hashForUniforms:null,_usesTime:!1,_updateUniformLocation:function(a){if(!a)return!1;var c,d=this._hashForUniforms[a];if(d){c=!1;for(var e=arguments.length-1,f=0;f<e;++f)arguments[f+1]!==d[f]&&(d[f]=arguments[f+1],c=!0)}else d=[arguments[1],arguments[2],arguments[3],arguments[4]],this._hashForUniforms[a]=d,c=!0;return c},_description:function(){return"\x3cCCGLProgram \x3d "+this.toString()+
" | Program \x3d "+this._programObj.toString()+", VertexShader \x3d "+this._vertShader.toString()+", FragmentShader \x3d "+this._fragShader.toString()+"\x3e"},_compileShader:function(a,c,d){if(!d||!a)return!1;d=(cc.GLProgram._isHighpSupported()?"precision highp float;\n":"precision mediump float;\n")+"uniform mat4 CC_PMatrix;         \nuniform mat4 CC_MVMatrix;        \nuniform mat4 CC_MVPMatrix;       \nuniform vec4 CC_Time;            \nuniform vec4 CC_SinTime;         \nuniform vec4 CC_CosTime;         \nuniform vec4 CC_Random01;        \nuniform sampler2D CC_Texture0;   \n//CC INCLUDES END                \n"+
d;this._glContext.shaderSource(a,d);this._glContext.compileShader(a);d=this._glContext.getShaderParameter(a,this._glContext.COMPILE_STATUS);d||(cc.log("cocos2d: ERROR: Failed to compile shader:\n"+this._glContext.getShaderSource(a)),c===this._glContext.VERTEX_SHADER?cc.log("cocos2d: \n"+this.vertexShaderLog()):cc.log("cocos2d: \n"+this.fragmentShaderLog()));return!0===d},ctor:function(a,c,d){this._uniforms={};this._hashForUniforms={};this._glContext=d||cc._renderContext;a&&c&&this.init(a,c)},destroyProgram:function(){this._hashForUniforms=
this._uniforms=this._fragShader=this._vertShader=null;this._glContext.deleteProgram(this._programObj)},initWithVertexShaderByteArray:function(a,c){var d=this._glContext;this._programObj=d.createProgram();this._fragShader=this._vertShader=null;a&&(this._vertShader=d.createShader(d.VERTEX_SHADER),this._compileShader(this._vertShader,d.VERTEX_SHADER,a)||cc.log("cocos2d: ERROR: Failed to compile vertex shader"));c&&(this._fragShader=d.createShader(d.FRAGMENT_SHADER),this._compileShader(this._fragShader,
d.FRAGMENT_SHADER,c)||cc.log("cocos2d: ERROR: Failed to compile fragment shader"));this._vertShader&&d.attachShader(this._programObj,this._vertShader);cc.checkGLErrorDebug();this._fragShader&&d.attachShader(this._programObj,this._fragShader);for(var e in this._hashForUniforms)delete this._hashForUniforms[e];cc.checkGLErrorDebug();return!0},initWithString:function(a,c){return this.initWithVertexShaderByteArray(a,c)},initWithVertexShaderFilename:function(a,c){var d=cc.loader.getRes(a);if(!d)throw Error("Please load the resource firset : "+
a);var e=cc.loader.getRes(c);if(!e)throw Error("Please load the resource firset : "+c);return this.initWithVertexShaderByteArray(d,e)},init:function(a,c){return this.initWithVertexShaderFilename(a,c)},addAttribute:function(a,c){this._glContext.bindAttribLocation(this._programObj,c,a)},link:function(){if(!this._programObj)return cc.log("cc.GLProgram.link(): Cannot link invalid program"),!1;this._glContext.linkProgram(this._programObj);this._vertShader&&this._glContext.deleteShader(this._vertShader);
this._fragShader&&this._glContext.deleteShader(this._fragShader);this._fragShader=this._vertShader=null;return cc.game.config[cc.game.CONFIG_KEY.debugMode]&&!this._glContext.getProgramParameter(this._programObj,this._glContext.LINK_STATUS)?(cc.log("cocos2d: ERROR: Failed to link program: "+this._glContext.getProgramInfoLog(this._programObj)),cc.glDeleteProgram(this._programObj),this._programObj=null,!1):!0},use:function(){cc.glUseProgram(this._programObj)},updateUniforms:function(){this._uniforms[cc.UNIFORM_PMATRIX_S]=
this._glContext.getUniformLocation(this._programObj,cc.UNIFORM_PMATRIX_S);this._uniforms[cc.UNIFORM_MVMATRIX_S]=this._glContext.getUniformLocation(this._programObj,cc.UNIFORM_MVMATRIX_S);this._uniforms[cc.UNIFORM_MVPMATRIX_S]=this._glContext.getUniformLocation(this._programObj,cc.UNIFORM_MVPMATRIX_S);this._uniforms[cc.UNIFORM_TIME_S]=this._glContext.getUniformLocation(this._programObj,cc.UNIFORM_TIME_S);this._uniforms[cc.UNIFORM_SINTIME_S]=this._glContext.getUniformLocation(this._programObj,cc.UNIFORM_SINTIME_S);
this._uniforms[cc.UNIFORM_COSTIME_S]=this._glContext.getUniformLocation(this._programObj,cc.UNIFORM_COSTIME_S);this._usesTime=null!=this._uniforms[cc.UNIFORM_TIME_S]||null!=this._uniforms[cc.UNIFORM_SINTIME_S]||null!=this._uniforms[cc.UNIFORM_COSTIME_S];this._uniforms[cc.UNIFORM_RANDOM01_S]=this._glContext.getUniformLocation(this._programObj,cc.UNIFORM_RANDOM01_S);this._uniforms[cc.UNIFORM_SAMPLER_S]=this._glContext.getUniformLocation(this._programObj,cc.UNIFORM_SAMPLER_S);this.use();this.setUniformLocationWith1i(this._uniforms[cc.UNIFORM_SAMPLER_S],
0)},_addUniformLocation:function(a){var c=this._glContext.getUniformLocation(this._programObj,a);this._uniforms[a]=c},getUniformLocationForName:function(a){if(!a)throw Error("cc.GLProgram.getUniformLocationForName(): uniform name should be non-null");if(!this._programObj)throw Error("cc.GLProgram.getUniformLocationForName(): Invalid operation. Cannot get uniform location when program is not initialized");return this._uniforms[a]||this._glContext.getUniformLocation(this._programObj,a)},getUniformMVPMatrix:function(){return this._uniforms[cc.UNIFORM_MVPMATRIX_S]},
getUniformSampler:function(){return this._uniforms[cc.UNIFORM_SAMPLER_S]},setUniformLocationWith1i:function(a,c){var d=this._glContext;if("string"===typeof a){if(this._updateUniformLocation(a,c)){var e=this.getUniformLocationForName(a);d.uniform1i(e,c)}}else d.uniform1i(a,c)},setUniformLocationWith2i:function(a,c,d){var e=this._glContext;"string"===typeof a?this._updateUniformLocation(a,c,d)&&(a=this.getUniformLocationForName(a),e.uniform2i(a,c,d)):e.uniform2i(a,c,d)},setUniformLocationWith3i:function(a,
c,d,e){var f=this._glContext;"string"===typeof a?this._updateUniformLocation(a,c,d,e)&&(a=this.getUniformLocationForName(a),f.uniform3i(a,c,d,e)):f.uniform3i(a,c,d,e)},setUniformLocationWith4i:function(a,c,d,e,f){var g=this._glContext;"string"===typeof a?this._updateUniformLocation(a,c,d,e,f)&&(a=this.getUniformLocationForName(a),g.uniform4i(a,c,d,e,f)):g.uniform4i(a,c,d,e,f)},setUniformLocationWith2iv:function(a,c){var d="string"===typeof a?this.getUniformLocationForName(a):a;this._glContext.uniform2iv(d,
c)},setUniformLocationWith3iv:function(a,c){var d="string"===typeof a?this.getUniformLocationForName(a):a;this._glContext.uniform3iv(d,c)},setUniformLocationWith4iv:function(a,c){var d="string"===typeof a?this.getUniformLocationForName(a):a;this._glContext.uniform4iv(d,c)},setUniformLocationI32:function(a,c){this.setUniformLocationWith1i(a,c)},setUniformLocationWith1f:function(a,c){var d=this._glContext;if("string"===typeof a){if(this._updateUniformLocation(a,c)){var e=this.getUniformLocationForName(a);
d.uniform1f(e,c)}}else d.uniform1f(a,c)},setUniformLocationWith2f:function(a,c,d){var e=this._glContext;"string"===typeof a?this._updateUniformLocation(a,c,d)&&(a=this.getUniformLocationForName(a),e.uniform2f(a,c,d)):e.uniform2f(a,c,d)},setUniformLocationWith3f:function(a,c,d,e){var f=this._glContext;"string"===typeof a?this._updateUniformLocation(a,c,d,e)&&(a=this.getUniformLocationForName(a),f.uniform3f(a,c,d,e)):f.uniform3f(a,c,d,e)},setUniformLocationWith4f:function(a,c,d,e,f){var g=this._glContext;
"string"===typeof a?this._updateUniformLocation(a,c,d,e,f)&&(a=this.getUniformLocationForName(a),g.uniform4f(a,c,d,e,f)):g.uniform4f(a,c,d,e,f)},setUniformLocationWith2fv:function(a,c){var d="string"===typeof a?this.getUniformLocationForName(a):a;this._glContext.uniform2fv(d,c)},setUniformLocationWith3fv:function(a,c){var d="string"===typeof a?this.getUniformLocationForName(a):a;this._glContext.uniform3fv(d,c)},setUniformLocationWith4fv:function(a,c){var d="string"===typeof a?this.getUniformLocationForName(a):
a;this._glContext.uniform4fv(d,c)},setUniformLocationWithMatrix4fv:function(a,c){var d="string"===typeof a?this.getUniformLocationForName(a):a;this._glContext.uniformMatrix4fv(d,!1,c)},setUniformLocationF32:function(){if(!(2>arguments.length))switch(arguments.length){case 2:this.setUniformLocationWith1f(arguments[0],arguments[1]);break;case 3:this.setUniformLocationWith2f(arguments[0],arguments[1],arguments[2]);break;case 4:this.setUniformLocationWith3f(arguments[0],arguments[1],arguments[2],arguments[3]);
break;case 5:this.setUniformLocationWith4f(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4])}},setUniformsForBuiltins:function(){var a=new cc.math.Matrix4,c=new cc.math.Matrix4,d=new cc.math.Matrix4;cc.kmGLGetMatrix(cc.KM_GL_PROJECTION,a);cc.kmGLGetMatrix(cc.KM_GL_MODELVIEW,c);cc.kmMat4Multiply(d,a,c);this.setUniformLocationWithMatrix4fv(this._uniforms[cc.UNIFORM_PMATRIX_S],a.mat,1);this.setUniformLocationWithMatrix4fv(this._uniforms[cc.UNIFORM_MVMATRIX_S],c.mat,1);this.setUniformLocationWithMatrix4fv(this._uniforms[cc.UNIFORM_MVPMATRIX_S],
d.mat,1);this._usesTime&&(a=cc.director,a=a.getTotalFrames()*a.getAnimationInterval(),this.setUniformLocationWith4f(this._uniforms[cc.UNIFORM_TIME_S],a/10,a,2*a,4*a),this.setUniformLocationWith4f(this._uniforms[cc.UNIFORM_SINTIME_S],a/8,a/4,a/2,Math.sin(a)),this.setUniformLocationWith4f(this._uniforms[cc.UNIFORM_COSTIME_S],a/8,a/4,a/2,Math.cos(a)));-1!==this._uniforms[cc.UNIFORM_RANDOM01_S]&&this.setUniformLocationWith4f(this._uniforms[cc.UNIFORM_RANDOM01_S],Math.random(),Math.random(),Math.random(),
Math.random())},_setUniformsForBuiltinsForRenderer:function(a){if(a&&a._renderCmd){var c=new cc.math.Matrix4,d=new cc.math.Matrix4;cc.kmGLGetMatrix(cc.KM_GL_PROJECTION,c);cc.kmMat4Multiply(d,c,a._renderCmd._stackMatrix);this.setUniformLocationWithMatrix4fv(this._uniforms[cc.UNIFORM_PMATRIX_S],c.mat,1);this.setUniformLocationWithMatrix4fv(this._uniforms[cc.UNIFORM_MVMATRIX_S],a._renderCmd._stackMatrix.mat,1);this.setUniformLocationWithMatrix4fv(this._uniforms[cc.UNIFORM_MVPMATRIX_S],d.mat,1);this._usesTime&&
(a=cc.director,a=a.getTotalFrames()*a.getAnimationInterval(),this.setUniformLocationWith4f(this._uniforms[cc.UNIFORM_TIME_S],a/10,a,2*a,4*a),this.setUniformLocationWith4f(this._uniforms[cc.UNIFORM_SINTIME_S],a/8,a/4,a/2,Math.sin(a)),this.setUniformLocationWith4f(this._uniforms[cc.UNIFORM_COSTIME_S],a/8,a/4,a/2,Math.cos(a)));-1!==this._uniforms[cc.UNIFORM_RANDOM01_S]&&this.setUniformLocationWith4f(this._uniforms[cc.UNIFORM_RANDOM01_S],Math.random(),Math.random(),Math.random(),Math.random())}},setUniformForModelViewProjectionMatrix:function(){this._glContext.uniformMatrix4fv(this._uniforms[cc.UNIFORM_MVPMATRIX_S],
!1,cc.getMat4MultiplyValue(cc.projection_matrix_stack.top,cc.modelview_matrix_stack.top))},setUniformForModelViewProjectionMatrixWithMat4:function(a){cc.kmMat4Multiply(a,cc.projection_matrix_stack.top,cc.modelview_matrix_stack.top);this._glContext.uniformMatrix4fv(this._uniforms[cc.UNIFORM_MVPMATRIX_S],!1,a.mat)},setUniformForModelViewAndProjectionMatrixWithMat4:function(){this._glContext.uniformMatrix4fv(this._uniforms[cc.UNIFORM_MVMATRIX_S],!1,cc.modelview_matrix_stack.top.mat);this._glContext.uniformMatrix4fv(this._uniforms[cc.UNIFORM_PMATRIX_S],
!1,cc.projection_matrix_stack.top.mat)},_setUniformForMVPMatrixWithMat4:function(a){if(!a)throw Error("modelView matrix is undefined.");this._glContext.uniformMatrix4fv(this._uniforms[cc.UNIFORM_MVMATRIX_S],!1,a.mat);this._glContext.uniformMatrix4fv(this._uniforms[cc.UNIFORM_PMATRIX_S],!1,cc.projection_matrix_stack.top.mat)},_updateProjectionUniform:function(){this._glContext.uniformMatrix4fv(this._uniforms[cc.UNIFORM_PMATRIX_S],!1,cc.projection_matrix_stack.top.mat)},vertexShaderLog:function(){return this._glContext.getShaderInfoLog(this._vertShader)},
getVertexShaderLog:function(){return this._glContext.getShaderInfoLog(this._vertShader)},getFragmentShaderLog:function(){return this._glContext.getShaderInfoLog(this._vertShader)},fragmentShaderLog:function(){return this._glContext.getShaderInfoLog(this._fragShader)},programLog:function(){return this._glContext.getProgramInfoLog(this._programObj)},getProgramLog:function(){return this._glContext.getProgramInfoLog(this._programObj)},reset:function(){this._fragShader=this._vertShader=null;this._uniforms.length=
0;this._glContext.deleteProgram(this._programObj);this._programObj=null;for(var a in this._hashForUniforms)this._hashForUniforms[a].length=0,delete this._hashForUniforms[a]},getProgram:function(){return this._programObj},retain:function(){},release:function(){}});cc.GLProgram.create=function(a,c){return new cc.GLProgram(a,c)};cc.GLProgram._highpSupported=null;
cc.GLProgram._isHighpSupported=function(){var a=cc._renderContext;a.getShaderPrecisionFormat&&null==cc.GLProgram._highpSupported&&(a=a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT),cc.GLProgram._highpSupported=0!==a.precision);return cc.GLProgram._highpSupported};cc.setProgram=function(a,c){a.shaderProgram=c;var d=a.children;if(d)for(var e=0;e<d.length;e++)cc.setProgram(d[e],c)};cc._currentProjectionMatrix=-1;cc.ENABLE_GL_STATE_CACHE&&(cc.MAX_ACTIVETEXTURE=cc.sys.os===cc.sys.OS_ANDROID?4:16,console.log("cc.MAX_ACTIVETEXTURE \x3d ",cc.MAX_ACTIVETEXTURE,cc.sys.os),cc._currentShaderProgram=-1,cc._currentBoundTexture=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],cc._blendingSource=-1,cc._blendingDest=-1,cc._GLServerState=0,cc.TEXTURE_ATLAS_USE_VAO&&(cc._uVAO=0));
cc.glInvalidateStateCache=function(){cc.kmGLFreeAll();cc._currentProjectionMatrix=-1;if(cc.ENABLE_GL_STATE_CACHE){cc._currentShaderProgram=-1;for(var a=0;a<cc.MAX_ACTIVETEXTURE;a++)cc._currentBoundTexture[a]=-1;cc._blendingSource=-1;cc._blendingDest=-1;cc._GLServerState=0}};cc.glUseProgram=cc.ENABLE_GL_STATE_CACHE?function(a){a!==cc._currentShaderProgram&&(cc._currentShaderProgram=a,cc._renderContext.useProgram(a))}:function(a){cc._renderContext.useProgram(a)};
cc.glDeleteProgram=function(a){cc.ENABLE_GL_STATE_CACHE&&a===cc._currentShaderProgram&&(cc._currentShaderProgram=-1);gl.deleteProgram(a)};cc.setBlending=function(a,c){var d=cc._renderContext;a===d.ONE&&c===d.ZERO?d.disable(d.BLEND):(d.enable(d.BLEND),cc._renderContext.blendFunc(a,c))};cc.glBlendFunc=cc.ENABLE_GL_STATE_CACHE?function(a,c){if(a!==cc._blendingSource||c!==cc._blendingDest)cc._blendingSource=a,cc._blendingDest=c,cc.setBlending(a,c)}:cc.setBlending;
cc.glBlendFuncForParticle=function(a,c){if(a!==cc._blendingSource||c!==cc._blendingDest){cc._blendingSource=a;cc._blendingDest=c;var d=cc._renderContext;a===d.ONE&&c===d.ZERO?d.disable(d.BLEND):(d.enable(d.BLEND),d.blendFunc(a,c))}};cc.glBlendResetToCache=function(){var a=cc._renderContext;a.blendEquation(a.FUNC_ADD);cc.ENABLE_GL_STATE_CACHE?cc.setBlending(cc._blendingSource,cc._blendingDest):cc.setBlending(a.BLEND_SRC,a.BLEND_DST)};
cc.setProjectionMatrixDirty=function(){cc._currentProjectionMatrix=-1};cc.glBindTexture2D=function(a){cc.glBindTexture2DN(0,a)};
cc.glBindTexture2DN=cc.ENABLE_GL_STATE_CACHE?function(a,c){if(cc._currentBoundTexture[a]!==c){cc._currentBoundTexture[a]=c;var d=cc._renderContext;d.activeTexture(d.TEXTURE0+a);c?d.bindTexture(d.TEXTURE_2D,c._webTextureObj):d.bindTexture(d.TEXTURE_2D,null)}}:function(a,c){var d=cc._renderContext;d.activeTexture(d.TEXTURE0+a);c?d.bindTexture(d.TEXTURE_2D,c._webTextureObj):d.bindTexture(d.TEXTURE_2D,null)};cc.glDeleteTexture=function(a){cc.glDeleteTextureN(0,a)};
cc.glDeleteTextureN=function(a,c){cc.ENABLE_GL_STATE_CACHE&&c===cc._currentBoundTexture[a]&&(cc._currentBoundTexture[a]=-1);cc._renderContext.deleteTexture(c._webTextureObj)};cc.glBindVAO=function(a){cc.TEXTURE_ATLAS_USE_VAO&&cc.ENABLE_GL_STATE_CACHE&&cc._uVAO!==a&&(cc._uVAO=a)};cc.glEnable=function(a){};cc.IMEKeyboardNotificationInfo=function(a,c,d){this.begin=a||cc.rect(0,0,0,0);this.end=c||cc.rect(0,0,0,0);this.duration=d||0};
cc.IMEDelegate=cc.Class.extend({ctor:function(){cc.imeDispatcher.addDelegate(this)},removeDelegate:function(){cc.imeDispatcher.removeDelegate(this)},attachWithIME:function(){return cc.imeDispatcher.attachDelegateWithIME(this)},detachWithIME:function(){return cc.imeDispatcher.detachDelegateWithIME(this)},canAttachWithIME:function(){return!1},didAttachWithIME:function(){},canDetachWithIME:function(){return!1},didDetachWithIME:function(){},insertText:function(a,c){},deleteBackward:function(){},getContentText:function(){return""},
keyboardWillShow:function(a){},keyboardDidShow:function(a){},keyboardWillHide:function(a){},keyboardDidHide:function(a){}});
cc.IMEDispatcher=cc.Class.extend({_domInputControl:null,impl:null,_currentInputString:"",_lastClickPosition:null,ctor:function(){this.impl=new cc.IMEDispatcher.Impl;this._lastClickPosition=cc.p(0,0)},init:function(){if(!cc.sys.isMobile){this._domInputControl=cc.$("#imeDispatcherInput");this._domInputControl||(this._domInputControl=cc.$new("input"),this._domInputControl.setAttribute("type","text"),this._domInputControl.setAttribute("id","imeDispatcherInput"),this._domInputControl.resize(0,0),this._domInputControl.translates(0,
0),this._domInputControl.style.opacity="0",this._domInputControl.style.fontSize="1px",this._domInputControl.setAttribute("tabindex",2),this._domInputControl.style.position="absolute",this._domInputControl.style.top=0,this._domInputControl.style.left=0,document.body.appendChild(this._domInputControl));var a=this;this._domInputControl.addEventListener("input",function(){a._processDomInputString(a._domInputControl.value)},!1);this._domInputControl.addEventListener("keydown",function(c){c.keyCode===cc.KEY.tab?
(c.stopPropagation(),c.preventDefault()):c.keyCode===cc.KEY.enter&&(a.dispatchInsertText("\n",1),c.stopPropagation(),c.preventDefault())},!1);/msie/i.test(navigator.userAgent)&&this._domInputControl.addEventListener("keyup",function(c){c.keyCode===cc.KEY.backspace&&a._processDomInputString(a._domInputControl.value)},!1);window.addEventListener("mousedown",function(c){var d=c.pageY||0;a._lastClickPosition.x=c.pageX||0;a._lastClickPosition.y=d},!1)}},_processDomInputString:function(a){var c,d;c=this._currentInputString.length<
a.length?this._currentInputString.length:a.length;for(d=0;d<c&&a[d]===this._currentInputString[d];d++);var e=this._currentInputString.length-d,f=a.length-d;for(c=0;c<e;c++)this.dispatchDeleteBackward();for(c=0;c<f;c++)this.dispatchInsertText(a[d+c],1);this._currentInputString=a},dispatchInsertText:function(a,c){!this.impl||!a||0>=c||this.impl._delegateWithIme&&this.impl._delegateWithIme.insertText(a,c)},dispatchDeleteBackward:function(){this.impl&&this.impl._delegateWithIme&&this.impl._delegateWithIme.deleteBackward()},
getContentText:function(){if(this.impl&&this.impl._delegateWithIme){var a=this.impl._delegateWithIme.getContentText();return a?a:""}return""},dispatchKeyboardWillShow:function(a){if(this.impl)for(var c=0;c<this.impl._delegateList.length;c++){var d=this.impl._delegateList[c];d&&d.keyboardWillShow(a)}},dispatchKeyboardDidShow:function(a){if(this.impl)for(var c=0;c<this.impl._delegateList.length;c++){var d=this.impl._delegateList[c];d&&d.keyboardDidShow(a)}},dispatchKeyboardWillHide:function(a){if(this.impl)for(var c=
0;c<this.impl._delegateList.length;c++){var d=this.impl._delegateList[c];d&&d.keyboardWillHide(a)}},dispatchKeyboardDidHide:function(a){if(this.impl)for(var c=0;c<this.impl._delegateList.length;c++){var d=this.impl._delegateList[c];d&&d.keyboardDidHide(a)}},addDelegate:function(a){a&&this.impl&&(-1<this.impl._delegateList.indexOf(a)||this.impl._delegateList.splice(0,0,a))},attachDelegateWithIME:function(a){if(!this.impl||!a||-1===this.impl._delegateList.indexOf(a))return!1;if(this.impl._delegateWithIme){if(!this.impl._delegateWithIme.canDetachWithIME()||
!a.canAttachWithIME())return!1;var c=this.impl._delegateWithIme;this.impl._delegateWithIme=null;c.didDetachWithIME();this._focusDomInput(a);return!0}if(!a.canAttachWithIME())return!1;this._focusDomInput(a);return!0},_focusDomInput:function(a){if(cc.sys.isMobile){this.impl._delegateWithIme=a;a.didAttachWithIME();this._currentInputString=a.string||"";a=a.getTipMessage?a.getTipMessage():"please enter your word:";var c=window.Window;a=c&&c.prototype.prompt&&c.prototype.prompt!=prompt?c.prototype.prompt.call(window,
a,this._currentInputString):prompt(a,this._currentInputString);null!=a&&this._processDomInputString(a);this.dispatchInsertText("\n",1)}else this.impl._delegateWithIme=a,this._currentInputString=a.string||"",a.didAttachWithIME(),this._domInputControl.focus(),this._domInputControl.value=this._currentInputString,this._domInputControlTranslate()},_domInputControlTranslate:function(){/msie/i.test(navigator.userAgent)?(this._domInputControl.style.left=this._lastClickPosition.x+"px",this._domInputControl.style.top=
this._lastClickPosition.y+"px"):this._domInputControl.translates(this._lastClickPosition.x,this._lastClickPosition.y)},detachDelegateWithIME:function(a){if(!this.impl||!a||this.impl._delegateWithIme!==a||!a.canDetachWithIME())return!1;this.impl._delegateWithIme=null;a.didDetachWithIME();cc._canvas.focus();return!0},removeDelegate:function(a){this.impl&&a&&-1!==this.impl._delegateList.indexOf(a)&&(this.impl._delegateWithIme&&a===this.impl._delegateWithIme&&(this.impl._delegateWithIme=null),cc.arrayRemoveObject(this.impl._delegateList,
a))},processKeycode:function(a){32>a?a===cc.KEY.backspace?this.dispatchDeleteBackward():a===cc.KEY.enter&&this.dispatchInsertText("\n",1):255>a&&this.dispatchInsertText(String.fromCharCode(a),1)}});cc.IMEDispatcher.Impl=cc.Class.extend({_delegateWithIme:null,_delegateList:null,ctor:function(){this._delegateList=[]},findDelegate:function(a){for(var c=0;c<this._delegateList.length;c++)if(this._delegateList[c]===a)return c;return null}});cc.imeDispatcher=new cc.IMEDispatcher;
document.body?cc.imeDispatcher.init():window.addEventListener("load",function(){cc.imeDispatcher.init()},!1);cc.TextFieldDelegate=cc.Class.extend({onTextFieldAttachWithIME:function(a){return!1},onTextFieldDetachWithIME:function(a){return!1},onTextFieldInsertText:function(a,c,d){return!1},onTextFieldDeleteBackward:function(a,c,d){return!1},onDraw:function(a){return!1}});
cc.TextFieldTTF=cc.LabelTTF.extend({delegate:null,colorSpaceHolder:null,_colorText:null,_lens:null,_inputText:"",_placeHolder:"",_charCount:0,_className:"TextFieldTTF",ctor:function(a,c,d,e,f){this.colorSpaceHolder=cc.color(127,127,127);this._colorText=cc.color(255,255,255,255);cc.LabelTTF.prototype.ctor.call(this);void 0!==f?(this.initWithPlaceHolder("",c,d,e,f),a&&this.setPlaceHolder(a)):void 0===e&&void 0!==d&&(this.initWithString("",c,d),a&&this.setPlaceHolder(a))},onEnter:function(){cc.LabelTTF.prototype.onEnter.call(this);
cc.imeDispatcher.addDelegate(this)},onExit:function(){cc.LabelTTF.prototype.onExit.call(this);cc.imeDispatcher.removeDelegate(this)},getDelegate:function(){return this.delegate},setDelegate:function(a){this.delegate=a},getCharCount:function(){return this._charCount},getColorSpaceHolder:function(){return cc.color(this.colorSpaceHolder)},setColorSpaceHolder:function(a){this.colorSpaceHolder.r=a.r;this.colorSpaceHolder.g=a.g;this.colorSpaceHolder.b=a.b;this.colorSpaceHolder.a=cc.isUndefined(a.a)?255:
a.a;this._inputText.length||this.setColor(this.colorSpaceHolder)},setTextColor:function(a){this._colorText.r=a.r;this._colorText.g=a.g;this._colorText.b=a.b;this._colorText.a=cc.isUndefined(a.a)?255:a.a;this._inputText.length&&this.setColor(this._colorText)},initWithPlaceHolder:function(a,c,d,e,f){switch(arguments.length){case 5:return a&&this.setPlaceHolder(a),this.initWithString(this._placeHolder,e,f,c,d);case 3:return a&&this.setPlaceHolder(a),this.initWithString(this._placeHolder,arguments[1],
arguments[2]);default:throw Error("Argument must be non-nil ");}},setString:function(a){this._inputText=(a=String(a))||"";this._inputText.length?(cc.LabelTTF.prototype.setString.call(this,this._inputText),this.setColor(this._colorText)):(cc.LabelTTF.prototype.setString.call(this,this._placeHolder),this.setColor(this.colorSpaceHolder));cc._renderType===cc.game.RENDER_TYPE_CANVAS&&this._renderCmd._updateTexture();this._charCount=this._inputText.length},getString:function(){return this._inputText},setPlaceHolder:function(a){this._placeHolder=
a||"";this._inputText.length||(cc.LabelTTF.prototype.setString.call(this,this._placeHolder),this.setColor(this.colorSpaceHolder))},getPlaceHolder:function(){return this._placeHolder},draw:function(a){a=a||cc._renderContext;this.delegate&&this.delegate.onDraw(this)||cc.LabelTTF.prototype.draw.call(this,a)},visit:function(a){this._super(a)},attachWithIME:function(){return cc.imeDispatcher.attachDelegateWithIME(this)},detachWithIME:function(){return cc.imeDispatcher.detachDelegateWithIME(this)},canAttachWithIME:function(){return this.delegate?
!this.delegate.onTextFieldAttachWithIME(this):!0},didAttachWithIME:function(){},canDetachWithIME:function(){return this.delegate?!this.delegate.onTextFieldDetachWithIME(this):!0},didDetachWithIME:function(){},deleteBackward:function(){var a=this._inputText.length;0===a||this.delegate&&this.delegate.onTextFieldDeleteBackward(this,this._inputText[a-1],1)||(1>=a?(this._inputText="",this._charCount=0,cc.LabelTTF.prototype.setString.call(this,this._placeHolder),this.setColor(this.colorSpaceHolder)):this.string=
this._inputText.substring(0,a-1))},removeDelegate:function(){cc.imeDispatcher.removeDelegate(this)},_tipMessage:"please enter your word:",setTipMessage:function(a){null!=a&&(this._tipMessage=a)},getTipMessage:function(){return this._tipMessage},insertText:function(a,c){var d=a,e=d.indexOf("\n");-1<e&&(d=d.substr(0,e));if(0<d.length){if(this.delegate&&this.delegate.onTextFieldInsertText(this,d,d.length))return;d=this._inputText+d;this._charCount=d.length;this.string=d}-1!==e&&(this.delegate&&this.delegate.onTextFieldInsertText(this,
"\n",1)||this.detachWithIME())},getContentText:function(){return this._inputText},keyboardWillShow:function(a){},keyboardDidShow:function(a){},keyboardWillHide:function(a){},keyboardDidHide:function(a){}});_p=cc.TextFieldTTF.prototype;cc.defineGetterSetter(_p,"charCount",_p.getCharCount);cc.defineGetterSetter(_p,"placeHolder",_p.getPlaceHolder,_p.setPlaceHolder);cc.TextFieldTTF.create=function(a,c,d,e,f){return new cc.TextFieldTTF(a,c,d,e,f)};cc.ACTION_TAG_INVALID=-1;
cc.Action=cc.Class.extend({originalTarget:null,target:null,tag:cc.ACTION_TAG_INVALID,ctor:function(){this.target=this.originalTarget=null;this.tag=cc.ACTION_TAG_INVALID},copy:function(){cc.log("copy is deprecated. Please use clone instead.");return this.clone()},clone:function(){var a=new cc.Action;a.originalTarget=null;a.target=null;a.tag=this.tag;return a},isDone:function(){return!0},startWithTarget:function(a){this.target=this.originalTarget=a},stop:function(){this.target=null},step:function(a){cc.log("[Action step]. override me")},
update:function(a){cc.log("[Action update]. override me")},getTarget:function(){return this.target},setTarget:function(a){this.target=a},getOriginalTarget:function(){return this.originalTarget},setOriginalTarget:function(a){this.originalTarget=a},getTag:function(){return this.tag},setTag:function(a){this.tag=a},retain:function(){},release:function(){}});cc.action=function(){return new cc.Action};cc.Action.create=cc.action;
cc.FiniteTimeAction=cc.Action.extend({_duration:0,ctor:function(){cc.Action.prototype.ctor.call(this);this._duration=0},getDuration:function(){return this._duration*(this._timesForRepeat||1)},setDuration:function(a){this._duration=a},reverse:function(){cc.log("cocos2d: FiniteTimeAction#reverse: Implement me");return null},clone:function(){return new cc.FiniteTimeAction}});
cc.Speed=cc.Action.extend({_speed:0,_innerAction:null,ctor:function(a,c){cc.Action.prototype.ctor.call(this);this._speed=0;this._innerAction=null;a&&this.initWithAction(a,c)},getSpeed:function(){return this._speed},setSpeed:function(a){this._speed=a},initWithAction:function(a,c){if(!a)throw Error("cc.Speed.initWithAction(): action must be non nil");this._innerAction=a;this._speed=c;return!0},clone:function(){var a=new cc.Speed;a.initWithAction(this._innerAction.clone(),this._speed);return a},startWithTarget:function(a){cc.Action.prototype.startWithTarget.call(this,
a);this._innerAction.startWithTarget(a)},stop:function(){this._innerAction.stop();cc.Action.prototype.stop.call(this)},step:function(a){this._innerAction.step(a*this._speed)},isDone:function(){return this._innerAction.isDone()},reverse:function(){return new cc.Speed(this._innerAction.reverse(),this._speed)},setInnerAction:function(a){this._innerAction!==a&&(this._innerAction=a)},getInnerAction:function(){return this._innerAction}});cc.speed=function(a,c){return new cc.Speed(a,c)};
cc.Speed.create=cc.speed;
cc.Follow=cc.Action.extend({_followedNode:null,_boundarySet:!1,_boundaryFullyCovered:!1,_halfScreenSize:null,_fullScreenSize:null,_worldRect:null,leftBoundary:0,rightBoundary:0,topBoundary:0,bottomBoundary:0,ctor:function(a,c){cc.Action.prototype.ctor.call(this);this._followedNode=null;this._boundaryFullyCovered=this._boundarySet=!1;this._fullScreenSize=this._halfScreenSize=null;this.bottomBoundary=this.topBoundary=this.rightBoundary=this.leftBoundary=0;this._worldRect=cc.rect(0,0,0,0);a&&(c?this.initWithTarget(a,
c):this.initWithTarget(a))},clone:function(){var a=new cc.Follow,c=this._worldRect,c=new cc.Rect(c.x,c.y,c.width,c.height);a.initWithTarget(this._followedNode,c);return a},isBoundarySet:function(){return this._boundarySet},setBoudarySet:function(a){this._boundarySet=a},initWithTarget:function(a,c){if(!a)throw Error("cc.Follow.initWithAction(): followedNode must be non nil");c=c||cc.rect(0,0,0,0);this._followedNode=a;this._worldRect=c;this._boundarySet=!cc._rectEqualToZero(c);this._boundaryFullyCovered=
!1;var d=cc.director.getWinSize();this._fullScreenSize=cc.p(d.width,d.height);this._halfScreenSize=cc.pMult(this._fullScreenSize,0.5);this._boundarySet&&(this.leftBoundary=-(c.x+c.width-this._fullScreenSize.x),this.rightBoundary=-c.x,this.topBoundary=-c.y,this.bottomBoundary=-(c.y+c.height-this._fullScreenSize.y),this.rightBoundary<this.leftBoundary&&(this.rightBoundary=this.leftBoundary=(this.leftBoundary+this.rightBoundary)/2),this.topBoundary<this.bottomBoundary&&(this.topBoundary=this.bottomBoundary=
(this.topBoundary+this.bottomBoundary)/2),this.topBoundary===this.bottomBoundary&&this.leftBoundary===this.rightBoundary&&(this._boundaryFullyCovered=!0));return!0},step:function(a){a=this._followedNode.x;var c=this._followedNode.y;a=this._halfScreenSize.x-a;c=this._halfScreenSize.y-c;this.target._renderCmd._dirtyFlag=0;this._boundarySet?this._boundaryFullyCovered||this.target.setPosition(cc.clampf(a,this.leftBoundary,this.rightBoundary),cc.clampf(c,this.bottomBoundary,this.topBoundary)):this.target.setPosition(a,
c)},isDone:function(){return!this._followedNode.running},stop:function(){this.target=null;cc.Action.prototype.stop.call(this)}});cc.follow=function(a,c){return new cc.Follow(a,c)};cc.Follow.create=cc.follow;cc.ActionInterval=cc.FiniteTimeAction.extend({_elapsed:0,_firstTick:!1,_easeList:null,_timesForRepeat:1,_repeatForever:!1,_repeatMethod:!1,_speed:1,_speedMethod:!1,ctor:function(a){this._timesForRepeat=this._speed=1;this._repeatForever=!1;this.MAX_VALUE=2;this._speedMethod=this._repeatMethod=!1;cc.FiniteTimeAction.prototype.ctor.call(this);void 0!==a&&this.initWithDuration(a)},getElapsed:function(){return this._elapsed},initWithDuration:function(a){this._duration=0===a?cc.FLT_EPSILON:a;this._elapsed=
0;return this._firstTick=!0},isDone:function(){return this._elapsed>=this._duration},_cloneDecoration:function(a){a._repeatForever=this._repeatForever;a._speed=this._speed;a._timesForRepeat=this._timesForRepeat;a._easeList=this._easeList;a._speedMethod=this._speedMethod;a._repeatMethod=this._repeatMethod},_reverseEaseList:function(a){if(this._easeList){a._easeList=[];for(var c=0;c<this._easeList.length;c++)a._easeList.push(this._easeList[c].reverse())}},clone:function(){var a=new cc.ActionInterval(this._duration);
this._cloneDecoration(a);return a},easing:function(a){this._easeList?this._easeList.length=0:this._easeList=[];for(var c=0;c<arguments.length;c++)this._easeList.push(arguments[c]);return this},_computeEaseTime:function(a){var c=this._easeList;if(!c||0===c.length)return a;for(var d=0,e=c.length;d<e;d++)a=c[d].easing(a);return a},step:function(a){this._firstTick?(this._firstTick=!1,this._elapsed=0):this._elapsed+=a;a=this._elapsed/(1.192092896E-7<this._duration?this._duration:1.192092896E-7);a=1>a?
a:1;this.update(0<a?a:0);this._repeatMethod&&1<this._timesForRepeat&&this.isDone()&&(this._repeatForever||this._timesForRepeat--,this.startWithTarget(this.target),this.step(this._elapsed-this._duration))},startWithTarget:function(a){cc.Action.prototype.startWithTarget.call(this,a);this._elapsed=0;this._firstTick=!0},reverse:function(){cc.log("cc.IntervalAction: reverse not implemented.");return null},setAmplitudeRate:function(a){cc.log("cc.ActionInterval.setAmplitudeRate(): it should be overridden in subclass.")},
getAmplitudeRate:function(){cc.log("cc.ActionInterval.getAmplitudeRate(): it should be overridden in subclass.");return 0},speed:function(a){if(0>=a)return cc.log("The speed parameter error"),this;this._speedMethod=!0;this._speed*=a;return this},getSpeed:function(){return this._speed},setSpeed:function(a){this._speed=a;return this},repeat:function(a){a=Math.round(a);if(isNaN(a)||1>a)return cc.log("The repeat parameter error"),this;this._repeatMethod=!0;this._timesForRepeat*=a;return this},repeatForever:function(){this._repeatMethod=
!0;this._timesForRepeat=this.MAX_VALUE;this._repeatForever=!0;return this}});cc.actionInterval=function(a){return new cc.ActionInterval(a)};cc.ActionInterval.create=cc.actionInterval;
cc.Sequence=cc.ActionInterval.extend({_actions:null,_split:null,_last:0,ctor:function(a){cc.ActionInterval.prototype.ctor.call(this);this._actions=[];var c=a instanceof Array?a:arguments,d=c.length-1;0<=d&&null==c[d]&&cc.log("parameters should not be ending with null in Javascript");if(0<=d){for(var e=c[0],f=1;f<d;f++)c[f]&&(e=cc.Sequence._actionOneTwo(e,c[f]));this.initWithTwoActions(e,c[d])}},initWithTwoActions:function(a,c){if(!a||!c)throw Error("cc.Sequence.initWithTwoActions(): arguments must all be non nil");
this.initWithDuration(a._duration+c._duration);this._actions[0]=a;this._actions[1]=c;return!0},clone:function(){var a=new cc.Sequence;this._cloneDecoration(a);a.initWithTwoActions(this._actions[0].clone(),this._actions[1].clone());return a},startWithTarget:function(a){cc.ActionInterval.prototype.startWithTarget.call(this,a);this._split=this._actions[0]._duration/this._duration;this._last=-1},stop:function(){-1!==this._last&&this._actions[this._last].stop();cc.Action.prototype.stop.call(this)},update:function(a){var c=
0,d=this._split,e=this._actions,f=this._last;a=this._computeEaseTime(a);a<d?(a=0!==d?a/d:1,0===c&&1===f&&(e[1].update(0),e[1].stop())):(c=1,a=1===d?1:(a-d)/(1-d),-1===f&&(e[0].startWithTarget(this.target),e[0].update(1),e[0].stop()),f||(e[0].update(1),e[0].stop()));e=e[c];f===c&&e.isDone()||(f!==c&&e.startWithTarget(this.target),a*=e._timesForRepeat,e.update(1<a?a%1:a),this._last=c)},reverse:function(){var a=cc.Sequence._actionOneTwo(this._actions[1].reverse(),this._actions[0].reverse());this._cloneDecoration(a);
this._reverseEaseList(a);return a}});cc.sequence=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&cc.log("parameters should not be ending with null in Javascript");for(var d,e,f,g;c&&0<c.length;)for(e=Array.prototype.shift.call(c),g=e._timesForRepeat||1,e._repeatMethod=!1,e._timesForRepeat=1,f=0,d||(d=e,f=1),f;f<g;f++)d=cc.Sequence._actionOneTwo(d,e);return d};cc.Sequence.create=cc.sequence;
cc.Sequence._actionOneTwo=function(a,c){var d=new cc.Sequence;d.initWithTwoActions(a,c);return d};
cc.Repeat=cc.ActionInterval.extend({_times:0,_total:0,_nextDt:0,_actionInstant:!1,_innerAction:null,ctor:function(a,c){cc.ActionInterval.prototype.ctor.call(this);void 0!==c&&this.initWithAction(a,c)},initWithAction:function(a,c){return this.initWithDuration(a._duration*c)?(this._times=c,this._innerAction=a,a instanceof cc.ActionInstant&&(this._actionInstant=!0,this._times-=1),this._total=0,!0):!1},clone:function(){var a=new cc.Repeat;this._cloneDecoration(a);a.initWithAction(this._innerAction.clone(),
this._times);return a},startWithTarget:function(a){this._total=0;this._nextDt=this._innerAction._duration/this._duration;cc.ActionInterval.prototype.startWithTarget.call(this,a);this._innerAction.startWithTarget(a)},stop:function(){this._innerAction.stop();cc.Action.prototype.stop.call(this)},update:function(a){a=this._computeEaseTime(a);var c=this._innerAction,d=this._duration,e=this._times,f=this._nextDt;if(a>=f){for(;a>f&&this._total<e;)c.update(1),this._total++,c.stop(),c.startWithTarget(this.target),
this._nextDt=f+=c._duration/d;1<=a&&this._total<e&&this._total++;this._actionInstant||(this._total===e?(c.update(1),c.stop()):c.update(a-(f-c._duration/d)))}else c.update(a*e%1)},isDone:function(){return this._total===this._times},reverse:function(){var a=new cc.Repeat(this._innerAction.reverse(),this._times);this._cloneDecoration(a);this._reverseEaseList(a);return a},setInnerAction:function(a){this._innerAction!==a&&(this._innerAction=a)},getInnerAction:function(){return this._innerAction}});
cc.repeat=function(a,c){return new cc.Repeat(a,c)};cc.Repeat.create=cc.repeat;
cc.RepeatForever=cc.ActionInterval.extend({_innerAction:null,ctor:function(a){cc.ActionInterval.prototype.ctor.call(this);this._innerAction=null;a&&this.initWithAction(a)},initWithAction:function(a){if(!a)throw Error("cc.RepeatForever.initWithAction(): action must be non null");this._innerAction=a;return!0},clone:function(){var a=new cc.RepeatForever;this._cloneDecoration(a);a.initWithAction(this._innerAction.clone());return a},startWithTarget:function(a){cc.ActionInterval.prototype.startWithTarget.call(this,
a);this._innerAction.startWithTarget(a)},step:function(a){var c=this._innerAction;c.step(a);c.isDone()&&(c.startWithTarget(this.target),c.step(c.getElapsed()-c._duration))},isDone:function(){return!1},reverse:function(){var a=new cc.RepeatForever(this._innerAction.reverse());this._cloneDecoration(a);this._reverseEaseList(a);return a},setInnerAction:function(a){this._innerAction!==a&&(this._innerAction=a)},getInnerAction:function(){return this._innerAction}});cc.repeatForever=function(a){return new cc.RepeatForever(a)};
cc.RepeatForever.create=cc.repeatForever;
cc.Spawn=cc.ActionInterval.extend({_one:null,_two:null,ctor:function(a){cc.ActionInterval.prototype.ctor.call(this);this._two=this._one=null;var c=a instanceof Array?a:arguments,d=c.length-1;0<=d&&null==c[d]&&cc.log("parameters should not be ending with null in Javascript");if(0<=d){for(var e=c[0],f=1;f<d;f++)c[f]&&(e=cc.Spawn._actionOneTwo(e,c[f]));this.initWithTwoActions(e,c[d])}},initWithTwoActions:function(a,c){if(!a||!c)throw Error("cc.Spawn.initWithTwoActions(): arguments must all be non null");var d=
!1,e=a._duration,f=c._duration;this.initWithDuration(Math.max(e,f))&&(this._one=a,this._two=c,e>f?this._two=cc.Sequence._actionOneTwo(c,cc.delayTime(e-f)):e<f&&(this._one=cc.Sequence._actionOneTwo(a,cc.delayTime(f-e))),d=!0);return d},clone:function(){var a=new cc.Spawn;this._cloneDecoration(a);a.initWithTwoActions(this._one.clone(),this._two.clone());return a},startWithTarget:function(a){cc.ActionInterval.prototype.startWithTarget.call(this,a);this._one.startWithTarget(a);this._two.startWithTarget(a)},
stop:function(){this._one.stop();this._two.stop();cc.Action.prototype.stop.call(this)},update:function(a){a=this._computeEaseTime(a);this._one&&this._one.update(a);this._two&&this._two.update(a)},reverse:function(){var a=cc.Spawn._actionOneTwo(this._one.reverse(),this._two.reverse());this._cloneDecoration(a);this._reverseEaseList(a);return a}});
cc.spawn=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&cc.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)null!=c[e]&&(d=cc.Spawn._actionOneTwo(d,c[e]));return d};cc.Spawn.create=cc.spawn;cc.Spawn._actionOneTwo=function(a,c){var d=new cc.Spawn;d.initWithTwoActions(a,c);return d};
cc.RotateTo=cc.ActionInterval.extend({_dstAngleX:0,_startAngleX:0,_diffAngleX:0,_dstAngleY:0,_startAngleY:0,_diffAngleY:0,ctor:function(a,c,d){cc.ActionInterval.prototype.ctor.call(this);void 0!==c&&this.initWithDuration(a,c,d)},initWithDuration:function(a,c,d){return cc.ActionInterval.prototype.initWithDuration.call(this,a)?(this._dstAngleX=c||0,this._dstAngleY=d||this._dstAngleX,!0):!1},clone:function(){var a=new cc.RotateTo;this._cloneDecoration(a);a.initWithDuration(this._duration,this._dstAngleX,
this._dstAngleY);return a},startWithTarget:function(a){cc.ActionInterval.prototype.startWithTarget.call(this,a);var c=a.rotationX%360,d=this._dstAngleX-c;180<d&&(d-=360);-180>d&&(d+=360);this._startAngleX=c;this._diffAngleX=d;this._startAngleY=a.rotationY%360;a=this._dstAngleY-this._startAngleY;180<a&&(a-=360);-180>a&&(a+=360);this._diffAngleY=a},reverse:function(){cc.log("cc.RotateTo.reverse(): it should be overridden in subclass.")},update:function(a){a=this._computeEaseTime(a);this.target&&(this.target.rotationX=
this._startAngleX+this._diffAngleX*a,this.target.rotationY=this._startAngleY+this._diffAngleY*a)}});cc.rotateTo=function(a,c,d){return new cc.RotateTo(a,c,d)};cc.RotateTo.create=cc.rotateTo;
cc.RotateBy=cc.ActionInterval.extend({_angleX:0,_startAngleX:0,_angleY:0,_startAngleY:0,ctor:function(a,c,d){cc.ActionInterval.prototype.ctor.call(this);void 0!==c&&this.initWithDuration(a,c,d)},initWithDuration:function(a,c,d){return cc.ActionInterval.prototype.initWithDuration.call(this,a)?(this._angleX=c||0,this._angleY=d||this._angleX,!0):!1},clone:function(){var a=new cc.RotateBy;this._cloneDecoration(a);a.initWithDuration(this._duration,this._angleX,this._angleY);return a},startWithTarget:function(a){cc.ActionInterval.prototype.startWithTarget.call(this,
a);this._startAngleX=a.rotationX;this._startAngleY=a.rotationY},update:function(a){a=this._computeEaseTime(a);this.target&&(this.target.rotationX=this._startAngleX+this._angleX*a,this.target.rotationY=this._startAngleY+this._angleY*a)},reverse:function(){var a=new cc.RotateBy(this._duration,-this._angleX,-this._angleY);this._cloneDecoration(a);this._reverseEaseList(a);return a}});cc.rotateBy=function(a,c,d){return new cc.RotateBy(a,c,d)};cc.RotateBy.create=cc.rotateBy;
cc.MoveBy=cc.ActionInterval.extend({_positionDelta:null,_startPosition:null,_previousPosition:null,ctor:function(a,c,d){cc.ActionInterval.prototype.ctor.call(this);this._positionDelta=cc.p(0,0);this._startPosition=cc.p(0,0);this._previousPosition=cc.p(0,0);void 0!==c&&this.initWithDuration(a,c,d)},initWithDuration:function(a,c,d){return cc.ActionInterval.prototype.initWithDuration.call(this,a)?(void 0!==c.x&&(d=c.y,c=c.x),this._positionDelta.x=c,this._positionDelta.y=d,!0):!1},clone:function(){var a=
new cc.MoveBy;this._cloneDecoration(a);a.initWithDuration(this._duration,this._positionDelta);return a},startWithTarget:function(a){cc.ActionInterval.prototype.startWithTarget.call(this,a);var c=a.getPositionX();a=a.getPositionY();this._previousPosition.x=c;this._previousPosition.y=a;this._startPosition.x=c;this._startPosition.y=a},update:function(a){a=this._computeEaseTime(a);if(this.target){var c=this._positionDelta.x*a;a*=this._positionDelta.y;var d=this._startPosition;if(cc.ENABLE_STACKABLE_ACTIONS){var e=
this.target.getPositionX(),f=this.target.getPositionY(),g=this._previousPosition;d.x=d.x+e-g.x;d.y=d.y+f-g.y;c+=d.x;a+=d.y;g.x=c;g.y=a;this.target.setPosition(c,a)}else this.target.setPosition(d.x+c,d.y+a)}},reverse:function(){var a=new cc.MoveBy(this._duration,cc.p(-this._positionDelta.x,-this._positionDelta.y));this._cloneDecoration(a);this._reverseEaseList(a);return a}});cc.moveBy=function(a,c,d){return new cc.MoveBy(a,c,d)};cc.MoveBy.create=cc.moveBy;
cc.MoveTo=cc.MoveBy.extend({_endPosition:null,ctor:function(a,c,d){cc.MoveBy.prototype.ctor.call(this);this._endPosition=cc.p(0,0);void 0!==c&&this.initWithDuration(a,c,d)},initWithDuration:function(a,c,d){return cc.MoveBy.prototype.initWithDuration.call(this,a,c,d)?(void 0!==c.x&&(d=c.y,c=c.x),this._endPosition.x=c,this._endPosition.y=d,!0):!1},clone:function(){var a=new cc.MoveTo;this._cloneDecoration(a);a.initWithDuration(this._duration,this._endPosition);return a},startWithTarget:function(a){cc.MoveBy.prototype.startWithTarget.call(this,
a);this._positionDelta.x=this._endPosition.x-a.getPositionX();this._positionDelta.y=this._endPosition.y-a.getPositionY()}});cc.moveTo=function(a,c,d){return new cc.MoveTo(a,c,d)};cc.MoveTo.create=cc.moveTo;
cc.SkewTo=cc.ActionInterval.extend({_skewX:0,_skewY:0,_startSkewX:0,_startSkewY:0,_endSkewX:0,_endSkewY:0,_deltaX:0,_deltaY:0,ctor:function(a,c,d){cc.ActionInterval.prototype.ctor.call(this);void 0!==d&&this.initWithDuration(a,c,d)},initWithDuration:function(a,c,d){var e=!1;cc.ActionInterval.prototype.initWithDuration.call(this,a)&&(this._endSkewX=c,this._endSkewY=d,e=!0);return e},clone:function(){var a=new cc.SkewTo;this._cloneDecoration(a);a.initWithDuration(this._duration,this._endSkewX,this._endSkewY);
return a},startWithTarget:function(a){cc.ActionInterval.prototype.startWithTarget.call(this,a);this._startSkewX=a.skewX%180;this._deltaX=this._endSkewX-this._startSkewX;180<this._deltaX&&(this._deltaX-=360);-180>this._deltaX&&(this._deltaX+=360);this._startSkewY=a.skewY%360;this._deltaY=this._endSkewY-this._startSkewY;180<this._deltaY&&(this._deltaY-=360);-180>this._deltaY&&(this._deltaY+=360)},update:function(a){a=this._computeEaseTime(a);this.target.skewX=this._startSkewX+this._deltaX*a;this.target.skewY=
this._startSkewY+this._deltaY*a}});cc.skewTo=function(a,c,d){return new cc.SkewTo(a,c,d)};cc.SkewTo.create=cc.skewTo;
cc.SkewBy=cc.SkewTo.extend({ctor:function(a,c,d){cc.SkewTo.prototype.ctor.call(this);void 0!==d&&this.initWithDuration(a,c,d)},initWithDuration:function(a,c,d){var e=!1;cc.SkewTo.prototype.initWithDuration.call(this,a,c,d)&&(this._skewX=c,this._skewY=d,e=!0);return e},clone:function(){var a=new cc.SkewBy;this._cloneDecoration(a);a.initWithDuration(this._duration,this._skewX,this._skewY);return a},startWithTarget:function(a){cc.SkewTo.prototype.startWithTarget.call(this,a);this._deltaX=this._skewX;
this._deltaY=this._skewY;this._endSkewX=this._startSkewX+this._deltaX;this._endSkewY=this._startSkewY+this._deltaY},reverse:function(){var a=new cc.SkewBy(this._duration,-this._skewX,-this._skewY);this._cloneDecoration(a);this._reverseEaseList(a);return a}});cc.skewBy=function(a,c,d){return new cc.SkewBy(a,c,d)};cc.SkewBy.create=cc.skewBy;
cc.JumpBy=cc.ActionInterval.extend({_startPosition:null,_delta:null,_height:0,_jumps:0,_previousPosition:null,ctor:function(a,c,d,e,f){cc.ActionInterval.prototype.ctor.call(this);this._startPosition=cc.p(0,0);this._previousPosition=cc.p(0,0);this._delta=cc.p(0,0);void 0!==e&&this.initWithDuration(a,c,d,e,f)},initWithDuration:function(a,c,d,e,f){return cc.ActionInterval.prototype.initWithDuration.call(this,a)?(void 0===f&&(f=e,e=d,d=c.y,c=c.x),this._delta.x=c,this._delta.y=d,this._height=e,this._jumps=
f,!0):!1},clone:function(){var a=new cc.JumpBy;this._cloneDecoration(a);a.initWithDuration(this._duration,this._delta,this._height,this._jumps);return a},startWithTarget:function(a){cc.ActionInterval.prototype.startWithTarget.call(this,a);var c=a.getPositionX();a=a.getPositionY();this._previousPosition.x=c;this._previousPosition.y=a;this._startPosition.x=c;this._startPosition.y=a},update:function(a){a=this._computeEaseTime(a);if(this.target){var c=a*this._jumps%1,c=4*this._height*c*(1-c),c=c+this._delta.y*
a;a*=this._delta.x;var d=this._startPosition;if(cc.ENABLE_STACKABLE_ACTIONS){var e=this.target.getPositionX(),f=this.target.getPositionY(),g=this._previousPosition;d.x=d.x+e-g.x;d.y=d.y+f-g.y;a+=d.x;c+=d.y;g.x=a;g.y=c;this.target.setPosition(a,c)}else this.target.setPosition(d.x+a,d.y+c)}},reverse:function(){var a=new cc.JumpBy(this._duration,cc.p(-this._delta.x,-this._delta.y),this._height,this._jumps);this._cloneDecoration(a);this._reverseEaseList(a);return a}});
cc.jumpBy=function(a,c,d,e,f){return new cc.JumpBy(a,c,d,e,f)};cc.JumpBy.create=cc.jumpBy;
cc.JumpTo=cc.JumpBy.extend({_endPosition:null,ctor:function(a,c,d,e,f){cc.JumpBy.prototype.ctor.call(this);this._endPosition=cc.p(0,0);void 0!==e&&this.initWithDuration(a,c,d,e,f)},initWithDuration:function(a,c,d,e,f){return cc.JumpBy.prototype.initWithDuration.call(this,a,c,d,e,f)?(void 0===f&&(d=c.y,c=c.x),this._endPosition.x=c,this._endPosition.y=d,!0):!1},startWithTarget:function(a){cc.JumpBy.prototype.startWithTarget.call(this,a);this._delta.x=this._endPosition.x-this._startPosition.x;this._delta.y=
this._endPosition.y-this._startPosition.y},clone:function(){var a=new cc.JumpTo;this._cloneDecoration(a);a.initWithDuration(this._duration,this._endPosition,this._height,this._jumps);return a}});cc.jumpTo=function(a,c,d,e,f){return new cc.JumpTo(a,c,d,e,f)};cc.JumpTo.create=cc.jumpTo;cc.bezierAt=function(a,c,d,e,f){return Math.pow(1-f,3)*a+3*f*Math.pow(1-f,2)*c+3*Math.pow(f,2)*(1-f)*d+Math.pow(f,3)*e};
cc.BezierBy=cc.ActionInterval.extend({_config:null,_startPosition:null,_previousPosition:null,ctor:function(a,c){cc.ActionInterval.prototype.ctor.call(this);this._config=[];this._startPosition=cc.p(0,0);this._previousPosition=cc.p(0,0);c&&this.initWithDuration(a,c)},initWithDuration:function(a,c){return cc.ActionInterval.prototype.initWithDuration.call(this,a)?(this._config=c,!0):!1},clone:function(){var a=new cc.BezierBy;this._cloneDecoration(a);for(var c=[],d=0;d<this._config.length;d++){var e=
this._config[d];c.push(cc.p(e.x,e.y))}a.initWithDuration(this._duration,c);return a},startWithTarget:function(a){cc.ActionInterval.prototype.startWithTarget.call(this,a);var c=a.getPositionX();a=a.getPositionY();this._previousPosition.x=c;this._previousPosition.y=a;this._startPosition.x=c;this._startPosition.y=a},update:function(a){a=this._computeEaseTime(a);if(this.target){var c=this._config,d=c[0].y,e=c[1].y,f=c[2].y,c=cc.bezierAt(0,c[0].x,c[1].x,c[2].x,a);a=cc.bezierAt(0,d,e,f,a);d=this._startPosition;
if(cc.ENABLE_STACKABLE_ACTIONS){var e=this.target.getPositionX(),f=this.target.getPositionY(),g=this._previousPosition;d.x=d.x+e-g.x;d.y=d.y+f-g.y;c+=d.x;a+=d.y;g.x=c;g.y=a;this.target.setPosition(c,a)}else this.target.setPosition(d.x+c,d.y+a)}},reverse:function(){var a=this._config,a=[cc.pAdd(a[1],cc.pNeg(a[2])),cc.pAdd(a[0],cc.pNeg(a[2])),cc.pNeg(a[2])],a=new cc.BezierBy(this._duration,a);this._cloneDecoration(a);this._reverseEaseList(a);return a}});
cc.bezierBy=function(a,c){return new cc.BezierBy(a,c)};cc.BezierBy.create=cc.bezierBy;
cc.BezierTo=cc.BezierBy.extend({_toConfig:null,ctor:function(a,c){cc.BezierBy.prototype.ctor.call(this);this._toConfig=[];c&&this.initWithDuration(a,c)},initWithDuration:function(a,c){return cc.ActionInterval.prototype.initWithDuration.call(this,a)?(this._toConfig=c,!0):!1},clone:function(){var a=new cc.BezierTo;this._cloneDecoration(a);a.initWithDuration(this._duration,this._toConfig);return a},startWithTarget:function(a){cc.BezierBy.prototype.startWithTarget.call(this,a);a=this._startPosition;var c=
this._toConfig,d=this._config;d[0]=cc.pSub(c[0],a);d[1]=cc.pSub(c[1],a);d[2]=cc.pSub(c[2],a)}});cc.bezierTo=function(a,c){return new cc.BezierTo(a,c)};cc.BezierTo.create=cc.bezierTo;
cc.ScaleTo=cc.ActionInterval.extend({_scaleX:1,_scaleY:1,_startScaleX:1,_startScaleY:1,_endScaleX:0,_endScaleY:0,_deltaX:0,_deltaY:0,ctor:function(a,c,d){cc.ActionInterval.prototype.ctor.call(this);void 0!==c&&this.initWithDuration(a,c,d)},initWithDuration:function(a,c,d){return cc.ActionInterval.prototype.initWithDuration.call(this,a)?(this._endScaleX=c,this._endScaleY=null!=d?d:c,!0):!1},clone:function(){var a=new cc.ScaleTo;this._cloneDecoration(a);a.initWithDuration(this._duration,this._endScaleX,
this._endScaleY);return a},startWithTarget:function(a){cc.ActionInterval.prototype.startWithTarget.call(this,a);this._startScaleX=a.scaleX;this._startScaleY=a.scaleY;this._deltaX=this._endScaleX-this._startScaleX;this._deltaY=this._endScaleY-this._startScaleY},update:function(a){a=this._computeEaseTime(a);this.target&&(this.target.scaleX=this._startScaleX+this._deltaX*a,this.target.scaleY=this._startScaleY+this._deltaY*a)}});cc.scaleTo=function(a,c,d){return new cc.ScaleTo(a,c,d)};
cc.ScaleTo.create=cc.scaleTo;
cc.ScaleBy=cc.ScaleTo.extend({startWithTarget:function(a){cc.ScaleTo.prototype.startWithTarget.call(this,a);this._deltaX=this._startScaleX*this._endScaleX-this._startScaleX;this._deltaY=this._startScaleY*this._endScaleY-this._startScaleY},reverse:function(){var a=new cc.ScaleBy(this._duration,1/this._endScaleX,1/this._endScaleY);this._cloneDecoration(a);this._reverseEaseList(a);return a},clone:function(){var a=new cc.ScaleBy;this._cloneDecoration(a);a.initWithDuration(this._duration,this._endScaleX,
this._endScaleY);return a}});cc.scaleBy=function(a,c,d){return new cc.ScaleBy(a,c,d)};cc.ScaleBy.create=cc.scaleBy;
cc.Blink=cc.ActionInterval.extend({_times:0,_originalState:!1,ctor:function(a,c){cc.ActionInterval.prototype.ctor.call(this);void 0!==c&&this.initWithDuration(a,c)},initWithDuration:function(a,c){return cc.ActionInterval.prototype.initWithDuration.call(this,a)?(this._times=c,!0):!1},clone:function(){var a=new cc.Blink;this._cloneDecoration(a);a.initWithDuration(this._duration,this._times);return a},update:function(a){a=this._computeEaseTime(a);if(this.target&&!this.isDone()){var c=1/this._times;this.target.visible=
a%c>c/2}},startWithTarget:function(a){cc.ActionInterval.prototype.startWithTarget.call(this,a);this._originalState=a.visible},stop:function(){this.target.visible=this._originalState;cc.ActionInterval.prototype.stop.call(this)},reverse:function(){var a=new cc.Blink(this._duration,this._times);this._cloneDecoration(a);this._reverseEaseList(a);return a}});cc.blink=function(a,c){return new cc.Blink(a,c)};cc.Blink.create=cc.blink;
cc.FadeTo=cc.ActionInterval.extend({_toOpacity:0,_fromOpacity:0,ctor:function(a,c){cc.ActionInterval.prototype.ctor.call(this);void 0!==c&&this.initWithDuration(a,c)},initWithDuration:function(a,c){return cc.ActionInterval.prototype.initWithDuration.call(this,a)?(this._toOpacity=c,!0):!1},clone:function(){var a=new cc.FadeTo;this._cloneDecoration(a);a.initWithDuration(this._duration,this._toOpacity);return a},update:function(a){a=this._computeEaseTime(a);var c=void 0!==this._fromOpacity?this._fromOpacity:
255;this.target.opacity=c+(this._toOpacity-c)*a},startWithTarget:function(a){cc.ActionInterval.prototype.startWithTarget.call(this,a);this._fromOpacity=a.opacity}});cc.fadeTo=function(a,c){return new cc.FadeTo(a,c)};cc.FadeTo.create=cc.fadeTo;
cc.FadeIn=cc.FadeTo.extend({_reverseAction:null,ctor:function(a){cc.FadeTo.prototype.ctor.call(this);null==a&&(a=0);this.initWithDuration(a,255)},reverse:function(){var a=new cc.FadeOut;a.initWithDuration(this._duration,0);this._cloneDecoration(a);this._reverseEaseList(a);return a},clone:function(){var a=new cc.FadeIn;this._cloneDecoration(a);a.initWithDuration(this._duration,this._toOpacity);return a},startWithTarget:function(a){this._reverseAction&&(this._toOpacity=this._reverseAction._fromOpacity);
cc.FadeTo.prototype.startWithTarget.call(this,a)}});cc.fadeIn=function(a){return new cc.FadeIn(a)};cc.FadeIn.create=cc.fadeIn;
cc.FadeOut=cc.FadeTo.extend({ctor:function(a){cc.FadeTo.prototype.ctor.call(this);null==a&&(a=0);this.initWithDuration(a,0)},reverse:function(){var a=new cc.FadeIn;a._reverseAction=this;a.initWithDuration(this._duration,255);this._cloneDecoration(a);this._reverseEaseList(a);return a},clone:function(){var a=new cc.FadeOut;this._cloneDecoration(a);a.initWithDuration(this._duration,this._toOpacity);return a}});cc.fadeOut=function(a){return new cc.FadeOut(a)};cc.FadeOut.create=cc.fadeOut;
cc.TintTo=cc.ActionInterval.extend({_to:null,_from:null,ctor:function(a,c,d,e){cc.ActionInterval.prototype.ctor.call(this);this._to=cc.color(0,0,0);this._from=cc.color(0,0,0);void 0!==e&&this.initWithDuration(a,c,d,e)},initWithDuration:function(a,c,d,e){return cc.ActionInterval.prototype.initWithDuration.call(this,a)?(this._to=cc.color(c,d,e),!0):!1},clone:function(){var a=new cc.TintTo;this._cloneDecoration(a);var c=this._to;a.initWithDuration(this._duration,c.r,c.g,c.b);return a},startWithTarget:function(a){cc.ActionInterval.prototype.startWithTarget.call(this,
a);this._from=this.target.color},update:function(a){a=this._computeEaseTime(a);var c=this._from,d=this._to;c&&this.target.setColor(cc.color(c.r+(d.r-c.r)*a,c.g+(d.g-c.g)*a,c.b+(d.b-c.b)*a))}});cc.tintTo=function(a,c,d,e){return new cc.TintTo(a,c,d,e)};cc.TintTo.create=cc.tintTo;
cc.TintBy=cc.ActionInterval.extend({_deltaR:0,_deltaG:0,_deltaB:0,_fromR:0,_fromG:0,_fromB:0,ctor:function(a,c,d,e){cc.ActionInterval.prototype.ctor.call(this);void 0!==e&&this.initWithDuration(a,c,d,e)},initWithDuration:function(a,c,d,e){return cc.ActionInterval.prototype.initWithDuration.call(this,a)?(this._deltaR=c,this._deltaG=d,this._deltaB=e,!0):!1},clone:function(){var a=new cc.TintBy;this._cloneDecoration(a);a.initWithDuration(this._duration,this._deltaR,this._deltaG,this._deltaB);return a},
startWithTarget:function(a){cc.ActionInterval.prototype.startWithTarget.call(this,a);a=a.color;this._fromR=a.r;this._fromG=a.g;this._fromB=a.b},update:function(a){a=this._computeEaseTime(a);this.target.color=cc.color(this._fromR+this._deltaR*a,this._fromG+this._deltaG*a,this._fromB+this._deltaB*a)},reverse:function(){var a=new cc.TintBy(this._duration,-this._deltaR,-this._deltaG,-this._deltaB);this._cloneDecoration(a);this._reverseEaseList(a);return a}});
cc.tintBy=function(a,c,d,e){return new cc.TintBy(a,c,d,e)};cc.TintBy.create=cc.tintBy;cc.DelayTime=cc.ActionInterval.extend({update:function(a){},reverse:function(){var a=new cc.DelayTime(this._duration);this._cloneDecoration(a);this._reverseEaseList(a);return a},clone:function(){var a=new cc.DelayTime;this._cloneDecoration(a);a.initWithDuration(this._duration);return a}});cc.delayTime=function(a){return new cc.DelayTime(a)};cc.DelayTime.create=cc.delayTime;
cc.ReverseTime=cc.ActionInterval.extend({_other:null,ctor:function(a){cc.ActionInterval.prototype.ctor.call(this);this._other=null;a&&this.initWithAction(a)},initWithAction:function(a){if(!a)throw Error("cc.ReverseTime.initWithAction(): action must be non null");if(a===this._other)throw Error("cc.ReverseTime.initWithAction(): the action was already passed in.");return cc.ActionInterval.prototype.initWithDuration.call(this,a._duration)?(this._other=a,!0):!1},clone:function(){var a=new cc.ReverseTime;
this._cloneDecoration(a);a.initWithAction(this._other.clone());return a},startWithTarget:function(a){cc.ActionInterval.prototype.startWithTarget.call(this,a);this._other.startWithTarget(a)},update:function(a){a=this._computeEaseTime(a);this._other&&this._other.update(1-a)},reverse:function(){return this._other.clone()},stop:function(){this._other.stop();cc.Action.prototype.stop.call(this)}});cc.reverseTime=function(a){return new cc.ReverseTime(a)};cc.ReverseTime.create=cc.reverseTime;
cc.Animate=cc.ActionInterval.extend({_animation:null,_nextFrame:0,_origFrame:null,_executedLoops:0,_splitTimes:null,_currFrameIndex:0,ctor:function(a){cc.ActionInterval.prototype.ctor.call(this);this._splitTimes=[];a&&this.initWithAnimation(a)},getAnimation:function(){return this._animation},setAnimation:function(a){this._animation=a},getCurrentFrameIndex:function(){return this._currFrameIndex},initWithAnimation:function(a){if(!a)throw Error("cc.Animate.initWithAnimation(): animation must be non-NULL");
var c=a.getDuration();if(this.initWithDuration(c*a.getLoops())){this._nextFrame=0;this.setAnimation(a);this._origFrame=null;this._executedLoops=0;var d=this._splitTimes,e=d.length=0,f=c/a.getTotalDelayUnits();a=a.getFrames();cc.arrayVerifyType(a,cc.AnimationFrame);for(var g=0;g<a.length;g++){var h=e*f/c,e=e+a[g].getDelayUnits();d.push(h)}return!0}return!1},clone:function(){var a=new cc.Animate;this._cloneDecoration(a);a.initWithAnimation(this._animation.clone());return a},startWithTarget:function(a){cc.ActionInterval.prototype.startWithTarget.call(this,
a);this._animation.getRestoreOriginalFrame()&&(this._origFrame=a.displayFrame());this._executedLoops=this._nextFrame=0},update:function(a){a=this._computeEaseTime(a);1>a&&(a*=this._animation.getLoops(),(0|a)>this._executedLoops&&(this._nextFrame=0,this._executedLoops++),a%=1);for(var c=this._animation.getFrames(),d=c.length,e=this._splitTimes,f=this._nextFrame;f<d;f++)if(e[f]<=a)_currFrameIndex=f,this.target.setSpriteFrame(c[_currFrameIndex].getSpriteFrame()),this._nextFrame=f+1;else break},reverse:function(){var a=
this._animation,c=a.getFrames(),d=[];cc.arrayVerifyType(c,cc.AnimationFrame);if(0<c.length)for(var e=c.length-1;0<=e;e--){var f=c[e];if(!f)break;d.push(f.clone())}c=new cc.Animation(d,a.getDelayPerUnit(),a.getLoops());c.setRestoreOriginalFrame(a.getRestoreOriginalFrame());a=new cc.Animate(c);this._cloneDecoration(a);this._reverseEaseList(a);return a},stop:function(){this._animation.getRestoreOriginalFrame()&&this.target&&this.target.setSpriteFrame(this._origFrame);cc.Action.prototype.stop.call(this)}});
cc.animate=function(a){return new cc.Animate(a)};cc.Animate.create=cc.animate;
cc.TargetedAction=cc.ActionInterval.extend({_action:null,_forcedTarget:null,ctor:function(a,c){cc.ActionInterval.prototype.ctor.call(this);c&&this.initWithTarget(a,c)},initWithTarget:function(a,c){return this.initWithDuration(c._duration)?(this._forcedTarget=a,this._action=c,!0):!1},clone:function(){var a=new cc.TargetedAction;this._cloneDecoration(a);a.initWithTarget(this._forcedTarget,this._action.clone());return a},startWithTarget:function(a){cc.ActionInterval.prototype.startWithTarget.call(this,a);
this._action.startWithTarget(this._forcedTarget)},stop:function(){this._action.stop()},update:function(a){a=this._computeEaseTime(a);this._action.update(a)},getForcedTarget:function(){return this._forcedTarget},setForcedTarget:function(a){this._forcedTarget!==a&&(this._forcedTarget=a)}});cc.targetedAction=function(a,c){return new cc.TargetedAction(a,c)};cc.TargetedAction.create=cc.targetedAction;
cc.SizeTo=cc.ActionInterval.extend({m_fDstSize:null,m_fStartSize:null,ctor:function(a,c,d){cc.ActionInterval.prototype.ctor.call(this);this.m_fDstSize=cc.size(0,0);this.m_fStartSize=cc.size(0,0);this.initWithSize(a,c,d)},initWithSize:function(a,c,d){return this.initWithDuration(a)?(this.m_fDstSize.width=c,this.m_fDstSize.height=d,!0):!1},startWithTarget:function(a){cc.Action.prototype.startWithTarget.call(this,a);this.m_fStartSize=a.getContentSize()},update:function(a){a=this._computeEaseTime(a);
this.target&&this.target.setContentSize(cc.size(this.m_fStartSize.width+(this.m_fDstSize.width-this.m_fStartSize.width)*a,this.m_fStartSize.height+(this.m_fDstSize.height-this.m_fStartSize.height)*a))},clone:function(){var a=new cc.SizeTo;a.initWithSize(this._duration,this.m_fDstSize.width,this.m_fDstSize.height);return a}});cc.sizeTo=function(a,c,d){return new cc.SizeTo(a,c,d)};cc.SizeTo.create=cc.sizeTo;cc.ActionInstant=cc.FiniteTimeAction.extend({isDone:function(){return!0},step:function(a){this.update(1)},update:function(a){},reverse:function(){return this.clone()},clone:function(){return new cc.ActionInstant}});cc.Show=cc.ActionInstant.extend({update:function(a){this.target.visible=!0},reverse:function(){return new cc.Hide},clone:function(){return new cc.Show}});cc.show=function(){return new cc.Show};cc.Show.create=cc.show;
cc.Hide=cc.ActionInstant.extend({isRelease:!1,ctor:function(a){cc.ActionInstant.prototype.ctor.call(this);this.isRelease=a},update:function(a){this.target.visible=!1;this.isRelease&&this.target.removeFromParent()},reverse:function(){return new cc.Show},clone:function(){return new cc.Hide}});cc.hide=function(a){return new cc.Hide(a)};cc.Hide.create=cc.hide;
cc.ToggleVisibility=cc.ActionInstant.extend({update:function(a){this.target.visible=!this.target.visible},reverse:function(){return new cc.ToggleVisibility},clone:function(){return new cc.ToggleVisibility}});cc.toggleVisibility=function(){return new cc.ToggleVisibility};cc.ToggleVisibility.create=cc.toggleVisibility;
cc.RemoveSelf=cc.ActionInstant.extend({_isNeedCleanUp:!0,ctor:function(a){cc.FiniteTimeAction.prototype.ctor.call(this);void 0!==a&&this.init(a)},update:function(a){this.target.removeFromParent(this._isNeedCleanUp)},init:function(a){this._isNeedCleanUp=a;return!0},reverse:function(){return new cc.RemoveSelf(this._isNeedCleanUp)},clone:function(){return new cc.RemoveSelf(this._isNeedCleanUp)}});cc.removeSelf=function(a){return new cc.RemoveSelf(a)};cc.RemoveSelf.create=cc.removeSelf;
cc.FlipX=cc.ActionInstant.extend({_flippedX:!1,ctor:function(a){cc.FiniteTimeAction.prototype.ctor.call(this);this._flippedX=!1;void 0!==a&&this.initWithFlipX(a)},initWithFlipX:function(a){this._flippedX=a;return!0},update:function(a){this.target.flippedX=this._flippedX},reverse:function(){return new cc.FlipX(!this._flippedX)},clone:function(){var a=new cc.FlipX;a.initWithFlipX(this._flippedX);return a}});cc.flipX=function(a){return new cc.FlipX(a)};cc.FlipX.create=cc.flipX;
cc.FlipY=cc.ActionInstant.extend({_flippedY:!1,ctor:function(a){cc.FiniteTimeAction.prototype.ctor.call(this);this._flippedY=!1;void 0!==a&&this.initWithFlipY(a)},initWithFlipY:function(a){this._flippedY=a;return!0},update:function(a){this.target.flippedY=this._flippedY},reverse:function(){return new cc.FlipY(!this._flippedY)},clone:function(){var a=new cc.FlipY;a.initWithFlipY(this._flippedY);return a}});cc.flipY=function(a){return new cc.FlipY(a)};cc.FlipY.create=cc.flipY;
cc.Place=cc.ActionInstant.extend({_x:0,_y:0,ctor:function(a,c){cc.FiniteTimeAction.prototype.ctor.call(this);this._y=this._x=0;void 0!==a&&(void 0!==a.x&&(c=a.y,a=a.x),this.initWithPosition(a,c))},initWithPosition:function(a,c){this._x=a;this._y=c;return!0},update:function(a){this.target.setPosition(this._x,this._y)},clone:function(){var a=new cc.Place;a.initWithPosition(this._x,this._y);return a}});cc.place=function(a,c){return new cc.Place(a,c)};cc.Place.create=cc.place;
cc.CallFunc=cc.ActionInstant.extend({_selectorTarget:null,_function:null,_data:null,ctor:function(a,c,d){cc.FiniteTimeAction.prototype.ctor.call(this);this.initWithFunction(a,c,d)},initWithFunction:function(a,c,d){a&&(this._function=a);c&&(this._selectorTarget=c);void 0!==d&&(this._data=d);return!0},execute:function(){this._function&&this._function.call(this._selectorTarget,this.target,this._data)},update:function(a){this.execute()},getTargetCallback:function(){return this._selectorTarget},setTargetCallback:function(a){a!==
this._selectorTarget&&(this._selectorTarget&&(this._selectorTarget=null),this._selectorTarget=a)},clone:function(){var a=new cc.CallFunc;a.initWithFunction(this._function,this._selectorTarget,this._data);return a}});cc.callFunc=function(a,c,d){return new cc.CallFunc(a,c,d)};cc.CallFunc.create=cc.callFunc;cc.ReZorder=cc.ActionInstant.extend({m_zOrder:0,initWithZorder:function(a){this.m_zOrder=a;return!0},update:function(a){this.target.setZOrder(this.m_zOrder)}});
cc.reZorder=function(a){var c=new cc.ReZorder;c.initWithZorder(a);return c};cc.ReZorder.create=cc.reZorder;cc.ActionEase=cc.ActionInterval.extend({_inner:null,ctor:function(a){cc.ActionInterval.prototype.ctor.call(this);a&&this.initWithAction(a)},initWithAction:function(a){if(!a)throw Error("cc.ActionEase.initWithAction(): action must be non nil");return this.initWithDuration(a.getDuration())?(this._inner=a,!0):!1},clone:function(){var a=new cc.ActionEase;a.initWithAction(this._inner.clone());return a},startWithTarget:function(a){cc.ActionInterval.prototype.startWithTarget.call(this,a);this._inner.startWithTarget(this.target)},
stop:function(){this._inner.stop();cc.ActionInterval.prototype.stop.call(this)},update:function(a){this._inner.update(a)},reverse:function(){return new cc.ActionEase(this._inner.reverse())},getInnerAction:function(){return this._inner}});cc.actionEase=function(a){return new cc.ActionEase(a)};cc.ActionEase.create=cc.actionEase;
cc.EaseRateAction=cc.ActionEase.extend({_rate:0,ctor:function(a,c){cc.ActionEase.prototype.ctor.call(this);void 0!==c&&this.initWithAction(a,c)},setRate:function(a){this._rate=a},getRate:function(){return this._rate},initWithAction:function(a,c){return cc.ActionEase.prototype.initWithAction.call(this,a)?(this._rate=c,!0):!1},clone:function(){var a=new cc.EaseRateAction;a.initWithAction(this._inner.clone(),this._rate);return a},reverse:function(){return new cc.EaseRateAction(this._inner.reverse(),
1/this._rate)}});cc.easeRateAction=function(a,c){return new cc.EaseRateAction(a,c)};cc.EaseRateAction.create=cc.easeRateAction;cc.EaseIn=cc.EaseRateAction.extend({update:function(a){this._inner.update(Math.pow(a,this._rate))},reverse:function(){return new cc.EaseIn(this._inner.reverse(),1/this._rate)},clone:function(){var a=new cc.EaseIn;a.initWithAction(this._inner.clone(),this._rate);return a}});cc.EaseIn.create=function(a,c){return new cc.EaseIn(a,c)};
cc.easeIn=function(a){return{_rate:a,easing:function(a){return Math.pow(a,this._rate)},reverse:function(){return cc.easeIn(1/this._rate)}}};cc.EaseOut=cc.EaseRateAction.extend({update:function(a){this._inner.update(Math.pow(a,1/this._rate))},reverse:function(){return new cc.EaseOut(this._inner.reverse(),1/this._rate)},clone:function(){var a=new cc.EaseOut;a.initWithAction(this._inner.clone(),this._rate);return a}});cc.EaseOut.create=function(a,c){return new cc.EaseOut(a,c)};
cc.easeOut=function(a){return{_rate:a,easing:function(a){return Math.pow(a,1/this._rate)},reverse:function(){return cc.easeOut(1/this._rate)}}};cc.EaseInOut=cc.EaseRateAction.extend({update:function(a){a*=2;1>a?this._inner.update(0.5*Math.pow(a,this._rate)):this._inner.update(1-0.5*Math.pow(2-a,this._rate))},clone:function(){var a=new cc.EaseInOut;a.initWithAction(this._inner.clone(),this._rate);return a},reverse:function(){return new cc.EaseInOut(this._inner.reverse(),this._rate)}});
cc.EaseInOut.create=function(a,c){return new cc.EaseInOut(a,c)};cc.easeInOut=function(a){return{_rate:a,easing:function(a){a*=2;return 1>a?0.5*Math.pow(a,this._rate):1-0.5*Math.pow(2-a,this._rate)},reverse:function(){return cc.easeInOut(this._rate)}}};
cc.EaseExponentialIn=cc.ActionEase.extend({update:function(a){this._inner.update(0===a?0:Math.pow(2,10*(a-1)))},reverse:function(){return new cc.EaseExponentialOut(this._inner.reverse())},clone:function(){var a=new cc.EaseExponentialIn;a.initWithAction(this._inner.clone());return a}});cc.EaseExponentialIn.create=function(a){return new cc.EaseExponentialIn(a)};cc._easeExponentialInObj={easing:function(a){return 0===a?0:Math.pow(2,10*(a-1))},reverse:function(){return cc._easeExponentialOutObj}};
cc.easeExponentialIn=function(){return cc._easeExponentialInObj};cc.EaseExponentialOut=cc.ActionEase.extend({update:function(a){this._inner.update(1===a?1:-Math.pow(2,-10*a)+1)},reverse:function(){return new cc.EaseExponentialIn(this._inner.reverse())},clone:function(){var a=new cc.EaseExponentialOut;a.initWithAction(this._inner.clone());return a}});cc.EaseExponentialOut.create=function(a){return new cc.EaseExponentialOut(a)};
cc._easeExponentialOutObj={easing:function(a){return 1===a?1:-Math.pow(2,-10*a)+1},reverse:function(){return cc._easeExponentialInObj}};cc.easeExponentialOut=function(){return cc._easeExponentialOutObj};
cc.EaseExponentialInOut=cc.ActionEase.extend({update:function(a){1!==a&&0!==a&&(a*=2,a=1>a?0.5*Math.pow(2,10*(a-1)):0.5*(-Math.pow(2,-10*(a-1))+2));this._inner.update(a)},reverse:function(){return new cc.EaseExponentialInOut(this._inner.reverse())},clone:function(){var a=new cc.EaseExponentialInOut;a.initWithAction(this._inner.clone());return a}});cc.EaseExponentialInOut.create=function(a){return new cc.EaseExponentialInOut(a)};
cc._easeExponentialInOutObj={easing:function(a){return 1!==a&&0!==a?(a*=2,1>a?0.5*Math.pow(2,10*(a-1)):0.5*(-Math.pow(2,-10*(a-1))+2)):a},reverse:function(){return cc._easeExponentialInOutObj}};cc.easeExponentialInOut=function(){return cc._easeExponentialInOutObj};
cc.EaseSineIn=cc.ActionEase.extend({update:function(a){a=0===a||1===a?a:-1*Math.cos(a*Math.PI/2)+1;this._inner.update(a)},reverse:function(){return new cc.EaseSineOut(this._inner.reverse())},clone:function(){var a=new cc.EaseSineIn;a.initWithAction(this._inner.clone());return a}});cc.EaseSineIn.create=function(a){return new cc.EaseSineIn(a)};cc._easeSineInObj={easing:function(a){return 0===a||1===a?a:-1*Math.cos(a*Math.PI/2)+1},reverse:function(){return cc._easeSineOutObj}};cc.easeSineIn=function(){return cc._easeSineInObj};
cc.EaseSineOut=cc.ActionEase.extend({update:function(a){a=0===a||1===a?a:Math.sin(a*Math.PI/2);this._inner.update(a)},reverse:function(){return new cc.EaseSineIn(this._inner.reverse())},clone:function(){var a=new cc.EaseSineOut;a.initWithAction(this._inner.clone());return a}});cc.EaseSineOut.create=function(a){return new cc.EaseSineOut(a)};cc._easeSineOutObj={easing:function(a){return 0===a||1===a?a:Math.sin(a*Math.PI/2)},reverse:function(){return cc._easeSineInObj}};cc.easeSineOut=function(){return cc._easeSineOutObj};
cc.EaseSineInOut=cc.ActionEase.extend({update:function(a){a=0===a||1===a?a:-0.5*(Math.cos(Math.PI*a)-1);this._inner.update(a)},clone:function(){var a=new cc.EaseSineInOut;a.initWithAction(this._inner.clone());return a},reverse:function(){return new cc.EaseSineInOut(this._inner.reverse())}});cc.EaseSineInOut.create=function(a){return new cc.EaseSineInOut(a)};cc._easeSineInOutObj={easing:function(a){return 0===a||1===a?a:-0.5*(Math.cos(Math.PI*a)-1)},reverse:function(){return cc._easeSineInOutObj}};
cc.easeSineInOut=function(){return cc._easeSineInOutObj};
cc.EaseElastic=cc.ActionEase.extend({_period:0.3,ctor:function(a,c){cc.ActionEase.prototype.ctor.call(this);a&&this.initWithAction(a,c)},getPeriod:function(){return this._period},setPeriod:function(a){this._period=a},initWithAction:function(a,c){cc.ActionEase.prototype.initWithAction.call(this,a);this._period=null==c?0.3:c;return!0},reverse:function(){cc.log("cc.EaseElastic.reverse(): it should be overridden in subclass.");return null},clone:function(){var a=new cc.EaseElastic;a.initWithAction(this._inner.clone(),
this._period);return a}});cc.EaseElastic.create=function(a,c){return new cc.EaseElastic(a,c)};cc.EaseElasticIn=cc.EaseElastic.extend({update:function(a){var c=0;0===a||1===a?c=a:(c=this._period/4,a-=1,c=-Math.pow(2,10*a)*Math.sin((a-c)*Math.PI*2/this._period));this._inner.update(c)},reverse:function(){return new cc.EaseElasticOut(this._inner.reverse(),this._period)},clone:function(){var a=new cc.EaseElasticIn;a.initWithAction(this._inner.clone(),this._period);return a}});
cc.EaseElasticIn.create=function(a,c){return new cc.EaseElasticIn(a,c)};cc._easeElasticInObj={easing:function(a){if(0===a||1===a)return a;a-=1;return-Math.pow(2,10*a)*Math.sin((a-0.075)*Math.PI*2/0.3)},reverse:function(){return cc._easeElasticOutObj}};cc.easeElasticIn=function(a){return a&&0.3!==a?{_period:a,easing:function(a){if(0===a||1===a)return a;a-=1;return-Math.pow(2,10*a)*Math.sin((a-this._period/4)*Math.PI*2/this._period)},reverse:function(){return cc.easeElasticOut(this._period)}}:cc._easeElasticInObj};
cc.EaseElasticOut=cc.EaseElastic.extend({update:function(a){var c=0;0===a||1===a?c=a:(c=this._period/4,c=Math.pow(2,-10*a)*Math.sin((a-c)*Math.PI*2/this._period)+1);this._inner.update(c)},reverse:function(){return new cc.EaseElasticIn(this._inner.reverse(),this._period)},clone:function(){var a=new cc.EaseElasticOut;a.initWithAction(this._inner.clone(),this._period);return a}});cc.EaseElasticOut.create=function(a,c){return new cc.EaseElasticOut(a,c)};
cc._easeElasticOutObj={easing:function(a){return 0===a||1===a?a:Math.pow(2,-10*a)*Math.sin((a-0.075)*Math.PI*2/0.3)+1},reverse:function(){return cc._easeElasticInObj}};cc.easeElasticOut=function(a){return a&&0.3!==a?{_period:a,easing:function(a){return 0===a||1===a?a:Math.pow(2,-10*a)*Math.sin((a-this._period/4)*Math.PI*2/this._period)+1},reverse:function(){return cc.easeElasticIn(this._period)}}:cc._easeElasticOutObj};
cc.EaseElasticInOut=cc.EaseElastic.extend({update:function(a){var c=0,c=this._period;if(0===a||1===a)c=a;else{c||(c=this._period=0.3*1.5);var d=c/4;a=2*a-1;c=0>a?-0.5*Math.pow(2,10*a)*Math.sin((a-d)*Math.PI*2/c):Math.pow(2,-10*a)*Math.sin((a-d)*Math.PI*2/c)*0.5+1}this._inner.update(c)},reverse:function(){return new cc.EaseElasticInOut(this._inner.reverse(),this._period)},clone:function(){var a=new cc.EaseElasticInOut;a.initWithAction(this._inner.clone(),this._period);return a}});
cc.EaseElasticInOut.create=function(a,c){return new cc.EaseElasticInOut(a,c)};cc.easeElasticInOut=function(a){return{_period:a||0.3,easing:function(a){var d=0,d=this._period;if(0===a||1===a)d=a;else{d||(d=this._period=0.3*1.5);var e=d/4;a=2*a-1;d=0>a?-0.5*Math.pow(2,10*a)*Math.sin((a-e)*Math.PI*2/d):Math.pow(2,-10*a)*Math.sin((a-e)*Math.PI*2/d)*0.5+1}return d},reverse:function(){return cc.easeElasticInOut(this._period)}}};
cc.EaseBounce=cc.ActionEase.extend({bounceTime:function(a){if(a<1/2.75)return 7.5625*a*a;if(a<2/2.75)return a-=1.5/2.75,7.5625*a*a+0.75;if(a<2.5/2.75)return a-=2.25/2.75,7.5625*a*a+0.9375;a-=2.625/2.75;return 7.5625*a*a+0.984375},clone:function(){var a=new cc.EaseBounce;a.initWithAction(this._inner.clone());return a},reverse:function(){return new cc.EaseBounce(this._inner.reverse())}});cc.EaseBounce.create=function(a){return new cc.EaseBounce(a)};
cc.EaseBounceIn=cc.EaseBounce.extend({update:function(a){a=1-this.bounceTime(1-a);this._inner.update(a)},reverse:function(){return new cc.EaseBounceOut(this._inner.reverse())},clone:function(){var a=new cc.EaseBounceIn;a.initWithAction(this._inner.clone());return a}});cc.EaseBounceIn.create=function(a){return new cc.EaseBounceIn(a)};
cc._bounceTime=function(a){if(a<1/2.75)return 7.5625*a*a;if(a<2/2.75)return a-=1.5/2.75,7.5625*a*a+0.75;if(a<2.5/2.75)return a-=2.25/2.75,7.5625*a*a+0.9375;a-=2.625/2.75;return 7.5625*a*a+0.984375};cc._easeBounceInObj={easing:function(a){return 1-cc._bounceTime(1-a)},reverse:function(){return cc._easeBounceOutObj}};cc.easeBounceIn=function(){return cc._easeBounceInObj};
cc.EaseBounceOut=cc.EaseBounce.extend({update:function(a){a=this.bounceTime(a);this._inner.update(a)},reverse:function(){return new cc.EaseBounceIn(this._inner.reverse())},clone:function(){var a=new cc.EaseBounceOut;a.initWithAction(this._inner.clone());return a}});cc.EaseBounceOut.create=function(a){return new cc.EaseBounceOut(a)};cc._easeBounceOutObj={easing:function(a){return cc._bounceTime(a)},reverse:function(){return cc._easeBounceInObj}};cc.easeBounceOut=function(){return cc._easeBounceOutObj};
cc.EaseBounceInOut=cc.EaseBounce.extend({update:function(a){var c=0,c=0.5>a?0.5*(1-this.bounceTime(1-2*a)):0.5*this.bounceTime(2*a-1)+0.5;this._inner.update(c)},clone:function(){var a=new cc.EaseBounceInOut;a.initWithAction(this._inner.clone());return a},reverse:function(){return new cc.EaseBounceInOut(this._inner.reverse())}});cc.EaseBounceInOut.create=function(a){return new cc.EaseBounceInOut(a)};
cc._easeBounceInOutObj={easing:function(a){return a=0.5>a?0.5*(1-cc._bounceTime(1-2*a)):0.5*cc._bounceTime(2*a-1)+0.5},reverse:function(){return cc._easeBounceInOutObj}};cc.easeBounceInOut=function(){return cc._easeBounceInOutObj};cc.EaseBackIn=cc.ActionEase.extend({update:function(a){this._inner.update(0===a||1===a?a:a*a*(2.70158*a-1.70158))},reverse:function(){return new cc.EaseBackOut(this._inner.reverse())},clone:function(){var a=new cc.EaseBackIn;a.initWithAction(this._inner.clone());return a}});
cc.EaseBackIn.create=function(a){return new cc.EaseBackIn(a)};cc._easeBackInObj={easing:function(a){return 0===a||1===a?a:a*a*(2.70158*a-1.70158)},reverse:function(){return cc._easeBackOutObj}};cc.easeBackIn=function(){return cc._easeBackInObj};
cc.EaseBackOut=cc.ActionEase.extend({update:function(a){a-=1;this._inner.update(a*a*(2.70158*a+1.70158)+1)},reverse:function(){return new cc.EaseBackIn(this._inner.reverse())},clone:function(){var a=new cc.EaseBackOut;a.initWithAction(this._inner.clone());return a}});cc.EaseBackOut.create=function(a){return new cc.EaseBackOut(a)};cc._easeBackOutObj={easing:function(a){a-=1;return a*a*(2.70158*a+1.70158)+1},reverse:function(){return cc._easeBackInObj}};cc.easeBackOut=function(){return cc._easeBackOutObj};
cc.EaseBackInOut=cc.ActionEase.extend({update:function(a){a*=2;1>a?this._inner.update(a*a*(3.5949095*a-2.5949095)/2):(a-=2,this._inner.update(a*a*(3.5949095*a+2.5949095)/2+1))},clone:function(){var a=new cc.EaseBackInOut;a.initWithAction(this._inner.clone());return a},reverse:function(){return new cc.EaseBackInOut(this._inner.reverse())}});cc.EaseBackInOut.create=function(a){return new cc.EaseBackInOut(a)};
cc._easeBackInOutObj={easing:function(a){a*=2;if(1>a)return a*a*(3.5949095*a-2.5949095)/2;a-=2;return a*a*(3.5949095*a+2.5949095)/2+1},reverse:function(){return cc._easeBackInOutObj}};cc.easeBackInOut=function(){return cc._easeBackInOutObj};
cc.EaseBezierAction=cc.ActionEase.extend({_p0:null,_p1:null,_p2:null,_p3:null,ctor:function(a){cc.ActionEase.prototype.ctor.call(this,a)},_updateTime:function(a,c,d,e,f){return Math.pow(1-f,3)*a+3*f*Math.pow(1-f,2)*c+3*Math.pow(f,2)*(1-f)*d+Math.pow(f,3)*e},update:function(a){a=this._updateTime(this._p0,this._p1,this._p2,this._p3,a);this._inner.update(a)},clone:function(){var a=new cc.EaseBezierAction;a.initWithAction(this._inner.clone());a.setBezierParamer(this._p0,this._p1,this._p2,this._p3);return a},
reverse:function(){var a=new cc.EaseBezierAction(this._inner.reverse());a.setBezierParamer(this._p3,this._p2,this._p1,this._p0);return a},setBezierParamer:function(a,c,d,e){this._p0=a||0;this._p1=c||0;this._p2=d||0;this._p3=e||0}});cc.EaseBezierAction.create=function(a){return new cc.EaseBezierAction(a)};cc.easeBezierAction=function(a,c,d,e){return{easing:function(f){return cc.EaseBezierAction.prototype._updateTime(a,c,d,e,f)},reverse:function(){return cc.easeBezierAction(e,d,c,a)}}};
cc.EaseQuadraticActionIn=cc.ActionEase.extend({_updateTime:function(a){return Math.pow(a,2)},update:function(a){this._inner.update(this._updateTime(a))},clone:function(){var a=new cc.EaseQuadraticActionIn;a.initWithAction(this._inner.clone());return a},reverse:function(){return new cc.EaseQuadraticActionIn(this._inner.reverse())}});cc.EaseQuadraticActionIn.create=function(a){return new cc.EaseQuadraticActionIn(a)};cc._easeQuadraticActionIn={easing:cc.EaseQuadraticActionIn.prototype._updateTime,reverse:function(){return cc._easeQuadraticActionIn}};
cc.easeQuadraticActionIn=function(){return cc._easeQuadraticActionIn};cc.EaseQuadraticActionOut=cc.ActionEase.extend({_updateTime:function(a){return-a*(a-2)},update:function(a){this._inner.update(this._updateTime(a))},clone:function(){var a=new cc.EaseQuadraticActionOut;a.initWithAction();return a},reverse:function(){return new cc.EaseQuadraticActionOut(this._inner.reverse())}});cc.EaseQuadraticActionOut.create=function(a){return new cc.EaseQuadraticActionOut(a)};
cc._easeQuadraticActionOut={easing:cc.EaseQuadraticActionOut.prototype._updateTime,reverse:function(){return cc._easeQuadraticActionOut}};cc.easeQuadraticActionOut=function(){return cc._easeQuadraticActionOut};
cc.EaseQuadraticActionInOut=cc.ActionEase.extend({_updateTime:function(a){var c=a;a*=2;1>a?c=a*a*0.5:(--a,c=-0.5*(a*(a-2)-1));return c},update:function(a){this._inner.update(this._updateTime(a))},clone:function(){var a=new cc.EaseQuadraticActionInOut;a.initWithAction(this._inner.clone());return a},reverse:function(){return new cc.EaseQuadraticActionInOut(this._inner.reverse())}});cc.EaseQuadraticActionInOut.create=function(a){return new cc.EaseQuadraticActionInOut(a)};
cc._easeQuadraticActionInOut={easing:cc.EaseQuadraticActionInOut.prototype._updateTime,reverse:function(){return cc._easeQuadraticActionInOut}};cc.easeQuadraticActionInOut=function(){return cc._easeQuadraticActionInOut};cc.EaseQuarticActionIn=cc.ActionEase.extend({_updateTime:function(a){return a*a*a*a},update:function(a){this._inner.update(this._updateTime(a))},clone:function(){var a=new cc.EaseQuarticActionIn;a.initWithAction(this._inner.clone());return a},reverse:function(){return new cc.EaseQuarticActionIn(this._inner.reverse())}});
cc.EaseQuarticActionIn.create=function(a){return new cc.EaseQuarticActionIn(a)};cc._easeQuarticActionIn={easing:cc.EaseQuarticActionIn.prototype._updateTime,reverse:function(){return cc._easeQuarticActionIn}};cc.easeQuarticActionIn=function(){return cc._easeQuarticActionIn};
cc.EaseQuarticActionOut=cc.ActionEase.extend({_updateTime:function(a){a-=1;return-(a*a*a*a-1)},update:function(a){this._inner.update(this._updateTime(a))},clone:function(){var a=new cc.EaseQuarticActionOut;a.initWithAction(this._inner.clone());return a},reverse:function(){return new cc.EaseQuarticActionOut(this._inner.reverse())}});cc.EaseQuarticActionOut.create=function(a){return new cc.EaseQuarticActionOut(a)};cc._easeQuarticActionOut={easing:cc.EaseQuarticActionOut.prototype._updateTime,reverse:function(){return cc._easeQuarticActionOut}};
cc.easeQuarticActionOut=function(){return cc._easeQuarticActionOut};cc.EaseQuarticActionInOut=cc.ActionEase.extend({_updateTime:function(a){a*=2;if(1>a)return 0.5*a*a*a*a;a-=2;return-0.5*(a*a*a*a-2)},update:function(a){this._inner.update(this._updateTime(a))},clone:function(){var a=new cc.EaseQuarticActionInOut;a.initWithAction(this._inner.clone());return a},reverse:function(){return new cc.EaseQuarticActionInOut(this._inner.reverse())}});cc.EaseQuarticActionInOut.create=function(a){return new cc.EaseQuarticActionInOut(a)};
cc._easeQuarticActionInOut={easing:cc.EaseQuarticActionInOut.prototype._updateTime,reverse:function(){return cc._easeQuarticActionInOut}};cc.easeQuarticActionInOut=function(){return cc._easeQuarticActionInOut};cc.EaseQuinticActionIn=cc.ActionEase.extend({_updateTime:function(a){return a*a*a*a*a},update:function(a){this._inner.update(this._updateTime(a))},clone:function(){var a=new cc.EaseQuinticActionIn;a.initWithAction(this._inner.clone());return a},reverse:function(){return new cc.EaseQuinticActionIn(this._inner.reverse())}});
cc.EaseQuinticActionIn.create=function(a){return new cc.EaseQuinticActionIn(a)};cc._easeQuinticActionIn={easing:cc.EaseQuinticActionIn.prototype._updateTime,reverse:function(){return cc._easeQuinticActionIn}};cc.easeQuinticActionIn=function(){return cc._easeQuinticActionIn};
cc.EaseQuinticActionOut=cc.ActionEase.extend({_updateTime:function(a){a-=1;return a*a*a*a*a+1},update:function(a){this._inner.update(this._updateTime(a))},clone:function(){var a=new cc.EaseQuinticActionOut;a.initWithAction(this._inner.clone());return a},reverse:function(){return new cc.EaseQuinticActionOut(this._inner.reverse())}});cc.EaseQuinticActionOut.create=function(a){return new cc.EaseQuinticActionOut(a)};cc._easeQuinticActionOut={easing:cc.EaseQuinticActionOut.prototype._updateTime,reverse:function(){return cc._easeQuinticActionOut}};
cc.easeQuinticActionOut=function(){return cc._easeQuinticActionOut};cc.EaseQuinticActionInOut=cc.ActionEase.extend({_updateTime:function(a){a*=2;if(1>a)return 0.5*a*a*a*a*a;a-=2;return 0.5*(a*a*a*a*a+2)},update:function(a){this._inner.update(this._updateTime(a))},clone:function(){var a=new cc.EaseQuinticActionInOut;a.initWithAction(this._inner.clone());return a},reverse:function(){return new cc.EaseQuinticActionInOut(this._inner.reverse())}});cc.EaseQuinticActionInOut.create=function(a){return new cc.EaseQuinticActionInOut(a)};
cc._easeQuinticActionInOut={easing:cc.EaseQuinticActionInOut.prototype._updateTime,reverse:function(){return cc._easeQuinticActionInOut}};cc.easeQuinticActionInOut=function(){return cc._easeQuinticActionInOut};cc.EaseCircleActionIn=cc.ActionEase.extend({_updateTime:function(a){return-1*(Math.sqrt(1-a*a)-1)},update:function(a){this._inner.update(this._updateTime(a))},clone:function(){var a=new cc.EaseCircleActionIn;a.initWithAction(this._inner.clone());return a},reverse:function(){return new cc.EaseCircleActionIn(this._inner.reverse())}});
cc.EaseCircleActionIn.create=function(a){return new cc.EaseCircleActionIn(a)};cc._easeCircleActionIn={easing:cc.EaseCircleActionIn.prototype._updateTime,reverse:function(){return cc._easeCircleActionIn}};cc.easeCircleActionIn=function(){return cc._easeCircleActionIn};
cc.EaseCircleActionOut=cc.ActionEase.extend({_updateTime:function(a){a-=1;return Math.sqrt(1-a*a)},update:function(a){this._inner.update(this._updateTime(a))},clone:function(){var a=new cc.EaseCircleActionOut;a.initWithAction(this._inner.clone());return a},reverse:function(){return new cc.EaseCircleActionOut(this._inner.reverse())}});cc.EaseCircleActionOut.create=function(a){return new cc.EaseCircleActionOut(a)};cc._easeCircleActionOut={easing:cc.EaseCircleActionOut.prototype._updateTime,reverse:function(){return cc._easeCircleActionOut}};
cc.easeCircleActionOut=function(){return cc._easeCircleActionOut};cc.EaseCircleActionInOut=cc.ActionEase.extend({_updateTime:function(a){a*=2;if(1>a)return-0.5*(Math.sqrt(1-a*a)-1);a-=2;return 0.5*(Math.sqrt(1-a*a)+1)},update:function(a){this._inner.update(this._updateTime(a))},clone:function(){var a=new cc.EaseCircleActionInOut;a.initWithAction(this._inner.clone());return a},reverse:function(){return new cc.EaseCircleActionInOut(this._inner.reverse())}});cc.EaseCircleActionInOut.create=function(a){return new cc.EaseCircleActionInOut(a)};
cc._easeCircleActionInOut={easing:cc.EaseCircleActionInOut.prototype._updateTime,reverse:function(){return cc._easeCircleActionInOut}};cc.easeCircleActionInOut=function(){return cc._easeCircleActionInOut};cc.EaseCubicActionIn=cc.ActionEase.extend({_updateTime:function(a){return a*a*a},update:function(a){this._inner.update(this._updateTime(a))},clone:function(){var a=new cc.EaseCubicActionIn;a.initWithAction(this._inner.clone());return a},reverse:function(){return new cc.EaseCubicActionIn(this._inner.reverse())}});
cc.EaseCubicActionIn.create=function(a){return new cc.EaseCubicActionIn(a)};cc._easeCubicActionIn={easing:cc.EaseCubicActionIn.prototype._updateTime,reverse:function(){return cc._easeCubicActionIn}};cc.easeCubicActionIn=function(){return cc._easeCubicActionIn};
cc.EaseCubicActionOut=cc.ActionEase.extend({_updateTime:function(a){a-=1;return a*a*a+1},update:function(a){this._inner.update(this._updateTime(a))},clone:function(){var a=new cc.EaseCubicActionOut;a.initWithAction(this._inner.clone());return a},reverse:function(){return new cc.EaseCubicActionOut(this._inner.reverse())}});cc.EaseCubicActionOut.create=function(a){return new cc.EaseCubicActionOut(a)};cc._easeCubicActionOut={easing:cc.EaseCubicActionOut.prototype._updateTime,reverse:function(){return cc._easeCubicActionOut}};
cc.easeCubicActionOut=function(){return cc._easeCubicActionOut};cc.EaseCubicActionInOut=cc.ActionEase.extend({_updateTime:function(a){a*=2;if(1>a)return 0.5*a*a*a;a-=2;return 0.5*(a*a*a+2)},update:function(a){this._inner.update(this._updateTime(a))},clone:function(){var a=new cc.EaseCubicActionInOut;a.initWithAction(this._inner.clone());return a},reverse:function(){return new cc.EaseCubicActionInOut(this._inner.reverse())}});cc.EaseCubicActionInOut.create=function(a){return new cc.EaseCubicActionInOut(a)};
cc._easeCubicActionInOut={easing:cc.EaseCubicActionInOut.prototype._updateTime,reverse:function(){return cc._easeCubicActionInOut}};cc.easeCubicActionInOut=function(){return cc._easeCubicActionInOut};cc.cardinalSplineAt=function(a,c,d,e,f,g){var h=g*g,m=h*g,n=(1-f)/2;f=n*(-m+2*h-g);var r=n*(-m+h)+(2*m-3*h+1);g=n*(m-2*h+g)+(-2*m+3*h);h=n*(m-h);return cc.p(a.x*f+c.x*r+d.x*g+e.x*h,a.y*f+c.y*r+d.y*g+e.y*h)};cc.reverseControlPoints=function(a){for(var c=[],d=a.length-1;0<=d;d--)c.push(cc.p(a[d].x,a[d].y));return c};cc.cloneControlPoints=function(a){for(var c=[],d=0;d<a.length;d++)c.push(cc.p(a[d].x,a[d].y));return c};cc.copyControlPoints=cc.cloneControlPoints;
cc.getControlPointAt=function(a,c){var d=Math.min(a.length-1,Math.max(c,0));return a[d]};cc.reverseControlPointsInline=function(a){for(var c=a.length,d=0|c/2,e=0;e<d;++e){var f=a[e];a[e]=a[c-e-1];a[c-e-1]=f}};
cc.CardinalSplineTo=cc.ActionInterval.extend({_points:null,_deltaT:0,_tension:0,_previousPosition:null,_accumulatedDiff:null,ctor:function(a,c,d){cc.ActionInterval.prototype.ctor.call(this);this._points=[];void 0!==d&&this.initWithDuration(a,c,d)},initWithDuration:function(a,c,d){if(!c||0===c.length)throw Error("Invalid configuration. It must at least have one control point");return cc.ActionInterval.prototype.initWithDuration.call(this,a)?(this.setPoints(c),this._tension=d,!0):!1},clone:function(){var a=
new cc.CardinalSplineTo;a.initWithDuration(this._duration,cc.copyControlPoints(this._points),this._tension);return a},startWithTarget:function(a){cc.ActionInterval.prototype.startWithTarget.call(this,a);this._deltaT=1/(this._points.length-1);this._previousPosition=cc.p(this.target.getPositionX(),this.target.getPositionY());this._accumulatedDiff=cc.p(0,0)},update:function(a){a=this._computeEaseTime(a);var c,d=this._points;if(1===a)c=d.length-1,a=1;else{var e=this._deltaT;c=0|a/e;a=(a-e*c)/e}c=cc.cardinalSplineAt(cc.getControlPointAt(d,
c-1),cc.getControlPointAt(d,c-0),cc.getControlPointAt(d,c+1),cc.getControlPointAt(d,c+2),this._tension,a);cc.ENABLE_STACKABLE_ACTIONS&&(d=this.target.getPositionX()-this._previousPosition.x,a=this.target.getPositionY()-this._previousPosition.y,0!==d||0!==a)&&(e=this._accumulatedDiff,d=e.x+d,a=e.y+a,e.x=d,e.y=a,c.x+=d,c.y+=a);this.updatePosition(c)},reverse:function(){var a=cc.reverseControlPoints(this._points);return cc.cardinalSplineTo(this._duration,a,this._tension)},updatePosition:function(a){this.target.setPosition(a);
this._previousPosition=a},getPoints:function(){return this._points},setPoints:function(a){this._points=a}});cc.cardinalSplineTo=function(a,c,d){return new cc.CardinalSplineTo(a,c,d)};cc.CardinalSplineTo.create=cc.cardinalSplineTo;
cc.CardinalSplineBy=cc.CardinalSplineTo.extend({_startPosition:null,ctor:function(a,c,d){cc.CardinalSplineTo.prototype.ctor.call(this);this._startPosition=cc.p(0,0);void 0!==d&&this.initWithDuration(a,c,d)},startWithTarget:function(a){cc.CardinalSplineTo.prototype.startWithTarget.call(this,a);this._startPosition.x=a.getPositionX();this._startPosition.y=a.getPositionY()},reverse:function(){for(var a=this._points.slice(),c,d=a[0],e=1;e<a.length;++e)c=a[e],a[e]=cc.pSub(c,d),d=c;a=cc.reverseControlPoints(a);
d=a[a.length-1];a.pop();d.x=-d.x;d.y=-d.y;a.unshift(d);for(e=1;e<a.length;++e)c=a[e],c.x=-c.x,c.y=-c.y,c.x+=d.x,c.y+=d.y,d=a[e]=c;return cc.cardinalSplineBy(this._duration,a,this._tension)},updatePosition:function(a){var c=this._startPosition,d=a.x+c.x;a=a.y+c.y;this._previousPosition.x=d;this._previousPosition.y=a;this.target.setPosition(d,a)},clone:function(){var a=new cc.CardinalSplineBy;a.initWithDuration(this._duration,cc.copyControlPoints(this._points),this._tension);return a}});
cc.cardinalSplineBy=function(a,c,d){return new cc.CardinalSplineBy(a,c,d)};cc.CardinalSplineBy.create=cc.cardinalSplineBy;cc.CatmullRomTo=cc.CardinalSplineTo.extend({ctor:function(a,c){c&&this.initWithDuration(a,c)},initWithDuration:function(a,c){return cc.CardinalSplineTo.prototype.initWithDuration.call(this,a,c,0.5)},clone:function(){var a=new cc.CatmullRomTo;a.initWithDuration(this._duration,cc.copyControlPoints(this._points));return a}});
cc.catmullRomTo=function(a,c){return new cc.CatmullRomTo(a,c)};cc.CatmullRomTo.create=cc.catmullRomTo;cc.CatmullRomBy=cc.CardinalSplineBy.extend({ctor:function(a,c){cc.CardinalSplineBy.prototype.ctor.call(this);c&&this.initWithDuration(a,c)},initWithDuration:function(a,c){return cc.CardinalSplineTo.prototype.initWithDuration.call(this,a,c,0.5)},clone:function(){var a=new cc.CatmullRomBy;a.initWithDuration(this._duration,cc.copyControlPoints(this._points));return a}});
cc.catmullRomBy=function(a,c){return new cc.CatmullRomBy(a,c)};cc.CatmullRomBy.create=cc.catmullRomBy;cc.ActionTweenDelegate=cc.Class.extend({updateTweenAction:function(a,c){}});
cc.ActionTween=cc.ActionInterval.extend({key:"",from:0,to:0,delta:0,ctor:function(a,c,d,e){cc.ActionInterval.prototype.ctor.call(this);this.key="";void 0!==e&&this.initWithDuration(a,c,d,e)},initWithDuration:function(a,c,d,e){return cc.ActionInterval.prototype.initWithDuration.call(this,a)?(this.key=c,this.to=e,this.from=d,!0):!1},startWithTarget:function(a){if(!a||!a.updateTweenAction)throw Error("cc.ActionTween.startWithTarget(): target must be non-null, and target must implement updateTweenAction function");cc.ActionInterval.prototype.startWithTarget.call(this,
a);this.delta=this.to-this.from},update:function(a){this.target.updateTweenAction(this.to-this.delta*(1-a),this.key)},reverse:function(){return new cc.ActionTween(this.duration,this.key,this.to,this.from)},clone:function(){var a=new cc.ActionTween;a.initWithDuration(this._duration,this.key,this.from,this.to);return a}});cc.actionTween=function(a,c,d,e){return new cc.ActionTween(a,c,d,e)};cc.ActionTween.create=cc.actionTween;cc.IMAGE_FORMAT_JPEG=0;cc.IMAGE_FORMAT_PNG=1;cc.IMAGE_FORMAT_RAWDATA=9;cc.NextPOT=function(a){a-=1;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;return(a|a>>16)+1};
cc.RenderTexture=cc.Node.extend({sprite:null,clearFlags:0,clearDepthVal:0,autoDraw:!1,_texture:null,_pixelFormat:0,clearStencilVal:0,_clearColor:null,_className:"RenderTexture",ctor:function(a,c,d,e){cc.Node.prototype.ctor.call(this);this._cascadeOpacityEnabled=this._cascadeColorEnabled=!0;this._pixelFormat=cc.Texture2D.PIXEL_FORMAT_RGBA8888;this._clearColor=new cc.Color(0,0,0,255);void 0!==a&&void 0!==c&&(d=d||cc.Texture2D.PIXEL_FORMAT_RGBA8888,this.initWithWidthAndHeight(a,c,d,e||0));this.setAnchorPoint(0,
0)},_createRenderCmd:function(){return cc._renderType===cc.game.RENDER_TYPE_CANVAS?new cc.RenderTexture.CanvasRenderCmd(this):new cc.RenderTexture.WebGLRenderCmd(this)},cleanup:function(){cc.Node.prototype.onExit.call(this);this._renderCmd.cleanup()},getSprite:function(){return this.sprite},setSprite:function(a){this.sprite=a},setVirtualViewport:function(a,c,d){this._renderCmd.setVirtualViewport(a,c,d)},initWithWidthAndHeight:function(a,c,d,e){return this._renderCmd.initWithWidthAndHeight(a,c,d,e)},
begin:function(){cc.renderer._turnToCacheMode(this.__instanceId);this._renderCmd.begin()},beginWithClear:function(a,c,d,e,f,g){var h=cc._renderContext;f=f||h.COLOR_BUFFER_BIT;g=g||h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT;this._beginWithClear(a,c,d,e,f,g,h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT|h.STENCIL_BUFFER_BIT)},_beginWithClear:function(a,c,d,e,f,g,h){this.begin();this._renderCmd._beginWithClear(a,c,d,e,f,g,h)},end:function(){this._renderCmd.end()},clear:function(a,c,d,e){this.beginWithClear(a,c,d,
e);this.end()},clearRect:function(a,c,d,e){this._renderCmd.clearRect(a,c,d,e)},clearDepth:function(a){this._renderCmd.clearDepth(a)},clearStencil:function(a){this._renderCmd.clearStencil(a)},getClearFlags:function(){return this.clearFlags},setClearFlags:function(a){this.clearFlags=a},getClearColor:function(){return this._clearColor},setClearColor:function(a){var c=this._clearColor;c.r=a.r;c.g=a.g;c.b=a.b;c.a=a.a;this._renderCmd.updateClearColor(a)},getClearDepth:function(){return this.clearDepthVal},
setClearDepth:function(a){this.clearDepthVal=a},getClearStencil:function(){return this.clearStencilVal},setClearStencil:function(a){this.clearStencilVal=a},isAutoDraw:function(){return this.autoDraw},setAutoDraw:function(a){this.autoDraw=a},saveToFile:function(a,c){cc.log("saveToFile isn't supported on Cocos2d-Html5")},newCCImage:function(a){cc.log("saveToFile isn't supported on cocos2d-html5");return null},listenToBackground:function(a){},listenToForeground:function(a){}});_p=cc.RenderTexture.prototype;
cc.defineGetterSetter(_p,"clearColorVal",_p.getClearColor,_p.setClearColor);cc.RenderTexture.create=function(a,c,d,e){return new cc.RenderTexture(a,c,d,e)};(function(){cc.RenderTexture.WebGLRenderCmd=function(a){cc.Node.WebGLRenderCmd.call(this,a);this._needDraw=!0;this._depthRenderBuffer=this._textureCopy=this._oldFBO=this._fBO=null;this._rtTextureRect=new cc.Rect;this._fullRect=new cc.Rect;this._fullViewport=new cc.Rect};var a=cc.RenderTexture.WebGLRenderCmd.prototype=Object.create(cc.Node.WebGLRenderCmd.prototype);a.constructor=cc.RenderTexture.WebGLRenderCmd;a.setVirtualViewport=function(a,d,e){this._rtTextureRect.x=a.x;this._rtTextureRect.y=a.y;
this._fullRect=d;this._fullViewport=e};a.needDraw=function(){return this._needDraw&&this._node.autoDraw};a.rendering=function(a){var d=a||cc._renderContext;a=this._node;if(a.autoDraw){a.begin();var e=a.clearFlags;if(e){var f=[0,0,0,0],g=0,h=0;e&d.COLOR_BUFFER_BIT&&(f=d.getParameter(d.COLOR_CLEAR_VALUE),d.clearColor(a._clearColor.r/255,a._clearColor.g/255,a._clearColor.b/255,a._clearColor.a/255));e&d.DEPTH_BUFFER_BIT&&(g=d.getParameter(d.DEPTH_CLEAR_VALUE),d.clearDepth(a.clearDepthVal));e&d.STENCIL_BUFFER_BIT&&
(h=d.getParameter(d.STENCIL_CLEAR_VALUE),d.clearStencil(a.clearStencilVal));d.clear(e);e&d.COLOR_BUFFER_BIT&&d.clearColor(f[0],f[1],f[2],f[3]);e&d.DEPTH_BUFFER_BIT&&d.clearDepth(g);e&d.STENCIL_BUFFER_BIT&&d.clearStencil(h)}a.sortAllChildren();d=a._children;for(e=0;e<d.length;e++)f=d[e],f!==a.sprite&&f._renderCmd.visit(a.sprite._renderCmd);a.end()}};a.clearStencil=function(a){var d=cc._renderContext,e=d.getParameter(d.STENCIL_CLEAR_VALUE);d.clearStencil(a);d.clear(d.STENCIL_BUFFER_BIT);d.clearStencil(e)};
a.cleanup=function(){var a=this._node;this._textureCopy=null;var d=cc._renderContext;d.deleteFramebuffer(this._fBO);this._depthRenderBuffer&&d.deleteRenderbuffer(this._depthRenderBuffer);a._texture&&a._texture.releaseTexture()};a.updateClearColor=function(a){};a.initWithWidthAndHeight=function(a,d,e,f){var g=this._node;e===cc.Texture2D.PIXEL_FORMAT_A8&&cc.log("cc.RenderTexture._initWithWidthAndHeightForWebGL() : only RGB and RGBA formats are valid for a render texture;");var h=cc._renderContext,m=
cc.contentScaleFactor();a=0|a*m;d=0|d*m;this._fullRect=new cc.Rect(0,0,a,d);this._fullViewport=new cc.Rect(0,0,a,d);this._oldFBO=h.getParameter(h.FRAMEBUFFER_BINDING);var n;cc.configuration.supportsNPOT()?(m=a,n=d):(m=cc.NextPOT(a),n=cc.NextPOT(d));for(var r=new Uint8Array(m*n*4),s=0;s<m*n*4;s++)r[s]=0;this._pixelFormat=e;s=g._texture=new cc.Texture2D;if(!g._texture)return!1;s.initWithData(r,g._pixelFormat,m,n,cc.size(a,d));e=h.getParameter(h.RENDERBUFFER_BINDING);if(cc.configuration.checkForGLExtension("GL_QCOM")){this._textureCopy=
new cc.Texture2D;if(!this._textureCopy)return!1;this._textureCopy.initWithData(r,g._pixelFormat,m,n,cc.size(a,d))}this._fBO=h.createFramebuffer();h.bindFramebuffer(h.FRAMEBUFFER,this._fBO);h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,s._webTextureObj,0);0!==f&&(this._depthRenderBuffer=h.createRenderbuffer(),h.bindRenderbuffer(h.RENDERBUFFER,this._depthRenderBuffer),h.renderbufferStorage(h.RENDERBUFFER,f,m,n),f===h.DEPTH_STENCIL?h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_STENCIL_ATTACHMENT,
h.RENDERBUFFER,this._depthRenderBuffer):f===h.STENCIL_INDEX||f===h.STENCIL_INDEX8?h.framebufferRenderbuffer(h.FRAMEBUFFER,h.STENCIL_ATTACHMENT,h.RENDERBUFFER,this._depthRenderBuffer):f===h.DEPTH_COMPONENT16&&h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_ATTACHMENT,h.RENDERBUFFER,this._depthRenderBuffer));h.checkFramebufferStatus(h.FRAMEBUFFER)!==h.FRAMEBUFFER_COMPLETE&&cc.log("Could not attach texture to the framebuffer");s.setAntiAliasTexParameters();a=g.sprite=new cc.Sprite(s);a.scaleY=-1;a.setBlendFunc(h.ONE,
h.ONE_MINUS_SRC_ALPHA);h.bindRenderbuffer(h.RENDERBUFFER,e);h.bindFramebuffer(h.FRAMEBUFFER,this._oldFBO);g.autoDraw=!1;g.addChild(a);return!0};a.begin=function(){var a=this._node;cc.kmGLMatrixMode(cc.KM_GL_PROJECTION);cc.kmGLPushMatrix();cc.kmGLMatrixMode(cc.KM_GL_MODELVIEW);cc.kmGLPushMatrix();var d=cc._renderContext,e=cc.director;e.setProjection(e.getProjection());var f=a._texture.getContentSizeInPixels(),g=cc.director.getWinSizeInPixels(),e=g.width/f.width,f=g.height/f.height,e=cc.math.Matrix4.createOrthographicProjection(-1/
e,1/e,-1/f,1/f,-1,1);cc.kmGLMultMatrix(e);e=new cc.Rect(0,0,0,0);e.width=this._fullViewport.width;e.height=this._fullViewport.height;f=e.height/this._fullRect.height;e.x=e.width/this._fullRect.width*(this._fullRect.x-this._rtTextureRect.x);e.y=(this._fullRect.y-this._rtTextureRect.y)*f;d.viewport(e.x,e.y,e.width,e.height);this._oldFBO=d.getParameter(d.FRAMEBUFFER_BINDING);d.bindFramebuffer(d.FRAMEBUFFER,this._fBO);cc.configuration.checkForGLExtension("GL_QCOM")&&(d.framebufferTexture2D(d.FRAMEBUFFER,
d.COLOR_ATTACHMENT0,d.TEXTURE_2D,this._textureCopy._webTextureObj,0),d.clear(d.COLOR_BUFFER_BIT|d.DEPTH_BUFFER_BIT),d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,a._texture._webTextureObj,0))};a._beginWithClear=function(a,d,e,f,g,h,m){a/=255;d/=255;e/=255;f/=255;var n=cc._renderContext,r=[0,0,0,0],s=0,t=0;m&n.COLOR_BUFFER_BIT&&(r=n.getParameter(n.COLOR_CLEAR_VALUE),n.clearColor(a,d,e,f));m&n.DEPTH_BUFFER_BIT&&(s=n.getParameter(n.DEPTH_CLEAR_VALUE),n.clearDepth(g));m&n.STENCIL_BUFFER_BIT&&
(t=n.getParameter(n.STENCIL_CLEAR_VALUE),n.clearStencil(h));n.clear(m);m&n.COLOR_BUFFER_BIT&&n.clearColor(r[0],r[1],r[2],r[3]);m&n.DEPTH_BUFFER_BIT&&n.clearDepth(s);m&n.STENCIL_BUFFER_BIT&&n.clearStencil(t)};a.end=function(){cc.renderer._renderingToBuffer(this._node.__instanceId);var a=cc._renderContext,d=cc.director;a.bindFramebuffer(a.FRAMEBUFFER,this._oldFBO);d.setViewport();cc.kmGLMatrixMode(cc.KM_GL_PROJECTION);cc.kmGLPopMatrix();cc.kmGLMatrixMode(cc.KM_GL_MODELVIEW);cc.kmGLPopMatrix()};a.clearRect=
function(a,d,e,f){};a.clearDepth=function(a){var d=this._node;d.begin();var e=cc._renderContext,f=e.getParameter(e.DEPTH_CLEAR_VALUE);e.clearDepth(a);e.clear(e.DEPTH_BUFFER_BIT);e.clearDepth(f);d.end()};a.visit=function(a){var d=this._node;d._visible&&(cc.kmGLPushMatrix(),this._syncStatus(a),cc.renderer.pushRenderCommand(this),d.sprite.visit(this),this._dirtyFlag=0,cc.kmGLPopMatrix())}})();cc.ProgressTimer=cc.Node.extend({_type:null,_percentage:0,_sprite:null,_midPoint:null,_barChangeRate:null,_reverseDirection:!1,_className:"ProgressTimer",ctor:function(a){cc.Node.prototype.ctor.call(this);this._type=cc.ProgressTimer.TYPE_RADIAL;this._percentage=0;this._midPoint=cc.p(0,0);this._barChangeRate=cc.p(0,0);this._reverseDirection=!1;this._sprite=null;a&&this.initWithSprite(a)},onEnter:function(){this._super();cc._renderType===cc.game.RENDER_TYPE_WEBGL&&(this._renderCmd.initCmd(),this._renderCmd._updateProgress())},
cleanup:function(){cc._renderType===cc.game.RENDER_TYPE_WEBGL&&this._renderCmd.releaseData();this._super()},getMidpoint:function(){return cc.p(this._midPoint.x,this._midPoint.y)},setMidpoint:function(a){this._midPoint=cc.pClamp(a,cc.p(0,0),cc.p(1,1))},getBarChangeRate:function(){return cc.p(this._barChangeRate.x,this._barChangeRate.y)},setBarChangeRate:function(a){this._barChangeRate=cc.pClamp(a,cc.p(0,0),cc.p(1,1))},getType:function(){return this._type},getPercentage:function(){return this._percentage},
getSprite:function(){return this._sprite},setPercentage:function(a){this._percentage!==a&&(this._percentage=cc.clampf(a,0,100),this._renderCmd._updateProgress())},setOpacityModifyRGB:function(a){},isOpacityModifyRGB:function(){return!1},isReverseDirection:function(){return this._reverseDirection},setColor:function(a){this._sprite.color=a;this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.colorDirty)},setOpacity:function(a){this._sprite.opacity=a;this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.opacityDirty)},
getColor:function(){return this._sprite.color},getOpacity:function(){return this._sprite.opacity},setReverseProgress:function(a){this._reverseDirection!==a&&(this._reverseDirection=a,this._renderCmd.resetVertexData())},setSprite:function(a){this._sprite!==a&&((this._sprite=a)?(this.setContentSize(a.width,a.height),a.ignoreAnchorPointForPosition(!0)):this.setContentSize(0,0),this._renderCmd.resetVertexData())},setType:function(a){a!==this._type&&(this._type=a,this._renderCmd.resetVertexData())},setReverseDirection:function(a){this._reverseDirection!==
a&&(this._reverseDirection=a,this._renderCmd.resetVertexData())},initWithSprite:function(a){this.percentage=0;this.setAnchorPoint(0.5,0.5);this._type=cc.ProgressTimer.TYPE_RADIAL;this._reverseDirection=!1;this.midPoint=cc.p(0.5,0.5);this.barChangeRate=cc.p(1,1);this.setSprite(a);this._renderCmd.resetVertexData();return!0},_createRenderCmd:function(){return cc._renderType===cc.game.RENDER_TYPE_CANVAS?new cc.ProgressTimer.CanvasRenderCmd(this):new cc.ProgressTimer.WebGLRenderCmd(this)}});_p=cc.ProgressTimer.prototype;
cc.defineGetterSetter(_p,"midPoint",_p.getMidpoint,_p.setMidpoint);cc.defineGetterSetter(_p,"barChangeRate",_p.getBarChangeRate,_p.setBarChangeRate);cc.defineGetterSetter(_p,"type",_p.getType,_p.setType);cc.defineGetterSetter(_p,"percentage",_p.getPercentage,_p.setPercentage);cc.defineGetterSetter(_p,"sprite",_p.getSprite,_p.setSprite);cc.defineGetterSetter(_p,"reverseDir",_p.isReverseDirection,_p.setReverseDirection);cc.ProgressTimer.create=function(a){return new cc.ProgressTimer(a)};
cc.ProgressTimer.TEXTURE_COORDS_COUNT=4;cc.ProgressTimer.TEXTURE_COORDS=75;cc.ProgressTimer.TYPE_RADIAL=0;cc.ProgressTimer.TYPE_BAR=1;cc.ProgressTo=cc.ActionInterval.extend({_to:0,_from:0,ctor:function(a,c){cc.ActionInterval.prototype.ctor.call(this);this._from=this._to=0;void 0!==c&&this.initWithDuration(a,c)},initWithDuration:function(a,c){return cc.ActionInterval.prototype.initWithDuration.call(this,a)?(this._to=c,!0):!1},clone:function(){var a=new cc.ProgressTo;a.initWithDuration(this._duration,this._to);return a},reverse:function(){cc.log("cc.ProgressTo.reverse(): reverse hasn't been supported.");return null},startWithTarget:function(a){cc.ActionInterval.prototype.startWithTarget.call(this,
a);this._from=a.percentage},update:function(a){this.target instanceof cc.ProgressTimer&&(this.target.percentage=this._from+(this._to-this._from)*a)}});cc.progressTo=function(a,c){return new cc.ProgressTo(a,c)};cc.ProgressTo.create=cc.progressTo;
cc.ProgressFromTo=cc.ActionInterval.extend({_to:0,_from:0,ctor:function(a,c,d){cc.ActionInterval.prototype.ctor.call(this);this._from=this._to=0;void 0!==d&&this.initWithDuration(a,c,d)},initWithDuration:function(a,c,d){return cc.ActionInterval.prototype.initWithDuration.call(this,a)?(this._to=d,this._from=c,!0):!1},clone:function(){var a=new cc.ProgressFromTo;a.initWithDuration(this._duration,this._from,this._to);return a},reverse:function(){return cc.progressFromTo(this._duration,this._to,this._from)},
startWithTarget:function(a){cc.ActionInterval.prototype.startWithTarget.call(this,a)},update:function(a){this.target instanceof cc.ProgressTimer&&(this.target.percentage=this._from+(this._to-this._from)*a)}});cc.progressFromTo=function(a,c,d){return new cc.ProgressFromTo(a,c,d)};cc.ProgressFromTo.create=cc.progressFromTo;(function(){cc.ProgressTimer.WebGLRenderCmd=function(a){cc.Node.WebGLRenderCmd.call(this,a);this._progressDirty=this._needDraw=!0;this._bl=cc.p();this._tr=cc.p();this.initCmd()};var a=cc.ProgressTimer.WebGLRenderCmd.prototype=Object.create(cc.Node.WebGLRenderCmd.prototype);a.constructor=cc.ProgressTimer.WebGLRenderCmd;a.transform=function(a,d){this.originTransform(a,d);var e=this._node._sprite;e._renderCmd.transform(this,d);var f=e._offsetPosition.x,g=f+e._rect.width,h=e._offsetPosition.y,e=h+e._rect.height,
m=this._worldTransform;this._bl.x=f*m.a+h*m.c+m.tx;this._bl.y=f*m.b+h*m.d+m.ty;this._tr.x=g*m.a+e*m.c+m.tx;this._tr.y=g*m.b+e*m.d+m.ty;this._updateProgressData()};a.rendering=function(a){var d=this._node;a=a||cc._renderContext;if(0!==this._vertexDataCount&&d._sprite){this._shaderProgram.use();this._shaderProgram._updateProjectionUniform();var e=d._sprite._blendFunc;cc.glBlendFunc(e.src,e.dst);cc.glBindTexture2D(d._sprite.texture);a.bindBuffer(a.ARRAY_BUFFER,this._vertexWebGLBuffer);a.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION);
a.enableVertexAttribArray(cc.VERTEX_ATTRIB_COLOR);a.enableVertexAttribArray(cc.VERTEX_ATTRIB_TEX_COORDS);this._vertexDataDirty&&(a.bufferSubData(a.ARRAY_BUFFER,0,this._float32View),this._vertexDataDirty=!1);e=cc.V3F_C4B_T2F.BYTES_PER_ELEMENT;a.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,3,a.FLOAT,!1,e,0);a.vertexAttribPointer(cc.VERTEX_ATTRIB_COLOR,4,a.UNSIGNED_BYTE,!0,e,12);a.vertexAttribPointer(cc.VERTEX_ATTRIB_TEX_COORDS,2,a.FLOAT,!1,e,16);d._type===cc.ProgressTimer.TYPE_RADIAL?a.drawArrays(a.TRIANGLE_FAN,
0,this._vertexDataCount):d._type===cc.ProgressTimer.TYPE_BAR&&(d._reverseDirection?(a.drawArrays(a.TRIANGLE_STRIP,0,this._vertexDataCount/2),a.drawArrays(a.TRIANGLE_STRIP,4,this._vertexDataCount/2),cc.g_NumberOfDraws++):a.drawArrays(a.TRIANGLE_STRIP,0,this._vertexDataCount));cc.g_NumberOfDraws++}};a._syncStatus=function(a){var d=this._node;if(d._sprite){var e=cc.Node._dirtyFlags,f=this._dirtyFlag,g=a?a._node:null;g&&g._cascadeColorEnabled&&a._dirtyFlag&e.colorDirty&&(f|=e.colorDirty);g&&g._cascadeOpacityEnabled&&
a._dirtyFlag&e.opacityDirty&&(f|=e.opacityDirty);a&&a._dirtyFlag&e.transformDirty&&(f|=e.transformDirty);this._dirtyFlag=f;var d=d._sprite._renderCmd,h=d._dirtyFlag,g=(f|h)&e.colorDirty,h=(f|h)&e.opacityDirty;g&&(d._syncDisplayColor(),d._dirtyFlag^=d._dirtyFlag&e.colorDirty,this._dirtyFlag^=this._dirtyFlag&e.colorDirty);h&&(d._syncDisplayOpacity(),d._dirtyFlag^=d._dirtyFlag&e.opacityDirty,this._dirtyFlag^=this._dirtyFlag&e.opacityDirty);(g||h)&&this._updateColor();f&e.transformDirty&&this.transform(a);
f&e.textureDirty&&(this._updateProgressData(),this._dirtyFlag^=this._dirtyFlag&e.textureDirty);d._dirtyFlag=0}};a.updateStatus=function(){var a=this._node;if(a._sprite){var d=cc.Node._dirtyFlags,e=this._dirtyFlag,a=a._sprite._renderCmd,f=a._dirtyFlag,g=(e|f)&d.colorDirty,f=(e|f)&d.opacityDirty;g&&(a._updateDisplayColor(),a._dirtyFlag^=a._dirtyFlag&d.colorDirty,this._dirtyFlag^=this._dirtyFlag&d.colorDirty);f&&(a._updateDisplayOpacity(),a._dirtyFlag^=a._dirtyFlag&d.opacityDirty,this._dirtyFlag^=this._dirtyFlag&
d.opacityDirty);(g||f)&&this._updateColor();e&d.transformDirty&&this.transform(this.getParentRenderCmd(),!0);e&d.orderDirty&&(this._dirtyFlag^=this._dirtyFlag&d.orderDirty);e&d.textureDirty&&(this._updateProgressData(),this._dirtyFlag^=this._dirtyFlag&d.textureDirty)}};a.releaseData=function(){if(this._vertexData){var a=this._vertexWebGLBuffer;setTimeout(function(){cc._renderContext.deleteBuffer(a)},0);this._vertexArrayBuffer=this._float32View=this._vertexData=this._vertexWebGLBuffer=null;this._vertexDataCount=
0}};a.initCmd=function(){if(!this._vertexData){this._vertexWebGLBuffer=cc._renderContext.createBuffer();var a=cc.V3F_C4B_T2F.BYTES_PER_ELEMENT;this._vertexArrayBuffer=new ArrayBuffer(8*a);this._float32View=new Float32Array(this._vertexArrayBuffer);this._vertexData=[];for(var d=0;8>d;d++)this._vertexData[d]=new cc.V3F_C4B_T2F(null,null,null,this._vertexArrayBuffer,d*a);gl.bindBuffer(gl.ARRAY_BUFFER,this._vertexWebGLBuffer);gl.bufferData(gl.ARRAY_BUFFER,this._float32View,gl.DYNAMIC_DRAW);this._vertexDataCount=
0;this._vertexDataDirty=!0;this._shaderProgram=cc.shaderCache.programForKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR)}};a.resetVertexData=function(){this._vertexDataCount=0};a._updateProgressData=function(){var a=this._node._type;a===cc.ProgressTimer.TYPE_RADIAL?this._updateRadial():a===cc.ProgressTimer.TYPE_BAR&&this._updateBar();this._vertexDataDirty=!0};a._updateProgress=function(){this.setDirtyFlag(cc.Node._dirtyFlags.textureDirty)};a._updateBar=function(){var a=this._node;if(a._sprite){var d=a._percentage/
100,e=a._barChangeRate,d=cc.pMult(cc.p(1-e.x+d*e.x,1-e.y+d*e.y),0.5),e=cc.pSub(a._midPoint,d),f=cc.pAdd(a._midPoint,d);0>e.x&&(f.x+=-e.x,e.x=0);1<f.x&&(e.x-=f.x-1,f.x=1);0>e.y&&(f.y+=-e.y,e.y=0);1<f.y&&(e.y-=f.y-1,f.y=1);for(var d=e.x,e=e.y,g=f.x,f=f.y,h=a.getRotation();a=a.getParent();)h+=a.getRotation();a=45<h&&135>h||-45>h&&-135<h;this._reverseDirection?(h=this._vertexData,this._vertexDataCount||(this._vertexDataCount=8,this._textureCoordFromAlphaPoint(h[0].texCoords,0,1),this._vertexFromAlphaPoint(h[0].vertices,
0,1),this._textureCoordFromAlphaPoint(h[1].texCoords,0,0),this._vertexFromAlphaPoint(h[1].vertices,0,0),this._textureCoordFromAlphaPoint(h[6].texCoords,1,1),this._vertexFromAlphaPoint(h[6].vertices,1,1),this._textureCoordFromAlphaPoint(h[7].texCoords,1,0),this._vertexFromAlphaPoint(h[7].vertices,1,0)),a?(this._textureCoordFromAlphaPoint(h[2].texCoords,f,d),this._textureCoordFromAlphaPoint(h[3].texCoords,e,d),this._textureCoordFromAlphaPoint(h[4].texCoords,f,g),this._textureCoordFromAlphaPoint(h[5].texCoords,
e,g)):(this._textureCoordFromAlphaPoint(h[2].texCoords,d,f),this._textureCoordFromAlphaPoint(h[3].texCoords,d,e),this._textureCoordFromAlphaPoint(h[4].texCoords,g,f),this._textureCoordFromAlphaPoint(h[5].texCoords,g,e)),this._vertexFromAlphaPoint(h[2].vertices,d,f),this._vertexFromAlphaPoint(h[3].vertices,d,e),this._vertexFromAlphaPoint(h[4].vertices,g,f),this._vertexFromAlphaPoint(h[5].vertices,g,e)):(this._vertexDataCount||(this._vertexDataCount=4),h=this._vertexData,a?(this._textureCoordFromAlphaPoint(h[0].texCoords,
f,d),this._textureCoordFromAlphaPoint(h[1].texCoords,e,d),this._textureCoordFromAlphaPoint(h[2].texCoords,f,g),this._textureCoordFromAlphaPoint(h[3].texCoords,e,g)):(this._textureCoordFromAlphaPoint(h[0].texCoords,d,f),this._textureCoordFromAlphaPoint(h[1].texCoords,d,e),this._textureCoordFromAlphaPoint(h[2].texCoords,g,f),this._textureCoordFromAlphaPoint(h[3].texCoords,g,e)),this._vertexFromAlphaPoint(h[0].vertices,d,f),this._vertexFromAlphaPoint(h[1].vertices,d,e),this._vertexFromAlphaPoint(h[2].vertices,
g,f),this._vertexFromAlphaPoint(h[3].vertices,g,e));this._updateColor()}};a._updateRadial=function(){var a=this._node;if(a._sprite){var d,e=a._midPoint;d=a._percentage/100;var f=2*cc.PI*(a._reverseDirection?d:1-d),a=cc.p(e.x,1),g=cc.pRotateByAngle(a,e,f),f=0;if(0===d)g=a,f=0;else if(1===d)g=a,f=4;else{var h=cc.FLT_MAX,m=cc.ProgressTimer.TEXTURE_COORDS_COUNT;for(d=0;d<=m;++d){var n=(d+(m-1))%m,r=this._boundaryTexCoord(d%m),n=this._boundaryTexCoord(n);0===d?n=cc.pLerp(r,n,1-e.x):4===d&&(r=cc.pLerp(r,
n,1-e.x));var s=cc.p(0,0);cc.pLineIntersect(r,n,e,g,s)&&(0!==d&&4!==d||0<=s.x&&1>=s.x)&&0<=s.y&&s.y<h&&(h=s.y,f=d)}g=cc.pAdd(e,cc.pMult(cc.pSub(g,e),h))}d=!0;this._vertexDataCount!==f+3&&(d=!1,this._vertexDataCount=f+3);this._updateColor();h=this._vertexData;if(!d)for(this._textureCoordFromAlphaPoint(h[0].texCoords,e.x,e.y),this._vertexFromAlphaPoint(h[0].vertices,e.x,e.y),this._textureCoordFromAlphaPoint(h[1].texCoords,a.x,a.y),this._vertexFromAlphaPoint(h[1].vertices,a.x,a.y),d=0;d<f;d++)e=this._boundaryTexCoord(d),
this._textureCoordFromAlphaPoint(h[d+2].texCoords,e.x,e.y),this._vertexFromAlphaPoint(h[d+2].vertices,e.x,e.y);this._textureCoordFromAlphaPoint(h[this._vertexDataCount-1].texCoords,g.x,g.y);this._vertexFromAlphaPoint(h[this._vertexDataCount-1].vertices,g.x,g.y)}};a._boundaryTexCoord=function(a){if(a<cc.ProgressTimer.TEXTURE_COORDS_COUNT){var d=cc.ProgressTimer.TEXTURE_COORDS;return this._node._reverseDirection?cc.p(d>>7-(a<<1)&1,d>>7-((a<<1)+1)&1):cc.p(d>>(a<<1)+1&1,d>>(a<<1)&1)}return cc.p(0,0)};
a._textureCoordFromAlphaPoint=function(a,d,e){var f=this._node._sprite;if(f){var g=f._renderCmd._vertices,h=g[1],g=g[2],h=cc.p(h.u,h.v),g=cc.p(g.u,g.v);f.textureRectRotated&&(f=d,d=e,e=f);a.u=h.x*(1-d)+g.x*d;a.v=h.y*(1-e)+g.y*e}else a.u=0,a.v=0};a._vertexFromAlphaPoint=function(a,d,e){a.x=this._bl.x*(1-d)+this._tr.x*d;a.y=this._bl.y*(1-e)+this._tr.y*e;a.z=this._node._vertexZ};a._updateColor=function(){var a=this._node._sprite;if(this._vertexDataCount&&a){var d=this._displayedColor,e=a._renderCmd._displayedColor,
f=e.r,g=e.g,e=e.b,h=a._renderCmd._displayedOpacity/255;a._opacityModifyRGB&&(f*=h,g*=h,e*=h);d.r=f;d.g=g;d.b=e;d.a=a._renderCmd._displayedOpacity;a=this._vertexData;f=0;for(g=this._vertexDataCount;f<g;++f)a[f].colors=d;this._vertexDataDirty=!0}};a.detachFromParent=function(a){if(a){var d=this._node._sprite;d&&d._renderCmd.detachFromParent(a)}cc.Node.WebGLRenderCmd.prototype.detachFromParent.call(this,a)}})();cc.SCENE_FADE=4208917214;cc.TRANSITION_ORIENTATION_LEFT_OVER=0;cc.TRANSITION_ORIENTATION_RIGHT_OVER=1;cc.TRANSITION_ORIENTATION_UP_OVER=0;cc.TRANSITION_ORIENTATION_DOWN_OVER=1;
cc.TransitionScene=cc.Scene.extend({_inScene:null,_outScene:null,_duration:null,_isInSceneOnTop:!1,_isSendCleanupToScene:!1,_className:"TransitionScene",_scriptListener:null,ctor:function(a,c){cc.Scene.prototype.ctor.call(this);void 0!==a&&void 0!==c&&this.initWithDuration(a,c)},_setNewScene:function(a){this.unschedule(this._setNewScene);a=cc.director;this._isSendCleanupToScene=a.isSendCleanupToScene();a.runScene(this._inScene);cc.eventManager.setEnabled(!0);this._outScene.visible=!0;this._scriptListener&&
this._scriptListener()},_sceneOrder:function(){this._isInSceneOnTop=!0},visit:function(){this._isInSceneOnTop?(this._outScene.visit(),this._inScene.visit()):(this._inScene.visit(),this._outScene.visit());cc.Node.prototype.visit.call(this)},onEnter:function(){cc.Node.prototype.onEnter.call(this);cc.eventManager.setEnabled(!1);this._outScene.onExitTransitionDidStart();this._inScene.onEnter()},onExit:function(){cc.Node.prototype.onExit.call(this);cc.eventManager.setEnabled(!0);this._outScene.onExit();
this._inScene.onEnterTransitionDidFinish()},cleanup:function(){cc.Node.prototype.cleanup.call(this);this._isSendCleanupToScene&&this._outScene.cleanup()},initWithDuration:function(a,c){if(!c)throw Error("cc.TransitionScene.initWithDuration(): Argument scene must be non-nil");if(this.init()){this._duration=a;this.attr({x:0,y:0,anchorX:0,anchorY:0});this._inScene=c;this._outScene=cc.director.getRunningScene();this._outScene||(this._outScene=new cc.Scene,this._outScene.init());if(this._inScene===this._outScene)throw Error("cc.TransitionScene.initWithDuration(): Incoming scene must be different from the outgoing scene");
this._sceneOrder();return!0}return!1},finish:function(){this._inScene.attr({visible:!0,x:0,y:0,scale:1,rotation:0});this._outScene.attr({visible:!1,x:0,y:0,scale:1,rotation:0});this.schedule(this._setNewScene,0)},hideOutShowIn:function(){this._inScene.visible=!0;this._outScene.visible=!1},registerScriptListener:function(a){this._scriptListener=a},unregisterScriptListener:function(){this._scriptListener=null},getInScene:function(){return this._inScene},getOutScene:function(){return this._outScene}});
cc.TransitionScene.create=function(a,c){return new cc.TransitionScene(a,c)};cc.TransitionSceneOriented=cc.TransitionScene.extend({_orientation:0,ctor:function(a,c,d){cc.TransitionScene.prototype.ctor.call(this);void 0!=d&&this.initWithDuration(a,c,d)},initWithDuration:function(a,c,d){cc.TransitionScene.prototype.initWithDuration.call(this,a,c)&&(this._orientation=d);return!0}});cc.TransitionSceneOriented.create=function(a,c,d){return new cc.TransitionSceneOriented(a,c,d)};
cc.TransitionRotoZoom=cc.TransitionScene.extend({ctor:function(a,c){cc.TransitionScene.prototype.ctor.call(this);c&&this.initWithDuration(a,c)},onEnter:function(){cc.TransitionScene.prototype.onEnter.call(this);this._inScene.attr({scale:0.001,anchorX:0.5,anchorY:0.5});this._outScene.attr({scale:1,anchorX:0.5,anchorY:0.5});var a=cc.sequence(cc.spawn(cc.scaleBy(this._duration/2,0.001),cc.rotateBy(this._duration/2,720)),cc.delayTime(this._duration/2));this._outScene.runAction(a);this._inScene.runAction(cc.sequence(a.reverse(),
cc.callFunc(this.finish,this)))}});cc.TransitionRotoZoom.create=function(a,c){return new cc.TransitionRotoZoom(a,c)};
cc.TransitionJumpZoom=cc.TransitionScene.extend({ctor:function(a,c){cc.TransitionScene.prototype.ctor.call(this);c&&this.initWithDuration(a,c)},onEnter:function(){cc.TransitionScene.prototype.onEnter.call(this);var a=cc.director.getWinSize();this._inScene.attr({scale:0.5,x:a.width,y:0,anchorX:0.5,anchorY:0.5});this._outScene.anchorX=0.5;this._outScene.anchorY=0.5;var c=cc.jumpBy(this._duration/4,cc.p(-a.width,0),a.width/4,2),d=cc.scaleTo(this._duration/4,1),a=cc.scaleTo(this._duration/4,0.5),a=cc.sequence(a,
c),c=cc.sequence(c,d),d=cc.delayTime(this._duration/2);this._outScene.runAction(a);this._inScene.runAction(cc.sequence(d,c,cc.callFunc(this.finish,this)))}});cc.TransitionJumpZoom.create=function(a,c){return new cc.TransitionJumpZoom(a,c)};
cc.TransitionMoveInL=cc.TransitionScene.extend({ctor:function(a,c){cc.TransitionScene.prototype.ctor.call(this);c&&this.initWithDuration(a,c)},onEnter:function(){cc.TransitionScene.prototype.onEnter.call(this);this.initScenes();var a=this.action();this._inScene.runAction(cc.sequence(this.easeActionWithAction(a),cc.callFunc(this.finish,this)))},initScenes:function(){this._inScene.setPosition(-cc.director.getWinSize().width,0)},action:function(){return cc.moveTo(this._duration,cc.p(0,0))},easeActionWithAction:function(a){return new cc.EaseOut(a,
2)}});cc.TransitionMoveInL.create=function(a,c){return new cc.TransitionMoveInL(a,c)};cc.TransitionMoveInR=cc.TransitionMoveInL.extend({ctor:function(a,c){cc.TransitionMoveInL.prototype.ctor.call(this);c&&this.initWithDuration(a,c)},initScenes:function(){this._inScene.setPosition(cc.director.getWinSize().width,0)}});cc.TransitionMoveInR.create=function(a,c){return new cc.TransitionMoveInR(a,c)};
cc.TransitionMoveInT=cc.TransitionMoveInL.extend({ctor:function(a,c){cc.TransitionMoveInL.prototype.ctor.call(this);c&&this.initWithDuration(a,c)},initScenes:function(){this._inScene.setPosition(0,cc.director.getWinSize().height)}});cc.TransitionMoveInT.create=function(a,c){return new cc.TransitionMoveInT(a,c)};
cc.TransitionMoveInB=cc.TransitionMoveInL.extend({ctor:function(a,c){cc.TransitionMoveInL.prototype.ctor.call(this);c&&this.initWithDuration(a,c)},initScenes:function(){this._inScene.setPosition(0,-cc.director.getWinSize().height)}});cc.TransitionMoveInB.create=function(a,c){return new cc.TransitionMoveInB(a,c)};cc.ADJUST_FACTOR=0.5;
cc.TransitionSlideInL=cc.TransitionScene.extend({ctor:function(a,c){cc.TransitionScene.prototype.ctor.call(this);c&&this.initWithDuration(a,c)},_sceneOrder:function(){this._isInSceneOnTop=!1},onEnter:function(){cc.TransitionScene.prototype.onEnter.call(this);this.initScenes();var a=this.action(),c=this.action(),a=cc.sequence(this.easeActionWithAction(a),cc.callFunc(this.finish,this)),c=this.easeActionWithAction(c);this._inScene.runAction(a);this._outScene.runAction(c)},initScenes:function(){this._inScene.setPosition(-cc.director.getWinSize().width+
cc.ADJUST_FACTOR,0)},action:function(){return cc.moveBy(this._duration,cc.p(cc.director.getWinSize().width-cc.ADJUST_FACTOR,0))},easeActionWithAction:function(a){return new cc.EaseInOut(a,2)}});cc.TransitionSlideInL.create=function(a,c){return new cc.TransitionSlideInL(a,c)};
cc.TransitionSlideInR=cc.TransitionSlideInL.extend({ctor:function(a,c){cc.TransitionSlideInL.prototype.ctor.call(this);c&&this.initWithDuration(a,c)},_sceneOrder:function(){this._isInSceneOnTop=!0},initScenes:function(){this._inScene.setPosition(cc.director.getWinSize().width-cc.ADJUST_FACTOR,0)},action:function(){return cc.moveBy(this._duration,cc.p(-(cc.director.getWinSize().width-cc.ADJUST_FACTOR),0))}});cc.TransitionSlideInR.create=function(a,c){return new cc.TransitionSlideInR(a,c)};
cc.TransitionSlideInB=cc.TransitionSlideInL.extend({ctor:function(a,c){cc.TransitionSlideInL.prototype.ctor.call(this);c&&this.initWithDuration(a,c)},_sceneOrder:function(){this._isInSceneOnTop=!1},initScenes:function(){this._inScene.setPosition(0,-(cc.director.getWinSize().height-cc.ADJUST_FACTOR))},action:function(){return cc.moveBy(this._duration,cc.p(0,cc.director.getWinSize().height-cc.ADJUST_FACTOR))}});cc.TransitionSlideInB.create=function(a,c){return new cc.TransitionSlideInB(a,c)};
cc.TransitionSlideInT=cc.TransitionSlideInL.extend({ctor:function(a,c){cc.TransitionSlideInL.prototype.ctor.call(this);c&&this.initWithDuration(a,c)},_sceneOrder:function(){this._isInSceneOnTop=!0},initScenes:function(){this._inScene.setPosition(0,cc.director.getWinSize().height-cc.ADJUST_FACTOR)},action:function(){return cc.moveBy(this._duration,cc.p(0,-(cc.director.getWinSize().height-cc.ADJUST_FACTOR)))}});cc.TransitionSlideInT.create=function(a,c){return new cc.TransitionSlideInT(a,c)};
cc.TransitionShrinkGrow=cc.TransitionScene.extend({ctor:function(a,c){cc.TransitionScene.prototype.ctor.call(this);c&&this.initWithDuration(a,c)},onEnter:function(){cc.TransitionScene.prototype.onEnter.call(this);this._inScene.attr({scale:0.001,anchorX:2/3,anchorY:0.5});this._outScene.attr({scale:1,anchorX:1/3,anchorY:0.5});var a=cc.scaleTo(this._duration,0.01),c=cc.scaleTo(this._duration,1);this._inScene.runAction(cc.sequence(this.easeActionWithAction(c),cc.callFunc(this.finish,this)));this._outScene.runAction(this.easeActionWithAction(a))},
easeActionWithAction:function(a){return new cc.EaseOut(a,2)}});cc.TransitionShrinkGrow.create=function(a,c){return new cc.TransitionShrinkGrow(a,c)};
cc.TransitionFade=cc.TransitionScene.extend({_color:null,ctor:function(a,c,d){cc.TransitionScene.prototype.ctor.call(this);this._color=cc.color();c&&this.initWithDuration(a,c,d)},onEnter:function(){cc.TransitionScene.prototype.onEnter.call(this);var a=new cc.LayerColor(this._color);this._inScene.visible=!1;this.addChild(a,2,cc.SCENE_FADE);var a=this.getChildByTag(cc.SCENE_FADE),c=cc.sequence(cc.fadeIn(this._duration/2),cc.callFunc(this.hideOutShowIn,this),cc.fadeOut(this._duration/2),cc.callFunc(this.finish,
this));a.runAction(c)},onExit:function(){cc.TransitionScene.prototype.onExit.call(this);this.removeChildByTag(cc.SCENE_FADE,!1)},initWithDuration:function(a,c,d){d=d||cc.color.BLACK;cc.TransitionScene.prototype.initWithDuration.call(this,a,c)&&(this._color.r=d.r,this._color.g=d.g,this._color.b=d.b,this._color.a=0);return!0}});cc.TransitionFade.create=function(a,c,d){return new cc.TransitionFade(a,c,d)};
cc.TransitionCrossFade=cc.TransitionScene.extend({ctor:function(a,c){cc.TransitionScene.prototype.ctor.call(this);c&&this.initWithDuration(a,c)},onEnter:function(){cc.TransitionScene.prototype.onEnter.call(this);var a=cc.color(0,0,0,0),c=cc.director.getWinSize(),a=new cc.LayerColor(a),d=new cc.RenderTexture(c.width,c.height);d.sprite.anchorX=0.5;d.sprite.anchorY=0.5;d.attr({x:c.width/2,y:c.height/2,anchorX:0.5,anchorY:0.5});d.begin();this._inScene.visit();d.end();var e=new cc.RenderTexture(c.width,
c.height);e.setPosition(c.width/2,c.height/2);e.sprite.anchorX=e.anchorX=0.5;e.sprite.anchorY=e.anchorY=0.5;e.begin();this._outScene.visit();e.end();d.sprite.setBlendFunc(cc.ONE,cc.ONE);e.sprite.setBlendFunc(cc.SRC_ALPHA,cc.ONE_MINUS_SRC_ALPHA);a.addChild(d);a.addChild(e);d.sprite.opacity=255;e.sprite.opacity=255;c=cc.sequence(cc.fadeTo(this._duration,0),cc.callFunc(this.hideOutShowIn,this),cc.callFunc(this.finish,this));e.sprite.runAction(c);this.addChild(a,2,cc.SCENE_FADE)},onExit:function(){this.removeChildByTag(cc.SCENE_FADE,
!1);cc.TransitionScene.prototype.onExit.call(this)},visit:function(){cc.Node.prototype.visit.call(this)},draw:function(){}});cc.TransitionCrossFade.create=function(a,c){return new cc.TransitionCrossFade(a,c)};
cc.TransitionTurnOffTiles=cc.TransitionScene.extend({_gridProxy:null,ctor:function(a,c){cc.TransitionScene.prototype.ctor.call(this);this._gridProxy=new cc.NodeGrid;c&&this.initWithDuration(a,c)},_sceneOrder:function(){this._isInSceneOnTop=!1},onEnter:function(){cc.TransitionScene.prototype.onEnter.call(this);this._gridProxy.setTarget(this._outScene);this._gridProxy.onEnter();var a=cc.director.getWinSize(),a=cc.turnOffTiles(this._duration,cc.size(0|a.width/a.height*12,12)),a=this.easeActionWithAction(a);
this._gridProxy.runAction(cc.sequence(a,cc.callFunc(this.finish,this),cc.stopGrid()))},visit:function(){this._inScene.visit();this._gridProxy.visit()},easeActionWithAction:function(a){return a}});cc.TransitionTurnOffTiles.create=function(a,c){return new cc.TransitionTurnOffTiles(a,c)};
cc.TransitionSplitCols=cc.TransitionScene.extend({_gridProxy:null,_switchTargetToInscene:function(){this._gridProxy.setTarget(this._inScene)},ctor:function(a,c){cc.TransitionScene.prototype.ctor.call(this);this._gridProxy=new cc.NodeGrid;c&&this.initWithDuration(a,c)},onEnter:function(){cc.TransitionScene.prototype.onEnter.call(this);this._gridProxy.setTarget(this._outScene);this._gridProxy.onEnter();var a=this.action(),a=cc.sequence(a,cc.callFunc(this._switchTargetToInscene,this),a.reverse());this._gridProxy.runAction(cc.sequence(this.easeActionWithAction(a),
cc.callFunc(this.finish,this),cc.stopGrid()))},onExit:function(){this._gridProxy.setTarget(null);this._gridProxy.onExit();cc.TransitionScene.prototype.onExit.call(this)},visit:function(){this._gridProxy.visit()},easeActionWithAction:function(a){return new cc.EaseInOut(a,3)},action:function(){return cc.splitCols(this._duration/2,3)}});cc.TransitionSplitCols.create=function(a,c){return new cc.TransitionSplitCols(a,c)};
cc.TransitionSplitRows=cc.TransitionSplitCols.extend({ctor:function(a,c){cc.TransitionSplitCols.prototype.ctor.call(this);c&&this.initWithDuration(a,c)},action:function(){return cc.splitRows(this._duration/2,3)}});cc.TransitionSplitRows.create=function(a,c){return new cc.TransitionSplitRows(a,c)};
cc.TransitionFadeTR=cc.TransitionScene.extend({_gridProxy:null,ctor:function(a,c){cc.TransitionScene.prototype.ctor.call(this);this._gridProxy=new cc.NodeGrid;c&&this.initWithDuration(a,c)},_sceneOrder:function(){this._isInSceneOnTop=!1},onEnter:function(){cc.TransitionScene.prototype.onEnter.call(this);this._gridProxy.setTarget(this._outScene);this._gridProxy.onEnter();var a=cc.director.getWinSize(),a=this.actionWithSize(cc.size(0|a.width/a.height*12,12));this._gridProxy.runAction(cc.sequence(this.easeActionWithAction(a),
cc.callFunc(this.finish,this),cc.stopGrid()))},visit:function(){this._inScene.visit();this._gridProxy.visit()},easeActionWithAction:function(a){return a},actionWithSize:function(a){return cc.fadeOutTRTiles(this._duration,a)}});cc.TransitionFadeTR.create=function(a,c){return new cc.TransitionFadeTR(a,c)};
cc.TransitionFadeBL=cc.TransitionFadeTR.extend({ctor:function(a,c){cc.TransitionFadeTR.prototype.ctor.call(this);c&&this.initWithDuration(a,c)},actionWithSize:function(a){return cc.fadeOutBLTiles(this._duration,a)}});cc.TransitionFadeBL.create=function(a,c){return new cc.TransitionFadeBL(a,c)};
cc.TransitionFadeUp=cc.TransitionFadeTR.extend({ctor:function(a,c){cc.TransitionFadeTR.prototype.ctor.call(this);c&&this.initWithDuration(a,c)},actionWithSize:function(a){return new cc.FadeOutUpTiles(this._duration,a)}});cc.TransitionFadeUp.create=function(a,c){return new cc.TransitionFadeUp(a,c)};
cc.TransitionFadeDown=cc.TransitionFadeTR.extend({ctor:function(a,c){cc.TransitionFadeTR.prototype.ctor.call(this);c&&this.initWithDuration(a,c)},actionWithSize:function(a){return cc.fadeOutDownTiles(this._duration,a)}});cc.TransitionFadeDown.create=function(a,c){return new cc.TransitionFadeDown(a,c)};cc.SCENE_RADIAL=49153;
cc.TransitionProgress=cc.TransitionScene.extend({_to:0,_from:0,_sceneToBeModified:null,_className:"TransitionProgress",ctor:function(a,c){cc.TransitionScene.prototype.ctor.call(this);c&&this.initWithDuration(a,c)},_setAttrs:function(a,c,d){a.attr({x:c,y:d,anchorX:0.5,anchorY:0.5})},onEnter:function(){cc.TransitionScene.prototype.onEnter.call(this);this._setupTransition();var a=cc.director.getWinSize(),c=new cc.RenderTexture(a.width,a.height);c.sprite.anchorX=0.5;c.sprite.anchorY=0.5;this._setAttrs(c,
a.width/2,a.height/2);c.clear(0,0,0,1);c.begin();this._sceneToBeModified.visit();c.end();this._sceneToBeModified===this._outScene&&this.hideOutShowIn();a=this._progressTimerNodeWithRenderTexture(c);c=cc.sequence(cc.progressFromTo(this._duration,this._from,this._to),cc.callFunc(this.finish,this));a.runAction(c);this.addChild(a,2,cc.SCENE_RADIAL)},onExit:function(){this.removeChildByTag(cc.SCENE_RADIAL,!0);cc.TransitionScene.prototype.onExit.call(this)},_setupTransition:function(){this._sceneToBeModified=
this._outScene;this._from=100;this._to=0},_progressTimerNodeWithRenderTexture:function(a){cc.log("cc.TransitionProgress._progressTimerNodeWithRenderTexture(): should be overridden in subclass");return null},_sceneOrder:function(){this._isInSceneOnTop=!1}});cc.TransitionProgress.create=function(a,c){return new cc.TransitionProgress(a,c)};
cc.TransitionProgressRadialCCW=cc.TransitionProgress.extend({ctor:function(a,c){cc.TransitionProgress.prototype.ctor.call(this);c&&this.initWithDuration(a,c)},_progressTimerNodeWithRenderTexture:function(a){var c=cc.director.getWinSize();a=new cc.ProgressTimer(a.sprite);cc._renderType===cc.game.RENDER_TYPE_WEBGL&&(a.sprite.flippedY=!0);a.type=cc.ProgressTimer.TYPE_RADIAL;a.reverseDir=!1;a.percentage=100;this._setAttrs(a,c.width/2,c.height/2);return a}});
cc.TransitionProgressRadialCCW.create=function(a,c){return new cc.TransitionProgressRadialCCW(a,c)};
cc.TransitionProgressRadialCW=cc.TransitionProgress.extend({ctor:function(a,c){cc.TransitionProgress.prototype.ctor.call(this);c&&this.initWithDuration(a,c)},_progressTimerNodeWithRenderTexture:function(a){var c=cc.director.getWinSize();a=new cc.ProgressTimer(a.sprite);cc._renderType===cc.game.RENDER_TYPE_WEBGL&&(a.sprite.flippedY=!0);a.type=cc.ProgressTimer.TYPE_RADIAL;a.reverseDir=!0;a.percentage=100;this._setAttrs(a,c.width/2,c.height/2);return a}});
cc.TransitionProgressRadialCW.create=function(a,c){var d=new cc.TransitionProgressRadialCW;return null!==d&&d.initWithDuration(a,c)?d:new cc.TransitionProgressRadialCW(a,c)};
cc.TransitionProgressHorizontal=cc.TransitionProgress.extend({ctor:function(a,c){cc.TransitionProgress.prototype.ctor.call(this);c&&this.initWithDuration(a,c)},_progressTimerNodeWithRenderTexture:function(a){var c=cc.director.getWinSize();a=new cc.ProgressTimer(a.sprite);cc._renderType===cc.game.RENDER_TYPE_WEBGL&&(a.sprite.flippedY=!0);a.type=cc.ProgressTimer.TYPE_BAR;a.midPoint=cc.p(1,0);a.barChangeRate=cc.p(1,0);a.percentage=100;this._setAttrs(a,c.width/2,c.height/2);return a}});
cc.TransitionProgressHorizontal.create=function(a,c){return new cc.TransitionProgressHorizontal(a,c)};
cc.TransitionProgressVertical=cc.TransitionProgress.extend({ctor:function(a,c){cc.TransitionProgress.prototype.ctor.call(this);c&&this.initWithDuration(a,c)},_progressTimerNodeWithRenderTexture:function(a){var c=cc.director.getWinSize();a=new cc.ProgressTimer(a.sprite);cc._renderType===cc.game.RENDER_TYPE_WEBGL&&(a.sprite.flippedY=!0);a.type=cc.ProgressTimer.TYPE_BAR;a.midPoint=cc.p(0,0);a.barChangeRate=cc.p(0,1);a.percentage=100;this._setAttrs(a,c.width/2,c.height/2);return a}});
cc.TransitionProgressVertical.create=function(a,c){return new cc.TransitionProgressVertical(a,c)};
cc.TransitionProgressInOut=cc.TransitionProgress.extend({ctor:function(a,c){cc.TransitionProgress.prototype.ctor.call(this);c&&this.initWithDuration(a,c)},_progressTimerNodeWithRenderTexture:function(a){var c=cc.director.getWinSize();a=new cc.ProgressTimer(a.sprite);cc._renderType===cc.game.RENDER_TYPE_WEBGL&&(a.sprite.flippedY=!0);a.type=cc.ProgressTimer.TYPE_BAR;a.midPoint=cc.p(0.5,0.5);a.barChangeRate=cc.p(1,1);a.percentage=0;this._setAttrs(a,c.width/2,c.height/2);return a},_sceneOrder:function(){this._isInSceneOnTop=
!1},_setupTransition:function(){this._sceneToBeModified=this._inScene;this._from=0;this._to=100}});cc.TransitionProgressInOut.create=function(a,c){return new cc.TransitionProgressInOut(a,c)};
cc.TransitionProgressOutIn=cc.TransitionProgress.extend({ctor:function(a,c){cc.TransitionProgress.prototype.ctor.call(this);c&&this.initWithDuration(a,c)},_progressTimerNodeWithRenderTexture:function(a){var c=cc.director.getWinSize();a=new cc.ProgressTimer(a.sprite);cc._renderType===cc.game.RENDER_TYPE_WEBGL&&(a.sprite.flippedY=!0);a.type=cc.ProgressTimer.TYPE_BAR;a.midPoint=cc.p(0.5,0.5);a.barChangeRate=cc.p(1,1);a.percentage=100;this._setAttrs(a,c.width/2,c.height/2);return a}});
cc.TransitionProgressOutIn.create=function(a,c){return new cc.TransitionProgressOutIn(a,c)};cc.TransitionPageTurn=cc.TransitionScene.extend({ctor:function(a,c,d){cc.TransitionScene.prototype.ctor.call(this);this._gridProxy=new cc.NodeGrid;this.initWithDuration(a,c,d)},_back:!0,_gridProxy:null,_className:"TransitionPageTurn",initWithDuration:function(a,c,d){this._back=d;cc.TransitionScene.prototype.initWithDuration.call(this,a,c);return!0},actionWithSize:function(a){return this._back?cc.reverseTime(cc.pageTurn3D(this._duration,a)):cc.pageTurn3D(this._duration,a)},onEnter:function(){cc.TransitionScene.prototype.onEnter.call(this);
var a=cc.director.getWinSize(),c;a.width>a.height?(a=16,c=12):(a=12,c=16);a=this.actionWithSize(cc.size(a,c));c=this._gridProxy;this._back?(c.setTarget(this._inScene),c.onEnter(),this._inScene.visible=!1,c.runAction(cc.sequence(a,cc.callFunc(this.finish,this),cc.stopGrid())),this._inScene.runAction(cc.show())):(c.setTarget(this._outScene),c.onEnter(),c.runAction(cc.sequence(a,cc.callFunc(this.finish,this),cc.stopGrid())))},visit:function(){this._back?this._outScene.visit():this._inScene.visit();this._gridProxy.visit()},
_sceneOrder:function(){this._isInSceneOnTop=this._back}});cc.TransitionPageTurn.create=function(a,c,d){return new cc.TransitionPageTurn(a,c,d)};cc.audioEngine={};cc.audioEngine.stopAllEffects=function(){audio.stopAllSounds()};cc.audioEngine.pauseMusic=function(){audio.pauseMusic()};cc.audioEngine.end=function(){audio.onDestroy()};cc.audioEngine.resumeMusic=function(){audio.resumeMusic()};cc.audioEngine.playEffect=function(){};cc.Codec={name:"Jacob__Codec"};cc.unzip=function(){return cc.Codec.GZip.gunzip.apply(cc.Codec.GZip,arguments)};cc.unzipBase64=function(){var a=cc.Codec.Base64.decode.apply(cc.Codec.Base64,arguments);return cc.Codec.GZip.gunzip.apply(cc.Codec.GZip,[a])};cc.unzipBase64AsArray=function(a,c){c=c||1;var d=this.unzipBase64(a),e=[],f,g,h;f=0;for(h=d.length/c;f<h;f++)for(e[f]=0,g=c-1;0<=g;--g)e[f]+=d.charCodeAt(f*c+g)<<8*g;return e};
cc.unzipAsArray=function(a,c){c=c||1;var d=this.unzip(a),e=[],f,g,h;f=0;for(h=d.length/c;f<h;f++)for(e[f]=0,g=c-1;0<=g;--g)e[f]+=d.charCodeAt(f*c+g)<<8*g;return e};cc.StringToArray=function(a){a=a.split(",");var c=[],d;for(d=0;d<a.length;d++)c.push(parseInt(a[d]));return c};cc.Codec.Base64={name:"Jacob__Codec__Base64"};cc.Codec.Base64._keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d";
cc.Codec.Base64.decode=function(a){var c=[],d,e,f,g,h,m=0;for(a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");m<a.length;)d=this._keyStr.indexOf(a.charAt(m++)),e=this._keyStr.indexOf(a.charAt(m++)),g=this._keyStr.indexOf(a.charAt(m++)),h=this._keyStr.indexOf(a.charAt(m++)),d=d<<2|e>>4,e=(e&15)<<4|g>>2,f=(g&3)<<6|h,c.push(String.fromCharCode(d)),64!==g&&c.push(String.fromCharCode(e)),64!==h&&c.push(String.fromCharCode(f));return c=c.join("")};
cc.Codec.Base64.decodeAsArray=function(a,c){var d=this.decode(a),e=[],f,g,h;f=0;for(h=d.length/c;f<h;f++)for(e[f]=0,g=c-1;0<=g;--g)e[f]+=d.charCodeAt(f*c+g)<<8*g;return e};cc.uint8ArrayToUint32Array=function(a){if(0!==a.length%4)return null;for(var c=a.length/4,d=window.Uint32Array?new Uint32Array(c):[],e=0;e<c;e++){var f=4*e;d[e]=a[f]+256*a[f+1]+65536*a[f+2]+16777216*a[f+3]}return d};cc.Codec.GZip=function(a){this.data=a;this.debug=!1;this.gpflags=void 0;this.files=0;this.unzipped=[];this.buf32k=Array(32768);this.bIdx=0;this.modeZIP=!1;this.bytepos=0;this.bb=1;this.bits=0;this.nameBuf=[];this.fileout=void 0;this.literalTree=Array(cc.Codec.GZip.LITERALS);this.distanceTree=Array(32);this.treepos=0;this.Places=null;this.len=0;this.fpos=Array(17);this.fpos[0]=0;this.fmax=this.flens=void 0};cc.Codec.GZip.gunzip=function(a){return(new cc.Codec.GZip(a)).gunzip()[0][0]};
cc.Codec.GZip.HufNode=function(){this.b1=this.b0=0;this.jump=null;this.jumppos=-1};cc.Codec.GZip.LITERALS=288;cc.Codec.GZip.NAMEMAX=256;
cc.Codec.GZip.bitReverse=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,
97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,3,131,67,195,35,163,99,227,19,147,83,211,51,179,115,243,11,139,75,203,43,171,107,235,27,155,91,219,59,187,123,251,7,135,71,199,39,167,103,231,23,151,87,215,55,183,119,247,15,143,79,207,47,175,111,239,31,159,95,223,63,191,127,255];
cc.Codec.GZip.cplens=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0];cc.Codec.GZip.cplext=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99];cc.Codec.GZip.cpdist=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];cc.Codec.GZip.cpdext=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];cc.Codec.GZip.border=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];
cc.Codec.GZip.prototype.gunzip=function(){this.outputArr=[];this.nextFile();return this.unzipped};cc.Codec.GZip.prototype.readByte=function(){this.bits+=8;return this.bytepos<this.data.length?this.data.charCodeAt(this.bytepos++):-1};cc.Codec.GZip.prototype.byteAlign=function(){this.bb=1};cc.Codec.GZip.prototype.readBit=function(){var a;this.bits++;a=this.bb&1;this.bb>>=1;0===this.bb&&(this.bb=this.readByte(),a=this.bb&1,this.bb=this.bb>>1|128);return a};
cc.Codec.GZip.prototype.readBits=function(a){for(var c=0,d=a;d--;)c=c<<1|this.readBit();a&&(c=cc.Codec.GZip.bitReverse[c]>>8-a);return c};cc.Codec.GZip.prototype.flushBuffer=function(){this.bIdx=0};cc.Codec.GZip.prototype.addBuffer=function(a){this.buf32k[this.bIdx++]=a;this.outputArr.push(String.fromCharCode(a));32768===this.bIdx&&(this.bIdx=0)};
cc.Codec.GZip.prototype.IsPat=function(){for(;;){if(this.fpos[this.len]>=this.fmax)return-1;if(this.flens[this.fpos[this.len]]===this.len)return this.fpos[this.len]++;this.fpos[this.len]++}};
cc.Codec.GZip.prototype.Rec=function(){var a=this.Places[this.treepos],c;if(17===this.len)return-1;this.treepos++;this.len++;c=this.IsPat();if(0<=c)a.b0=c;else if(a.b0=32768,this.Rec())return-1;c=this.IsPat();if(0<=c)a.b1=c,a.jump=null;else if(a.b1=32768,a.jump=this.Places[this.treepos],a.jumppos=this.treepos,this.Rec())return-1;this.len--;return 0};
cc.Codec.GZip.prototype.CreateTree=function(a,c,d,e){this.Places=a;this.treepos=0;this.flens=d;this.fmax=c;for(a=0;17>a;a++)this.fpos[a]=0;this.len=0;return this.Rec()?-1:0};cc.Codec.GZip.prototype.DecodeValue=function(a){for(var c,d,e=0,f=a[e];;)if(c=this.readBit()){if(!(f.b1&32768))return f.b1;f=f.jump;c=a.length;for(d=0;d<c;d++)if(a[d]===f){e=d;break}}else{if(!(f.b0&32768))return f.b0;e++;f=a[e]}return-1};
cc.Codec.GZip.prototype.DeflateLoop=function(){var a,c,d,e,f;do if(a=this.readBit(),d=this.readBits(2),0===d)for(this.byteAlign(),d=this.readByte(),d|=this.readByte()<<8,c=this.readByte(),c|=this.readByte()<<8,(d^~c)&65535&&document.write("BlockLen checksum mismatch\n");d--;)c=this.readByte(),this.addBuffer(c);else if(1===d)for(;;)if(d=cc.Codec.GZip.bitReverse[this.readBits(7)]>>1,23<d?(d=d<<1|this.readBit(),199<d?(d-=128,d=d<<1|this.readBit()):(d-=48,143<d&&(d+=136))):d+=256,256>d)this.addBuffer(d);
else if(256===d)break;else{var g;d-=257;f=this.readBits(cc.Codec.GZip.cplext[d])+cc.Codec.GZip.cplens[d];d=cc.Codec.GZip.bitReverse[this.readBits(5)]>>3;8<cc.Codec.GZip.cpdext[d]?(g=this.readBits(8),g|=this.readBits(cc.Codec.GZip.cpdext[d]-8)<<8):g=this.readBits(cc.Codec.GZip.cpdext[d]);g+=cc.Codec.GZip.cpdist[d];for(d=0;d<f;d++)c=this.buf32k[this.bIdx-g&32767],this.addBuffer(c)}else if(2===d){var h=Array(320);c=257+this.readBits(5);g=1+this.readBits(5);e=4+this.readBits(4);for(d=0;19>d;d++)h[d]=
0;for(d=0;d<e;d++)h[cc.Codec.GZip.border[d]]=this.readBits(3);f=this.distanceTree.length;for(e=0;e<f;e++)this.distanceTree[e]=new cc.Codec.GZip.HufNode;if(this.CreateTree(this.distanceTree,19,h,0))return this.flushBuffer(),1;f=c+g;e=0;for(var m=-1;e<f;)if(m++,d=this.DecodeValue(this.distanceTree),16>d)h[e++]=d;else if(16===d){var n;d=3+this.readBits(2);if(e+d>f)return this.flushBuffer(),1;for(n=e?h[e-1]:0;d--;)h[e++]=n}else{d=17===d?3+this.readBits(3):11+this.readBits(7);if(e+d>f)return this.flushBuffer(),
1;for(;d--;)h[e++]=0}f=this.literalTree.length;for(e=0;e<f;e++)this.literalTree[e]=new cc.Codec.GZip.HufNode;if(this.CreateTree(this.literalTree,c,h,0))return this.flushBuffer(),1;f=this.literalTree.length;for(e=0;e<f;e++)this.distanceTree[e]=new cc.Codec.GZip.HufNode;d=[];for(e=c;e<h.length;e++)d[e-c]=h[e];if(this.CreateTree(this.distanceTree,g,d,0))return this.flushBuffer(),1;for(;;)if(d=this.DecodeValue(this.literalTree),256<=d){d-=256;if(0===d)break;d--;f=this.readBits(cc.Codec.GZip.cplext[d])+
cc.Codec.GZip.cplens[d];d=this.DecodeValue(this.distanceTree);8<cc.Codec.GZip.cpdext[d]?(g=this.readBits(8),g|=this.readBits(cc.Codec.GZip.cpdext[d]-8)<<8):g=this.readBits(cc.Codec.GZip.cpdext[d]);for(g+=cc.Codec.GZip.cpdist[d];f--;)c=this.buf32k[this.bIdx-g&32767],this.addBuffer(c)}else this.addBuffer(d)}while(!a);this.flushBuffer();this.byteAlign();return 0};cc.Codec.GZip.prototype.unzipFile=function(a){var c;this.gunzip();for(c=0;c<this.unzipped.length;c++)if(this.unzipped[c][1]===a)return this.unzipped[c][0]};
cc.Codec.GZip.prototype.nextFile=function(){this.outputArr=[];this.modeZIP=!1;var a=[];a[0]=this.readByte();a[1]=this.readByte();120===a[0]&&218===a[1]&&(this.DeflateLoop(),this.unzipped[this.files]=[this.outputArr.join(""),"geonext.gxt"],this.files++);31===a[0]&&139===a[1]&&(this.skipdir(),this.unzipped[this.files]=[this.outputArr.join(""),"file"],this.files++);if(80===a[0]&&75===a[1]&&(this.modeZIP=!0,a[2]=this.readByte(),a[3]=this.readByte(),3===a[2]&&4===a[3])){a[0]=this.readByte();a[1]=this.readByte();
this.gpflags=this.readByte();this.gpflags|=this.readByte()<<8;a=this.readByte();a|=this.readByte()<<8;this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();var c=this.readByte(),c=c|this.readByte()<<8,d=this.readByte(),d=d|this.readByte()<<8,e=0;for(this.nameBuf=[];c--;){var f=this.readByte();"/"===f|":"===f?e=0:e<cc.Codec.GZip.NAMEMAX-1&&(this.nameBuf[e++]=String.fromCharCode(f))}this.fileout||
(this.fileout=this.nameBuf);for(var e=0;e<d;)this.readByte(),e++;8===a&&(this.DeflateLoop(),this.unzipped[this.files]=[this.outputArr.join(""),this.nameBuf.join("")],this.files++);this.skipdir()}};
cc.Codec.GZip.prototype.skipdir=function(){var a=[],c;this.gpflags&8&&(a[0]=this.readByte(),a[1]=this.readByte(),a[2]=this.readByte(),a[3]=this.readByte(),this.readByte(),this.readByte(),this.readByte(),this.readByte(),this.readByte(),this.readByte(),this.readByte(),this.readByte());this.modeZIP&&this.nextFile();a[0]=this.readByte();if(8!==a[0])return 0;this.gpflags=this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();if(this.gpflags&4)for(a[0]=
this.readByte(),a[2]=this.readByte(),this.len=a[0]+256*a[1],a=0;a<this.len;a++)this.readByte();if(this.gpflags&8)for(a=0,this.nameBuf=[];c=this.readByte();){if("7"===c||":"===c)a=0;a<cc.Codec.GZip.NAMEMAX-1&&(this.nameBuf[a++]=c)}if(this.gpflags&16)for(;this.readByte(););this.gpflags&2&&(this.readByte(),this.readByte());this.DeflateLoop();this.readByte();this.readByte();this.readByte();this.readByte();this.modeZIP&&this.nextFile()};/*
 zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */
(function(){function a(a){throw a;}function c(a,c){var d=a.split("."),e=F;d[0]in e||!e.execScript||e.execScript("var "+d[0]);for(var f;d.length&&(f=d.shift());)d.length||c===E?e=e[f]?e[f]:e[f]={}:e[f]=c}function d(a){if("string"===typeof a){a=a.split("");var c,d;c=0;for(d=a.length;c<d;c++)a[c]=(a[c].charCodeAt(0)&255)>>>0}c=1;d=0;for(var e=a.length,f,g=0;0<e;){f=1024<e?1024:e;e-=f;do c+=a[g++],d+=c;while(--f);c%=65521;d%=65521}return(d<<16|c)>>>0}function e(c,d){this.index="number"===typeof d?d:0;
this.i=0;this.buffer=c instanceof(D?Uint8Array:Array)?c:new (D?Uint8Array:Array)(32768);2*this.buffer.length<=this.index&&a(Error("invalid index"));this.buffer.length<=this.index&&this.f()}function f(a){this.buffer=new (D?Uint16Array:Array)(2*a);this.length=0}function g(a){var c=a.length,d=0,e=Number.POSITIVE_INFINITY,f,g,h,m,n,r,s,t,u;for(t=0;t<c;++t)a[t]>d&&(d=a[t]),a[t]<e&&(e=a[t]);f=1<<d;g=new (D?Uint32Array:Array)(f);h=1;m=0;for(n=2;h<=d;){for(t=0;t<c;++t)if(a[t]===h){r=0;s=m;for(u=0;u<h;++u)r=
r<<1|s&1,s>>=1;for(u=r;u<f;u+=n)g[u]=h<<16|t;++m}++h;m<<=1;n<<=1}return[g,d,e]}function h(a,c){this.h=S;this.w=0;this.input=a;this.b=0;c&&(c.lazy&&(this.w=c.lazy),"number"===typeof c.compressionType&&(this.h=c.compressionType),c.outputBuffer&&(this.a=D&&c.outputBuffer instanceof Array?new Uint8Array(c.outputBuffer):c.outputBuffer),"number"===typeof c.outputIndex&&(this.b=c.outputIndex));this.a||(this.a=new (D?Uint8Array:Array)(32768))}function m(a,c){this.length=a;this.G=c}function n(){var c=J;switch(H){case 3===
c:return[257,c-3,0];case 4===c:return[258,c-4,0];case 5===c:return[259,c-5,0];case 6===c:return[260,c-6,0];case 7===c:return[261,c-7,0];case 8===c:return[262,c-8,0];case 9===c:return[263,c-9,0];case 10===c:return[264,c-10,0];case 12>=c:return[265,c-11,1];case 14>=c:return[266,c-13,1];case 16>=c:return[267,c-15,1];case 18>=c:return[268,c-17,1];case 22>=c:return[269,c-19,2];case 26>=c:return[270,c-23,2];case 30>=c:return[271,c-27,2];case 34>=c:return[272,c-31,2];case 42>=c:return[273,c-35,3];case 50>=
c:return[274,c-43,3];case 58>=c:return[275,c-51,3];case 66>=c:return[276,c-59,3];case 82>=c:return[277,c-67,4];case 98>=c:return[278,c-83,4];case 114>=c:return[279,c-99,4];case 130>=c:return[280,c-115,4];case 162>=c:return[281,c-131,5];case 194>=c:return[282,c-163,5];case 226>=c:return[283,c-195,5];case 257>=c:return[284,c-227,5];case 258===c:return[285,c-258,0];default:a("invalid length: "+c)}}function r(c,d){function e(c,d){var f=c.G,g=[],h=0,m;m=N[c.length];g[h++]=m&65535;g[h++]=m>>16&255;g[h++]=
m>>24;var n;switch(H){case 1===f:n=[0,f-1,0];break;case 2===f:n=[1,f-2,0];break;case 3===f:n=[2,f-3,0];break;case 4===f:n=[3,f-4,0];break;case 6>=f:n=[4,f-5,1];break;case 8>=f:n=[5,f-7,1];break;case 12>=f:n=[6,f-9,2];break;case 16>=f:n=[7,f-13,2];break;case 24>=f:n=[8,f-17,3];break;case 32>=f:n=[9,f-25,3];break;case 48>=f:n=[10,f-33,4];break;case 64>=f:n=[11,f-49,4];break;case 96>=f:n=[12,f-65,5];break;case 128>=f:n=[13,f-97,5];break;case 192>=f:n=[14,f-129,6];break;case 256>=f:n=[15,f-193,6];break;
case 384>=f:n=[16,f-257,7];break;case 512>=f:n=[17,f-385,7];break;case 768>=f:n=[18,f-513,8];break;case 1024>=f:n=[19,f-769,8];break;case 1536>=f:n=[20,f-1025,9];break;case 2048>=f:n=[21,f-1537,9];break;case 3072>=f:n=[22,f-2049,10];break;case 4096>=f:n=[23,f-3073,10];break;case 6144>=f:n=[24,f-4097,11];break;case 8192>=f:n=[25,f-6145,11];break;case 12288>=f:n=[26,f-8193,12];break;case 16384>=f:n=[27,f-12289,12];break;case 24576>=f:n=[28,f-16385,13];break;case 32768>=f:n=[29,f-24577,13];break;default:a("invalid distance")}m=
n;g[h++]=m[0];g[h++]=m[1];g[h++]=m[2];f=0;for(h=g.length;f<h;++f)u[A++]=g[f];B[g[0]]++;z[g[3]]++;w=c.length+d-1;t=null}var f,g,h,n,r,s={},t,u=D?new Uint16Array(2*d.length):[],A=0,w=0,B=new (D?Uint32Array:Array)(286),z=new (D?Uint32Array:Array)(30),C=c.w,F;if(!D){for(h=0;285>=h;)B[h++]=0;for(h=0;29>=h;)z[h++]=0}B[256]=1;f=0;for(g=d.length;f<g;++f){h=r=0;for(n=3;h<n&&f+h!==g;++h)r=r<<8|d[f+h];s[r]===E&&(s[r]=[]);h=s[r];if(!(0<w--)){for(;0<h.length&&32768<f-h[0];)h.shift();if(f+3>=g){t&&e(t,-1);h=0;
for(n=g-f;h<n;++h)F=d[f+h],u[A++]=F,++B[F];break}if(0<h.length){r=n=E;var G=0,K=E,I=E,P=K=E,L=d.length,I=0,P=h.length;a:for(;I<P;I++){n=h[P-I-1];K=3;if(3<G){for(K=G;3<K;K--)if(d[n+K-1]!==d[f+K-1])continue a;K=G}for(;258>K&&f+K<L&&d[n+K]===d[f+K];)++K;K>G&&(r=n,G=K);if(258===K)break}n=new m(G,f-r);t?t.length<n.length?(F=d[f-1],u[A++]=F,++B[F],e(n,0)):e(t,-1):n.length<C?t=n:e(n,0)}else t?e(t,-1):(F=d[f],u[A++]=F,++B[F])}h.push(f)}u[A++]=256;B[256]++;c.L=B;c.K=z;return D?u.subarray(0,A):u}function s(a,
c){function d(a){var c=u[a][A[a]];c===s?(d(a+1),d(a+1)):--t[c];++A[a]}var e=a.length,g=new f(572),h=new (D?Uint8Array:Array)(e),m,n,r;if(!D)for(n=0;n<e;n++)h[n]=0;for(n=0;n<e;++n)0<a[n]&&g.push(n,a[n]);e=Array(g.length/2);m=new (D?Uint32Array:Array)(g.length/2);if(1===e.length)return h[g.pop().index]=1,h;n=0;for(r=g.length/2;n<r;++n)e[n]=g.pop(),m[n]=e[n].value;var s=m.length;n=new (D?Uint16Array:Array)(c);var g=new (D?Uint8Array:Array)(c),t=new (D?Uint8Array:Array)(s);r=Array(c);var u=Array(c),A=
Array(c),w=(1<<c)-s,B=1<<c-1,z,C,E;n[c-1]=s;for(z=0;z<c;++z)w<B?g[z]=0:(g[z]=1,w-=B),w<<=1,n[c-2-z]=(n[c-1-z]/2|0)+s;n[0]=g[0];r[0]=Array(n[0]);u[0]=Array(n[0]);for(z=1;z<c;++z)n[z]>2*n[z-1]+g[z]&&(n[z]=2*n[z-1]+g[z]),r[z]=Array(n[z]),u[z]=Array(n[z]);for(w=0;w<s;++w)t[w]=c;for(B=0;B<n[c-1];++B)r[c-1][B]=m[B],u[c-1][B]=B;for(w=0;w<c;++w)A[w]=0;1===g[c-1]&&(--t[0],++A[c-1]);for(z=c-2;0<=z;--z){C=w=0;E=A[z+1];for(B=0;B<n[z];B++)C=r[z+1][E]+r[z+1][E+1],C>m[w]?(r[z][B]=C,u[z][B]=s,E+=2):(r[z][B]=m[w],
u[z][B]=w,++w);A[z]=0;1===g[z]&&d(z)}m=t;n=0;for(r=e.length;n<r;++n)h[e[n].index]=m[n];return h}function t(c){var d=new (D?Uint16Array:Array)(c.length),e=[],f=[],g=0,h,m,n;h=0;for(m=c.length;h<m;h++)e[c[h]]=(e[c[h]]|0)+1;h=1;for(m=16;h<=m;h++)f[h]=g,g+=e[h]|0,g>1<<h&&a("overcommitted"),g<<=1;65536>g&&a("undercommitted");h=0;for(m=c.length;h<m;h++)for(g=f[c[h]],f[c[h]]+=1,e=d[h]=0,n=c[h];e<n;e++)d[h]=d[h]<<1|g&1,g>>>=1;return d}function u(a,c){this.input=a;this.a=new (D?Uint8Array:Array)(32768);this.h=
L.j;var d={},e;!c&&(c={})||"number"!==typeof c.compressionType||(this.h=c.compressionType);for(e in c)d[e]=c[e];d.outputBuffer=this.a;this.z=new h(this.input,d)}function w(c,d){this.k=[];this.l=32768;this.e=this.g=this.c=this.q=0;this.input=D?new Uint8Array(c):c;this.s=!1;this.m=T;this.B=!1;if(d||!(d={}))d.index&&(this.c=d.index),d.bufferSize&&(this.l=d.bufferSize),d.bufferType&&(this.m=d.bufferType),d.resize&&(this.B=d.resize);switch(this.m){case M:this.b=32768;this.a=new (D?Uint8Array:Array)(32768+
this.l+258);break;case T:this.b=0;this.a=new (D?Uint8Array:Array)(this.l);this.f=this.J;this.t=this.H;this.o=this.I;break;default:a(Error("invalid inflate mode"))}}function z(c,d){for(var e=c.g,f=c.e,g=c.input,h=c.c,m;f<d;)m=g[h++],m===E&&a(Error("input buffer is broken")),e|=m<<f,f+=8;c.g=e>>>d;c.e=f-d;c.c=h;return e&(1<<d)-1}function A(c,d){for(var e=c.g,f=c.e,g=c.input,h=c.c,m=d[0],n=d[1],r;f<n;)r=g[h++],r===E&&a(Error("input buffer is broken")),e|=r<<f,f+=8;g=m[e&(1<<n)-1];m=g>>>16;c.g=e>>m;c.e=
f-m;c.c=h;return g&65535}function B(a){function c(a,d,e){var f,g,h,m;for(m=0;m<a;)switch(f=A(this,d),f){case 16:for(h=3+z(this,2);h--;)e[m++]=g;break;case 17:for(h=3+z(this,3);h--;)e[m++]=0;g=0;break;case 18:for(h=11+z(this,7);h--;)e[m++]=0;g=0;break;default:g=e[m++]=f}return e}var d=z(a,5)+257,e=z(a,5)+1,f=z(a,4)+4,h=new (D?Uint8Array:Array)(U.length),m;for(m=0;m<f;++m)h[U[m]]=z(a,3);f=g(h);h=new (D?Uint8Array:Array)(d);m=new (D?Uint8Array:Array)(e);a.o(g(c.call(a,d,f,h)),g(c.call(a,e,f,m)))}function C(c,
d){var e,f;this.input=c;this.c=0;if(d||!(d={}))d.index&&(this.c=d.index),d.verify&&(this.M=d.verify);e=c[this.c++];f=c[this.c++];switch(e&15){case X:this.method=X;break;default:a(Error("unsupported compression method"))}0!==((e<<8)+f)%31&&a(Error("invalid fcheck flag:"+((e<<8)+f)%31));f&32&&a(Error("fdict flag is not supported"));this.A=new w(c,{index:this.c,bufferSize:d.bufferSize,bufferType:d.bufferType,resize:d.resize})}var E=void 0,H=!0,F=this,D="undefined"!==typeof Uint8Array&&"undefined"!==
typeof Uint16Array&&"undefined"!==typeof Uint32Array;e.prototype.f=function(){var a=this.buffer,c,d=a.length,e=new (D?Uint8Array:Array)(d<<1);if(D)e.set(a);else for(c=0;c<d;++c)e[c]=a[c];return this.buffer=e};e.prototype.d=function(a,c,d){var e=this.buffer,f=this.index,g=this.i,h=e[f];d&&1<c&&(a=8<c?(O[a&255]<<24|O[a>>>8&255]<<16|O[a>>>16&255]<<8|O[a>>>24&255])>>32-c:O[a]>>8-c);if(8>c+g)h=h<<c|a,g+=c;else for(d=0;d<c;++d)h=h<<1|a>>c-d-1&1,8===++g&&(g=0,e[f++]=O[h],h=0,f===e.length&&(e=this.f()));
e[f]=h;this.buffer=e;this.i=g;this.index=f};e.prototype.finish=function(){var a=this.buffer,c=this.index,d;0<this.i&&(a[c]<<=8-this.i,a[c]=O[a[c]],c++);D?d=a.subarray(0,c):(a.length=c,d=a);return d};var K=new (D?Uint8Array:Array)(256),G;for(G=0;256>G;++G){for(var I=G,P=I,Q=7,I=I>>>1;I;I>>>=1)P<<=1,P|=I&1,--Q;K[G]=(P<<Q&255)>>>0}var O=K,K=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,
498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,
3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,
2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,
2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,
2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918E3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,
711928724,3020668471,3272380065,1510334235,755167117];D&&new Uint32Array(K);f.prototype.getParent=function(a){return 2*((a-2)/4|0)};f.prototype.push=function(a,c){var d,e,f=this.buffer,g;d=this.length;f[this.length++]=c;for(f[this.length++]=a;0<d;)if(e=this.getParent(d),f[d]>f[e])g=f[d],f[d]=f[e],f[e]=g,g=f[d+1],f[d+1]=f[e+1],f[e+1]=g,d=e;else break;return this.length};f.prototype.pop=function(){var a,c,d=this.buffer,e,f,g;c=d[0];a=d[1];this.length-=2;d[0]=d[this.length];d[1]=d[this.length+1];for(g=
0;;){f=2*g+2;if(f>=this.length)break;f+2<this.length&&d[f+2]>d[f]&&(f+=2);if(d[f]>d[g])e=d[g],d[g]=d[f],d[f]=e,e=d[g+1],d[g+1]=d[f+1],d[f+1]=e;else break;g=f}return{index:a,value:c,length:this.length}};var S=2,K={NONE:0,r:1,j:S,N:3},R=[];for(G=0;288>G;G++)switch(H){case 143>=G:R.push([G+48,8]);break;case 255>=G:R.push([G-144+400,9]);break;case 279>=G:R.push([G-256+0,7]);break;case 287>=G:R.push([G-280+192,8]);break;default:a("invalid literal: "+G)}h.prototype.n=function(){var c,d,f,g,h=this.input;
switch(this.h){case 0:f=0;for(g=h.length;f<g;){d=D?h.subarray(f,f+65535):h.slice(f,f+65535);f+=d.length;var m=f===g,n=E,u=n=E,u=n=E,A=this.a,w=this.b;if(D){for(A=new Uint8Array(this.a.buffer);A.length<=w+d.length+5;)A=new Uint8Array(A.length<<1);A.set(this.a)}n=m?1:0;A[w++]=n|0;n=d.length;u=~n+65536&65535;A[w++]=n&255;A[w++]=n>>>8&255;A[w++]=u&255;A[w++]=u>>>8&255;if(D)A.set(d,w),w+=d.length,A=A.subarray(0,w);else{n=0;for(u=d.length;n<u;++n)A[w++]=d[n];A.length=w}this.b=w;this.a=A}break;case 1:f=
new e(new Uint8Array(this.a.buffer),this.b);f.d(1,1,H);f.d(1,2,H);h=r(this,h);d=0;for(m=h.length;d<m;d++)if(g=h[d],e.prototype.d.apply(f,R[g]),256<g)f.d(h[++d],h[++d],H),f.d(h[++d],5),f.d(h[++d],h[++d],H);else if(256===g)break;this.a=f.finish();this.b=this.a.length;break;case S:g=new e(new Uint8Array(this.a),this.b);var z,B,C,F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],K,G,n=Array(19),I,A=S;g.d(1,1,H);g.d(A,2,H);h=r(this,h);u=s(this.L,15);K=t(u);A=s(this.K,7);w=t(A);for(z=286;257<z&&0===u[z-
1];z--);for(B=30;1<B&&0===A[B-1];B--);var P=z,L=B;c=new (D?Uint32Array:Array)(P+L);var J=new (D?Uint32Array:Array)(316),M,O;G=new (D?Uint8Array:Array)(19);for(I=C=0;I<P;I++)c[C++]=u[I];for(I=0;I<L;I++)c[C++]=A[I];if(!D)for(I=0,L=G.length;I<L;++I)G[I]=0;I=M=0;for(L=c.length;I<L;I+=C){for(C=1;I+C<L&&c[I+C]===c[I];++C);P=C;if(0===c[I])if(3>P)for(;0<P--;)J[M++]=0,G[0]++;else for(;0<P;)O=138>P?P:138,O>P-3&&O<P&&(O=P-3),10>=O?(J[M++]=17,J[M++]=O-3,G[17]++):(J[M++]=18,J[M++]=O-11,G[18]++),P-=O;else if(J[M++]=
c[I],G[c[I]]++,P--,3>P)for(;0<P--;)J[M++]=c[I],G[c[I]]++;else for(;0<P;)O=6>P?P:6,O>P-3&&O<P&&(O=P-3),J[M++]=16,J[M++]=O-3,G[16]++,P-=O}c=D?J.subarray(0,M):J.slice(0,M);G=s(G,7);for(I=0;19>I;I++)n[I]=G[F[I]];for(C=19;4<C&&0===n[C-1];C--);F=t(G);g.d(z-257,5,H);g.d(B-1,5,H);g.d(C-4,4,H);for(I=0;I<C;I++)g.d(n[I],3,H);I=0;for(n=c.length;I<n;I++)if(d=c[I],g.d(F[d],G[d],H),16<=d){I++;switch(d){case 16:m=2;break;case 17:m=3;break;case 18:m=7;break;default:a("invalid code: "+d)}g.d(c[I],m,H)}m=[K,u];w=[w,
A];d=m[0];m=m[1];A=w[0];K=w[1];w=0;for(n=h.length;w<n;++w)if(f=h[w],g.d(d[f],m[f],H),256<f)g.d(h[++w],h[++w],H),u=h[++w],g.d(A[u],K[u],H),g.d(h[++w],h[++w],H);else if(256===f)break;this.a=g.finish();this.b=this.a.length;break;default:a("invalid compression type")}return this.a};G=[];var J;for(J=3;258>=J;J++)I=n(),G[J]=I[2]<<24|I[1]<<16|I[0];var N=D?new Uint32Array(G):G,L=K;u.prototype.n=function(){var c,e,f,g,h=0;g=this.a;c=X;switch(c){case X:e=Math.LOG2E*Math.log(32768)-8;break;default:a(Error("invalid compression method"))}e=
e<<4|c;g[h++]=e;switch(c){case X:switch(this.h){case L.NONE:f=0;break;case L.r:f=1;break;case L.j:f=2;break;default:a(Error("unsupported compression type"))}break;default:a(Error("invalid compression method"))}c=f<<6|0;g[h++]=c|31-(256*e+c)%31;c=d(this.input);this.z.b=h;g=this.z.n();h=g.length;D&&(g=new Uint8Array(g.buffer),g.length<=h+4&&(this.a=new Uint8Array(g.length+4),this.a.set(g),g=this.a),g=g.subarray(0,h+4));g[h++]=c>>24&255;g[h++]=c>>16&255;g[h++]=c>>8&255;g[h++]=c&255;return g};c("Zlib.Deflate",
u);c("Zlib.Deflate.compress",function(a,c){return(new u(a,c)).n()});c("Zlib.Deflate.CompressionType",L);c("Zlib.Deflate.CompressionType.NONE",L.NONE);c("Zlib.Deflate.CompressionType.FIXED",L.r);c("Zlib.Deflate.CompressionType.DYNAMIC",L.j);var M=0,T=1,K={D:M,C:T};w.prototype.p=function(){for(;!this.s;){var c=z(this,3);c&1&&(this.s=H);c>>>=1;switch(c){case 0:var c=this.input,d=this.c,e=this.a,f=this.b,g=E,h=E,m=E,n=e.length,g=E;this.e=this.g=0;g=c[d++];g===E&&a(Error("invalid uncompressed block header: LEN (first byte)"));
h=g;g=c[d++];g===E&&a(Error("invalid uncompressed block header: LEN (second byte)"));h|=g<<8;g=c[d++];g===E&&a(Error("invalid uncompressed block header: NLEN (first byte)"));m=g;g=c[d++];g===E&&a(Error("invalid uncompressed block header: NLEN (second byte)"));m|=g<<8;h===~m&&a(Error("invalid uncompressed block header: length verify"));d+h>c.length&&a(Error("input buffer is broken"));switch(this.m){case M:for(;f+h>e.length;){g=n-f;h-=g;if(D)e.set(c.subarray(d,d+g),f),f+=g,d+=g;else for(;g--;)e[f++]=
c[d++];this.b=f;e=this.f();f=this.b}break;case T:for(;f+h>e.length;)e=this.f({v:2});break;default:a(Error("invalid inflate mode"))}if(D)e.set(c.subarray(d,d+h),f),f+=h,d+=h;else for(;h--;)e[f++]=c[d++];this.c=d;this.b=f;this.a=e;break;case 1:this.o($,aa);break;case 2:B(this);break;default:a(Error("unknown BTYPE: "+c))}}return this.t()};G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];var U=D?new Uint16Array(G):G;G=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,
258,258,258];var V=D?new Uint16Array(G):G;G=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0];var W=D?new Uint8Array(G):G;G=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];var Z=D?new Uint16Array(G):G;G=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];var Y=D?new Uint8Array(G):G;G=new (D?Uint8Array:Array)(288);I=0;for(P=G.length;I<P;++I)G[I]=143>=I?8:255>=I?9:279>=I?7:8;var $=g(G);G=new (D?Uint8Array:
Array)(30);I=0;for(P=G.length;I<P;++I)G[I]=5;var aa=g(G);w.prototype.o=function(a,c){var d=this.a,e=this.b;this.u=a;for(var f=d.length-258,g,h,m;256!==(g=A(this,a));)if(256>g)e>=f&&(this.b=e,d=this.f(),e=this.b),d[e++]=g;else for(g-=257,m=V[g],0<W[g]&&(m+=z(this,W[g])),g=A(this,c),h=Z[g],0<Y[g]&&(h+=z(this,Y[g])),e>=f&&(this.b=e,d=this.f(),e=this.b);m--;)d[e]=d[e++-h];for(;8<=this.e;)this.e-=8,this.c--;this.b=e};w.prototype.I=function(a,c){var d=this.a,e=this.b;this.u=a;for(var f=d.length,g,h,m;256!==
(g=A(this,a));)if(256>g)e>=f&&(d=this.f(),f=d.length),d[e++]=g;else for(g-=257,m=V[g],0<W[g]&&(m+=z(this,W[g])),g=A(this,c),h=Z[g],0<Y[g]&&(h+=z(this,Y[g])),e+m>f&&(d=this.f(),f=d.length);m--;)d[e]=d[e++-h];for(;8<=this.e;)this.e-=8,this.c--;this.b=e};w.prototype.f=function(){var a=new (D?Uint8Array:Array)(this.b-32768),c=this.b-32768,d,e,f=this.a;if(D)a.set(f.subarray(32768,a.length));else for(d=0,e=a.length;d<e;++d)a[d]=f[d+32768];this.k.push(a);this.q+=a.length;if(D)f.set(f.subarray(c,c+32768));
else for(d=0;32768>d;++d)f[d]=f[c+d];this.b=32768;return f};w.prototype.J=function(a){var c,d=this.input.length/this.c+1|0,e,f,g,h=this.input,m=this.a;a&&("number"===typeof a.v&&(d=a.v),"number"===typeof a.F&&(d+=a.F));2>d?(e=(h.length-this.c)/this.u[2],g=e/2*258|0,f=g<m.length?m.length+g:m.length<<1):f=m.length*d;D?(c=new Uint8Array(f),c.set(m)):c=m;return this.a=c};w.prototype.t=function(){var a=0,c=this.a,d=this.k,e,f=new (D?Uint8Array:Array)(this.q+(this.b-32768)),g,h,m,n;if(0===d.length)return D?
this.a.subarray(32768,this.b):this.a.slice(32768,this.b);g=0;for(h=d.length;g<h;++g)for(e=d[g],m=0,n=e.length;m<n;++m)f[a++]=e[m];g=32768;for(h=this.b;g<h;++g)f[a++]=c[g];this.k=[];return this.buffer=f};w.prototype.H=function(){var a,c=this.b;D?this.B?(a=new Uint8Array(c),a.set(this.a.subarray(0,c))):a=this.a.subarray(0,c):(this.a.length>c&&(this.a.length=c),a=this.a);return this.buffer=a};C.prototype.p=function(){var c=this.input,e,f;e=this.A.p();this.c=this.A.c;this.M&&(f=(c[this.c++]<<24|c[this.c++]<<
16|c[this.c++]<<8|c[this.c++])>>>0,f!==d(e)&&a(Error("invalid adler-32 checksum")));return e};c("Zlib.Inflate",C);c("Zlib.Inflate.BufferType",K);K.ADAPTIVE=K.C;K.BLOCK=K.D;c("Zlib.Inflate.prototype.decompress",C.prototype.p);K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];D&&new Uint16Array(K);K=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258];D&&new Uint16Array(K);K=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0];D&&new Uint8Array(K);
K=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];D&&new Uint16Array(K);K=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];D&&new Uint8Array(K);K=new (D?Uint8Array:Array)(288);G=0;for(I=K.length;G<I;++G)K[G]=143>=G?8:255>=G?9:279>=G?7:8;g(K);K=new (D?Uint8Array:Array)(30);G=0;for(I=K.length;G<I;++G)K[G]=5;g(K);var X=8}).call(this);_p=window;_p=_p.Zlib=_p.Zlib;_p.Deflate=_p.Deflate;_p.Deflate.compress=_p.Deflate.compress;
_p.Inflate=_p.Inflate;_p.Inflate.BufferType=_p.Inflate.BufferType;_p.Inflate.prototype.decompress=_p.Inflate.prototype.decompress;cc.PNGReader=cc.Class.extend({ctor:function(a){var c,d,e,f;this.data=a;this.pos=8;this.palette=[];this.imgData=[];this.transparency={};this.animation=null;this.text={};for(e=null;;){c=this.readUInt32();f=a=void 0;f=[];for(a=0;4>a;++a)f.push(String.fromCharCode(this.data[this.pos++]));a=f.join("");switch(a){case "IHDR":this.width=this.readUInt32();this.height=this.readUInt32();this.bits=this.data[this.pos++];this.colorType=this.data[this.pos++];this.compressionMethod=this.data[this.pos++];this.filterMethod=
this.data[this.pos++];this.interlaceMethod=this.data[this.pos++];break;case "acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||Infinity,frames:[]};break;case "PLTE":this.palette=this.read(c);break;case "fcTL":e&&this.animation.frames.push(e);this.pos+=4;e={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()};a=this.readUInt16();c=this.readUInt16()||100;e.delay=1E3*a/c;e.disposeOp=this.data[this.pos++];e.blendOp=this.data[this.pos++];
e.data=[];break;case "IDAT":case "fdAT":"fdAT"===a&&(this.pos+=4,c-=4);a=(null!=e?e.data:void 0)||this.imgData;for(f=0;0<=c?f<c:f>c;0<=c?++f:--f)a.push(this.data[this.pos++]);break;case "tRNS":this.transparency={};switch(this.colorType){case 3:this.transparency.indexed=this.read(c);c=255-this.transparency.indexed.length;if(0<c)for(a=0;0<=c?a<c:a>c;0<=c?++a:--a)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(c)[0];break;case 2:this.transparency.rgb=this.read(c)}break;
case "tEXt":f=this.read(c);c=f.indexOf(0);a=String.fromCharCode.apply(String,f.slice(0,c));this.text[a]=String.fromCharCode.apply(String,f.slice(c+1));break;case "IEND":e&&this.animation.frames.push(e);a:{switch(this.colorType){case 0:case 3:case 4:e=1;break a;case 2:case 6:e=3;break a}e=void 0}this.colors=e;this.hasAlphaChannel=4===(d=this.colorType)||6===d;d=this.colors+(this.hasAlphaChannel?1:0);this.pixelBitlength=this.bits*d;a:{switch(this.colors){case 1:d="DeviceGray";break a;case 3:d="DeviceRGB";
break a}d=void 0}this.colorSpace=d;Uint8Array!=Array&&(this.imgData=new Uint8Array(this.imgData));return;default:this.pos+=c}this.pos+=4;if(this.pos>this.data.length)throw Error("Incomplete or corrupt PNG file");}},read:function(a){var c,d;d=[];for(c=0;0<=a?c<a:c>a;0<=a?++c:--c)d.push(this.data[this.pos++]);return d},readUInt32:function(){var a,c,d,e;a=this.data[this.pos++]<<24;c=this.data[this.pos++]<<16;d=this.data[this.pos++]<<8;e=this.data[this.pos++];return a|c|d|e},readUInt16:function(){var a,
c;a=this.data[this.pos++]<<8;c=this.data[this.pos++];return a|c},decodePixels:function(a){var c,d,e,f,g,h,m,n,r,s,t,u,w,z,A;null==a&&(a=this.imgData);if(0===a.length)return new Uint8Array(0);a=(new Zlib.Inflate(a,{index:0,verify:!1})).decompress();n=this.pixelBitlength/8;u=n*this.width;r=new Uint8Array(u*this.height);h=a.length;for(d=s=t=0;s<h;){switch(a[s++]){case 0:for(c=0;c<u;c+=1)r[d++]=a[s++];break;case 1:for(f=w=0;w<u;f=w+=1)c=a[s++],g=f<n?0:r[d-n],r[d++]=(c+g)%256;break;case 2:for(f=g=0;g<
u;f=g+=1)c=a[s++],e=(f-f%n)/n,w=t&&r[(t-1)*u+e*n+f%n],r[d++]=(w+c)%256;break;case 3:for(f=A=0;A<u;f=A+=1)c=a[s++],e=(f-f%n)/n,g=f<n?0:r[d-n],w=t&&r[(t-1)*u+e*n+f%n],r[d++]=(c+Math.floor((g+w)/2))%256;break;case 4:for(f=A=0;A<u;f=A+=1)c=a[s++],e=(f-f%n)/n,g=f<n?0:r[d-n],0===t?w=z=0:(w=r[(t-1)*u+e*n+f%n],z=e&&r[(t-1)*u+(e-1)*n+f%n]),m=g+w-z,f=Math.abs(m-g),e=Math.abs(m-w),m=Math.abs(m-z),g=f<=e&&f<=m?g:e<=m?w:z,r[d++]=(c+g)%256;break;default:throw Error("Invalid filter algorithm: "+a[s-1]);}t++}return r},
copyToImageData:function(a,c){var d,e,f,g,h,m,n,r;e=this.colors;r=null;d=this.hasAlphaChannel;this.palette.length&&(r=null!=(f=this._decodedPalette)?f:this._decodedPalette=this.decodePalette(),e=4,d=!0);f=a.data||a;n=f.length;h=r||c;g=m=0;if(1===e)for(;g<n;)e=r?4*c[g/4]:m,m=h[e++],f[g++]=m,f[g++]=m,f[g++]=m,f[g++]=d?h[e++]:255,m=e;else for(;g<n;)e=r?4*c[g/4]:m,f[g++]=h[e++],f[g++]=h[e++],f[g++]=h[e++],f[g++]=d?h[e++]:255,m=e},decodePalette:function(){var a,c,d,e,f,g,h,m,n;d=this.palette;g=this.transparency.indexed||
[];f=new Uint8Array((g.length||0)+d.length);c=h=a=e=0;for(m=d.length;h<m;c=h+=3)f[e++]=d[c],f[e++]=d[c+1],f[e++]=d[c+2],f[e++]=null!=(n=g[a++])?n:255;return f},render:function(a){var c;a.width=this.width;a.height=this.height;a=a.getContext("2d");c=a.createImageData(this.width,this.height);this.copyToImageData(c,this.decodePixels());return a.putImageData(c,0,0)}});cc.tiffReader={_littleEndian:!1,_tiffData:null,_fileDirectories:[],getUint8:function(a){return this._tiffData[a]},getUint16:function(a){return this._littleEndian?this._tiffData[a+1]<<8|this._tiffData[a]:this._tiffData[a]<<8|this._tiffData[a+1]},getUint32:function(a){var c=this._tiffData;return this._littleEndian?c[a+3]<<24|c[a+2]<<16|c[a+1]<<8|c[a]:c[a]<<24|c[a+1]<<16|c[a+2]<<8|c[a+3]},checkLittleEndian:function(){var a=this.getUint16(0);if(18761===a)this.littleEndian=!0;else if(19789===a)this.littleEndian=
!1;else throw console.log(a),TypeError("Invalid byte order value.");return this.littleEndian},hasTowel:function(){if(42!==this.getUint16(2))throw RangeError("You forgot your towel!");return!0},getFieldTypeName:function(a){var c=this.fieldTypeNames;return a in c?c[a]:null},getFieldTagName:function(a){var c=this.fieldTagNames;if(a in c)return c[a];console.log("Unknown Field Tag:",a);return"Tag"+a},getFieldTypeLength:function(a){return-1!==["BYTE","ASCII","SBYTE","UNDEFINED"].indexOf(a)?1:-1!==["SHORT",
"SSHORT"].indexOf(a)?2:-1!==["LONG","SLONG","FLOAT"].indexOf(a)?4:-1!==["RATIONAL","SRATIONAL","DOUBLE"].indexOf(a)?8:null},getFieldValues:function(a,c,d,e){a=[];var f=this.getFieldTypeLength(c);if(4>=f*d)!1===this.littleEndian?a.push(e>>>8*(4-f)):a.push(e);else for(var g=0;g<d;g++){var h=f*g;8<=f?-1!==["RATIONAL","SRATIONAL"].indexOf(c)?(a.push(this.getUint32(e+h)),a.push(this.getUint32(e+h+4))):cc.log("Can't handle this field type or size"):a.push(this.getBytes(f,e+h))}"ASCII"===c&&a.forEach(function(a,
c,d){d[c]=String.fromCharCode(a)});return a},getBytes:function(a,c){if(0>=a)cc.log("No bytes requested");else{if(1>=a)return this.getUint8(c);if(2>=a)return this.getUint16(c);if(3>=a)return this.getUint32(c)>>>8;if(4>=a)return this.getUint32(c);cc.log("Too many bytes requested")}},getBits:function(a,c,d){d=d||0;c+=Math.floor(d/8);var e=d+a;a=32-a;var f,g;0>=e?console.log("No bits requested"):8>=e?(f=24+d,g=this.getUint8(c)):16>=e?(f=16+d,g=this.getUint16(c)):32>=e?(f=d,g=this.getUint32(c)):console.log("Too many bits requested");
return{bits:g<<f>>>a,byteOffset:c+Math.floor(e/8),bitOffset:e%8}},parseFileDirectory:function(a){var c=this.getUint16(a),d=[];a+=2;for(var e=0;e<c;a+=12,e++){var f=this.getUint16(a),g=this.getUint16(a+2),h=this.getUint32(a+4),m=this.getUint32(a+8),f=this.getFieldTagName(f),g=this.getFieldTypeName(g),h=this.getFieldValues(f,g,h,m);d[f]={type:g,values:h}}this._fileDirectories.push(d);c=this.getUint32(a);0!==c&&this.parseFileDirectory(c)},clampColorSample:function(a,c){var d=Math.pow(2,8-c);return Math.floor(a*
d+(d-1))},parseTIFF:function(a,c){c=c||document.createElement("canvas");this._tiffData=a;this.canvas=c;this.checkLittleEndian();if(this.hasTowel()){var d=this.getUint32(4);this._fileDirectories.length=0;this.parseFileDirectory(d);var e=this._fileDirectories[0],d=e.ImageWidth.values[0],f=e.ImageLength.values[0];this.canvas.width=d;this.canvas.height=f;var g=[],h=e.Compression?e.Compression.values[0]:1,m=e.SamplesPerPixel.values[0],n=[],r=0,s=!1;e.BitsPerSample.values.forEach(function(a,c,d){n[c]={bitsPerSample:a,
hasBytesPerSample:!1,bytesPerSample:void 0};0===a%8&&(n[c].hasBytesPerSample=!0,n[c].bytesPerSample=a/8);r+=a},this);if(0===r%8)var s=!0,t=r/8;var u=e.StripOffsets.values,w=u.length;if(e.StripByteCounts)var z=e.StripByteCounts.values;else if(cc.log("Missing StripByteCounts!"),1===w)z=[Math.ceil(d*f*r/8)];else throw Error("Cannot recover from missing StripByteCounts");for(var A=0;A<w;A++){var B=u[A];g[A]=[];for(var C=z[A],E=0,H=0,F=1,D=!0,K=[],G=0,I=0,P=0;E<C;E+=F)switch(h){case 1:F=0;for(K=[];F<m;F++)if(n[F].hasBytesPerSample)K.push(this.getBytes(n[F].bytesPerSample,
B+E+n[F].bytesPerSample*F));else{var Q=this.getBits(n[F].bitsPerSample,B+E,H);K.push(Q.bits);E=Q.byteOffset-B;H=Q.bitOffset;throw RangeError("Cannot handle sub-byte bits per sample");}g[A].push(K);if(s)F=t;else throw F=0,RangeError("Cannot handle sub-byte bits per pixel");break;case 32773:if(D){var D=!1,O=1,S=1,F=this.getInt8(B+E);0<=F&&127>=F?O=F+1:-127<=F&&-1>=F?S=-F+1:D=!0}else{for(var R=this.getUint8(B+E),F=0;F<S;F++){if(n[I].hasBytesPerSample)P=P<<8*G|R,G++,G===n[I].bytesPerSample&&(K.push(P),
P=G=0,I++);else throw RangeError("Cannot handle sub-byte bits per sample");I===m&&(g[A].push(K),K=[],I=0)}O--;0===O&&(D=!0)}F=1}}if(c.getContext){t=this.canvas.getContext("2d");t.fillStyle="rgba(255, 255, 255, 0)";A=e.RowsPerStrip?e.RowsPerStrip.values[0]:f;B=g.length;f%=A;f=0===f?A:f;E=A;h=0;K=e.PhotometricInterpretation.values[0];O=[];S=0;e.ExtraSamples&&(O=e.ExtraSamples.values,S=O.length);if(e.ColorMap)var Q=e.ColorMap.values,J=Math.pow(2,n[0].bitsPerSample);for(A=0;A<B;A++){A+1===B&&(E=f);e=
g[A].length;h*=A;for(s=m=0;m<E,s<e;m++)for(u=0;u<d;u++,s++){z=g[A][s];D=H=C=0;w=1;if(0<S)for(C=0;C<S;C++)if(1===O[C]||2===O[C]){w=z[3+C]/256;break}switch(K){case 0:if(n[0].hasBytesPerSample)var N=Math.pow(16,2*n[0].bytesPerSample);z.forEach(function(a,c,d){d[c]=N-a});case 1:C=H=D=this.clampColorSample(z[0],n[0].bitsPerSample);break;case 2:C=this.clampColorSample(z[0],n[0].bitsPerSample);H=this.clampColorSample(z[1],n[1].bitsPerSample);D=this.clampColorSample(z[2],n[2].bitsPerSample);break;case 3:if(void 0===
Q)throw Error("Palette image missing color map");z=z[0];C=this.clampColorSample(Q[z],16);H=this.clampColorSample(Q[J+z],16);D=this.clampColorSample(Q[2*J+z],16);break;default:throw RangeError("Unknown Photometric Interpretation:",K);}t.fillStyle="rgba("+C+", "+H+", "+D+", "+w+")";t.fillRect(u,h+m,1,1)}h=E}}return this.canvas}},fieldTagNames:{315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",
289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",
326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",
344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",
700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop"},fieldTypeNames:{1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE"}};cc.Particle=function(a,c,d,e,f,g,h,m,n,r,s,t){this.pos=a?a:cc.p(0,0);this.startPos=c?c:cc.p(0,0);this.color=d?d:{r:0,g:0,b:0,a:255};this.deltaColor=e?e:{r:0,g:0,b:0,a:255};this.size=f||0;this.deltaSize=g||0;this.rotation=h||0;this.deltaRotation=m||0;this.timeToLive=n||0;this.atlasIndex=r||0;this.modeA=s?s:new cc.Particle.ModeA;this.modeB=t?t:new cc.Particle.ModeB;this.isChangeColor=!1;this.drawPos=cc.p(0,0)};
cc.Particle.ModeA=function(a,c,d){this.dir=a?a:cc.p(0,0);this.radialAccel=c||0;this.tangentialAccel=d||0};cc.Particle.ModeB=function(a,c,d,e){this.angle=a||0;this.degreesPerSecond=c||0;this.radius=d||0;this.deltaRadius=e||0};cc.Particle.TemporaryPoints=[cc.p(),cc.p(),cc.p(),cc.p()];
cc.ParticleSystem=cc.Node.extend({_className:"ParticleSystem",_plistFile:"",_elapsed:0,_dontTint:!1,modeA:null,modeB:null,_pointZeroForParticle:cc.p(0,0),_particles:null,_emitCounter:0,_particleIdx:0,_batchNode:null,atlasIndex:0,_transformSystemDirty:!1,_allocatedParticles:0,_isActive:!1,particleCount:0,duration:0,_sourcePosition:null,_posVar:null,life:0,lifeVar:0,angle:0,angleVar:0,startSize:0,startSizeVar:0,endSize:0,endSizeVar:0,_startColor:null,_startColorVar:null,_endColor:null,_endColorVar:null,
startSpin:0,startSpinVar:0,endSpin:0,endSpinVar:0,emissionRate:0,_totalParticles:0,_texture:null,_blendFunc:null,_opacityModifyRGB:!1,positionType:null,autoRemoveOnFinish:!1,emitterMode:0,_textureLoaded:null,ctor:function(a){cc.Node.prototype.ctor.call(this);this.emitterMode=cc.ParticleSystem.MODE_GRAVITY;this.modeA=new cc.ParticleSystem.ModeA;this.modeB=new cc.ParticleSystem.ModeB;this._blendFunc={src:cc.BLEND_SRC,dst:cc.BLEND_DST};this._particles=[];this._sourcePosition=cc.p(0,0);this._posVar=cc.p(0,
0);this._startColor=cc.color(255,255,255,255);this._startColorVar=cc.color(255,255,255,255);this._endColor=cc.color(255,255,255,255);this._endColorVar=cc.color(255,255,255,255);this._plistFile="";this._elapsed=0;this._dontTint=!1;this._pointZeroForParticle=cc.p(0,0);this._particleIdx=this._emitCounter=0;this._batchNode=null;this.atlasIndex=0;this._transformSystemDirty=!1;this._allocatedParticles=0;this._isActive=!1;this._totalParticles=this.emissionRate=this.endSpinVar=this.endSpin=this.startSpinVar=
this.startSpin=this.endSizeVar=this.endSize=this.startSizeVar=this.startSize=this.angleVar=this.angle=this.lifeVar=this.life=this.duration=this.particleCount=0;this._texture=null;this._opacityModifyRGB=!1;this.positionType=cc.ParticleSystem.TYPE_FREE;this.autoRemoveOnFinish=!1;this._textureLoaded=!0;cc.isNumber(a)?(this.setDrawMode(cc.ParticleSystem.TEXTURE_MODE),this.initWithTotalParticles(a)):cc.isString(a)?this.initWithFile(a):cc.isObject(a)&&this.initWithDictionary(a,"")},_createRenderCmd:function(){return cc._renderType===
cc.game.RENDER_TYPE_CANVAS?new cc.ParticleSystem.CanvasRenderCmd(this):new cc.ParticleSystem.WebGLRenderCmd(this)},ignoreColor:function(a){this._dontTint=a},initTexCoordsWithRect:function(a){this._renderCmd.initTexCoordsWithRect(a)},getBatchNode:function(){return this._batchNode},setBatchNode:function(a){this._renderCmd.setBatchNode(a)},getAtlasIndex:function(){return this.atlasIndex},setAtlasIndex:function(a){this.atlasIndex=a},getDrawMode:function(){return this._renderCmd.getDrawMode()},setDrawMode:function(a){this._renderCmd.setDrawMode(a)},
getShapeType:function(){return this._renderCmd.getShapeType()},setShapeType:function(a){this._renderCmd.setShapeType(a)},isActive:function(){return this._isActive},getParticleCount:function(){return this.particleCount},setParticleCount:function(a){this.particleCount=a},getDuration:function(){return this.duration},setDuration:function(a){this.duration=a},getSourcePosition:function(){return{x:this._sourcePosition.x,y:this._sourcePosition.y}},setSourcePosition:function(a){this._sourcePosition=a},getPosVar:function(){return{x:this._posVar.x,
y:this._posVar.y}},setPosVar:function(a){this._posVar=a},getLife:function(){return this.life},setLife:function(a){this.life=a},getLifeVar:function(){return this.lifeVar},setLifeVar:function(a){this.lifeVar=a},getAngle:function(){return this.angle},setAngle:function(a){this.angle=a},getAngleVar:function(){return this.angleVar},setAngleVar:function(a){this.angleVar=a},getGravity:function(){this.emitterMode!==cc.ParticleSystem.MODE_GRAVITY&&cc.log("cc.ParticleBatchNode.getGravity() : Particle Mode should be Gravity");
var a=this.modeA.gravity;return cc.p(a.x,a.y)},setGravity:function(a){this.emitterMode!==cc.ParticleSystem.MODE_GRAVITY&&cc.log("cc.ParticleBatchNode.setGravity() : Particle Mode should be Gravity");this.modeA.gravity=a},getSpeed:function(){this.emitterMode!==cc.ParticleSystem.MODE_GRAVITY&&cc.log("cc.ParticleBatchNode.getSpeed() : Particle Mode should be Gravity");return this.modeA.speed},setSpeed:function(a){this.emitterMode!==cc.ParticleSystem.MODE_GRAVITY&&cc.log("cc.ParticleBatchNode.setSpeed() : Particle Mode should be Gravity");
this.modeA.speed=a},getSpeedVar:function(){this.emitterMode!==cc.ParticleSystem.MODE_GRAVITY&&cc.log("cc.ParticleBatchNode.getSpeedVar() : Particle Mode should be Gravity");return this.modeA.speedVar},setSpeedVar:function(a){this.emitterMode!==cc.ParticleSystem.MODE_GRAVITY&&cc.log("cc.ParticleBatchNode.setSpeedVar() : Particle Mode should be Gravity");this.modeA.speedVar=a},getTangentialAccel:function(){this.emitterMode!==cc.ParticleSystem.MODE_GRAVITY&&cc.log("cc.ParticleBatchNode.getTangentialAccel() : Particle Mode should be Gravity");
return this.modeA.tangentialAccel},setTangentialAccel:function(a){this.emitterMode!==cc.ParticleSystem.MODE_GRAVITY&&cc.log("cc.ParticleBatchNode.setTangentialAccel() : Particle Mode should be Gravity");this.modeA.tangentialAccel=a},getTangentialAccelVar:function(){this.emitterMode!==cc.ParticleSystem.MODE_GRAVITY&&cc.log("cc.ParticleBatchNode.getTangentialAccelVar() : Particle Mode should be Gravity");return this.modeA.tangentialAccelVar},setTangentialAccelVar:function(a){this.emitterMode!==cc.ParticleSystem.MODE_GRAVITY&&
cc.log("cc.ParticleBatchNode.setTangentialAccelVar() : Particle Mode should be Gravity");this.modeA.tangentialAccelVar=a},getRadialAccel:function(){this.emitterMode!==cc.ParticleSystem.MODE_GRAVITY&&cc.log("cc.ParticleBatchNode.getRadialAccel() : Particle Mode should be Gravity");return this.modeA.radialAccel},setRadialAccel:function(a){this.emitterMode!==cc.ParticleSystem.MODE_GRAVITY&&cc.log("cc.ParticleBatchNode.setRadialAccel() : Particle Mode should be Gravity");this.modeA.radialAccel=a},getRadialAccelVar:function(){this.emitterMode!==
cc.ParticleSystem.MODE_GRAVITY&&cc.log("cc.ParticleBatchNode.getRadialAccelVar() : Particle Mode should be Gravity");return this.modeA.radialAccelVar},setRadialAccelVar:function(a){this.emitterMode!==cc.ParticleSystem.MODE_GRAVITY&&cc.log("cc.ParticleBatchNode.setRadialAccelVar() : Particle Mode should be Gravity");this.modeA.radialAccelVar=a},getRotationIsDir:function(){this.emitterMode!==cc.ParticleSystem.MODE_GRAVITY&&cc.log("cc.ParticleBatchNode.getRotationIsDir() : Particle Mode should be Gravity");
return this.modeA.rotationIsDir},setRotationIsDir:function(a){this.emitterMode!==cc.ParticleSystem.MODE_GRAVITY&&cc.log("cc.ParticleBatchNode.setRotationIsDir() : Particle Mode should be Gravity");this.modeA.rotationIsDir=a},getStartRadius:function(){this.emitterMode!==cc.ParticleSystem.MODE_RADIUS&&cc.log("cc.ParticleBatchNode.getStartRadius() : Particle Mode should be Radius");return this.modeB.startRadius},setStartRadius:function(a){this.emitterMode!==cc.ParticleSystem.MODE_RADIUS&&cc.log("cc.ParticleBatchNode.setStartRadius() : Particle Mode should be Radius");
this.modeB.startRadius=a},getStartRadiusVar:function(){this.emitterMode!==cc.ParticleSystem.MODE_RADIUS&&cc.log("cc.ParticleBatchNode.getStartRadiusVar() : Particle Mode should be Radius");return this.modeB.startRadiusVar},setStartRadiusVar:function(a){this.emitterMode!==cc.ParticleSystem.MODE_RADIUS&&cc.log("cc.ParticleBatchNode.setStartRadiusVar() : Particle Mode should be Radius");this.modeB.startRadiusVar=a},getEndRadius:function(){this.emitterMode!==cc.ParticleSystem.MODE_RADIUS&&cc.log("cc.ParticleBatchNode.getEndRadius() : Particle Mode should be Radius");
return this.modeB.endRadius},setEndRadius:function(a){this.emitterMode!==cc.ParticleSystem.MODE_RADIUS&&cc.log("cc.ParticleBatchNode.setEndRadius() : Particle Mode should be Radius");this.modeB.endRadius=a},getEndRadiusVar:function(){this.emitterMode!==cc.ParticleSystem.MODE_RADIUS&&cc.log("cc.ParticleBatchNode.getEndRadiusVar() : Particle Mode should be Radius");return this.modeB.endRadiusVar},setEndRadiusVar:function(a){this.emitterMode!==cc.ParticleSystem.MODE_RADIUS&&cc.log("cc.ParticleBatchNode.setEndRadiusVar() : Particle Mode should be Radius");
this.modeB.endRadiusVar=a},getRotatePerSecond:function(){this.emitterMode!==cc.ParticleSystem.MODE_RADIUS&&cc.log("cc.ParticleBatchNode.getRotatePerSecond() : Particle Mode should be Radius");return this.modeB.rotatePerSecond},setRotatePerSecond:function(a){this.emitterMode!==cc.ParticleSystem.MODE_RADIUS&&cc.log("cc.ParticleBatchNode.setRotatePerSecond() : Particle Mode should be Radius");this.modeB.rotatePerSecond=a},getRotatePerSecondVar:function(){this.emitterMode!==cc.ParticleSystem.MODE_RADIUS&&
cc.log("cc.ParticleBatchNode.getRotatePerSecondVar() : Particle Mode should be Radius");return this.modeB.rotatePerSecondVar},setRotatePerSecondVar:function(a){this.emitterMode!==cc.ParticleSystem.MODE_RADIUS&&cc.log("cc.ParticleBatchNode.setRotatePerSecondVar() : Particle Mode should be Radius");this.modeB.rotatePerSecondVar=a},setScale:function(a,c){this._transformSystemDirty=!0;cc.Node.prototype.setScale.call(this,a,c)},setRotation:function(a){this._transformSystemDirty=!0;cc.Node.prototype.setRotation.call(this,
a)},setScaleX:function(a){this._transformSystemDirty=!0;cc.Node.prototype.setScaleX.call(this,a)},setScaleY:function(a){this._transformSystemDirty=!0;cc.Node.prototype.setScaleY.call(this,a)},getStartSize:function(){return this.startSize},setStartSize:function(a){this.startSize=a},getStartSizeVar:function(){return this.startSizeVar},setStartSizeVar:function(a){this.startSizeVar=a},getEndSize:function(){return this.endSize},setEndSize:function(a){this.endSize=a},getEndSizeVar:function(){return this.endSizeVar},
setEndSizeVar:function(a){this.endSizeVar=a},getStartColor:function(){return cc.color(this._startColor.r,this._startColor.g,this._startColor.b,this._startColor.a)},setStartColor:function(a){this._startColor=cc.color(a)},getStartColorVar:function(){return cc.color(this._startColorVar.r,this._startColorVar.g,this._startColorVar.b,this._startColorVar.a)},setStartColorVar:function(a){this._startColorVar=cc.color(a)},getEndColor:function(){return cc.color(this._endColor.r,this._endColor.g,this._endColor.b,
this._endColor.a)},setEndColor:function(a){this._endColor=cc.color(a)},getEndColorVar:function(){return cc.color(this._endColorVar.r,this._endColorVar.g,this._endColorVar.b,this._endColorVar.a)},setEndColorVar:function(a){this._endColorVar=cc.color(a)},getStartSpin:function(){return this.startSpin},setStartSpin:function(a){this.startSpin=a},getStartSpinVar:function(){return this.startSpinVar},setStartSpinVar:function(a){this.startSpinVar=a},getEndSpin:function(){return this.endSpin},setEndSpin:function(a){this.endSpin=
a},getEndSpinVar:function(){return this.endSpinVar},setEndSpinVar:function(a){this.endSpinVar=a},getEmissionRate:function(){return this.emissionRate},setEmissionRate:function(a){this.emissionRate=a},getTotalParticles:function(){return this._totalParticles},setTotalParticles:function(a){this._renderCmd.setTotalParticles(a)},getTexture:function(){return this._texture},setTexture:function(a){a&&(a.isLoaded()?this.setTextureWithRect(a,cc.rect(0,0,a.width,a.height)):(this._textureLoaded=!1,a.addEventListener("load",
function(a){this._textureLoaded=!0;this.setTextureWithRect(a,cc.rect(0,0,a.width,a.height))},this)))},getBlendFunc:function(){return this._blendFunc},setBlendFunc:function(a,c){if(void 0===c)this._blendFunc!==a&&(this._blendFunc=a,this._updateBlendFunc());else if(this._blendFunc.src!==a||this._blendFunc.dst!==c)this._blendFunc={src:a,dst:c},this._updateBlendFunc()},isOpacityModifyRGB:function(){return this._opacityModifyRGB},setOpacityModifyRGB:function(a){this._opacityModifyRGB=a},isBlendAdditive:function(){return this._blendFunc.src===
cc.SRC_ALPHA&&this._blendFunc.dst===cc.ONE||this._blendFunc.src===cc.ONE&&this._blendFunc.dst===cc.ONE},setBlendAdditive:function(a){var c=this._blendFunc;a?(c.src=cc.SRC_ALPHA,c.dst=cc.ONE):this._renderCmd._setBlendAdditive()},getPositionType:function(){return this.positionType},setPositionType:function(a){this.positionType=a},isAutoRemoveOnFinish:function(){return this.autoRemoveOnFinish},setAutoRemoveOnFinish:function(a){this.autoRemoveOnFinish=a},getEmitterMode:function(){return this.emitterMode},
setEmitterMode:function(a){this.emitterMode=a},init:function(){return this.initWithTotalParticles(150)},initWithFile:function(a){this._plistFile=a;a=cc.loader.getRes(a);return a?this.initWithDictionary(a,""):(cc.log("cc.ParticleSystem.initWithFile(): Particles: file not found"),!1)},getBoundingBoxToWorld:function(){return cc.rect(0,0,cc._canvas.width,cc._canvas.height)},initWithDictionary:function(a,c){var d=!1,e=null,e=this._valueForKey,f=parseInt(e("maxParticles",a));if(this.initWithTotalParticles(f)){this.angle=
parseFloat(e("angle",a));this.angleVar=parseFloat(e("angleVariance",a));this.duration=parseFloat(e("duration",a));this._blendFunc.src=parseInt(e("blendFuncSource",a));this._blendFunc.dst=parseInt(e("blendFuncDestination",a));d=this._startColor;d.r=255*parseFloat(e("startColorRed",a));d.g=255*parseFloat(e("startColorGreen",a));d.b=255*parseFloat(e("startColorBlue",a));d.a=255*parseFloat(e("startColorAlpha",a));d=this._startColorVar;d.r=255*parseFloat(e("startColorVarianceRed",a));d.g=255*parseFloat(e("startColorVarianceGreen",
a));d.b=255*parseFloat(e("startColorVarianceBlue",a));d.a=255*parseFloat(e("startColorVarianceAlpha",a));d=this._endColor;d.r=255*parseFloat(e("finishColorRed",a));d.g=255*parseFloat(e("finishColorGreen",a));d.b=255*parseFloat(e("finishColorBlue",a));d.a=255*parseFloat(e("finishColorAlpha",a));d=this._endColorVar;d.r=255*parseFloat(e("finishColorVarianceRed",a));d.g=255*parseFloat(e("finishColorVarianceGreen",a));d.b=255*parseFloat(e("finishColorVarianceBlue",a));d.a=255*parseFloat(e("finishColorVarianceAlpha",
a));this.startSize=parseFloat(e("startParticleSize",a));this.startSizeVar=parseFloat(e("startParticleSizeVariance",a));this.endSize=parseFloat(e("finishParticleSize",a));this.endSizeVar=parseFloat(e("finishParticleSizeVariance",a));this._posVar.x=parseFloat(e("sourcePositionVariancex",a));this._posVar.y=parseFloat(e("sourcePositionVariancey",a));this.startSpin=parseFloat(e("rotationStart",a));this.startSpinVar=parseFloat(e("rotationStartVariance",a));this.endSpin=parseFloat(e("rotationEnd",a));this.endSpinVar=
parseFloat(e("rotationEndVariance",a));this.emitterMode=parseInt(e("emitterType",a));if(this.emitterMode===cc.ParticleSystem.MODE_GRAVITY)d=this.modeA,d.gravity.x=parseFloat(e("gravityx",a)),d.gravity.y=parseFloat(e("gravityy",a)),d.speed=parseFloat(e("speed",a)),d.speedVar=parseFloat(e("speedVariance",a)),f=e("radialAcceleration",a),d.radialAccel=f?parseFloat(f):0,f=e("radialAccelVariance",a),d.radialAccelVar=f?parseFloat(f):0,f=e("tangentialAcceleration",a),d.tangentialAccel=f?parseFloat(f):0,f=
e("tangentialAccelVariance",a),d.tangentialAccelVar=f?parseFloat(f):0,f=e("rotationIsDir",a).toLowerCase(),d.rotationIsDir=null!=f&&("true"===f||"1"===f);else if(this.emitterMode===cc.ParticleSystem.MODE_RADIUS)d=this.modeB,d.startRadius=parseFloat(e("maxRadius",a)),d.startRadiusVar=parseFloat(e("maxRadiusVariance",a)),d.endRadius=parseFloat(e("minRadius",a)),d.endRadiusVar=0,d.rotatePerSecond=parseFloat(e("rotatePerSecond",a)),d.rotatePerSecondVar=parseFloat(e("rotatePerSecondVariance",a));else return cc.log("cc.ParticleSystem.initWithDictionary(): Invalid emitterType in config file"),
!1;this.life=parseFloat(e("particleLifespan",a));this.lifeVar=parseFloat(e("particleLifespanVariance",a));this.emissionRate=this._totalParticles/this.life;if(!this._batchNode)if(this._opacityModifyRGB=!1,d=e("textureFileName",a),d=cc.path.changeBasename(this._plistFile,d),f=cc.textureCache.addImage(d))this.setTexture(f);else if((e=e("textureImageData",a))&&0!==e.length){e=cc.unzipBase64AsArray(e,1);if(!e)return cc.log("cc.ParticleSystem: error decoding or ungzipping textureImageData"),!1;f=cc.getImageFormatByData(e);
if(f!==cc.FMT_TIFF&&f!==cc.FMT_PNG)return cc.log("cc.ParticleSystem: unknown image format with Data"),!1;var g=document.createElement("canvas");f===cc.FMT_PNG?(new cc.PNGReader(e)).render(g):cc.tiffReader.parseTIFF(e,g);cc.textureCache.cacheImage(d,g);(e=cc.textureCache.getTextureForKey(d))||cc.log("cc.ParticleSystem.initWithDictionary() : error loading the texture");this.setTexture(e)}else{f=cc.textureCache.addImage(d);if(!f)return!1;this.setTexture(f)}d=!0}return d},initWithTotalParticles:function(a){this._totalParticles=
a;var c,d=this._particles;for(c=d.length=0;c<a;c++)d[c]=new cc.Particle;if(!d)return cc.log("Particle system: not enough memory"),!1;this._allocatedParticles=a;if(this._batchNode)for(c=0;c<this._totalParticles;c++)d[c].atlasIndex=c;this._isActive=!0;this._blendFunc.src=cc.BLEND_SRC;this._blendFunc.dst=cc.BLEND_DST;this.positionType=cc.ParticleSystem.TYPE_FREE;this.emitterMode=cc.ParticleSystem.MODE_GRAVITY;this._transformSystemDirty=this.autoRemoveOnFinish=!1;this.scheduleUpdateWithPriority(1);this._renderCmd._initWithTotalParticles(a);
return!0},destroyParticleSystem:function(){this.unscheduleUpdate()},addParticle:function(){if(this.isFull())return!1;var a=this._renderCmd.addParticle();this.initParticle(a);++this.particleCount;return!0},initParticle:function(a){var c=cc.randomMinus1To1;a.timeToLive=this.life+this.lifeVar*c();a.timeToLive=Math.max(0,a.timeToLive);a.pos.x=this._sourcePosition.x+this._posVar.x*c();a.pos.y=this._sourcePosition.y+this._posVar.y*c();var d,e;d=this._startColor;var f=this._startColorVar,g=this._endColor;
e=this._endColorVar;d={r:cc.clampf(d.r+f.r*c(),0,255),g:cc.clampf(d.g+f.g*c(),0,255),b:cc.clampf(d.b+f.b*c(),0,255),a:cc.clampf(d.a+f.a*c(),0,255)};e={r:cc.clampf(g.r+e.r*c(),0,255),g:cc.clampf(g.g+e.g*c(),0,255),b:cc.clampf(g.b+e.b*c(),0,255),a:cc.clampf(g.a+e.a*c(),0,255)};a.color=d;f=a.deltaColor;g=a.timeToLive;f.r=(e.r-d.r)/g;f.g=(e.g-d.g)/g;f.b=(e.b-d.b)/g;f.a=(e.a-d.a)/g;d=this.startSize+this.startSizeVar*c();d=Math.max(0,d);a.size=d;this.endSize===cc.ParticleSystem.START_SIZE_EQUAL_TO_END_SIZE?
a.deltaSize=0:(e=this.endSize+this.endSizeVar*c(),e=Math.max(0,e),a.deltaSize=(e-d)/g);d=this.startSpin+this.startSpinVar*c();e=this.endSpin+this.endSpinVar*c();a.rotation=d;a.deltaRotation=(e-d)/g;this.positionType===cc.ParticleSystem.TYPE_FREE?a.startPos=this.convertToWorldSpace(this._pointZeroForParticle):this.positionType===cc.ParticleSystem.TYPE_RELATIVE&&(a.startPos.x=this._position.x,a.startPos.y=this._position.y);d=cc.degreesToRadians(this.angle+this.angleVar*c());if(this.emitterMode===cc.ParticleSystem.MODE_GRAVITY)g=
this.modeA,e=a.modeA,f=g.speed+g.speedVar*c(),e.dir.x=Math.cos(d),e.dir.y=Math.sin(d),cc.pMultIn(e.dir,f),e.radialAccel=g.radialAccel+g.radialAccelVar*c(),e.tangentialAccel=g.tangentialAccel+g.tangentialAccelVar*c(),g.rotationIsDir&&(a.rotation=-cc.radiansToDegrees(cc.pToAngle(e.dir)));else{e=this.modeB;a=a.modeB;var f=e.startRadius+e.startRadiusVar*c(),h=e.endRadius+e.endRadiusVar*c();a.radius=f;a.deltaRadius=e.endRadius===cc.ParticleSystem.START_RADIUS_EQUAL_TO_END_RADIUS?0:(h-f)/g;a.angle=d;a.degreesPerSecond=
cc.degreesToRadians(e.rotatePerSecond+e.rotatePerSecondVar*c())}},stopSystem:function(){this._isActive=!1;this._elapsed=this.duration;this._emitCounter=0},resetSystem:function(){this._isActive=!0;this._elapsed=0;var a=this._particles;for(this._particleIdx=0;this._particleIdx<this.particleCount;++this._particleIdx)a[this._particleIdx].timeToLive=0},isFull:function(){return this.particleCount>=this._totalParticles},updateQuadWithParticle:function(a,c){this._renderCmd.updateQuadWithParticle(a,c)},postStep:function(){this._renderCmd.postStep()},
update:function(a){if(this._isActive&&this.emissionRate){var c=1/this.emissionRate;this.particleCount<this._totalParticles&&(this._emitCounter+=a);for(;this.particleCount<this._totalParticles&&this._emitCounter>c;)this.addParticle(),this._emitCounter-=c;this._elapsed+=a;-1!==this.duration&&this.duration<this._elapsed&&this.stopSystem()}this._particleIdx=0;c=cc.Particle.TemporaryPoints[0];this.positionType===cc.ParticleSystem.TYPE_FREE?cc.pIn(c,this.convertToWorldSpace(this._pointZeroForParticle)):
this.positionType===cc.ParticleSystem.TYPE_RELATIVE&&(c.x=this._position.x,c.y=this._position.y);if(this._visible){for(var d=cc.Particle.TemporaryPoints[1],e=cc.Particle.TemporaryPoints[2],f=cc.Particle.TemporaryPoints[3],g=this._particles;this._particleIdx<this.particleCount;){cc.pZeroIn(d);cc.pZeroIn(e);cc.pZeroIn(f);var h=g[this._particleIdx];h.timeToLive-=a;if(0<h.timeToLive){if(this.emitterMode===cc.ParticleSystem.MODE_GRAVITY){var m=f,n=d,r=e;h.pos.x||h.pos.y?(cc.pIn(n,h.pos),cc.pNormalizeIn(n)):
cc.pZeroIn(n);cc.pIn(r,n);cc.pMultIn(n,h.modeA.radialAccel);var s=r.x;r.x=-r.y;r.y=s;cc.pMultIn(r,h.modeA.tangentialAccel);cc.pIn(m,n);cc.pAddIn(m,r);cc.pAddIn(m,this.modeA.gravity);cc.pMultIn(m,a);cc.pAddIn(h.modeA.dir,m);cc.pIn(m,h.modeA.dir);cc.pMultIn(m,a);cc.pAddIn(h.pos,m)}else m=h.modeB,m.angle+=m.degreesPerSecond*a,m.radius+=m.deltaRadius*a,h.pos.x=-Math.cos(m.angle)*m.radius,h.pos.y=-Math.sin(m.angle)*m.radius;this._renderCmd._updateDeltaColor(h,a);h.size+=h.deltaSize*a;h.size=Math.max(0,
h.size);h.rotation+=h.deltaRotation*a;m=d;this.positionType===cc.ParticleSystem.TYPE_FREE||this.positionType===cc.ParticleSystem.TYPE_RELATIVE?(n=e,cc.pIn(n,c),cc.pSubIn(n,h.startPos),cc.pIn(m,h.pos),cc.pSubIn(m,n)):cc.pIn(m,h.pos);this._batchNode&&(m.x+=this._position.x,m.y+=this._position.y);this._renderCmd.updateParticlePosition(h,m);++this._particleIdx}else if(h=h.atlasIndex,this._particleIdx!==this.particleCount-1&&(m=g[this._particleIdx],g[this._particleIdx]=g[this.particleCount-1],g[this.particleCount-
1]=m),this._batchNode&&(this._batchNode.disableParticle(this.atlasIndex+h),g[this.particleCount-1].atlasIndex=h),--this.particleCount,0===this.particleCount&&this.autoRemoveOnFinish){this.unscheduleUpdate();this._parent.removeChild(this,!0);return}}this._transformSystemDirty=!1}this._batchNode||this.postStep()},updateWithNoTime:function(){this.update(0)},_valueForKey:function(a,c){if(c){var d=c[a];return null!=d?d:""}return""},_updateBlendFunc:function(){if(this._batchNode)cc.log("Can't change blending functions when the particle is being batched");
else{var a=this._texture;if(a&&a instanceof cc.Texture2D){this._opacityModifyRGB=!1;var c=this._blendFunc;c.src===cc.BLEND_SRC&&c.dst===cc.BLEND_DST&&(a.hasPremultipliedAlpha()?this._opacityModifyRGB=!0:(c.src=cc.SRC_ALPHA,c.dst=cc.ONE_MINUS_SRC_ALPHA))}}},clone:function(){var a=new cc.ParticleSystem;if(a.initWithTotalParticles(this.getTotalParticles())){a.setAngle(this.getAngle());a.setAngleVar(this.getAngleVar());a.setDuration(this.getDuration());var c=this.getBlendFunc();a.setBlendFunc(c.src,c.dst);
a.setStartColor(this.getStartColor());a.setStartColorVar(this.getStartColorVar());a.setEndColor(this.getEndColor());a.setEndColorVar(this.getEndColorVar());a.setStartSize(this.getStartSize());a.setStartSizeVar(this.getStartSizeVar());a.setEndSize(this.getEndSize());a.setEndSizeVar(this.getEndSizeVar());a.setPosition(cc.p(this.x,this.y));a.setPosVar(cc.p(this.getPosVar().x,this.getPosVar().y));a.setPositionType(this.getPositionType());a.setStartSpin(this.getStartSpin()||0);a.setStartSpinVar(this.getStartSpinVar()||
0);a.setEndSpin(this.getEndSpin()||0);a.setEndSpinVar(this.getEndSpinVar()||0);a.setEmitterMode(this.getEmitterMode());this.getEmitterMode()===cc.ParticleSystem.MODE_GRAVITY?(c=this.getGravity(),a.setGravity(cc.p(c.x,c.y)),a.setSpeed(this.getSpeed()),a.setSpeedVar(this.getSpeedVar()),a.setRadialAccel(this.getRadialAccel()),a.setRadialAccelVar(this.getRadialAccelVar()),a.setTangentialAccel(this.getTangentialAccel()),a.setTangentialAccelVar(this.getTangentialAccelVar())):this.getEmitterMode()===cc.ParticleSystem.MODE_RADIUS&&
(a.setStartRadius(this.getStartRadius()),a.setStartRadiusVar(this.getStartRadiusVar()),a.setEndRadius(this.getEndRadius()),a.setEndRadiusVar(this.getEndRadiusVar()),a.setRotatePerSecond(this.getRotatePerSecond()),a.setRotatePerSecondVar(this.getRotatePerSecondVar()));a.setLife(this.getLife());a.setLifeVar(this.getLifeVar());a.setEmissionRate(this.getEmissionRate());if(!this.getBatchNode()&&(a.setOpacityModifyRGB(this.isOpacityModifyRGB()),c=this.getTexture())){var d=c.getContentSize();a.setTextureWithRect(c,
cc.rect(0,0,d.width,d.height))}}return a},setDisplayFrame:function(a){if(a){var c=a.getOffsetInPixels();0===c.x&&0===c.y||cc.log("cc.ParticleSystem.setDisplayFrame(): QuadParticle only supports SpriteFrames with no offsets");a=a.getTexture();this._texture!==a&&this.setTexture(a)}},setTextureWithRect:function(a,c){var d=this._texture;d&&d.retainCount--;a&&a.retainCount++;d!==a&&(this._texture=a,this._updateBlendFunc());this.initTexCoordsWithRect(c)},listenBackToForeground:function(a){}});_p=cc.ParticleSystem.prototype;
cc.defineGetterSetter(_p,"opacityModifyRGB",_p.isOpacityModifyRGB,_p.setOpacityModifyRGB);cc.defineGetterSetter(_p,"batchNode",_p.getBatchNode,_p.setBatchNode);cc.defineGetterSetter(_p,"drawMode",_p.getDrawMode,_p.setDrawMode);cc.defineGetterSetter(_p,"shapeType",_p.getShapeType,_p.setShapeType);cc.defineGetterSetter(_p,"active",_p.isActive);cc.defineGetterSetter(_p,"sourcePos",_p.getSourcePosition,_p.setSourcePosition);cc.defineGetterSetter(_p,"posVar",_p.getPosVar,_p.setPosVar);
cc.defineGetterSetter(_p,"gravity",_p.getGravity,_p.setGravity);cc.defineGetterSetter(_p,"speed",_p.getSpeed,_p.setSpeed);cc.defineGetterSetter(_p,"speedVar",_p.getSpeedVar,_p.setSpeedVar);cc.defineGetterSetter(_p,"tangentialAccel",_p.getTangentialAccel,_p.setTangentialAccel);cc.defineGetterSetter(_p,"tangentialAccelVar",_p.getTangentialAccelVar,_p.setTangentialAccelVar);cc.defineGetterSetter(_p,"radialAccel",_p.getRadialAccel,_p.setRadialAccel);
cc.defineGetterSetter(_p,"radialAccelVar",_p.getRadialAccelVar,_p.setRadialAccelVar);cc.defineGetterSetter(_p,"rotationIsDir",_p.getRotationIsDir,_p.setRotationIsDir);cc.defineGetterSetter(_p,"startRadius",_p.getStartRadius,_p.setStartRadius);cc.defineGetterSetter(_p,"startRadiusVar",_p.getStartRadiusVar,_p.setStartRadiusVar);cc.defineGetterSetter(_p,"endRadius",_p.getEndRadius,_p.setEndRadius);cc.defineGetterSetter(_p,"endRadiusVar",_p.getEndRadiusVar,_p.setEndRadiusVar);
cc.defineGetterSetter(_p,"rotatePerS",_p.getRotatePerSecond,_p.setRotatePerSecond);cc.defineGetterSetter(_p,"rotatePerSVar",_p.getRotatePerSecondVar,_p.setRotatePerSecondVar);cc.defineGetterSetter(_p,"startColor",_p.getStartColor,_p.setStartColor);cc.defineGetterSetter(_p,"startColorVar",_p.getStartColorVar,_p.setStartColorVar);cc.defineGetterSetter(_p,"endColor",_p.getEndColor,_p.setEndColor);cc.defineGetterSetter(_p,"endColorVar",_p.getEndColorVar,_p.setEndColorVar);
cc.defineGetterSetter(_p,"totalParticles",_p.getTotalParticles,_p.setTotalParticles);cc.defineGetterSetter(_p,"texture",_p.getTexture,_p.setTexture);cc.ParticleSystem.create=function(a){return new cc.ParticleSystem(a)};cc.ParticleSystem.createWithTotalParticles=cc.ParticleSystem.create;
cc.ParticleSystem.ModeA=function(a,c,d,e,f,g,h,m){this.gravity=a?a:cc.p(0,0);this.speed=c||0;this.speedVar=d||0;this.tangentialAccel=e||0;this.tangentialAccelVar=f||0;this.radialAccel=g||0;this.radialAccelVar=h||0;this.rotationIsDir=m||!1};cc.ParticleSystem.ModeB=function(a,c,d,e,f,g){this.startRadius=a||0;this.startRadiusVar=c||0;this.endRadius=d||0;this.endRadiusVar=e||0;this.rotatePerSecond=f||0;this.rotatePerSecondVar=g||0};cc.ParticleSystem.SHAPE_MODE=0;cc.ParticleSystem.TEXTURE_MODE=1;
cc.ParticleSystem.STAR_SHAPE=0;cc.ParticleSystem.BALL_SHAPE=1;cc.ParticleSystem.DURATION_INFINITY=-1;cc.ParticleSystem.START_SIZE_EQUAL_TO_END_SIZE=-1;cc.ParticleSystem.START_RADIUS_EQUAL_TO_END_RADIUS=-1;cc.ParticleSystem.MODE_GRAVITY=0;cc.ParticleSystem.MODE_RADIUS=1;cc.ParticleSystem.TYPE_FREE=0;cc.ParticleSystem.TYPE_RELATIVE=1;cc.ParticleSystem.TYPE_GROUPED=2;(function(){cc.ParticleSystem.WebGLRenderCmd=function(a){cc.Node.WebGLRenderCmd.call(this,a);this._needDraw=!0;this._matrix=new cc.math.Matrix4;this._matrix.identity();this._buffersVBO=[0,0];this._quads=[];this._indices=[];this._quadsArrayBuffer=null};var a=cc.ParticleSystem.WebGLRenderCmd.prototype=Object.create(cc.Node.WebGLRenderCmd.prototype);a.constructor=cc.ParticleSystem.WebGLRenderCmd;a.getDrawMode=function(){};a.setDrawMode=function(a){};a.getShapeType=function(){};a.setShapeType=function(a){};
a.setBatchNode=function(a){var d=this._node;if(d._batchNode!==a){var e=d._batchNode;if(d._batchNode=a)for(var f=d._particles,g=0;g<d._totalParticles;g++)f[g].atlasIndex=g;a?e||(d._batchNode.textureAtlas._copyQuadsToTextureAtlas(this._quads,d.atlasIndex),cc._renderContext.deleteBuffer(this._buffersVBO[1])):(this._allocMemory(),this.initIndices(d._totalParticles),d.setTexture(e.getTexture()),this._setupVBO())}};a.initIndices=function(a){for(var d=this._indices,e=0;e<a;++e){var f=6*e,g=4*e;d[f+0]=g+
0;d[f+1]=g+1;d[f+2]=g+2;d[f+5]=g+1;d[f+4]=g+2;d[f+3]=g+3}};a.isDifferentTexture=function(a,d){return a===d};a.updateParticlePosition=function(a,d){this.updateQuadWithParticle(a,d)};a.updateQuadWithParticle=function(a,d){var e=null,f=this._node;f._batchNode?(e=f._batchNode.textureAtlas.quads[f.atlasIndex+a.atlasIndex],f._batchNode.textureAtlas.dirty=!0):e=this._quads[f._particleIdx];var g,h,m;f._opacityModifyRGB?(f=0|a.color.r*a.color.a/255,g=0|a.color.g*a.color.a/255,h=0|a.color.b*a.color.a/255):
(f=0|a.color.r,g=0|a.color.g,h=0|a.color.b);m=0|a.color.a;var n=e.bl.colors,r=e.br.colors,s=e.tl.colors,t=e.tr.colors;n.r=r.r=s.r=t.r=f;n.g=r.g=s.g=t.g=g;n.b=r.b=s.b=t.b=h;n.a=r.a=s.a=t.a=m;f=a.size/2;a.rotation?(g=-f,h=-f,m=d.x,n=d.y,s=-cc.degreesToRadians(a.rotation),r=Math.cos(s),s=Math.sin(s),e.bl.vertices.x=g*r-h*s+m,e.bl.vertices.y=g*s+h*r+n,e.br.vertices.x=f*r-h*s+m,e.br.vertices.y=f*s+h*r+n,e.tl.vertices.x=g*r-f*s+m,e.tl.vertices.y=g*s+f*r+n,e.tr.vertices.x=f*r-f*s+m,e.tr.vertices.y=f*s+f*
r+n):(e.bl.vertices.x=d.x-f,e.bl.vertices.y=d.y-f,e.br.vertices.x=d.x+f,e.br.vertices.y=d.y-f,e.tl.vertices.x=d.x-f,e.tl.vertices.y=d.y+f,e.tr.vertices.x=d.x+f,e.tr.vertices.y=d.y+f)};a.rendering=function(a){var d=this._node;if(d._texture){a=a||cc._renderContext;var e=this._worldTransform;this._matrix.mat[0]=e.a;this._matrix.mat[4]=e.c;this._matrix.mat[12]=e.tx;this._matrix.mat[1]=e.b;this._matrix.mat[5]=e.d;this._matrix.mat[13]=e.ty;this._shaderProgram.use();this._shaderProgram._setUniformForMVPMatrixWithMat4(this._matrix);
cc.glBindTexture2D(d._texture);cc.glBlendFuncForParticle(d._blendFunc.src,d._blendFunc.dst);a.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION);a.enableVertexAttribArray(cc.VERTEX_ATTRIB_COLOR);a.enableVertexAttribArray(cc.VERTEX_ATTRIB_TEX_COORDS);a.bindBuffer(a.ARRAY_BUFFER,this._buffersVBO[0]);a.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,3,a.FLOAT,!1,24,0);a.vertexAttribPointer(cc.VERTEX_ATTRIB_COLOR,4,a.UNSIGNED_BYTE,!0,24,12);a.vertexAttribPointer(cc.VERTEX_ATTRIB_TEX_COORDS,2,a.FLOAT,!1,
24,16);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this._buffersVBO[1]);a.drawElements(a.TRIANGLES,6*d._particleIdx,a.UNSIGNED_SHORT,0)}};a.initTexCoordsWithRect=function(a){var d=this._node,e=d.texture,f=cc.contentScaleFactor(),g=cc.rect(a.x*f,a.y*f,a.width*f,a.height*f),f=a.width,h=a.height;e&&(f=e.pixelsWidth,h=e.pixelsHeight);cc.FIX_ARTIFACTS_BY_STRECHING_TEXEL?(e=(2*g.x+1)/(2*f),a=(2*g.y+1)/(2*h),f=e+(2*g.width-2)/(2*f),g=a+(2*g.height-2)/(2*h)):(e=g.x/f,a=g.y/h,f=e+g.width/f,g=a+g.height/h);h=g;g=a;
a=h;var m=0,n=0;d._batchNode?(h=d._batchNode.textureAtlas.quads,m=d.atlasIndex,n=d.atlasIndex+d._totalParticles):(h=this._quads,m=0,n=d._totalParticles);for(d=m;d<n;d++)h[d]||(h[d]=cc.V3F_C4B_T2F_QuadZero()),m=h[d],m.bl.texCoords.u=e,m.bl.texCoords.v=a,m.br.texCoords.u=f,m.br.texCoords.v=a,m.tl.texCoords.u=e,m.tl.texCoords.v=g,m.tr.texCoords.u=f,m.tr.texCoords.v=g};a.setTotalParticles=function(a){var d=this._node;if(a>d._allocatedParticles){var e=cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT;this._indices=
new Uint16Array(6*a);var f=new ArrayBuffer(a*e),g=d._particles;g.length=0;for(var h=this._quads,m=h.length=0;m<a;m++)g[m]=new cc.Particle,h[m]=new cc.V3F_C4B_T2F_Quad(null,null,null,null,f,m*e);d._allocatedParticles=a;d._totalParticles=a;if(d._batchNode)for(e=0;e<a;e++)g[e].atlasIndex=e;this._quadsArrayBuffer=f;this.initIndices(a);this._setupVBO();d._texture&&this.initTexCoordsWithRect(cc.rect(0,0,d._texture.width,d._texture.height))}else d._totalParticles=a;d.resetSystem()};a.addParticle=function(){var a=
this._node;return a._particles[a.particleCount]};a._setupVBO=function(){var a=cc._renderContext;this._buffersVBO[0]=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this._buffersVBO[0]);a.bufferData(a.ARRAY_BUFFER,this._quadsArrayBuffer,a.DYNAMIC_DRAW);this._buffersVBO[1]=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this._buffersVBO[1]);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this._indices,a.STATIC_DRAW)};a._allocMemory=function(){var a=this._node;if(a._batchNode)return cc.log("cc.ParticleSystem._allocMemory(): Memory should not be allocated when not using batchNode"),
!1;var d=cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT,a=a._totalParticles,e=this._quads;e.length=0;this._indices=new Uint16Array(6*a);for(var f=new ArrayBuffer(d*a),g=0;g<a;g++)e[g]=new cc.V3F_C4B_T2F_Quad(null,null,null,null,f,g*d);if(!e||!this._indices)return cc.log("cocos2d: Particle system: not enough memory"),!1;this._quadsArrayBuffer=f;return!0};a.postStep=function(){var a=cc._renderContext;a.bindBuffer(a.ARRAY_BUFFER,this._buffersVBO[0]);a.bufferSubData(a.ARRAY_BUFFER,0,this._quadsArrayBuffer)};a._setBlendAdditive=
function(){var a=this._node._blendFunc;this._texture&&!this._texture.hasPremultipliedAlpha()?(a.src=cc.SRC_ALPHA,a.dst=cc.ONE_MINUS_SRC_ALPHA):(a.src=cc.BLEND_SRC,a.dst=cc.BLEND_DST)};a._initWithTotalParticles=function(a){if(!this._allocMemory())return!1;this.initIndices(a);this._setupVBO();this._shaderProgram=cc.shaderCache.programForKey(cc.SHADER_POSITION_TEXTURECOLOR)};a._updateDeltaColor=function(a,d){a.color.r+=a.deltaColor.r*d;a.color.g+=a.deltaColor.g*d;a.color.b+=a.deltaColor.b*d;a.color.a+=
a.deltaColor.a*d;a.isChangeColor=!0};a.detachFromParent=function(a){if(a){var d=cc._renderContext,e=this;setTimeout(function(){e._buffersVBO[0]&&d.deleteBuffer(e._buffersVBO[0]);e._buffersVBO[1]&&d.deleteBuffer(e._buffersVBO[1])},0);var f=this._node;f._texture&&f._texture.retainCount--}cc.Node.WebGLRenderCmd.prototype.detachFromParent.call(this,a)}})();cc.PARTICLE_DEFAULT_CAPACITY=500;
cc.ParticleBatchNode=cc.Node.extend({textureAtlas:null,_blendFunc:null,_className:"ParticleBatchNode",ctor:function(a,c){cc.Node.prototype.ctor.call(this);this._blendFunc={src:cc.BLEND_SRC,dst:cc.BLEND_DST};cc.isString(a)?this.init(a,c):a instanceof cc.Texture2D&&this.initWithTexture(a,c)},_createRenderCmd:function(){return cc._renderType===cc.game.RENDER_TYPE_CANVAS?new cc.ParticleBatchNode.CanvasRenderCmd(this):new cc.ParticleBatchNode.WebGLRenderCmd(this)},initWithTexture:function(a,c){this.textureAtlas=
new cc.TextureAtlas;this.textureAtlas.initWithTexture(a,c);this._children.length=0;this._renderCmd._initWithTexture();return!0},initWithFile:function(a,c){var d=cc.textureCache.addImage(a);return this.initWithTexture(d,c)},init:function(a,c){var d=cc.textureCache.addImage(a);return this.initWithTexture(d,c)},addChild:function(a,c,d){if(!a)throw Error("cc.ParticleBatchNode.addChild() : child should be non-null");if(!(a instanceof cc.ParticleSystem))throw Error("cc.ParticleBatchNode.addChild() : only supports cc.ParticleSystem as children");
c=null==c?a.zIndex:c;d=null==d?a.tag:d;if(a.getTexture()!==this.textureAtlas.texture)throw Error("cc.ParticleSystem.addChild() : the child is not using the same texture id");var e=a.getBlendFunc();if(0===this._children.length)this.setBlendFunc(e);else if(e.src!==this._blendFunc.src||e.dst!==this._blendFunc.dst){cc.log("cc.ParticleSystem.addChild() : Can't add a ParticleSystem that uses a different blending function");return}c=this._addChildHelper(a,c,d);d=0;0!==c?(c=this._children[c-1],d=c.getAtlasIndex()+
c.getTotalParticles()):d=0;this.insertChild(a,d);a.setBatchNode(this)},insertChild:function(a,c){var d=a.getTotalParticles(),e=this.textureAtlas,f=e.totalQuads;a.setAtlasIndex(c);f+d>e.getCapacity()&&(this._increaseAtlasCapacityTo(f+d),e.fillWithEmptyQuadsFromIndex(e.getCapacity()-d,d));a.getAtlasIndex()+d!==f&&e.moveQuadsFromIndex(c,c+d);e.increaseTotalQuadsWith(d);this._updateAllAtlasIndexes()},removeChild:function(a,c){if(null!=a){if(!(a instanceof cc.ParticleSystem))throw Error("cc.ParticleBatchNode.removeChild(): only supports cc.ParticleSystem as children");
if(-1===this._children.indexOf(a))cc.log("cc.ParticleBatchNode.removeChild(): doesn't contain the sprite. Can't remove it");else{cc.Node.prototype.removeChild.call(this,a,c);var d=this.textureAtlas;d.removeQuadsAtIndex(a.getAtlasIndex(),a.getTotalParticles());d.fillWithEmptyQuadsFromIndex(d.totalQuads,a.getTotalParticles());a.setBatchNode(null);this._updateAllAtlasIndexes()}}},reorderChild:function(a,c){if(!a)throw Error("cc.ParticleBatchNode.reorderChild(): child should be non-null");if(!(a instanceof
cc.ParticleSystem))throw Error("cc.ParticleBatchNode.reorderChild(): only supports cc.QuadParticleSystems as children");if(-1===this._children.indexOf(a))cc.log("cc.ParticleBatchNode.reorderChild(): Child doesn't belong to batch");else if(c!==a.zIndex){if(1<this._children.length){var d=this._getCurrentIndex(a,c);if(d.oldIndex!==d.newIndex){this._children.splice(d.oldIndex,1);this._children.splice(d.newIndex,0,a);d=a.getAtlasIndex();this._updateAllAtlasIndexes();for(var e=0,f=this._children,g=0;g<
f.length;g++)if(f[g]===a){e=a.getAtlasIndex();break}this.textureAtlas.moveQuadsFromIndex(d,a.getTotalParticles(),e);a.updateWithNoTime()}}a._setLocalZOrder(c)}},removeChildAtIndex:function(a,c){this.removeChild(this._children[i],c)},removeAllChildren:function(a){for(var c=this._children,d=0;d<c.length;d++)c[d].setBatchNode(null);cc.Node.prototype.removeAllChildren.call(this,a);this.textureAtlas.removeAllQuads()},disableParticle:function(a){a=this.textureAtlas.quads[a];a.br.vertices.x=a.br.vertices.y=
a.tr.vertices.x=a.tr.vertices.y=a.tl.vertices.x=a.tl.vertices.y=a.bl.vertices.x=a.bl.vertices.y=0;this.textureAtlas._setDirty(!0)},getTexture:function(){return this.textureAtlas.texture},setTexture:function(a){this.textureAtlas.texture=a;var c=this._blendFunc;a&&!a.hasPremultipliedAlpha()&&c.src===cc.BLEND_SRC&&c.dst===cc.BLEND_DST&&(c.src=cc.SRC_ALPHA,c.dst=cc.ONE_MINUS_SRC_ALPHA)},setBlendFunc:function(a,c){void 0===c?(this._blendFunc.src=a.src,this._blendFunc.dst=a.dst):(this._blendFunc.src=a,
this._blendFunc.src=c)},getBlendFunc:function(){return new cc.BlendFunc(this._blendFunc.src,this._blendFunc.dst)},_updateAllAtlasIndexes:function(){for(var a=0,c=this._children,d=0;d<c.length;d++){var e=c[d];e.setAtlasIndex(a);a+=e.getTotalParticles()}},_increaseAtlasCapacityTo:function(a){cc.log("cocos2d: cc.ParticleBatchNode: resizing TextureAtlas capacity from ["+this.textureAtlas.getCapacity()+"] to ["+a+"].");this.textureAtlas.resizeCapacity(a)||cc.log("cc.ParticleBatchNode._increaseAtlasCapacityTo() : WARNING: Not enough memory to resize the atlas")},
_searchNewPositionInChildrenForZ:function(a){for(var c=this._children,d=c.length,e=0;e<d;e++)if(c[e].zIndex>a)return e;return d},_getCurrentIndex:function(a,c){for(var d=!1,e=!1,f=0,g=0,h=0,m=this._children,n=m.length,r=0;r<n;r++){var s=m[r];if(s.zIndex>c&&!e&&(f=r,e=!0,d&&e))break;if(a===s&&(g=r,d=!0,e||(h=-1),d&&e))break}e||(f=n);return{newIndex:f+h,oldIndex:g}},_addChildHelper:function(a,c,d){if(!a)throw Error("cc.ParticleBatchNode._addChildHelper(): child should be non-null");if(a.parent)return cc.log("cc.ParticleBatchNode._addChildHelper(): child already added. It can't be added again"),
null;this._children||(this._children=[]);var e=this._searchNewPositionInChildrenForZ(c);this._children.splice(e,0,a);a.tag=d;a._setLocalZOrder(c);a.parent=this;this._running&&(a.onEnter(),a.onEnterTransitionDidFinish());return e},_updateBlendFunc:function(){this.textureAtlas.texture.hasPremultipliedAlpha()||(this._blendFunc.src=cc.SRC_ALPHA,this._blendFunc.dst=cc.ONE_MINUS_SRC_ALPHA)},getTextureAtlas:function(){return this.textureAtlas},setTextureAtlas:function(a){this.textureAtlas=a}});_p=cc.ParticleBatchNode.prototype;
cc.defineGetterSetter(_p,"texture",_p.getTexture,_p.setTexture);cc.ParticleBatchNode.create=function(a,c){return new cc.ParticleBatchNode(a,c)};(function(){cc.ParticleBatchNode.WebGLRenderCmd=function(a){cc.Node.WebGLRenderCmd.call(this,a);this._needDraw=!0;this._matrix=new cc.math.Matrix4;this._matrix.identity()};var a=cc.ParticleBatchNode.WebGLRenderCmd.prototype=Object.create(cc.Node.WebGLRenderCmd.prototype);a.constructor=cc.ParticleBatchNode.WebGLRenderCmd;a.rendering=function(a){a=this._node;if(0!==a.textureAtlas.totalQuads){var d=this._worldTransform;this._matrix.mat[0]=d.a;this._matrix.mat[4]=d.c;this._matrix.mat[12]=d.tx;this._matrix.mat[1]=
d.b;this._matrix.mat[5]=d.d;this._matrix.mat[13]=d.ty;this._shaderProgram.use();this._shaderProgram._setUniformForMVPMatrixWithMat4(this._matrix);cc.glBlendFuncForParticle(a._blendFunc.src,a._blendFunc.dst);a.textureAtlas.drawQuads()}};a._initWithTexture=function(){this._shaderProgram=cc.shaderCache.programForKey(cc.SHADER_POSITION_TEXTURECOLOR)};a.visit=function(a){if(this._node._visible){if(a=a||this.getParentRenderCmd())this._curLevel=a._curLevel+1;this._syncStatus(a);cc.renderer.pushRenderCommand(this);
this._dirtyFlag=0}}})();cc.LabelAtlas=cc.AtlasNode.extend({_string:null,_mapStartChar:null,_textureLoaded:!1,_className:"LabelAtlas",ctor:function(a,c,d,e,f){cc.AtlasNode.prototype.ctor.call(this);this._renderCmd.setCascade();c&&cc.LabelAtlas.prototype.initWithString.call(this,a,c,d,e,f)},_createRenderCmd:function(){return cc._renderType===cc.game.RENDER_TYPE_WEBGL?new cc.LabelAtlas.WebGLRenderCmd(this):new cc.LabelAtlas.CanvasRenderCmd(this)},textureLoaded:function(){return this._textureLoaded},addLoadedEventListener:function(a,
c){this.addEventListener("load",a,c)},initWithString:function(a,c,d,e,f){var g=a+"",h,m;if(void 0===d){d=cc.loader.getRes(c);if(1!==parseInt(d.version,10))return cc.log("cc.LabelAtlas.initWithString(): Unsupported version. Upgrade cocos2d version"),!1;c=cc.path.changeBasename(c,d.textureFilename);e=cc.contentScaleFactor();h=parseInt(d.itemWidth,10)/e;m=parseInt(d.itemHeight,10)/e;d=String.fromCharCode(parseInt(d.firstChar,10))}else h=d||0,m=e||0,d=f||" ";var n=null,n=c instanceof cc.Texture2D?c:cc.textureCache.addImage(c);
this._textureLoaded=c=n.isLoaded();c||(this._string=g,n.addEventListener("load",function(a){this.initWithTexture(n,h,m,g.length);this.string=this._string;this.setColor(this._renderCmd._displayedColor);this.dispatchEvent("load")},this));return this.initWithTexture(n,h,m,g.length)?(this._mapStartChar=d,this.string=g,!0):!1},setColor:function(a){cc.AtlasNode.prototype.setColor.call(this,a);this._renderCmd.updateAtlasValues()},getString:function(){return this._string},addChild:function(a,c,d){this._renderCmd._addChild(a);
cc.Node.prototype.addChild.call(this,a,c,d)},updateAtlasValues:function(){this._renderCmd.updateAtlasValues()},setString:function(a){a=String(a);var c=a.length;this._string=a;this.setContentSize(c*this._itemWidth,this._itemHeight);this._renderCmd.setString(a);this._renderCmd.updateAtlasValues();this.quadsToDraw=c}});
(function(){var a=cc.LabelAtlas.prototype;cc.defineGetterSetter(a,"opacity",a.getOpacity,a.setOpacity);cc.defineGetterSetter(a,"color",a.getColor,a.setColor);cc.defineGetterSetter(a,"string",a.getString,a.setString)})();cc.LabelAtlas.create=function(a,c,d,e,f){return new cc.LabelAtlas(a,c,d,e,f)};(function(){cc.LabelAtlas.WebGLRenderCmd=function(a){cc.AtlasNode.WebGLRenderCmd.call(this,a);this._needDraw=!0};var a=cc.LabelAtlas.WebGLRenderCmd.prototype=Object.create(cc.AtlasNode.WebGLRenderCmd.prototype);a.constructor=cc.LabelAtlas.WebGLRenderCmd;a._updateColor=function(){if(this._colorF32Array){var a=this._displayedColor,d=this._displayedOpacity/255;this._node._opacityModifyRGB?(this._colorF32Array[0]=a.r*d/255,this._colorF32Array[1]=a.g*d/255,this._colorF32Array[2]=a.b*d/255):(this._colorF32Array[0]=
a.r/255,this._colorF32Array[1]=a.g/255,this._colorF32Array[2]=a.b/255);this._colorF32Array[3]=d}};a.setCascade=function(){var a=this._node;a._cascadeOpacityEnabled=!0;a._cascadeColorEnabled=!0};a.rendering=function(a){cc.AtlasNode.WebGLRenderCmd.prototype.rendering.call(this,a);if(cc.LABELATLAS_DEBUG_DRAW){var d=this._node;a=d.getContentSize();var d=d.getBoundingBoxToWorld(),e=d.x,f=d.y;a.width=d.width;a.height=d.height;a=[cc.p(e,f),cc.p(e+a.width,f),cc.p(a.width+e,a.height+f),cc.p(e,f+a.height)];
cc._drawingUtil.drawPoly(a,4,!0)}};a.updateAtlasValues=function(){var a=this._node,d=a._string,e=d.length,f=this._textureAtlas,g=f.texture,h=g.pixelsWidth,g=g.pixelsHeight,m=a._itemWidth,n=a._itemHeight;a._ignoreContentScaleFactor||(m=a._itemWidth*cc.contentScaleFactor(),n=a._itemHeight*cc.contentScaleFactor());e>f.getCapacity()&&cc.log("cc.LabelAtlas._updateAtlasValues(): Invalid String length");for(var r=f.quads,s=a._itemWidth,t=a._itemHeight,u=0,w=-1;u<e;u++){var z=d.charCodeAt(u)-a._mapStartChar.charCodeAt(0),
A=z%a._itemsPerRow,B=0|z/a._itemsPerRow;if(!(0>A||0>B||A*s+s>h||B*t+t>g)){w++;var C;cc.FIX_ARTIFACTS_BY_STRECHING_TEXEL?(A=(2*A*m+1)/(2*h),z=A+(2*m-2)/(2*h),B=(2*B*n+1)/(2*g),C=B+(2*n-2)/(2*g)):(A=A*m/h,z=A+m/h,B=B*n/g,C=B+n/g);var E=r[u],H=E.tl,F=E.tr,D=E.bl,E=E.br;H.texCoords.u=A;H.texCoords.v=B;F.texCoords.u=z;F.texCoords.v=B;D.texCoords.u=A;D.texCoords.v=C;E.texCoords.u=z;E.texCoords.v=C;D.vertices.x=w*s;D.vertices.y=0;D.vertices.z=0;E.vertices.x=w*s+s;E.vertices.y=0;E.vertices.z=0;H.vertices.x=
w*s;H.vertices.y=a._itemHeight;H.vertices.z=0;F.vertices.x=w*s+s;F.vertices.y=a._itemHeight;F.vertices.z=0}}this._updateColor();this.updateContentSize(u,w+1);0<e&&(f.dirty=!0,a=f.totalQuads,e>a&&f.increaseTotalQuadsWith(e-a))};a.updateContentSize=function(a,d){var e=this._node,f=e._contentSize;a!==d&&a*e._itemWidth===f.width&&e._itemHeight===f.height&&e.setContentSize(d*e._itemWidth,e._itemHeight)};a.setString=function(a){a=a.length;a>this._textureAtlas.totalQuads&&this._textureAtlas.resizeCapacity(a)};
a._addChild=function(){}})();cc.LabelBMFont=cc.SpriteBatchNode.extend({_opacityModifyRGB:!1,_string:"",_config:null,_fntFile:"",_initialString:"",_alignment:cc.TEXT_ALIGNMENT_CENTER,_width:-1,_lineBreakWithoutSpaces:!1,_imageOffset:null,_textureLoaded:!1,_className:"LabelBMFont",_createRenderCmd:function(){return cc._renderType===cc.game.RENDER_TYPE_WEBGL?new cc.LabelBMFont.WebGLRenderCmd(this):new cc.LabelBMFont.CanvasRenderCmd(this)},_setString:function(a,c){c?this._initialString=a:this._string=a;var d=this._children;if(d)for(var e=
0;e<d.length;e++){var f=d[e];f&&f.setVisible(!1)}this._textureLoaded&&(this.createFontChars(),c&&this.updateLabel())},ctor:function(a,c,d,e,f){cc.SpriteBatchNode.prototype.ctor.call(this);this._imageOffset=cc.p(0,0);this._cascadeOpacityEnabled=this._cascadeColorEnabled=!0;this.initWithString(a,c,d,e,f)},textureLoaded:function(){return this._textureLoaded},addLoadedEventListener:function(a,c){this.addEventListener("load",a,c)},isOpacityModifyRGB:function(){return this._opacityModifyRGB},setOpacityModifyRGB:function(a){this._opacityModifyRGB=
a;if(a=this._children)for(var c=0;c<a.length;c++){var d=a[c];d&&(d.opacityModifyRGB=this._opacityModifyRGB)}},_changeTextureColor:function(){this._renderCmd._changeTextureColor()},init:function(){return this.initWithString(null,null,null,null,null)},initWithString:function(a,c,d,e,f){var g=a||"";this._config&&cc.log("cc.LabelBMFont.initWithString(): re-init is no longer supported");var h;if(c){h=cc.loader.getRes(c);if(!h)return cc.log("cc.LabelBMFont.initWithString create font error: Please check file",
c),!1;this._config=h;this._fntFile=c;h=cc.textureCache.addImage(h.atlasName);(this._textureLoaded=c=h.isLoaded())||h.addEventListener("load",function(a){this._textureLoaded=!0;this.initWithTexture(a,this._initialString.length);this.setString(this._initialString,!0);this.dispatchEvent("load")},this)}else this._textureLoaded=!1;return this.initWithTexture(h,g.length)?(this._alignment=e||cc.TEXT_ALIGNMENT_LEFT,this._imageOffset=f||cc.p(0,0),this._width=void 0===d?-1:d,this._realOpacity=255,this._realColor=
cc.color(255,255,255,255),this._contentSize.width=0,this._contentSize.height=0,this.setAnchorPoint(0.5,0.5),a&&this.setString(g,!0),!0):!1},createFontChars:function(){var a=this._renderCmd,c=a._texture||this._texture,d=0,e=cc.size(0,0),f=0,g=1,h=this._string,m=h?h.length:0;if(0!==m){var n,r=this._config,s=r.kerningDict,t=r.commonHeight,u=r.fontDefDictionary;for(n=0;n<m-1;n++)10===h.charCodeAt(n)&&g++;var w=t*g,g=-(t-t*g),z=-1,A;for(n=0;n<m;n++)if(t=h.charCodeAt(n),0!==t)if(10===t)d=0,g-=r.commonHeight;
else{z=s[z<<16|t&65535]||0;A=u[t];A||(cc.log("cocos2d: LabelBMFont: character not found "+h[n]),A={rect:{x:0,y:0,width:0,height:0},xOffset:0,yOffset:0,xAdvance:0});var B=cc.rect(A.rect.x,A.rect.y,A.rect.width,A.rect.height),B=cc.rectPixelsToPoints(B);B.x+=this._imageOffset.x;B.y+=this._imageOffset.y;var C=this.getChildByTag(n);C?a._updateCharTexture(C,B,t):(C=new cc.Sprite,C.initWithTexture(c,B,!1),C._newTextureWhenChangeColor=!0,this.addChild(C,0,n));C.opacityModifyRGB=this._opacityModifyRGB;a._updateCharColorAndOpacity(C);
B=cc.p(d+A.xOffset+0.5*A.rect.width+z,g+(r.commonHeight-A.yOffset)-0.5*B.height*cc.contentScaleFactor());C.setPosition(cc.pointPixelsToPoints(B));d+=A.xAdvance+z;z=t;f<d&&(f=d)}e.width=A&&A.xAdvance<A.rect.width?f-A.xAdvance+A.rect.width:f;e.height=w;this.setContentSize(cc.sizePixelsToPoints(e))}},updateString:function(a){var c=this._children;if(c)for(var d=0,e=c.length;d<e;d++){var f=c[d];f&&(f.visible=!1)}this._config&&this.createFontChars();a||this.updateLabel()},getString:function(){return this._initialString},
setString:function(a,c){a=String(a);null==c&&(c=!0);null!=a&&cc.isString(a)||(a+="");this._initialString=a;this._setString(a,c)},_setStringForSetter:function(a){this.setString(a,!1)},setCString:function(a){this.setString(a,!0)},_getCharsWidth:function(a,c){if(0>=c)return 0;var d=this.getChildByTag(a),e=this.getChildByTag(a+c);return this._getLetterPosXLeft(e)-this._getLetterPosXLeft(d)},_checkWarp:function(a,c,d,e){for(var f=a[c],g=0,h=0;h<c;h++)g+=a[h].length;var g=g+c-e,m=this._getCharsWidth(g,
a[c].length-1);if(m>d&&1<f.length){e=d/m*f.length|0;for(var h=f.substr(e),n=m-this._getCharsWidth(g+e,h.length-1),r,s=0,t=0;n>d&&100>t++;)e*=d/n,e|=0,h=f.substr(e),n=m-this._getCharsWidth(g+e,h.length-1);for(t=0;n<d&&100>t++;)h&&(s=(r=cc.LabelTTF._wordRex.exec(h))?r[0].length:1,r=h),this._lineBreakWithoutSpaces&&(s=0),e+=s,h=f.substr(e),n=m-this._getCharsWidth(g+e,h.length-1);e-=s;0===e&&(e=1,r=r.substr(1));d=f.substr(0,e);cc.LabelTTF.wrapInspection&&cc.LabelTTF._symbolRex.test(r||h)&&(s=(g=cc.LabelTTF._lastWordRex.exec(d))?
g[0].length:0,this._lineBreakWithoutSpaces&&(s=0),e-=s,r=f.substr(e),d=f.substr(0,e));cc.LabelTTF._firsrEnglish.test(r)&&(g=cc.LabelTTF._lastEnglish.exec(d))&&d!==g[0]&&(s=g[0].length,this._lineBreakWithoutSpaces&&(s=0),e-=s,r=f.substr(e),d=f.substr(0,e));a[c]=r||h;a.splice(c,0,d)}},updateLabel:function(){this.string=this._initialString;var a,c,d;if(0<this._width){var e=this.string.split("\n"),f="",g=0,h=0;for(a=0;a<e.length;a++)h=e.length,this._checkWarp(e,a,this._width*this._scaleX,g),h<e.length&&
g++,0<a&&(f+="\n"),f+=e[a];f+=String.fromCharCode(0);this._setString(f,!1)}if(this._alignment!==cc.TEXT_ALIGNMENT_LEFT)for(e=a=0,f=this._string.length,g=[],h=0;h<f;h++)if(10===this._string[h].charCodeAt(0)||0===this._string[h].charCodeAt(0)){c=0;var m=g.length;if(0===m)e++;else if(d=a+m-1+e,!(0>d)){var n=this.getChildByTag(d);if(null!=n){c=n.getPositionX()+n._getWidth()/2;n=0;switch(this._alignment){case cc.TEXT_ALIGNMENT_CENTER:n=this.width/2-c/2;break;case cc.TEXT_ALIGNMENT_RIGHT:n=this.width-c}if(0!==
n)for(c=0;c<m;c++)d=a+c+e,0>d||(d=this.getChildByTag(d))&&(d.x+=n);a+=m;e++;g.length=0}}}else g.push(this._string[a])},setAlignment:function(a){this._alignment=a;this.updateLabel()},_getAlignment:function(){return this._alignment},setBoundingWidth:function(a){this._width=a;this.updateLabel()},_getBoundingWidth:function(){return this._width},setLineBreakWithoutSpace:function(a){this._lineBreakWithoutSpaces=a;this.updateLabel()},setScale:function(a,c){cc.Node.prototype.setScale.call(this,a,c);this.updateLabel()},
setScaleX:function(a){cc.Node.prototype.setScaleX.call(this,a);this.updateLabel()},setScaleY:function(a){cc.Node.prototype.setScaleY.call(this,a);this.updateLabel()},setFntFile:function(a){if(null!=a&&a!==this._fntFile){var c=cc.loader.getRes(a);c?(this._fntFile=a,this._config=c,a=cc.textureCache.addImage(c.atlasName),(this._textureLoaded=c=a.isLoaded())?(this.setTexture(a),this.createFontChars()):a.addEventListener("load",function(a){this._textureLoaded=!0;this.setTexture(a);this.createFontChars();
this._changeTextureColor();this.updateLabel();this.dispatchEvent("load")},this)):cc.log("cc.LabelBMFont.setFntFile create font error: Please check file",a)}},getFntFile:function(){return this._fntFile},setTexture:function(a){this._texture=a;this._renderCmd.setTexture(a)},setAnchorPoint:function(a,c){cc.Node.prototype.setAnchorPoint.call(this,a,c);this.updateLabel()},_setAnchorX:function(a){cc.Node.prototype._setAnchorX.call(this,a);this.updateLabel()},_setAnchorY:function(a){cc.Node.prototype._setAnchorY.call(this,
a);this.updateLabel()},_atlasNameFromFntFile:function(a){},_kerningAmountForFirst:function(a,c){var d=0;if(this._configuration.kerningDictionary){var e=this._configuration.kerningDictionary[(a<<16|c&65535).toString()];e&&(d=e.amount)}return d},_getLetterPosXLeft:function(a){return a.getPositionX()*this._scaleX-a._getWidth()*this._scaleX*a._getAnchorX()},_getLetterPosXRight:function(a){return a.getPositionX()*this._scaleX+a._getWidth()*this._scaleX*a._getAnchorX()},_isspace_unicode:function(a){a=a.charCodeAt(0);
return 9<=a&&13>=a||32===a||133===a||160===a||5760===a||8192<=a&&8202>=a||8232===a||8233===a||8239===a||8287===a||12288===a},_utf8_trim_ws:function(a){var c=a.length;if(!(0>=c)&&(c-=1,this._isspace_unicode(a[c]))){for(var d=c-1;0<=d;--d)if(this._isspace_unicode(a[d]))c=d;else break;this._utf8_trim_from(a,c)}},_utf8_trim_from:function(a,c){var d=a.length;c>=d||0>c||a.splice(c,d)}});
(function(){var a=cc.LabelBMFont.prototype;cc.EventHelper.prototype.apply(a);cc.defineGetterSetter(a,"string",a.getString,a._setStringForSetter);cc.defineGetterSetter(a,"boundingWidth",a._getBoundingWidth,a.setBoundingWidth);cc.defineGetterSetter(a,"textAlign",a._getAlignment,a.setAlignment);cc.defineGetterSetter(a,"texture",a.getTexture,a.setTexture)})();cc.LabelBMFont.create=function(a,c,d,e,f){return new cc.LabelBMFont(a,c,d,e,f)};
var _fntLoader={INFO_EXP:/info [^\n]*(\n|$)/gi,COMMON_EXP:/common [^\n]*(\n|$)/gi,PAGE_EXP:/page [^\n]*(\n|$)/gi,CHAR_EXP:/char [^\n]*(\n|$)/gi,KERNING_EXP:/kerning [^\n]*(\n|$)/gi,ITEM_EXP:/\w+=[^ \r\n]+/gi,INT_EXP:/^[\-]?\d+$/,_parseStrToObj:function(a){a=a.match(this.ITEM_EXP);var c={};if(a)for(var d=0,e=a.length;d<e;d++){var f=a[d],g=f.indexOf("\x3d"),h=f.substring(0,g),f=f.substring(g+1);f.match(this.INT_EXP)?f=parseInt(f):'"'===f[0]&&(f=f.substring(1,f.length-1));c[h]=f}return c},parseFnt:function(a,
c){var d={},e=this._parseStrToObj(a.match(this.INFO_EXP)[0]).padding.split(",");parseInt(e[0]);parseInt(e[1]);parseInt(e[2]);parseInt(e[3]);e=this._parseStrToObj(a.match(this.COMMON_EXP)[0]);d.commonHeight=e.lineHeight;if(cc._renderType===cc.game.RENDER_TYPE_WEBGL){var f=cc.configuration.getMaxTextureSize();(e.scaleW>f.width||e.scaleH>f.height)&&cc.log("cc.LabelBMFont._parseCommonArguments(): page can't be larger than supported")}1!==e.pages&&cc.log("cc.LabelBMFont._parseCommonArguments(): only supports 1 page");
e=this._parseStrToObj(a.match(this.PAGE_EXP)[0]);0!==e.id&&cc.log("cc.LabelBMFont._parseImageFileName() : file could not be found");d.atlasName=cc.path.changeBasename(c,e.file);for(var g=a.match(this.CHAR_EXP),h=d.fontDefDictionary={},e=0,f=g.length;e<f;e++){var m=this._parseStrToObj(g[e]);h[m.id]={rect:{x:m.x,y:m.y,width:m.width,height:m.height},xOffset:m.xoffset,yOffset:m.yoffset,xAdvance:m.xadvance}}g=d.kerningDict={};if(h=a.match(this.KERNING_EXP))for(e=0,f=h.length;e<f;e++)m=this._parseStrToObj(h[e]),
g[m.first<<16|m.second&65535]=m.amount;return d},load:function(a,c,d,e){var f=this;cc.loader.loadTxt(a,function(a,d){if(a)return e(a);e(null,f.parseFnt(d,c))})}};cc.loader.register(["fnt"],_fntLoader);(function(){cc.LabelBMFont.WebGLRenderCmd=function(a){cc.Node.WebGLRenderCmd.call(this,a)};var a=cc.LabelBMFont.WebGLRenderCmd.prototype=Object.create(cc.Node.WebGLRenderCmd.prototype);a.constructor=cc.LabelBMFont.WebGLRenderCmd;a.setTexture=function(a){this._node.setOpacityModifyRGB(this._node._texture.hasPremultipliedAlpha())};a._updateCharTexture=function(a,d,e){a.setTextureRect(d,!1);a.visible=!0};a._changeTextureColor=function(){};a._updateCharColorAndOpacity=function(){}})();var PROPERTY_POSITION="position",PROPERTY_CONTENTSIZE="contentSize",PROPERTY_SKEW="skew",PROPERTY_ANCHORPOINT="anchorPoint",PROPERTY_SCALE="scale",PROPERTY_ROTATION="rotation",PROPERTY_ROTATIONX="rotationX",PROPERTY_ROTATIONY="rotationY",PROPERTY_TAG="tag",PROPERTY_IGNOREANCHORPOINTFORPOSITION="ignoreAnchorPointForPosition",PROPERTY_VISIBLE="visible",ASSERT_FAIL_UNEXPECTED_PROPERTY=function(a){cc.log("Unexpected property: '"+a+"'!")},ASSERT_FAIL_UNEXPECTED_PROPERTYTYPE=function(a){cc.log("Unexpected property type: '"+
a+"'!")};function BlockData(a,c){this.selMenuHander=a;this.target=c}function BlockCCControlData(a,c,d){this.selCCControlHandler=a;this.target=c;this.controlEvents=d}
cc.NodeLoader=cc.Class.extend({_customProperties:null,ctor:function(){this._customProperties=new cc._Dictionary},loadCCNode:function(a,c){return this._createCCNode(a,c)},parseProperties:function(a,c,d){for(var e=d.readInt(!1),f=d.readInt(!1),f=e+f,g=0;g<f;g++){var h=g>=e,m=d.readInt(!1),n=d.readCachedString(),r=!1,s=d.readByte();if(s===CCB_PLATFORM_ALL||s===CCB_PLATFORM_IOS||s===CCB_PLATFORM_MAC)r=!0;a instanceof cc.BuilderFile?a.getCCBFileNode()&&h&&(a=a.getCCBFileNode(),r=-1!==a.userObject.indexOf(n)):
h&&a===d.getAnimationManager().getRootNode()&&(h=a.userObject,h||(h=[],a.userObject=h),h.push(n));switch(m){case CCB_PROPTYPE_POSITION:m=this.parsePropTypePosition(a,c,d,n);if(r)this.onHandlePropTypePosition(a,c,n,m,d);break;case CCB_PROPTYPE_POINT:m=this.parsePropTypePoint(a,c,d);if(r)this.onHandlePropTypePoint(a,c,n,m,d);break;case CCB_PROPTYPE_POINTLOCK:m=this.parsePropTypePointLock(a,c,d);if(r)this.onHandlePropTypePointLock(a,c,n,m,d);break;case CCB_PROPTYPE_SIZE:m=this.parsePropTypeSize(a,c,
d);if(r)this.onHandlePropTypeSize(a,c,n,m,d);break;case CCB_PROPTYPE_SCALELOCK:m=this.parsePropTypeScaleLock(a,c,d,n);if(r)this.onHandlePropTypeScaleLock(a,c,n,m,d);break;case CCB_PROPTYPE_FLOATXY:m=this.parsePropTypeFloatXY(a,c,d);if(r)this.onHandlePropTypeFloatXY(a,c,n,m,d);break;case CCB_PROPTYPE_FLOAT:m=this.parsePropTypeFloat(a,c,d);if(r)this.onHandlePropTypeFloat(a,c,n,m,d);break;case CCB_PROPTYPE_DEGREES:m=this.parsePropTypeDegrees(a,c,d,n);if(r)this.onHandlePropTypeDegrees(a,c,n,m,d);break;
case CCB_PROPTYPE_FLOATSCALE:m=this.parsePropTypeFloatScale(a,c,d);if(r)this.onHandlePropTypeFloatScale(a,c,n,m,d);break;case CCB_PROPTYPE_INTEGER:m=this.parsePropTypeInteger(a,c,d);if(r)this.onHandlePropTypeInteger(a,c,n,m,d);break;case CCB_PROPTYPE_INTEGERLABELED:m=this.parsePropTypeIntegerLabeled(a,c,d);if(r)this.onHandlePropTypeIntegerLabeled(a,c,n,m,d);break;case CCB_PROPTYPE_FLOATVAR:m=this.parsePropTypeFloatVar(a,c,d);if(r)this.onHandlePropTypeFloatVar(a,c,n,m,d);break;case CCB_PROPTYPE_CHECK:m=
this.parsePropTypeCheck(a,c,d,n);if(r)this.onHandlePropTypeCheck(a,c,n,m,d);break;case CCB_PROPTYPE_SPRITEFRAME:m=this.parsePropTypeSpriteFrame(a,c,d,n);if(r)this.onHandlePropTypeSpriteFrame(a,c,n,m,d);break;case CCB_PROPTYPE_ANIMATION:m=this.parsePropTypeAnimation(a,c,d);if(r)this.onHandlePropTypeAnimation(a,c,n,m,d);break;case CCB_PROPTYPE_TEXTURE:m=this.parsePropTypeTexture(a,c,d);if(r)this.onHandlePropTypeTexture(a,c,n,m,d);break;case CCB_PROPTYPE_BYTE:m=this.parsePropTypeByte(a,c,d,n);if(r)this.onHandlePropTypeByte(a,
c,n,m,d);break;case CCB_PROPTYPE_COLOR3:m=this.parsePropTypeColor3(a,c,d,n);if(r)this.onHandlePropTypeColor3(a,c,n,m,d);break;case CCB_PROPTYPE_COLOR4VAR:m=this.parsePropTypeColor4FVar(a,c,d);if(r)this.onHandlePropTypeColor4FVar(a,c,n,m,d);break;case CCB_PROPTYPE_FLIP:m=this.parsePropTypeFlip(a,c,d);if(r)this.onHandlePropTypeFlip(a,c,n,m,d);break;case CCB_PROPTYPE_BLENDMODE:m=this.parsePropTypeBlendFunc(a,c,d);if(r)this.onHandlePropTypeBlendFunc(a,c,n,m,d);break;case CCB_PROPTYPE_FNTFILE:m=d.getCCBRootPath()+
this.parsePropTypeFntFile(a,c,d);if(r)this.onHandlePropTypeFntFile(a,c,n,m,d);break;case CCB_PROPTYPE_FONTTTF:m=this.parsePropTypeFontTTF(a,c,d);if(r)this.onHandlePropTypeFontTTF(a,c,n,m,d);break;case CCB_PROPTYPE_STRING:m=this.parsePropTypeString(a,c,d);if(r)this.onHandlePropTypeString(a,c,n,m,d);break;case CCB_PROPTYPE_TEXT:m=this.parsePropTypeText(a,c,d);if(r)this.onHandlePropTypeText(a,c,n,m,d);break;case CCB_PROPTYPE_BLOCK:m=this.parsePropTypeBlock(a,c,d);if(r)this.onHandlePropTypeBlock(a,c,
n,m,d);break;case CCB_PROPTYPE_BLOCKCCCONTROL:m=this.parsePropTypeBlockCCControl(a,c,d);if(r&&null!=m)this.onHandlePropTypeBlockCCControl(a,c,n,m,d);break;case CCB_PROPTYPE_CCBFILE:m=this.parsePropTypeCCBFile(a,c,d);if(r)this.onHandlePropTypeCCBFile(a,c,n,m,d);break;case CCB_PROPTYPE_FILTERFILE:m=this.parsePropTypeFilterFile(a,c,d);if(r)this.onHandlePropTypeFilterFile(a,c,n,m,d);break;default:ASSERT_FAIL_UNEXPECTED_PROPERTYTYPE(m)}}},getCustomProperties:function(){return this._customProperties},_createCCNode:function(a,
c){return new cc.Node},parsePropTypePosition:function(a,c,d,e){var f=d.readFloat(),g=d.readFloat(),h=d.readInt(!1),m=d.getAnimationManager().getContainerSize(c);c=cc._getAbsolutePosition(f,g,h,m,e);a.setPosition(cc.getAbsolutePosition(c,h,m,e));-1<d.getAnimatedProperties().indexOf(e)&&(f=[f,g,h],d.getAnimationManager().setBaseValue(f,a,e));return c},parsePropTypePoint:function(a,c,d){a=d.readFloat();d=d.readFloat();return cc.p(a,d)},parsePropTypePointLock:function(a,c,d){a=d.readFloat();d=d.readFloat();
return cc.p(a,d)},parsePropTypeSize:function(a,c,d){a=d.readFloat();var e=d.readFloat(),f=d.readInt(!1);c=d.getAnimationManager().getContainerSize(c);switch(f){case CCB_SIZETYPE_ABSOLUTE:break;case CCB_SIZETYPE_RELATIVE_CONTAINER:a=c.width-a;e=c.height-e;break;case CCB_SIZETYPE_PERCENT:a=c.width*a/100;e=c.height*e/100;break;case CCB_SIZETYPE_HORIZONTAL_PERCENT:a=c.width*a/100;break;case CCB_SIZETYPE_VERTICAL_PERCENT:e=c.height*e/100;break;case CCB_SIZETYPE_MULTIPLY_RESOLUTION:c=cc.BuilderReader.getResolutionScale();
a*=c;e*=c;break;default:cc.log("Unknown CCB type.")}return cc.size(a,e)},parsePropTypeScaleLock:function(a,c,d,e){var f=d.readFloat(),g=d.readFloat(),h=d.readInt(!1);cc.setRelativeScale(a,f,g,h,e);-1<d.getAnimatedProperties().indexOf(e)&&d.getAnimationManager().setBaseValue([f,g,h],a,e);h===CCB_SCALETYPE_MULTIPLY_RESOLUTION?(f*=cc.BuilderReader.getResolutionScale(),g*=cc.BuilderReader.getResolutionScale()):h===CCB_SCALETYPE_MULTIPLY_PARENT_SIZE?a&&c&&(a=a.getContentSize(),0<a.width&&0<a.height&&(c=
c.getContentSize(),f=f*c.width/a.width,g=g*c.height/a.height)):h===CCB_SCALETYPE_MULTIPLY_PARENT_SIZE_KEEP_SCALE?a&&c&&(a=a.getContentSize(),0<a.width&&0<a.height&&(c=c.getContentSize(),f=f*c.width/a.width,g=g*c.height/a.height,f>g?f=g:g=f)):h===CCB_SCALETYPE_MULTIPLY_PARENT_SIZE_KEEP_SCALE_FIT&&a&&c&&(a=a.getContentSize(),0<a.width&&0<a.height&&(c=c.getContentSize(),f=f*c.width/a.width,g=g*c.height/a.height,f<g?f=g:g=f));return[f,g]},parsePropTypeFloat:function(a,c,d){return d.readFloat()},parsePropTypeDegrees:function(a,
c,d,e){c=d.readFloat();-1<d.getAnimatedProperties().indexOf(e)&&d.getAnimationManager().setBaseValue(c,a,e);return c},parsePropTypeFloatScale:function(a,c,d){a=d.readFloat();d.readInt(!1)===CCB_SCALETYPE_MULTIPLY_RESOLUTION&&(a*=cc.BuilderReader.getResolutionScale());return a},parsePropTypeInteger:function(a,c,d){return d.readInt(!0)},parsePropTypeIntegerLabeled:function(a,c,d){return d.readInt(!0)},parsePropTypeFloatVar:function(a,c,d){a=d.readFloat();d=d.readFloat();return[a,d]},parsePropTypeCheck:function(a,
c,d,e){c=d.readBool();-1<d.getAnimatedProperties().indexOf(e)&&d.getAnimationManager().setBaseValue(c,a,e);return c},parsePropTypeSpriteFrame:function(a,c,d,e){var f=d.readCachedString();c=d.readCachedString();var g;if(null!=c&&0!==c.length){if(0===f.length){c=GetLanAssetsPath(c);g=cc.textureCache.addImage(c);g.isNeedRestSize=!0;var h=a.getContentSize(),h=cc.rect(0,0,h.width,h.height);g=new cc.SpriteFrame(g,h)}else h=cc.spriteFrameCache,f=d.getCCBRootPath()+f,-1===d.getLoadedSpriteSheet().indexOf(f)&&
(h.addSpriteFrames(f),d.getLoadedSpriteSheet().push(f)),g=ResourcesManager.getCountryLanguangeFileName(c),g=h.getSpriteFrame(g),g||(g=ResourcesManager.getLanguangeFileName(c),g=h.getSpriteFrame(g)),g||(g=h.getSpriteFrame(c));-1<d.getAnimatedProperties().indexOf(e)&&d.getAnimationManager().setBaseValue(g,a,e);g||cc.log("spriteFrame is null",c)}return g},parsePropTypeAnimation:function(a,c,d){a=d.getCCBRootPath()+d.readCachedString();d=d.readCachedString();c=null;d=cc.BuilderReader.lastPathComponent(d);
a=cc.BuilderReader.lastPathComponent(a);null!=d&&""!==d&&(c=cc.animationCache,c.addAnimations(a),c=c.getAnimation(d));return c},parsePropTypeTexture:function(a,c,d){a=d.getCCBRootPath()+d.readCachedString();return""!==a?cc.textureCache.addImage(a):null},parsePropTypeByte:function(a,c,d,e){c=d.readByte();-1<d.getAnimatedProperties().indexOf(e)&&d.getAnimationManager().setBaseValue(c,a,e);return c},parsePropTypeColor3:function(a,c,d,e){c=d.readByte();var f=d.readByte(),g=d.readByte();c={r:c,g:f,b:g};
-1<d.getAnimatedProperties().indexOf(e)&&d.getAnimationManager().setBaseValue(cc.Color3BWapper.create(c),a,e);return c},parsePropTypeColor4FVar:function(a,c,d){a=0|255*d.readFloat();c=0|255*d.readFloat();var e=0|255*d.readFloat(),f=d.readFloat(),f=1>=f?0|255*f:f,g=0|255*d.readFloat(),h=0|255*d.readFloat(),m=0|255*d.readFloat();d=d.readFloat();var n=[];n[0]={r:a,g:c,b:e,a:f};n[1]={r:g,g:h,b:m,a:1>=d?0|255*d:d};return n},parsePropTypeFlip:function(a,c,d){a=d.readBool();d=d.readBool();return[a,d]},parsePropTypeBlendFunc:function(a,
c,d){a=d.readInt(!1);d=d.readInt(!1);return new cc.BlendFunc(a,d)},parsePropTypeFntFile:function(a,c,d){return d.readCachedString()},parsePropTypeString:function(a,c,d){return d.readCachedString()},parsePropTypeText:function(a,c,d){return d.readCachedString()},parsePropTypeFontTTF:function(a,c,d){return d.readCachedString()},parsePropTypeBlock:function(a,c,d){c=d.readCachedString();var e=d.readInt(!1);if(e!==CCB_TARGETTYPE_NONE){var f=null;if(d.isJSControlled())e===CCB_TARGETTYPE_DOCUMENTROOT?(d.addDocumentCallbackNode(a),
d.addDocumentCallbackName(c),d.addDocumentCallbackControlEvents(0)):(d.addOwnerCallbackNode(a),d.addOwnerCallbackName(c),d.addOwnerCallbackControlEvents(0));else if(e===CCB_TARGETTYPE_DOCUMENTROOT?f=d.getAnimationManager().getRootNode():e===CCB_TARGETTYPE_OWNER&&(f=d.getOwner()),null!==f)if(0<c.length)if(a=0,f.onResolveCCBCCMenuItemSelector&&(a=f.onResolveCCBCCMenuItemSelector(f,c)),0===a&&(d=d.getCCBSelectorResolver(),null!=d&&(a=d.onResolveCCBCCMenuItemSelector(f,c))),0===a)cc.log("Skipping selector '"+
c+"' since no CCBSelectorResolver is present.");else return new BlockData(a,f);else cc.log("Unexpected empty selector.");else cc.log("Unexpected NULL target for selector.")}return null},parsePropTypeBlockCCControl:function(a,c,d){c=d.readCachedString();var e=d.readInt(!1),f=d.readInt(!1);if(e!==CCB_TARGETTYPE_NONE)if(d.isJSControlled())e===CCB_TARGETTYPE_DOCUMENTROOT?(d.addDocumentCallbackNode(a),d.addDocumentCallbackName(c),d.addDocumentCallbackControlEvents(f)):(d.addOwnerCallbackNode(a),d.addOwnerCallbackName(c),
d.addOwnerCallbackControlEvents(f));else if(a=null,e===CCB_TARGETTYPE_DOCUMENTROOT?a=d.getAnimationManager().getRootNode():e===CCB_TARGETTYPE_OWNER&&(a=d.getOwner()),null!==a)if(0<c.length)if(e=0,a.onResolveCCBCCControlSelector&&(e=a.onResolveCCBCCControlSelector(a,c)),0===e&&(d=d.getCCBSelectorResolver(),null!=d&&(e=d.onResolveCCBCCControlSelector(a,c))),0===e)cc.log("Skipping selector '"+c+"' since no CCBSelectorResolver is present.");else return new BlockCCControlData(e,a,f);else cc.log("Unexpected empty selector.");
else cc.log("Unexpected NULL target for selector.");return null},parsePropTypeCCBFile:function(a,c,d){var e=d.getCCBRootPath()+d.readCachedString(),e=cc.BuilderReader.deletePathExtension(e)+".ccbi";a=new cc.BuilderReader(d);var f=cc.loader.getRes(e);f||(f=cc.loader.urlByAliases(e),f=cc.loader.loadBinarySync(f),cc.loader.cache[e]=f);a.initWithData(f,d.getOwner());a.getAnimationManager().setRootContainerSize(c.getContentSize());a.setAnimationManagers(d.getAnimationManagers());a.getAnimationManager().setOwner(d.getOwner());
c=a.readFileWithCleanUp(!1);d.setAnimationManagers(a.getAnimationManagers());c&&-1!==a.getAnimationManager().getAutoPlaySequenceId()&&a.getAnimationManager().runAnimations(a.getAnimationManager().getAutoPlaySequenceId(),0);return c},parsePropTypeFilterFile:function(a,c,d){return d.readCachedString()},parsePropTypeFloatXY:function(a,c,d){a=d.readFloat();d=d.readFloat();return[a,d]},onHandlePropTypePosition:function(a,c,d,e,f){d===PROPERTY_POSITION?a.setPosition(e):ASSERT_FAIL_UNEXPECTED_PROPERTY(d)},
onHandlePropTypePoint:function(a,c,d,e,f){d===PROPERTY_ANCHORPOINT?a.setAnchorPoint(e):ASSERT_FAIL_UNEXPECTED_PROPERTY(d)},onHandlePropTypePointLock:function(a,c,d,e,f){ASSERT_FAIL_UNEXPECTED_PROPERTY(d)},onHandlePropTypeSize:function(a,c,d,e,f){d===PROPERTY_CONTENTSIZE?a.setContentSize(e):ASSERT_FAIL_UNEXPECTED_PROPERTY(d)},onHandlePropTypeScaleLock:function(a,c,d,e,f){d===PROPERTY_SCALE?(a.setScaleX(e[0]),a.setScaleY(e[1])):ASSERT_FAIL_UNEXPECTED_PROPERTY(d)},onHandlePropTypeFloatXY:function(a,
c,d,e,f){d===PROPERTY_SKEW?(a.setSkewX(e[0]),a.setSkewY(e[1])):(c=d+"X",f=d+"Y",a[c]&&a[f]||ASSERT_FAIL_UNEXPECTED_PROPERTY(d),a[c](e[0]),a[f](e[1]))},onHandlePropTypeFloat:function(a,c,d,e,f){this._customProperties.setObject(e,d)},onHandlePropTypeDegrees:function(a,c,d,e,f){d===PROPERTY_ROTATION?a.setRotation(e):d===PROPERTY_ROTATIONX?a.setRotationX(e):d===PROPERTY_ROTATIONY?a.setRotationY(e):ASSERT_FAIL_UNEXPECTED_PROPERTY(d)},onHandlePropTypeFloatScale:function(a,c,d,e,f){ASSERT_FAIL_UNEXPECTED_PROPERTY(d)},
onHandlePropTypeInteger:function(a,c,d,e,f){d===PROPERTY_TAG?a.setTag(e):ASSERT_FAIL_UNEXPECTED_PROPERTY(d)},onHandlePropTypeIntegerLabeled:function(a,c,d,e,f){ASSERT_FAIL_UNEXPECTED_PROPERTY(d)},onHandlePropTypeFloatVar:function(a,c,d,e,f){ASSERT_FAIL_UNEXPECTED_PROPERTY(d)},onHandlePropTypeCheck:function(a,c,d,e,f){d===PROPERTY_VISIBLE?a.setVisible(e):d===PROPERTY_IGNOREANCHORPOINTFORPOSITION?a.ignoreAnchorPointForPosition(e):ASSERT_FAIL_UNEXPECTED_PROPERTY(d)},onHandlePropTypeSpriteFrame:function(a,
c,d,e,f){ASSERT_FAIL_UNEXPECTED_PROPERTY(d)},onHandlePropTypeAnimation:function(a,c,d,e,f){ASSERT_FAIL_UNEXPECTED_PROPERTY(d)},onHandlePropTypeTexture:function(a,c,d,e,f){ASSERT_FAIL_UNEXPECTED_PROPERTY(d)},onHandlePropTypeByte:function(a,c,d,e,f){ASSERT_FAIL_UNEXPECTED_PROPERTY(d)},onHandlePropTypeColor3:function(a,c,d,e,f){ASSERT_FAIL_UNEXPECTED_PROPERTY(d)},onHandlePropTypeColor4FVar:function(a,c,d,e,f){ASSERT_FAIL_UNEXPECTED_PROPERTY(d)},onHandlePropTypeFlip:function(a,c,d,e,f){ASSERT_FAIL_UNEXPECTED_PROPERTY(d)},
onHandlePropTypeBlendFunc:function(a,c,d,e,f){ASSERT_FAIL_UNEXPECTED_PROPERTY(d)},onHandlePropTypeFntFile:function(a,c,d,e,f){ASSERT_FAIL_UNEXPECTED_PROPERTY(d)},onHandlePropTypeString:function(a,c,d,e,f){this._customProperties.setObject(e,d)},onHandlePropTypeText:function(a,c,d,e,f){ASSERT_FAIL_UNEXPECTED_PROPERTY(d)},onHandlePropTypeFontTTF:function(a,c,d,e,f){ASSERT_FAIL_UNEXPECTED_PROPERTY(d)},onHandlePropTypeBlock:function(a,c,d,e,f){ASSERT_FAIL_UNEXPECTED_PROPERTY(d)},onHandlePropTypeBlockCCControl:function(a,
c,d,e,f){ASSERT_FAIL_UNEXPECTED_PROPERTY(d)},onHandlePropTypeCCBFile:function(a,c,d,e,f){ASSERT_FAIL_UNEXPECTED_PROPERTY(d)},onHandlePropTypeFilterFile:function(a,c,d,e,f){ASSERT_FAIL_UNEXPECTED_PROPERTY(d)}});cc.NodeLoader.loader=function(){return new cc.NodeLoader};cc.NodeLoaderListener=cc.Class.extend({onNodeLoaded:function(a,c){}});cc.BuilderSelectorResolver=cc.Class.extend({onResolveCCBCCMenuItemSelector:function(a,c){},onResolveCCBCCCallFuncSelector:function(a,c){},onResolveCCBCCControlSelector:function(a,c){}});cc.BuilderScriptOwnerProtocol=cc.Class.extend({createNew:function(){}});cc.BuilderMemberVariableAssigner=cc.Class.extend({onAssignCCBMemberVariable:function(a,c,d){return!1},onAssignCCBCustomProperty:function(a,c,d){return!1}});var PROPERTY_CCBFILE="ccbFile";cc.BuilderFileLoader=cc.NodeLoader.extend({_createCCNode:function(a,c){return cc.BuilderFile.create()},onHandlePropTypeCCBFile:function(a,c,d,e,f){d===PROPERTY_CCBFILE?a.setCCBFileNode(e):cc.NodeLoader.prototype.onHandlePropTypeCCBFile.call(this,a,c,d,e,f)}});cc.BuilderFileLoader.loader=function(){return new cc.BuilderFileLoader};var PROPERTY_ENABLED="enabled",PROPERTY_SELECTED="selected",PROPERTY_CCCONTROL="ccControl";
cc.ControlLoader=cc.NodeLoader.extend({_createCCNode:function(a,c){},onHandlePropTypeBlockCCControl:function(a,c,d,e,f){d===PROPERTY_CCCONTROL?a.addTargetWithActionForControlEvents(e.target,e.selCCControlHandler,e.controlEvents):cc.NodeLoader.prototype.onHandlePropTypeBlockCCControl.call(this,a,c,d,e,f)},onHandlePropTypeCheck:function(a,c,d,e,f){d===PROPERTY_ENABLED?a.setEnabled(e):d===PROPERTY_SELECTED?a.setSelected(e):cc.NodeLoader.prototype.onHandlePropTypeCheck.call(this,a,c,d,e,f)}});
var PROPERTY_ZOOMONTOUCHDOWN="zoomOnTouchDown",PROPERTY_TITLE_NORMAL="title|1",PROPERTY_TITLE_HIGHLIGHTED="title|2",PROPERTY_TITLE_DISABLED="title|3",PROPERTY_TITLECOLOR_NORMAL="titleColor|1",PROPERTY_TITLECOLOR_HIGHLIGHTED="titleColor|2",PROPERTY_TITLECOLOR_DISABLED="titleColor|3",PROPERTY_TITLETTF_NORMAL="titleTTF|1",PROPERTY_TITLETTF_HIGHLIGHTED="titleTTF|2",PROPERTY_TITLETTF_DISABLED="titleTTF|3",PROPERTY_TITLETTFSIZE_NORMAL="titleTTFSize|1",PROPERTY_TITLETTFSIZE_HIGHLIGHTED="titleTTFSize|2",
PROPERTY_TITLETTFSIZE_DISABLED="titleTTFSize|4",PROPERTY_LABELANCHORPOINT="labelAnchorPoint",PROPERTY_PREFEREDSIZE="preferedSize",PROPERTY_BACKGROUNDSPRITEFRAME_NORMAL="backgroundSpriteFrame|1",PROPERTY_BACKGROUNDSPRITEFRAME_HIGHLIGHTED="backgroundSpriteFrame|2",PROPERTY_BACKGROUNDSPRITEFRAME_DISABLED="backgroundSpriteFrame|3";
cc.ControlButtonLoader=cc.ControlLoader.extend({_createCCNode:function(a,c){return new cc.ControlButton},onHandlePropTypeCheck:function(a,c,d,e,f){d===PROPERTY_ZOOMONTOUCHDOWN?a.setZoomOnTouchDown(e):cc.ControlLoader.prototype.onHandlePropTypeCheck.call(this,a,c,d,e,f)},onHandlePropTypeString:function(a,c,d,e,f){d===PROPERTY_TITLE_NORMAL?a.setTitleForState(e,cc.CONTROL_STATE_NORMAL):d===PROPERTY_TITLE_HIGHLIGHTED?a.setTitleForState(e,cc.CONTROL_STATE_HIGHLIGHTED):d===PROPERTY_TITLE_DISABLED?a.setTitleForState(e,
cc.CONTROL_STATE_DISABLED):cc.ControlLoader.prototype.onHandlePropTypeString.call(this,a,c,d,e,f)},onHandlePropTypeFontTTF:function(a,c,d,e,f){d===PROPERTY_TITLETTF_NORMAL?a.setTitleTTFForState(e,cc.CONTROL_STATE_NORMAL):d===PROPERTY_TITLETTF_HIGHLIGHTED?a.setTitleTTFForState(e,cc.CONTROL_STATE_HIGHLIGHTED):d===PROPERTY_TITLETTF_DISABLED?a.setTitleTTFForState(e,cc.CONTROL_STATE_DISABLED):cc.ControlLoader.prototype.onHandlePropTypeFontTTF.call(this,a,c,d,e,f)},onHandlePropTypeFloatScale:function(a,
c,d,e,f){d===PROPERTY_TITLETTFSIZE_NORMAL?a.setTitleTTFSizeForState(e,cc.CONTROL_STATE_NORMAL):d===PROPERTY_TITLETTFSIZE_HIGHLIGHTED?a.setTitleTTFSizeForState(e,cc.CONTROL_STATE_HIGHLIGHTED):d===PROPERTY_TITLETTFSIZE_DISABLED?a.setTitleTTFSizeForState(e,cc.CONTROL_STATE_DISABLED):cc.ControlLoader.prototype.onHandlePropTypeFloatScale.call(this,a,c,d,e,f)},onHandlePropTypePoint:function(a,c,d,e,f){d===PROPERTY_LABELANCHORPOINT?a.setLabelAnchorPoint(e):cc.ControlLoader.prototype.onHandlePropTypePoint.call(this,
a,c,d,e,f)},onHandlePropTypeSize:function(a,c,d,e,f){d===PROPERTY_PREFEREDSIZE?a.setPreferredSize(e):cc.ControlLoader.prototype.onHandlePropTypeSize.call(this,a,c,d,e,f)},onHandlePropTypeSpriteFrame:function(a,c,d,e,f){d===PROPERTY_BACKGROUNDSPRITEFRAME_NORMAL?null!=e&&a.setBackgroundSpriteFrameForState(e,cc.CONTROL_STATE_NORMAL):d===PROPERTY_BACKGROUNDSPRITEFRAME_HIGHLIGHTED?null!=e&&a.setBackgroundSpriteFrameForState(e,cc.CONTROL_STATE_HIGHLIGHTED):d===PROPERTY_BACKGROUNDSPRITEFRAME_DISABLED?null!=
e&&a.setBackgroundSpriteFrameForState(e,cc.CONTROL_STATE_DISABLED):cc.ControlLoader.prototype.onHandlePropTypeSpriteFrame.call(this,a,c,d,e,f)},onHandlePropTypeColor3:function(a,c,d,e,f){d===PROPERTY_TITLECOLOR_NORMAL?a.setTitleColorForState(e,cc.CONTROL_STATE_NORMAL):d===PROPERTY_TITLECOLOR_HIGHLIGHTED?a.setTitleColorForState(e,cc.CONTROL_STATE_HIGHLIGHTED):d===PROPERTY_TITLECOLOR_DISABLED?a.setTitleColorForState(e,cc.CONTROL_STATE_DISABLED):cc.ControlLoader.prototype.onHandlePropTypeColor3.call(this,
a,c,d,e,f)}});cc.ControlButtonLoader.loader=function(){return new cc.ControlButtonLoader};var PROPERTY_CONTAINER="container",PROPERTY_DIRECTION="direction",PROPERTY_CLIPSTOBOUNDS="clipsToBounds",PROPERTY_BOUNCES="bounces",PROPERTY_SCALE="scale";
cc.ScrollViewLoader=cc.NodeLoader.extend({_createCCNode:function(a,c){return new cc.ScrollView},onHandlePropTypeSize:function(a,c,d,e,f){d===PROPERTY_CONTENTSIZE?a.setViewSize(e):cc.NodeLoader.prototype.onHandlePropTypeSize.call(this,a,c,d,e,f)},onHandlePropTypeCCBFile:function(a,c,d,e,f){d===PROPERTY_CONTAINER?(a.setContainer(e),a.updateInset()):cc.NodeLoader.prototype.onHandlePropTypeCCBFile.call(this,a,c,d,e,f)},onHandlePropTypeCheck:function(a,c,d,e,f){d===PROPERTY_CLIPSTOBOUNDS?a.setClippingToBounds(e):
d===PROPERTY_BOUNCES?a.setBounceable(e):cc.NodeLoader.prototype.onHandlePropTypeCheck.call(this,a,c,d,e,f)},onHandlePropTypeFloat:function(a,c,d,e,f){d===PROPERTY_SCALE?a.setScale(e):cc.NodeLoader.prototype.onHandlePropTypeFloat.call(this,a,c,d,e,f)},onHandlePropTypeIntegerLabeled:function(a,c,d,e,f){d===PROPERTY_DIRECTION?a.setDirection(e):cc.NodeLoader.prototype.onHandlePropTypeIntegerLabeled.call(this,a,c,d,e,f)}});cc.ScrollViewLoader.loader=function(){return new cc.ScrollViewLoader};
var PROPERTY_CONTENTSIZE="contentSize",PROPERTY_SPRITEFRAME="spriteFrame",PROPERTY_COLOR="color",PROPERTY_OPACITY="opacity",PROPERTY_BLENDFUNC="blendFunc",PROPERTY_INSETLEFT="insetLeft",PROPERTY_INSETTOP="insetTop",PROPERTY_INSETRIGHT="insetRight",PROPERTY_INSETBOTTOM="insetBottom";
cc.Scale9SpriteLoader=cc.NodeLoader.extend({_insetLeft:0,_insetRight:0,_insetTop:0,_insetBottom:0,_createCCNode:function(a,c){var d=new cc.Scale9Sprite;d.setAnchorPoint(0,0);return d},onHandlePropTypeColor3:function(a,c,d,e,f){d===PROPERTY_COLOR?255===e.r&&255===e.g&&255===e.b||a.setColor(e):cc.NodeLoader.prototype.onHandlePropTypeColor3.call(this,a,c,d,e,f)},onHandlePropTypeByte:function(a,c,d,e,f){d===PROPERTY_OPACITY?a.setOpacity(e):cc.NodeLoader.prototype.onHandlePropTypeByte.call(this,a,c,d,
e,f)},onHandlePropTypeBlendFunc:function(a,c,d,e,f){d!==PROPERTY_BLENDFUNC&&cc.NodeLoader.prototype.onHandlePropTypeBlendFunc.call(this,a,c,d,e,f)},onHandlePropTypeSpriteFrame:function(a,c,d,e,f){d===PROPERTY_SPRITEFRAME?a.setSpriteFrame(e):cc.NodeLoader.prototype.onHandlePropTypeSpriteFrame.call(this,a,c,d,e,f)},onHandlePropTypeSize:function(a,c,d,e,f){d!==PROPERTY_CONTENTSIZE&&(d===PROPERTY_PREFEREDSIZE?a.setPreferredSize(e):cc.NodeLoader.prototype.onHandlePropTypeSize.call(this,a,c,d,e,f))},onHandlePropTypeFloat:function(a,
c,d,e,f){d===PROPERTY_INSETLEFT?this._insetLeft=e:d===PROPERTY_INSETTOP?this._insetTop=e:d===PROPERTY_INSETRIGHT?this._insetRight=e:d===PROPERTY_INSETBOTTOM?(this._insetBottom=e,a.setInset(this._insetLeft,this._insetTop,this._insetRight,this._insetBottom)):cc.NodeLoader.prototype.onHandlePropTypeFloat.call(this,a,c,d,e,f)}});cc.Scale9SpriteLoader.loader=function(){return new cc.Scale9SpriteLoader};var PROPERTY_FLIP="flip",PROPERTY_DISPLAYFRAME="displayFrame",PROPERTY_COLOR="color",PROPERTY_OPACITY="opacity",PROPERTY_BLENDFUNC="blendFunc";
cc.SpriteLoader=cc.NodeLoader.extend({_createCCNode:function(a,c){return new cc.Sprite},onHandlePropTypeColor3:function(a,c,d,e,f){d===PROPERTY_COLOR?255===e.r&&255===e.g&&255===e.b||a.setColor(e):cc.NodeLoader.prototype.onHandlePropTypeColor3.call(this,a,c,d,e,f)},onHandlePropTypeByte:function(a,c,d,e,f){d===PROPERTY_OPACITY?a.setOpacity(e):cc.NodeLoader.prototype.onHandlePropTypeByte.call(this,a,c,d,e,f)},onHandlePropTypeBlendFunc:function(a,c,d,e,f){d===PROPERTY_BLENDFUNC?a.setBlendFunc(e):cc.NodeLoader.prototype.onHandlePropTypeBlendFunc.call(this,
a,c,d,e,f)},onHandlePropTypeSpriteFrame:function(a,c,d,e,f){d===PROPERTY_DISPLAYFRAME?e?a.setSpriteFrame(e):cc.log("ERROR: SpriteFrame is null"):cc.NodeLoader.prototype.onHandlePropTypeSpriteFrame.call(this,a,c,d,e,f)},onHandlePropTypeFlip:function(a,c,d,e,f){d===PROPERTY_FLIP?(a.setFlippedX(e[0]),a.setFlippedY(e[1])):cc.NodeLoader.prototype.onHandlePropTypeFlip.call(this,a,c,d,e,f)},onHandlePropTypeSize:function(a,c,d,e,f){d===PROPERTY_CONTENTSIZE?a.setContentSize(e):cc.NodeLoader.prototype.onHandlePropTypeSize.call(this,
a,c,d,e,f)}});cc.SpriteLoader.loader=function(){return new cc.SpriteLoader};var PROPERTY_TOUCH_ENABLED="touchEnabled",PROPERTY_IS_TOUCH_ENABLED="isTouchEnabled",PROPERTY_ACCELEROMETER_ENABLED="accelerometerEnabled",PROPERTY_IS_ACCELEROMETER_ENABLED="isAccelerometerEnabled",PROPERTY_IS_MOUSE_ENABLED="isMouseEnabled",PROPERTY_MOUSE_ENABLED="mouseEnabled",PROPERTY_KEYBOARD_ENABLED="keyboardEnabled",PROPERTY_IS_KEYBOARD_ENABLED="isKeyboardEnabled";
cc.LayerLoader=cc.NodeLoader.extend({_createCCNode:function(a,c){var d=new cc.Layer;d.setContentSize(0,0);return d},onHandlePropTypeCheck:function(a,c,d,e,f){d!==PROPERTY_TOUCH_ENABLED&&d!==PROPERTY_IS_TOUCH_ENABLED&&d!==PROPERTY_ACCELEROMETER_ENABLED&&d!==PROPERTY_IS_ACCELEROMETER_ENABLED&&d!==PROPERTY_MOUSE_ENABLED&&d!==PROPERTY_IS_MOUSE_ENABLED&&(d===PROPERTY_KEYBOARD_ENABLED||d===PROPERTY_IS_KEYBOARD_ENABLED?a.setKeyboardEnabled&&!cc.sys.isNative?a.setKeyboardEnabled(e):cc.log("The property '"+
PROPERTY_IS_KEYBOARD_ENABLED+"' is not supported!"):cc.NodeLoader.prototype.onHandlePropTypeCheck.call(this,a,c,d,e,f))}});cc.LayerLoader.loader=function(){return new cc.LayerLoader};
cc.LayerColorLoader=cc.LayerLoader.extend({_createCCNode:function(a,c){var d=new cc.Layer;if(cc.spriteFrameCache.getSpriteFrame("ico_white_rect.png")){var e=cc.Sprite.createWithSpriteFrameName("ico_white_rect.png");d.addChild(e)}return d},onHandlePropTypeColor3:function(a,c,d,e,f){d===PROPERTY_COLOR?(a=a.getChildByIdx(0))&&a.setColor(e):cc.LayerLoader.prototype.onHandlePropTypeColor3.call(this,a,c,d,e,f)},onHandlePropTypeByte:function(a,c,d,e,f){d===PROPERTY_OPACITY?(a=a.getChildByIdx(0))&&a.setOpacity(e):
cc.LayerLoader.prototype.onHandlePropTypeByte.call(this,a,c,d,e,f)},onHandlePropTypeBlendFunc:function(a,c,d,e,f){d===PROPERTY_BLENDFUNC?(a=a.getChildByIdx(0))&&a.setBlendFunc(e):cc.LayerLoader.prototype.onHandlePropTypeBlendFunc.call(this,a,c,d,e,f)},onHandlePropTypeSize:function(a,c,d,e,f){cc.NodeLoader.prototype.onHandlePropTypeSize.call(this,a,c,d,e,f);d===PROPERTY_CONTENTSIZE&&(a=a.getChildByIdx(0))&&(a.setScale(0.08*e.width,0.08*e.height),a.setPosition(0.5*e.width,0.5*e.height))}});
cc.LayerColorLoader.loader=function(){return new cc.LayerColorLoader};var PROPERTY_STARTCOLOR="startColor",PROPERTY_ENDCOLOR="endColor",PROPERTY_STARTOPACITY="startOpacity",PROPERTY_ENDOPACITY="endOpacity",PROPERTY_VECTOR="vector";
cc.LayerGradientLoader=cc.LayerLoader.extend({_createCCNode:function(a,c){return new cc.LayerGradient},onHandlePropTypeColor3:function(a,c,d,e,f){d===PROPERTY_STARTCOLOR?a.setStartColor(e):d===PROPERTY_ENDCOLOR?a.setEndColor(e):cc.LayerLoader.prototype.onHandlePropTypeColor3.call(this,a,c,d,e,f)},onHandlePropTypeByte:function(a,c,d,e,f){d===PROPERTY_STARTOPACITY?a.setStartOpacity(e):d===PROPERTY_ENDOPACITY?a.setEndOpacity(e):cc.LayerLoader.prototype.onHandlePropTypeByte.call(this,a,c,d,e,f)},onHandlePropTypePoint:function(a,
c,d,e,f){d===PROPERTY_VECTOR?a.setVector(e):cc.LayerLoader.prototype.onHandlePropTypePoint.call(this,a,c,d,e,f)},onHandlePropTypeBlendFunc:function(a,c,d,e,f){d===PROPERTY_BLENDFUNC?a.setBlendFunc(e):cc.LayerLoader.prototype.onHandlePropTypeBlendFunc.call(this,a,c,d,e,f)}});cc.LayerGradientLoader.loader=function(){return new cc.LayerGradientLoader};cc.MenuLoader=cc.LayerLoader.extend({_createCCNode:function(a,c){var d=new cc.Menu;d.setContentSize(0,0);return d}});cc.MenuLoader.loader=function(){return new cc.MenuLoader};
var PROPERTY_BLOCK="block",PROPERTY_ISENABLED="isEnabled";cc.MenuItemLoader=cc.NodeLoader.extend({_createCCNode:function(a,c){return null},onHandlePropTypeBlock:function(a,c,d,e,f){d===PROPERTY_BLOCK?null!=e&&a.setTarget(e.selMenuHander,e.target):cc.NodeLoader.prototype.onHandlePropTypeBlock.call(this,a,c,d,e,f)},onHandlePropTypeCheck:function(a,c,d,e,f){d===PROPERTY_ISENABLED?a.setEnabled(e):cc.NodeLoader.prototype.onHandlePropTypeCheck.call(this,a,c,d,e,f)}});
var PROPERTY_NORMALDISPLAYFRAME="normalSpriteFrame",PROPERTY_SELECTEDDISPLAYFRAME="selectedSpriteFrame",PROPERTY_DISABLEDDISPLAYFRAME="disabledSpriteFrame";
cc.MenuItemImageLoader=cc.MenuItemLoader.extend({_createCCNode:function(a,c){return new cc.MenuItemImage},onHandlePropTypeSpriteFrame:function(a,c,d,e,f){d===PROPERTY_NORMALDISPLAYFRAME?null!=e&&a.setNormalSpriteFrame(e):d===PROPERTY_SELECTEDDISPLAYFRAME?null!=e&&a.setSelectedSpriteFrame(e):d===PROPERTY_DISABLEDDISPLAYFRAME?null!=e&&a.setDisabledSpriteFrame(e):cc.MenuItemLoader.prototype.onHandlePropTypeSpriteFrame.call(this,a,c,d,e,f)}});cc.MenuItemImageLoader.loader=function(){return new cc.MenuItemImageLoader};
var PROPERTY_FONTNAME="fontName",PROPERTY_FONTSIZE="fontSize",PROPERTY_HORIZONTALALIGNMENT="horizontalAlignment",PROPERTY_VERTICALALIGNMENT="verticalAlignment",PROPERTY_STRING="string",PROPERTY_DIMENSIONS="dimensions";
cc.LabelTTFLoader=cc.NodeLoader.extend({_createCCNode:function(a,c){return new cc.LabelTTF},onHandlePropTypeColor3:function(a,c,d,e,f){d===PROPERTY_COLOR?255===e.r&&255===e.g&&255===e.b||a.setColor(e):cc.NodeLoader.prototype.onHandlePropTypeColor3.call(this,a,c,d,e,f)},onHandlePropTypeByte:function(a,c,d,e,f){d===PROPERTY_OPACITY?a.setOpacity(e):cc.NodeLoader.prototype.onHandlePropTypeByte.call(this,a,c,d,e,f)},onHandlePropTypeBlendFunc:function(a,c,d,e,f){d===PROPERTY_BLENDFUNC?a.setBlendFunc(e):
cc.NodeLoader.prototype.onHandlePropTypeBlendFunc.call(this,a,c,d,e,f)},onHandlePropTypeFontTTF:function(a,c,d,e,f){d===PROPERTY_FONTNAME?a.setFontName(e):cc.NodeLoader.prototype.onHandlePropTypeFontTTF.call(this,a,c,d,e,f)},onHandlePropTypeText:function(a,c,d,e,f){d===PROPERTY_STRING?a.setString(TEXT_VALUE(e)):cc.NodeLoader.prototype.onHandlePropTypeText.call(this,a,c,d,e,f)},onHandlePropTypeFloatScale:function(a,c,d,e,f){d===PROPERTY_FONTSIZE?a.setFontSize(e):cc.NodeLoader.prototype.onHandlePropTypeFloatScale.call(this,
a,c,d,e,f)},onHandlePropTypeIntegerLabeled:function(a,c,d,e,f){d===PROPERTY_HORIZONTALALIGNMENT?a.setHorizontalAlignment(e):d===PROPERTY_VERTICALALIGNMENT?a.setVerticalAlignment(e):cc.NodeLoader.prototype.onHandlePropTypeIntegerLabeled.call(this,a,c,d,e,f)},onHandlePropTypeSize:function(a,c,d,e,f){d===PROPERTY_DIMENSIONS?a.setDimensions(e):cc.NodeLoader.prototype.onHandlePropTypeSize.call(this,a,c,d,e,f)}});cc.LabelTTFLoader.loader=function(){return new cc.LabelTTFLoader};var PROPERTY_FNTFILE="fntFile";
cc.LabelBMFontLoader=cc.NodeLoader.extend({_createCCNode:function(a,c){return new cc.LabelBMFont},onHandlePropTypeColor3:function(a,c,d,e,f){d===PROPERTY_COLOR?255===e.r&&255===e.g&&255===e.b||a.setColor(e):cc.NodeLoader.prototype.onHandlePropTypeColor3.call(this,a,c,d,e,f)},onHandlePropTypeByte:function(a,c,d,e,f){d===PROPERTY_OPACITY?a.setOpacity(e):cc.NodeLoader.prototype.onHandlePropTypeByte.call(this,a,c,d,e,f)},onHandlePropTypeBlendFunc:function(a,c,d,e,f){d===PROPERTY_BLENDFUNC?a.setBlendFunc(e):
cc.NodeLoader.prototype.onHandlePropTypeBlendFunc.call(this,a,c,d,e,f)},onHandlePropTypeFntFile:function(a,c,d,e,f){d===PROPERTY_FNTFILE?a.setFntFile(e):cc.NodeLoader.prototype.onHandlePropTypeFntFile.call(this,a,c,d,e,f)},onHandlePropTypeText:function(a,c,d,e,f){d===PROPERTY_STRING?a.setString(e):cc.NodeLoader.prototype.onHandlePropTypeText.call(this,a,c,d,e,f)},onHandlePropTypeFloatScale:function(a,c,d,e,f){"width"==d?0>e&&c.getContentSize():this._super(a,c,d,e,f)}});
cc.LabelBMFontLoader.loader=function(){return new cc.LabelBMFontLoader};
var PROPERTY_EMITERMODE="emitterMode",PROPERTY_POSVAR="posVar",PROPERTY_EMISSIONRATE="emissionRate",PROPERTY_DURATION="duration",PROPERTY_TOTALPARTICLES="totalParticles",PROPERTY_LIFE="life",PROPERTY_STARTSIZE="startSize",PROPERTY_ENDSIZE="endSize",PROPERTY_STARTSPIN="startSpin",PROPERTY_ENDSPIN="endSpin",PROPERTY_ANGLE="angle",PROPERTY_GRAVITY="gravity",PROPERTY_SPEED="speed",PROPERTY_TANGENTIALACCEL="tangentialAccel",PROPERTY_RADIALACCEL="radialAccel",PROPERTY_TEXTURE="texture",PROPERTY_STARTRADIUS=
"startRadius",PROPERTY_ENDRADIUS="endRadius",PROPERTY_ROTATEPERSECOND="rotatePerSecond";cc.ParticleSystemLoader=cc.NodeLoader.extend({_createCCNode:function(a,c){return new cc.ParticleSystem},onHandlePropTypeFilterFile:function(a,c,d,e,f){"filterFile"==d?a.initWithFile(GetAssetsPath(e)):this._super(a,c,d,e,f)}});cc.ParticleSystemLoader.loader=function(){return new cc.ParticleSystemLoader};cc.NodeLoaderLibrary=cc.Class.extend({_ccNodeLoaders:null,ctor:function(){this._ccNodeLoaders={}},registerDefaultCCNodeLoaders:function(){this.registerCCNodeLoader("CCNode",cc.NodeLoader.loader());this.registerCCNodeLoader("CCLayer",cc.LayerLoader.loader());this.registerCCNodeLoader("CCLayerColor",cc.LayerColorLoader.loader());this.registerCCNodeLoader("CCLayerGradient",cc.LayerGradientLoader.loader());this.registerCCNodeLoader("CCSprite",cc.SpriteLoader.loader());this.registerCCNodeLoader("CCLabelBMFont",
cc.LabelBMFontLoader.loader());this.registerCCNodeLoader("CCLabelTTF",cc.LabelTTFLoader.loader());this.registerCCNodeLoader("CCScale9Sprite",cc.Scale9SpriteLoader.loader());this.registerCCNodeLoader("CCScrollView",cc.ScrollViewLoader.loader());this.registerCCNodeLoader("CCBFile",cc.BuilderFileLoader.loader());this.registerCCNodeLoader("CCMenu",cc.MenuLoader.loader());this.registerCCNodeLoader("CCMenuItemImage",cc.MenuItemImageLoader.loader());this.registerCCNodeLoader("CCControlButton",cc.ControlButtonLoader.loader());
this.registerCCNodeLoader("CCParticleSystemQuad",cc.ParticleSystemLoader.loader())},registerCCNodeLoader:function(a,c){this._ccNodeLoaders[a]=c},unregisterCCNodeLoader:function(a){this._ccNodeLoaders[a]&&delete this._ccNodeLoaders[a]},getCCNodeLoader:function(a){return this._ccNodeLoaders[a]?this._ccNodeLoaders[a]:null},purge:function(a){if(a)for(var c in this._ccNodeLoaders)delete this._ccNodeLoaders[c];this._ccNodeLoaders={}}});cc.NodeLoaderLibrary.sSharedCCNodeLoaderLibrary=null;
cc.NodeLoaderLibrary.library=function(){return new cc.NodeLoaderLibrary};cc.NodeLoaderLibrary.sharedCCNodeLoaderLibrary=function(){null==cc.NodeLoaderLibrary.sSharedCCNodeLoaderLibrary&&(cc.NodeLoaderLibrary.sSharedCCNodeLoaderLibrary=new cc.NodeLoaderLibrary,cc.NodeLoaderLibrary.sSharedCCNodeLoaderLibrary.registerDefaultCCNodeLoaders());return cc.NodeLoaderLibrary.sSharedCCNodeLoaderLibrary};
cc.NodeLoaderLibrary.purgeSharedCCNodeLoaderLibrary=function(){cc.NodeLoaderLibrary.sSharedCCNodeLoaderLibrary=null};cc.NodeLoaderLibrary.newDefaultCCNodeLoaderLibrary=function(){return this.sharedCCNodeLoaderLibrary()};var CCB_VERSION=5,CCB_PROPTYPE_POSITION=0,CCB_PROPTYPE_SIZE=1,CCB_PROPTYPE_POINT=2,CCB_PROPTYPE_POINTLOCK=3,CCB_PROPTYPE_SCALELOCK=4,CCB_PROPTYPE_DEGREES=5,CCB_PROPTYPE_INTEGER=6,CCB_PROPTYPE_FLOAT=7,CCB_PROPTYPE_FLOATVAR=8,CCB_PROPTYPE_CHECK=9,CCB_PROPTYPE_SPRITEFRAME=10,CCB_PROPTYPE_TEXTURE=11,CCB_PROPTYPE_BYTE=12,CCB_PROPTYPE_COLOR3=13,CCB_PROPTYPE_COLOR4VAR=14,CCB_PROPTYPE_FLIP=15,CCB_PROPTYPE_BLENDMODE=16,CCB_PROPTYPE_FNTFILE=17,CCB_PROPTYPE_TEXT=18,CCB_PROPTYPE_FONTTTF=19,CCB_PROPTYPE_INTEGERLABELED=
20,CCB_PROPTYPE_BLOCK=21,CCB_PROPTYPE_ANIMATION=22,CCB_PROPTYPE_CCBFILE=23,CCB_PROPTYPE_STRING=24,CCB_PROPTYPE_BLOCKCCCONTROL=25,CCB_PROPTYPE_FLOATSCALE=26,CCB_PROPTYPE_FLOATXY=27,CCB_PROPTYPE_FILTERFILE=28,CCB_FLOAT0=0,CCB_FLOAT1=1,CCB_FLOAT_MINUS1=2,CCB_FLOAT05=3,CCB_FLOAT_INTEGER=4,CCB_FLOAT_FULL=5,CCB_PLATFORM_ALL=0,CCB_PLATFORM_IOS=1,CCB_PLATFORM_MAC=2,CCB_TARGETTYPE_NONE=0,CCB_TARGETTYPE_DOCUMENTROOT=1,CCB_TARGETTYPE_OWNER=2,CCB_KEYFRAME_EASING_INSTANT=0,CCB_KEYFRAME_EASING_LINEAR=1,CCB_KEYFRAME_EASING_CUBIC_IN=
2,CCB_KEYFRAME_EASING_CUBIC_OUT=3,CCB_KEYFRAME_EASING_CUBIC_INOUT=4,CCB_KEYFRAME_EASING_ELASTIC_IN=5,CCB_KEYFRAME_EASING_ELASTIC_OUT=6,CCB_KEYFRAME_EASING_ELASTIC_INOUT=7,CCB_KEYFRAME_EASING_BOUNCE_IN=8,CCB_KEYFRAME_EASING_BOUNCE_OUT=9,CCB_KEYFRAME_EASING_BOUNCE_INOUT=10,CCB_KEYFRAME_EASING_BACK_IN=11,CCB_KEYFRAME_EASING_BACK_OUT=12,CCB_KEYFRAME_EASING_BACK_INOUT=13,CCB_POSITIONTYPE_RELATIVE_BOTTOM_LEFT=0,CCB_POSITIONTYPE_RELATIVE_TOP_LEFT=1,CCB_POSITIONTYPE_RELATIVE_TOP_RIGHT=2,CCB_POSITIONTYPE_RELATIVE_BOTTOM_RIGHT=
3,CCB_POSITIONTYPE_PERCENT=4,CCB_POSITIONTYPE_MULTIPLY_RESOLUTION=5,CCB_SIZETYPE_ABSOLUTE=0,CCB_SIZETYPE_PERCENT=1,CCB_SIZETYPE_RELATIVE_CONTAINER=2,CCB_SIZETYPE_HORIZONTAL_PERCENT=3,CCB_SIZETYPE_VERTICAL_PERCENT=4,CCB_SIZETYPE_MULTIPLY_RESOLUTION=5,CCB_SCALETYPE_ABSOLUTE=0,CCB_SCALETYPE_MULTIPLY_RESOLUTION=1,CCB_SCALETYPE_MULTIPLY_PARENT_SIZE=2,CCB_SCALETYPE_MULTIPLY_PARENT_SIZE_KEEP_SCALE=3,CCB_SCALETYPE_MULTIPLY_PARENT_SIZE_KEEP_SCALE_FIT=4;
cc.BuilderFile=cc.Node.extend({_ccbFileNode:null,getCCBFileNode:function(){return this._ccbFileNode},setCCBFileNode:function(a){this._ccbFileNode=a}});cc.BuilderFile.create=function(){return new cc.BuilderFile};
cc.BuilderReader=cc.Class.extend({_jsControlled:!1,_data:null,_ccbRootPath:"",_bytes:0,_currentByte:0,_currentBit:0,_stringCache:null,_loadedSpriteSheets:null,_owner:null,_animationManager:null,_animationManagers:null,_animatedProps:null,_ccNodeLoaderLibrary:null,_ccNodeLoaderListener:null,_ccbMemberVariableAssigner:null,_ccbSelectorResolver:null,_ownerOutletNames:null,_ownerOutletNodes:null,_nodesWithAnimationManagers:null,_animationManagerForNodes:null,_ownerCallbackNames:null,_ownerCallbackNodes:null,
_ownerCallbackEvents:null,_readNodeGraphFromData:!1,ctor:function(a,c,d,e){this._stringCache=[];this._loadedSpriteSheets=[];this._currentByte=this._currentBit=-1;0!==arguments.length&&(a instanceof cc.BuilderReader?(this._loadedSpriteSheets=a._loadedSpriteSheets,this._ccNodeLoaderLibrary=a._ccNodeLoaderLibrary,this._ccbMemberVariableAssigner=a._ccbMemberVariableAssigner,this._ccbSelectorResolver=a._ccbSelectorResolver,this._ccNodeLoaderListener=a._ccNodeLoaderListener,this._ownerCallbackNames=a._ownerCallbackNames,
this._ownerCallbackNodes=a._ownerCallbackNodes,this._ownerCallbackEvents=a._ownerCallbackEvents,this._ownerOutletNames=a._ownerOutletNames,this._ownerOutletNodes=a._ownerOutletNodes,this._ccbRootPath=a._ccbRootPath):(this._ccNodeLoaderLibrary=a,this._ccbMemberVariableAssigner=c,this._ccbSelectorResolver=d,this._ccNodeLoaderListener=e))},getCCBRootPath:function(){return this._ccbRootPath},setCCBRootPath:function(a){this._ccbRootPath=a},initWithData:function(a,c){this._animationManager=new cc.BuilderAnimationManager;
this._data=a;this._bytes=a.length;this._currentByte=this._currentBit=0;this._owner=c;this._animationManager.setRootContainerSize(cc.director.getWinSize());return!0},_loadBinarySync:function(a){return null},readNodeGraphFromFile:function(a,c,d,e){null==d?d=cc.director.getWinSize():d instanceof cc.BuilderAnimationManager&&(e=d,d=cc.director.getWinSize());var f=cc.loader.getRes(a);f||(f=cc.loader.urlByAliases(a),f=cc.loader.loadBinarySync(f),cc.loader.cache[a]=f);return this.readNodeGraphFromData(f,
c,d,e)},readNodeGraphFromData:function(a,c,d){this.initWithData(a,c);a=this._animationManager;a.setRootContainerSize(d);a.setOwner(c);this._ownerOutletNames=[];this._ownerOutletNodes=[];this._ownerCallbackNames=[];this._ownerCallbackNodes=[];this._ownerCallbackEvents=[];this._animationManagers=new cc._Dictionary;(c=this.readFileWithCleanUp(!0))&&-1!==a.getAutoPlaySequenceId()&&a.runAnimations(a.getAutoPlaySequenceId(),0);if(this._jsControlled){d=[];a=[];for(var e=this._animationManagers,f=e.allKeys(),
g=0;g<f.length;g++)d.push(f[g]),a.push(e.objectForKey(f[g]));this._nodesWithAnimationManagers=d;this._animationManagerForNodes=a}return c},createSceneWithNodeGraphFromFile:function(a,c,d,e){a=this.readNodeGraphFromFile(a,c,d,e);c=new cc.Scene;c.addChild(a);return c},getCCBMemberVariableAssigner:function(){return this._ccbMemberVariableAssigner},getCCBSelectorResolver:function(){return this._ccbSelectorResolver},getAnimationManager:function(){return this._animationManager},setAnimationManager:function(a){this._animationManager=
a},getAnimatedProperties:function(){return this._animatedProps},getLoadedSpriteSheet:function(){return this._loadedSpriteSheets},getOwner:function(){return this._owner},readInt:function(a){for(var c=0;!this._getBit();)c++;for(var d=0,e=c-1;0<=e;e--)this._getBit()&&(d|=1<<e);d|=1<<c;a=a?d%2?0|d/2:0|-d/2:d-1;this._alignBits();return a},readByte:function(){var a=this._data[this._currentByte];this._currentByte++;return a},readBool:function(){return 0!==this.readByte()},readFloat:function(){switch(this.readByte()){case CCB_FLOAT0:return 0;
case CCB_FLOAT1:return 1;case CCB_FLOAT_MINUS1:return-1;case CCB_FLOAT05:return 0.5;case CCB_FLOAT_INTEGER:return this.readInt(!0);default:return this._decodeFloatNew()}},_decodeFloatNew:function(){var a=this._currentByte,c=this._data,d=a+4,e=new Uint8Array(4);e[0]=c[a];e[1]=c[a+1];e[2]=c[a+2];e[3]=c[a+3];a=new Float32Array(e.buffer);this._currentByte=d;return a[0]},_decodeFloat:function(a,c){var d=a+c+1,e=d>>3;this._checkSize(d);var d=Math.pow(2,c-1)-1,f=this._readBitsOnly(a+c,1,e),g=this._readBitsOnly(a,
c,e),h=0,m=2,n=0;do for(var r=this._readByteOnly(++n,e),s=a%8||8,t=1<<s;t>>=1;)r&t&&(h+=1/m),m*=2;while(a-=s);this._currentByte+=e;return g===(d<<1)+1?h?NaN:f?-Infinity:Infinity:(1+-2*f)*(g||h?g?Math.pow(2,g-d)*(1+h):Math.pow(2,-d+1)*h:0)},_readBitsOnly:function(a,c,d){var e=(a+c)%8,f=a%8,g=d-(a>>3)-1;a=d+(-(a+c)>>3);var h=g-a;c=this._readByteOnly(g,d)>>f&(1<<(h?8-f:c))-1;for(h&&e&&(c+=(this._readByteOnly(a++,d)&(1<<e)-1)<<(h--<<3)-f);h;)c+=this._shl(this._readByteOnly(a++,d),(h--<<3)-f);return c},
_readByteOnly:function(a,c){return this._data[this._currentByte+c-a-1]},_shl:function(a,c){for(++c;--c;a=1073741824===((a%=2147483648)&1073741824)?2*a:2*(a-1073741824)+2147483648);return a},_checkSize:function(a){if(!(this._currentByte+Math.ceil(a/8)<this._data.length))throw Error("Index out of bound");},readCachedString:function(){return this._stringCache[this.readInt(!1)]},isJSControlled:function(){return this._jsControlled},getOwnerCallbackNames:function(){return this._ownerCallbackNames},getOwnerCallbackNodes:function(){return this._ownerCallbackNodes},
getOwnerCallbackControlEvents:function(){return this._ownerCallbackEvents},getOwnerOutletNames:function(){return this._ownerOutletNames},getOwnerOutletNodes:function(){return this._ownerOutletNodes},getNodesWithAnimationManagers:function(){return this._nodesWithAnimationManagers},getAnimationManagersForNodes:function(){return this._animationManagerForNodes},getAnimationManagers:function(){return this._animationManagers},setAnimationManagers:function(a){this._animationManagers=a},addOwnerCallbackName:function(a){this._ownerCallbackNames.push(a)},
addOwnerCallbackNode:function(a){this._ownerCallbackNodes.push(a)},addOwnerCallbackControlEvents:function(a){this._ownerCallbackEvents.push(a)},addDocumentCallbackName:function(a){this._animationManager.addDocumentCallbackName(a)},addDocumentCallbackNode:function(a){this._animationManager.addDocumentCallbackNode(a)},addDocumentCallbackControlEvents:function(a){this._animationManager.addDocumentCallbackControlEvents(a)},readFileWithCleanUp:function(a){if(!this._readHeader()||!this._readStringCache()||
!this._readSequences())return null;var c=this._readNodeGraph();this._animationManagers.setObject(this._animationManager,c);a&&this._cleanUpNodeGraph(c);return c},addOwnerOutletName:function(a){this._ownerOutletNames.push(a)},addOwnerOutletNode:function(a){null!=a&&this._ownerOutletNodes.push(a)},_cleanUpNodeGraph:function(a){a.userObject=null;a=a.getChildren();for(var c=0,d=a.length;c<d;c++)this._cleanUpNodeGraph(a[c])},_readCallbackKeyframesForSeq:function(a){var c=this.readInt(!1);if(!c)return!0;
for(var d=new cc.BuilderSequenceProperty,e=this._jsControlled,f=this._animationManager,g=d.getKeyframes(),h=0;h<c;h++){var m=this.readFloat(),n=this.readCachedString(),r=this.readInt(!1),s=[n,r],t=new cc.BuilderKeyframe;t.setTime(m);t.setValue(s);e&&f.getKeyframeCallbacks().push(r+":"+n);g.push(t)}a.setCallbackChannel(d);return!0},_readSoundKeyframesForSeq:function(a){var c=this.readInt(!1);if(!c)return!0;for(var d=new cc.BuilderSequenceProperty,e=d.getKeyframes(),f=0;f<c;f++){var g=this.readFloat(),
h=this.readCachedString(),m=this.readFloat(),n=this.readFloat(),r=this.readFloat(),h=[h,m,n,r],m=new cc.BuilderKeyframe;m.setTime(g);m.setValue(h);e.push(m)}a.setSoundChannel(d);return!0},_readSequences:function(){for(var a=this._animationManager.getSequences(),c=this.readInt(!1),d=0;d<c;d++){var e=new cc.BuilderSequence;e.setDuration(this.readFloat());e.setName(this.readCachedString());e.setSequenceId(this.readInt(!1));e.setChainedSequenceId(this.readInt(!0));if(!this._readCallbackKeyframesForSeq(e)||
!this._readSoundKeyframesForSeq(e))return!1;a.push(e)}this._animationManager.setAutoPlaySequenceId(this.readInt(!0));return!0},readKeyframe:function(a){var c=new cc.BuilderKeyframe;c.setTime(this.readFloat());var d=this.readInt(!1),e=0,f=null;if(d===CCB_KEYFRAME_EASING_CUBIC_IN||d===CCB_KEYFRAME_EASING_CUBIC_OUT||d===CCB_KEYFRAME_EASING_CUBIC_INOUT||d===CCB_KEYFRAME_EASING_ELASTIC_IN||d===CCB_KEYFRAME_EASING_ELASTIC_OUT||d===CCB_KEYFRAME_EASING_ELASTIC_INOUT)e=this.readFloat();c.setEasingType(d);
c.setEasingOpt(e);a===CCB_PROPTYPE_CHECK?f=this.readBool():a===CCB_PROPTYPE_BYTE?f=this.readByte():a===CCB_PROPTYPE_COLOR3?(a=cc.color(this.readByte(),this.readByte(),this.readByte()),f=cc.Color3BWapper.create(a)):a===CCB_PROPTYPE_FLOATXY?f=[this.readFloat(),this.readFloat()]:a===CCB_PROPTYPE_DEGREES?f=this.readFloat():a===CCB_PROPTYPE_SCALELOCK||a===CCB_PROPTYPE_POSITION||a===CCB_PROPTYPE_FLOATXY?f=[this.readFloat(),this.readFloat()]:a===CCB_PROPTYPE_SPRITEFRAME&&(a=this.readCachedString(),d=this.readCachedString(),
""===a?(d=this._ccbRootPath+d,a=cc.textureCache.addImage(d),d=a.getContentSize(),d=cc.rect(0,0,d.width,d.height),f=new cc.SpriteFrame(a,d)):(a=this._ccbRootPath+a,e=cc.spriteFrameCache,-1===this._loadedSpriteSheets.indexOf(a)&&(e.addSpriteFrames(a),this._loadedSpriteSheets.push(a)),f=e.getSpriteFrame(d)));c.setValue(f);return c},_readHeader:function(){if(!this._data)return!1;var a=this._readStringFromBytes(this._currentByte,4,!0);this._currentByte+=4;if("ccbi"!==a)return!1;a=this.readInt(!1);if(a!==
CCB_VERSION)return cc.log("WARNING! Incompatible ccbi file version (file: "+a+" reader: "+CCB_VERSION+")"),!1;this._jsControlled=this.readBool();this._animationManager._jsControlled=this._jsControlled;return!0},_readStringFromBytes:function(a,c,d){a="";var e=this._data,f=this._currentByte;if(d)for(d=c-1;0<=d;d--)a+=String.fromCharCode(e[f+d]);else for(d=0;d<c;d++)a+=String.fromCharCode(e[f+d]);return a},_readStringCache:function(){for(var a=this.readInt(!1),c=0;c<a;c++)this._readStringCacheEntry();
return!0},_readStringCacheEntry:function(){for(var a=this.readByte(),c=this.readByte(),a=a<<8|c,c="",d=this._data,e=this._currentByte,f=0;f<a;f++)c+=String.fromCharCode(d[e+f]);this._currentByte+=a;this._stringCache.push(c)},_readNodeGraph:function(a){var c=this.readCachedString(),d,e=this._jsControlled,f=this._animationManager;e&&(d=this.readCachedString());var g=this.readInt(!1),h;g!==CCB_TARGETTYPE_NONE&&(h=this.readCachedString());(c=this._ccNodeLoaderLibrary.getCCNodeLoader(c))||(c=this._ccNodeLoaderLibrary.getCCNodeLoader("CCNode"));
var m=c.loadCCNode(a,this);f.getRootNode()||f.setRootNode(m);e&&m===f.getRootNode()&&f.setDocumentControllerName(d);var n=new cc._Dictionary,r=this._animatedProps=[],s=this.readInt(!1);for(d=0;d<s;++d){for(var t=this.readInt(!1),u=new cc._Dictionary,w=this.readInt(!1),z=0;z<w;++z){var A=new cc.BuilderSequenceProperty;A.setName(this.readCachedString());A.setType(this.readInt(!1));r.push(A.getName());for(var B=this.readInt(!1),C=A.getKeyframes(),E=0;E<B;++E){var H=this.readKeyframe(A.getType());C.push(H)}u.setObject(A,
A.getName())}n.setObject(u,t)}0<n.count()&&f.addNode(m,n);c.parseProperties(m,a,this);if(a=m instanceof cc.BuilderFile)d=m.getCCBFileNode(),d.setPosition(m.getPosition()),d.setRotation(m.getRotation()),d.setScaleX(m.getScaleX()),d.setScaleY(m.getScaleY()),d.setTag(m.getTag()),d.setVisible(!0),f.moveAnimationsFromNode(m,d),m.setCCBFileNode(null),m=d;r=n=null;if(g!==CCB_TARGETTYPE_NONE)if(e)g===CCB_TARGETTYPE_DOCUMENTROOT?(f.addDocumentOutletName(h),f.addDocumentOutletNode(m)):(this._ownerOutletNames.push(h),
this._ownerOutletNodes.push(m));else if(g===CCB_TARGETTYPE_DOCUMENTROOT?n=f.getRootNode():g===CCB_TARGETTYPE_OWNER&&(n=this._owner),!n&&(d=!1,n.onAssignCCBMemberVariable&&(d=n.onAssignCCBMemberVariable(n,h,m)),r=this._ccbMemberVariableAssigner,!d&&null!=r&&r.onAssignCCBMemberVariable))r.onAssignCCBMemberVariable(n,h,m);if(0<c.getCustomProperties().length&&(h=!1,!e&&(n=m,null!=n&&null!=n.onAssignCCBCustomProperty)))for(e=c.getCustomProperties(),f=e.allKeys(),d=0;d<f.length;d++)if(g=e.objectForKey(f[d]),
h=n.onAssignCCBCustomProperty(n,f[d],g),r=this._ccbMemberVariableAssigner,!h&&null!=r&&null!=r.onAssignCCBCustomProperty)r.onAssignCCBCustomProperty(n,f[d],g);this._animatedProps=null;e=this.readInt(!1);for(d=0;d<e;d++)h=this._readNodeGraph(m),m.addChild(h);if(!a)if(null!=m&&m.onNodeLoaded)m.onNodeLoaded(m,c);else if(null!=this._ccNodeLoaderListener)this._ccNodeLoaderListener.onNodeLoaded(m,c);return m},_getBit:function(){var a=0!==(this._data[this._currentByte]&1<<this._currentBit);this._currentBit++;
if(8<=this._currentBit&&(this._currentBit=0,this._currentByte++,this._currentByte>this._data.length))throw Error("out of the data bound");return a},_alignBits:function(){this._currentBit&&(this._currentBit=0,this._currentByte++)},_readUTF8:function(){}});cc.BuilderReader._ccbResolutionScale=1;cc.BuilderReader.setResolutionScale=function(a){cc.BuilderReader._ccbResolutionScale=a};cc.BuilderReader.getResolutionScale=function(){return cc.BuilderReader._ccbResolutionScale};
cc.BuilderReader.loadAsScene=function(a,c,d,e){e=e||cc.BuilderReader.getResourcePath();a=cc.BuilderReader.load(a,c,d,e);c=new cc.Scene;c.addChild(a);return c};cc.BuilderReader._controllerClassCache={};cc.BuilderReader.registerController=function(a,c){cc.BuilderReader._controllerClassCache[a]=cc.Class.extend(c)};
cc.BuilderReader.load=function(a,c,d,e,f,g){logTraceFunc("loadccb",a);f=f||cc.BuilderReader.getResourcePath();var h=new cc.BuilderReader(cc.NodeLoaderLibrary.newDefaultCCNodeLoaderLibrary());h.setCCBRootPath(f);if(5>a.length||a.toLowerCase().lastIndexOf(".ccbi")!==a.length-5)a+=".ccbi";if(void 0==g||null==g)g=c;a=h.readNodeGraphFromFile(a,g,d);var m,n,r,s;f=DebugFlag;if(g){g.register&&g.register(!0);var t=h.getOwnerCallbackNames();s=h.getOwnerCallbackNodes();var u=h.getOwnerCallbackControlEvents();
for(d=0;d<t.length;d++)m=t[d],n=s[d],r=u[d],f?function(){var a=m;n.setCallback(function(){logTraceFunc(g.name,a,arguments[0],arguments[1],arguments[2]);g[a].apply(g,arguments)},g)}():n.setCallback(g[m],g);f=h.getOwnerOutletNames();t=h.getOwnerOutletNodes();u={};if(void 0!=e)for(d in e)u[e[d]]=1;c._ownerOutletNames=c._ownerOutletNames||[];for(d=0;d<f.length;d++)r=f[d],s=t[d],u[r]?(1==u[r]&&(c[r]=[]),c[r].push(s),u[r]+=1):c[r]=s,c._ownerOutletNames.push(r);c.register&&c.register();g.anim=h.getAnimationManager()}c=
h.getNodesWithAnimationManagers();h=h.getAnimationManagersForNodes();if(!c||!h)return a;e=cc.BuilderReader._controllerClassCache;for(d=0;d<c.length;d++){var t=c[d],w=h[d];t.animationManager=w;if(r=w.getDocumentControllerName()){f=e[r];if(!f)throw Error("Can not find controller : "+r);f=new f;f.controllerName=r;t.controller=f;f.rootNode=t;s=w.getDocumentCallbackNames();for(var u=w.getDocumentCallbackNodes(),z=w.getDocumentCallbackControlEvents(),t=0;t<s.length;t++)m=s[t],n=u[t],r=z[t],n instanceof
cc.ControlButton?n.addTargetWithActionForControlEvents(f,f[m],r):n.setCallback(f[m],f);u=w.getDocumentOutletNames();z=w.getDocumentOutletNodes();for(t=0;t<u.length;t++)r=u[t],s=z[t],f[r]=s;if(f.onDidLoadFromCCB&&cc.isFunction(f.onDidLoadFromCCB))f.onDidLoadFromCCB();r=w.getKeyframeCallbacks();for(t=0;t<r.length;t++)u=r[t].split(":"),s=u[0],u=u[1],1==s?w.setCallFunc(cc.callFunc(f[u],f),r[t]):2==s&&g&&w.setCallFunc(cc.callFunc(g[u],g),r[t])}}0<=w.getAutoPlaySequenceId()&&w.runAnimations(w.getAutoPlaySequenceId(),
0);return a};cc.BuilderReader._resourcePath="";cc.BuilderReader.setResourcePath=function(a){cc.BuilderReader._resourcePath=a};cc.BuilderReader.getResourcePath=function(){return cc.BuilderReader._resourcePath};cc.BuilderReader.lastPathComponent=function(a){var c=a.lastIndexOf("/");return-1!==c?a.substring(c+1,a.length-c):a};cc.BuilderReader.deletePathExtension=function(a){var c=a.lastIndexOf(".");return-1!==c?a.substring(0,c):a};cc.BuilderReader.toLowerCase=function(a){return a.toLowerCase()};
cc.BuilderReader.endsWith=function(a,c){return a.length>=c.length?0===a.lastIndexOf(c):!1};cc.BuilderReader.concat=function(a,c){return a+c};cc.loader.register(["ccbi"],cc._binaryLoader);cc.loader.register(["ccba"],cc._binary2Loader);cc.INT_VALUE=0;cc.FLOAT_VALUE=1;cc.POINTER_VALUE=2;cc.BOOL_VALUE=3;cc.UNSIGNEDCHAR_VALUE=4;cc.Color3BWapper=cc.Class.extend({_color:null,ctor:function(){this._color=cc.color(0,0,0)},getColor:function(){return this._color}});cc.Color3BWapper.create=function(a){var c=new cc.Color3BWapper;c&&(c._color.r=a.r,c._color.g=a.g,c._color.b=a.b);return c};
cc.BuilderValue=cc.Class.extend({_value:null,_type:0,getIntValue:function(){},getFloatValue:function(){},getBoolValue:function(){},getByteValue:function(){},getPointer:function(){},getValue:function(){return this._value}});cc.BuilderValue.create=function(a){return new cc.BuilderValue};cc.BuilderKeyframe=cc.Class.extend({_value:null,_time:0,_easingType:0,_easingOpt:0,getValue:function(){return this._value},setValue:function(a){this._value=a},getTime:function(){return this._time},setTime:function(a){this._time=a},getEasingType:function(){return this._easingType},setEasingType:function(a){this._easingType=a},getEasingOpt:function(){return this._easingOpt},setEasingOpt:function(a){this._easingOpt=a}});cc.BuilderSequence=cc.Class.extend({_duration:0,_name:"",_sequenceId:0,_chainedSequenceId:0,_callbackChannel:null,_soundChannel:null,ctor:function(){this._name=""},getDuration:function(){return this._duration},setDuration:function(a){this._duration=a},getName:function(){return this._name},setName:function(a){this._name=a},getSequenceId:function(){return this._sequenceId},setSequenceId:function(a){this._sequenceId=a},getChainedSequenceId:function(){return this._chainedSequenceId},setChainedSequenceId:function(a){this._chainedSequenceId=
a},getCallbackChannel:function(){return this._callbackChannel},setCallbackChannel:function(a){this._callbackChannel=a},getSoundChannel:function(){return this._soundChannel},setSoundChannel:function(a){this._soundChannel=a}});
cc.BuilderSequenceProperty=cc.Class.extend({_name:null,_type:0,_keyFrames:null,ctor:function(){this.init()},init:function(){this._keyFrames=[];this._name=""},getName:function(){return this._name},setName:function(a){this._name=a},getType:function(){return this._type},setType:function(a){this._type=a},getKeyframes:function(){return this._keyFrames}});cc.getAbsolutePosition=function(a,c,d,e){e=cc.p(0,0);c===CCB_POSITIONTYPE_RELATIVE_BOTTOM_LEFT?e=a:c===CCB_POSITIONTYPE_RELATIVE_TOP_LEFT?(e.x=a.x,e.y=d.height-a.y):c===CCB_POSITIONTYPE_RELATIVE_TOP_RIGHT?(e.x=d.width-a.x,e.y=d.height-a.y):c===CCB_POSITIONTYPE_RELATIVE_BOTTOM_RIGHT?(e.x=d.width-a.x,e.y=a.y):c===CCB_POSITIONTYPE_PERCENT?(e.x=d.width*a.x/100,e.y=d.height*a.y/100):c===CCB_POSITIONTYPE_MULTIPLY_RESOLUTION&&(c=cc.BuilderReader.getResolutionScale(),e.x=a.x*c,e.y=a.y*c);return e};
cc._getAbsolutePosition=function(a,c,d,e,f){f=cc.p(0,0);d===CCB_POSITIONTYPE_RELATIVE_BOTTOM_LEFT?(f.x=a,f.y=c):d===CCB_POSITIONTYPE_RELATIVE_TOP_LEFT?(f.x=a,f.y=e.height-c):d===CCB_POSITIONTYPE_RELATIVE_TOP_RIGHT?(f.x=e.width-a,f.y=e.height-c):d===CCB_POSITIONTYPE_RELATIVE_BOTTOM_RIGHT?(f.x=e.width-a,f.y=c):d===CCB_POSITIONTYPE_PERCENT?(f.x=e.width*a/100,f.y=e.height*c/100):d===CCB_POSITIONTYPE_MULTIPLY_RESOLUTION&&(d=cc.BuilderReader.getResolutionScale(),f.x=a*d,f.y=c*d);return f};
cc.setRelativeScale=function(a,c,d,e,f){if(!a)throw Error("cc.setRelativeScale(): node should be non-null");e===CCB_POSITIONTYPE_MULTIPLY_RESOLUTION&&(e=cc.BuilderReader.getResolutionScale(),c*=e,d*=e);a.setScaleX(c);a.setScaleY(d)};cc.BuilderAnimationManagerDelegate=cc.Class.extend({completedAnimationSequenceNamed:function(a){}});
cc.BuilderAnimationManager=cc.Class.extend({_sequences:null,_nodeSequences:null,_baseValues:null,_autoPlaySequenceId:0,_rootNode:null,_owner:null,_rootContainerSize:null,_delegate:null,_runningSequence:null,_documentOutletNames:null,_documentOutletNodes:null,_documentCallbackNames:null,_documentCallbackNodes:null,_documentCallbackControlEvents:null,_documentControllerName:"",_lastCompletedSequenceName:"",_keyframeCallbacks:null,_keyframeCallFuncs:null,_animationCompleteCallbackFunc:null,_target:null,
_jsControlled:!1,ctor:function(){this._rootContainerSize=cc.size(0,0);this.init()},init:function(){this._sequences=[];this._nodeSequences=new cc._Dictionary;this._baseValues=new cc._Dictionary;this._documentOutletNames=[];this._documentOutletNodes=[];this._documentCallbackNames=[];this._documentCallbackNodes=[];this._documentCallbackControlEvents=[];this._keyframeCallbacks=[];this._keyframeCallFuncs={};return!0},getSequences:function(){return this._sequences},setSequences:function(a){this._sequences=
a},getAutoPlaySequenceId:function(){return this._autoPlaySequenceId},setAutoPlaySequenceId:function(a){this._autoPlaySequenceId=a},getRootNode:function(){return this._rootNode},setRootNode:function(a){this._rootNode=a},getOwner:function(){return this._owner},setOwner:function(a){this._owner=a},addDocumentCallbackNode:function(a){this._documentCallbackNodes.push(a)},addDocumentCallbackName:function(a){this._documentCallbackNames.push(a)},addDocumentCallbackControlEvents:function(a){this._documentCallbackControlEvents.push(a)},
addDocumentOutletNode:function(a){this._documentOutletNodes.push(a)},addDocumentOutletName:function(a){this._documentOutletNames.push(a)},setDocumentControllerName:function(a){this._documentControllerName=a},getDocumentControllerName:function(){return this._documentControllerName},getDocumentCallbackNames:function(){return this._documentCallbackNames},getDocumentCallbackNodes:function(){return this._documentCallbackNodes},getDocumentCallbackControlEvents:function(){return this._documentCallbackControlEvents},
getDocumentOutletNames:function(){return this._documentOutletNames},getDocumentOutletNodes:function(){return this._documentOutletNodes},getLastCompletedSequenceName:function(){return this._lastCompletedSequenceName},getKeyframeCallbacks:function(){return this._keyframeCallbacks},getRootContainerSize:function(){return this._rootContainerSize},setRootContainerSize:function(a){this._rootContainerSize=cc.size(a.width,a.height)},getDelegate:function(){return this._delegate},setDelegate:function(a){this._delegate=
a},getRunningSequenceName:function(){return this._runningSequence?this._runningSequence.getName():null},getContainerSize:function(a){return a?a.getContentSize():this._rootContainerSize},addNode:function(a,c){this._nodeSequences.setObject(c,a)},setBaseValue:function(a,c,d){var e=this._baseValues.objectForKey(c);e||(e=new cc._Dictionary,this._baseValues.setObject(e,c));e.setObject(a,d)},moveAnimationsFromNode:function(a,c){var d=this._baseValues,e=d.objectForKey(a);null!==e&&(d.setObject(e,c),d.removeObjectForKey(a));
d=this._nodeSequences;e=d.objectForKey(a);null!=e&&(d.setObject(e,c),d.removeObjectForKey(a))},getActionForCallbackChannel:function(a){var c=0,d=[];a=a.getKeyframes();for(var e=a.length,f=0;f<e;++f){var g=a[f],h=g.getTime()-c,c=g.getTime();0<h&&d.push(cc.delayTime(h));h=g.getValue();g=h[0];h=h[1];if(this._jsControlled)g=this._keyframeCallFuncs[h+":"+g],null!=g&&d.push(g);else{var m;h===CCB_TARGETTYPE_DOCUMENTROOT?m=this._rootNode:h===CCB_TARGETTYPE_OWNER&&(m=this._owner);null!=m&&(0<g.length?(h=0,
null!=m.onResolveCCBCCCallFuncSelector&&(h=m.onResolveCCBCCCallFuncSelector(m,g)),0===h?cc.log("Skipping selector '"+g+"' since no CCBSelectorResolver is present."):d.push(cc.callFunc(h,m))):cc.log("Unexpected empty selector."))}}return 1>d.length?null:cc.sequence(d)},getActionForSoundChannel:function(a){var c=0,d=[];a=a.getKeyframes();for(var e=a.length,f=0;f<e;++f){var g=a[f],h=g.getTime()-c,c=g.getTime();0<h&&d.push(cc.delayTime(h));var m=g.getValue(),g=cc.BuilderReader.getResourcePath()+m[0],
h=parseFloat(m[1]),n=parseFloat(m[2]),m=parseFloat(m[3]);d.push(cc.BuilderSoundEffect.create(g,h,n,m))}return 1>d.length?null:cc.sequence(d)},runAnimationsForSequenceNamed:function(a){this.runAnimationsForSequenceIdTweenDuration(this._getSequenceId(a),0)},runAnimationsForSequenceNamedTweenDuration:function(a,c){this.runAnimationsForSequenceIdTweenDuration(this._getSequenceId(a),c)},runAnimationsForSequenceIdTweenDuration:function(a,c){if(-1===a)throw Error("cc.BuilderAnimationManager.runAnimationsForSequenceIdTweenDuration(): Sequence id should not be -1");
c=c||0;this._rootNode.stopAllActions();for(var d=this._nodeSequences.allKeys(),e=0,f=d.length;e<f;e++){var g=d[e];g.stopAllActions();var h=this._nodeSequences.objectForKey(g).objectForKey(a),m,n=[];if(h){var r=h.allKeys();for(m=0;m<r.length;m++){var s=r[m],t=h.objectForKey(s);n.push(s);this._setFirstFrame(g,t,c);this._runAction(g,t,c)}}if(h=this._baseValues.objectForKey(g))for(r=h.allKeys(),m=0;m<r.length;m++)s=r[m],-1===n.indexOf(s)&&(t=h.objectForKey(s),null!=t&&this._setAnimatedProperty(s,g,t,
c))}d=this._getSequence(a);e=cc.sequence(cc.delayTime(d.getDuration()+c),cc.callFunc(this._sequenceCompleted,this));this._rootNode.runAction(e);d.getCallbackChannel()&&(e=this.getActionForCallbackChannel(d.getCallbackChannel()))&&this._rootNode.runAction(e);d.getSoundChannel()&&(e=this.getActionForSoundChannel(d.getSoundChannel()))&&this._rootNode.runAction(e);this._runningSequence=this._getSequence(a)},runAnimations:function(a,c){c=c||0;var d;d=cc.isString(a)?this._getSequenceId(a):a;this.runAnimationsForSequenceIdTweenDuration(d,
c)},setAnimationCompletedCallback:function(a,c){this._target=a;this._animationCompleteCallbackFunc=c},setCompletedAnimationCallback:function(a,c){this.setAnimationCompletedCallback(a,c)},setCallFunc:function(a,c){this._keyframeCallFuncs[c]=a},debug:function(){},_getBaseValue:function(a,c){var d=this._baseValues.objectForKey(a);return d?d.objectForKey(c):null},_getSequenceId:function(a){for(var c=null,d=this._sequences,e=0,f=d.length;e<f;e++)if((c=d[e])&&c.getName()===a)return c.getSequenceId();return-1},
_getSequence:function(a){for(var c=null,d=this._sequences,e=0,f=d.length;e<f;e++)if((c=d[e])&&c.getSequenceId()===a)return c;return null},_getAction:function(a,c,d,e){a=c.getTime()-(a?a.getTime():0);var f,g;if("rotation"===d)return cc.BuilderRotateTo.create(a,c.getValue());if("rotationX"===d)return cc.BuilderRotateXTo.create(a,c.getValue());if("rotationY"===d)return cc.BuilderRotateYTo.create(a,c.getValue());if("opacity"===d)return cc.fadeTo(a,c.getValue());if("color"===d)return d=c.getValue().getColor(),
cc.tintTo(a,d.r,d.g,d.b);if("visible"===d)return c.getValue()?cc.sequence(cc.delayTime(a),cc.show()):cc.sequence(cc.delayTime(a),cc.hide());if("displayFrame"===d)return cc.sequence(cc.delayTime(a),cc.BuilderSetSpriteFrame.create(c.getValue()));if("position"===d)return f=this._getBaseValue(e,d),g=f[2],f=c.getValue(),c=f[0],f=f[1],e=this.getContainerSize(e.getParent()),d=cc._getAbsolutePosition(c,f,g,e,d),cc.moveTo(a,d);if("scale"===d)return f=this._getBaseValue(e,d),g=f[2],f=c.getValue(),c=f[0],f=
f[1],g===CCB_SCALETYPE_MULTIPLY_RESOLUTION?(d=cc.BuilderReader.getResolutionScale(),c*=d,f*=d):g==CCB_SCALETYPE_MULTIPLY_PARENT_SIZE?e&&e.getParent()&&(d=e.getContentSize(),0<d.width&&0<d.height&&(e=e.getParent().getContentSize(),c=c*e.width/d.width,f=f*e.height/d.height)):g==CCB_SCALETYPE_MULTIPLY_PARENT_SIZE_KEEP_SCALE?e&&e.getParent()&&(d=e.getContentSize(),0<d.width&&0<d.height&&(e=e.getParent().getContentSize(),c=c*e.width/d.width,f=f*e.height/d.height,c>f?c=f:f=c)):g==CCB_SCALETYPE_MULTIPLY_PARENT_SIZE_KEEP_SCALE_FIT&&
e&&e.getParent()&&(d=e.getContentSize(),0<d.width&&0<d.height&&(e=e.getParent().getContentSize(),c=c*e.width/d.width,f=f*e.height/d.height,c<f?c=f:f=c)),cc.scaleTo(a,c,f);if("skew"===d)return f=c.getValue(),c=f[0],f=f[1],cc.skewTo(a,c,f);cc.log("BuilderReader: Failed to create animation for property: "+d);return null},_setAnimatedProperty:function(a,c,d,e){if(0<e){var f=new cc.BuilderKeyframe;f.setValue(d);f.setTime(e);f.setEasingType(CCB_KEYFRAME_EASING_LINEAR);a=this._getAction(null,f,a,c);c.runAction(a)}else"position"===
a?(e=this._getBaseValue(c,a),e=e[2],f=d[0],d=d[1],c.setPosition(cc._getAbsolutePosition(f,d,e,this.getContainerSize(c.getParent()),a))):"scale"===a?(e=this._getBaseValue(c,a),e=e[2],f=d[0],d=d[1],cc.setRelativeScale(c,f,d,e,a)):"skew"===a?(f=d[0],d=d[1],c.setSkewX(f),c.setSkewY(d)):"rotation"===a?c.setRotation(d):"rotationX"===a?c.setRotationSkewX(d):"rotationY"===a?c.setRotationSkewY(d):"opacity"===a?c.setOpacity(d):"displayFrame"===a?c.setSpriteFrame(d):"color"===a?(a=d.getColor(),255===a.r&&255===
a.g&&255===a.b||c.setColor(a)):"visible"===a?c.setVisible(d||!1):cc.log("unsupported property name is "+a)},_setFirstFrame:function(a,c,d){var e=c.getKeyframes();0===e.length?((e=this._getBaseValue(a,c.getName()))||cc.log("cc.BuilderAnimationManager._setFirstFrame(): No baseValue found for property"),this._setAnimatedProperty(c.getName(),a,e,d)):(e=e[0],this._setAnimatedProperty(c.getName(),a,e.getValue(),d))},_getEaseAction:function(a,c,d){if(c===CCB_KEYFRAME_EASING_LINEAR||c===CCB_KEYFRAME_EASING_INSTANT)return a;
if(c===CCB_KEYFRAME_EASING_CUBIC_IN)return a.easing(cc.easeIn(d));if(c===CCB_KEYFRAME_EASING_CUBIC_OUT)return a.easing(cc.easeOut(d));if(c===CCB_KEYFRAME_EASING_CUBIC_INOUT)return a.easing(cc.easeInOut(d));if(c===CCB_KEYFRAME_EASING_BACK_IN)return a.easing(cc.easeBackIn());if(c===CCB_KEYFRAME_EASING_BACK_OUT)return a.easing(cc.easeBackOut());if(c===CCB_KEYFRAME_EASING_BACK_INOUT)return a.easing(cc.easeBackInOut());if(c===CCB_KEYFRAME_EASING_BOUNCE_IN)return a.easing(cc.easeBounceIn());if(c===CCB_KEYFRAME_EASING_BOUNCE_OUT)return a.easing(cc.easeBounceOut());
if(c===CCB_KEYFRAME_EASING_BOUNCE_INOUT)return a.easing(cc.easeBounceInOut());if(c===CCB_KEYFRAME_EASING_ELASTIC_IN)return a.easing(cc.easeElasticIn(d));if(c===CCB_KEYFRAME_EASING_ELASTIC_OUT)return a.easing(cc.easeElasticOut(d));if(c===CCB_KEYFRAME_EASING_ELASTIC_INOUT)return a.easing(cc.easeElasticInOut(d));cc.log("BuilderReader: Unknown easing type "+c);return a},_runAction:function(a,c,d){var e=c.getKeyframes(),f=e.length;if(1<f){var g=[];d=e[0].getTime()+d;0<d&&g.push(cc.delayTime(d));for(d=
0;d<f-1;++d){var h=e[d],m=this._getAction(h,e[d+1],c.getName(),a);m&&(m=this._getEaseAction(m,h.getEasingType(),h.getEasingOpt()),g.push(m))}a.runAction(cc.sequence(g))}},_sequenceCompleted:function(){var a=this._runningSequence,c=a.getName();this._lastCompletedSequenceName!=a.getName()&&(this._lastCompletedSequenceName=a.getName());a=a.getChainedSequenceId();this._runningSequence=null;-1!==a&&this.runAnimations(a,0);this._delegate&&this._delegate.completedAnimationSequenceNamed(c);this._target&&
this._animationCompleteCallbackFunc&&this._animationCompleteCallbackFunc.call(this._target)}});cc.BuilderSetSpriteFrame=cc.ActionInstant.extend({_spriteFrame:null,initWithSpriteFrame:function(a){this._spriteFrame=a;return!0},update:function(a){this.target.setSpriteFrame(this._spriteFrame)}});cc.BuilderSetSpriteFrame.create=function(a){var c=new cc.BuilderSetSpriteFrame;return c&&c.initWithSpriteFrame(a)?c:null};
cc.BuilderRotateTo=cc.ActionInterval.extend({_startAngle:0,_dstAngle:0,_diffAngle:0,initWithDuration:function(a,c){return cc.ActionInterval.prototype.initWithDuration.call(this,a)?(this._dstAngle=c,!0):!1},update:function(a){this.target.setRotation(this._startAngle+this._diffAngle*a)},startWithTarget:function(a){cc.ActionInterval.prototype.startWithTarget.call(this,a);this._startAngle=this.target.getRotation();this._diffAngle=this._dstAngle-this._startAngle}});
cc.BuilderRotateTo.create=function(a,c){var d=new cc.BuilderRotateTo;return d&&d.initWithDuration(a,c)?d:null};cc.BuilderRotateXTo=cc.ActionInterval.extend({});cc.BuilderRotateXTo.create=function(a,c){throw Error("rotationX has not been implemented in cocos2d-html5");};cc.BuilderRotateYTo=cc.ActionInterval.extend({});cc.BuilderRotateYTo.create=function(a,c){throw Error("rotationY has not been implemented in cocos2d-html5");};
cc.BuilderSoundEffect=cc.ActionInstant.extend({init:function(a){this._file=a;return!0},update:function(a){cc.audioEngine.playEffect(this._file)}});cc.BuilderSoundEffect.create=function(a,c,d,e){return(c=new cc.BuilderSoundEffect)&&c.init(a)?c:null};var spine={radDeg:180/Math.PI,degRad:Math.PI/180,temp:[],Float32Array:"undefined"===typeof Float32Array?Array:Float32Array,Uint16Array:"undefined"===typeof Uint16Array?Array:Uint16Array,BoneData:function(a,c){this.length=this.x=this.y=this.rotation=0;this.scaleX=this.scaleY=1;this.name=a;this.parent=c}};spine.BoneData.prototype={length:0,x:0,y:0,rotation:0,scaleX:1,scaleY:1,inheritScale:!0,inheritRotation:!0,flipX:!1,flipY:!1};spine.BlendMode={normal:0,additive:1,multiply:2,screen:3};
spine.SlotData=function(a,c){this.r=this.g=this.b=this.a=1;this.blendMode=spine.BlendMode.normal;this.name=a;this.boneData=c};spine.SlotData.prototype={r:1,g:1,b:1,a:1,attachmentName:null,blendMode:spine.BlendMode.normal};spine.IkConstraintData=function(a){this.bendDirection=this.mix=1;this.name=a;this.bones=[]};spine.IkConstraintData.prototype={target:null,bendDirection:1,mix:1};
spine.Bone=function(a,c,d){this.x=this.y=this.rotation=this.rotationIK=0;this.scaleX=this.scaleY=1;this.flipX=this.flipY=!1;this.worldRotation=this.m10=this.m11=this.worldY=this.m00=this.m01=this.worldX=0;this.worldScaleX=this.worldScaleY=1;this.worldFlipX=this.worldFlipY=!1;this.data=a;this.skeleton=c;this.parent=d;this.setToSetupPose()};spine.Bone.yDown=!1;
spine.Bone.prototype={x:0,y:0,rotation:0,rotationIK:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,m00:0,m01:0,worldX:0,m10:0,m11:0,worldY:0,worldRotation:0,worldScaleX:1,worldScaleY:1,worldFlipX:!1,worldFlipY:!1,updateWorldTransform:function(){var a=this.parent;if(a)this.worldX=this.x*a.m00+this.y*a.m01+a.worldX,this.worldY=this.x*a.m10+this.y*a.m11+a.worldY,this.data.inheritScale?(this.worldScaleX=a.worldScaleX*this.scaleX,this.worldScaleY=a.worldScaleY*this.scaleY):(this.worldScaleX=this.scaleX,this.worldScaleY=
this.scaleY),this.worldRotation=this.data.inheritRotation?a.worldRotation+this.rotationIK:this.rotationIK,this.worldFlipX=a.worldFlipX!=this.flipX,this.worldFlipY=a.worldFlipY!=this.flipY;else{var a=this.skeleton.flipX,c=this.skeleton.flipY;this.worldX=a?-this.x:this.x;this.worldY=c!=spine.Bone.yDown?-this.y:this.y;this.worldScaleX=this.scaleX;this.worldScaleY=this.scaleY;this.worldRotation=this.rotationIK;this.worldFlipX=a!=this.flipX;this.worldFlipY=c!=this.flipY}c=this.worldRotation*spine.degRad;
a=Math.cos(c);c=Math.sin(c);this.worldFlipX?(this.m00=-a*this.worldScaleX,this.m01=c*this.worldScaleY):(this.m00=a*this.worldScaleX,this.m01=-c*this.worldScaleY);this.worldFlipY!=spine.Bone.yDown?(this.m10=-c*this.worldScaleX,this.m11=-a*this.worldScaleY):(this.m10=c*this.worldScaleX,this.m11=a*this.worldScaleY)},setToSetupPose:function(){var a=this.data;this.x=a.x;this.y=a.y;this.rotationIK=this.rotation=a.rotation;this.scaleX=a.scaleX;this.scaleY=a.scaleY;this.flipX=a.flipX;this.flipY=a.flipY},
worldToLocal:function(a){var c=a[0]-this.worldX,d=a[1]-this.worldY,e=this.m00,f=this.m10,g=this.m01,h=this.m11;this.worldFlipX!=(this.worldFlipY!=spine.Bone.yDown)&&(e=-e,h=-h);var m=1/(e*h-g*f);a[0]=c*e*m-d*g*m;a[1]=d*h*m-c*f*m},localToWorld:function(a){var c=a[0],d=a[1];a[0]=c*this.m00+d*this.m01+this.worldX;a[1]=c*this.m10+d*this.m11+this.worldY}};spine.Slot=function(a,c){this.r=this.g=this.b=this.a=1;this._attachmentTime=0;this.data=a;this.bone=c;this.setToSetupPose()};
spine.Slot.prototype={r:1,g:1,b:1,a:1,_attachmentTime:0,attachment:null,attachmentVertices:[],setAttachment:function(a){this.attachment=a;this._attachmentTime=this.bone.skeleton.time;this.attachmentVertices.length=0},setAttachmentTime:function(a){this._attachmentTime=this.bone.skeleton.time-a},getAttachmentTime:function(){return this.bone.skeleton.time-this._attachmentTime},setToSetupPose:function(){var a=this.data;this.r=a.r;this.g=a.g;this.b=a.b;this.a=a.a;for(var c=this.bone.skeleton.data.slots,
d=0,e=c.length;d<e;d++)if(c[d]==a){this.setAttachment(a.attachmentName?this.bone.skeleton.getAttachmentBySlotIndex(d,a.attachmentName):null);break}}};spine.IkConstraint=function(a,c){this.data=a;this.mix=a.mix;this.bendDirection=a.bendDirection;this.bones=[];for(var d=0,e=a.bones.length;d<e;d++)this.bones.push(c.findBone(a.bones[d].name));this.target=c.findBone(a.target.name)};
spine.IkConstraint.prototype={apply:function(){var a=this.target,c=this.bones;switch(c.length){case 1:spine.IkConstraint.apply1(c[0],a.worldX,a.worldY,this.mix);break;case 2:spine.IkConstraint.apply2(c[0],c[1],a.worldX,a.worldY,this.bendDirection,this.mix)}}};
spine.IkConstraint.apply1=function(a,c,d,e){var f=a.data.inheritRotation&&a.parent?a.parent.worldRotation:0,g=a.rotation;c=Math.atan2(d-a.worldY,c-a.worldX)*spine.radDeg;a.worldFlipX!=(a.worldFlipY!=spine.Bone.yDown)&&(c=-c);a.rotationIK=g+(c-f-g)*e};
spine.IkConstraint.apply2=function(a,c,d,e,f,g){var h=c.rotation,m=a.rotation;if(g){var n,r,s=spine.temp;(n=a.parent)?(s[0]=d,s[1]=e,n.worldToLocal(s),d=(s[0]-a.x)*n.worldScaleX,e=(s[1]-a.y)*n.worldScaleY):(d-=a.x,e-=a.y);c.parent==a?(n=c.x,r=c.y):(s[0]=c.x,s[1]=c.y,c.parent.localToWorld(s),a.worldToLocal(s),n=s[0],r=s[1]);s=n*a.worldScaleX;r*=a.worldScaleY;n=Math.atan2(r,s);r=Math.sqrt(s*s+r*r);var s=c.data.length*c.worldScaleX,t=2*r*s;1E-4>t?c.rotationIK=h+(Math.atan2(e,d)*spine.radDeg-m-h)*g:(t=
(d*d+e*e-r*r-s*s)/t,-1>t?t=-1:1<t&&(t=1),f*=Math.acos(t),r+=s*t,s*=Math.sin(f),d=(Math.atan2(e*r-d*s,d*r+e*s)-n)*spine.radDeg-m,180<d?d-=360:-180>d&&(d+=360),a.rotationIK=m+d*g,d=(f+n)*spine.radDeg-h,180<d?d-=360:-180>d&&(d+=360),c.rotationIK=h+(d+a.worldRotation-c.parent.worldRotation)*g)}else c.rotationIK=h,a.rotationIK=m};spine.Skin=function(a){this.name=a;this.attachments={}};
spine.Skin.prototype={addAttachment:function(a,c,d){this.attachments[a+":"+c]=d},getAttachment:function(a,c){return this.attachments[a+":"+c]},getAttachmentWithPrefix:function(a,c){var d=a+":"+c,e;for(e in this.attachments)if(0===e.lastIndexOf(d,0))return this.attachments[e];return null},_attachAll:function(a,c){for(var d in c.attachments){var e=d.indexOf(":"),f=parseInt(d.substring(0,e)),g=d.substring(e+1),e=a.slots[f];e.attachment&&e.attachment.name==g&&(f=this.getAttachment(f,g))&&e.setAttachment(f)}}};
spine.Animation=function(a,c,d){this.name=a;this.timelines=c;this.duration=d};spine.Animation.prototype={apply:function(a,c,d,e,f){e&&0!=this.duration&&(d%=this.duration,c%=this.duration);e=this.timelines;for(var g=0,h=e.length;g<h;g++)e[g].apply(a,c,d,f,1)},mix:function(a,c,d,e,f,g){e&&0!=this.duration&&(d%=this.duration,c%=this.duration);e=this.timelines;for(var h=0,m=e.length;h<m;h++)e[h].apply(a,c,d,f,g)}};
spine.Animation.binarySearch=function(a,c,d){var e=0,f=Math.floor(a.length/d)-2;if(!f)return d;for(var g=f>>>1;;){a[(g+1)*d]<=c?e=g+1:f=g;if(e==f)return(e+1)*d;g=e+f>>>1}};spine.Animation.binarySearch1=function(a,c){var d=0,e=a.length-2;if(!e)return 1;for(var f=e>>>1;;){a[f+1]<=c?d=f+1:e=f;if(d==e)return d+1;f=d+e>>>1}};spine.Animation.linearSearch=function(a,c,d){for(var e=0,f=a.length-d;e<=f;e+=d)if(a[e]>c)return e;return-1};spine.Curves=function(a){this.curves=[]};
spine.Curves.prototype={setLinear:function(a){this.curves[19*a]=0},setStepped:function(a){this.curves[19*a]=1},setCurve:function(a,c,d,e,f){var g=0.1*0.1,h=0.1*g,m=3*0.1,n=3*g,r=6*g,g=6*h,s=2*-c+e,t=2*-d+f;e=3*(c-e)+1;f=3*(d-f)+1;c=c*m+s*n+e*h;d=d*m+t*n+f*h;h=s*r+e*g;r=t*r+f*g;t=e*g;g*=f;a*=19;e=this.curves;e[a++]=2;f=c;m=d;for(n=a+19-1;a<n;a+=2)e[a]=f,e[a+1]=m,c+=h,d+=r,h+=t,r+=g,f+=c,m+=d},getCurvePercent:function(a,c){c=0>c?0:1<c?1:c;var d=this.curves,e=19*a,f=d[e];if(0===f)return c;if(1==f)return 0;
e++;for(var f=0,g=e,h=e+19-1;e<h;e+=2)if(f=d[e],f>=c)return e==g?h=g=0:(g=d[e-2],h=d[e-1]),h+(d[e+1]-h)*(c-g)/(f-g);d=d[e-1];return d+(1-d)*(c-f)/(1-f)}};spine.RotateTimeline=function(a){this.boneIndex=0;this.curves=new spine.Curves(a);this.frames=[];this.frames.length=2*a};
spine.RotateTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/2},setFrame:function(a,c,d){a*=2;this.frames[a]=c;this.frames[a+1]=d},apply:function(a,c,d,e,f){c=this.frames;if(!(d<c[0])){a=a.bones[this.boneIndex];if(d>=c[c.length-2])c=a.data.rotation+c[c.length-1]-a.rotation;else{var g=spine.Animation.binarySearch(c,d,2);e=c[g-1];var h=c[g];d=1-(d-h)/(c[g-2]-h);d=this.curves.getCurvePercent(g/2-1,d);for(c=c[g+1]-e;180<c;)c-=360;for(;-180>c;)c+=360;c=a.data.rotation+
(e+c*d)-a.rotation}for(;180<c;)c-=360;for(;-180>c;)c+=360;a.rotation+=c*f}}};spine.TranslateTimeline=function(a){this.boneIndex=0;this.curves=new spine.Curves(a);this.frames=[];this.frames.length=3*a};
spine.TranslateTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/3},setFrame:function(a,c,d,e){a*=3;this.frames[a]=c;this.frames[a+1]=d;this.frames[a+2]=e},apply:function(a,c,d,e,f){c=this.frames;if(!(d<c[0]))if(a=a.bones[this.boneIndex],d>=c[c.length-3])a.x+=(a.data.x+c[c.length-2]-a.x)*f,a.y+=(a.data.y+c[c.length-1]-a.y)*f;else{e=spine.Animation.binarySearch(c,d,3);var g=c[e-2],h=c[e-1],m=c[e];d=1-(d-m)/(c[e+-3]-m);d=this.curves.getCurvePercent(e/3-1,d);a.x+=(a.data.x+
g+(c[e+1]-g)*d-a.x)*f;a.y+=(a.data.y+h+(c[e+2]-h)*d-a.y)*f}}};spine.ScaleTimeline=function(a){this.boneIndex=0;this.curves=new spine.Curves(a);this.frames=[];this.frames.length=3*a};
spine.ScaleTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/3},setFrame:function(a,c,d,e){a*=3;this.frames[a]=c;this.frames[a+1]=d;this.frames[a+2]=e},apply:function(a,c,d,e,f){c=this.frames;if(!(d<c[0]))if(a=a.bones[this.boneIndex],d>=c[c.length-3])a.scaleX+=(a.data.scaleX*c[c.length-2]-a.scaleX)*f,a.scaleY+=(a.data.scaleY*c[c.length-1]-a.scaleY)*f;else{e=spine.Animation.binarySearch(c,d,3);var g=c[e-2],h=c[e-1],m=c[e];d=1-(d-m)/(c[e+-3]-m);d=this.curves.getCurvePercent(e/
3-1,d);a.scaleX+=(a.data.scaleX*(g+(c[e+1]-g)*d)-a.scaleX)*f;a.scaleY+=(a.data.scaleY*(h+(c[e+2]-h)*d)-a.scaleY)*f}}};spine.ColorTimeline=function(a){this.boneIndex=0;this.curves=new spine.Curves(a);this.frames=[];this.frames.length=5*a};
spine.ColorTimeline.prototype={slotIndex:0,getFrameCount:function(){return this.frames.length/5},setFrame:function(a,c,d,e,f,g){a*=5;this.frames[a]=c;this.frames[a+1]=d;this.frames[a+2]=e;this.frames[a+3]=f;this.frames[a+4]=g},apply:function(a,c,d,e,f){c=this.frames;if(!(d<c[0])){var g,h;if(d>=c[c.length-5])e=c.length-1,d=c[e-3],g=c[e-2],h=c[e-1],c=c[e];else{e=spine.Animation.binarySearch(c,d,5);var m=c[e-4];g=c[e-3];h=c[e-2];var n=c[e-1],r=c[e],r=1-(d-r)/(c[e-5]-r),r=this.curves.getCurvePercent(e/
5-1,r);d=m+(c[e+1]-m)*r;g+=(c[e+2]-g)*r;h+=(c[e+3]-h)*r;c=n+(c[e+4]-n)*r}a=a.slots[this.slotIndex];1>f?(a.r+=(d-a.r)*f,a.g+=(g-a.g)*f,a.b+=(h-a.b)*f,a.a+=(c-a.a)*f):(a.r=d,a.g=g,a.b=h,a.a=c)}}};spine.AttachmentTimeline=function(a){this.slotIndex=0;this.curves=new spine.Curves(a);this.frames=[];this.frames.length=a;this.attachmentNames=[];this.attachmentNames.length=a};
spine.AttachmentTimeline.prototype={slotIndex:0,getFrameCount:function(){return this.frames.length},setFrame:function(a,c,d){this.frames[a]=c;this.attachmentNames[a]=d},apply:function(a,c,d,e,f){e=this.frames;d<e[0]?c>d&&this.apply(a,c,Number.MAX_VALUE,null,0):(c>d&&(c=-1),d=d>=e[e.length-1]?e.length-1:spine.Animation.binarySearch1(e,d)-1,e[d]<c||(c=this.attachmentNames[d],a.slots[this.slotIndex].setAttachment(c?a.getAttachmentBySlotIndex(this.slotIndex,c):null)))}};
spine.EventTimeline=function(a){this.frames=[];this.frames.length=a;this.events=[];this.events.length=a};
spine.EventTimeline.prototype={getFrameCount:function(){return this.frames.length},setFrame:function(a,c,d){this.frames[a]=c;this.events[a]=d},apply:function(a,c,d,e,f){if(e){var g=this.frames,h=g.length;if(c>d)this.apply(a,c,Number.MAX_VALUE,e,f),c=-1;else if(c>=g[h-1])return;if(!(d<g[0])){if(c<g[0])a=0;else for(a=spine.Animation.binarySearch1(g,c),c=g[a];0<a&&g[a-1]==c;)a--;for(c=this.events;a<h&&d>=g[a];a++)e.push(c[a])}}}};
spine.DrawOrderTimeline=function(a){this.frames=[];this.frames.length=a;this.drawOrders=[];this.drawOrders.length=a};
spine.DrawOrderTimeline.prototype={getFrameCount:function(){return this.frames.length},setFrame:function(a,c,d){this.frames[a]=c;this.drawOrders[a]=d},apply:function(a,c,d,e,f){c=this.frames;if(!(d<c[0]))if(e=d>=c[c.length-1]?c.length-1:spine.Animation.binarySearch1(c,d)-1,d=a.drawOrder,c=a.slots,e=this.drawOrders[e])for(f=0,g=e.length;f<g;f++)d[f]=a.slots[e[f]];else{f=0;for(var g=c.length;f<g;f++)d[f]=c[f]}}};
spine.FfdTimeline=function(a){this.slotIndex=this.attachment=0;this.curves=new spine.Curves(a);this.frames=[];this.frames.length=a;this.frameVertices=[];this.frameVertices.length=a};
spine.FfdTimeline.prototype={slotIndex:0,attachment:0,getFrameCount:function(){return this.frames.length},setFrame:function(a,c,d){this.frames[a]=c;this.frameVertices[a]=d},apply:function(a,c,d,e,f){c=a.slots[this.slotIndex];if(c.attachment==this.attachment){var g=this.frames;if(!(d<g[0]))if(e=this.frameVertices,a=e[0].length,c=c.attachmentVertices,c.length!=a&&(f=1),c.length=a,d>=g[g.length-1])if(d=e[g.length-1],1>f)for(e=0;e<a;e++)c[e]+=(d[e]-c[e])*f;else for(e=0;e<a;e++)c[e]=d[e];else{var h=spine.Animation.binarySearch1(g,
d),m=g[h];d=1-(d-m)/(g[h-1]-m);d=this.curves.getCurvePercent(h-1,0>d?0:1<d?1:d);g=e[h-1];h=e[h];if(1>f)for(e=0;e<a;e++)m=g[e],c[e]+=(m+(h[e]-m)*d-c[e])*f;else for(e=0;e<a;e++)m=g[e],c[e]=m+(h[e]-m)*d}}}};spine.IkConstraintTimeline=function(a){this.ikConstraintIndex=0;this.curves=new spine.Curves(a);this.frames=[];this.frames.length=3*a};
spine.IkConstraintTimeline.prototype={ikConstraintIndex:0,getFrameCount:function(){return this.frames.length/3},setFrame:function(a,c,d,e){a*=3;this.frames[a]=c;this.frames[a+1]=d;this.frames[a+2]=e},apply:function(a,c,d,e,f){c=this.frames;if(!(d<c[0]))if(a=a.ikConstraints[this.ikConstraintIndex],d>=c[c.length-3])a.mix+=(c[c.length-2]-a.mix)*f,a.bendDirection=c[c.length-1];else{e=spine.Animation.binarySearch(c,d,3);var g=c[e+-2],h=c[e];d=1-(d-h)/(c[e+-3]-h);d=this.curves.getCurvePercent(e/3-1,d);
a.mix+=(g+(c[e+1]-g)*d-a.mix)*f;a.bendDirection=c[e+-1]}}};spine.FlipXTimeline=function(a){this.boneIndex=0;this.curves=new spine.Curves(a);this.frames=[];this.frames.length=2*a};
spine.FlipXTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/2},setFrame:function(a,c,d){a*=2;this.frames[a]=c;this.frames[a+1]=d?1:0},apply:function(a,c,d,e,f){e=this.frames;d<e[0]?c>d&&this.apply(a,c,Number.MAX_VALUE,null,0):(c>d&&(c=-1),d=(d>=e[e.length-2]?e.length:spine.Animation.binarySearch(e,d,2))-2,e[d]<c||(a.bones[this.boneIndex].flipX=0!=e[d+1]))}};
spine.FlipYTimeline=function(a){this.boneIndex=0;this.curves=new spine.Curves(a);this.frames=[];this.frames.length=2*a};
spine.FlipYTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/2},setFrame:function(a,c,d){a*=2;this.frames[a]=c;this.frames[a+1]=d?1:0},apply:function(a,c,d,e,f){e=this.frames;d<e[0]?c>d&&this.apply(a,c,Number.MAX_VALUE,null,0):(c>d&&(c=-1),d=(d>=e[e.length-2]?e.length:spine.Animation.binarySearch(e,d,2))-2,e[d]<c||(a.bones[this.boneIndex].flipY=0!=e[d+1]))}};
spine.SkeletonData=function(){this.width=this.height=0;this.bones=[];this.slots=[];this.skins=[];this.events=[];this.animations=[];this.ikConstraints=[]};
spine.SkeletonData.prototype={name:null,defaultSkin:null,width:0,height:0,version:null,hash:null,findBone:function(a){for(var c=this.bones,d=0,e=c.length;d<e;d++)if(c[d].name==a)return c[d];return null},findBoneIndex:function(a){for(var c=this.bones,d=0,e=c.length;d<e;d++)if(c[d].name==a)return d;return-1},findSlot:function(a){for(var c=this.slots,d=0,e=c.length;d<e;d++)if(c[d].name==a)return slot[d];return null},findSlotIndex:function(a){for(var c=this.slots,d=0,e=c.length;d<e;d++)if(c[d].name==
a)return d;return-1},findSkin:function(a){for(var c=this.skins,d=0,e=c.length;d<e;d++)if(c[d].name==a)return c[d];return null},findEvent:function(a){for(var c=this.events,d=0,e=c.length;d<e;d++)if(c[d].name==a)return c[d];return null},findAnimation:function(a){for(var c=this.animations,d=0,e=c.length;d<e;d++)if(c[d].name==a)return c[d];return null},findIkConstraint:function(a){for(var c=this.ikConstraints,d=0,e=c.length;d<e;d++)if(c[d].name==a)return c[d];return null}};
spine.Skeleton=function(a){this.x=this.y=0;this.r=this.g=this.b=this.a=1;this.time=0;this.flipX=this.flipY=!1;this.data=a;this.bones=[];for(var c=0,d=a.bones.length;c<d;c++){var e=a.bones[c],f=e.parent?this.bones[a.bones.indexOf(e.parent)]:null;this.bones.push(new spine.Bone(e,this,f))}this.slots=[];this.drawOrder=[];c=0;for(d=a.slots.length;c<d;c++)e=a.slots[c],f=this.bones[a.bones.indexOf(e.boneData)],e=new spine.Slot(e,f),this.slots.push(e),this.drawOrder.push(e);this.ikConstraints=[];c=0;for(d=
a.ikConstraints.length;c<d;c++)this.ikConstraints.push(new spine.IkConstraint(a.ikConstraints[c],this));this.boneCache=[];this.updateCache()};
spine.Skeleton.prototype={x:0,y:0,skin:null,r:1,g:1,b:1,a:1,time:0,flipX:!1,flipY:!1,updateCache:function(){var a=this.ikConstraints,c=a.length,d=c+1,e=this.boneCache;e.length>d&&(e.length=d);for(var f=0,g=e.length;f<g;f++)e[f].length=0;for(;e.length<d;)e[e.length]=[];var d=e[0],h=this.bones,f=0,g=h.length;a:for(;f<g;f++){var m=h[f],n=m;do{for(var r=0;r<c;r++)for(var s=a[r],t=s.bones[0],s=s.bones[s.bones.length-1];;){if(n==s){e[r].push(m);e[r+1].push(m);continue a}if(s==t)break;s=s.parent}n=n.parent}while(n);
d[d.length]=m}},updateWorldTransform:function(){for(var a=this.bones,c=0,d=a.length;c<d;c++){var e=a[c];e.rotationIK=e.rotation}c=0;for(a=this.boneCache.length-1;;){for(var d=this.boneCache[c],e=0,f=d.length;e<f;e++)d[e].updateWorldTransform();if(c==a)break;this.ikConstraints[c].apply();c++}},setToSetupPose:function(){this.setBonesToSetupPose();this.setSlotsToSetupPose()},setBonesToSetupPose:function(){for(var a=this.bones,c=0,d=a.length;c<d;c++)a[c].setToSetupPose();a=this.ikConstraints;c=0;for(d=
a.length;c<d;c++){var e=a[c];e.bendDirection=e.data.bendDirection;e.mix=e.data.mix}},setSlotsToSetupPose:function(){for(var a=this.slots,c=this.drawOrder,d=0,e=a.length;d<e;d++)c[d]=a[d],a[d].setToSetupPose(d)},getRootBone:function(){return this.bones.length?this.bones[0]:null},findBone:function(a){for(var c=this.bones,d=0,e=c.length;d<e;d++)if(c[d].data.name==a)return c[d];return null},findBoneIndex:function(a){for(var c=this.bones,d=0,e=c.length;d<e;d++)if(c[d].data.name==a)return d;return-1},findSlot:function(a){for(var c=
this.slots,d=0,e=c.length;d<e;d++)if(c[d].data.name==a)return c[d];return null},findSlotIndex:function(a){for(var c=this.slots,d=0,e=c.length;d<e;d++)if(c[d].data.name==a)return d;return-1},setSkinByName:function(a){var c=this.data.findSkin(a);if(!c)throw Error("Skin not found: "+a);this.setSkin(c)},setSkin:function(a){if(a)if(this.skin)a._attachAll(this,this.skin);else for(var c=this.slots,d=0,e=c.length;d<e;d++){var f=c[d],g=f.data.attachmentName;g&&(g=a.getAttachment(d,g))&&f.setAttachment(g)}this.skin=
a},getAttachmentBySlotName:function(a,c){return this.getAttachmentBySlotIndex(this.data.findSlotIndex(a),c)},getAttachmentBySlotIndex:function(a,c){if(this.skin){var d=this.skin.getAttachment(a,c);if(d)return d}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(a,c):null},getPrefixAttachmentBySlotName:function(a,c){return this.getPrefixAttachmentBySlotIndex(this.data.findSlotIndex(a),c)},getPrefixAttachmentBySlotIndex:function(a,c){if(this.skin){var d=this.skin.getAttachmentWithPrefix(a,
c);if(d)return d}return this.data.defaultSkin?this.data.defaultSkin.getAttachmentWithPrefix(a,c):null},setAttachment:function(a,c){for(var d=this.slots,e=0,f=d.length;e<f;e++){var g=d[e];if(g.data.name==a){d=null;if(c&&(d=this.getAttachmentBySlotIndex(e,c),!d)){if(DebugFlag)throw Error("Attachment not found: "+c+", for slot: "+a);printf("Attachment not found: "+c+", for slot: "+a)}g.setAttachment(d);return}}throw Error("Slot not found: "+a);},findIkConstraint:function(a){for(var c=this.ikConstraints,
d=0,e=c.length;d<e;d++)if(c[d].data.name==a)return c[d];return null},update:function(a){this.time+=a}};spine.EventData=function(a){this.intValue=this.floatValue=0;this.name=a};spine.EventData.prototype={intValue:0,floatValue:0,stringValue:null};spine.Event=function(a){this.intValue=this.floatValue=0;this.data=a};spine.Event.prototype={intValue:0,floatValue:0,stringValue:null};spine.AttachmentType={region:0,boundingbox:1,mesh:2,skinnedmesh:3};
spine.RegionAttachment=function(a){this.type=spine.AttachmentType.region;this.x=this.y=this.rotation=0;this.scaleX=this.scaleY=1;this.width=this.height=0;this.r=this.g=this.b=this.a=1;this.regionOffsetX=this.regionOffsetY=this.regionWidth=this.regionHeight=this.regionOriginalWidth=this.regionOriginalHeight=0;this.name=a;this.offset=[];this.offset.length=8;this.uvs=[];this.uvs.length=8};
spine.RegionAttachment.prototype={x:0,y:0,rotation:0,scaleX:1,scaleY:1,width:0,height:0,r:1,g:1,b:1,a:1,path:null,rendererObject:null,regionOffsetX:0,regionOffsetY:0,regionWidth:0,regionHeight:0,regionOriginalWidth:0,regionOriginalHeight:0,setUVs:function(a,c,d,e,f){var g=this.uvs;f?(g[2]=a,g[3]=e,g[4]=a,g[5]=c,g[6]=d,g[7]=c,g[0]=d,g[1]=e):(g[0]=a,g[1]=e,g[2]=a,g[3]=c,g[4]=d,g[5]=c,g[6]=d,g[7]=e)},updateOffset:function(){var a=this.width/this.regionOriginalWidth*this.scaleX,c=this.height/this.regionOriginalHeight*
this.scaleY,d=-this.width/2*this.scaleX+this.regionOffsetX*a,e=-this.height/2*this.scaleY+this.regionOffsetY*c,f=d+this.regionWidth*a,a=e+this.regionHeight*c,c=this.rotation*spine.degRad,g=Math.cos(c),h=Math.sin(c),c=d*g+this.x,d=d*h,m=e*g+this.y,e=e*h,n=f*g+this.x,f=f*h,g=a*g+this.y,a=a*h,h=this.offset;h[0]=c-e;h[1]=m+d;h[2]=c-a;h[3]=g+d;h[4]=n-a;h[5]=g+f;h[6]=n-e;h[7]=m+f},computeVertices:function(a,c,d,e){a+=d.worldX;c+=d.worldY;var f=d.m00,g=d.m01,h=d.m10;d=d.m11;var m=this.offset;e[0]=m[0]*f+
m[1]*g+a;e[1]=m[0]*h+m[1]*d+c;e[2]=m[2]*f+m[3]*g+a;e[3]=m[2]*h+m[3]*d+c;e[4]=m[4]*f+m[5]*g+a;e[5]=m[4]*h+m[5]*d+c;e[6]=m[6]*f+m[7]*g+a;e[7]=m[6]*h+m[7]*d+c}};spine.MeshAttachment=function(a){this.type=spine.AttachmentType.mesh;this.hullLength=0;this.r=this.g=this.b=this.a=1;this.regionU=this.regionV=this.regionV2=0;this.regionRotate=!1;this.width=this.height=this.regionOffsetX=this.regionOffsetY=this.regionWidth=this.regionHeight=this.regionOriginalWidth=this.regionOriginalHeight=0;this.name=a};
spine.MeshAttachment.prototype={vertices:null,uvs:null,regionUVs:null,triangles:null,hullLength:0,r:1,g:1,b:1,a:1,path:null,rendererObject:null,regionU:0,regionV:0,regionU2:0,regionV2:0,regionRotate:!1,regionOffsetX:0,regionOffsetY:0,regionWidth:0,regionHeight:0,regionOriginalWidth:0,regionOriginalHeight:0,edges:null,width:0,height:0,updateUVs:function(){var a=this.regionU2-this.regionU,c=this.regionV2-this.regionV,d=this.regionUVs.length;this.uvs&&this.uvs.length==d||(this.uvs=new spine.Float32Array(d));
if(this.regionRotate)for(var e=0;e<d;e+=2)this.uvs[e]=this.regionU+this.regionUVs[e+1]*a,this.uvs[e+1]=this.regionV+c-this.regionUVs[e]*c;else for(e=0;e<d;e+=2)this.uvs[e]=this.regionU+this.regionUVs[e]*a,this.uvs[e+1]=this.regionV+this.regionUVs[e+1]*c},computeWorldVertices:function(a,c,d,e){var f=d.bone;a+=f.worldX;c+=f.worldY;var g=f.m00,h=f.m01,m=f.m10,f=f.m11,n=this.vertices,r=n.length;d.attachmentVertices.length==r&&(n=d.attachmentVertices);for(d=0;d<r;d+=2){var s=n[d],t=n[d+1];e[d]=s*g+t*h+
a;e[d+1]=s*m+t*f+c}}};spine.SkinnedMeshAttachment=function(a){this.type=spine.AttachmentType.skinnedmesh;this.hullLength=0;this.r=this.g=this.b=this.a=1;this.regionU=this.regionV=this.regionU2=this.regionV2=0;this.regionRotate=!1;this.width=this.height=this.regionOffsetX=this.regionOffsetY=this.regionWidth=this.regionHeight=this.regionOriginalWidth=this.regionOriginalHeight=0;this.name=a};
spine.SkinnedMeshAttachment.prototype={bones:null,weights:null,uvs:null,regionUVs:null,triangles:null,hullLength:0,r:1,g:1,b:1,a:1,path:null,rendererObject:null,regionU:0,regionV:0,regionU2:0,regionV2:0,regionRotate:!1,regionOffsetX:0,regionOffsetY:0,regionWidth:0,regionHeight:0,regionOriginalWidth:0,regionOriginalHeight:0,edges:null,width:0,height:0,updateUVs:function(a,c,d,e,f){a=this.regionU2-this.regionU;c=this.regionV2-this.regionV;d=this.regionUVs.length;this.uvs&&this.uvs.length==d||(this.uvs=
new spine.Float32Array(d));if(this.regionRotate)for(e=0;e<d;e+=2)this.uvs[e]=this.regionU+this.regionUVs[e+1]*a,this.uvs[e+1]=this.regionV+c-this.regionUVs[e]*c;else for(e=0;e<d;e+=2)this.uvs[e]=this.regionU+this.regionUVs[e]*a,this.uvs[e+1]=this.regionV+this.regionUVs[e+1]*c},computeWorldVertices:function(a,c,d,e){var f=d.bone.skeleton.bones,g=this.weights,h=this.bones,m=0,n=0,r=0,s=0,t=h.length,u,w,z,A,B,C;if(d.attachmentVertices.length)for(var E=d.attachmentVertices;n<t;m+=2){w=u=0;for(d=h[n++]+
n;n<d;n++,r+=3,s+=2)z=f[h[n]],A=g[r]+E[s],B=g[r+1]+E[s+1],C=g[r+2],u+=(A*z.m00+B*z.m01+z.worldX)*C,w+=(A*z.m10+B*z.m11+z.worldY)*C;e[m]=u+a;e[m+1]=w+c}else for(;n<t;m+=2){w=u=0;for(d=h[n++]+n;n<d;n++,r+=3)z=f[h[n]],A=g[r],B=g[r+1],C=g[r+2],u+=(A*z.m00+B*z.m01+z.worldX)*C,w+=(A*z.m10+B*z.m11+z.worldY)*C;e[m]=u+a;e[m+1]=w+c}}};spine.BoundingBoxAttachment=function(a){this.type=spine.AttachmentType.boundingbox;this.name=a;this.vertices=[]};
spine.BoundingBoxAttachment.prototype={computeWorldVertices:function(a,c,d,e){a+=d.worldX;c+=d.worldY;var f=d.m00,g=d.m01,h=d.m10;d=d.m11;for(var m=this.vertices,n=0,r=m.length;n<r;n+=2){var s=m[n],t=m[n+1];e[n]=s*f+t*g+a;e[n+1]=s*h+t*d+c}}};spine.AnimationStateData=function(a){this.skeletonData=a;this.animationToMixTime={};this.defaultMix=0};
spine.AnimationStateData.prototype={defaultMix:0,setMixByName:function(a,c,d){var e=this.skeletonData.findAnimation(a);e?(a=this.skeletonData.findAnimation(c))?this.setMix(e,a,d):cc.log("Animation not found: "+c):cc.log("Animation not found: "+a)},setMix:function(a,c,d){this.animationToMixTime[a.name+":"+c.name]=d},getMix:function(a,c){var d=a.name+":"+c.name;return this.animationToMixTime.hasOwnProperty(d)?this.animationToMixTime[d]:this.defaultMix}};
spine.TrackEntry=function(){this.delay=this.time=this.endTime=0;this.lastTime=-1;this.mix=this.mixTime=this.mixDuration=this.timeScale=1};spine.TrackEntry.prototype={next:null,previous:null,animation:null,loop:!1,delay:0,time:0,lastTime:-1,endTime:0,timeScale:1,mixTime:0,mixDuration:0,mix:1,onStart:null,onEnd:null,onComplete:null,onEvent:null};spine.AnimationState=function(a){this.timeScale=1;this.data=a;this.tracks=[];this.events=[]};
spine.AnimationState.prototype={onStart:null,onEnd:null,onComplete:null,onEvent:null,timeScale:1,update:function(a){a*=this.timeScale;for(var c=0;c<this.tracks.length;c++){var d=this.tracks[c];if(d){d.time+=a*d.timeScale;if(d.previous){var e=a*d.previous.timeScale;d.previous.time+=e;d.mixTime+=e}(e=d.next)?(e.time=d.lastTime-e.delay,0<=e.time&&this.setCurrent(c,e)):!d.loop&&d.lastTime>=d.endTime&&this.clearTrack(c)}}},apply:function(a){for(var c=0;c<this.tracks.length;c++){var d=this.tracks[c];if(d){this.events.length=
0;var e=d.time,f=d.lastTime,g=d.endTime,h=d.loop;!h&&e>g&&(e=g);var m=d.previous;if(m){var n=m.time;!m.loop&&n>m.endTime&&(n=m.endTime);m.animation.apply(a,n,n,m.loop,null);m=d.mixTime/d.mixDuration*d.mix;1<=m&&(m=1,d.previous=null);d.animation.mix(a,d.lastTime,e,h,this.events,m)}else 1==d.mix?d.animation.apply(a,d.lastTime,e,h,this.events):d.animation.mix(a,d.lastTime,e,h,this.events,d.mix);m=0;for(n=this.events.length;m<n;m++){var r=this.events[m];if(d.onEvent)d.onEvent(c,r);if(this.onEvent)this.onEvent(c,
r)}if(h?f%g>e%g:f<g&&e>=g){e=Math.floor(e/g);if(d.onComplete)d.onComplete(c,e);if(this.onComplete)this.onComplete(c,e)}d.lastTime=d.time}}},clearTracks:function(){for(var a=0,c=this.tracks.length;a<c;a++)this.clearTrack(a);this.tracks.length=0},clearTrack:function(a){if(!(a>=this.tracks.length)){var c=this.tracks[a];if(c){if(c.onEnd)c.onEnd(a);if(this.onEnd)this.onEnd(a);this.tracks[a]=null}}},_expandToIndex:function(a){if(a<this.tracks.length)return this.tracks[a];for(;a>=this.tracks.length;)this.tracks.push(null);
return null},setCurrent:function(a,c){var d=this._expandToIndex(a);if(d){var e=d.previous;d.previous=null;if(d.onEnd)d.onEnd(a);if(this.onEnd)this.onEnd(a);c.mixDuration=this.data.getMix(d.animation,c.animation);0<c.mixDuration&&(c.mixTime=0,c.previous=e&&0.5>d.mixTime/d.mixDuration?e:d)}this.tracks[a]=c;if(c.onStart)c.onStart(a);if(this.onStart)this.onStart(a)},setAnimationByName:function(a,c,d){var e=this.data.skeletonData.findAnimation(c);if(!e)throw Error("Animation not found: "+c);return this.setAnimation(a,
e,d)},setAnimation:function(a,c,d){var e=new spine.TrackEntry;e.animation=c;e.loop=d;e.endTime=c.duration;this.setCurrent(a,e);return e},addAnimationByName:function(a,c,d,e){var f=this.data.skeletonData.findAnimation(c);if(!f)throw Error("Animation not found: "+c);return this.addAnimation(a,f,d,e)},addAnimation:function(a,c,d,e){var f=new spine.TrackEntry;f.animation=c;f.loop=d;f.endTime=c.duration;if(d=this._expandToIndex(a)){for(;d.next;)d=d.next;d.next=f}else this.tracks[a]=f;0>=e&&(e=d?e+(d.endTime-
this.data.getMix(d.animation,c)):0);f.delay=e;return f},getCurrent:function(a){return a>=this.tracks.length?null:this.tracks[a]}};spine.SkeletonJson=function(a){this.scale=1;this.attachmentLoader=a};
spine.SkeletonJson.prototype={scale:1,readSkeletonData:function(a,c){var d=new spine.SkeletonData;d.name=c;var e=a.skeleton;e&&(d.hash=e.hash,d.version=e.spine,d.width=e.width||0,d.height=e.height||0);for(var f=a.bones,e=0,g=f.length;e<g;e++){var h=f[e],m=null;if(h.parent&&(m=d.findBone(h.parent),!m))throw Error("Parent bone not found: "+h.parent);m=new spine.BoneData(h.name,m);m.length=(h.length||0)*this.scale;m.x=(h.x||0)*this.scale;m.y=(h.y||0)*this.scale;m.rotation=h.rotation||0;m.scaleX=h.hasOwnProperty("scaleX")?
h.scaleX:1;m.scaleY=h.hasOwnProperty("scaleY")?h.scaleY:1;m.inheritScale=h.hasOwnProperty("inheritScale")?h.inheritScale:!0;m.inheritRotation=h.hasOwnProperty("inheritRotation")?h.inheritRotation:!0;d.bones.push(m)}if(m=a.ik)for(e=0,g=m.length;e<g;e++){for(var h=m[e],n=new spine.IkConstraintData(h.name),f=h.bones,r=0,s=f.length;r<s;r++){var t=d.findBone(f[r]);if(!t)throw Error("IK bone not found: "+f[r]);n.bones.push(t)}n.target=d.findBone(h.target);if(!n.target)throw Error("Target bone not found: "+
h.target);n.bendDirection=!h.hasOwnProperty("bendPositive")||h.bendPositive?1:-1;n.mix=h.hasOwnProperty("mix")?h.mix:1;d.ikConstraints.push(n)}f=a.slots;e=0;for(g=f.length;e<g;e++){h=f[e];m=d.findBone(h.bone);if(!m)throw Error("Slot bone not found: "+h.bone);m=new spine.SlotData(h.name,m);if(n=h.color)m.r=this.toColor(n,0),m.g=this.toColor(n,1),m.b=this.toColor(n,2),m.a=this.toColor(n,3);m.attachmentName=h.attachment;m.blendMode=spine.BlendMode[h.blend||"normal"];d.slots.push(m)}var e=a.skins,u;for(u in e)if(e.hasOwnProperty(u)){var g=
e[u],f=new spine.Skin(u),w;for(w in g)if(g.hasOwnProperty(w)){var m=d.findSlotIndex(w),h=g[w],z;for(z in h)h.hasOwnProperty(z)&&(n=this.readAttachment(f,z,h[z]))&&f.addAttachment(m,z,n)}d.skins.push(f);"default"==f.name&&(d.defaultSkin=f)}u=a.events;for(var A in u)u.hasOwnProperty(A)&&(w=u[A],z=new spine.EventData(A),z.intValue=w["int"]||0,z.floatValue=w["float"]||0,z.stringValue=w.string||null,d.events.push(z));A=a.animations;for(var B in A)A.hasOwnProperty(B)&&this.readAnimation(B,A[B],d);return d},
readAttachment:function(a,c,d){c=d.name||c;var e=spine.AttachmentType[d.type||"region"],f=d.path||c,g=this.scale;if(e==spine.AttachmentType.region){a=this.attachmentLoader.newRegionAttachment(a,c,f);if(!a)return null;a.path=f;a.x=(d.x||0)*g;a.y=(d.y||0)*g;a.scaleX=d.hasOwnProperty("scaleX")?d.scaleX:1;a.scaleY=d.hasOwnProperty("scaleY")?d.scaleY:1;a.rotation=d.rotation||0;a.width=(d.width||0)*g;a.height=(d.height||0)*g;if(f=d.color)a.r=this.toColor(f,0),a.g=this.toColor(f,1),a.b=this.toColor(f,2),
a.a=this.toColor(f,3);a.updateOffset();return a}if(e==spine.AttachmentType.mesh){a=this.attachmentLoader.newMeshAttachment(a,c,f);if(!a)return null;a.path=f;a.vertices=this.getFloatArray(d,"vertices",g);a.triangles=this.getIntArray(d,"triangles");a.regionUVs=this.getFloatArray(d,"uvs",1);a.updateUVs();if(f=d.color)a.r=this.toColor(f,0),a.g=this.toColor(f,1),a.b=this.toColor(f,2),a.a=this.toColor(f,3);a.hullLength=2*(d.hull||0);d.edges&&(a.edges=this.getIntArray(d,"edges"));a.width=(d.width||0)*g;
a.height=(d.height||0)*g;return a}if(e==spine.AttachmentType.skinnedmesh){a=this.attachmentLoader.newSkinnedMeshAttachment(a,c,f);if(!a)return null;a.path=f;var h=this.getFloatArray(d,"uvs",1),f=this.getFloatArray(d,"vertices",1),m=[],n=[];c=0;for(e=f.length;c<e;){var r=f[c++]|0;n[n.length]=r;for(r=c+4*r;c<r;)n[n.length]=f[c],m[m.length]=f[c+1]*g,m[m.length]=f[c+2]*g,m[m.length]=f[c+3],c+=4}a.bones=n;a.weights=m;a.triangles=this.getIntArray(d,"triangles");a.regionUVs=h;a.updateUVs();if(f=d.color)a.r=
this.toColor(f,0),a.g=this.toColor(f,1),a.b=this.toColor(f,2),a.a=this.toColor(f,3);a.hullLength=2*(d.hull||0);d.edges&&(a.edges=this.getIntArray(d,"edges"));a.width=(d.width||0)*g;a.height=(d.height||0)*g;return a}if(e==spine.AttachmentType.boundingbox){a=this.attachmentLoader.newBoundingBoxAttachment(a,c);f=d.vertices;c=0;for(e=f.length;c<e;c++)a.vertices.push(f[c]*g);return a}throw Error("Unknown attachment type: "+e);},readAnimation:function(a,c,d){var e=[],f=0,g=c.slots,h;for(h in g)if(g.hasOwnProperty(h)){var m=
g[h],n=d.findSlotIndex(h),r;for(r in m)if(m.hasOwnProperty(r)){var s=m[r];if("color"==r){var t=new spine.ColorTimeline(s.length);t.slotIndex=n;for(var u=0,w=0,z=s.length;w<z;w++){var A=s[w],B=A.color,C=this.toColor(B,0),E=this.toColor(B,1),H=this.toColor(B,2),B=this.toColor(B,3);t.setFrame(u,A.time,C,E,H,B);this.readCurve(t,u,A);u++}e.push(t);f=Math.max(f,t.frames[5*t.getFrameCount()-5])}else if("attachment"==r){t=new spine.AttachmentTimeline(s.length);t.slotIndex=n;w=u=0;for(z=s.length;w<z;w++)A=
s[w],t.setFrame(u++,A.time,A.name);e.push(t);f=Math.max(f,t.frames[t.getFrameCount()-1])}else throw Error("Invalid timeline type for a slot: "+r+" ("+h+")");}}var n=c.bones,F;for(F in n)if(n.hasOwnProperty(F)){m=d.findBoneIndex(F);if(-1==m)throw Error("Bone not found: "+F);g=n[F];for(r in g)if(g.hasOwnProperty(r))if(s=g[r],"rotate"==r){t=new spine.RotateTimeline(s.length);t.boneIndex=m;w=u=0;for(z=s.length;w<z;w++)A=s[w],t.setFrame(u,A.time,A.angle),this.readCurve(t,u,A),u++;e.push(t);f=Math.max(f,
t.frames[2*t.getFrameCount()-2])}else if("translate"==r||"scale"==r){C=1;"scale"==r?t=new spine.ScaleTimeline(s.length):(t=new spine.TranslateTimeline(s.length),C=this.scale);t.boneIndex=m;w=u=0;for(z=s.length;w<z;w++)A=s[w],E=(A.x||0)*C,t.setFrame(u,A.time,E,(A.y||0)*C),this.readCurve(t,u,A),u++;e.push(t);f=Math.max(f,t.frames[3*t.getFrameCount()-3])}else if("flipX"==r||"flipY"==r){t=(E="flipX"==r)?new spine.FlipXTimeline(s.length):new spine.FlipYTimeline(s.length);t.boneIndex=m;C=E?"x":"y";w=u=
0;for(z=s.length;w<z;w++)A=s[w],t.setFrame(u,A.time,A[C]||!1),u++;e.push(t);f=Math.max(f,t.frames[2*t.getFrameCount()-2])}else throw Error("Invalid timeline type for a bone: "+r+" ("+F+")");}var n=c.ik,D;for(D in n)if(n.hasOwnProperty(D)){u=d.findIkConstraint(D);s=n[D];t=new spine.IkConstraintTimeline(s.length);t.ikConstraintIndex=d.ikConstraints.indexOf(u);w=u=0;for(z=s.length;w<z;w++)A=s[w],m=A.hasOwnProperty("mix")?A.mix:1,r=!A.hasOwnProperty("bendPositive")||A.bendPositive?1:-1,t.setFrame(u,A.time,
m,r),this.readCurve(t,u,A),u++;e.push(t);f=Math.max(f,t.frames[3*t.frameCount-3])}F=c.ffd;for(var K in F)for(h in g=d.findSkin(K),m=F[K],m){var n=d.findSlotIndex(h),C=m[h],G;for(G in C){s=C[G];t=new spine.FfdTimeline(s.length);E=g.getAttachment(n,G);if(!E)throw Error("FFD attachment not found: "+G);t.slotIndex=n;t.attachment=E;B=(H=E.type==spine.AttachmentType.mesh)?E.vertices.length:E.weights.length/3*2;w=u=0;for(z=s.length;w<z;w++){var A=s[w],I;if(A.vertices){var P=A.vertices;I=[];I.length=B;var Q=
A.offset||0;D=P.length;if(1==this.scale)for(r=0;r<D;r++)I[r+Q]=P[r];else for(r=0;r<D;r++)I[r+Q]=P[r]*this.scale;if(H)for(P=E.vertices,r=0,D=I.length;r<D;r++)I[r]+=P[r]}else H?I=E.vertices:(I=[],I.length=B);t.setFrame(u,A.time,I);this.readCurve(t,u,A);u++}e[e.length]=t;f=Math.max(f,t.frames[t.frameCount-1])}}(h=c.drawOrder)||(h=c.draworder);if(h){t=new spine.DrawOrderTimeline(h.length);s=d.slots.length;w=u=0;for(z=h.length;w<z;w++){K=h[w];G=null;if(K.offsets){G=[];G.length=s;for(r=s-1;0<=r;r--)G[r]=
-1;A=K.offsets;m=[];m.length=s-A.length;r=g=F=0;for(D=A.length;r<D;r++){C=A[r];n=d.findSlotIndex(C.slot);if(-1==n)throw Error("Slot not found: "+C.slot);for(;F!=n;)m[g++]=F++;G[F+C.offset]=F++}for(;F<s;)m[g++]=F++;for(r=s-1;0<=r;r--)-1==G[r]&&(G[r]=m[--g])}t.setFrame(u++,K.time,G)}e.push(t);f=Math.max(f,t.frames[t.getFrameCount()-1])}if(c=c.events){t=new spine.EventTimeline(c.length);w=u=0;for(z=c.length;w<z;w++){h=c[w];s=d.findEvent(h.name);if(!s)throw Error("Event not found: "+h.name);K=new spine.Event(s);
K.intValue=h.hasOwnProperty("int")?h["int"]:s.intValue;K.floatValue=h.hasOwnProperty("float")?h["float"]:s.floatValue;K.stringValue=h.hasOwnProperty("string")?h.string:s.stringValue;t.setFrame(u++,h.time,K)}e.push(t);f=Math.max(f,t.frames[t.getFrameCount()-1])}d.animations.push(new spine.Animation(a,e,f))},readCurve:function(a,c,d){(d=d.curve)?"stepped"==d?a.curves.setStepped(c):d instanceof Array&&a.curves.setCurve(c,d[0],d[1],d[2],d[3]):a.curves.setLinear(c)},toColor:function(a,c){if(8!=a.length)throw Error("Color hexadecimal length must be 8, received: "+
a);return parseInt(a.substring(2*c,2*c+2),16)/255},getFloatArray:function(a,c,d){a=a[c];c=new spine.Float32Array(a.length);var e=0,f=a.length;if(1==d)for(;e<f;e++)c[e]=a[e];else for(;e<f;e++)c[e]=a[e]*d;return c},getIntArray:function(a,c){for(var d=a[c],e=new spine.Uint16Array(d.length),f=0,g=d.length;f<g;f++)e[f]=d[f]|0;return e}};
spine.Atlas=function(a,c){this.textureLoader=c;this.pages=[];this.regions=[];var d=new spine.AtlasReader(a),e=[];e.length=4;for(var f=null;;){var g=d.readLine();if(null===g)break;g=d.trim(g);if(g.length)if(f){var h=new spine.AtlasRegion;h.name=g;h.page=f;h.rotate="true"==d.readValue();d.readTuple(e);var g=parseInt(e[0]),m=parseInt(e[1]);d.readTuple(e);var n=parseInt(e[0]),r=parseInt(e[1]);h.u=g/f.width;h.v=m/f.height;h.rotate?(h.u2=(g+r)/f.width,h.v2=(m+n)/f.height):(h.u2=(g+n)/f.width,h.v2=(m+r)/
f.height);h.x=g;h.y=m;h.width=Math.abs(n);h.height=Math.abs(r);4==d.readTuple(e)&&(h.splits=[parseInt(e[0]),parseInt(e[1]),parseInt(e[2]),parseInt(e[3])],4==d.readTuple(e)&&(h.pads=[parseInt(e[0]),parseInt(e[1]),parseInt(e[2]),parseInt(e[3])],d.readTuple(e)));h.originalWidth=parseInt(e[0]);h.originalHeight=parseInt(e[1]);d.readTuple(e);h.offsetX=parseInt(e[0]);h.offsetY=parseInt(e[1]);h.index=parseInt(d.readValue());this.regions.push(h)}else f=new spine.AtlasPage,f.name=g,2==d.readTuple(e)&&(f.width=
parseInt(e[0]),f.height=parseInt(e[1]),d.readTuple(e)),f.format=spine.Atlas.Format[e[0]],d.readTuple(e),f.minFilter=spine.Atlas.TextureFilter[e[0]],f.magFilter=spine.Atlas.TextureFilter[e[1]],h=d.readValue(),f.uWrap=spine.Atlas.TextureWrap.clampToEdge,f.vWrap=spine.Atlas.TextureWrap.clampToEdge,"x"==h?f.uWrap=spine.Atlas.TextureWrap.repeat:"y"==h?f.vWrap=spine.Atlas.TextureWrap.repeat:"xy"==h&&(f.uWrap=f.vWrap=spine.Atlas.TextureWrap.repeat),c.load(f,g,this),this.pages.push(f);else f=null}};
spine.Atlas.prototype={findRegion:function(a){for(var c=this.regions,d=0,e=c.length;d<e;d++)if(c[d].name==a)return c[d];return null},dispose:function(){for(var a=this.pages,c=0,d=a.length;c<d;c++)this.textureLoader.unload(a[c].rendererObject)},updateUVs:function(a){for(var c=this.regions,d=0,e=c.length;d<e;d++){var f=c[d];f.page==a&&(f.u=f.x/a.width,f.v=f.y/a.height,f.rotate?(f.u2=(f.x+f.height)/a.width,f.v2=(f.y+f.width)/a.height):(f.u2=(f.x+f.width)/a.width,f.v2=(f.y+f.height)/a.height))}}};
spine.Atlas.Format={alpha:0,intensity:1,luminanceAlpha:2,rgb565:3,rgba4444:4,rgb888:5,rgba8888:6};spine.Atlas.TextureFilter={nearest:0,linear:1,mipMap:2,mipMapNearestNearest:3,mipMapLinearNearest:4,mipMapNearestLinear:5,mipMapLinearLinear:6};spine.Atlas.TextureWrap={mirroredRepeat:0,clampToEdge:1,repeat:2};spine.AtlasPage=function(){this.width=this.height=0};spine.AtlasPage.prototype={name:null,format:null,minFilter:null,magFilter:null,uWrap:null,vWrap:null,rendererObject:null,width:0,height:0};
spine.AtlasRegion=function(){this.index=this.x=this.y=this.width=this.height=this.u=this.v=this.u2=this.v2=this.offsetX=this.offsetY=this.originalWidth=this.originalHeight=0};spine.AtlasRegion.prototype={page:null,name:null,x:0,y:0,width:0,height:0,u:0,v:0,u2:0,v2:0,offsetX:0,offsetY:0,originalWidth:0,originalHeight:0,index:0,rotate:!1,splits:null,pads:null};spine.AtlasReader=function(a){this.index=0;this.lines=a?a.split(/\r\n|\r|\n/):[]};
spine.AtlasReader.prototype={index:0,trim:function(a){return a.replace(/^\s+|\s+$/g,"")},readLine:function(){return this.index>=this.lines.length?null:this.lines[this.index++]},readValue:function(){var a=this.readLine(),c=a.indexOf(":");if(-1==c)throw Error("Invalid line: "+a);return this.trim(a.substring(c+1))},readTuple:function(a){var c=this.readLine(),d=c.indexOf(":");if(-1==d)throw Error("Invalid line: "+c);for(var e=0,d=d+1;3>e;e++){var f=c.indexOf(",",d);if(-1==f)break;a[e]=this.trim(c.substr(d,
f-d));d=f+1}a[e]=this.trim(c.substring(d));return e+1}};spine.AtlasAttachmentLoader=function(a){this.atlas=a};
spine.AtlasAttachmentLoader.prototype={newRegionAttachment:function(a,c,d){a=this.atlas.findRegion(d);if(!a)throw Error("Region not found in atlas: "+d+" (region attachment: "+c+")");c=new spine.RegionAttachment(c);c.rendererObject=a;c.setUVs(a.u,a.v,a.u2,a.v2,a.rotate);c.regionOffsetX=a.offsetX;c.regionOffsetY=a.offsetY;c.regionWidth=a.width;c.regionHeight=a.height;c.regionOriginalWidth=a.originalWidth;c.regionOriginalHeight=a.originalHeight;return c},newMeshAttachment:function(a,c,d){a=this.atlas.findRegion(d);
if(!a)throw Error("Region not found in atlas: "+d+" (mesh attachment: "+c+")");c=new spine.MeshAttachment(c);c.rendererObject=a;c.regionU=a.u;c.regionV=a.v;c.regionU2=a.u2;c.regionV2=a.v2;c.regionRotate=a.rotate;c.regionOffsetX=a.offsetX;c.regionOffsetY=a.offsetY;c.regionWidth=a.width;c.regionHeight=a.height;c.regionOriginalWidth=a.originalWidth;c.regionOriginalHeight=a.originalHeight;return c},newSkinnedMeshAttachment:function(a,c,d){a=this.atlas.findRegion(d);if(!a)throw Error("Region not found in atlas: "+
d+" (skinned mesh attachment: "+c+")");c=new spine.SkinnedMeshAttachment(c);c.rendererObject=a;c.regionU=a.u;c.regionV=a.v;c.regionU2=a.u2;c.regionV2=a.v2;c.regionRotate=a.rotate;c.regionOffsetX=a.offsetX;c.regionOffsetY=a.offsetY;c.regionWidth=a.width;c.regionHeight=a.height;c.regionOriginalWidth=a.originalWidth;c.regionOriginalHeight=a.originalHeight;return c},newBoundingBoxAttachment:function(a,c){return new spine.BoundingBoxAttachment(c)}};
spine.SkeletonBounds=function(){this.minX=this.minY=this.maxX=this.maxY=0;this.polygonPool=[];this.polygons=[];this.boundingBoxes=[]};
spine.SkeletonBounds.prototype={minX:0,minY:0,maxX:0,maxY:0,update:function(a,c){for(var d=a.slots,e=d.length,f=a.x,g=a.y,h=this.boundingBoxes,m=this.polygonPool,n=this.polygons,r=h.length=0,s=n.length;r<s;r++)m.push(n[r]);for(r=n.length=0;r<e;r++){var s=d[r],t=s.attachment;if(t.type==spine.AttachmentType.boundingbox){h.push(t);var u=m.length,w;0<u?(w=m[u-1],m.splice(u-1,1)):w=[];n.push(w);w.length=t.vertices.length;t.computeWorldVertices(f,g,s.bone,w)}}c&&this.aabbCompute()},aabbCompute:function(){for(var a=
this.polygons,c=Number.MAX_VALUE,d=Number.MAX_VALUE,e=Number.MIN_VALUE,f=Number.MIN_VALUE,g=0,h=a.length;g<h;g++)for(var m=a[g],n=0,r=m.length;n<r;n+=2)var s=m[n],t=m[n+1],c=Math.min(c,s),d=Math.min(d,t),e=Math.max(e,s),f=Math.max(f,t);this.minX=c;this.minY=d;this.maxX=e;this.maxY=f},aabbContainsPoint:function(a,c){return a>=this.minX&&a<=this.maxX&&c>=this.minY&&c<=this.maxY},aabbIntersectsSegment:function(a,c,d,e){var f=this.minX,g=this.minY,h=this.maxX,m=this.maxY;if(a<=f&&d<=f||c<=g&&e<=g||a>=
h&&d>=h||c>=m&&e>=m)return!1;d=(e-c)/(d-a);e=d*(f-a)+c;if(e>g&&e<m)return!0;e=d*(h-a)+c;if(e>g&&e<m)return!0;g=(g-c)/d+a;if(g>f&&g<h)return!0;g=(m-c)/d+a;return g>f&&g<h?!0:!1},aabbIntersectsSkeleton:function(a){return this.minX<a.maxX&&this.maxX>a.minX&&this.minY<a.maxY&&this.maxY>a.minY},containsPoint:function(a,c){for(var d=this.polygons,e=0,f=d.length;e<f;e++)if(this.polygonContainsPoint(d[e],a,c))return this.boundingBoxes[e];return null},intersectsSegment:function(a,c,d,e){for(var f=this.polygons,
g=0,h=f.length;g<h;g++)if(f[g].intersectsSegment(a,c,d,e))return this.boundingBoxes[g];return null},polygonContainsPoint:function(a,c,d){for(var e=a.length,f=e-2,g=!1,h=0;h<e;h+=2){var m=a[h+1],n=a[f+1];if(m<d&&n>=d||n<d&&m>=d){var r=a[h];r+(d-m)/(n-m)*(a[f]-r)<c&&(g=!g)}f=h}return g},polygonIntersectsSegment:function(a,c,d,e,f){for(var g=a.length,h=c-e,m=d-f,n=c*f-d*e,r=a[g-2],s=a[g-1],t=0;t<g;t+=2){var u=a[t],w=a[t+1],z=r*w-s*u,A=r-u,B=s-w,C=h*B-m*A,A=(n*A-h*z)/C;if((A>=r&&A<=u||A>=u&&A<=r)&&(A>=
c&&A<=e||A>=e&&A<=c)&&(r=(n*B-m*z)/C,(r>=s&&r<=w||r>=w&&r<=s)&&(r>=d&&r<=f||r>=f&&r<=d)))return!0;r=u;s=w}return!1},getPolygon:function(a){a=this.boundingBoxes.indexOf(a);return-1==a?null:this.polygons[a]},getWidth:function(){return this.maxX-this.minX},getHeight:function(){return this.maxY-this.minY}};var sp=sp||{};sp.VERTEX_INDEX={X1:0,Y1:1,X2:2,Y2:3,X3:4,Y3:5,X4:6,Y4:7};sp.ATTACHMENT_TYPE={REGION:0,BOUNDING_BOX:1,MESH:2,SKINNED_MESH:3};
sp.Skeleton=cc.Node.extend({_skeleton:null,_rootBone:null,_timeScale:1,_debugSlots:!1,_debugBones:!1,_premultipliedAlpha:!1,_ownsSkeletonData:null,_atlas:null,_blendFunc:null,ctor:function(a,c,d){cc.Node.prototype.ctor.call(this);0===arguments.length?this.init():this.initWithArgs(a,c,d)},_createRenderCmd:function(){return cc._renderType===cc.game.RENDER_TYPE_CANVAS?new sp.Skeleton.CanvasRenderCmd(this):new sp.Skeleton.WebGLRenderCmd(this)},init:function(){cc.Node.prototype.init.call(this);this._premultipliedAlpha=
cc._renderType===cc.game.RENDER_TYPE_WEBGL&&cc.OPTIMIZE_BLEND_FUNC_FOR_PREMULTIPLIED_ALPHA;this._blendFunc={src:cc.BLEND_SRC,dst:cc.BLEND_DST};this.scheduleUpdate()},setDebugSolots:function(a){this._debugSlots=a},setDebugBones:function(a){this._debugBones=a},setDebugSlotsEnabled:function(a){this._debugSlots=a},getDebugSlotsEnabled:function(){return this._debugSlots},setDebugBonesEnabled:function(a){this._debugBones=a},getDebugBonesEnabled:function(){return this._debugBones},setTimeScale:function(a){this._timeScale=
a},getTimeScale:function(){return this._timeScale},childrenNameMap:{},childrenCounter:0,addNodeToBone:function(a,c,d){var e=this.findBone(c);if(e){var f=1,g=this.childrenNameMap[c];g?this.removeChildByTag(g):f=++this.childrenCounter;a&&(a.setUserData(e),this.addChild(a,d,f),this.childrenNameMap[c]=f)}},removeNodeByBone:function(a){this.findBone(a)&&(a=childrenNameMa[a])&&this.removeChildByTag(a)},getNodeByBone:function(a){return findBone(a)?(a=childrenNameMap[a])?this.getChildByTag(a):null:null},
initWithArgs:function(a,c,d){c||(c=a.replace(".json",".atlas"));var e=c;if(cc.isString(a)){cc.isString(e)&&(c=cc.loader.getRes(e),sp._atlasLoader.setAtlasFile(e),c=new spine.Atlas(c,sp._atlasLoader));d=d||1/cc.director.getContentScaleFactor();e=new spine.AtlasAttachmentLoader(c);e=new spine.SkeletonJson(e);e.scale=d;d=cc.loader.getRes(a);if(null==d){cc.log("error:",a);return}a=e.readSkeletonData(d);if(d=this._skeleton&&this._skeleton.data)d._texture&&d._texture.retainCount--,d._rendererObject&&d._rendererObject._releaseBuffer();
d=c.pages[0];a._rendererObject=d&&d.rendererObject;a._texture=a._rendererObject&&d.rendererObject.texture;a._texture&&a._texture.retainCount++;c.dispose(e);c=!0}this.setSkeletonData(a,c);this.init()},getBoundingBox:function(){for(var a=cc.FLT_MAX,c=cc.FLT_MAX,d=cc.FLT_MIN,e=cc.FLT_MIN,f=this.getScaleX(),g=this.getScaleY(),h=[],m=this._skeleton.slots,n=sp.VERTEX_INDEX,r=0,s=m.length;r<s;++r){var t=m[r];t.attachment&&t.attachment.type==sp.ATTACHMENT_TYPE.REGION&&(this._computeRegionAttachmentWorldVertices(t.attachment,
t.bone.skeleton.x,t.bone.skeleton.y,t.bone,h),a=Math.min(a,h[n.X1]*f,h[n.X4]*f,h[n.X2]*f,h[n.X3]*f),c=Math.min(c,h[n.Y1]*g,h[n.Y4]*g,h[n.Y2]*g,h[n.Y3]*g),d=Math.max(d,h[n.X1]*f,h[n.X4]*f,h[n.X2]*f,h[n.X3]*f),e=Math.max(e,h[n.Y1]*g,h[n.Y4]*g,h[n.Y2]*g,h[n.Y3]*g))}f=this.getPosition();return cc.rect(f.x+a,f.y+c,d-a,e-c)},_computeRegionAttachmentWorldVertices:function(a,c,d,e,f){a=a.offset;var g=sp.VERTEX_INDEX;c+=e.worldX;d+=e.worldY;f[g.X1]=a[g.X1]*e.m00+a[g.Y1]*e.m01+c;f[g.Y1]=a[g.X1]*e.m10+a[g.Y1]*
e.m11+d;f[g.X2]=a[g.X2]*e.m00+a[g.Y2]*e.m01+c;f[g.Y2]=a[g.X2]*e.m10+a[g.Y2]*e.m11+d;f[g.X3]=a[g.X3]*e.m00+a[g.Y3]*e.m01+c;f[g.Y3]=a[g.X3]*e.m10+a[g.Y3]*e.m11+d;f[g.X4]=a[g.X4]*e.m00+a[g.Y4]*e.m01+c;f[g.Y4]=a[g.X4]*e.m10+a[g.Y4]*e.m11+d},updateWorldTransform:function(){this._skeleton.updateWorldTransform()},setToSetupPose:function(){this._skeleton.setToSetupPose()},setBonesToSetupPose:function(){this._skeleton.setBonesToSetupPose()},setSlotsToSetupPose:function(){this._skeleton.setSlotsToSetupPose()},
findBone:function(a){return this._skeleton&&this._skeleton.findBone(a)},findSlot:function(a){return this._skeleton.findSlot(a)},getBoneX:function(a){return(a=this.findBone(a))?a.x:0},getBoneY:function(a){return(a=this.findBone(a))?a.y:0},setBoneX:function(a,c){var d=this.findBone(a);d&&(d.x=c)},setBoneY:function(a,c){var d=this.findBone(a);d&&(d.y=c)},setSkin:function(a){return this._skeleton.setSkinByName(a)},getAttachment:function(a,c){if(this._skeleton)return this._skeleton.getAttachmentBySlotName(a,
c)},setAttachment:function(a,c){this._skeleton&&this._skeleton.setAttachment(a,c)},getPrefixAttachment:function(a,c){return this._skeleton.getPrefixAttachmentBySlotName(a,c)},setEquipAttachment:function(a,c){if(this._skeleton)for(var d=this._skeleton.slots,e="p_"+a+"_",f=e+c+"_",g=0,h=d.length;g<h;++g){var m=d[g];if(0===m.data.name.lastIndexOf(e,0)){var n=this.getPrefixAttachment(m.data.name,f);this.setAttachment(m.data.name,n&&n.name)}}},setPremultipliedAlpha:function(a){this._premultipliedAlpha=
a},isPremultipliedAlpha:function(){return this._premultipliedAlpha},setSkeletonData:function(a,c){null!=a.width&&null!=a.height&&this.setContentSize(a.width/cc.director.getContentScaleFactor(),a.height/cc.director.getContentScaleFactor());this._skeleton=new spine.Skeleton(a);this._skeleton.updateWorldTransform();this._rootBone=this._skeleton.getRootBone();this._ownsSkeletonData=c;this._renderCmd._createChildFormSkeletonData()},getTextureAtlas:function(a){return a.rendererObject.page.rendererObject},
getBlendFunc:function(){return this._blendFunc},setBlendFunc:function(a,c){var d=this._blendFunc;void 0===c?(d.src=a.src,d.dst=a.dst):(d.src=a,d.dst=c)},update:function(a){this._skeleton.update(a)}});sp.Skeleton.create=function(a,c,d){return new sp.Skeleton(a,c,d)};sp._atlasPage_createTexture_webGL=function(a,c){var d=cc.textureCache.addImage(c);a.rendererObject=new cc.TextureAtlas(d,128)};sp._atlasPage_createTexture_canvas=function(a,c){a._texture=cc.textureCache.addImage(c)};sp._atlasPage_disposeTexture=function(a){a.rendererObject.release()};
sp._atlasLoader={spAtlasFile:null,setAtlasFile:function(a){this.spAtlasFile=a},load:function(a,c,d){c=cc.path.join(cc.path.dirname(this.spAtlasFile),c);cc._renderType===cc.game.RENDER_TYPE_WEBGL?sp._atlasPage_createTexture_webGL(a,c):sp._atlasPage_createTexture_canvas(a,c)},unload:function(a){}};sp.ANIMATION_EVENT_TYPE={START:0,END:1,COMPLETE:2,EVENT:3};
sp.TrackEntryListeners=function(a,c,d,e){this.startListener=a||null;this.endListener=c||null;this.completeListener=d||null;this.eventListener=e||null};sp.TrackEntryListeners.getListeners=function(a){a.rendererObject||(a.rendererObject=new sp.TrackEntryListeners,a.listener=sp.trackEntryCallback);return a.rendererObject};sp.trackEntryCallback=function(a,c,d,e,f){a.rendererObject.onTrackEntryEvent(c,d,e,f)};
sp.SkeletonAnimation=sp.Skeleton.extend({_state:null,_target:null,_callback:null,_ownsAnimationStateData:!1,_startListener:null,_endListener:null,_completeListener:null,_eventListener:null,init:function(){sp.Skeleton.prototype.init.call(this);this._ownsAnimationStateData=!0;this._skeleton&&this.setAnimationStateData(new spine.AnimationStateData(this._skeleton.data))},reloadWithCache:function(a){var c=a.replace(".json",".atlas");this.initWithArgs(a,c,1);this._ownsAnimationStateData=!0;this._skeleton&&
this.setAnimationStateData(new spine.AnimationStateData(this._skeleton.data))},reloadWithSkelFile:function(a){this.reloadWithCache(a)},setAnimationStateData:function(a){a=new spine.AnimationState(a);a.rendererObject=this;a.onStart=this._onAnimationStateStart.bind(this);a.onComplete=this._onAnimationStateComplete.bind(this);a.onEnd=this._onAnimationStateEnd.bind(this);a.onEvent=this._onAnimationStateEvent.bind(this);this._state=a},setMix:function(a,c,d){if(!this._state)return null;this._state.data.setMixByName(a,
c,d)},setAnimationListener:function(a,c){this._target=a;this._callback=c},setAnimation:function(a,c,d){if(!this._skeleton)return null;var e=this._skeleton.data.findAnimation(c);return e?this._state.setAnimation(a,e,d):(cc.log("Spine: Animation not found: "+c),null)},addAnimation:function(a,c,d,e){if(!this._skeleton)return null;e=null==e?0:e;var f=this._skeleton.data.findAnimation(c);return f?this._state.addAnimation(a,f,d,e):(cc.log("Spine: Animation not found:"+c),null)},getCurrent:function(a){return this._state?
this._state.getCurrent(a):null},getCurAnimName:function(){var a=this.getCurrent(0);return a?a.animation.name:""},clearTracks:function(){this._state&&this._state.clearTracks()},clearTrack:function(a){this._state&&this._state.clearTrack(a)},update:function(a){this._skeleton&&this.isVisibleInParents()&&(this._super(a),a*=this._timeScale,this._state.update(a),this._state.apply(this._skeleton),this._skeleton.updateWorldTransform(),this._renderCmd._updateChild())},cleanup:function(){cc.Node.prototype.cleanup.call(this);
if(this._skeleton){var a=this._skeleton.data;if(a){var c=a._texture;c&&c.retainCount--;var d=a._rendererObject;d&&setTimeout(function(){d._releaseBuffer()},0)}}},setStartListener:function(a){this._startListener=a},setEndListener:function(a){this._endListener=a},setCompleteListener:function(a){this._completeListener=a},setEventListener:function(a){this._eventListener=a},setTrackStartListener:function(a,c){sp.TrackEntryListeners.getListeners(a).startListener=c},setTrackEndListener:function(a,c){sp.TrackEntryListeners.getListeners(a).endListener=
c},setTrackCompleteListener:function(a,c){sp.TrackEntryListeners.getListeners(a).completeListener=c},setTrackEventListener:function(a,c){sp.TrackEntryListeners.getListeners(a).eventListener=c},onTrackEntryEvent:function(a,c,d,e){var f=this._state.getCurrent(a);if(f.rendererObject)switch(f=f.rendererObject,c){case sp.ANIMATION_EVENT_TYPE.START:f.startListener&&f.startListener(a);break;case sp.ANIMATION_EVENT_TYPE.END:f.endListener&&f.endListener(a);break;case sp.ANIMATION_EVENT_TYPE.COMPLETE:f.completeListener&&
f.completeListener(a,e);break;case sp.ANIMATION_EVENT_TYPE.EVENT:f.eventListener&&f.eventListener(a,d)}},onAnimationStateEvent:function(a,c,d,e){switch(c){case sp.ANIMATION_EVENT_TYPE.START:this._startListener&&this._startListener(a);break;case sp.ANIMATION_EVENT_TYPE.END:this._endListener&&this._endListener(a);break;case sp.ANIMATION_EVENT_TYPE.COMPLETE:this._completeListener&&this._completeListener(a,e);break;case sp.ANIMATION_EVENT_TYPE.EVENT:this._eventListener&&this._eventListener(a,d)}},getState:function(){return this._state},
_onAnimationStateStart:function(a){this._animationStateCallback(a,sp.ANIMATION_EVENT_TYPE.START,null,0)},_onAnimationStateEnd:function(a){this._animationStateCallback(a,sp.ANIMATION_EVENT_TYPE.END,null,0)},_onAnimationStateComplete:function(a,c){this._animationStateCallback(a,sp.ANIMATION_EVENT_TYPE.COMPLETE,null,c)},_onAnimationStateEvent:function(a,c){this._animationStateCallback(a,sp.ANIMATION_EVENT_TYPE.EVENT,c,0)},_animationStateCallback:function(a,c,d,e){this.onAnimationStateEvent(a,c,d,e);
this._target&&this._callback&&this._callback.call(this._target,this,a,c,d,e)}});sp.SkeletonAnimation.create=function(a,c,d){return new sp.SkeletonAnimation(a,c,d)};(function(){sp.Skeleton.WebGLRenderCmd=function(a){cc.Node.WebGLRenderCmd.call(this,a);this._needDraw=!0;this._matrix=new cc.math.Matrix4;this._matrix.identity();this._tmpQuad=new cc.V3F_C4B_T2F_Quad;this.setShaderProgram(cc.shaderCache.programForKey(cc.SHADER_POSITION_TEXTURECOLOR))};var a=sp.Skeleton.WebGLRenderCmd.prototype=Object.create(cc.Node.WebGLRenderCmd.prototype);a.constructor=sp.Skeleton.WebGLRenderCmd;a.rendering=function(a){var d=this._node,e=this._tmpQuad;if(d._skeleton){var f=d.getColor();
a=d._skeleton;var g,h,m,n,r,s=d._blendFunc,t=d._premultipliedAlpha;r=this._worldTransform;this._matrix.mat[0]=r.a;this._matrix.mat[4]=r.c;this._matrix.mat[12]=r.tx;this._matrix.mat[1]=r.b;this._matrix.mat[5]=r.d;this._matrix.mat[13]=r.ty;this._shaderProgram.use();this._shaderProgram._setUniformForMVPMatrixWithMat4(this._matrix);a.r=f.r/255;a.g=f.g/255;a.b=f.b/255;a.a=d.getOpacity()/255;t&&(a.r*=a.a,a.g*=a.a,a.b*=a.a);f=0;for(r=a.drawOrder.length;f<r;f++)if(n=a.drawOrder[f],n.attachment){m=n.attachment;
var u=null;switch(n.attachment.type){case sp.ATTACHMENT_TYPE.REGION:this._updateRegionAttachmentQuad(m,n,e,t);break;case sp.ATTACHMENT_TYPE.MESH:u=this._updateMeshAttachmentQuad(m,n,e,t);break;case sp.ATTACHMENT_TYPE.SKINNED_MESH:break;default:continue}m=d.getTextureAtlas(m);if(n.data.blendMode!=g)switch(h&&(h.drawQuads(),h.removeAllQuads()),g=n.data.blendMode,g){case spine.BlendMode.additive:cc.glBlendFunc(t?cc.ONE:cc.SRC_ALPHA,cc.ONE);break;case spine.BlendMode.multiply:cc.glBlendFunc(cc.DST_COLOR,
cc.ONE_MINUS_SRC_ALPHA);break;case spine.BlendMode.screen:cc.glBlendFunc(cc.ONE,cc.ONE_MINUS_SRC_COLOR);break;default:cc.glBlendFunc(s.src,s.dst)}else m!=h&&h&&(h.drawQuads(),h.removeAllQuads());h=m;if(u&&0<u.length)for(n=0;n<u.length;++n){m=u[n];var w=h.getTotalQuads();if(h.getCapacity()==w&&(h.drawQuads(),h.removeAllQuads(),!h.resizeCapacity(2*h.getCapacity())))return;h.updateQuad(m,w)}else{w=h.getTotalQuads();if(h.getCapacity()==w&&(h.drawQuads(),h.removeAllQuads(),!h.resizeCapacity(2*h.getCapacity())))return;
h.updateQuad(e,w)}}h&&(h.drawQuads(),h.removeAllQuads());if(d._debugBones||d._debugSlots){cc.kmGLMatrixMode(cc.KM_GL_MODELVIEW);cc.current_stack.stack.push(cc.current_stack.top);cc.current_stack.top=this._matrix;g=cc._drawingUtil;if(d._debugSlots)for(g.setDrawColor(0,0,255,255),g.setLineWidth(1),f=0,r=a.slots.length;f<r;f++)n=a.drawOrder[f],n.attachment&&n.attachment.type==sp.ATTACHMENT_TYPE.REGION&&(m=n.attachment,this._updateRegionAttachmentQuad(m,n,e),h=[],h.push(cc.p(e.bl.vertices.x,e.bl.vertices.y)),
h.push(cc.p(e.br.vertices.x,e.br.vertices.y)),h.push(cc.p(e.tr.vertices.x,e.tr.vertices.y)),h.push(cc.p(e.tl.vertices.x,e.tl.vertices.y)),g.drawPoly(h,4,!0));if(d._debugBones){g.setLineWidth(2);g.setDrawColor(255,0,0,255);f=0;for(r=a.bones.length;f<r;f++)d=a.bones[f],e=d.data.length*d.m00+d.worldX,h=d.data.length*d.m10+d.worldY,g.drawLine(cc.p(d.worldX,d.worldY),cc.p(e,h));g.setPointSize(4);g.setDrawColor(0,0,255,255);f=0;for(r=a.bones.length;f<r;f++)d=a.bones[f],g.drawPoint(cc.p(d.worldX,d.worldY)),
0==f&&g.setDrawColor(0,255,0,255)}cc.kmGLPopMatrix()}}};a._createChildFormSkeletonData=function(){};a._updateChild=function(){};a._updateRegionAttachmentQuad=function(a,d,e,f){var g={};a.computeVertices(d.bone.skeleton.x,d.bone.skeleton.y,d.bone,g);var h=d.bone.skeleton.r*d.r*255,m=d.bone.skeleton.g*d.g*255,n=d.bone.skeleton.b*d.b*255;d=d.bone.skeleton.a*d.a;f&&(h*=d,m*=d,n*=d);e.bl.colors.r=e.tl.colors.r=e.tr.colors.r=e.br.colors.r=h;e.bl.colors.g=e.tl.colors.g=e.tr.colors.g=e.br.colors.g=m;e.bl.colors.b=
e.tl.colors.b=e.tr.colors.b=e.br.colors.b=n;e.bl.colors.a=e.tl.colors.a=e.tr.colors.a=e.br.colors.a=255*d;f=sp.VERTEX_INDEX;e.bl.vertices.x=g[f.X1];e.bl.vertices.y=g[f.Y1];e.tl.vertices.x=g[f.X2];e.tl.vertices.y=g[f.Y2];e.tr.vertices.x=g[f.X3];e.tr.vertices.y=g[f.Y3];e.br.vertices.x=g[f.X4];e.br.vertices.y=g[f.Y4];e.bl.texCoords.u=a.uvs[f.X1];e.bl.texCoords.v=a.uvs[f.Y1];e.tl.texCoords.u=a.uvs[f.X2];e.tl.texCoords.v=a.uvs[f.Y2];e.tr.texCoords.u=a.uvs[f.X3];e.tr.texCoords.v=a.uvs[f.Y3];e.br.texCoords.u=
a.uvs[f.X4];e.br.texCoords.v=a.uvs[f.Y4]};a._updateMeshAttachmentQuad=function(a,d,e,f){var g=[];a.computeWorldVertices(0,0,d,g);var h=d.bone.skeleton.r*d.r*255,m=d.bone.skeleton.g*d.g*255,n=d.bone.skeleton.b*d.b*255;d=d.bone.skeleton.a*d.a;f&&(h*=d,m*=d,n*=d);f=255*d;if(8>=g.length)return this._createQuadByVertices(a,g,0,h,m,n,f,e),null;e=[];for(d=0;d<a.triangles.length;d+=3){var r=2*a.triangles[d+2],r=this._createQuadByVerticesAndIndex(a,g,2*a.triangles[d+0],2*a.triangles[d+1],r,r,h,m,n,f);e.push(r)}return e};
a._createQuadByVertices=function(a,d,e,f,g,h,m,n){n=n||new cc.V3F_C4B_T2F_Quad;n.bl.colors.r=n.tl.colors.r=n.tr.colors.r=n.br.colors.r=f;n.bl.colors.g=n.tl.colors.g=n.tr.colors.g=n.br.colors.g=g;n.bl.colors.b=n.tl.colors.b=n.tr.colors.b=n.br.colors.b=h;n.bl.colors.a=n.tl.colors.a=n.tr.colors.a=n.br.colors.a=m;f=sp.VERTEX_INDEX;n.bl.vertices.x=d[f.X1+e];n.bl.vertices.y=d[f.Y1+e];n.tl.vertices.x=d[f.X2+e];n.tl.vertices.y=d[f.Y2+e];n.tr.vertices.x=d[f.X3+e];n.tr.vertices.y=d[f.Y3+e];n.br.vertices.x=
d[f.X4+e];n.br.vertices.y=d[f.Y4+e];n.bl.texCoords.u=a.uvs[f.X1+e];n.bl.texCoords.v=a.uvs[f.Y1+e];n.tl.texCoords.u=a.uvs[f.X2+e];n.tl.texCoords.v=a.uvs[f.Y2+e];n.tr.texCoords.u=a.uvs[f.X3+e];n.tr.texCoords.v=a.uvs[f.Y3+e];n.br.texCoords.u=a.uvs[f.X4+e];n.br.texCoords.v=a.uvs[f.Y4+e];return n};a._createQuadByVerticesAndIndex=function(a,d,e,f,g,h,m,n,r,s,t){t=t||new cc.V3F_C4B_T2F_Quad;t.bl.colors.r=t.tl.colors.r=t.tr.colors.r=t.br.colors.r=m;t.bl.colors.g=t.tl.colors.g=t.tr.colors.g=t.br.colors.g=
n;t.bl.colors.b=t.tl.colors.b=t.tr.colors.b=t.br.colors.b=r;t.bl.colors.a=t.tl.colors.a=t.tr.colors.a=t.br.colors.a=s;t.bl.vertices.x=d[e];t.bl.vertices.y=d[e+1];t.tl.vertices.x=d[f];t.tl.vertices.y=d[f+1];t.tr.vertices.x=d[g];t.tr.vertices.y=d[g+1];t.br.vertices.x=d[h];t.br.vertices.y=d[h+1];t.bl.texCoords.u=a.uvs[e];t.bl.texCoords.v=a.uvs[e+1];t.tl.texCoords.u=a.uvs[f];t.tl.texCoords.v=a.uvs[f+1];t.tr.texCoords.u=a.uvs[g];t.tr.texCoords.v=a.uvs[g+1];t.br.texCoords.u=a.uvs[h];t.br.texCoords.v=a.uvs[h+
1];return t}})();var data=data||{};var TextTable=TextTable||{};TextTable.t_appTitle="\u6b22\u4e50\u6d88\u6d88\u6d88";TextTable.t_shareDesc="\u5feb\u6765\u52a0\u5165\u6b22\u4e50\u6d88\u6d88\u6d88!";TextTable.t_copyRight="\u00a92014-2017 candyworks.cn";TextTable.t_shareUrl="http://www.candyworks.cn";TextTable.t_iconUrl="http://www.candyworks.cn/img/cutypet60.png";TextTable.t_notifyDesc="\u60a8\u60f3\u83b7\u5f97\u66f4\u9ad8\u7684\u5206\u6570\u5417\uff0c\u8d76\u5feb\u8fdb\u5165\u6e38\u620f\u5427\uff01";TextTable.t_time_day="\u5929";
TextTable.t_use="\u4f7f\u7528";TextTable.t_ok="\u786e\u5b9a";TextTable.t_cancel="\u53d6\u6d88";TextTable.t_retry="\u91cd\u8bd5";TextTable.t_yes="\u597d";TextTable.t_known="\u77e5\u9053\u4e86";TextTable.t_nothank="\u4e0d\uff0c\u8c22\u8c22";TextTable.t_continueGame="\u7ee7\u7eed";TextTable.t_quitGame="\u9000\u51fa";TextTable.t_back="\u8fd4\u56de";TextTable.t_close="\u5173\u95ed";TextTable.t_quit="\u9000\u51fa";TextTable.t_share="\u70ab\u8000\u4e00\u4e0b";TextTable.t_buy="\u8d2d\u4e70";
TextTable.t_get="\u9886\u53d6";TextTable.t_claim="\u83b7\u53d6";TextTable.t_levelUp="\u5347\u7ea7";TextTable.t_recharge="\u5145\u503c";TextTable.t_goldLess="\u7f3a\u5c11\u91d1\u5e01,\u662f\u5426\u8d2d\u4e70\uff1f";TextTable.t_buyFailCode0="\u5931\u8d25,\u7f3a\u5c11\u94bb\u77f3\u8bf7\u5145\u503c!";TextTable.t_buyFailCode1="\u7f51\u7edc\u8fde\u63a5\u5931\u8d25";TextTable.t_netWorkdFailForBattle="\u7f51\u7edc\u5df2\u7ecf\u65ad\u5f00\uff0c\u8bf7\u68c0\u67e5";TextTable.t_rank="\u6392\u884c\u699c";
TextTable.t_credits="\u5236\u4f5c\u4eba\u5458";TextTable.t_whatsMore="\u63a8\u8350\u6e38\u620f";TextTable.t_shareSuccess="\u5206\u4eab\u6210\u529f";TextTable.t_shareFailed="\u5206\u4eab\u5931\u8d25";TextTable.t_giveSuccess="\u8d60\u9001\u6210\u529f";TextTable.t_needLoginGameCenter="\u6ca1\u6709\u767b\u5f55GameCenter";TextTable.t_comingSoon="\u656c\u8bf7\u671f\u5f85.";TextTable.t_newResUpdate="\u68c0\u67e5\u6709\u65b0\u8d44\u6e90\u66f4\u65b0\uff0c\u662f\u5426\u4e0b\u8f7d?";
TextTable.t_downloadingRes="\u52a0\u8f7d\u4e2d...";TextTable.t_downloadError="\u52a0\u8f7d\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u94fe\u63a5";TextTable.t_downloadOk="\u52a0\u8f7d\u6210\u529f";TextTable.t_startSyncRes="\u5f00\u59cb\u540c\u6b65\u8d44\u6e90. \u8bf7\u4e0d\u8981\u4e2d\u65ad. \u7ed3\u675f\u540e\u5c06\u91cd\u65b0\u542f\u52a8\u6e38\u620f";TextTable.t_quitQuery="\u786e\u5b9a\u9000\u51fa\u6e38\u620f\u5417?";TextTable.t_rateQuery="\u5982\u679c\u4f60\u559c\u6b22\u8fd9\u4e2a\u6e38\u620f\uff0c\u80fd\u7ed9\u6211\u4eec\u6253\u5206\u8bc4\u4ef7\u5417\uff1f\u8bc4\u4ef7\u540e\u9001\u60a8 {num} \u91d1\u5e01";
TextTable.t_returnMainMenu="\u662f\u5426\u8fd4\u56de\u4e3b\u754c\u9762?";TextTable.t_news="\u65b0";TextTable.t_installNotice="\u6ce8\u610f: \u672c\u6e38\u620f\u4e3a\u5355\u673a\u6e38\u620f. \u5982\u679c\u5378\u8f7d\u6216\u6e05\u9664\u6570\u636e, \u4f60\u7684\u6e38\u620f\u6570\u636e\u5c06\u4e22\u5931.";TextTable.t_payFailed="\u652f\u4ed8\u5931\u8d25! \u8bf7\u68c0\u67e5\u7f51\u7edc.";TextTable.t_paySuccess="\u652f\u4ed8\u6210\u529f! \u968f\u673a\u6a21\u5f0f\u89e3\u9501.";TextTable.t_restoreFailed="\u8d44\u6e90\u4e0b\u8f7d\u5931\u8d25! \u8bf7\u68c0\u67e5\u7f51\u7edc.";
TextTable.t_restoreSuccess="\u8d44\u6e90\u4e0b\u8f7d\u6210\u529f! \u968f\u673a\u6a21\u5f0f\u89e3\u9501.";TextTable.t_networkError="\u8bf7\u68c0\u67e5\u7f51\u7edc\u8fde\u63a5";TextTable.t_restore="\u4fdd\u5b58";TextTable.t_newGame="\u65b0\u6e38\u620f";TextTable.t_continue="\u7ee7\u7eed";TextTable.t_nextLevel="\u65b0\u7ea7\u522b";TextTable.t_breakRecord="\u65b0\u7eaa\u5f55";TextTable.t_leftTime="\u5269\u4f59\u6b21\u6570";TextTable.t_tokenInvalid="\u4f60\u7684\u5e10\u53f7\u5df2\u5728\u5176\u4ed6\u8bbe\u5907\u767b\u5f55\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55\uff5e";
TextTable.t_dataInvalid="\u4f60\u7684\u5e10\u53f7\u6570\u636e\u5f02\u5e38\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55\uff5e";TextTable.t_dataNotSync="\u4f60\u7684\u5e10\u53f7\u6570\u636e\u4e0d\u540c\u6b65\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55\uff5e";TextTable.t_sessionBroken="\u4f60\u7684\u5e10\u53f7\u6570\u636e\u9519\u8bef\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55\uff5e";TextTable.t_logicException="\u4f60\u7684\u5e10\u53f7\u6570\u636e\u5df2\u635f\u574f\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55\uff5e";
TextTable.t_buySuccess="\u8d2d\u4e70\u6210\u529f";TextTable.t_buyFailed="\u8d2d\u4e70\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u8fde\u63a5\uff01";TextTable.t_requestSuccess="\u8bf7\u6c42\u6210\u529f";TextTable.t_inputNumError="\u8f93\u5165\u5185\u5bb9\u9519\u8bef\uff0c\u53ea\u80fd\u8f93\u5165\u6570\u5b57\u54e6~";TextTable.t_inputNumEmpty="\u6e38\u620f\u8d26\u53f7\u4e0d\u80fd\u4e3a\u7a7a\u54e6~";TextTable.t_getSuccess="\u9886\u53d6\u6210\u529f";TextTable.t_barrier="\u969c\u788d";
TextTable.t_effects="\u7279\u6548";TextTable.t_NPCname1="Kelly";TextTable.t_NPCname2="Sir Llama";TextTable.t_NPCname3="Danny";TextTable.t_NPCname4="Casper";TextTable.t_NPCname5="Lily";TextTable.t_NPCname6="Pepper";TextTable.t_NPCname7="Noella";TextTable.t_NPCname8="Coco";TextTable.t_UItips_Thomas="\u65f6\u88c5\u626d\u86cb\u673a";TextTable.t_UItips_Checkin="\u6bcf\u65e5\u7b7e\u5230";TextTable.t_UItips_Starreward="\u6210\u5c31\u7cfb\u7edf";TextTable.t_UItips_Invite="\u9080\u8bf7\u5956\u52b1";
TextTable.t_UItips_Order="\u4efb\u52a1\u7cfb\u7edf";TextTable.t_UItips_Pet20002="\u5e03\u5076\u732b\u4e3b\u53a8";TextTable.t_UItips_Home="\u5ba0\u7269\u4e4b\u5bb6";TextTable.t_UItips_Clothes="\u5ba0\u7269\u6362\u88c5";TextTable.t_UItips_Popcorn="\u7206\u7c73\u82b1\u5927\u6218";TextTable.t_UItips_KitchenGod="\u5468\u8d5b";TextTable.t_UItips_FriendRequest="\u5c0f\u4f19\u4f34\u4eec\u7684\u8bf7\u6c42";TextTable.t_PK_title="\u4e00\u8d77\u6765\u6311\u6218";TextTable.t_PK_text1="\u5feb\u548c\u597d\u670b\u53cb\u4eec\u4e00\u8d77\u6765\u73a9\u5427\uff01";
TextTable.t_PK_text2="\u6bd4\u4e00\u6bd4\u6392\u540d\uff0c\u770b\u770b\u8c01\u901a\u5173\u66f4\u5feb\uff01";TextTable.t_PK_text3="\u9009\u62e9\u597d\u53cb\u6216\u7fa4\u7ec4\u4e00\u8d77\u6765\u73a9\u5427\u3002";TextTable.t_Loading="\u62fc\u547d\u52a0\u8f7d\u4e2d...";TextTable.t_BigPictureSharingQRCode_text="\u65e0\u9700\u4e0b\u8f7d,\u957f\u6309\u5373\u73a9";TextTable.t_confirmation_unlock="\u786e\u5b9a\u89e3\u9501{name}\u5417\uff1f";TextTable.t_confirmation_send="\u786e\u5b9a\u5c06{name}\u8d60\u9001\u7ed9{freind}\u5417\uff1f";
TextTable.t_giftQuitQuery="\u786e\u5b9a\u653e\u5f03\u4f18\u60e0\u5417\uff1f";TextTable.t_PetUpgrade_tips1="\u606d\u559c{name}\u83b7\u5f97\uff1a";TextTable.t_PetUpgrade_tips2="\u4e0b\u4e00\u4e2a\u5956\u52b1\u5728{name}\u8fbe\u5230{number}\u7ea7~~";TextTable.t_PetUpgrade_Btn="\u786e\u5b9a";TextTable.t_PetHusky_tips1="\u540d\u5b57\uff1a\u4e8c\u54c8";TextTable.t_PetHusky_tips2="\u7279\u5f81\uff1a\u6781\u5ea6\u8d2a\u5403\uff0c\u50bb\uff0c\u4f46\u53c8\u5f88\u53ef\u7231";TextTable.t_PetHusky_tips3="";
TextTable.t_PetHusky_tips4="\u539f\u56e0\uff1a\u5403\u592a\u591a\u3002\u3002";TextTable.t_PetHusky_tips5="\u9886\u517b\u4eba\u8981\u6c42\uff1a\u5584\u826f\u3001\u6709\u7231\u5fc3\u548c\u8d23\u4efb\u5fc3\uff08\u4e14";TextTable.t_PetHusky_tips6="\u72d7\u7cae\u5145\u8db3\uff09";TextTable.t_PetHusky_content1="\u7d2f\u8ba1\u6d88\u8d39\u94bb\u77f3\u8fbe\u5230{number}\uff0c\u5373\u53ef\u9886\u517b\u8fd9\u53ea\u8822\u840c\u8822\u840c\u7684\u4e8c\u54c8~~\u8fd8\u7b49\u4ec0\u4e48~~";
TextTable.t_PetHusky_content2="\u5f53\u524d\u7d2f\u8ba1\uff1a";TextTable.t_PetHusky_Btn="\u53bb\u6d88\u8d39";TextTable.t_PetUnlockReward="\u5ba0\u7269\u7b49\u7ea7\u8fbe\u5230{num}\u7ea7\u8d60\u9001\u54e6\uff5e";TextTable.t_Game_Faild20001="\u5bf9\u4e0d\u8d77~\u6ca1\u80fd\u5e2e\u5230\u5927\u5bb6\u2026";TextTable.t_Game_Faild20002="\u90fd\u662f\u4eba\u5bb6\u4e0d\u597d\u5566~~~";TextTable.t_Game_Faild20003="\u6211\u4f1a\u518d\u52a0\u500d\u52aa\u529b\u7684\u2026";TextTable.t_Game_Faild20004="\u641e\u2026\u641e\u7838\u4e86\u2026";
TextTable.t_Game_Faild20005="\u5514~~~~~~~~~~~~~";TextTable.t_gameFailTarget6_1="\u771f\u53ef\u60dcTAT\u2026\u8fd8\u5dee\u4e00\u70b9\u5c31\u8fc7\u5173\u4e86";TextTable.t_Game_Tips1="\u8bf7\u9009\u62e9\u5ba0\u7269\u4e3b\u53a8\uff1a";TextTable.t_Game_Type1="\u4e3a\u987e\u5ba2\u51c6\u5907\u7f8e\u98df";TextTable.t_Game_Type2="\u4e3a\u987e\u5ba2\u51c6\u5907\u793c\u7269";TextTable.t_Game_Type3="\u5e2e\u52a9\u5c0f\u4f01\u9e45";TextTable.t_Game_Type4="\u4e3a\u5c0f\u6930\u7334\u6536\u96c6\u6930\u5b50";
TextTable.t_Game_Type5="\u4e3a\u987e\u5ba2\u6536\u96c6\u8702\u871c";TextTable.t_Game_Type6="\u4e3a\u987e\u5ba2\u51c6\u5907\u7f8e\u98df";TextTable.t_Game_Type7="\u6536\u96c6\u8717\u725b\u58f3";TextTable.t_Pet_Set="\u8bbe\u4e3a\u4e3b\u53a8";TextTable.t_me="\u6211";TextTable.t_level="\u7b2c{num}\u5173 ";TextTable.t_level_ingame="\u7b2c{num}\u5173 ";TextTable.t_score="\u5206\u6570";TextTable.t_coin="\u91d1\u5e01";TextTable.t_titleAddFive="\u6c42\u6c42\u4f60\uff0c\u518d\u7ed9\u4eba\u5bb6\u4e00\u6b21\u673a\u4f1a\u561b\uff0c\u4eba\u5bb6\u9a6c\u4e0a\u5c31\u8981\u5b8c\u6210\u4e86~";
TextTable.t_tryByChangePet="\u672c\u5173\u63a8\u8350\u4f7f\u7528{name}\u54e6\uff01";TextTable.t_level_score="\u6211\u7684\u5206\u6570\uff1a";TextTable.t_name20001="\u67f4\u72ac";TextTable.t_name20002="\u5e03\u5076\u732b";TextTable.t_name20003="\u6cf0\u8fea";TextTable.t_name20004="\u82f1\u77ed\u732b";TextTable.t_name20005="\u54c8\u58eb\u5947";TextTable.t_ability20001="\u9aa8\u5934\u7206\u70b8";TextTable.t_ability20002="\u8ffd\u8e2a\u6bdb\u7ebf\u7403";TextTable.t_ability20003="\u5f3a\u529b\u5f39\u7403";
TextTable.t_ability20004="\u5976\u7cd6\u8fde\u8fde\u770b";TextTable.t_ability20005="\u5de7\u514b\u529b\u70b8\u5f39";TextTable.t_Ablt_Desc_20001="\u91ca\u653e 1 \u6b21\u9aa8\u5934\u5f62\u72b6\u7684\u4e3b\u53a8\u7279\u6548\u54e6\uff01\u9002\u5408\u5404\u79cd\u7c7b\u578b\u7684\u5173\u5361\u3002";TextTable.t_Ablt_Desc_20002="\u629b\u51fa 3 \u4e2a\u6bdb\u7ebf\u7403\uff0c\u4f18\u5148\u6d88\u9664\u969c\u788d\u54e6\uff01\u9002\u5408\u6536\u96c6\u51b0\u5757\u3001\u51b0\u51bb\u8349\u8393\u3001\u7f50\u5934\u7b49\u7684\u5173\u5361\u3002";
TextTable.t_Ablt_Desc_20003="\u653e\u51fa 1 \u4e2a\u5f3a\u529b\u5f39\u7403\u3002\u9002\u5408\u573a\u5730\u72ed\u7a84\u7684\u5173\u5361\uff0c\u80fd\u5f88\u5feb\u5f00\u62d3\u6d88\u9664\u7a7a\u95f4\uff01";TextTable.t_Ablt_Desc_20004="\u653e\u51fa 5 \u4e2a\u65cb\u8f6c\u68d2\u68d2\u7cd6\uff0c\u6d88\u96645\u4e2a\u540c\u68d2\u68d2\u7cd6\u76f8\u540c\u989c\u8272\u7684\u98df\u7269\uff01\u9002\u5408\u6d88\u9664\u6307\u5b9a\u989c\u8272\u98df\u7269\u7684\u5173\u5361\u3002";TextTable.t_Ablt_Desc_20005="\u89e6\u53d1 1 \u4e2a\u81ea\u7531\u843d\u4f53\u7684\u70b8\u5f39\uff0c\u63a5\u89e6\u5230\u98df\u7269\u4ee5\u5916\u7684\u7269\u4f53\u540e\u53d1\u751f\u7206\u70b8\u3002\u9002\u5408\u6536\u96c6\u6930\u5b50\u548c\u68cb\u76d8\u4e0b\u65b9\u6709\u5927\u91cf\u969c\u788d\u7684\u5173\u5361\u3002";
TextTable.t_Pet_Level="\u7b49\u7ea7\uff1a";TextTable.t_Pet_Expr="\u7ecf\u9a8c\uff1a";TextTable.t_Pet_LevelUpNeed="\u5347\u7ea7\u8fd8\u9700\uff1a";TextTable.t_Pet_ScoreAdd="\u5206\u6570\u52a0\u6210\uff1a";TextTable.t_Pet_CionAdd="\u91d1\u5e01\u52a0\u6210\uff1a";TextTable.t_Pet_Get_Btn="\u5e26\u5b83\u56de\u5bb6";TextTable.t_Pet_Chefchange="\u65b0\u4e3b\u53a8\u5df2\u5c31\u4efb\uff01";TextTable.t_Pet_Maxexp="MAX";TextTable.t_Pet_Kitchen_btn2="\u5df2\u5bf9\u597d\u53cb\u663e\u793a";
TextTable.t_Pet_Kitchen_btn3="\u5df2\u5bf9\u597d\u53cb\u9690\u85cf";TextTable.t_Pet_Kitchen_btn4="\u8fd4\u56de";TextTable.t_Pet_Kitchen_btn5="\u62cd\u7167";TextTable.t_Pet_Kitchen_tips1="\u8fd8\u662f\u4f60\u6700\u6f02\u4eae\uff01";TextTable.t_Pet_Kitchen_txt1="\u8f66\u53a2\u5185\u5df2\u7ecf\u88ab\u6211\u4eec\u91cd\u65b0\u5e03\u7f6e\u8fc7\u5566\uff0c\u6f02\u4eae\u5417\uff1f";TextTable.t_Pet_Kitchen_txt2="\u4e00\u8d77\u6765\u62dc\u8bbf\u597d\u53cb\u5427\uff01";TextTable.t_Pet_Wardrobe_btn1="\u53bb\u89e3\u9501";
TextTable.t_Pet_Wardrobe_tips6="\u7b2c{num}\u5173\u89e3\u9501";TextTable.t_Pet_Wardrobe_tips13="\u7b2c {num} \u5173\u5df2\u89e3\u9501";TextTable.t_Wardrobe_tips1="1 \u65f6\u88c5\u7684\u7a7f\u6234\uff1a";TextTable.t_Wardrobe_tips1_1="* \u6bcf\u4e2a\u4e3b\u53a8\u6709\u56db\u4e2a\u90e8\u4f4d\u53ef\u4ee5\u7a7f\u6234\u65f6\u88c5\uff0c\u6bcf\u4e2a\u90e8\u4f4d\u53ea\u80fd\u7a7f\u4e00\u4ef6\u65f6\u88c5\uff01";TextTable.t_Wardrobe_tips1_2="* \u4e0d\u540c\u4e3b\u53a8\u7684\u65f6\u88c5\u662f\u4e0d\u80fd\u591f\u6df7\u7a7f\u7684\u54e6\u3002";
TextTable.t_Wardrobe_tips1_3="";TextTable.t_Wardrobe_tips2="2 \u65f6\u88c5\u7684\u4f5c\u7528\uff1a";TextTable.t_Wardrobe_tips2_1="* \u6bcf\u4ef6\u65f6\u88c5\u90fd\u6709\u4e00\u5b9a\u7684\u7a00\u6709\u7a0b\u5ea6\uff0c\u7a00\u6709\u7684\u65f6\u88c5\u66f4\u96be\u83b7\u5f97\u3002";TextTable.t_Wardrobe_tips2_2="* \u628a\u4e3b\u53a8\u6253\u626e\u7684\u7f8e\u7f8e\u7684\uff0c\u5728\u52a8\u7269\u754c\u53ef\u662f\u6bd4\u7a00\u6709\u5ea6\u66f4\u91cd\u8981\u5462~";TextTable.t_Wardrobe_tips2_3="";
TextTable.t_Wardrobe_tips3="3 \u65f6\u88c5\u7684\u83b7\u5f97\uff1a";TextTable.t_Wardrobe_tips3_1="* \u65f6\u88c5\u626d\u86cb\u673a\uff1a\u901a\u8fc7\u626d\u86cb\u62bd\u53d6\u65f6\u88c5\u3002";TextTable.t_Wardrobe_tips3_2="* \u94c3\u94db\u5151\u6362\uff1a\u626d\u86cb\u673a\u62bd\u51fa\u91cd\u590d\u7684\u65f6\u88c5\u4f1a\u88ab\u6362\u6210\u94c3\u94db\uff0c\u96c6\u9f50\u4e00\u5b9a\u6570\u91cf\u7684\u94c3\u94db\u4e5f\u53ef\u5151\u6362\u65f6\u88c5\u3002";TextTable.t_Wardrobe_tips3_3="* \u6d3b\u52a8\u83b7\u5f97\uff1a\u5728\u7279\u6b8a\u7684\u8282\u65e5\u6216\u6d3b\u52a8\u5f53\u4e2d\uff0c\u4e5f\u4f1a\u968f\u6d3b\u52a8\u5956\u52b1\u9650\u65f6\u63a8\u51fa\u7a00\u6709\u7684\u65f6\u88c5\u54e6\u3002";
TextTable.t_Wardrobe_tips3_4="";TextTable.t_Wardrobe_tips4="\u4e0d\u8981\u5077\u770b\u597d\u53cb\u5bb6\u7684\u4e3b\u53a8\u8863\u67dc\u54e6~";TextTable.t_Changepet20002="\u901a\u8fc7\u7b2c12\u5173";TextTable.t_Changepet20003="\u4e00\u5143\u8d85\u503c\u5305";TextTable.t_Changepet20004="\u7d2f\u8ba1\u767b\u5f557\u5929";TextTable.t_Changepet20005="\u6d3b\u52a8\u5956\u52b1";TextTable.t_Thomas_tips1="\u91cd\u590d\u7684\u65f6\u88c5\u5c06\u88ab\u6362\u4e3a\u94c3\u94db,\u94c3\u94db\u4e5f\u53ef\u4ee5\u6362\u65f6\u88c5\u54e6\uff01";
TextTable.t_Dailylogin_tips1="7\u5929\u767b\u5f55\u6e38\u620f\uff0c\u8d85\u503c\u597d\u793c\u7b49\u4f60\u6765\uff0c\u66f4\u6709\u840c\u840c\u54d2\u82f1\u77ed\u732b\u514d\u8d39\u8d60\u9001\u54e6\uff01";TextTable.t_Photograph_tips1="\u9009\u53d6\u6700\u4f73\u4f4d\u7f6e\uff0c\u4ee5\u4f9b\u5206\u4eab\u3002";TextTable.t_Clothes_tips5="\u5ba0\u7269\u5347\u7ea7\u5956\u52b1";TextTable.t_Clothes_tips6="\u6d3b\u52a8\u5956\u52b1";TextTable.t_LevelUp_title="\u606d\u559c\u4f60\u83b7\u5f97\uff1a";
TextTable.t_LevelUp_tips="\u4e0b\u4e00\u4ef6\u65f6\u88c5\u5c06\u5728\u4e3b\u53a8\u8fbe\u5230 {num} \u7ea7\u65f6\u83b7\u5f97~ ";TextTable.t_ChangeClothes_tips="\u89e3\u9501\u4e00\u4ef6\u88c5\u626e\u6216\u901a\u8fc7\u7b2c{num}\u5173\u89e3\u9501\u6362\u88c5\u529f\u80fd\u54e6~ ";TextTable.t_Petclothes_tips1="\u7a00\u6709\u5ea6\uff1a";TextTable.t_Petclothes_tips2="\u62e5\u6709\u8005\uff1a";TextTable.t_Petclothes_tips3="\u5957  \u88c5\uff1a";TextTable.t_Petclothes_txt1="\u62bd\u4e00\u6b21";
TextTable.t_Petclothes_txt2="\u62bd\u4e94\u6b21";TextTable.t_Petclothes_txt3="\u518d\u62bd\u4e00\u6b21";TextTable.t_Petclothes_txt4="\u518d\u62bd\u4e94\u6b21";TextTable.t_Petclothes_txt5="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u518d\u62bd\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e {num} \x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u6b21\u5fc5\u5f97 \x3c/b\x3e\x3cs size\x3d#30\x3eico_equip_star.png\x3c/s\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e x 4 \x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u65f6\u88c5\u3002\x3c/b\x3e";
TextTable.t_Petclothes_txt6="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u672c\u6b21\u62bd\u53d6\uff0c\u5fc5\u5f97 \x3c/b\x3e\x3cs size\x3d#30\x3eico_equip_star.png\x3c/s\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e x 4 \x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u65f6\u88c5\u3002\x3c/b\x3e";TextTable.t_Petclothes_txt7="\u8d2d\u4e70\u94c3\u94db\u53c2\u4e0e\u626d\u86cb\u673a\u6d3b\u52a8\uff0c\u5c31\u6709\u673a\u4f1a\u83b7\u5f97\u5ba0\u7269\u65f6\u88c5\u5566~";TextTable.t_Petclothes_txt8="\u626d\u86cb\u5361\u53ef\u8d2d\u4e70\u6b21\u6570\u4e0d\u8db3{num}\u6b21";
TextTable.t_Petclothes_txt9="\u8d2d\u4e70\u94c3\u94db\u8fd8\u53ef\u83b7\u5f97 \uff1a";TextTable.t_Petclothes_tips4="\u514d\u8d39\u62bd";TextTable.t_Petclothes_tips5="\u5956\u52b1\u4e00\u89c8";TextTable.t_Petclothes_tips6="\u518d\u62bd{num}\u6b21\u5fc5\u5f97\u4e09\u661f\u65f6\u88c5";TextTable.t_Petclothes_tips7="\u53ea\u53ef\u9009\u62e9\u4e00\u4f4d\u597d\u53cb";TextTable.t_Petclothes_tips8="\u8bf7\u9009\u62e9\u8981\u8d60\u9001\u7684\u597d\u53cb";TextTable.t_Petclothes_tips9="\u91cd\u590d\u7684\u65f6\u88c5\u53ef\u8d60\u9001\u597d\u53cb\u6216\u81ea\u52a8\u5206\u89e3\u6210\u94c3\u94db\uff0c\u94c3\u94db\u53ef\u4ee5\u5151\u6362\u5ba0\u7269\u65f6\u88c5\u54e6~";
TextTable.t_Petclothes_tips10="\u5df2\u62e5\u6709";TextTable.t_Outfitskill_30101="\u5173\u5361\u6b65\u6570\uff1a+1";TextTable.t_Outfitskill_30201="\u6280\u80fd\u8303\u56f4\uff1a+1";TextTable.t_Outfitskill_30301="\u6280\u80fd\u8303\u56f4\uff1a+1";TextTable.t_Outfitskill_30401="\u6280\u80fd\u5206\u6570\uff1a+50%";TextTable.t_Outfitskill_30501="\u6280\u80fd\u8303\u56f4\uff1a+1";TextTable.t_Petclothes_301102="\u9ad8\u793c\u5e3d";TextTable.t_Petclothes_301202="\u71d5\u5c3e\u670d";
TextTable.t_Petclothes_301302="\u7ea2\u5b9d\u77f3\u6212\u6307";TextTable.t_Petclothes_301402="\u5355\u7247\u773c\u955c";TextTable.t_Petclothes_302101="\u821e\u5973\u9762\u7eb1";TextTable.t_Petclothes_302201="\u8f7b\u821e\u8584\u7eb1";TextTable.t_Petclothes_302301="\u6d77\u6d0b\u4e4b\u661f";TextTable.t_Petclothes_302401="\u59b2\u7c73\u5a1c\u4e4b\u6cea";TextTable.t_Petclothes_303101="\u6c14\u8d28\u5c0f\u9ed1\u5e3d";TextTable.t_Petclothes_303201="\u5b9a\u5236\u5236\u670d";
TextTable.t_Petclothes_303301="\u4fcf\u4e3d\u9ed1\u76ae\u978b";TextTable.t_Petclothes_303401="\u77e5\u6027\u773c\u955c";TextTable.t_Petclothes_304101="\u6d77\u6ee9\u5e3d";TextTable.t_Petclothes_304201="\u590f\u65e5\u82b1\u886c\u886b";TextTable.t_Petclothes_304301="\u7c89\u7ea2\u62d6";TextTable.t_Petclothes_304401="\u98ce\u60c5\u82b1\u73af";TextTable.t_Petclothes_305101="\u6c27\u6c14\u9762\u7f69";TextTable.t_Petclothes_305201="\u5b87\u822a\u670d";TextTable.t_Petclothes_305301="\u592a\u7a7a\u9774";
TextTable.t_Petclothes_305401="\u55b7\u6c14\u80cc\u56ca";TextTable.t_Petclothes_301103="\u91d1\u9f9f\u5b50\u5c0f\u5e3d";TextTable.t_Petclothes_301107="\u5370\u7b2c\u5b89\u5934\u9970";TextTable.t_Petclothes_301105="\u871c\u8702\u5c0f\u5e3d";TextTable.t_Petclothes_301206="\u8d35\u65cf\u738b\u5b50";TextTable.t_Petclothes_301205="\u8702\u7eb9\u5916\u5957";TextTable.t_Petclothes_301406="\u73e0\u5b9d\u6743\u6756";TextTable.t_Petclothes_301403="\u91d1\u9f9f\u5b50\u7fc5\u8180";
TextTable.t_Petclothes_301407="\u517d\u7259\u9879\u94fe";TextTable.t_Petclothes_301405="\u871c\u8702\u8584\u7fc5";TextTable.t_Petclothes_302106="\u5e78\u8fd0\u5154\u8033";TextTable.t_Petclothes_302406="\u8774\u8776\u7ed3";TextTable.t_Petclothes_304102="\u74dc\u76ae\u5e3d";TextTable.t_Petclothes_304202="\u9a6c\u8902";TextTable.t_Petclothes_304402="\u72d7\u76ae\u818f\u836f";TextTable.t_Petclothes_305102="\u88d8\u76ae\u515c\u5e3d";TextTable.t_Petclothes_305202="\u88d8\u76ae\u5927\u8863";
TextTable.t_Petclothes_301104="\u9752\u86d9\u5934\u5957";TextTable.t_Petclothes_301304="\u9752\u86d9\u811a\u8e7c";TextTable.t_Petclothes_302102="\u6e38\u4fa0\u8f6f\u5e3d";TextTable.t_Petclothes_302103="\u5deb\u5e08\u5e3d";TextTable.t_Petclothes_302202="\u7f8a\u7ed2\u6597\u7bf7";TextTable.t_Petclothes_302203="\u5deb\u5e08\u6597\u7bf7";TextTable.t_Petclothes_302403="\u626b\u5e1a";TextTable.t_Petclothes_304304="\u624b\u94a9";TextTable.t_Petclothes_304404="\u72ec\u773c\u7f69";
TextTable.t_Petclothes_304403="\u5e73\u5149\u955c";TextTable.t_Petclothes_304406="\u6c99\u6ee9\u592a\u9633\u955c";TextTable.t_Petclothes_301101="\u6c34\u5175\u5e3d";TextTable.t_Petclothes_301201="\u6c34\u5175\u670d";TextTable.t_Petclothes_302104="\u65e5\u5f0f\u53d1\u9afb";TextTable.t_Petclothes_302204="\u548c\u670d";TextTable.t_Petclothes_302405="\u5927\u5929\u4f7f\u7fc5\u8180";TextTable.t_Petclothes_304103="\u53f8\u6cd5\u5047\u53d1";TextTable.t_Petclothes_304203="\u6cd5\u5b98\u888d";
TextTable.t_Petclothes_301108="\u94f6\u8272\u957f\u53d1";TextTable.t_Petclothes_301208="\u9ed1\u8272\u6597\u7bf7";TextTable.t_Petclothes_301408="\u590d\u53e4\u773c\u955c";TextTable.t_Petclothes_303102="\u5706\u70b9\u53d1\u5361";TextTable.t_Petclothes_303202="\u5706\u70b9\u8fde\u8863\u88d9";TextTable.t_Petclothes_303105="\u7ea2\u8272\u6bdb\u7ebf\u5e3d";TextTable.t_Petclothes_303205="\u98de\u884c\u5939\u514b";TextTable.t_Petclothes_303405="\u7231\u5fc3\u8138\u5986";TextTable.t_Petclothes_303106="\u4fa6\u63a2\u5e3d";
TextTable.t_Petclothes_303206="\u4fa6\u63a2\u6597\u7bf7";TextTable.t_Petclothes_303406="\u4fa6\u63a2\u70df\u6597";TextTable.t_Petclothes_304105="\u7761\u5e3d";TextTable.t_Petclothes_304205="\u7761\u8863";TextTable.t_Petclothes_303103="\u5c0f\u6076\u9b54\u89d2";TextTable.t_Petclothes_303403="\u5c0f\u6076\u9b54\u7fc5\u8180";TextTable.t_Petclothes_303203="\u5c0f\u6076\u9b54\u793c\u670d";TextTable.t_Petclothes_303404="\u70ab\u91d1\u58a8\u955c";TextTable.t_Petclothes_305104="\u7ea2\u8272\u68d2\u7403\u5e3d";
TextTable.t_Petclothes_305105="\u5723\u8bde\u9e7f\u89d2\u5e3d";TextTable.t_Petclothes_305204="\u84dd\u8272\u68d2\u7403\u886b";TextTable.t_Petclothes_305403="\u91d1\u4e1d\u5706\u773c\u955c";TextTable.t_Petclothes_305405="\u5723\u8bde\u9886\u7ed3";TextTable.t_Petclothes_305406="\u9ed1\u58a8\u955c";TextTable.t_Petclothes_301109="\u659c\u80cc\u5934";TextTable.t_Petclothes_301209="\u76ae\u9769\u9a6c\u7532";TextTable.t_Petclothes_301309="\u4eae\u76ae\u9774";TextTable.t_Petclothes_301409="\u80cc\u5f0f\u952e\u76d8";
TextTable.t_Petclothes_302107="\u9ed1\u8272\u793c\u5e3d";TextTable.t_Petclothes_302207="\u94c6\u9489\u5939\u514b";TextTable.t_Petclothes_302307="\u4eae\u76ae\u62a4\u624b";TextTable.t_Petclothes_302407="\u7ea2\u8272\u5409\u4ed6";TextTable.t_Petclothes_303107="\u857e\u4e1d\u51a0\u9970";TextTable.t_Petclothes_303207="\u6697\u591c\u5973\u738b";TextTable.t_Petclothes_303307="\u539a\u5e95\u9ad8\u8ddf\u978b";TextTable.t_Petclothes_303407="\u8760\u7ffc\u9ea6\u514b\u98ce";TextTable.t_Petclothes_303408="\u4e94\u8292\u661f\u773c\u5986";
TextTable.t_Petclothes_304107="\u94f6\u8272\u83ab\u897f\u5e72";TextTable.t_Petclothes_304207="\u670b\u514b\u5939\u514b";TextTable.t_Petclothes_304307="\u91d1\u5c5e\u62a4\u8155";TextTable.t_Petclothes_304407="\u67b6\u5b50\u9f13";TextTable.t_Petclothes_305107="\u9576\u94bb\u9ad8\u793c\u5e3d";TextTable.t_Petclothes_305207="\u65f6\u5c1a\u6559\u7236";TextTable.t_Petclothes_305307="\u9ed1\u8272\u6212\u6307";TextTable.t_Petclothes_305407="\u7ea2\u8272\u8d1d\u65af";TextTable.t_Petclothes_305408="\u9576\u94bb\u773c\u955c";
TextTable.t_Petclothes_304405="\u7761\u7720\u773c\u7f69";TextTable.t_Petclothes_303108="\u7ea2\u8272\u53d1\u5361";TextTable.t_Petclothes_305108="\u6e05\u723d\u536b\u8863\u5e3d";TextTable.t_Petclothes_301110="\u557e\u5df4\u5927\u8033\u5e3d";TextTable.t_Petclothes_301410="\u557e\u5df4\u7ea2\u9152\u7a9d";TextTable.t_Petclothes_301210="\u557e\u5df4\u957f\u8863";TextTable.t_Petclothes_301106="\u7687\u51a0";TextTable.t_Petclothes_305209="\u65e5\u5f0f\u7fbd\u7ec7";TextTable.t_Petclothes_305409="\u6728\u5c50";
TextTable.t_Petclothes_305208="\u84dd\u8272\u725b\u4ed4\u670d";TextTable.t_Petclothes_302408="\u8537\u8587\u5047\u9762";TextTable.t_Petclothes_302409="\u65e5\u5f0f\u7ef3\u7ed3";TextTable.t_Petclothes_303104="\u5723\u8bde\u5c0f\u793c\u5e3d";TextTable.t_Petclothes_303204="\u5723\u8bde\u9488\u7ec7\u6d0b\u88c5";TextTable.t_Petclothes_302110="\u5723\u8bde\u793c\u5e3d";TextTable.t_Petclothes_302210="\u5723\u8bde\u82b1\u88d9";TextTable.t_Petclothes_302310="\u5723\u8bde\u6bdb\u7403";
TextTable.t_Petclothes_305205="\u5723\u8bde\u7dd1\u8884";TextTable.t_Petclothes_304108="\u96ea\u4eba\u5934\u5957";TextTable.t_Petclothes_304208="\u96ea\u4eba\u5916\u5957";TextTable.t_Petclothes_304408="\u80e1\u841d\u535c\u9f3b";TextTable.t_Petclothes_301111="\u5723\u8bde\u6bdb\u7ebf\u5e3d";TextTable.t_Petclothes_301211="\u5723\u8bde\u82b1\u6bdb\u8863";TextTable.t_Petclothes_301411="\u96ea\u82b1\u773c\u955c";TextTable.t_Petclothes_303109="\u5929\u4f7f\u738b\u51a0";TextTable.t_Petclothes_303209="\u5929\u4f7f\u793c\u670d";
TextTable.t_Petclothes_303309="\u5929\u4f7f\u624b\u73af";TextTable.t_Petclothes_303409="\u5929\u4f7f\u4e4b\u7ffc";TextTable.t_Petdress_301106="\u53c2\u4e0e\u5220\u6863\u5c01\u6d4b\u73a9\u5bb6\u7684\u4e13\u5c5e\u88c5\u626e";TextTable.t_Petdress_301106_Pro="\u901a\u8fc7\u53c2\u4e0e\u5fae\u4fe1\u516c\u4f17\u53f7\u5185\u6d3b\u52a8\u83b7\u5f97";TextTable.t_Petdress_301406="\u53c2\u4e0e\u5220\u6863\u5c01\u6d4b\u73a9\u5bb6\u7684\u4e13\u5c5e\u88c5\u626e";TextTable.t_Petdress_301406_Pro="\u901a\u8fc7\u53c2\u4e0e\u5fae\u4fe1\u516c\u4f17\u53f7\u5185\u6d3b\u52a8\u83b7\u5f97";
TextTable.t_Prop_11001="\u52a05\u6b65";TextTable.t_Prop_Desc_11001="\u53ef\u589e\u52a0 5 \u6b65\u5269\u4f59\u6b65\u6570\uff0c\u53ea\u80fd\u5728\u6b65\u6570\u5c11\u4e8e 5 \u65f6\u4f7f\u7528\u3002";TextTable.t_Prop_11002="\u5f15\u7206\u5730\u683c";TextTable.t_Prop_Desc_11002="\u5c06\u5730\u56fe\u4e0a\u6240\u6709\u5e26\u7279\u6548\u7684\u5730\u683c\u5f15\u7206\uff0c\u6bcf\u5c40\u9650\u7528 {limit} \u6b21\u3002";TextTable.t_Prop_11003="\u5341\u5b57\u7279\u6548";TextTable.t_Prop_Desc_11003="\u5728\u6307\u5b9a\u7684\u4f4d\u7f6e\u89e6\u53d1\u4e00\u6b21\u5341\u5b57\u7206\u70b8\uff0c\u6bcf\u5c40\u9650\u7528 {limit} \u6b21\u3002";
TextTable.t_Prop_11004="\u533a\u57df\u7279\u6548";TextTable.t_Prop_Desc_11004="\u5728\u6307\u5b9a\u7684\u4f4d\u7f6e\u89e6\u53d1\u4e00\u6b21\u8303\u56f4\u7206\u70b8\uff0c\u6bcf\u5c40\u9650\u7528 {limit} \u6b21\u3002";TextTable.t_Prop_11005="\u7ecf\u9a8c\u5976\u7cd6";TextTable.t_Prop_Desc_11005="\u4e3a\u5ba0\u7269\u589e\u52a0 200 \u70b9\u7ecf\u9a8c\u3002";TextTable.t_Prop_11006="\u7ecf\u9a8c\u5976\u7cd6\u5305";TextTable.t_Prop_Desc_11006="\u4e3a\u5ba0\u7269\u589e\u52a0 1000 \u70b9\u7ecf\u9a8c\u3002";
TextTable.t_Prop_11007="\u52a03\u6b65";TextTable.t_Prop_Desc_11007="\u6e38\u620f\u5f00\u59cb\u65f6\uff0c\u4e3a\u60a8\u589e\u52a0 3 \u6b65\uff0c\u5f53\u5c40\u6709\u6548\u3002";TextTable.t_Prop_11008="\u5f69\u8679\u7279\u6548";TextTable.t_Prop_Desc_11008="\u6e38\u620f\u5f00\u59cb\u65f6\uff0c\u4e3a\u60a8\u589e\u52a0 2 \u4e2a\u5f69\u8679\u5730\u683c\uff0c\u5f53\u5c40\u6709\u6548\u3002";TextTable.t_Prop_11012="\u4efb\u610f\u4ea4\u6362";TextTable.t_Prop_Desc_11012="\u53ef\u4ee5\u8fdb\u884c\u4e00\u6b21\u4e0d\u53d7\u4efb\u4f55\u9650\u5236\u7684\u4ea4\u6362\uff0c\u6bcf\u5c40\u9650\u7528 {limit} \u6b21\u3002";
TextTable.t_Prop_11009="\u521d\u7ea7\u4f53\u529b\u74f6";TextTable.t_Prop_Desc_11009="\u6062\u590d 1 \u70b9\u4f53\u529b\u3002";TextTable.t_Prop_11010="\u4e2d\u7ea7\u4f53\u529b\u74f6";TextTable.t_Prop_Desc_11010="\u6062\u590d 3 \u70b9\u4f53\u529b\u3002";TextTable.t_Prop_11011="\u9ad8\u7ea7\u4f53\u529b\u74f6";TextTable.t_Prop_Desc_11011="\u6062\u590d 15 \u70b9\u4f53\u529b\u3002";TextTable.t_Prop_1="\u94bb\u77f3";TextTable.t_Prop_Desc_1="\u83b7\u5f97 {amount} \u94bb\u77f3\u3002";TextTable.t_Prop_2="\u91d1\u5e01";
TextTable.t_Prop_Desc_2="\u83b7\u5f97 {amount} \u91d1\u5e01\u3002";TextTable.t_Prop_3="\u4f53\u529b";TextTable.t_Prop_Desc_3="\u83b7\u5f97 {amount} \u4f53\u529b\u3002";TextTable.t_Prop_6="\u5956\u7ae0";TextTable.t_Prop_Desc_6="\u83b7\u5f97 {amount} \u5956\u7ae0\u3002";TextTable.t_Prop_7="\u661f\u661f";TextTable.t_Prop_Desc_7="\u83b7\u5f97 {amount} \u661f\u661f\u3002";TextTable.t_Prop_11="\u94c3\u94db";TextTable.t_Prop_Desc_11="\u7528\u4e8e\u89e3\u9501\u5ba0\u7269\u88c5\u626e";
TextTable.t_Prop_12="\u7206\u7c73\u82b1";TextTable.t_Prop_Desc_12="\u83b7\u5f97 {amount} \u7206\u7c73\u82b1\u3002";TextTable.t_Prop_14="\u9910\u8f66";TextTable.t_Prop_Desc_14="\u83b7\u5f97 {amount} \u9910\u8f66\u3002";TextTable.t_Prop_15="\u626d\u86cb\u5361";TextTable.t_Prop_Desc_15="\u7528\u4e8e\u626d\u86cb\u673a\u62bd\u5956";TextTable.t_Prop_MaxTime_Tips="\u672c\u5c40\u5df2\u8fbe\u4f7f\u7528\u4e0a\u9650\u3002";TextTable.t_PropStart_Tips="\u9009\u62e9\u4f7f\u7528\u7684\u9053\u5177\u4f1a\u5728\u5f00\u59cb\u5173\u5361\u540e\u7acb\u5373\u751f\u6548\uff0c\u4ec5\u9650\u5f53\u5c40\u4f7f\u7528\u5462\u3002";
TextTable.t_PropUnlock="{name}\u7b2c{level}\u5173\u89e3\u9501\u54e6~";TextTable.t_Friend_Button1="\u67e5\u627e\u73a9\u5bb6";TextTable.t_Friend_Button2="\u5220\u9664\u597d\u53cb";TextTable.t_Friend_Button3="\u786e\u5b9a\u5220\u9664";TextTable.t_Friend_Recommend_Button="\u5237\u65b0";TextTable.t_Friend_Title1="\u63a8\u8350\u597d\u53cb";TextTable.t_Friend_Title2="\u6e38\u620f\u8d26\u53f7";TextTable.t_Friend_Title3="\u4e8c\u7ef4\u7801";TextTable.t_Friend_ID_Button1="\u6dfb\u52a0";
TextTable.t_Friend_ID_Button2="\u590d\u5236";TextTable.t_Friend_ID_Tip1="\u70b9\u51fb\u6309\u94ae\u53ef\u4ee5\u590d\u5236\u4f60\u7684\u8d26\u53f7~~";TextTable.t_Friend_ID_Tip2="\u8f93\u5165\u5bf9\u65b9\u6e38\u620f\u8d26\u53f7";TextTable.t_Friend_ID_Tip3="\u4f60\u7684\u8d26\u53f7\uff1a";TextTable.t_Friend_ID_Tip3="\u586b\u5199\u8d26\u53f7\u8fdb\u884c\u641c\u7d22\uff0c\u5373\u53ef\u6dfb\u52a0\u6307\u5b9a\u7528\u6237\u4e3a\u597d\u53cb\u5566\u3002";TextTable.t_Friend_QR_Button1="\u626b\u4e00\u626b";
TextTable.t_Friend_QR_Button2="\u5206\u4eab\u4e8c\u7ef4\u7801";TextTable.t_addFriendSuccess="\u53d1\u9001\u597d\u53cb\u8bf7\u6c42\u6210\u529f\uff01";TextTable.t_Friend_QRcode_txt1="\u8bf7\u5c06\u4e8c\u7ef4\u7801\u653e\u5165\u4e0a\u65b9\u7684\u77e9\u5f62\u6846\u5185";TextTable.t_Friend_add_all="\u5168\u90e8\u6dfb\u52a0";TextTable.t_FriendEnergy_Tips="\u4f53\u529b\u5df2\u53d1\u9001";TextTable.t_topEnergyMessage1_tips="\u662f\u5426\u7acb\u5373\u901a\u77e5\u4ed6\uff08\u5979\uff09\uff1f";
TextTable.t_topEnergyMessage2_tips="\u4eca\u65e5\u4e0d\u518d\u63d0\u793a";TextTable.t_topEnergyall_tips="\u5df2\u7ecf\u5168\u90e8\u9001\u8fc7\u4e86\uff0c\u8fc7\u4f1a\u513f\u518d\u6765\u54e6\uff01";TextTable.t_topEnergy_tips="\u521a\u521a\u9001\u8fc7\uff0c\u8fc7\u4f1a\u518d\u6765\u54e6\uff01";TextTable.t_topFriendRequestQQ_txt="\u5141\u8bb8\u6e38\u620f\u5185\u52a0QQ\u597d\u53cb";TextTable.t_tophelp1_txt="1\u3001\u597d\u53cb\u5217\u8868\u7684\u6392\u540d\u6839\u636e\u73a9\u5bb6\u5f53\u524d\u7684\u6700\u9ad8\u5173\u5361\u6570\u8fdb\u884c\u6392\u5217\u3002\u901a\u5173\u8d8a\u591a\u6392\u540d\u8d8a\u9760\u524d\u3002";
TextTable.t_tophelp2_txt="2\u3001\u5f53\u73a9\u5bb6\u6700\u9ad8\u5173\u5361\u6570\u76f8\u540c\u65f6\uff0c\u83b7\u5f97\u661f\u661f\u6570\u8d8a\u9ad8\u6392\u540d\u8d8a\u9760\u524d\u3002";TextTable.t_tophelp3_txt="3\u3001\u5f53\u901a\u5173\u6570\u76f8\u540c\u3001\u661f\u661f\u603b\u6570\u76f8\u540c\u65f6\uff0c\u6839\u636e\u73a9\u5bb6\u8fbe\u5230\u7684\u65f6\u95f4\u5148\u540e\u8fdb\u884c\u5224\u5b9a\u3002";TextTable.t_tophelp4_txt="4\u3001\u6bcf24\u4e2a\u5c0f\u65f6\u53ef\u8d60\u9001\u597d\u53cb\u4f53\u529b\u3002";
TextTable.t_tophelp5QQ_txt="5\u3001\u73a9\u5bb6\u53ef\u63a7\u5236\u201c\u5141\u8bb8\u6e38\u620f\u5185\u52a0QQ\u597d\u53cb\u201d\u5f00\u5173\u51b3\u5b9a\u662f\u5426\u8ba9\u5176\u4ed6\u6e38\u620f\u597d\u53cb\u53ef\u4ee5\u52a0QQ\u597d\u53cb\u3002";TextTable.t_topAddfriendsMycodeQQ_txt="\u6211\u7684\u4e8c\u7ef4\u7801\uff1a";TextTable.t_topAddfriendsMyID_txt="\u6211\u7684\u8d26\u53f7\uff1a{num}";TextTable.t_topAddfriendsInput_tips="\u8bf7\u8f93\u5165\u5bf9\u65b9\u7684\u6e38\u620f\u8d26\u53f7";
TextTable.t_topCardMedal1_tips="\u5956\u7ae0";TextTable.t_topCardMedal2_tips="\u4efb\u610f\u5173\u5361\u5f97\u5206\u4fdd\u6301\u5168\u56fd\u6392\u884c10000\u4ee5\u5185\u5c31\u53ef\u83b7\u5f97\u54e6\uff01";TextTable.t_topCardLevel_titel="\u6700\u9ad8\u5173\u5361";TextTable.t_topCardMedalStar_title="\u661f\u661f\u603b\u6570";TextTable.t_topCardHintQQ_tips="\u5bf9\u65b9\u5df2\u5173\u95ed\u6b64\u529f\u80fd";TextTable.t_topCardAchievement_title="\u6210\u5c31\u70b9\u6570\uff1a";
TextTable.t_topTotalProgress_title="\u603b\u8fdb\u5ea6\uff1a";TextTable.t_topCardPraise_title="\u70b9\u8d5e\uff1a";TextTable.t_topWorldMy_title="\u6211\u7684\u6392\u884c\uff1a";TextTable.t_topWorldMyMedal_title="\u6211\u7684\u5956\u7ae0\uff1a";TextTable.t_achievementReward="\u5956\u52b1\uff1a";TextTable.t_achievementNeed="\u9700\u5b8c\u6210\u4e0b\u5217\u6210\u5c31\uff1a";TextTable.t_itemSourceGet='\u901a\u8fc7\u6210\u5c31"{name}"\u83b7\u5f97';TextTable.t_kitchenCar="\u9910\u8f66\uff1a";
TextTable.t_topWorldHelp1_txt="1\u3001\u5168\u56fd\u6392\u884c\u6839\u636e\u73a9\u5bb6\u83b7\u5f97\u7684\u5956\u7ae0\u6570\u8fdb\u884c\u6392\u540d\uff0c\u5956\u7ae0\u8d8a\u591a\u6392\u540d\u8d8a\u9760\u524d\u3002";TextTable.t_topWorldHelp2_txt="2\u3001\u5f53\u73a9\u5bb6\u4efb\u4e00\u5173\u5361\u5168\u56fd\u6392\u884c\u8fdb\u5165{num}\u540d\u4ee5\u5185\u4f1a\u83b7\u5f97\u4e00\u5b9a\u6570\u91cf\u7684\u5956\u7ae0\uff0c\u4ee5\u5956\u7ae0\u6570\u91cf\u8fdb\u884c\u73a9\u5bb6\u6392\u884c\u3002";
TextTable.t_topWorldHelp3_txt="3\u3001\u5982\u679c\u5956\u7ae0\u6570\u76f8\u540c\u5219\u4ee5\u8fbe\u5230\u7684\u65f6\u95f4\u5148\u540e\u987a\u5e8f\u6392\u540d\u3002";TextTable.t_topEnergyFriendAPP_btn="\u6682\u65f6\u8fd8\u6ca1\u6709\u66f4\u591a\u597d\u53cb\u54e6\uff01";TextTable.t_topAddfriendsMycodeAPP_txt="\u6211\u7684\u5c0f\u6e38\u620f\u7801\uff1a";TextTable.t_topLocationAPP_title="\u5f53\u524d\u4f4d\u7f6e\uff1a";TextTable.t_topLocationMytopAPP_txt="\u6211\u7684\u6392\u540d\uff1a";
TextTable.t_topLocationRequestAPP_txt="\u662f\u5426\u5141\u8bb8\u83b7\u53d6\u4f60\u7684\u5730\u7406\u4f4d\u7f6e\uff1f";TextTable.t_topLocationHelp1_txt="1\u3001\u5168\u56fd\u53a8\u795e\u699c\u6839\u636e\u73a9\u5bb6\u83b7\u5f97\u7684\u5956\u7ae0\u6570\u8fdb\u884c\u6392\u540d\uff0c\u5956\u7ae0\u8d8a\u591a\u6392\u540d\u8d8a\u9760\u524d\u3002";TextTable.t_topLocationHelp2_txt="2\u3001\u5f53\u73a9\u5bb6\u4efb\u610f\u5173\u5361\u5168\u56fd\u6392\u884c\u8fdb\u516510000\u540d\u4ee5\u5185\u4f1a\u83b7\u5f97\u4e00\u5b9a\u6570\u91cf\u7684\u5956\u7ae0\uff0c\u4ee5\u5956\u7ae0\u6570\u91cf\u8fdb\u884c\u73a9\u5bb6\u6392\u884c\u3002\u968f\u7740\u5956\u7ae0\u7684\u589e\u52a0\u6392\u540d\u4e5f\u4f1a\u589e\u52a0\u3002";
TextTable.t_topLocationHelp3_txt="3\u3001\u5982\u679c\u6392\u540d\u8dcc\u51fa\u7b2c1\u30012\u30013\u3001200\u30011000\u30015000\u300110000\u540d\u65f6\uff0c\u5956\u7ae0\u6570\u91cf\u4e5f\u4f1a\u51cf\u5c11\u3002\u8981\u4e0d\u65ad\u52aa\u529b\u4fdd\u6301\u81ea\u5df1\u7684\u6392\u540d\u54e6\uff01";TextTable.t_topLocationHelp4_txt="4\u3001\u699c\u5355\u4f1a\u5468\u671f\u8fdb\u884c\u66f4\u65b0\uff0c\u6240\u4ee5\u540d\u6b21\u7684\u53d8\u5316\u9700\u8981\u8010\u5fc3\u7b49\u5f85\u4e00\u6bb5\u65f6\u95f4\u522b\u4eba\u624d\u80fd\u770b\u5230\u54e6\uff01";
TextTable.t_topLocationHelp5APP_txt="5\u3001\u968f\u65f6\u53ef\u70b9\u51fb\u201c\u6e05\u9664\u4f4d\u7f6e\u4fe1\u606f\u201d\u5173\u95ed\u6211\u7684\u4f4d\u7f6e\u6570\u636e\uff0c\u5176\u4ed6\u73a9\u5bb6\u4e0d\u53ef\u67e5\u770b\u6211\u7684\u6570\u636e\u4fe1\u606f\u3002";TextTable.t_topAddfriendsInputdata_txt="\u5feb\u9080\u8bf7\u4f60\u7684\u597d\u53cb\u52a0\u5165\u5427\uff01";TextTable.t_topNoUser_tips="\u5168\u56fd\u6392\u884c\u6682\u65f6\u8fd8\u6ca1\u6709\u66f4\u65b0\u6570\u636e\u54e6~";
TextTable.t_topLevelGuide1_txt="\x3cb size\x3d#26 color\x3d#3c6b76\x3e        \u6b22\u8fce\u5927\u5bb6\u6765\u5230\u6b22\u4e50\u53a8\u795e\u699c\uff01\u8fd9\u91cc\u805a\u96c6\u4e86\u4e16\u754c\u4e0a\u6700\u4f18\u79c0\u7684\u53a8\u5e08\uff01\n        \u8fdb\u5165\u4e07\u4eba\u77a9\u76ee\u7684\u8363\u8a89\u699c\u5355\u662f\u6bcf\u4e2a\u53a8\u5e08\u68a6\u5bd0\u4ee5\u6c42\u7684\u68a6\u60f3\uff01\x3c/b\x3e";TextTable.t_topLevelGuide4_txt="\x3cb size\x3d#26 color\x3d#3c6b76\x3e        \u6839\u636e\u6bcf\u5173\u7684\u8868\u73b0\u8fdb\u5165\u524d10000\u540d\u5c31\u4f1a\u83b7\u5f97\u4e0d\u540c\u6570\u91cf\u7684\u5956\u7ae0\uff01\n        \u5f53\u7136\uff0c\u5df2\u83b7\u5f97\u7684\u5956\u7ae0\u4e5f\u53ef\u80fd\u4f1a\u88ab\u66f4\u4f18\u79c0\u7684\u53a8\u5e08\u62a2\u8d70\u54e6\uff01\x3c/b\x3e";
TextTable.t_topLevelGuide6_txt="......\u5feb\u6765\u770b\u770b\u4f60\u7684\u6392\u540d\u5427";TextTable.t_topLevelGuide7_tips="\u70b9\u51fb\u53ef\u4e86\u89e3\u66f4\u591a\u6392\u884c\u89c4\u5219\u54e6\uff01";TextTable.t_Email_InvitedFriend="\u597d\u53cb\u6d88\u606f";TextTable.t_Email_Message="\u7cfb\u7edf\u901a\u77e5";TextTable.t_Email_Unlock="\u89e3\u9501\u8bf7\u6c42";TextTable.t_Email_Nullintited="\u76ee\u524d\u8fd8\u6ca1\u6709\u597d\u53cb\u9080\u8bf7\u54e6~";TextTable.t_Email_Nullmessage="\u76ee\u524d\u8fd8\u6ca1\u6709\u4efb\u4f55\u6d88\u606f\u54e6~";
TextTable.t_Email_Nullnotice="\u76ee\u524d\u6ca1\u6709\u6700\u65b0\u516c\u544a\u54e6~";TextTable.t_Email_Helpenergy="\u4e92\u9001\u4f53\u529b\u95ef\u96be\u5173";TextTable.t_Email_Helpeunlock="\u5e2e\u5fd9\u89e3\u9501\u65b0\u5173\u5361";TextTable.t_Email_Button_Refuse="\u5ffd\u7565";TextTable.t_Email_Button_Agree="\u540c\u610f";TextTable.t_Email_Button_RefuseAll="\u5168\u90e8\u5ffd\u7565";TextTable.t_Email_Button_Allagree="\u5168\u90e8\u540c\u610f";TextTable.t_Email_Message_Energy1="\u9001\u6211\u4e00\u4e2a\u521d\u7ea7\u4f53\u529b\u74f6\u597d\u561b\uff01";
TextTable.t_Email_Message_Energy2="\u9001\u4f60\u4e00\u4e2a\u521d\u7ea7\u4f53\u529b\u74f6\uff0c\u52a0\u6cb9\u5594\uff01";TextTable.t_Email_Message_Friend="\u53ef\u4ee5\u966a\u4f60\u4e00\u8d77\u95ef\u5173\u5417\uff1f";TextTable.t_Email_Message_Unlock="\u5361\u5728 {level} \u5173\u5566,\u5e2e\u6211\u89e3\u9501\u65b0\u5173\u5361\u597d\u561b\uff01";TextTable.t_Email_Message_Refused="\u5df2\u5ffd\u7565";TextTable.t_Email_Message_Max="\u4eca\u65e5\u8fd8\u53ef\u9001\u51fa %d \u4e2a";
TextTable.t_Email_Message_Tips1="\u6709 {cur} \u4e2a\u597d\u53cb\u5411\u60a8\u9700\u6c42\u521d\u7ea7\u4f53\u529b\u74f6\uff0c\u6bcf\u65e5\u6700\u591a\u9001\u51fa {max} \u4e2a\u4f53\u529b\u74f6\uff0c\u6309\u9ed8\u8ba4\u987a\u5e8f\u5e2e\u60a8\u9001\u51fa\u5566\uff01";TextTable.t_Email_Message_Tips2="\u6bcf\u5929\u53ea\u80fd\u6536\u53d6 {amount} \u4e2a\u4f53\u529b\u74f6\u54e6\uff0c\u660e\u5929\u518d\u9886\u53d6\u5427\uff01";TextTable.t_Email_Message_Tips3="\u6bcf\u5929\u53ea\u80fd\u9001\u51fa {amount} \u4e2a\u4f53\u529b\u74f6\u54e6\uff0c\u660e\u5929\u518d\u9001\u5427\uff01";
TextTable.t_Email_Message_FrienNull="\u4e00\u4e2a\u4eba\u95ef\u5173\u592a\u5bc2\u5bde\uff1f\u6dfb\u52a0\u597d\u53cb\uff0c\u4e00\u8d77\u73a9\u800d\uff01";TextTable.t_Email_Send_Energy_Already="\u8bf7\u6c42\u5df2\u7ecf\u53d1\u9001\uff01";TextTable.t_Email_SendInvitation="\u53d1\u9001\u9080\u8bf7";TextTable.t_CopyID="\u6e38\u620f\u8d26\u53f7\u5df2\u590d\u5236";TextTable.t_EmailTips_txt1="\u4f53\u529b\u5df2\u53d1\u9001\uff01\u662f\u5426\u544a\u8bc9\u4ed6\uff1f";TextTable.t_EmailTips_txt2="\u4eca\u65e5\u4e0d\u518d\u544a\u8bc9\u6240\u6709\u4eba\uff01";
TextTable.t_EmailTips_txt3="\u4f53\u529b\u5df2\u9886\u53d6\uff01\u662f\u5426\u56de\u8d60\u5e76\u544a\u8bc9\u4ed6\uff1f";TextTable.t_EmailFriend_test1="{name}\u53d1\u73b0\u4e86\u4e00\u4e2a\u9650\u65f6\u5173\u5361\uff0c\u4e00\u8d77\u901a\u5173\u9886\u5927\u5956\u5427\uff01";TextTable.t_EmailFriend_test2="{name}\u53ef\u4ee5\u966a\u60a8\u4e00\u8d77\u95ef\u5173\u5417\uff1f";TextTable.t_EmailFriend_test3="{name}\u53ca{num}\u4f4d\u597d\u53cb\u8bf7\u6c42\u60a8\u5e2e\u52a9\u89e3\u9501\u65b0\u5173\u5361\u5566~";
TextTable.t_EmailFriend_test3_1="{name}\u8bf7\u6c42\u60a8\u5e2e\u52a9\u89e3\u9501\u65b0\u5173\u5361\u5566~";TextTable.t_EmailFriend_test4="{name}\u53ca{num1}\u4f4d\u597d\u53cb\u9700\u8981{num2}\u4e2a{item}\uff0c\u62dc\u6258\u4e86\uff01";TextTable.t_EmailFriend_test4_1="{name}\u9700\u8981{num2}\u4e2a{item}\uff0c\u62dc\u6258\u4e86\uff01";TextTable.t_EmailFriend_test5="{name}\u53ca{num1}\u4f4d\u597d\u53cb\u9001\u60a8{num2}\u4e2a{item}\uff0c\u52a0\u6cb9\u54e6\uff01";TextTable.t_EmailFriend_test5_1="{name}\u9001\u60a8{num2}\u4e2a{item}\uff0c\u52a0\u6cb9\u54e6\uff01";
TextTable.t_EmailFriend_test6="{name}\u53ca{num1}\u4f4d\u597d\u53cb\u9700\u8981\u60a8\u7684\u5e2e\u52a9\u542f\u52a8\u5927\u8f6c\u76d8\uff0c\u62dc\u6258\u4e86\uff01";TextTable.t_EmailFriend_test6_1="{name}\u9700\u8981\u60a8\u7684\u5e2e\u52a9\u542f\u52a8\u5927\u8f6c\u76d8\uff0c\u62dc\u6258\u4e86\uff01";TextTable.t_EmailType_title1="\u597d\u53cb\u6d88\u606f";TextTable.t_EmailType_title2="\u7cfb\u7edf\u90ae\u4ef6";TextTable.t_EmailType_title3="\u5b98\u65b9\u516c\u544a";TextTable.t_EmailFriend_test7="\u60a8\u5df2\u63a5\u53d7{name}\u9080\u8bf7\uff0c\u5feb\u53bb\u9886\u53d6\u4ed6\u9001\u60a8\u7684\u5956\u52b1\u5427\uff01";
TextTable.t_EmailSystem_test1="\u611f\u8c22\u60a8\u53c2\u52a0{name}\uff0c\u8fd9\u662f\u60a8\u8d62\u53d6\u7684{name}\u5956\u52b1\u5566\uff01";TextTable.t_EmailSystem_test2="\u670d\u52a1\u5668\u5b95\u673a\u8865\u507f\uff0c\u7ed9\u60a8\u6dfb\u9ebb\u70e6\u4e86\uff0c\u5bf9\u4e0d\u8d77~";TextTable.t_TimeLevel_text_27="\u672c\u6b21\u9650\u65f6\u5173\u5361\u5956\u52b1\uff0c\u8bf7\u6536\u53d6~";TextTable.t_TimeLevel="\u9650\u65f6\u5173\u5361";TextTable.t_TimeLevelTip="\u5feb\u53bb\u95ef\u5173\u5c31\u6709\u673a\u4f1a\u5f00\u542f\u9650\u65f6\u5956\u52b1\u5173\u5361~";
TextTable.t_ActivityCloseTip="\u6d3b\u52a8\u6682\u672a\u5f00\u542f\u54e6~";TextTable.t_EmailTips_txt4="\u6e29\u99a8\u63d0\u793a\uff1a\u6d88\u606f\u6700\u591a\u4fdd\u75597\u5929\uff0c\u8bf7\u53ca\u65f6\u67e5\u6536~";TextTable.t_Shop_Package="\u5305\u542b\u9053\u5177";TextTable.t_Shop_Tab_Gem="\u94bb\u77f3";TextTable.t_Shop_Tab_Item="\u9053\u5177";TextTable.t_Shop_Tab_Pack="\u793c\u5305";TextTable.t_Shop_My_Cur_Gem="\u6211\u7684\u94bb\u77f3";TextTable.t_Shop_Extra_Gem="\u9001";
TextTable.t_Shop_Limit_Life="\u9650\u8d2d {num} \u6b21";TextTable.t_Shop_Limit_Daily="\u6bcf\u65e5 {num} \u6b21";TextTable.t_Shop_Limit_Time="\u5269\u4f59";TextTable.t_Shop_Btn_Buy="\u8d2d\u4e70";TextTable.t_Shop_BuySuccess="\u8d2d\u4e70\u6210\u529f";TextTable.t_Shop_BuyFail="\u8d2d\u4e70\u5931\u8d25";TextTable.t_Shop_MonthPack="\u606d\u559c\u4f60\u9886\u53d6\u4e86\u4eca\u65e5\u4f18\u60e0\u6708\u5361\u5305\u7684\u5956\u52b1\u3002";TextTable.t_Shop_Thomas="\u6211\u8981\u6362\u4ef6\u65b0\u8863\u670d\u5566~\u6765\u5e2e\u4eba\u5bb6\u9009\u4e00\u9009\u561b~";
TextTable.t_Shop_NoMoney="\u53bb\u5546\u5e97\u8865\u5145\u4e00\u4e9b\u94bb\u77f3\u5427~";TextTable.t_Shop_buyDiamond="     \u524d\u53bb\u8d2d\u4e70";TextTable.t_ADS_vungle_shop_btn1="\u514d\u8d39";TextTable.t_ADS_vungle_Daily_btn1="\u8865\u7b7e";TextTable.t_ADS_vungle_Moves_btn1="\u514d\u8d39";TextTable.t_Daily_Check="\u7b7e\u5230";TextTable.t_Daily_Fill_Check="\u8865\u7b7e";TextTable.t_sign_day="\u7b2c{num}\u5929";TextTable.t_DailyFill_tips="\u5f85\u8865\u7b7e";TextTable.t_getEnergy="\u7528\u4f53\u529b\u74f6\u8865\u5145\u4f53\u529b";
TextTable.t_fullEnergy="\u4f53\u529b\u5df2\u6ee1";TextTable.t_btnFullEnergy="\u8865\u6ee1\u4f53\u529b";TextTable.t_btnContinue="\u7ee7\u7eed\u6e38\u620f";TextTable.t_buyEnergy_1="\u4e4b\u540e";TextTable.t_buyEnergy_2="\u6062\u590d\u81f3";TextTable.t_buyEnergy_3="\u70b9\u4f53\u529b";TextTable.t_buyEnergy_4="Back to ";TextTable.t_buyEnergy_5=" Energy";TextTable.t_buyEnergy_6=" in ";TextTable.t_freeEnergy="\u514d\u8d39\u4f53\u529b";TextTable.t_Energy_buy_content="\u6211\u62e5\u6709\uff1a";
TextTable.t_energyShare="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u9996\u6b21\u9080\u8bf7\u597d\u53cb\uff0c\n\u53ef\u83b7\u5f97\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e {num} \x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u4e2a\u4e2d\u7ea7\u4f53\u529b\u74f6\u54e6\uff01\x3c/b\x3e";TextTable.t_energyMaxTip="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u6bcf\u5929\u6700\u591a\u53ef\u9886\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e {num} \x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u4efd\u793c\u7269\x3c/b\x3e";
TextTable.t_energyFreeTip="\u53d1\u9001\u8bf7\u6c42\u6bcf\u65e5\u989d\u5916\u9001";TextTable.t_energySelectFriend="\u8bf7\u9009\u62e9\u597d\u53cb";TextTable.t_energyNoFriend="\u76ee\u524d\u6ca1\u6709\u53ef\u4ee5\u9001\u4f60\u4f53\u529b\u7684\u597d\u53cb\u54e6\uff5e";TextTable.t_unlock_need_friend="\u53ea\u8981 3 \u4e2a\u597d\u53cb\u5e2e\u5fd9\u5c31\u53ef\u4ee5\u89e3\u9501\u65b0\u5173\u5361";TextTable.t_unlock_other="\u8fd8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u89e3\u9501";
TextTable.t_unlock_need_star="\x3cb size\x3d#26 color\x3d#ffffff\x3e\u83b7\u5f97\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f2b612\x3e {num} \x3c/b\x3e\x3cb size\x3d#26 color\x3d#ffffff\x3e\u9897\u661f\u661f\x3c/b\x3e";TextTable.t_unlock_btn_star="\u661f\u661f\u89e3\u9501";TextTable.t_unlock_btn_friend="\u597d\u53cb\u89e3\u9501";TextTable.t_unlock_btn_pay="\u7acb\u523b\u89e3\u9501";TextTable.t_unlock_next_level="\u4e0b\u4e00\u5173";TextTable.t_unlockNoFriend="\u76ee\u524d\u6ca1\u6709\u53ef\u4ee5\u4e3a\u60a8\u5173\u5361\u89e3\u9501\u7684\u597d\u53cb\u54e6\uff5e";
TextTable.t_star_task_tip="\x3cb size\x3d#22 color\x3d#3c6b76\x3e\u518d\u6536\u96c6\x3c/b\x3e\x3cb size\x3d#22 color\x3d#f27612\x3e {num} \x3c/b\x3e\x3cb size\x3d#22 color\x3d#3c6b76\x3e\u9897\u661f\u661f\uff0c\u5c31\u53ef\u4ee5\u9886\u53d6\uff1a\x3c/b\x3e";TextTable.t_star_task_finish="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u592a\u68d2\u4e86\uff01\u4f60\u5df2\u7ecf\u5b8c\u6210\u4e86\u4efb\u52a1\uff01\x3c/b\x3e";TextTable.t_star_task_finish_all="\u592a\u68d2\u4e86\uff01\u4f60\u5df2\u7ecf\u6536\u96c6\u4e86\u6240\u6709\u7684\u5956\u52b1\uff01";
TextTable.t_Invite_Reward_Title="\u9080\u8bf7\u597d\u53cb\u83b7\u5f97\u795e\u79d8\u5956\u52b1\uff01";TextTable.t_Invite_Reward_MY_ID="\u8d26\u53f7:";TextTable.t_Invite_Reward_Get_Reward="\u83b7\u53d6\u5956\u52b1";TextTable.t_Invite_Reward_Tips="\u6211\u7684\u9080\u8bf7\u4eba\uff1a";TextTable.t_Invite_Reward_Friend_List="\u60a8\u5df2\u9080\u8bf7\u7684\u73a9\u5bb6\uff1a";TextTable.t_Invite_Reward_60_Tips="\u4e00\u8d77\u6765\u73a9\u5427\uff0c\u5728\u9080\u8bf7\u5956\u52b1\u4e2d\u8f93\u5165\u6211\u7684\u8d26\u53f7\uff0c\u901a\u8fc760\u5173\u6211\u5c31\u53ef\u4ee5\u83b7\u5f97\u795e\u79d8\u5927\u5956\u5566\uff0c\u52a0\u6cb9\u52a0\u6cb9\uff0c\u5feb\u5e2e\u5e2e\u6211\u5427~";
TextTable.t_Invite_Reward_Above_60_Tips="\u606d\u559c\u4f60\u901a\u8fc7\u4e8660\u5173\uff0c\u6210\u4e3a\u4e86\u4e00\u4e2a\u6d88\u9664\u9ad8\u624b\uff01\u8ba9\u6211\u4eec\u4e00\u8d77\u95ef\u5173\uff0c\u5171\u540c\u52aa\u529b\u6210\u4e3a\u6d88\u9664\u5927\u5e08\u5427~";TextTable.t_Invite_Reward_Reward_Tips="\u60a8\u5728\u73a9\u5bb6\u7684\u9080\u8bf7\u4e0b\u52a0\u5165\u6e38\u620f\uff0c\u606d\u559c\u4f60\u83b7\u5f97\u4ee5\u4e0a\u5956\u52b1";TextTable.t_Invite_Reward_Message="{name}\u54cd\u5e94\u60a8\u7684\u53f7\u53ec\u52a0\u5165\u4e86\u6e38\u620f\uff0c\u606d\u559c\u60a8\u83b7\u5f97\u4e86\u9080\u8bf7\u5956\u52b1\uff01";
TextTable.t_Invite_Reward_60_Message="{name}\u5728\u60a8\u7684\u6089\u5fc3\u5173\u7167\u4e0b\u901a\u8fc7\u4e8660\u5173\uff0c\u606d\u559c\u60a8\u83b7\u5f97\u4e86\u5956\u52b1\uff01";TextTable.t_Invite_Reward_No_Reward_Message="{name}\u54cd\u5e94\u4e86\u60a8\u7684\u53f7\u53ec\u52a0\u5165\u4e86\u6e38\u620f\uff0c\u8bf7\u7ee7\u7eed\u9080\u8bf7\u597d\u53cb\u4e00\u8d77\u6765\u73a9\u5427~";TextTable.t_Invite_Reward_code="\u8bf7\u8f93\u5165\u8d26\u53f7";TextTable.t_InviteReward_tips1="* \u5f53\u6709\u597d\u53cb\u6536\u5230\u60a8\u7684\u9080\u8bf7\u5e76\u52a0\u5165\u6e38\u620f\u540e\uff0c\u60a8\u548c\u60a8\u7684\u597d\u53cb\u5747\u53ef\u968f\u673a\u62bd\u53d62\u4e2a\u9053\u5177\u4f5c\u4e3a\u5956\u52b1\u3002\n* \u5f53\u60a8\u6240\u9080\u8bf7\u7684\u597d\u53cb\u901a\u8fc760\u5173\u540e\uff0c\u60a8\u8fd8\u53ef\u4ee5\u989d\u5916\u83b7\u5f97\u4e30\u539a\u7684\u5956\u52b1\u54e6\uff01\n* \u60a8\u53ef\u4ee5\u65e0\u9650\u5236\u7684\u53bb\u9080\u8bf7\u597d\u53cb\u8fdb\u5165\u6e38\u620f\uff0c\u4f46\u53ea\u80fd\u6210\u4e3a10\u4e2a\u4eba\u7684\u9080\u8bf7\u4eba\u5e76\u9886\u53d610\u4e2a\u4eba\u7684\u9080\u8bf7\u5956\u52b1\u3002\n* \u6bcf\u4e2a\u73a9\u5bb6\u53ea\u80fd\u88ab\u9080\u8bf71\u6b21\uff0c\u6210\u4e3a1\u4e2a\u4eba\u7684\u88ab\u9080\u8bf7\u4eba\u3002\u4e00\u65e6\u5efa\u7acb\u9080\u8bf7\u5173\u7cfb\u540e\u4e0d\u80fd\u89e3\u9664\u3002";
TextTable.t_dailytask_txt="\u6b22\u4e50\u6d88\u6d88\u6d88\u7f8e\u98df\u5df4\u58eb\u5916\u9001\u670d\u52a1\uff0c\u8bf7\u5c3d\u5feb\u4e3a\u4e0b\u9762\u7684\u987e\u5ba2\u914d\u9001\u7f8e\u98df\u5e76\u5b8c\u6210\u4efb\u52a1\u54e6~";TextTable.t_dailytask_next="\u4e0b\u4e2a\u8ba2\u5355\uff1a";TextTable.t_dailytask_empty="\u8ba2\u5355\u8fd8\u6ca1\u6709\u9001\u8fbe\u54df~~";TextTable.t_dailytask_title_1="\u6211\u9700\u8981 {num} \u4e2a";TextTable.t_dailytask_title_2="\u89e6\u53d1 {num} \u4e2a";
TextTable.t_dailytask_title_3="\u7b2c {num} \u5173\u8fbe\u5230";TextTable.t_dailytask_title_4="\u901a\u8fc7\u7b2c {num} \u5173";TextTable.t_dailytask_title_5="\u6dfb\u52a0 {num} \u4e2a\u597d\u53cb";TextTable.t_dailytask_title_6="\u770b\u4e2a\u5e7f\u544a\u5427";TextTable.t_dailytask_elements1="\x3cs size\x3d#50\x3eorder_target_1_1.png\x3c/s\x3e";TextTable.t_dailytask_elements2="\x3cs size\x3d#50\x3eorder_target_1_2.png\x3c/s\x3e";TextTable.t_dailytask_elements3="\x3cs size\x3d#50\x3eorder_target_1_3.png\x3c/s\x3e";
TextTable.t_dailytask_elements4="\x3cs size\x3d#50\x3eorder_target_1_4.png\x3c/s\x3e";TextTable.t_dailytask_elements5="\x3cs size\x3d#50\x3eorder_target_1_5.png\x3c/s\x3e";TextTable.t_dailytask_elements6="\x3cs size\x3d#50\x3eorder_target_1_6.png\x3c/s\x3e";TextTable.t_dailytask_block1="\x3cs size\x3d#50\x3eorder_target_2_1.png\x3c/s\x3e";TextTable.t_dailytask_block2="\x3cs size\x3d#50\x3eorder_target_2_2.png\x3c/s\x3e";TextTable.t_dailytask_block3="\x3cs size\x3d#50\x3eorder_target_2_3.png\x3c/s\x3e";
TextTable.t_dailytask_block4="\x3cs size\x3d#50\x3eorder_target_2_4.png\x3c/s\x3e";TextTable.t_dailytask_cutyPet="\x3cs size\x3d#50\x3eorder_target_3_0.png\x3c/s\x3e";TextTable.t_dailytask_star3="\x3cs size\x3d#35\x3eorder_target_4_0.png\x3c/s\x3e\x3cs size\x3d#35\x3eorder_target_4_0.png\x3c/s\x3e\x3cs size\x3d#35\x3eorder_target_4_0.png\x3c/s\x3e";TextTable.t_FriendsRequest_btn1="\u6536\u96c6";TextTable.t_FriendsRequest_btn2="\u6c42\u52a9";TextTable.t_FriendsRequest_btn4="\u9886\u53d6";
TextTable.t_FriendsRequest_btn6="\u5df2\u9886\u53d6";TextTable.t_FriendsRequest_btn8="\u53d1\u9001";TextTable.t_FriendsRequest_title2="\u6211\u7f3a\u5c11{name}~";TextTable.t_FriendsRequest_text1="\u4eb2\uff0c\u5c0f\u8003\u62c9\u6b63\u5728\u51c6\u5907\u4e00\u4e2a\u805a\u4f1a\u4f46\u662f\u51d1\u4e0d\u9f50\u4e0b\u5217\u7269\u54c1\uff0c\u80fd\u5e2e\u5e2e\u4ed6\u5417\uff1f";TextTable.t_FriendsRequest_text2="\u4f60\u83b7\u5f97\u4e86{name}\u5417\uff1f\u5e2e\u5e2e\u6211\u5427~";
TextTable.t_FriendsRequest_text3="\u4e0d\u8981\u53d1\u9001\u5230{name}";TextTable.t_FriendsRequest_title3="\u5c0f\u4f19\u4f34\u4eec\u7684\u8bf7\u6c42\u6d3b\u52a8\u8bf4\u660e";TextTable.t_FriendsRequest_text4="*\u6d3b\u52a8\u5468\u671f\u4e3a6\u5929\uff0c\u6bcf\u5468\u56db0:01\u5f00\u59cb\uff0c\u6b21\u5468\u4e8c23:59\u7ed3\u675f\u3002";TextTable.t_FriendsRequest_text5="*\u5728\u6d3b\u52a8\u5012\u8ba1\u65f6\u7ed3\u675f\u524d\uff0c\u8fbe\u6210\u76ee\u6807\uff0c\u5373\u53ef\u9886\u53d6\u5956\u52b1\u3002";
TextTable.t_FriendsRequest_text6="*\u679c\u6c41\uff1a\u6211\u4eec\u53ef\u4ee5\u5728\u4efb\u610f\u5173\u5361\u901a\u5173\u83b7\u5f97\u67f3\u6a59\u6c41\u3002";TextTable.t_FriendsRequest_text7="*\u6c34\u679c\uff1a\u6211\u4eec\u53ef\u4ee5\u5728\u4efb\u610f\u5173\u5361\u901a\u5173\u6709\u6982\u7387\u7684\u83b7\u5f97\u82f9\u679c\u6216\u9999\u8549\u3002";TextTable.t_FriendsRequest_text8="*\u86cb\u7cd5\uff1a\u4e0d\u540c\u73a9\u5bb6\u53ea\u80fd\u5728\u6d3b\u52a8\u671f\u95f4\u5185\u901a\u5173\u6982\u7387\u83b7\u5f97\u5176\u4e2d\u4e00\u79cd\u86cb\u7cd5\uff0c\u5176\u4ed6\u86cb\u7cd5\u9700\u8981\u5728\u6d3b\u52a8\u671f\u95f4\u5185\u5411\u53ef\u83b7\u5f97\u7684\u597d\u53cb\u53d1\u9001\u8bf7\u6c42\u7d22\u53d6\uff0c\u5f53\u597d\u53cb\u5728\u6d88\u606f\u4e2d\u5fc3\u540c\u610f\u540e\u5c31\u53ef\u83b7\u5f97\uff08\u597d\u53cb\u4e0d\u4f1a\u5931\u53bb\u86cb\u7cd5\uff09\u3002";
TextTable.t_FriendsRequest_title4="\u679c\u6c41\uff1a";TextTable.t_FriendsRequest_title5="\u6c34\u679c\uff1a";TextTable.t_FriendsRequest_title6="\u86cb\u7cd5\uff1a";TextTable.t_FriendsRequest_text9="\u5012\u8ba1\u65f6\uff1a";TextTable.t_FriendsRequest_tittle7="\u67f3\u6a59\u6c41";TextTable.t_FriendsRequest_tittle8="\u82f9\u679c";TextTable.t_FriendsRequest_tittle9="\u9999\u8549";TextTable.t_FriendsRequest_tittle10="\u6c34\u679c\u6155\u65af";TextTable.t_FriendsRequest_tittle11="\u63d0\u62c9\u7c73\u82cf";
TextTable.t_FriendsRequest_tittle12="\u590f\u65e5\u62b9\u8336";TextTable.t_FriendsRequest_tittle13="\u6717\u59c6\u829d\u58eb";TextTable.t_FriendsRequest_text10="\u9001\u4f60\u4e00\u4e2a{name}\uff0c\u52a0\u6cb9\u5427\uff01";TextTable.t_PopcornFight_text_1="\u5929";TextTable.t_PopcornFight_text_2="\u65f6";TextTable.t_PopcornFight_text_3="\u5206";TextTable.t_PopcornFight_text_4="\u79d2";TextTable.t_PopcornFight_text_5="\u867d\u7136\u53d6\u5f97\u4e86\u80dc\u5229\uff0c\u4f46\u662f\u5206\u6570\u6ca1\u80fd\u6ee1\u8db3\u6761\u4ef6\u5462\u2026\u2026";
TextTable.t_PopcornFight_text_6="\u5206\u949f";TextTable.t_PopcornFight_text_7=" \u524d";TextTable.t_PopcornFight_text_8=" \u5bf9\u4e0d\u8d77\uff0c\u5bf9\u65b9\u5df2\u7ecf\u4e0d\u662f\u60a8\u7684\u597d\u53cb\u4e86\u5462\u2026\u2026";TextTable.t_PopcornFight_text_9=" \u60a8\u8fd8\u6ca1\u6709\u7f16\u8f91\u81ea\u5df1\u7684\u5173\u5361\u5462\uff0c\u8bf7\u5148\u7f16\u8f91\u597d\u518d\u6765\u5b88\u62a4\u522b\u4eba\u5427~";TextTable.t_PopcornFight_text_10=" {name}\u63d0\u9192\u60a8\uff0c\u60a8\u7684\u5173\u5361\u5df2\u8fc7\u671f\uff0c\u8bf7\u53ca\u65f6\u66f4\u65b0\u54e6~";
TextTable.t_PopcornFight_text_11=" TA\u8fd8\u6ca1\u6709\u89e3\u9501\u7206\u7c73\u82b1\u673a\u5462\uff0c\u8bf7\u9f13\u52b1TA\u8d76\u7d27\u8fc7\u5173\uff0c\u901a\u8fc7\u7b2c26\u5173\u89e3\u9501\u54e6~";TextTable.t_PopcornFight_text_12=" \u8fd9\u91cc\u9762\u5e76\u6ca1\u6709\u7206\u7c73\u82b1\uff0c\u4f3c\u4e4e\u53ea\u662f\u4e2a\u88c5\u9970\u54c1\u5462\u2026\u2026";TextTable.t_PopcornFight_text_13=" \u60a8\u7684\u5173\u5361\u5df2\u8fc7\u671f\uff0c\u5206\u6570\u964d\u4f4e\u4e86\u5462\u2026\u2026\u5feb\u6765\u66f4\u65b0\u5173\u5361\u5427~\u73b0\u5728\u66f4\u65b0\u53ef\u4ee5\u83b7\u5f971000\u91d1\u5e01\u4f5c\u4e3a\u5956\u52b1\u54e6\uff01";
TextTable.t_PopcornFight_Peapare_title_1="{name}\u7684\u5173\u5361";TextTable.t_PopcornFight_Peapare_text_1="\u6b65\u6570\uff1a{num}";TextTable.t_PopcornFight_Peapare_tips_1="\u6210\u529f\u8fc7\u5173\uff1a\u653b\u7834\u6838\u5fc3\uff0c\u6210\u529f\u8fc7\u5173\u540e\u5373\u53ef\u83b7\u5f971\u661f\u3002";TextTable.t_PopcornFight_Peapare_tips_2="2\u661f\u5206\u6570\uff1a\u5173\u5361\u4e3b\u4eba\u6311\u6218\u672c\u5173\u65f6\u83b7\u5f97\u7684\u6700\u9ad8\u5206\u6570\u3002\u8d85\u8fc7\u8be5\u5206\u6570\u540e\u53ef\u83b7\u5f972\u661f\u3002";
TextTable.t_PopcornFight_Peapare_tips_3="3\u661f\u5206\u6570\uff1a\u6765\u8fdb\u884c\u5b88\u62a4\u6311\u6218\u7684\u597d\u53cb\u6240\u83b7\u5f97\u7684\u6700\u9ad8\u5206\uff08\u524d\u63d0\u662f\u6bd4\u4e3b\u4eba\u5206\u6570\u8981\u9ad8\u54e6\uff09\u3002\u8d85\u8fc7\u8be5\u5206\u6570\u540e\u53ef\u83b7\u5f973\u661f\u3002";TextTable.t_PopcornFight_Peapare_tips_4="\u4e3b\u4eba\u548c\u597d\u53cb\u53ef\u4ee5\u968f\u65f6\u514d\u8d39\u8fdb\u884c\u6311\u6218\uff0c\u5e76\u5c06\u5176\u6700\u9ad8\u5206\u4f5c\u4e3a\u65b0\u7684\u5206\u6570\u8bb0\u5f55\u3002";
TextTable.t_PopcornFight_Peapare_tips_5="\u6210\u4e3a\u597d\u53cb\u7684\u5b88\u62a4\u8005\u53ef\u4ee5\u83b7\u5f97\u4e00\u6b21\u6027\u7684\u7206\u7c73\u82b1\u5956\u52b1\u548c\u6301\u7eed\u6027\u7684\u91d1\u5e01\u5956\u52b1\uff08\u5728\u5b88\u62a4\u8bb0\u5f55\u9762\u677f\u6536\u53d6\uff09\uff0c\u5feb\u53bb\u6210\u4e3a\u597d\u53cb\u7684\u5b88\u62a4\u8005\u5427\uff01";TextTable.t_PopcornFight_Peapare_tips_6="\u5728\u62a2\u593a\u7206\u7c73\u82b1\u65f6\uff0c\u6240\u83b7\u5f97\u7684\u661f\u7ea7\u8d8a\u9ad8\uff0c\u62a2\u593a\u5230\u7684\u7206\u7c73\u82b1\u4e5f\u5c31\u8d8a\u591a\u3002";
TextTable.t_PopcornFight_Peapare_tips_7="\u6bcf\u9694\u4e00\u6bb5\u65f6\u95f4\uff0c\u4e3b\u4eba\u653e\u7f6e\u7684\u969c\u788d\u4f1a\u53d7\u5230\u635f\u8017\uff0c\u9700\u8981\u82b1\u8d39\u4e00\u5b9a\u91d1\u5e01\u8fdb\u884c\u4fee\u590d\u3002";TextTable.t_PopcornFight_Peapare_text_2="\u4f60\u80fd\u5e2e\u52a9\u6211\u5b88\u62a4\u7206\u7c73\u82b1\u673a\uff0c\u6210\u4e3a\u6211\u7684\u5b88\u62a4\u8005\u5417\uff1f";TextTable.t_PopcornFight_Peapare_text_3="\u6210\u529f\u8fc7\u5173";
TextTable.t_PopcornFight_Peapare_text_4="{num}\u5206";TextTable.t_PopcornFight_Peapare_btn_1="\u6311\u6218";TextTable.t_PopcornFight_Peapare_btn_2="\u5b88\u62a4";TextTable.t_PopcornFight_Peapare_btn_3="\u91cd\u65b0\u6311\u6218";TextTable.t_PopcornFight_Peapare_btn_4="\u4fee\u590d\u969c\u788d";TextTable.t_PopcornFight_Peapare_text_5="{num}\u5c0f\u65f6{num}\u5206";TextTable.t_PopcornFight_Peapare_text_6="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u662f\u5426\u82b1\u8d39 {num} \x3c/b\x3e\x3cs size\x3d#40\x3eico_gem.png\x3c/s\x3e \x3cb size\x3d#26 color\x3d#3c6b76\x3e\u7ee7\u7eed\u6bd4\u8d5b\uff1f\x3c/b\x3e";
TextTable.t_PopcornFight_Peapare_btn_5="\u786e\u5b9a";TextTable.t_PopcornFight_Peapare_btn_6="\u53d6\u6d88";TextTable.t_PopcornFight_Peapare_text_7="\u8bf7\u9009\u62e9\u4f60\u7684\u6311\u6218\u5ba0\u7269";TextTable.t_PopcornFight_Peapare_text_8="\u60a8\u5f53\u524d\u62e5\u6709{time1}\u7684\u62a4\u76fe\uff0c\u5982\u679c\u60a8\u73b0\u5728\u8fdb\u884c\u6311\u6218\uff0c\u5c06\u51cf\u5c11{time2}\u7684\u62a4\u76fe\uff0c\u786e\u8ba4\u6311\u6218\u5417\uff1f";TextTable.t_PopcornFight_Peapare_btn_7="\u9884\u89c8";
TextTable.t_PopcornFight_Peapare_btn_8="\u66f4\u65b0\u5173\u5361";TextTable.t_PopcornFight_Peapare_text_9="\u5f53\u524d\u5173\u5361\u5df2\u8fc7\u671f\uff0c\u5206\u6570\u4f1a\u4e0d\u65ad\u8870\u51cf\uff0c\u8bf7\u53ca\u65f6\u66f4\u65b0\u5173\u5361~";TextTable.t_PopcornFight_Peapare_text_10="\u60a8\u7684\u597d\u53cb\u7684\u5173\u5361\u5df2\u8fc7\u671f\uff0c\u6682\u65f6\u65e0\u6cd5\u8fdb\u884c\u6311\u6218\uff0c\u662f\u5426\u63d0\u9192TA\u66f4\u65b0\u5173\u5361\uff1f";
TextTable.t_PopcornFight_Peapare_text_11="\u60a8\u7684\u5173\u5361\u5df2\u8fc7\u671f\uff0c\u6682\u65f6\u65e0\u6cd5\u9080\u8bf7\u5b88\u62a4\u8005\uff0c\u8bf7\u5148\u53bb\u66f4\u65b0\u5173\u5361\u5427~";TextTable.t_PopcornFight_Facility_text_1="\u4ea7\u91cf";TextTable.t_PopcornFight_Facility_text_2="\u50a8\u91cf";TextTable.t_PopcornFight_Facility_text_3="{num}\u7ea7";TextTable.t_PopcornFight_Facility_btn_1="\u5347\u7ea7";TextTable.t_PopcornFight_Facility_text_4="\u63d0\u9ad8\u91c7\u96c6\u5668\u7684\u4ea7\u91cf\uff0c\u4f7f\u4f60\u53ef\u4ee5\u66f4\u5feb\u5730\u79ef\u7d2f\u8d44\u6e90";
TextTable.t_PopcornFight_Facility_text_5="\u63d0\u9ad8\u5b58\u50a8\u5668\u7684\u50a8\u91cf\u4e0a\u9650\uff0c\u4f7f\u4f60\u53ef\u4ee5\u79ef\u7d2f\u66f4\u591a\u7684\u8d44\u6e90";TextTable.t_PopcornFight_Facility_text_6="\u4ea7\u91cf\uff1a";TextTable.t_PopcornFight_Facility_text_7="\u50a8\u91cf\uff1a";TextTable.t_PopcornFight_Facility_text_8="\u65f6\u95f4\uff1a";TextTable.t_PopcornFight_Facility_text_9="\u8d44\u6e90\u6d88\u8017\uff1a";TextTable.t_PopcornFight_Facility_text_10="\u5347\u7ea7\u5012\u8ba1\u65f6";
TextTable.t_PopcornFight_Facility_text_11="{num}\u5206{num}\u79d2";TextTable.t_PopcornFight_Facility_btn_2="\u7acb\u5373\u5b8c\u6210";TextTable.t_PopcornFight_Facility_text_12="\u606d\u559c\u4f60\uff0c\u4f60\u7684\u91c7\u96c6\u5668\u6210\u529f\u5347\u7ea7\u5230\u4e86 {num} \u7ea7\uff01";TextTable.t_PopcornFight_Facility_text_13="\u606d\u559c\u4f60\uff0c\u4f60\u7684\u5b58\u50a8\u5668\u6210\u529f\u5347\u7ea7\u5230\u4e86 {num} \u7ea7\uff01";TextTable.t_PopcornFight_Facility_text_14="\u5c0f\u65f6";
TextTable.t_PopcornFight_Facility_text_15="\u540c\u4e00\u65f6\u95f4\u53ea\u80fd\u5347\u7ea7\u4e00\u9879\u54e6\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85\u53e6\u4e00\u9879\u5347\u7ea7\u5b8c\u6210~";TextTable.t_PopcornFight_Facility_btn_3="\u5df2\u6ee1\u7ea7";TextTable.t_PopcornFight_History_text_1="\u5b88\u62a4\u6210\u529f";TextTable.t_PopcornFight_History_btn_2="\u5206\u4eab";TextTable.t_PopcornFight_History_text_4="TA\u7684\u53cb\u60c5\u548c\u4ed8\u51fa\u4e3a\u4f60\u6784\u7b51\u4e86\u5f3a\u5927\u7684\u62a4\u76fe\uff0c\u7ed9\u8fd9\u4f4d\u597d\u53cb\u53d1\u9001100\u91d1\u5e01\u4f5c\u4e3a\u8c22\u793c\u5417\uff1f";
TextTable.t_PopcornFight_History_text_5="\u9632\u5b88\u8bb0\u5f55";TextTable.t_PopcornFight_History_text_6="\u5b88\u62a4\u8bb0\u5f55";TextTable.t_PopcornFight_History_text_7="\u5b88\u62a4\u65f6\u95f4";TextTable.t_PopcornFight_History_text_8="\u6536\u76ca";TextTable.t_PopcornFight_History_text_9="\u60a8\u5bf9{name}\u7684\u5b88\u62a4\u5df2\u8fc7\u671f\uff0c\u662f\u5426\u53bbTA\u5bb6\u770b\u770b\uff0c\u91cd\u65b0\u6210\u4e3a\u4ed6\u7684\u5b88\u62a4\u8005\u5462\uff1f";
TextTable.t_PopcornFight_History_btn_4="\u53bb\u770b\u770b";TextTable.t_PopcornFight_History_btn_5="\u518d\u8bf4\u5427";TextTable.t_PopcornFight_History_btn_6="\u6536\u53d6\u5168\u90e8\u5b88\u62a4\u6536\u76ca";TextTable.t_PopcornFight_History_text_10="\u611f\u8c22\u4f60\u6210\u4e3a\u6211\u7684\u5b88\u62a4\u8005\uff01";TextTable.t_PopcornFight_History_text_11="\u6211\u6210\u4e3a\u4e86\u4f60\u7684\u5b88\u62a4\u8005\uff0c\u6211\u4f1a\u5bf9\u4f60\u7684\u7206\u7c73\u82b1\u8d1f\u8d23\u7684~";
TextTable.t_PopcornFight_History_text_12="\u5b88\u62a4\u597d\u53cb\u624d\u6709\u6536\u76ca\u54e6\uff0c\u5feb\u53bb\u6210\u4e3a\u597d\u53cb\u7684\u5b88\u62a4\u8005\u5427~";TextTable.t_PopcornFight_Edit_btn_1="\u67e5\u770b";TextTable.t_PopcornFight_Edit_tips_1="\u9009\u62e9\u4e00\u4e2a\u5173\u5361\u540e\uff0c\u5b83\u5c06\u6210\u4e3a\u4f60\u672c\u5468\u7684\u9632\u5fa1\u5173\u5361\uff0c\u5728\u8fd9\u4e2a\u5173\u5361\u4e2d\u653e\u7f6e\u969c\u788d\u6765\u9632\u5fa1\u81ea\u5df1\u7684\u6838\u5fc3\u5427\uff01";
TextTable.t_PopcornFight_Edit_tips_2="\u4fdd\u5b58\u5173\u5361\u4ee5\u540e\uff0c\u672c\u5468\u4e2d\u4f60\u4e5f\u53ef\u4ee5\u968f\u65f6\u514d\u8d39\u66f4\u6362\u4e3a\u5176\u4ed6\u5173\u5361\uff0c\u5c3d\u91cf\u591a\u5c1d\u8bd5\uff0c\u627e\u5230\u6700\u9002\u5408\u4f60\u7684\u5173\u5361\u5427~";TextTable.t_PopcornFight_Edit_tips_3="\u6bcf\u5468\u90fd\u4f1a\u6709\u65b0\u7684\u5173\u5361\u4f9b\u4f60\u9009\u62e9\uff0c\u8bf7\u53ca\u65f6\u66f4\u6362\u4f60\u7684\u5173\u5361\u3002\u4f7f\u7528\u4e0a\u5468\u7684\u65e7\u5173\u5361\u5c06\u65e0\u6cd5\u83b7\u5f97\u5206\u6570\u52a0\u6210\u5956\u52b1\u54e6\u3002";
TextTable.t_PopcornFight_Edit_text_1="\u6838\u5fc3\u751f\u547d\u503c";TextTable.t_PopcornFight_Edit_text_2="\u969c\u788d\u6570\u91cf\uff1a";TextTable.t_PopcornFight_Edit_text_3="\u4ef7\u683c";TextTable.t_PopcornFight_Edit_text_4="\u9884\u7b97";TextTable.t_PopcornFight_Edit_btn_2="\u5168\u90e8\u5220\u9664";TextTable.t_PopcornFight_Edit_tips_4="\u5173\u5361\u7684\u76ee\u6807\u5c31\u662f\u653b\u7834\u6838\u5fc3\uff0c\u56e0\u6b64\u4f60\u9700\u8981\u5c3d\u91cf\u5728\u6838\u5fc3\u5468\u56f4\u653e\u7f6e\u969c\u788d\u6765\u4fdd\u62a4\u6838\u5fc3\u3002";
TextTable.t_PopcornFight_Edit_tips_5="\u969c\u788d\u7684\u79cd\u7c7b\u548c\u6570\u91cf\u4e0a\u9650\u4e0e\u4f60\u5728\u4e3b\u7ebf\u83b7\u5f97\u7684\u661f\u661f\u6570\u91cf\u6709\u5173\uff0c\u661f\u661f\u8d8a\u591a\uff0c\u53ef\u7528\u7684\u969c\u788d\u4e5f\u8d8a\u591a\uff0c\u8be6\u60c5\u8bf7\u67e5\u770b\u661f\u661f\u5956\u52b1\u9762\u677f\u3002";TextTable.t_PopcornFight_Edit_tips_6="\u653e\u7f6e\u969c\u788d\u9700\u8981\u82b1\u8d39\u4e00\u5b9a\u7684\u91d1\u5e01\uff0c\u5f53\u4f60\u653e\u7f6e\u4e86\u8bb8\u591a\u540c\u79cd\u7c7b\u7684\u969c\u788d\u65f6\uff0c\u8be5\u79cd\u7c7b\u7684\u4ef7\u683c\u5c06\u4f1a\u8d8a\u6765\u8d8a\u8d35\uff0c\u6240\u4ee5\u5c3d\u91cf\u5747\u8861\u5404\u79cd\u969c\u788d\u7684\u7c7b\u522b\u5427\uff01";
TextTable.t_PopcornFight_Edit_tips_7="\u589e\u52a0\u6838\u5fc3\u751f\u547d\u503c\u9700\u8981\u82b1\u8d39\u94bb\u77f3\uff0c\u540c\u6837\u4ef7\u683c\u9012\u589e\u3002";TextTable.t_PopcornFight_Edit_tips_8="\u9884\u7b97\u5728\u4f60\u8fdb\u884c\u6311\u6218\u65f6\u5e76\u4e0d\u4f1a\u88ab\u6263\u9664\uff0c\u53ea\u6709\u5728\u4f60\u6311\u6218\u5b8c\u6bd5\u540e\uff0c\u4fdd\u5b58\u5173\u5361\u548c\u5206\u6570\u65f6\u624d\u4f1a\u88ab\u82b1\u8d39\u6389\u3002";TextTable.t_PopcornFight_Edit_text_5="\u5728\u6838\u5fc3\u65c1\u8fb9\u6d88\u9664\u6765\u6d88\u8017\u5176\u751f\u547d\u503c\uff0c\u4ece\u800c\u653b\u7834\u6838\u5fc3\u5427\uff01";
TextTable.t_PopcornFight_Edit_btn_4="\u7ee7\u7eed\u7f16\u8f91";TextTable.t_PopcornFight_Edit_btn_5="\u4fdd\u5b58\u6210\u7ee9\u548c\u5173\u5361";TextTable.t_PopcornFight_Edit_btn_6="\u5173\u5361\u7f16\u8f91";TextTable.t_PopcornFight_Edit_text_6="\u53ef\u653e\u7f6e\u969c\u788d\u6570\u91cf\u5df2\u8fbe\u4e0a\u9650\uff0c\u8bf7\u7ee7\u7eed\u95ef\u5173\u6765\u63d0\u5347\u4e0a\u9650~";TextTable.t_PopcornFight_Edit_text_7="\u8fd9\u4e2a\u969c\u788d\u5728\u60a8\u8fbe\u5230{num}\u9897\u661f\u661f\u65f6\u89e3\u9501\uff0c\u7ee7\u7eed\u95ef\u5173\u6765\u89e3\u9501\u5b83\u5427~";
TextTable.t_PopcornFight_Challenge_text_1="\u606d\u559c\u4f60\u6210\u4e3a {name} \u7684\u5b88\u62a4\u8005";TextTable.t_PopcornFight_Challenge_btn_1="\u544a\u8bc9\u4ed6";TextTable.t_PopcornFight_Challenge_text_2="\u6ca1\u80fd\u653b\u7834\u6838\u5fc3\u5462\u2026\u2026";TextTable.t_PopcornFight_Challenge_text_3="\u606d\u559c\u4f60\u7a81\u7834\u4e86\u5bf9\u624b\u7684\u9632\u5fa1\uff0c\u6210\u529f\u653b\u7834\u6838\u5fc3\uff01";TextTable.t_PopcornFight_Challenge_btn_2="\u83b7\u5f97\u5956\u52b1";
TextTable.t_PopcornFight_Challenge_text_4="\u53ef\u83b7\u5f97\u7684\u6218\u5229\u54c1";TextTable.t_PopcornFight_Challenge_btn_3="\u4e0b\u4e00\u4e2a";TextTable.t_PopcornFight_Challenge_btn_5="\u6311\u6218\u4e0b\u4e00\u4e2a";TextTable.t_PopcornFight_Challenge_btn_6="\u79bb\u5f00";TextTable.t_PopcornFight_Challenge_btn_7="\u52a0\u901f";TextTable.t_PopcornFight_ChangeLevel_text_1="\u60a8\u7684\u9632\u5fa1\u5173\u5361\u5df2\u8fc7\u671f\uff0c\u8bf7\u9009\u62e9\u4e00\u4e2a\u65b0\u7684\u5173\u5361\u5427\u3002\u4f7f\u7528\u4e0a\u5468\u7684\u65e7\u5173\u5361\u5c06\u65e0\u6cd5\u83b7\u5f97\u5206\u6570\u52a0\u6210\u5956\u52b1\u54e6\u3002";
TextTable.t_PopcornFight_ChangeLevel_btn_1="\u66f4\u65b0\u5173\u5361";TextTable.t_PopcornFight_ChangeLevel_btn_2="\u6682\u4e0d\u66f4\u65b0";TextTable.t_PopcornFight_NoLevel_text_1="\u60a8\u8fd8\u6ca1\u6709\u81ea\u5df1\u7684\u9632\u5fa1\u5173\u5361\uff0c\u8bf7\u5148\u53bb\u9009\u62e9\u548c\u7f16\u8f91\u9632\u5fa1\u5173\u5361~";TextTable.t_PopcornFight_Shield_text_1="\u5269\u4f59\u65f6\u95f4";TextTable.t_PopcornFight_Shield_text_2="\u65e0\u62a4\u76fe";TextTable.t_PopcornFight_Shield_tips_1="\u62a4\u76fe\u53ef\u4ee5\u963b\u6b62\u654c\u65b9\u653b\u51fb\uff0c\u4fdd\u62a4\u60a8\u7684\u7206\u7c73\u82b1\u4e0d\u88ab\u62a2\u593a\u3002";
TextTable.t_PopcornFight_Shield_tips_2="\u67e5\u770b\u5176\u5b83\u73a9\u5bb6\u7684\u4fe1\u606f\u548c\u5173\u5361\u4e0d\u4f1a\u5bf9\u5176\u4ea7\u751f\u5f71\u54cd\uff0c\u4f46\u5982\u679c\u53d1\u52a8\u62a2\u593a\uff0c\u62a4\u76fe\u7684\u6709\u6548\u65f6\u95f4\u5c06\u88ab\u7f29\u77ed\u3002";TextTable.t_PopcornFight_Shield_tips_3="\u5f53\u4f60\u5728\u62e5\u6709\u62a4\u76fe\u7684\u60c5\u51b5\u4e0b\u62a2\u593a\u5176\u5b83\u73a9\u5bb6\u65f6\uff0c\u62a4\u76fe\u4f1a\u63094\u30016\u30018\u300110\u300112\u300116\u300120\u300124\u5c0f\u65f6\u7684\u65f6\u95f4\u7f29\u77ed\u3002";
TextTable.t_PopcornFight_Shield_text_3="\u606d\u559c\u60a8\uff0c\u62a4\u76fe\u8d2d\u4e70\u6210\u529f\uff01\u73b0\u5728\u60a8\u62e5\u6709{time}\u7684\u62a4\u76fe\u3002";TextTable.t_PopcornFight_Shield_text_4="\u786e\u8ba4\u8d2d\u4e70\u62a4\u76fe\u5417\uff1f";TextTable.t_PopcornFight_Level1="\u5b9d\u77f3\u5173\u5361";TextTable.t_PopcornFight_Level2="\u98ce\u8f66\u5173\u5361";TextTable.t_PopcornFight_Level3="\u6805\u680f\u5173\u5361";TextTable.t_1YuanDiamond_txt1="\u4e00\u5143\u8d2d\u4ef7\u503c25\u5143\u5927\u793c\u5305\uff0c\u9650\u65f6\u4f18\u60e0\u54e6~";
TextTable.t_1YuanDiamond_txt2="\u6d3b\u52a8\u7ed3\u675f\u65e5\u671f\uff1a{time}";TextTable.t_1YuanDiamond_tips1="\u9996\u5145\u5927\u793c~";TextTable.t_1YuanDiamond_tips2="\u8d2d\u4e70\u5931\u8d25\uff0c\u9519\u8fc7\u53ef\u60dc\u4e86\u54e6\uff1f";TextTable.t_6YuanDiamond_tips1="\u9996\u5145\u8d85\u8fc76\u5143\uff0c\u5c0f\u6cf0\u8fea\u5e26\u56de\u5bb6~~!";TextTable.t_Thanksgiving_txt1="\u975e\u5e38\u611f\u8c22\u60a8\u4e3a\u6211\u4eec\u51c6\u5907\u4e30\u76db\u7684\u7f8e\u98df\uff0c\u8fd9\u662f\u6211\u4eec\u7684\u4e00\u70b9\u5fc3\u610f\uff0c\u5feb\u8bf7\u6536\u4e0b\u5427!";
TextTable.t_Wishing_title1="\u8bb8\u613f";TextTable.t_Wishing_txt1="\u8f93\u5165\u5185\u5bb9\u8fc7\u957f";TextTable.t_Desktop_h5wx_android_lab01="1\u3001\u70b9\u51fb\u53f3\u4e0a\u89d2\u7684 \u201c\u5fae\u4fe1\u6e38\u620f\u201d \u56fe\u6807\u3002\n2\u3001\u70b9\u51fb \u201c\u6dfb\u52a0\u5230\u684c\u9762\u201d \u6309\u94ae\u5373\u53ef\u5b8c\u6210!";TextTable.t_Desktop_h5wx_android_lab02="1\u3001\u70b9\u51fb\u53f3\u4e0a\u89d2\u7684 \u201c\u5fae\u4fe1\u6e38\u620f\u201d \u56fe\u6807\u3002\n2\u3001\u70b9\u51fb \u201c\u6536\u85cf\u201d\u3001\u201c\u5728\u804a\u5929\u4e2d\u7f6e\u9876\u201d \u6309\u94ae\u3002\n3\u3001\u8fdb\u5165\u5fae\u4fe1\uff0c\u5728\u6536\u85cf\u3001\u804a\u5929\u7a97\u53e3\u5373\u53ef\u89c1\u6536\u85cf\u4fe1\u606f\u548c\u7f6e\u9876\u83dc\u5355\u3002";
TextTable.t_Desktop_xcx_android_lab01="1\u3001\u70b9\u51fb\u53f3\u4e0a\u89d2\u7684\u60ac\u6d6e\u7403\u3002\n2\u3001\u70b9\u51fb \u201c\u6dfb\u52a0\u5230\u684c\u9762\u201d \u6309\u94ae\u5373\u53ef\u5b8c\u6210!";TextTable.t_Desktop_xcx_android_lab02="1\u3001\u70b9\u51fb\u53f3\u4e0a\u89d2\u7684\u60ac\u6d6e\u7403\u3002\n2\u3001\u70b9\u51fb \u201c\u663e\u793a\u5728\u804a\u5929\u9876\u90e8\u201d \u6309\u94ae\u5373\u53ef\uff0c\u5b8c\u6210\u540e\u8fdb\u5165\u5fae\u4fe1\u804a\u5929\u5373\u53ef\u89c1\u7f6e\u9876\u83dc\u5355\u3002";
TextTable.t_Desktop_h5wx_ios_lab01="1\u3001\u70b9\u51fb\u53f3\u4e0a\u89d2\u7684\u201c\u5fae\u4fe1\u6e38\u620f\u201d\u56fe\u6807\u3002\n2\u3001\u70b9\u51fb \u201c\u6536\u85cf\u201d\u3001\u201c\u5728\u804a\u5929\u4e2d\u7f6e\u9876\u201d \u6309\u94ae\u3002\n3\u3001\u8fdb\u5165\u5fae\u4fe1\uff0c\u5728\u6536\u85cf\u3001\u804a\u5929\u7a97\u53e3\u5373\u53ef\u89c1\u6536\u85cf\u4fe1\u606f\u548c\u7f6e\u9876\u83dc\u5355\u3002";TextTable.t_Desktop_xcx_ios_lab01="1\u3001\u70b9\u51fb\u53f3\u4e0a\u89d2\u7684\u60ac\u6d6e\u7403";
TextTable.t_Desktop_xcx_ios_lab02="2\u3001\u70b9\u51fb \u201c\u663e\u793a\u5728\u804a\u5929\u9876\u90e8\u201d";TextTable.t_Desktop_xcx_ios_lab03="3\u3001\u7f6e\u9876\u6e38\u620f\u5e76\u7531\u7f6e\u9876\u8fd4\u56de\u5373\u53ef\u9886\u5956~";TextTable.t_Desktop_wx="1\u3001\u70b9\u51fb\u53f3\u4e0a\u89d2\u7684\u201c\u5fae\u4fe1\u6e38\u620f\u201d\u60ac\u6d6e\u6309\u94ae\u3002\n2\u3001\u70b9\u51fb\u201c\u5206\u4eab\u7ed9\u597d\u53cb\u201d\uff0c\u5c31\u53ef\u4ee5\u5b8c\u6210\u5206\u4eab\u5566\uff01";
TextTable.t_Newusergift_text="\u6b22\u8fce\u6765\u5230\u300a\u6b22\u4e50\u6d88\u6d88\u6d88\u300b\uff0c\u8bf7\u6536\u4e0b\u8fd9\u4efd\u89c1\u9762\u793c\uff0c\u795d\u60a8\u6e38\u620f\u6109\u5feb\uff01";TextTable.t_Newusergift_tips_1="\u5173\u5361\u8d85\u8fc7\u4e94\u5173\uff0c\u4e0d\u80fd\u9886\u53d6\uff01";TextTable.t_Newusergift_tips_2="\u65e0\u9650\u4f53\u529b\u5df2\u9886\u53d6\u3002";TextTable.t_Unlimitedstrength_tips="\u60a8\u73b0\u5728\u662f\u65e0\u9650\u4f53\u529b\u72b6\u6001\uff0c\u6311\u6218\u4efb\u4f55\u5173\u5361\u90fd\u4e0d\u4f1a\u6d88\u8017\u4f53\u529b\u54e6\uff01";
TextTable.t_InvitationAward_tips_1="\u60a8\u5df2\u6210\u529f\u9080\u8bf7\u5230{name}\u4e00\u8d77\u95ef\u5173\u593a\u5b9d\uff0c\u5feb\u53bb\u9886\u53d6\u5956\u52b1\u5427\uff01";TextTable.t_InvitationAward_tips_2="\u60a8\u5df2\u63a5\u53d7{name}\u9080\u8bf7\uff0c\u5feb\u53bb\u9886\u53d6\u4ed6\u9001\u60a8\u7684\u5956\u52b1\u5427\uff01";TextTable.t_Gift_dressing="{name}\u9001\u60a8\u7684\u65b0\u65f6\u88c5\uff0c\u8d76\u5feb\u53bb\u9886\u53d6\u5427\uff01";TextTable.t_itemSourcePet="{name}\u5ba0\u7269\u8fbe\u5230{level}\u7ea7\u540e\u8d60\u9001\u54e6~";
TextTable.t_itemSourceBell="\u786e\u5b9a\u6d88\u8017{bell}\u94c3\u94db\u89e3\u9501{dress}\u88c5\u626e\uff1f";TextTable.t_bellNotEnough="\u94c3\u94db\u4e0d\u8db3\uff0c\u662f\u5426\u524d\u5f80\u626d\u86cb\u673a\u8d2d\u4e70\uff1f";TextTable.t_itemSourceLottery="\u786e\u5b9a\u524d\u5f80\u626d\u86cb\u673a\u89e3\u9501\uff1f";TextTable.t_itemSourceTimeLevel="\u786e\u8ba4\u524d\u5f80\u9650\u65f6\u5956\u52b1\u5173\u5361\u89e3\u9501\uff1f";TextTable.t_itemSourceAchieve='\u901a\u8fc7\u6210\u5c31"{achieve}"\u83b7\u5f97';
TextTable.t_itemSourceActivity='\u662f\u5426\u524d\u5f80"{name}"\u6d3b\u52a8\u53bb\u83b7\u5f97\uff1f';TextTable.t_itemSourceTimeCharge="\u662f\u5426\u524d\u5f80\u9650\u65f6\u6d3b\u52a8\u53bb\u83b7\u5f97\uff1f";TextTable.t_itemSourceTimeShop="\u662f\u5426\u524d\u5f80\u9650\u65f6\u6d3b\u52a8\u53bb\u83b7\u5f97\uff1f";TextTable.t_itemSourceShop="\u662f\u5426\u524d\u5f80\u5546\u5e97\u53bb\u83b7\u5f97";TextTable.t_activityName10001="\u7d2f\u8ba1\u767b\u9646";TextTable.t_activityName10002="\u70ed\u5356";
TextTable.t_activityName10003="\u5927\u8f6c\u76d8\u62bd\u5956";TextTable.t_activityName10004="\u65f6\u88c5\u7279\u5356";TextTable.t_activity10001_day="\u7b2c {num} \u5929";TextTable.t_DemoLevel="\u8bd5\u73a9\u5173\u5361";TextTable.t_ShareReward="\u606d\u559c\u4f60\u83b7\u5f97\u4e86100\u91d1\u5e01";TextTable.t_Btn_Resume="\u7ee7\u7eed\u6e38\u620f";TextTable.t_Btn_Restart="\u91cd\u65b0\u5f00\u59cb";TextTable.t_Btn_Exit="\u9000\u51fa\u6e38\u620f";TextTable.t_Btn_Sound="\u6548\u679c\u58f0\u97f3";
TextTable.t_Btn_Music="\u80cc\u666f\u97f3\u4e50";TextTable.t_Btn_Noti="\u4f53\u529b\u63d0\u9192";TextTable.t_Btn_Binding="\u7ed1\u5b9a\u8d26\u53f7";TextTable.t_Choose_Title="\u9009\u62e9\u4e00\u4e2a\u65b0\u5934\u50cf";TextTable.t_Tip_Sound_Open="\u97f3\u6548\u5f00\u542f";TextTable.t_Tip_Music_Open="\u97f3\u4e50\u5f00\u542f";TextTable.t_Tip_Noti_Open="\u4f53\u529b\u63d0\u9192\u5f00\u542f";TextTable.t_Tip_Sound_Close="\u97f3\u6548\u5173\u95ed";TextTable.t_Tip_Music_Close="\u97f3\u4e50\u5173\u95ed";
TextTable.t_Tip_Noti_Close="\u4f53\u529b\u63d0\u9192\u5173\u95ed";TextTable.t_Tip_Exchange_Code="\u5151\u6362\u7801\u4f1a\u5728\u5404\u4e2a\u5e94\u7528\u5546\u5e97\u4e3e\u529e\u7684\u6d3b\u52a8\u4e2d\u53d1\u5e03\uff0c\u5927\u5bb6\u8981\u7559\u610f\u54e6\uff5e\uff5e\uff5e";TextTable.t_Tip_Exchange_Code2="\u8bf7\u8f93\u5165\u5151\u6362\u7801";TextTable.t_Tip_Exchange_Code3="\u606d\u559c\u4f60\u83b7\u5f97\u4e86\uff1a";TextTable.t_Updata_txt1="\u6709\u65b0\u7248\u672c\u66f4\u65b0\u5566\uff01\u5feb\u6765\u770b\u770b\u5427\uff01";
TextTable.t_Updata_txt2="\u66f4\u65b0\u6700\u65b0\u7248\u672c\u5373\u53ef\u83b7\u5f97\uff1a";TextTable.t_Updata_txt3="\u8bf7\u8010\u5fc3\u7b49\u5f85\uff0c\u6b63\u5728\u4e0b\u8f7d\u66f4\u65b0\u6570\u636e\u2026\u2026";TextTable.t_Updata_btn1="\u7acb\u5373\u66f4\u65b0";TextTable.t_Btn_Terms="\u670d\u52a1\u6761\u6b3e";TextTable.t_Btn_Policy="\u9690\u79c1\u653f\u7b56";TextTable.t_Btn_Agreement="\u817e\u8baf\u6e38\u620f\u8bb8\u53ef\u53ca\u670d\u52a1\u534f\u8bae";TextTable.t_Group_OverallScore="\u7efc\u5408\u8bc4\u5206";
TextTable.t_Group_AllStar="\u603b\u661f\u661f\u6570";TextTable.t_Group_ThreeStarLevel="\u7d2f\u8ba1\u4e09\u661f\u901a\u5173";TextTable.t_Group_MaxLevel="\u6700\u9ad8\u5173\u5361";TextTable.t_Group_MaxCombo="\u7d2f\u8ba1\u6700\u9ad8\u8fde\u51fb";TextTable.t_Group_Title_1="\u5e38\u7528\u5c0f\u5f53\u5bb6";TextTable.t_Group_PetRatio="\u4f7f\u7528\u7387\uff1a";TextTable.t_Group_Level="\u5173\u5361\u6570";TextTable.t_sharet_GoLauncher="Pet Kitchen Saga";TextTable.t_sharetitle1002_1="\u4e0a\u699c\u7684\u79d8\u8bc0\u5728\u6b64";
TextTable.t_sharetitle1002_2="\u660e\u660e\u6709\u989c,\u504f\u9760\u5b9e\u529b";TextTable.t_sharetitle1002_3="\u8fd9\u4e2a\u699c\u5355\u88ab\u6211\u627f\u5305\u4e86";TextTable.t_sharetitle1002_4="\u4e0a\u699c\u4e0d\u6613,\u4e14\u884c\u4e14\u73cd\u60dc";TextTable.t_sharetitle1002_5="\u8fd9\u4e0d\u662f\u6211\u7684\u5168\u90e8\u5b9e\u529b";TextTable.t_sharetitle1002_6="\u4e0d\u662f\u6211\u5439\u725b";TextTable.t_sharefeed1002_1="\u6211\u4e0a\u699c\u9760\u7684\u662f99%\u7684\u989c\u503c\u548c1%\u7684\u6d2a\u8352\u4e4b\u529b!";
TextTable.t_sharefeed1002_2="\u6211\u5728\u7b2c{level}\u5173\u83b7\u5f97\u5168\u56fd\u7b2c{num}\u540d,\u522b\u62e6\u6211,\u6211\u8981\u4e0a\u5929\u4e86";TextTable.t_sharefeed1002_3="\u4e16\u754c\u4e0a\u6700\u840c\u6700\u53ef\u7231\u7684\u4eba\u90fd\u5728\u5168\u56fd\u699c\u5355\u91cc";TextTable.t_sharefeed1002_4="\u524d\u4e16\u4e00\u5343\u6b21\u7684\u5356\u840c,\u624d\u6362\u6765\u4eca\u4e16\u4e00\u6b21\u7684\u4e0a\u699c";TextTable.t_sharefeed1002_5="\u53ea\u62ff\u5230\u5168\u56fd\u7b2c{num}\u540d,\u6211\u8fd8\u662f\u4e0d\u591f\u5f3a";
TextTable.t_sharefeed1002_6="\u5728\u4e0b\u5c31\u662f\u6d88\u9664\u754c\u7684\u625b\u628a\u5b50";TextTable.t_sharetitle2001_1="\u5168\u65b0\u8702\u871c\u5173\u5361\u6765\u88ad!";TextTable.t_sharefeed2001_1="\u636e\u8bf4\u840c\u59b9\u90fd\u7231\u73a9\u8fd9\u6b3e\u817e\u8baf\u6700\u840c\u6e38\u620f!";TextTable.t_sharetitle2001_2="\u5723\u8bde\u8001\u4eba\u5728\u5fd9\u7740\u51c6\u5907\u793c\u7269\u4e86";TextTable.t_sharefeed2001_2="\u542c\u8bf4\u4f60\u7684\u5723\u8bde\u60ca\u559c\u53ef\u80fd\u4f1a\u662f\u6f02\u4eae\u8863\u670d\u54e6!";
TextTable.t_sharetitle2001_3="\u606d\u559c\u6210\u4e3a\u94f2\u5c4e\u5b98!";TextTable.t_sharefeed2001_3="\u9523\u9f13\u55a7\u5929,\u97ad\u70ae\u9f50\u9e23,\u7ec8\u4e8e\u6211\u4e5f\u662f\u6709\u4e3b\u5b50\u7684\u4eba";TextTable.t_sharetitle2001_4="\u4e3b\u4eba,\u5feb\u5e26\u6211\u56de\u5bb6\u5427!";TextTable.t_sharefeed2001_4="\u300a\u6b22\u4e50\u6d88\u6d88\u6d88\u300b\u91cc\u7684\u840c\u5ba0\u4eec\u4f1a\u966a\u4f60\u5230\u5929\u8352\u5730\u8001!";TextTable.t_sharetitle2001_5="\u4e0d\u8981998,\u840c\u5ba0\u5e26\u56de\u5bb6";
TextTable.t_sharefeed2001_5="\u636e\u8bf4\u6f02\u4eae\u7684\u840c\u59b9\u90fd\u7231\u73a9\u8fd9\u6b3e\u5e74\u5ea6\u6700\u840c\u6e38\u620f\u2014\u2014\u300a\u6b22\u4e50\u6d88\u6d88\u6d88\u300b!";TextTable.t_sharetitleMed2001_1="\u6210\u529f\u901a\u8fc7\u7b2c{level}\u5173";TextTable.t_sharefeedMed2001_1="\u5ba0\u7269\u9177\u70ab\u6280\u80fd\u4f53\u9a8c\u5168\u65b0\u8702\u871c\u73a9\u6cd5";TextTable.t_sharetitleMed2001_2="\u6210\u529f\u901a\u8fc7\u7b2c{level}\u5173";TextTable.t_sharefeedMed2001_2="\u514d\u4e0b\u8f7d\u7684\u6d88\u9664\u6e38\u620f,\u8ba9\u6211\u4eec\u660e\u660e\u6709\u989c\u503c,\u504f\u504f\u9760\u5b9e\u529b!";
TextTable.t_sharetitleMed2001_3="\u6210\u529f\u901a\u8fc7\u7b2c{level}\u5173";TextTable.t_sharefeedMed2001_3="\u5168\u65b0\u8702\u871c\u73a9\u6cd5\u6765\u88ad,\u91ca\u653e\u4f60\u7684\u5ba0\u7269\u6280\u80fd\u8fc7\u5173\u5427!";TextTable.t_sharetitleMed2001_4="\u6210\u529f\u901a\u8fc7\u7b2c{level}\u5173";TextTable.t_sharefeedMed2001_4="\u9ad8\u914d\u7684\u4eba\u751f\u5c31\u8be5\u8fd9\u6837,\u8be5\u4f60\u4e0a\u573a\u8868\u6f14\u4e86!";TextTable.t_sharetitleMed2001_5="\u6210\u529f\u901a\u8fc7\u7b2c{level}\u5173";
TextTable.t_sharefeedMed2001_5="\u6211\u5bb6\u72d7\u72d7\u8ba9\u871c\u8702\u86f0\u7684\u50cf\u5934\u725b,\u5feb\u6765\u5e2e\u5e2e\u5b83!";TextTable.t_sharetitle1016_1="\u8d70\u8fc7\u8def\u8fc7\u4e0d\u8981\u9519\u8fc7";TextTable.t_sharefeed1016_1="\u4e0d\u8981998,\u840c\u5ba0\u5e26\u56de\u5bb6";TextTable.t_sharetitle1016_2="\u544a\u8bc9\u4f60\u4e00\u4e2a\u4e0d\u53d8\u7684\u9053\u7406";TextTable.t_sharefeed1016_2="\u51fa\u6765\u6df7,\u8fdf\u65e9\u4f1a\u732b\u72d7\u53cc\u5168\u7684";
TextTable.t_sharetitle1016_3="\u6c42\u6478,\u6c42\u62b1,\u6c42\u5e26\u8d70";TextTable.t_sharefeed1016_3="\u4e3b\u4eba,\u6211\u8981\u4eb2\u4eb2\u62b1\u62b1\u4e3e\u9ad8\u9ad8\u54e6";TextTable.t_sharetitle1016_4="\u7406\u76f4\u6c14\u53c8\u58ee";TextTable.t_sharefeed1016_4="\u8fd9\u662f\u4eba\u5bb6\u7684\u5ba0\u7269,\u5c31\u8fd9\u4e48\u5b9a\u4e86";TextTable.t_sharetitle1016_5="\u6709\u732b\u6709\u72d7\u4e86\u4e0d\u8d77\u554a?";TextTable.t_sharefeed1016_5="\u732b\u72d7\u53cc\u5168,\u6700\u65b0\u4eba\u751f\u8d62\u5bb6\u7684\u6807\u914d";
TextTable.t_sharetitle1016_6="\u83b7\u5f97\u4e00\u53ea\u65b0\u5ba0\u7269";TextTable.t_sharefeed1016_6="\u673a\u667a\u53ef\u7231\u840c\u7ffb\u4e86\u7684\u5ba0\u7269\u7ec8\u4e8e\u6765\u4e86";TextTable.t_sharetips1016_20004="\u50b2\u5a07\uff0c\u51b7\u5e7d\u9ed8\u3002\n\u64c5\u957f\u7eaf\u98df\u7269\u6d88\u9664\u3002\n\u559c\u6b22\u5728\u505a\u83dc\u65f6\uff0c\u516b\u5366\u5a31\u4e50\u65b0\u95fb\u3002";TextTable.t_sharetips1016_20003="\u5355\u7eaf\uff0c\u70ed\u60c5\u3002\n\u64c5\u957f\u72ed\u7a84\u7a7a\u95f4\u6d88\u9664\u3002\n\u559c\u6b22\u5728\u505a\u83dc\u65f6\uff0c\u505a\u7740\u5a31\u4e50\u660e\u661f\u7684\u767d\u65e5\u68a6\u3002";
TextTable.t_sharetips1016_20005="\u70ed\u8840\uff0c\u4e2d\u4e8c\u3002\n\u64c5\u957f\u5e95\u90e8\u969c\u788d\u6d88\u9664\u3002\n\u559c\u6b22\u5728\u505a\u83dc\u65f6\uff0c\u5e7b\u60f3\u81ea\u5df1\u662f\u660e\u661f\u3002";TextTable.t_sharetitle1004_1="\u8bba\u5b9e\u529b,\u5728\u4e0b\u8fd8\u672a\u8f93\u8fc7";TextTable.t_sharetitle1004_2="\u5176\u5b9e\u6211\u53ea\u7528\u4e86\u4e09\u6210\u529f\u529b";TextTable.t_sharetitle1004_3="\u4e00\u4e0d\u5c0f\u5fc3\u53c8\u79c0\u4e86\u4e00\u6ce2\u64cd\u4f5c";
TextTable.t_sharetitle1004_4="\u8bba\u5b9e\u529b,\u5728\u4e0b\u8fd8\u672a\u8f93\u8fc7";TextTable.t_sharetitle1004_5="\u5176\u5b9e\u6211\u53ea\u7528\u4e86\u4e09\u6210\u529f\u529b";TextTable.t_sharetitle1004_6="\u4e00\u4e0d\u5c0f\u5fc3\u53c8\u79c0\u4e86\u4e00\u6ce2\u64cd\u4f5c";TextTable.t_sharefeed1004_1="\u662f\u65f6\u5019\u5c55\u793a\u4e00\u6ce2\u771f\u6b63\u7684\u5b9e\u529b\u4e86!";TextTable.t_sharefeed1004_2="\u4e8b\u5b9e\u8bc1\u660e,\u6211\u624d\u662f\u90a3\u4e2a\u901a\u5173\u5c0f\u80fd\u624b!";
TextTable.t_sharefeed1004_3="\u8bf7\u5927\u58f0\u544a\u8bc9\u6211,\u8c01\u662f\u6700\u68d2\u7684?";TextTable.t_sharefeed1004_4="\u662f\u65f6\u5019\u5c55\u793a\u4e00\u6ce2\u771f\u6b63\u7684\u5b9e\u529b\u4e86!";TextTable.t_sharefeed1004_5="\u4e8b\u5b9e\u8bc1\u660e,\u6211\u624d\u662f\u90a3\u4e2a\u901a\u5173\u5c0f\u80fd\u624b!";TextTable.t_sharefeed1004_6="\u8bf7\u5927\u58f0\u544a\u8bc9\u6211,\u8c01\u662f\u6700\u68d2\u7684?";TextTable.t_sharetitle1003_1="\u4eca\u65e5\u5854\u7f57\u8fd0\u52bf\uff1a";
TextTable.t_sharefeed1003_1="\u6700\u540e\u4e00\u6b65\u8fc7\u5173\u8005\uff0c\u4eca\u65e5\u5b9a\u72af\u6843\u82b1\uff01";TextTable.t_sharetitle1003_2="\u521a\u521a\u597d\uff0c\u6512\u4e86\u591a\u5e74\u7684\u4eba\u54c1\u62ff\u51fa\u6765\u7528\u4e00\u7528~";TextTable.t_sharefeed1003_2="\u6700\u540e\u4e00\u6b65\u6d89\u9669\u8fc7\u5173\uff01\u89c1\u8bc1\u4eba\u54c1\u7206\u53d1\uff01";TextTable.t_sharetitle1003_3="\u73a9\u7684\u662f\u5fc3\u8df3\uff01";TextTable.t_sharefeed1003_3="\u73a9\u51fa\u5fc3\u8df3\u624d\u662f\u6211\u7684\u8ffd\u6c42\uff01";
TextTable.t_sharetitle1003_4="\u591a\u4e00\u6b65\u6d6a\u8d39\u5c11\u4e00\u6b65\u5c31\u8dea";TextTable.t_sharefeed1003_4="\u60ca\u9669\u8fc7\u5173\uff0c\u8d85\u840c\u6d88\u9664\u65e0\u9700\u4e0b\u8f7d";TextTable.t_sharetitle1003_5="\u6469\u64e6\u6469\u64e6\uff0c\u8fc7\u5173\u5566\u6469\u64e6";TextTable.t_sharefeed1003_5="\u6700\u540e\u4e00\u6b65\u4f3c\u722a\u7259\uff0c\u4f3c\u9b54\u9b3c\u7684\u6b65\u4f10\u3002";TextTable.t_sharetitle1005_1="\u4e0d\u8981\u8d5e\uff0c\u4f1a\u9a84\u50b2";
TextTable.t_sharefeed1005_1="5\u6b65\u8fc7\u5173\uff0c\u6211\u662f\u5feb\u201c\u67aa\u624b\u201d\uff0c\u4f60\u8bd5\u8bd5\uff1f";TextTable.t_sharetitle1005_2="\u6d4b\u4e00\u6d4b\u4f60\u7684\u53f3\u8111\u76f4\u89c9\u529b~";TextTable.t_sharefeed1005_2="5\u6b65\u5c31\u8fc7\u5173\uff0c\u6211\u7684\u76f4\u89c9\u66f4\u5f3a\u608d\uff0c\u4f60\u5462\uff1f";TextTable.t_sharetitle1005_3="\u6d4b\u4e00\u6d4b\u4f60\u7684\u5de6\u8111\u601d\u7ef4\u903b\u8f91\u529b~";TextTable.t_sharefeed1005_3="5\u6b65\u5c31\u8fc7\u5173\uff0c\u6211\u7684\u601d\u7ef4\u65e0\u4eba\u80fd\u654c\uff0c\u4f60\u5462\uff1f";
TextTable.t_sharetitle1005_4="\u53c8\u662f\u4e00\u9053\u9001\u5206\u9898";TextTable.t_sharefeed1005_4="5\u6b65\u8fc7\uff0c\u662f\u9760\u6211\u7684\u989c\u503c\u8fd8\u662f\u6211\u7684\u9b45\u529b\uff1f\u90fd\u662f\u77e5\u8bc6\u70b9\uff0c\u5feb\u505a\u7b14\u8bb0\uff01";TextTable.t_sharetitle1005_5="\u5d07\u62dc\u4e0d\u662f\u559c\u6b22\u6211\u7684\u7406\u7531";TextTable.t_sharefeed1005_5="\u8fd8\u6ca1\u51fa\u624b\u5c31\u8fc7\u4e86\uff0c\u6311\u6218\u4f55\u5728\uff01";TextTable.t_sharetitle1006_1="\u70ab\u8000\u7684\u59ff\u52bf\u8981\u6b63\u786e";
TextTable.t_sharefeed1006_1="\u8170\u4e0d\u9178\uff0c\u817f\u4e0d\u75db\uff0c\u8fde\u8fc715\u5173\u4e5f\u6709\u52b2\u513f\u4e86\uff01";TextTable.t_sharetitle1006_2="\u79c0\u8d77\u6765\u8fde\u6211\u81ea\u5df1\u90fd\u6015";TextTable.t_sharefeed1006_2="\u8c01\u4e5f\u4e0d\u80fd\u963b\u6b62\u6211\uff01\u8fd8\u6709\u8c01\uff01\u7b49\u6211\u5148\u628a\u836f\u5403\u4e86";TextTable.t_sharetitle1006_3="\u8c01\u4f1a\u6765\u5395\u6240\u6551\u6551\u6211\uff1f";TextTable.t_sharefeed1006_3="\u8fde\u8fc715\u5173\uff0c\u811a\u9ebb\u4e86\uff01\uff01\uff01";
TextTable.t_sharetitle1006_4="\u4e25\u8083\uff0c\u8fd9\u4e0d\u662f\u73a9\u7b11\u3002";TextTable.t_sharefeed1006_4="\u8fde\u8fc7\u4e8615\u5173\u3002\u624b\u6307\u78e8\u6389\u76ae\u4e86\uff0c\u4f60\u8bd5\u8bd5\uff1f";TextTable.t_sharetitle1006_5="15\u5173\u4e4b\u6b4c";TextTable.t_sharefeed1006_5="\u554a~~15\u5173\uff0c\u4f60\u6bd414\u591a\u4e00\u5173\uff01";TextTable.t_sharetitle1008_1="\u6211\u662f\u7b2c{num}\u4e2a\u901a\u5173\u7684\u4f20\u8bf4\u53a8\u795e\uff01";TextTable.t_sharefeed1008_1="\u8bf7\u53eb\u6211\u53a8\u795e\uff01\u90a3\u4e2a\u4e0d\u95ee\u6c5f\u6e56\uff0c\u4e0d\u95ee\u51fa\u5904\uff0c\u4f4e\u8c03\u800c\u5962\u534e\u7684\u6211\uff01";
TextTable.t_sharetitle1008_2="\u6211\u662f\u7b2c{num}\u4e2a\u901a\u5173\u7684\u4f20\u8bf4\u53a8\u795e\uff01";TextTable.t_sharefeed1008_2="\u6211\u5c31\u561a\u745f\u4e86\u548b\u5730\u5427\uff0c\u4f60\u987a\u7740\u7f51\u7ebf\u54ac\u6211\u554a~";TextTable.t_sharetitle1008_3="\u6211\u662f\u7b2c{num}\u4e2a\u901a\u5173\u7684\u4f20\u8bf4\u53a8\u795e\uff01";TextTable.t_sharefeed1008_3="\u6211\u4e00\u76f4\u5728\u627f\u53d7\u8fd9\u4e2a\u5e74\u7eaa\u4e0d\u8be5\u6709\u7684\u5b9e\u529b\uff01";
TextTable.t_sharetitle1008_4="\u6211\u662f\u7b2c{num}\u4e2a\u901a\u5173\u7684\u4f20\u8bf4\u53a8\u795e\uff01";TextTable.t_sharefeed1008_4="\u4f60\u4eec\u5c31\u5148\u5b9a\u4e2a\u5c0f\u76ee\u6807\u5427\uff0c\u524d14\u4ebf\u540d\u901a\u5173\u5c31\u597d\u4e86\u3002";TextTable.t_sharetitle1008_5="\u6211\u662f\u7b2c{num}\u4e2a\u901a\u5173\u7684\u4f20\u8bf4\u53a8\u795e\uff01";TextTable.t_sharefeed1008_5="\u641e\u4e8b\u60c5\u554a\uff01\u6211\u60f3\u4f4e\u8c03\u4f60\u4e5f\u4fe1\uff01";
TextTable.t_sharetitle1009_1="\u5b8c\u7f8e\u6ee1\u661f\uff0c\u65e0\u4eba\u80fd\u654c\u3002";TextTable.t_sharefeed1009_1="\u524d{num}\u5173\u5168\u90e8\u6ee1\u661f\uff01\u8fd8\u6709\u8c01\u80fd\uff1f";TextTable.t_sharetitle1009_2="\u4eca\u5929\u4f60\u79c0\u667a\u5546\u4e86\u5417";TextTable.t_sharefeed1009_2="\u8fde\u8fc715\u5173\u7684\u4eba\u667a\u5546\u5927\u4e8e250\uff0c\u8981\u4e0d\u8981\u8bd5\u8bd5";TextTable.t_sharetitle1009_3="\u5389\u5bb3\u4e86\u6211\u7684\u661f\uff01";
TextTable.t_sharefeed1009_3="\u4e00\u95ea\u4e00\u95ea\u4eae\u6676\u6676\uff0c\u901a\u5173\u5c31\u662f\u6ee1\u4e09\u661f";TextTable.t_sharetitle1009_4="\u6ca1\u60ac\u5ff5\uff0c\u6c42\u6311\u6218\uff01";TextTable.t_sharefeed1009_4="\u524d{num}\u5173\u5168\u6ee1\u661f\uff0c\u8c01\u80fd\u6321\u6211\uff01";TextTable.t_sharetitle1009_5="\u661f\u661f\u90fd\u88ab\u6211\u5305\u4e86";TextTable.t_sharefeed1009_5="\u591c\u7a7a\u600e\u4e48\u8fd9\u4e48\u9ed1\uff1f\u56e0\u4e3a\u661f\u661f\u90fd\u5728\u6211\u8fd9\u91cc";
TextTable.t_sharetitle1010_1="\u4e0d\u597d\u610f\u601d,\u6211\u8981\u4e0a\u5929\u4e86";TextTable.t_sharefeed1010_1="\u5927\u58f0\u544a\u8bc9\u6211,\u8c01\u662f\u7b2c\u4e00?!";TextTable.t_sharetitle1010_2="\u55e8!\u77e5\u9053\u6211\u662f\u8c01\u4e48?";TextTable.t_sharefeed1010_2="\u6211\u5c31\u90a3\u4e2a\u7b2c\u4e00\u540d\u7684\u5c0f\u53ef\u7231";TextTable.t_sharetitle1010_3="\u7b2c\u4e00\u540d!\u6709\u6ca1\u6709\u7231\u4e0a\u6211";TextTable.t_sharefeed1010_3="\u62ff\u7b2c\u4e00\u5c31\u662f\u7ed9\u4f60\u4e00\u4e2a\u62b1\u62b1\u6211\u7684\u7406\u7531";
TextTable.t_sharetitle1010_4="\u4e0d\u670d\u6c14\u7684\u8bf7\u8fc7\u6765";TextTable.t_sharefeed1010_4='\u6559\u4f60\u600e\u4e48\u5199"\u7b2c\u4e00"!';TextTable.t_sharetitle1010_5="\u597d\u6c14\u54e6~\u53c8\u662f\u7b2c\u4e00\u540d!";TextTable.t_sharefeed1010_5="\u5728\u4e0b\u5c31\u662f\u6d88\u9664\u754c\u7684\u625b\u628a\u5b50";TextTable.t_sharetitle1010_6="\u52a8\u52a8\u624b\u6307,\u8f7b\u677e\u7b2c\u4e00!";TextTable.t_sharefeed1010_6="\u8fd9\u6ce2\u64cd\u4f5c\u4f60\u4eec\u7ed9\u51e0\u5206?";
TextTable.t_sharetitle1011_1="\u5728\u4e0b\u4eba\u79f0\u8650\u83dc\u5c0f\u80fd\u624b!";TextTable.t_sharefeed1011_1="\u6211\u5728\u7b2c{level}\u5173\u5206\u6570\u8d85\u8d8a\u4e86\u4f60,\u6765\u573abattle\u5427!";TextTable.t_sharetitle1011_2="\u8001\u94c1\u4f60\u5fc3\u501f\u6211\u624e\u4e00\u4e0b\u5457!";TextTable.t_sharefeed1011_2="\u521a\u521a\u5728{level}\u5173\u53d1\u751f\u5728\u4f60\u773c\u524d\u7684\u90a3\u534e\u4e3d\u4e00\u8dc3,\u522b\u770b\u4e86,\u662f\u6211~";TextTable.t_sharetitle1011_3="\u5728\u4e0b\u4eba\u79f0\u8650\u83dc\u5c0f\u80fd\u624b!";
TextTable.t_sharefeed1011_3="{level}\u5173\u8d85\u8fc7\u4f60,\u5c31\u559c\u6b22\u4f60\u770b\u4e0d\u60ef\u6211\u53c8\u8d85\u4e0d\u8fc7\u6211\u7684\u6837\u5b50";TextTable.t_sharetitle1011_4="\u5206\u6570\u8f7b\u677e\u8d85\u8d8a,\u5feb\u6765\u819c\u62dc\u5927\u795e!";TextTable.t_sharefeed1011_4="\u989c\u503c\u9ad8\u3001\u6c14\u8d28\u597d\u3001\u8ffd\u6211\u53ea\u80fd\u788e\u8282\u64cd!";TextTable.t_sharetitle1011_5="\u8d85\u8d8a\u597d\u53cb\u6210\u529f,\u4e0d\u670d\u6765\u6218\u554a!";
TextTable.t_sharefeed1011_5="\u6211\u5728{level}\u5173\u8d85\u8fc7\u4f60,\u987a\u4fbf\u624e\u4e86\u4e00\u4e0b\u4f60\u7684\u5fc3~";TextTable.t_sharetitle1011_6="\u6bd4\u8d5b\u7b2c\u4e00,\u53cb\u8c0a\u518d\u8bf4\u5427";TextTable.t_sharefeed1011_6="\u4e0d\u597d\u610f\u601d,\u5728\u4e0b\u53c8\u8d62\u4e86";TextTable.t_sharetitle1012_1="\u5899\u90fd\u4e0d\u6276\u5c31\u670d\u4f60,\u5148\u8fc7\u4f60\u70ed\u70ed\u8eab!";TextTable.t_sharefeed1012_1="{level}\u5173\u6211\u5148\u8d70\u55bd!\u540e\u4f1a\u6709\u671f!";
TextTable.t_sharetitle1012_2="\u8fde\u8650\u4f60\u90fd\u662f\u7231\u4f60\u7684\u5f62\u72b6";TextTable.t_sharefeed1012_2="{level}\u5173\u8d85\u8fc7\u4f60,\u5c31\u559c\u6b22\u4f60\u770b\u4e0d\u60ef\u6211\u53c8\u8d85\u4e0d\u8fc7\u6211\u7684\u6837\u5b50";TextTable.t_sharetitle1012_3="\u88ab\u6211\u8d85\u8d8a\u611f\u89c9\u5982\u4f55~";TextTable.t_sharefeed1012_3="\u6211\u90fd\u5230{level}\u5173\u4e86,\u901f\u901f\u6765\u6bd4\u62fc!";TextTable.t_sharetitle1012_4="\u8d85\u8d8a\u4f60,\u56de\u5934\u7ed9\u4f60\u6bd4\u4e2a\u5fc3";
TextTable.t_sharefeed1012_4="{level}\u5173\u98d8\u8fc7,\u60f3\u6211\u5c31\u4f38\u957f\u8116\u5b50\u773a\u671b\u6211,\u770b\u4e0d\u5230?\u90a3\u5c31\u5bf9\u4e86!";TextTable.t_sharetitle1012_5="\u5466\u543c~\u8d85\u8fc7\u4f60\u55bd!";TextTable.t_sharefeed1012_5="{level}\u5173\u5c31\u6b64\u8bc0\u522b,\u6211\u5148\u8d70!\u52ff\u5ff5~";TextTable.t_sharetitle1012_6="\u8d85\u8d8a\u662f\u6211\u4eba\u751f\u7684\u5e38\u6001";TextTable.t_sharefeed1012_6="{level}\u5173\u8d85\u8fc7\u4f60,\u6bd4\u8d5b\u7b2c\u4e00,\u53cb\u8c0a\u518d\u8bf4\u5427";
TextTable.t_sharetitle1013_1="\u575a\u6301{num}\u5929\u7684\u94f2\u5c4e\u5b98\u8fd8\u60f3\u7ee7\u7eed\u94f2\u5c4e\uff01";TextTable.t_sharefeed1013_1="\u90fd\u5230\u9f50\u4e86\u5417\uff1f\u662f\u65f6\u5019\u5c55\u793a\u771f\u5b9e\u7684\u6280\u672f\u4e86\uff01";TextTable.t_sharetitle1013_2="\u8f6f\u840c\u4e3b\u5b50\u9a7e\u5230";TextTable.t_sharefeed1013_2="\u840c\u5ba0\u6d88\u9664\u6280\u80fd\u53d1\u52a8\uff0c\u4eb2\u4eb2\u62b1\u62b1\u4e3e\u9ad8\u9ad8\uff01";TextTable.t_sharetitle1013_3="\u575a\u633a\u5c31\u662f\u80dc\u5229\uff01";
TextTable.t_sharefeed1013_3="\u8fde\u7eed\u73a9{num}\u5929\uff0c\u770b\u6211\u8fd8\u575a\u633a\u561b\uff1f";TextTable.t_sharetitle1013_4="\u4e0d\u5403\u4e0d\u7761\u4e0d\u4e0a\u5395\u6240";TextTable.t_sharefeed1013_4="so easy\uff01\u5988\u5988\u518d\u4e5f\u4e0d\u7528\u62c5\u5fc3\u6211\u5077\u61d2\u4e86\uff01";TextTable.t_sharetitle1013_5="\u8fde\u7eed\u7b7e\u5230{num}\u5929";TextTable.t_sharefeed1013_5="\u73a9\u6b22\u4e50\u6d88\u6d88\u6d88\uff0c\u6211\u90fd\u5728\u91cc\u9762\u8fde\u73a9{num}\u5929\u5566\u3002";
TextTable.t_sharetitle1017_1="\u65b0\u73a9\u6cd5\u63a8\u8350\u5ba0\u7269\u5927\u63ed\u79d8";TextTable.t_sharefeed1017_1="\u53d1\u73b0\u65b0\u73a9\u6cd5\uff0c\n    \u6211\u884c\u6211\u5148\u4e0a!";TextTable.t_sharetitle1017_2="\u54ea\u4e2a\u4e3b\u53a8\u6700\u597d\u7528\uff1f";TextTable.t_sharefeed1017_2="\u53d1\u73b0\u65b0\u5927\u9646\uff0c\n    \u53c8\u6709\u65b0\u969c\u788d\u5566!";TextTable.t_sharetitle1017_3="\u54ea\u4e2a\u4e3b\u53a8\u901a\u5173\u7387\u9ad8\uff1f";TextTable.t_sharefeed1017_3="\u65b0\u73a9\u6cd5\uff0c\n    \u603b\u6709\u4e00\u4e2a\u5ba0\u7269\u9002\u5408\u4ed6!";
TextTable.t_sharetitle1017_4="\u54ea\u4e2a\u5ba0\u7269\u6700\u53ef\u7231\uff1f";TextTable.t_sharefeed1017_4="\u6700\u65b0\u7684\u73a9\u6cd5\uff0c\n    \u914d\u6700\u840c\u7684\u5ba0!";TextTable.t_sharetitle1017_5="\u5ba0\u7269\u4eba\u6c14\u738b";TextTable.t_sharefeed1017_5="\u65b0\u73a9\u6cd5\uff0c\n    \u5168\u9760\u5b83\u5566!";TextTable.t_sharetitle1017new_1="\u5148\u522b\u73a9\u624b\u673a\u4e86";TextTable.t_sharefeed1017new_1="\u4f60\u5df2\u7ecf\u6210\u529f\u5730\u5f15\u8d77\u4e86\u6211\u7684\u6ce8\u610f";
TextTable.t_sharetitle1017new_2="\u5618,\u522b\u8bf4\u8bdd";TextTable.t_sharefeed1017new_2="\u6211\u597d\u50cf\u53d1\u73b0\u4e86\u4e00\u4e2a\u4e0d\u5f97\u4e86\u7684\u4e8b\u60c5";TextTable.t_sharetitle1017new_3="\u6697\u4e2d\u89c2\u5bdf,\u53c8\u6709\u65b0\u53d1\u73b0";TextTable.t_sharefeed1017new_3="\u7ec8\u4e8e\u7b49\u5230\u4f60,\u8fd8\u597d\u6211\u6ca1\u653e\u5f03~";TextTable.t_sharetitle1017new_4="\u5148\u522b\u73a9\u624b\u673a\u4e86";TextTable.t_sharefeed1017new_4="\u4f60\u5df2\u7ecf\u6210\u529f\u5730\u5f15\u8d77\u4e86\u6211\u7684\u6ce8\u610f";
TextTable.t_sharetitle1017new_5="\u5618,\u522b\u8bf4\u8bdd";TextTable.t_sharefeed1017new_5="\u6211\u597d\u50cf\u53d1\u73b0\u4e86\u4e00\u4e2a\u4e0d\u5f97\u4e86\u7684\u4e8b\u60c5";TextTable.t_sharetitle1017new_6="\u6697\u4e2d\u89c2\u5bdf,\u53c8\u6709\u65b0\u53d1\u73b0";TextTable.t_sharefeed1017new_6="\u7ec8\u4e8e\u7b49\u5230\u4f60,\u8fd8\u597d\u6211\u6ca1\u653e\u5f03~";TextTable.t_sharetitle1019_1="\u5466\u543c\uff01\u4e2d\u5956\u5566\uff01";TextTable.t_sharefeed1019_1="\u79ef\u538b\u4e86\u591a\u5e74\uff0c\u7ec8\u4e8e\u544a\u522b\u5927\u5956\u7edd\u7f18\u4f53";
TextTable.t_sharetitle1019_2="\u539f\u6765\u6211\u624d\u662f\u4e2d\u5956\u4e13\u4e1a\u6237\uff01";TextTable.t_sharefeed1019_2="\u9650\u65f6\u5956\u52b1Get\uff01\u6211\u662f\u8001\u53f8\u673a\uff0c\u5e26\u4f60\u98de~";TextTable.t_sharetitle1019_3="\u8fd9\u4efd\u5927\u793c\u6211\u5148\u6536\u4e3a\u656c\uff01";TextTable.t_sharefeed1019_3="\u7231\u73a9\u8fd9\u4e2a\u6e38\u620f\u7684\u4eba\u8fd0\u6c14\u90fd\u4e0d\u4f1a\u592a\u5dee\u54e6\uff01";TextTable.t_sharetitle1019_4="\u9650\u65f6\u5927\u5b9d\u7bb1\uff0c\u5751\u795e\u4e0d\u8981\u6015";
TextTable.t_sharefeed1019_4="\u6211\u662f\u8001\u53f8\u673a\uff0c\u5e26\u4f60\u8131\u5751\u5566~";TextTable.t_sharetitle1019_5="\u8c01\u9650\u65f6\u5173\u5361\u51fa\u73b0\u51e0\u7387\u9ad8\uff1f";TextTable.t_sharefeed1019_5="\u6211\u662f\u8001\u53f8\u673a\uff0c\u6bcf\u6b21\u4e2d\u5927\u5956\uff0c\u6b27\u7687\u6c42\u53ec\u5524~";TextTable.t_sharetitle1018="\u9650\u65f6\u5173\u5361\u6c42\u52a9\uff0c\u4e00\u8d77\u6765\u9886\u5956\u52b1\u554a";TextTable.t_sharefeed1018="\u8fd8\u5269{time}\uff0c\u548c\u6211\u4e00\u8d77\u95ef\u5173\u9886\u5b9d\u7bb1\u5427~";
TextTable.t_sharetitle1018_1="\u548c\u6211\u4e00\u8d77\u74dc\u5206\u9650\u65f6\u5927\u5956";TextTable.t_sharefeed1018_1="\u4f60\u4f38\u51fa\u53cb\u8c0a\u7684\u5c0f\u624b,\u6211\u8fd8\u4f60\u4e00\u4e2a666";TextTable.t_sharetitle1018_2="\u5f53\u670b\u53cb\u90a3\u4e48\u4e45\u4e86";TextTable.t_sharefeed1018_2="\u662f\u65f6\u5019\u8ba9\u53cb\u8c0a\u7684\u5c0f\u8239\u7ecf\u5386\u98ce\u96e8\u4e86";TextTable.t_sharetitle1018_3="\u628a\u6211\u4eec\u5173\u7cfb\u62c9\u8fd1\u4e00\u6b65";
TextTable.t_sharefeed1018_3="\u7ed9\u4f60\u4e2a\u82f1\u96c4\u6551\u7f8e\u7684\u673a\u4f1a";TextTable.t_sharetitle1018_4="\u60f3\u548c\u4f60\u4e00\u8d77\u770b\u4e16\u754c";TextTable.t_sharefeed1018_4="\u4f60\u7684\u5c0f\u53ef\u7231\u6b63\u5728\u9080\u8bf7\u4f60\u4e00\u8d77\u95ef\u5173";TextTable.t_sharetitle1018_5="\u65e2\u7136\u4f60\u8fd9\u4e48\u95ee\u4e86\u90a3\u6211\u5c31";TextTable.t_sharefeed1018_5="\u6084\u6084\u5206\u4eab\u4e00\u4e2a\u9650\u65f6\u5173\u5361,\u4e00\u822c\u4eba\u4e0d\u544a\u8bc9\u4ed6";
TextTable.t_sharetitle1018_6="\u9650\u65f6\u5173\u5361\u6c42\u52a9";TextTable.t_sharefeed1018_6="\u5feb\u8ddf\u6211\u4e00\u8d77\u95ef\u5173\u9886\u5b9d\u7bb1!";TextTable.t_sharetitle1020_1="\u6765\u4e0d\u53ca\u89e3\u91ca\u4e86,\u5feb\u4e0a\u8f66!";TextTable.t_sharefeed1020_1="\u65b0\u9910\u8f66!\u4ece\u6b64\u6210\u4e3a\u6709\u8f66\u4e00\u65cf!";TextTable.t_sharetitle1020_2="\u6ef4,\u9910\u8f66\u5361!";TextTable.t_sharefeed1020_2="\u5404\u4f4d\u4e58\u5ba2\u8bf7\u6ce8\u610f,\u524d\u65b9\u5230\u7ad9\u7f8e\u98df\u738b\u56fd!";
TextTable.t_sharetitle1020_3="\u9910\u8f66\u4e2d\u7684\u6218\u6597\u673a";TextTable.t_sharefeed1020_3="\u5600\u5600,\u65b0\u8f66\u9a7e\u5230,\u8001\u53f8\u673a\u5e26\u4f60\u53bb\u515c\u98ce?";TextTable.t_sharetitle1020_4="\u6765\u4e0d\u53ca\u89e3\u91ca\u4e86,\u5feb\u4e0a\u8f66!";TextTable.t_sharefeed1020_4="\u65b0\u9910\u8f66!\u4ece\u6b64\u6210\u4e3a\u6709\u8f66\u4e00\u65cf!";TextTable.t_sharetitle1020_5="\u6ef4,\u9910\u8f66\u5361!";TextTable.t_sharefeed1020_5="\u5404\u4f4d\u4e58\u5ba2\u8bf7\u6ce8\u610f,\u524d\u65b9\u5230\u7ad9\u7f8e\u98df\u738b\u56fd!";
TextTable.t_sharetitle1020_6="\u9910\u8f66\u4e2d\u7684\u6218\u6597\u673a";TextTable.t_sharefeed1020_6="\u5600\u5600,\u65b0\u8f66\u9a7e\u5230,\u8001\u53f8\u673a\u5e26\u4f60\u53bb\u515c\u98ce?";TextTable.t_sharetitle2008_1="360\u5ea6\u65e0\u6b7b\u89d2\u7684\u7f8e";TextTable.t_sharefeed2008_1="\u8ba9\u4f60\u4eec\u89c1\u8bc6\u4e00\u4e0b\u82b1\u89c1\u82b1\u5f00\u662f\u600e\u6837\u4e00\u79cd\u4f53\u9a8c";TextTable.t_sharetitle2008_2="\u6ee1\u8138\u7684\u53ef\u7231";TextTable.t_sharefeed2008_2="\u597d\u4e86\u4f60\u4e0d\u8981\u518d\u5938\u4e86,\u6211\u77e5\u9053\u6211\u6700\u597d\u770b";
TextTable.t_sharetitle2008_3="\u9664\u5b9e\u529b,\u6211\u4e5f\u9760\u8138\u5403\u996d";TextTable.t_sharefeed2008_3="\u4e00\u4e2a\u840c\u5ba0\u7a7f\u642d\u8fbe\u4eba\u7684\u81ea\u6211\u4fee\u517b";TextTable.t_sharetitle2008_4="\u65b0\u8863\u6253\u626e,\u671f\u5f85\u4e0e\u4f60\u76f8\u9047";TextTable.t_sharefeed2008_4="\u7b49\u4f1a\u513f\u89c1\u4f60\u4e00\u5b9a\u6bd4\u60f3\u50cf\u7f8e";TextTable.t_sharetitle2008_5="\u4eca\u5e74\u6700\u65f6\u5c1a\u6700\u6f6e\u7684look";TextTable.t_sharefeed2008_5="\u65b0\u8863\u4e0a\u8eab,\u989c\u503c\u6ee1\u5206,\u840c\u5ba0\u754c\u7684\u5076\u50cf!";
TextTable.t_sharetitle2008_6="\u6bcf\u5929\u90fd\u4f1a\u88ab\u81ea\u5df1\u8ff7\u5012";TextTable.t_sharefeed2008_6="\u8bf7\u95ee,\u5982\u4f55\u80fd\u8ba9\u81ea\u5df1\u4e0d\u88ab\u81ea\u5df1\u7f8e\u54ed";TextTable.t_sharetitle1023_1="\u65cb\u8f6c\u8df3\u8dc3,\u6211\u95ed\u7740\u773c";TextTable.t_sharefeed1023_1="{num}\u8fde\u6d88!\u5927\u5bb6\u4e00\u8d77\u53eb\u6211\u8fde\u6d88\u5c0f\u80fd\u624b";TextTable.t_sharetitle1023_2="\u5f00\u59cb\u4e86\u5c31\u505c\u4e0d\u4e0b\u6765";
TextTable.t_sharefeed1023_2="{num}\u8fde\u6d88!\u4e00\u4e0d\u5c0f\u5fc3\u7ed9\u81ea\u5df1\u653e\u4e86\u4e00\u573a\u70df\u82b1";TextTable.t_sharetitle1023_3="\u65b0\u7eaa\u5f55\u521b\u9020\u65f6\u523b!";TextTable.t_sharefeed1023_3="\u5f00\u5fc3\u6b7b\u5b9d\u5b9d\u4e86,\u7adf\u7136\u8fde\u6d88{num}\u6b21!";TextTable.t_sharetitle1023_4="\u54c7!\u8bf4\u51fa\u6765\u4f60\u53ef\u80fd\u4e0d\u4fe1";TextTable.t_sharefeed1023_4="\u8fde\u6d88{num}\u6b21,\u6211\u679c\u7136\u8fd8\u662f\u90a3\u4e2a\u6700\u68d2\u7684\u5b69\u5b50";
TextTable.t_sharetitle1023_5="\u7ed9\u4f60\u4e00\u4e2a\u819c\u62dc\u6211\u7684\u7406\u7531";TextTable.t_sharefeed1023_5="\u8fde\u6d88{num}\u6b21,\u6211\u5c31\u662f\u4f60\u4eec\u53e3\u4e2d\u7684\u5927\u4f6c";TextTable.t_sharetitle1023_6="\u6d88\u9664\u5c0f\u80fd\u624b\u5728\u6b64";TextTable.t_sharefeed1023_6="\u8fde\u6d88{num}\u6b21,\u9700\u8981\u501f\u4e00\u6761\u5927\u817f\u8ba9\u4f60\u4eec\u62b1\u4e48?";TextTable.t_sharetitle2010_1="\u6211\u53d1\u73b0\u4e86\u5b9d\u85cf\uff0c\u5feb\u6765\u56f4\u89c2\uff01";
TextTable.t_sharefeed2010_1="\u6211\u53d1\u73b0\u4e86\u5b9d\u85cf\uff0c\u5feb\u6765\u56f4\u89c2\uff01";TextTable.t_sharetitle2010_2="\u4f60\u4eec\u4e0d\u7ba1\u7ba1\u5417\uff01";TextTable.t_sharefeed2010_2="\u6211\u8fa3\u4e48\u5e05\u8fd8\u8fa3\u4e48\u5e78\u8fd0\uff0c\u4f60\u4eec\u771f\u7684\u4e0d\u7ba1\u5417\uff1f";TextTable.t_sharetitle2011_1="\u4eca\u65e5\u8fd0\u52bf\u4e94\u9897\u661f\uff01";TextTable.t_sharefeed2011_1="\u54c7\u54e6\uff01\u8d85\u503c\u798f\u5229~\u9ebb\u9ebb\u518d\u4e5f\u4e0d\u7528\u62c5\u5fc3\u6211\u6ca1\u4f53\u529b\u5566~";
TextTable.t_sharetitle2011_2="\u9886\u798f\u5229\u5566\uff01";TextTable.t_sharefeed2011_2="\u6211\u9886\u5230\u4e86\u53cc\u500d\u798f\u5229\uff0c\u4f60\u4e5f\u6765\u8bd5\u8bd5\uff1f";TextTable.t_sharetitle2011_3="\u6211\u989c\u503c\u8fd9\u4e48\u9ad8\uff0c\u4f60\u4eec\u4e5f\u4e0d\u7ba1\uff01";TextTable.t_sharefeed2011_3="\u542c\u8bf4\uff0c\u989c\u503c\u9ad8\u7684\u624d\u4f1a\u9886\u5230\u60ca\u559c\u798f\u5229\uff0c\u4e0d\u8981\u7fa1\u6155\u6211~";TextTable.t_sharetitle2011_4="\u559c\u6b22\u4f60";
TextTable.t_sharefeed2011_4="\u559c\u6b22\u4f60\u5230\u5929\u8352\u5730\u8001\uff0c\u8d85\u503c\u798f\u5229\u5949\u4e0a~";TextTable.t_sharetitle2011_5="\u8bd5\u8bd5\u624b\u6c14\uff1f";TextTable.t_sharefeed2011_5="\u7b49\u5395\u6240\u65f6\u95f4\u522b\u65e0\u804a\uff0c\u6765\u9886\u4e2a\u60ca\u559c\u798f\u5229~";TextTable.t_sharetitle3100_1="\u6211\u8f7b\u677e\u5c06\u4f60\u51fb\u8d25\u5e76\u624e\u4e86\u4e00\u4e0b\u4f60\u7684\u5fc3\uff01";TextTable.t_sharefeed3100_1="\u6211\u8f7b\u677e\u5c06\u4f60\u51fb\u8d25\u5e76\u624e\u4e86\u4e00\u4e0b\u4f60\u7684\u5fc3\uff01";
TextTable.t_sharetitle3100_2="\u60ca\u4e0d\u60ca\u559c\uff01\u610f\u4e0d\u610f\u5916\uff01\u6765battle\u554a\uff01";TextTable.t_sharefeed3100_2="\u60ca\u4e0d\u60ca\u559c\uff01\u610f\u4e0d\u610f\u5916\uff01\u6765battle\u554a\uff01";TextTable.t_sharetitle3100_3="\u660e\u660e\u6709\u989c\u503c\uff0c\u504f\u504f\u9760\u5b9e\u529b\uff0c\u5c31\u8fd9\u4e48\u4efb\u6027";TextTable.t_sharefeed3100_3="\u660e\u660e\u6709\u989c\u503c\uff0c\u504f\u504f\u9760\u5b9e\u529b\uff0c\u5c31\u8fd9\u4e48\u4efb\u6027";
TextTable.t_sharetitle3100_4="\u8d85\u8d8a\u4f60\uff0c\u5e76\u6446\u51fa\u4fef\u89c6\u4f60\u7684\u59ff\u52bf";TextTable.t_sharefeed3100_4="\u8d85\u8d8a\u4f60\uff0c\u5e76\u6446\u51fa\u4fef\u89c6\u4f60\u7684\u59ff\u52bf";TextTable.t_sharetitle3100_5="\u7ed9\u4f60\u4e2a\u673a\u4f1a\uff0c\u957f\u65f6\u95f4\u770b\u7740\u6211\u7684\u80cc\u5f71";TextTable.t_sharefeed3100_5="\u7ed9\u4f60\u4e2a\u673a\u4f1a\uff0c\u957f\u65f6\u95f4\u770b\u7740\u6211\u7684\u80cc\u5f71";TextTable.t_LuckyInvitationtitle="\u5e78\u8fd0\u8f6c\u8f6c\u8f6c";
TextTable.t_LuckyInvitationfeed="\u6211\u8981\u5f00\u542f\u5e78\u8fd0\u5927\u8f6c\u76d8\u5566\uff01\u5feb\u6765\u5e2e\u5e2e\u6211~";TextTable.t_sharetitle3003_1="\u5e78\u8fd0\u8f6c\u8f6c\u8f6c";TextTable.t_sharetitle3003_2="\u4e00\u8d77\u6765\u5f00\u542f\u5927\u8f6c\u76d8\u5427";TextTable.t_sharetitle3003_3="\u4f60\u662f\u6211\u6700\u60f3\u7559\u4f4f\u7684\u5e78\u8fd0";TextTable.t_sharetitle3003_4="\u5e78\u8fd0\u8f6c\u8f6c\u8f6c";TextTable.t_sharetitle3003_5="\u4e00\u8d77\u6765\u5f00\u542f\u5927\u8f6c\u76d8\u5427";
TextTable.t_sharetitle3003_6="\u4f60\u662f\u6211\u6700\u60f3\u7559\u4f4f\u7684\u5e78\u8fd0";TextTable.t_sharefeed3003_1="\u8dea\u6c42\u4e00\u6761\u9526\u9ca4!!";TextTable.t_sharefeed3003_2="\u8bf7\u4f38\u51fa\u4f60\u53cb\u7231\u7684\u5c0f\u624b\u624b\u597d\u561b?";TextTable.t_sharefeed3003_3="\u4e00\u8d77\u6765\u5f00\u542f\u5927\u8f6c\u76d8\u5427~";TextTable.t_sharefeed3003_4="\u8dea\u6c42\u4e00\u6761\u9526\u9ca4!!";TextTable.t_sharefeed3003_5="\u8bf7\u4f38\u51fa\u4f60\u53cb\u7231\u7684\u5c0f\u624b\u624b\u597d\u561b?";
TextTable.t_sharefeed3003_6="\u4e00\u8d77\u6765\u5f00\u542f\u5927\u8f6c\u76d8\u5427~";TextTable.t_sharetitle3001="\u5feb\uff01\u8fdb\u6765\u5e2e\u6211\u9886\u4e2a\u5956\uff01";TextTable.t_sharefeed3001="\u65e0\u9700\u4e0b\u8f7d\uff0c\u70b9\u5f00\u5373\u73a9\uff0c\u60f3\u548c\u4f60\u4e00\u8d77\u6d88\u9664\u5230\u7ec8\u70b9\uff01";TextTable.t_sharetitle3002_1="\u6b22\u4e50\u6d88\u6d88\u6d88";TextTable.t_sharetitle3002_2="\u6b22\u4e50\u6d88\u6d88\u6d88";TextTable.t_sharetitle3002_3="\u5feb\u6765\u966a\u6211\u73a9\u6e38\u620f!";
TextTable.t_sharetitle3002_4="\u63a8\u8350\u4f60\u4e00\u4e2a\u597d\u4e1c\u897f";TextTable.t_sharetitle3002_5="\u4e00\u79d2\u949f\u6d4b\u8bd5\u4f60\u7684\u667a\u5546";TextTable.t_sharetitle3002_6="\u544a\u8bc9\u4f60\u4e00\u4e2a\u5c0f\u79d8\u5bc6";TextTable.t_sharefeed3002_1="\u817e\u8baf\u9996\u6b3e\u840c\u5ba0\u6d88\u9664\u6e38\u620f,\u65e0\u9700\u4e0b\u8f7d,\u70b9\u5f00\u5373\u73a9";TextTable.t_sharefeed3002_2="\u817e\u8baf\u9996\u6b3e\u840c\u5ba0\u6d88\u9664\u6e38\u620f,\u957f\u5f97\u597d\u770b\u7684\u4eba\u90fd\u5728\u73a9";
TextTable.t_sharefeed3002_3="\u4e0d\u561b\u4e0d\u561b,\u6211\u5c31\u662f\u8981\u8ba9\u4f60\u966a\u6211\u73a9\u6b22\u4e50\u6d88\u6d88\u6d88";TextTable.t_sharefeed3002_4="\u597d\u73a9\u7684\u6e38\u620f\u5c31\u662f\u8981\u5206\u4eab\u7ed9\u597d\u770b\u7684\u4eba";TextTable.t_sharefeed3002_5="\u5feb\u6765\u6d4b\u4e00\u6d4b\u4f60\u6709\u591a\u806a\u660e";TextTable.t_sharefeed3002_6="\u627e\u5bf9\u8c61\u4e4b\u524d\u4e00\u5b9a\u8981\u5148\u505a\u8fd9\u4ef6\u4e8b";TextTable.t_sharefeed3002="\u6559\u4f60\u4e00\u62db\u6b66\u6797\u7edd\u5b66\uff1a\u4f60\u8fc7\u6765\u554a\uff01\u6211\u7684id\uff1a{id}";
TextTable.t_sharetitle3004_1="\u6b22\u4e50\u6d88\u6d88\u6d88";TextTable.t_sharetitle3004_2="\u6b22\u4e50\u6d88\u6d88\u6d88";TextTable.t_sharetitle3004_3="\u5feb\u6765\u966a\u6211\u73a9\u6e38\u620f!";TextTable.t_sharetitle3004_4="\u63a8\u8350\u4f60\u4e00\u4e2a\u597d\u4e1c\u897f";TextTable.t_sharetitle3004_5="\u4e00\u79d2\u949f\u6d4b\u8bd5\u4f60\u7684\u667a\u5546";TextTable.t_sharetitle3004_6="\u544a\u8bc9\u4f60\u4e00\u4e2a\u5c0f\u79d8\u5bc6";TextTable.t_sharefeed3004_1="\u817e\u8baf\u9996\u6b3e\u840c\u5ba0\u6d88\u9664\u6e38\u620f,\u65e0\u9700\u4e0b\u8f7d,\u70b9\u5f00\u5373\u73a9";
TextTable.t_sharefeed3004_2="\u817e\u8baf\u9996\u6b3e\u840c\u5ba0\u6d88\u9664\u6e38\u620f,\u957f\u5f97\u597d\u770b\u7684\u4eba\u90fd\u5728\u73a9";TextTable.t_sharefeed3004_3="\u4e0d\u561b\u4e0d\u561b,\u6211\u5c31\u662f\u8981\u8ba9\u4f60\u966a\u6211\u73a9\u6b22\u4e50\u6d88\u6d88\u6d88";TextTable.t_sharefeed3004_4="\u597d\u73a9\u7684\u6e38\u620f\u5c31\u662f\u8981\u5206\u4eab\u7ed9\u597d\u770b\u7684\u4eba";TextTable.t_sharefeed3004_5="\u5feb\u6765\u6d4b\u4e00\u6d4b\u4f60\u6709\u591a\u806a\u660e";
TextTable.t_sharefeed3004_6="\u627e\u5bf9\u8c61\u4e4b\u524d\u4e00\u5b9a\u8981\u5148\u505a\u8fd9\u4ef6\u4e8b";TextTable.t_sharetitle3001_1="\u6b22\u4e50\u6d88\u6d88\u6d88";TextTable.t_sharetitle3001_2="\u6b22\u4e50\u6d88\u6d88\u6d88";TextTable.t_sharetitle3001_3="\u5feb\u6765\u966a\u6211\u73a9\u6e38\u620f!";TextTable.t_sharetitle3001_4="\u63a8\u8350\u4f60\u4e00\u4e2a\u597d\u4e1c\u897f";TextTable.t_sharetitle3001_5="\u4e00\u79d2\u949f\u6d4b\u8bd5\u4f60\u7684\u667a\u5546";
TextTable.t_sharetitle3001_6="\u544a\u8bc9\u4f60\u4e00\u4e2a\u5c0f\u79d8\u5bc6";TextTable.t_sharefeed3001_1="\u817e\u8baf\u9996\u6b3e\u840c\u5ba0\u6d88\u9664\u6e38\u620f,\u65e0\u9700\u4e0b\u8f7d,\u70b9\u5f00\u5373\u73a9";TextTable.t_sharefeed3001_2="\u817e\u8baf\u9996\u6b3e\u840c\u5ba0\u6d88\u9664\u6e38\u620f,\u957f\u5f97\u597d\u770b\u7684\u4eba\u90fd\u5728\u73a9";TextTable.t_sharefeed3001_3="\u4e0d\u561b\u4e0d\u561b,\u6211\u5c31\u662f\u8981\u8ba9\u4f60\u966a\u6211\u73a9\u6b22\u4e50\u6d88\u6d88\u6d88";
TextTable.t_sharefeed3001_4="\u597d\u73a9\u7684\u6e38\u620f\u5c31\u662f\u8981\u5206\u4eab\u7ed9\u597d\u770b\u7684\u4eba";TextTable.t_sharefeed3001_5="\u5feb\u6765\u6d4b\u4e00\u6d4b\u4f60\u6709\u591a\u806a\u660e";TextTable.t_sharefeed3001_6="\u627e\u5bf9\u8c61\u4e4b\u524d\u4e00\u5b9a\u8981\u5148\u505a\u8fd9\u4ef6\u4e8b";TextTable.t_sharetitle1001="\u7334\u585e\u96f7\uff01\u6392\u540d\u8d85\u767e\u4e07\uff01";TextTable.t_sharetitle1002="\u7ec8\u4e8e\u4e0a\u699c\u55bd\uff01\u770b\u6211\u7684\u5168\u56fd\u6392\u540d\uff01";
TextTable.t_sharetitle1003="\u5413\u6b7b\u5b9d\u5b9d\u5566\uff01\u6c42\u5b89\u6170\uff01";TextTable.t_sharetitle1004="\u6211\u7684\u5929\u5450\u3002\u3002";TextTable.t_sharetitle1005="\u542b\u7b11\u4e94\u6b65\u8fc7\uff01\u4f60\u8bd5\u8bd5\uff1f";TextTable.t_sharetitle1006="\u770b\u6211\u5f3a\u58ee\u53c8\u6301\u4e45\uff01";TextTable.t_sharetitle1007="\u53d1\u73b0\u65b0\u5927\u9646\u5566\uff1f";TextTable.t_sharetitle1008="\u5343\u91cc\u6311\u4e00\uff0c\u6709\u6211\u6ca1\u4f60\uff1f";
TextTable.t_sharetitle1009="\u5b8c\u7f8e\u6ee1\u661f\uff0c\u65e0\u4eba\u53ef\u654c\uff01";TextTable.t_sharetitle1010="\u6211\u7b2c\u4e00\uff0c\u6211\u9a84\u50b2\uff01";TextTable.t_sharetitle1011="\u8f7b\u677e\u8d85\u8fc7\u4f60\uff0c\u6211\u5f88\u6127\u759a\u7684\u5566~";TextTable.t_sharetitle1012="\u8ffd\u6211\u5440\uff0c\u8ffd\u4e0a\u5c31\u8ba9\u4f60\u2026";TextTable.t_sharetitle1013="\u6211\u662f\u52e4\u52b3\u7684\u5c0f\u871c\u8702\uff01\u55e1";TextTable.t_sharetitle1014="\u5148\u5b9a\u4e2a\u62ff\u51a0\u519b\u7684\u5c0f\u76ee\u6807";
TextTable.t_sharetitle1015="\u4f26\u5bb6\u8fd8\u5728\u957f\u8eab\u4f53~";TextTable.t_sharetitle1016="\u6211\u7684\u5c0f\u53ef\u7231\u7687\u51a0\u7ed9\u4f60\u622a";TextTable.t_sharetitle1017="\u53d1\u73b0\u65b0\u5927\u9646\u5566\uff01";TextTable.t_sharetitle1019="\u9886\u5927\u5956\u4e86\uff0c\u624b\u6162\u65e0\uff01";TextTable.t_sharetitle1020="\u5600\uff0c\u8001\u53f8\u673a\u5361~";TextTable.t_sharetitle1021="\u65f6\u5c1a\u65f6\u5c1a\u6700\u65f6\u5c1a\uff01";TextTable.t_sharetitle2001="\u5389\u5bb3\u4e86\u6211\uff0c\u901a\u5173\u5c0f\u80fd\u624b\u5462\uff01";
TextTable.t_sharetitle2002="\u6b22\u4e50\u6d88\u6d88\u6d88";TextTable.t_sharetitle2003="\u6b22\u4e50\u6d88\u6d88\u6d88";TextTable.t_sharetitle2004="\u5c0f\u76ee\u6807\u5148\u9001\u4f60\u4e00\u70b9\u4f53\u529b";TextTable.t_sharetitle2005="\u5c0f\u76ee\u6807\u5148\u9001\u4f60\u4e00\u70b9\u4f53\u529b";TextTable.t_sharefeed1001="\u6211\u7684\u5206\u6570\u8d85\u8fc7\u4e86\u4e00\u767e\u4e07\u4eba\uff0c\u6765\u73a9\u5427\uff0c\u6211\u5e26\u4f60\uff01";TextTable.t_sharefeed1002="\u6211\u7684\u7b2c{level}\u5173\uff0c\u5168\u56fd\u6392\u7b2c{num}\u540d\uff0c\u522b\u7fa1\u6155\u6211\u54e6\uff01";
TextTable.t_sharefeed1003="\u6700\u540e\u4e00\u6b65\u8fc7\u5173\uff01\u521a\u521a\u592a\u60ca\u9669\u5566\uff01\u6c42\u4eba\u5b89\u6170\u4e00\u4e0b\u5b9d\u5b9d\uff01";TextTable.t_sharefeed1004="\u6211\u7684\u5929\u5450\uff01\u7ec8\u4e8e\u8fc7\u5173\u5566\uff01\u8fd9\u5173\u5361\u4e86\u6211 {num} \u6b21\u554a\uff01\u6211\u4e0d\u4fe1\u4f60\u4e00\u6b21\u8fc7\uff01";TextTable.t_sharefeed1005="\u4e94\u6b65\u5c31\u8fc7\u5173\u4e86\uff0c\u4f60\u884c\u4e48\uff1f";TextTable.t_sharefeed1006="\u8fdb\u6765\u770b\u770b\u4f60\u884c\u4e0d\u884c\uff01";
TextTable.t_sharefeed1007="\u6211\u53d1\u73b0\u4e86\u65b0\u7684\u5173\u5361\uff01\u4f60\u4eec\u90fd\u53d1\u73b0\u4e86\u4e48\uff1f";TextTable.t_sharefeed1008="\u5b8c\u7f8e\u901a\u5173\uff0c\u4f60\u4eec\u90fd\u592a\u6162\u5566\uff01\u54c7\u54c8\u54c8\u54c8\u54c8~";TextTable.t_sharefeed1009="\u60ca\u5446\u4e86\uff0c\u6211\u7684\u7b2c\u4e00\u4e2a\u6ee1\u5206\u7adf\u7136\u662f\u8fd9\u4e48\u6765\u7684\u2026\u2026";TextTable.t_sharefeed1010="\u6211\u662f\u7b2c\u4e00\u540d\uff0c\u4f60\u4e0d\u6765\u770b\u770b\uff1f";
TextTable.t_sharefeed1011="\u4e0d\u7ba1\u4f60\u8fdb\u6b65\u6709\u591a\u5feb\uff0c\u4f60\u59cb\u7ec8\u53ea\u80fd\u671b\u89c1\u6211\u7684\u80cc\u5f71";TextTable.t_sharefeed1012="\u6211\u8fc5\u96f7\u4e0d\u53ca\u63a9\u8033\u76d7\u94c3\u4e4b\u52bf\u5982\u7834\u7af9\u7684\u5c31\u8d85\u8fc7\u4f60\u4e86\uff0c\u563b\u563b\uff01\uff01";TextTable.t_sharefeed1013="28\u5929\u4e0d\u4f11\u606f\uff0c\u4ec0\u4e48\u6e38\u620f\u8ba9\u6211\u5982\u6b64\u7740\u8ff7\uff1f";TextTable.t_sharefeed1014="\u6211\u7684\u201c{name}\u201d\u662f\u6700\u68d2\u7684\uff0c\u7b2c\u4e00\u540d\u8036\uff01";
TextTable.t_sharefeed1015="\u8981\u957f\u8eab\u4f53\u591a\u8865\u9499\uff0c\u79d8\u8bc0\u70b9\u6211\u544a\u8bc9\u4f60\uff01";TextTable.t_sharefeed1016="\u6211\u7684\u65b0\u670b\u53cb\uff0c\u6211\u613f\u610f\u4e00\u751f\u7167\u987eTa\uff0c\u5ba0\u7231Ta";TextTable.t_sharefeed1017="\u54c7\uff0c\u53d1\u73b0\u65b0\u73a9\u6cd5\u5566\uff01\u597d\u523a\u6fc0\uff0c\u597d\u8212\u723d\uff01";TextTable.t_sharefeed1019="\u521a\u521a\u8d62\u53d6\u4e86\u9650\u65f6\u5b9d\u7bb1\uff0c\u4e0b\u6b21\u4f60\u4e5f\u8981\u6765\u54e6~";
TextTable.t_sharefeed1020="\u6210\u5c31\u8fbe\u6210\u6362\u65b0\u8f66\uff0c\u8001\u53f8\u673a\u5e26\u4f60\u515c\u98ce~";TextTable.t_sharefeed1021='\u6211\u7684"{name}"\u83b7\u5f97\u4e86\u4e00\u4ef6\u65b0\u8863\u670d\uff0c\u8863\u670d\u5728\u624b\uff0c\u5929\u4e0b\u6211\u6709\uff01';TextTable.t_sharefeed2001="\u6210\u529f\u95ef\u8fc7 {num} \u5173\uff01\u4e0d\u7528\u7fa1\u6155\uff0c\u70b9\u6211\u5373\u73a9";TextTable.t_sharefeed2002="\u53ef\u7231\u4e0d\u53ef\u7231\uff1f\uff01";
TextTable.t_sharefeed2003="\u4e00\u8d77\u6765\u73a9\u5427~";TextTable.t_sharefeed2004="\u6709\u4e86\u4f53\u529b\u53ef\u4ee5\u7ee7\u7eed\u6b22\u4e50\u6d88\u9664\u5566\uff01";TextTable.t_sharefeed2005="\u53cb\u8c0a\u5c31\u662f\u8981\u4e92\u9001\u4f53\u529b\u7684\u561b\uff01\u6211\u7684\u8d26\u53f7\uff1a{id}";TextTable.t_sharetitle2006_1="\u8bba\u667a\u5546\uff0c\u6211\u53ea\u670d\u54c8\u58eb\u5947\uff01";TextTable.t_sharefeed2006_1="\u662f\u54c8\u58eb\u5947\u7684\u9677\u9631\u592a\u591a\uff0c\u8fd8\u662f\u6211\u592a\u5355\u7eaf\u2026\u2026";
TextTable.t_sharetitle2006_2="\u73a9\u4e0d\u73a9\uff0c\u4f60\u96be\u9053\u8fd8\u6ca1\u6709\u70b9\u6570\uff1f";TextTable.t_sharefeed2006_2="\u4f24\u4eba\u6700\u6df1\u7684\u6c38\u8fdc\u662f\u8fd9\u53e5\u8bdd\uff1a\u4f60\u6ca1\u73a9\u6b22\u4e50\u6d88\u6d88\u6d88\u5417\uff1f";TextTable.t_sharetitle2006_3="\u8ba9\u72d7\u7cae\u6765\u7684\u66f4\u731b\u70c8\u4e9b\u5427~";TextTable.t_sharefeed2006_3="\u552f\u6b22\u4e50\u4e0d\u53ef\u8f9c\u8d1f\uff0c\u7b49\u4f60\u6765\u6d88\uff01";
TextTable.t_sharetitle2006_4="\u4e0e\u54c8\u58eb\u5947\u6597\u667a\u6597\u52c7\uff0c\u4f60\u667a\u5546\u591f\u5417\uff1f";TextTable.t_sharefeed2006_4="\u6211\u5df2\u7ecf\u6389\u8fdb\u54c8\u58eb\u5947\u7684\u9677\u9631\u65e0\u6570\u6b21\uff0c\u4f60\u6765\u8bd5\u8bd5\uff1f";TextTable.t_sharetitle2006_5="\u6765\u6551\u6211\uff0c\u6211\u88ab\u54c8\u58eb\u5947\u6b3a\u9a97\u4e86\uff01";TextTable.t_sharefeed2006_5="\u8fd9\u6c38\u8fdc\u662f\u4f60\u731c\u4e0d\u900f\u7684\u6b22\u4e50\u6d88\u6d88\u6d88\uff01";
TextTable.t_maptips001="\u6211\u5c31\u77e5\u9053\u4f60\u6253\u5173\u6ca1\u6211\u5feb~";TextTable.t_maptips002="\u5feb\u6765\u8d85\u8fc7\u6211\u5440~";TextTable.t_maptips003="\u5662\u54df~\u4f60\u771f\u6162\u54e6~";TextTable.t_maptips004="O(\u2229_\u2229)O~\u6211\u9886\u5148\u4e86~";TextTable.t_maptips005="\u6211\u662f\u7b2c\u4e00\u540d~";TextTable.t_maptips006="\u9886\u5148\u54af~";TextTable.t_sharefriend_tips="\u5206\u4eab\u5230\u7a7a\u95f4";TextTable.t_sharefeed1004_level_pass="\u6b21\u8fc7\u5173";
TextTable.t_sharefeed1004_level_di="\u7b2c";TextTable.t_sharefeed1004_level_guan="\u5173";TextTable.t_ShareKit_Text_Desc="\u9080\u8bf7QQ\u597d\u53cb\u767b\u9646\u6e38\u620f\uff0c\u5373\u53ef\u9886\u53d6\u94bb\u77f3\u5956\u52b1\u54e6\uff01";TextTable.t_ShareKit_Text_inviteCount="\u9080\u8bf7\u597d\u53cb\u6570\uff1a";TextTable.t_ShareKit_Text_starCount="\u70b9\u51fb\u62bd\u5956\uff0c\u53ef\u968f\u673a\u62bd\u53d6\u74f6\u5b50\u5185\u5956\u52b1~";TextTable.t_ShareKit_Text_Tip="\u518d\u9080\u8bf7{num}\u4f4d\u597d\u53cb\uff0c\u53ef\u4ee5\u9886\u53d6\uff1a";
TextTable.t_ShareKit_Text_refersh="\u6362\u4e00\u6279";TextTable.t_ShareKit_tip01="1\u3001\u9700\u8981\u9080\u8bf7\u6ca1\u6709\u73a9\u8fc7\u6e38\u620f\u7684\u597d\u53cb\u54e6\uff01";TextTable.t_ShareKit_tip02="2\u3001\u597d\u53cb\u901a\u8fc7\u60a8\u53d1\u51fa\u7684\u9080\u8bf7\u94fe\u63a5\u8fdb\u5165\u6e38\u620f\uff0c\u5373\u53ef\u5b8c\u6210\u4e00\u6b21\u597d\u53cb\u9080\u8bf7\u3002";TextTable.t_ShareKit_tip03="3\u3001\u9080\u8bf7\u6210\u529f\u540e\uff0c\u53ef\u4ee5\u83b7\u5f97\u4e00\u5b9a\u94bb\u77f3\u5956\u52b1\u54e6~";
TextTable.t_ShareKit_tip04="4\u3001\u9080\u8bf7\u597d\u53cb\u7684\u4e0a\u9650\u4e3a30\u4eba\uff0c\u8d85\u51fa\u4e0a\u9650\u5219\u4e0d\u518d\u83b7\u5f97\u94bb\u77f3\u5956\u52b1\u3002";TextTable.t_ShareKit_tip05="5\u3001\u9080\u8bf7\u5173\u7cfb\u4e0d\u80fd\u89e3\u9664\u3002";TextTable.t_ShareKit_tip06="6\u3001\u6bcf\u65e5\u9996\u6b21\u53d1\u9001\u9080\u8bf7\u597d\u53cb\u94fe\u63a5\uff0c\u53ef\u7acb\u5373\u83b7\u5f97100\u91d1\u5e01\u5956\u52b1\uff01";TextTable.t_ShareKit_hasGetTip="\u60a8\u5df2\u9886\u53d6\u8fc7\u8be5\u5956\u52b1\uff01";
TextTable.t_ShareKit_refeshTip="\u5df2\u9886\u53d6\u5f53\u524d\u5168\u90e8\u5956\u52b1\uff0c\u518d\u6b21\u9080\u8bf7\u597d\u53cb\u8fd8\u53ef\u83b7\u5f97\u514d\u8d39\u62bd\u5956\u673a\u4f1a\u54e6\uff01";TextTable.t_ShareKit_Text_cjanniu="\u5f53\u524d\u6ca1\u6709\u8db3\u591f\u7684\u62bd\u5956\u5238\uff0c\u5feb\u53bb\u9080\u8bf7\u597d\u53cb\u514d\u8d39\u83b7\u5f97\u5427\uff01";TextTable.t_ShareKit_Text_renshushangxian="\u60a8\u9080\u8bf7\u7684\u597d\u53cb\u5df2\u8fbe\u4e0a\u9650\uff0c\u518d\u6b21\u9080\u8bf7\u597d\u53cb\u5c06\u4e0d\u518d\u83b7\u5f97\u5956\u52b1\u54e6~";
TextTable.t_ShareKit_invite_num="\u9080\u8bf7{num}\u4eba";TextTable.t_notification001="\u60a8\u6709\u7b7e\u5230\u5956\u52b1\u8fd8\u672a\u9886\u53d6\u54e6\uff0c\u70b9\u6211\u67e5\u770b\x3e\x3e";TextTable.t_notification002="\u4f53\u529b\u5df2\u56de\u6ee1\uff0c\u5feb\u6765\u95ef\u5173\u5427\uff01";TextTable.t_notification003="{name}\u7684\u4f53\u529b\u4e0d\u591f\u7528\u5566\uff01\u8d4f\u4ed6\u4e00\u70b9\u4f53\u529b\u5427\uff01";TextTable.t_notification004="{name}\u60f3\u89e3\u9501\u65b0\u5173\u5361\uff0c\u8dea\u6c42\u4f60\u7684\u5e2e\u52a9~";
TextTable.t_notification005="{name}\u5df2\u7ecf\u5e2e\u4f60\u89e3\u9501\u5173\u5361\u5566\uff01\u70b9\u6211\u67e5\u770b\x3e\x3e";TextTable.t_notification006="\u60a8\u7b2c{level}\u5173\u7684\u5206\u6570\u5df2\u88ab{name}\u8d85\u8d8a\uff0c\u5feb\u6765\u53cd\u8d85\u4ed6~";TextTable.t_notification007="\u60a8\u7684\u5173\u5361\u8fdb\u5ea6\u5df2\u88ab{name}\u8d85\u8d8a\uff0c\u5feb\u6765\u53cd\u8d85\u4ed6~";TextTable.t_notification008="\u6211\u6361\u5230\u4e00\u4e2a{item}\uff0c\u5a01\u529b\u60ca\u4eba\uff0c\u8fc7\u5173\u4e0d\u518d\u662f\u96be\u9898\u5566~";
TextTable.t_notification009="\u5c0f\u4f19\u4f34\u4eec\u5e2e\u60a8\u89e3\u9501\u4e86\u5173\u5361\uff0c\u5feb\u6765\u786e\u8ba4\u4e00\u4e0b\u89e3\u9501\u6d88\u606f\u5427\uff01";TextTable.t_notification010="\u5468\u8d5b\u5956\u54c1\u66f4\u65b0\u5566\uff0c\u5feb\u6765\u770b\u770b~";TextTable.t_notification011="\u53c8\u6709\u65b0\u5173\u5361\u66f4\u65b0\u5566\uff0c\u5feb\u6765\u73a9\u5427~";TextTable.t_notification012="\u65b0\u6d3b\u52a8\u5f00\u542f\u5566~";TextTable.t_ecodeUnknown="\u672a\u77e5\u9519\u8bef\uff1a";
TextTable.t_ecode_noEffect="\u6ca1\u6709\u5f69\u8679\u5730\u683c\uff0c\u65e0\u6cd5\u4f7f\u7528";TextTable.t_ecode101="\u7f51\u7edc\u6545\u969c\uff0c\u8bf7\u786e\u8ba4\u7f51\u7edc\u73af\u5883\u540e\u91cd\u65b0\u542f\u52a8\u6e38\u620f\u3002";TextTable.t_ecode108="\u5bf9\u4e0d\u8d77\uff0c\u5e10\u53f7\u5f02\u5e38\uff0c\u8bf7\u6e05\u6570\u636e\u91cd\u65b0\u542f\u52a8\u6e38\u620f\u3002";TextTable.t_ecode109="\u6e38\u620f\u8d26\u53f7\u5df2\u88ab\u5c01\u505c\uff0c\u5982\u6709\u7591\u95ee\u8bf7\u8054\u7cfb\u5ba2\u670d\u3002";
TextTable.t_ecode110="\u60a8\u7684\u8d26\u53f7\u5df2\u5728\u5176\u4ed6\u8bbe\u5907\u4e0a\u767b\u5f55\uff0c\u8bf7\u786e\u8ba4\u9000\u51fa\u540e\u91cd\u65b0\u542f\u52a8\u6e38\u620f\u3002";TextTable.t_ecode111="\u670d\u52a1\u5668\u7ef4\u62a4\u4e2d\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5~";TextTable.t_ecode112="\u6e38\u620f\u767b\u5f55\u72b6\u6001\u5230\u671f\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55\u6e38\u620f\u3002";TextTable.t_ecode113="\u670d\u52a1\u5668\u5f02\u5e38\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\u3002";
TextTable.t_ecode100100="\u670d\u52a1\u5668\u6570\u636e\u6709\u8bef\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d\u54a8\u8be2\u3002";TextTable.t_ecode100101="\u6e38\u620f\u914d\u7f6e\u6570\u636e\u6709\u8bef\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d\u54a8\u8be2\u3002";TextTable.t_ecode100102="\u8d26\u53f7\u6570\u636e\u5f02\u5e38\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55\u6e38\u620f\u3002";TextTable.t_ecode100103="\u652f\u4ed8\u5931\u8d25\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d\u67e5\u8be2\u3002";TextTable.t_ecode100104="\u60a8\u7684IP\u5730\u5740\u76ee\u524d\u4e0d\u80fd\u8bbf\u95ee\u6e38\u620f\uff0c\u5982\u6709\u7591\u95ee\u8bf7\u8054\u7cfb\u5ba2\u670d\u54a8\u8be2\u3002";
TextTable.t_ecode100109="\u8d60\u9001\u793c\u7269\u5df2\u7ecf\u8d85\u8fc7\u4e86\u4eca\u5929\u7684\u9650\u5236\uff0c\u4e0d\u80fd\u518d\u9001\u793c\u4e86\u5594\u3002";TextTable.t_ecode100111="\u4e0d\u80fd\u591f\u628a\u793c\u7269\u9001\u7ed9\u81ea\u5df1\u7684\u3002";TextTable.t_ecode100113="\u6570\u636e\u5f02\u5e38\u4e86\u3002";TextTable.t_ecode100128="\u9053\u5177\u6570\u91cf\u4e0d\u8db3\uff01\u4e0d\u80fd\u8fd9\u6837\u4f7f\u7528\u3002";TextTable.t_ecode100129="\u9053\u5177\u6570\u91cf\u4e0d\u8db3\uff01";
TextTable.t_ecode100130="\u8fd9\u4e2a\u9053\u5177\u4e0d\u80fd\u5728\u8fd9\u91cc\u4f7f\u7528\u3002";TextTable.t_ecode100131="\u5bf9\u4e0d\u8d77\uff0c\u60a8\u6682\u65f6\u4e0d\u80fd\u4f7f\u7528\u8fd9\u4e2a\u9053\u5177\u3002";TextTable.t_ecode100133="\u6e38\u620f\u5185\u4e0d\u5b58\u5728\u8fd9\u4e2a\u9053\u5177\uff0c\u4e0d\u80fd\u8fd9\u6837\u4f7f\u7528\u3002";TextTable.t_ecode100134="\u60a8\u8fd8\u6ca1\u5230\u8fbe\u8fd9\u4e2a\u9053\u5177\u7684\u89e3\u9501\u5173\u5361\u3002";TextTable.t_ecode100138="\u7528\u6237\u4e0d\u5b58\u5728\u3002";
TextTable.t_ecode100139="\u91d1\u5e01\u4e0d\u8db3\uff01";TextTable.t_ecode100144="\u4f53\u529b\u4e0d\u8db3\uff01";TextTable.t_ecode100146="\u94bb\u77f3\u4e0d\u8db3\uff01";TextTable.t_ecode100147="\u7531\u4e8e\u60a8\u5bf9\u4f53\u529b\u8fdb\u884c\u4e86\u975e\u5e38\u89c4\u64cd\u4f5c\uff0c\u5f15\u53d1\u6570\u636e\u5f02\u5e38\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d\u6c9f\u901a\u89e3\u51b3\u3002";TextTable.t_ecode100149="\u9053\u5177\u8d2d\u4e70\u6570\u91cf\u5f02\u5e38\uff0c\u82e5\u6709\u7591\u95ee\u8bf7\u8054\u7cfb\u5ba2\u670d\u3002";
TextTable.t_ecode100151="\u9053\u5177\u8d2d\u4e70\u6570\u636e\u5f02\u5e38\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d\u54a8\u8be2\u3002";TextTable.t_ecode100159="\u60a8\u5df2\u8d85\u8fc7\u4e86\u8fd9\u4e2a\u9053\u5177\u5f53\u524d\u7684\u8d2d\u4e70\u6570\u91cf\u9650\u5236\u3002";TextTable.t_ecode100160="\u8be5\u9053\u5177\u7684\u4fc3\u9500\u6d3b\u52a8\u5df2\u7ed3\u675f\u3002";TextTable.t_ecode100169="\u4e0d\u5b58\u5728\u8fd9\u4e2a\u9053\u5177\uff0c\u65e0\u6cd5\u4f7f\u7528\u3002";TextTable.t_ecode100178="\u7531\u4e8e\u60a8\u5bf9\u95ef\u5173\u8fdb\u884c\u4e86\u975e\u5e38\u89c4\u64cd\u4f5c\uff0c\u5f15\u53d1\u4e86\u6570\u636e\u5f02\u5e38\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d\u6c9f\u901a\u89e3\u51b3\u3002";
TextTable.t_ecode100180="\u8fd8\u4e0d\u80fd\u6253\u5f00\u8fd9\u4e2a\u5173\u5361\u54e6~";TextTable.t_ecode100182="\u60a8\u624b\u673a\u7684\u65f6\u95f4\u4e0e\u670d\u52a1\u5668\u65f6\u95f4\u4e0d\u5339\u914d\uff0c\u8bf7\u68c0\u67e5\u60a8\u7684\u624b\u673a\u65f6\u95f4\u54e6\u3002";TextTable.t_ecode100193="\u60a8\u4eca\u5929\u5df2\u7ecf\u7b7e\u8fc7\u5230\u4e86\u3002";TextTable.t_ecode100194="\u7b7e\u5230\u6570\u636e\u9519\u8bef\u3002";TextTable.t_ecode100196="\u60a8\u8fd8\u6709\u672a\u5b8c\u6210\u7684\u5173\u5361\uff0c\u8bf7\u8fc7\u5173\u540e\u518d\u6765\u89e3\u9501\u5427\u3002";
TextTable.t_ecode100208="\u62b1\u6b49\uff0c\u5151\u6362\u7801\u5df2\u5931\u6548\u3002";TextTable.t_ecode100210="\u62b1\u6b49\uff0c\u5151\u6362\u7801\u5df2\u8d85\u8fc7\u4f7f\u7528\u4e0a\u9650\u3002";TextTable.t_ecode100211="\u62b1\u6b49\uff0c\u5151\u6362\u7801\u4e0d\u5b58\u5728\u3002";TextTable.t_ecode100212="\u62b1\u6b49\uff0c\u4f60\u4eca\u5929\u5df2\u7ecf\u9886\u53d6\u8fc7\u4e86\u54e6~";TextTable.t_ecode100213="\u62b1\u6b49\uff0c\u60a8\u5df2\u7ecf\u53c2\u52a0\u8fc7\u8fd9\u6b21\u5151\u6362\u6d3b\u52a8\u4e86\u3002";
TextTable.t_ecode100217="\u8865\u507f\u5956\u52b1\u5931\u8d25\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d\u54a8\u8be2\u3002";TextTable.t_ecode100218="\u60a8\u5df2\u7ecf\u9886\u53d6\u8fc7\u8fd9\u4e2a\u8865\u507f\u5956\u52b1\u4e86\u54e6\u3002";TextTable.t_ecode100219="\u4e0d\u5b58\u5728\u8fd9\u6837\u7684\u8865\u507f\u5956\u52b1\u3002";TextTable.t_ecode100220="\u4e0d\u884c\u5440\uff0c\u60a8\u4e0d\u80fd\u6dfb\u52a0\u81ea\u5df1\u4e3a\u597d\u53cb\u54e6~";TextTable.t_ecode100221="\u8be5\u73a9\u5bb6\u5df2\u662f\u60a8\u7684\u597d\u53cb\u3002";
TextTable.t_ecode100222="\u9080\u8bf7\u7801\u9519\u8bef\uff0c\u5982\u6709\u7591\u95ee\u8bf7\u54a8\u8be2\u5ba2\u670d\u3002";TextTable.t_ecode100224="\u5df2\u7ecf\u8fbe\u5230\u4e86\u6700\u5927\u7684\u597d\u53cb\u4e0a\u9650\u4e86\u54e6\uff01";TextTable.t_ecode100226="\u6447\u4e00\u6447\u5c1d\u8bd5\u5931\u8d25\uff0c\u8bf7\u786e\u8ba4\u60a8\u7684\u624b\u673a\u8bbe\u5907\u4f7f\u7528\u6b63\u5e38\u3002";TextTable.t_ecode100238="\u8fd9\u9879\u6d3b\u52a8\u76ee\u524d\u4e0d\u53ef\u4ee5\u53c2\u52a0\u3002";
TextTable.t_ecode100239="\u6d3b\u52a8\u6570\u636e\u5f02\u5e38\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d\u67e5\u8be2\u3002";TextTable.t_ecode100243="\u767b\u5f55\u5931\u8d25\uff0c\u60a8\u7684\u767b\u5f55\u4fe1\u606f\u4e0d\u6b63\u786e\u3002";TextTable.t_ecode100248="\u7b7e\u5230\u4fe1\u606f\u65e0\u6548\uff0c\u5982\u6709\u7591\u95ee\u8bf7\u8054\u7cfb\u5ba2\u670d\u3002";TextTable.t_ecode100249="\u60a8\u5df2\u7ecf\u9886\u53d6\u8fc7\u8fd9\u4e2a\u5956\u52b1\u4e86\u54e6~";TextTable.t_ecode100250="\u6ca1\u6709\u8fd9\u9879\u661f\u661f\u5956\u52b1\u3002";
TextTable.t_ecode100251="\u8fd8\u6ca1\u6709\u6536\u96c6\u5230\u8db3\u591f\u7684\u661f\u661f\u5462\uff0c\u5feb\u53bb\u53ec\u96c6\u66f4\u591a\u7684\u597d\u53cb\u95ef\u5173\u5427\uff01";TextTable.t_ecode100255="\u4e0d\u8981\u8f93\u5165\u81ea\u5df1\u7684\u9080\u8bf7\u7801\u54e6~";TextTable.t_ecode100256="\u4e0d\u884c\u5440\uff0c\u7528\u6237\u8d26\u53f7\u8f93\u5165\u9519\u8bef\u6216\u8fd9\u4e2a\u7528\u6237\u4e0d\u5b58\u5728\u54e6~";TextTable.t_ecode100257="\u60a8\u5df2\u7ed1\u5b9a\u4e86\u5176\u4ed6\u9080\u8bf7\u65b9\u7528\u6237\u4e86\u54e6\u3002";
TextTable.t_ecode100258="\u9080\u8bf7\u65b9\u7528\u6237\u5df2\u7ecf\u7ed1\u5b9a\u4e86\u4f60\u54e6\u3002";TextTable.t_ecode100259="\u60a8\u7ed1\u5b9a\u7684\u9080\u8bf7\u65b9\u7528\u6237\u5df2\u7ecf\u9080\u8bf7\u4e86\u8d85\u8fc710\u4eba\uff0c\u4ed6\u5c06\u4e0d\u80fd\u9886\u53d6\u4e0e\u60a8\u76f8\u5173\u7684\u5956\u52b1\uff0c\u786e\u8ba4\u586b\u5199\uff1f";TextTable.t_ecode100260="\u60a8\u7684\u624b\u673a\u8bbe\u5907\u65f6\u95f4\u4e0d\u6b63\u786e\uff0c\u8bf7\u786e\u8ba4\u8bbe\u5907\u65f6\u95f4\u540e\u518d\u8bd5\u3002";
TextTable.t_ecode100265="\u788e\u7247\u4e0d\u8db3";TextTable.t_ecode100266="\u767b\u5f55\u5931\u8d25\uff0c\u60a8\u7684\u8bbe\u5907\u4e0d\u652f\u6301\u73a9\u8fd9\u6b3e\u6e38\u620f\u54e6~";TextTable.t_ecode100267="\u767b\u5f55\u6e38\u620f\u5931\u8d25\uff0c\u60a8\u7684\u767b\u5f55\u5e73\u53f0\u4e0d\u6b63\u786e\u3002";TextTable.t_ecode100268="\u767b\u5f55\u6e38\u620f\u5931\u8d25\u3002";TextTable.t_ecode100269="\u767b\u5f55\u6e38\u620f\u5931\u8d25\uff0c\u8d26\u53f7\u6570\u636e\u4e0d\u4e00\u81f4\u3002";
TextTable.t_ecode100270="\u60a8\u8fd8\u6ca1\u6709\u8fd9\u53ea\u5ba0\u7269\u4e3b\u53a8\u54e6\u3002";TextTable.t_ecode100271="\u5bf9\u4e0d\u8d77\uff0c\u8fd9\u4e2a\u9053\u5177\u4e0d\u80fd\u8fd9\u6837\u4f7f\u7528\u3002";TextTable.t_ecode100273="\u60a8\u8fd8\u672a\u63a5\u5230\u8fd9\u9879\u4efb\u52a1\u5566\u3002";TextTable.t_ecode100275="\u60a8\u8fd8\u672a\u5f97\u5230\u8fd9\u4ef6\u5ba0\u7269\u65f6\u88c5\u5462\u3002";TextTable.t_ecode100276="\u4eca\u5929\u5df2\u7ecf\u4e3a\u4ed6\u70b9\u8fc7\u8d5e\u4e86\u54e6\uff01";
TextTable.t_ecode100277="\u60a8\u5df2\u7ecf\u4e3a\u8fd9\u4e2a\u5ba0\u7269\u70b9\u8fc7\u8d5e\u4e86\u3002";TextTable.t_ecode100278="\u4e0d\u884c\u5440\uff0c\u60a8\u7684\u94c3\u94db\u4e0d\u8db3\u54e6~";TextTable.t_ecode100279="\u7206\u7c73\u82b1\u4e0d\u8db3\uff01";TextTable.t_ecode100280="\u60a8\u5df2\u7ecf\u62e5\u6709\u8fd9\u4ef6\u88c5\u626e\u5566";TextTable.t_ecode100285="\u5468\u8d5b\u9886\u5956\u5931\u8d25\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d\u89e3\u51b3\u3002";TextTable.t_ecode100286="\u9053\u5177\u4e0d\u8db3\uff0c\u4e0d\u80fd\u5151\u6362\u8fd9\u4e2a\u5956\u52b1\u3002";
TextTable.t_ecode100287="\u5468\u8d5b\u53c2\u4e0e\u6b21\u6570\u4e0d\u8db3\u3002";TextTable.t_ecode100288="\u60a8\u7684\u7f51\u7edc\u4e0d\u7a33\u5b9a\uff0c\u672c\u6b21\u5468\u8d5b\u7ed3\u7b97\u5931\u8d25\u3002";TextTable.t_ecode100289="\u60a8\u7684\u5468\u8d5b\u5206\u6570\u5f02\u5e38\u3002";TextTable.t_ecode100290="\u5468\u8d5b\u9053\u5177\u6570\u636e\u5f02\u5e38\u3002";TextTable.t_ecode100291="\u5468\u8d5b\u9053\u5177\u6570\u636e\u5f02\u5e38\u3002";TextTable.t_ecode100292="\u7206\u7c73\u82b1\u5927\u6218\u7684\u53c2\u4e0e\u6b21\u6570\u5df2\u7528\u5c3d\u3002";
TextTable.t_ecode100293="\u8fd9\u53ea\u5ba0\u7269\u4e3b\u53a8\u5df2\u7ecf\u53c2\u4e0e\u8fc7\u7206\u7c73\u82b1\u5927\u6218\u5566\u3002";TextTable.t_ecode100294="\u8fd9\u662f\u4e0a\u5468\u7684\u7206\u7c73\u82b1\u5927\u6218\u6bd4\u8d5b\u3002";TextTable.t_ecode100295="\u7206\u7c73\u82b1\u673a\u5347\u7ea7\u6210\u529f\u3002";TextTable.t_ecode100296="\u8d2d\u4e70\u5931\u8d25\u3002";TextTable.t_ecode100298="\u8fd9\u4e2a\u7528\u6237\u8fd8\u6ca1\u6709\u7f16\u8f91\u5173\u5361\u5566\uff01";
TextTable.t_ecode100299="\u6682\u65f6\u65e0\u6cd5\u641c\u7d22\u5230\u5bf9\u624b\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\u3002";TextTable.t_ecode100301="\u7206\u7c73\u82b1\u673a\u76ee\u524d\u6b63\u5728\u5347\u7ea7\u3002";TextTable.t_ecode100302="\u7206\u7c73\u82b1\u5927\u6218\u53c2\u4e0e\u6570\u636e\u5f02\u5e38\u3002";TextTable.t_ecode100303="\u8be5\u73a9\u5bb6\u6b63\u5728\u88ab\u62a4\u76fe\u4fdd\u62a4\u4e2d\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\u3002";TextTable.t_ecode100304="\u5ba0\u7269\u4e3b\u53a8\u4e0d\u80fd\u8fd9\u6837\u64cd\u4f5c\u5566\u3002";
TextTable.t_ecode100305="\u5173\u5361\u969c\u788d\u914d\u7f6e\u9519\u8bef\u3002";TextTable.t_ecode100310="\u6570\u636e\u8bf7\u6c42\u9519\u8bef\u3002";TextTable.t_ecode100312="\u89c6\u9891\u4e0d\u5b58\u5728\u3002";TextTable.t_ecode100313="\u8996\u983b\u7c7b\u578b\u9519\u8bef\u3002";TextTable.t_ecode100314="\u89c6\u9891\u8d85\u65f6\u3002";TextTable.t_ecode100315="\u969c\u788d\u4fee\u590d\u5931\u8d25\u3002";TextTable.t_ecode100316="\u9053\u5177\u6570\u91cf\u4e0d\u8db3";TextTable.t_ecode100317="\u9053\u5177\u6389\u843d\u6570\u636e\u5f02\u5e38\u3002";
TextTable.t_ecode100318="\u9053\u5177\u6536\u96c6\u6570\u636e\u5f02\u5e38\u3002";TextTable.t_ecode100319="\u8fd9\u4e2a\u969c\u788d\u8fd8\u672a\u89e3\u9501\u3002";TextTable.t_ecode100320="\u9053\u5177\u6dfb\u52a0\u5931\u8d25\u3002";TextTable.t_ecode100321="\u60a8\u5df2\u7ecf\u9886\u53d6\u8fd9\u4e2a\u6210\u5c31\u4e86\u3002";TextTable.t_ecode100322="\u8fd9\u4e2a\u6210\u5c31\u5c1a\u672a\u5b8c\u6210\u3002";TextTable.t_ecode100323="\u6210\u5c31\u6570\u636e\u540c\u6b65\u5931\u8d25\u3002";
TextTable.t_ecode100324="\u6e38\u620f\u767b\u5f55\u5931\u8d25\u3002";TextTable.t_ecode100325="\u5ba0\u7269\u70b9\u8d5e\u91cd\u590d\u3002";TextTable.t_ecode100330="\u8fd9\u4e2a\u8bf7\u6c42\u5df2\u7ecf\u5931\u6548\u5566\uff0c\u8bf7\u770b\u770b\u5176\u4ed6\u597d\u53cb\u7684\u8bf7\u6c42\u5427~";TextTable.t_ecode100333="\u4ed6\u4eec\u5df2\u7ecf\u6ee1\u8db3\u5c0f\u523a\u732c\u7684\u8981\u6c42\u5566\uff0c\u8bf7\u770b\u770b\u5176\u4ed6\u597d\u53cb\u7684\u8bf7\u6c42\u5427~";TextTable.t_ecode100334="\u8fd9\u4e2a\u5173\u5361\u5df2\u7ecf\u8fc7\u671f\u5566~";
TextTable.t_ecode100335="\u60a8\u5df2\u7ecf\u6709\u63a5\u53d7\u7684\u8bf7\u6c42\u5566\uff0c\u8bf7\u5148\u53bb\u5b8c\u6210\u6216\u653e\u5f03\u5427~";TextTable.t_ecode100336="\u60a8\u5df2\u7ecf\u63a5\u53d7\u8fd9\u4e2a\u8bf7\u6c42\u5566~";TextTable.t_ecode100337="\u60a8\u4eca\u5929\u5df2\u7ecf\u5b8c\u6210\u8db3\u591f\u6570\u91cf\u7684\u8bf7\u6c42\u4e86\uff0c\u8bf7 \u660e\u5929\u518d\u6765\u5427~";TextTable.t_ecode100338="\u5c0f\u523a\u732c\u7684\u8bf7\u6c42\u6ca1\u6709\u88ab\u5b8c\u5168\u6ee1\u8db3\u5462\uff0c\u4e0b\u6b21\u8bf7\u7ee7\u7eed\u52aa\u529b\u5427~";
TextTable.t_ecode100339="\u60a8\u5df2\u7ecf\u6709\u63a5\u53d7\u7684\u8bf7\u6c42\u5566\uff0c\u8bf7\u5148\u53bb\u5b8c\u6210\u6216\u653e\u5f03\u5427~";TextTable.t_ecode100340="\u6e38\u620f\u767b\u5f55\u72b6\u6001\u5230\u671f\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55\u6e38\u620f\u3002";TextTable.t_ecode100343="\u6388\u6743\u5931\u8d25\uff0c\u8bf7\u91cd\u542f\u6e38\u620f";TextTable.t_ecode100347="\u5e73\u53f0\u4fe1\u606f\u83b7\u53d6\u5931\u8d25\uff0c\u8be5\u5e73\u53f0\u6682\u672a\u63d0\u4f9b\u5bf9\u672c\u6e38\u620f\u7684\u670d\u52a1\u3002";
TextTable.t_ecode100350="\u8fd9\u4e2a\u88c5\u626e\u4e0d\u80fd\u518d\u6b21\u8d60\u9001\u54af";TextTable.t_ecode100351="\u514d\u8d39\u673a\u4f1a\u5df2\u7528\u5c3d\u54e6~";TextTable.t_ecode100352="\u65e0\u6cd5\u8d60\u9001\u7ed9NPC\uff0c\u9001\u7ed9\u5176\u4ed6\u597d\u53cb\u8bd5\u8bd5\u5427~";TextTable.t_ecode100353="\u8bf7\u4e0d\u8981\u518d\u589e\u52a0\u5566\uff0c\u5df2\u7ecf\u6ee1\u5566\uff01";TextTable.t_ecode100354="\u4e0d\u80fd\u8d2d\u4e70\u8fd9\u4e2a\u5546\u54c1\u54e6";TextTable.t_ecode100355="\u8d2d\u4e70\u5546\u54c1\u4e0d\u5339\u914d";
TextTable.t_ecode100358="\u6e38\u620f\u9650\u91cf\u5f00\u653e\u54e6\uff0c\u4eca\u5929\u5f00\u653e\u4eba\u6570\u5df2\u6ee1\uff0c\u660e\u5929\u518d\u6765\u5427~";TextTable.t_ecode100359="\u6e38\u620f\u9650\u91cf\u5f00\u653e\u54e6\uff0c\u672c\u6b21\u9650\u91cf\u5f00\u653e\u4eba\u6570\u5df2\u6ee1\uff0c\u656c\u8bf7\u671f\u5f85\u540e\u7eed\u6211\u4eec\u7684\u65b0\u6d88\u606f\u5427~";TextTable.t_ecode100361="\u6ca1\u6709\u8fd9\u4e2a\u5b9d\u7bb1";TextTable.t_ecode100362="\u5956\u52b1\u5df2\u7ecf\u9886\u53d6\u8fc7\u5566\uff01";
TextTable.t_ecode100363="\u76ee\u6807\u6ca1\u6709\u8fbe\u6210";TextTable.t_ecode100364="\u66f4\u6362\u4efb\u52a1\u6b21\u6570\u5df2\u7528\u5c3d";TextTable.t_ecode100365="\u968f\u673a\u4efb\u52a1\u6570\u91cf\u4e0d\u591f\u4e86";TextTable.t_ecode100367="\u6392\u961f\u7684\u4eba\u592a\u591a\u4e86\uff0c\u7b49\u4e00\u4e0b\u62dc\u6258\u5566~";TextTable.t_ecode100368="\u66ff\u6362\u4efb\u52a1\u4e0d\u4e00\u81f4\u4e86";TextTable.t_ecode100370="\u597d\u53cb\u4e0a\u9650\u5df2\u7ecf\u6ee1\u5566";
TextTable.t_ecode100371="\u94bb\u77f3\u4e0d\u591f";TextTable.t_ecode100372="\u95e8\u7968\u4e0d\u591f";TextTable.t_ecode100373="\u54c8\u58eb\u5947\u5206\u4eab\u9519\u8bef";TextTable.t_ecode100374="\u54c8\u58eb\u5947\u5206\u4eab\u4efb\u52a1\u4e0d\u5b58\u5728";TextTable.t_ecode100375="\u54c8\u58eb\u5947\u788e\u7247\u4e0d\u8db3";TextTable.t_ecode100376="\u72d7\u7cae\u6570\u91cf\u9519\u8bef";TextTable.t_ecode100377="\u95e8\u7968\u4e0d\u591f";TextTable.t_ecode100378="\u5730\u96f7\u6570\u91cf\u5bf9\u4e0d\u4e0a";
TextTable.t_ecode100379="\u6570\u636e\u5f02\u5e38";TextTable.t_ecode100380="\u4f60\u5df2\u7ecf\u62e5\u6709\u54c8\u58eb\u5947\u4e86";TextTable.t_ecode100381="\u9650\u65f6\u9053\u5177\u4e0d\u5b58\u5728";TextTable.t_ecode130005="\u53d1\u751f\u672a\u77e5\u6e38\u620f\u9519\u8bef\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55\u6e38\u620f\uff0c\u5e76\u8054\u7cfb\u5ba2\u670d\u54a8\u8be2\u3002";TextTable.t_ecode200100="\u4f53\u529b\u5df2\u6ee1";TextTable.t_ecode200102="\u4e8c\u7ef4\u7801\u83b7\u53d6\u9519\u8bef\u6216\u8fd9\u4e2a\u4e8c\u7ef4\u7801\u4e0d\u5b58\u5728\u7528\u6237\u3002";
TextTable.t_ecode200103="\u5206\u4eab\u6210\u529f";TextTable.t_ecode200104="\u5206\u4eab\u5931\u8d25";TextTable.t_ecode200105="\u5206\u4eab\u5df2\u53d6\u6d88";TextTable.t_ecode200257="\u5c11\u4e8e 5 \u6b65\u65f6\u624d\u53ef\u4f7f\u7528\u54e6~";TextTable.t_ecode200258="\u8bf7\u6c42\u5df2\u53d1\u9001\uff0c\u6b63\u5728\u7b49\u5f85\u8bf7\u6c42\u7ed3\u679c\u3002\u7531\u4e8e\u7f51\u7edc\u5ef6\u8fdf\u8f83\u9ad8\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85~";TextTable.t_ecode200259="\u5f53\u524d\u5173\u5361\u4e0d\u652f\u6301\u4f7f\u7528\u8be5\u9053\u5177\u54e6~";
TextTable.t_ecode200260="\u5f53\u524d\u5173\u5361\u4e0d\u652f\u6301\u5207\u6362\u4e3b\u53a8\u54e6~";TextTable.t_ecode200261="\u9700\u8981\u8fbe\u5230 {level} \u5173\u624d\u53ef\u4f7f\u7528\u54e6~";TextTable.t_ecode200262="\u529f\u80fd\u6682\u672a\u5f00\u653e\u54e6~";TextTable.t_ecode200263="\u9700\u8981\u8fbe\u5230 {level} \u5173\u624d\u4f1a\u5f00\u542f\u54e6~";TextTable.t_ecode200272="\u60a8\u8fd8\u6ca1\u8fbe\u5230\u9886\u53d6\u6761\u4ef6\u54e6";TextTable.t_ecode200273="\u60a8\u8fd8\u4e0d\u80fd\u8fd9\u6837\u64cd\u4f5c\u5566";
TextTable.t_ecode200274="\u6682\u65f6\u6ca1\u6709\u53ef\u89c2\u770b\u7684\u89c6\u9891\u5e7f\u544a\u54e6\uff01\u7a0d\u5019\u518d\u8bd5\u5427~";TextTable.t_ecode200275="\u6682\u65f6\u6ca1\u6709\u516c\u544a\u5566\uff01";TextTable.t_ecode200276="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u662f\u5426\u82b1\u8d39 {num} \x3c/b\x3e\x3cs size\x3d#40\x3eico_gem.png\x3c/s\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\uff1f\x3c/b\x3e";TextTable.t_ecode200277="\u6682\u672a\u5f00\u542f";TextTable.t_ecode200278="11\u6708\u6b63\u5f0f\u7248\u672c\u5f00\u542f\u54e6~";
TextTable.t_ecode200279="\u62b1\u6b49\uff0c\u60a8\u7684\u767b\u5f55\u64cd\u4f5c\u8fc7\u4e8e\u9891\u7e41\uff0c\u8bf7{time}\u540e\u91cd\u8bd5~";TextTable.t_Activity_Roulette_msg="\u5feb\u5e2e\u5e2e\u6211\uff0c\u6211\u8981\u542f\u52a8\u5927\u8f6c\u76d8\u54af\uff01";TextTable.t_Cuty_week_match_guide1="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u55e8\uff0c\u4eb2\u7231\u7684\uff0c\u6b22\u8fce\u53c2\u52a0\u201c\u53a8\u795e\u4e89\u9738\u201d\u6bd4\u8d5b\uff0c\u4e0b\u9762\u7531\u6211\u6765\u5e26\u4f60\u53c2\u89c2\u4e0b\u6bd4\u8d5b\u573a\u5730\u5427~\x3c/b\x3e";
TextTable.t_Cuty_week_match_guide2="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u9996\u5148\u6211\u4eec\u6765\u5230\u7684\u662f\u5956\u54c1\u5151\u6362\u5904\uff0c\u5728\u8fd9\u91cc\u53ef\u4ee5\u4f7f\u7528\u6bd4\u8d5b\u5173\u5361\u4e2d\u83b7\u5f97\u7684\x3c/b\x3e\x3cs size\x3d#50\x3ekitchen_star_jindu.png\x3c/s\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u548c\x3c/b\x3e\x3cs size\x3d#50\x3ekitchen_honey_jindu.png\x3c/s\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u5151\u6362\u4e30\u5bcc\u7684\u5956\u52b1\u54e6~\x3c/b\x3e";
TextTable.t_Cuty_week_match_guide3="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u8fd9\u91cc\u662f\u6392\u884c\u699c\uff0c\u53ef\u4ee5\u67e5\u770b\u60a8\u5728\u597d\u53cb\u548c\u5168\u670d\u4e2d\u7684\u6392\u540d\uff0c\u6839\u636e\u60a8\u7684\u540d\u6b21\uff0c\u6bcf\u5468\u8fd8\u53ef\u4ee5\u83b7\u5f97\u7ec4\u59d4\u4f1a\u53d1\u9001\u7684\u5956\u54c1\u54e6~\x3c/b\x3e";TextTable.t_Cuty_week_match_guide4="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u70b9\u51fb\u6b64\u5904\u53ef\u4ee5\u770b\u5230\u8be6\u7ec6\u7684\u201c\u53a8\u795e\u4e89\u9738\u201d\u73a9\u6cd5\u8bf4\u660e\u3002\x3c/b\x3e";
TextTable.t_Cuty_week_match_guide5="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u90a3\u4e48\uff0c\u73b0\u5728\u5c31\u8bf7\u5e26\u4e0a\u60a8\u5fc3\u7231\u7684\u5ba0\u7269\u4eec\u8fdb\u5165\u6bd4\u8d5b\u73b0\u573a\u770b\u770b\u5427~\uff0c\u8bf7\u70b9\u51fb\u201c\u53bb\u6bd4\u8d5b\u201d\u6309\u94ae\u3002\x3c/b\x3e";TextTable.t_Cuty_week_match_guide6="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u8bf7\u8fdb\u884c\u4e00\u6b21\u6d88\u9664\x3c/b\x3e";TextTable.t_Cuty_week_match_guide7="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u5feb\u770b\uff0c\u5f53\u5269\u4f59\u6b65\u6570\u7684\u51cf\u5c11\u65f6\uff0c\u8ba1\u6b65\u5668\u4e5f\u4f1a\u968f\u4e4b\u51cf\u5c11\x3c/b\x3e";
TextTable.t_Cuty_week_match_guide8="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u6bcf\u51cf\u5c11\u4e00\u5b9a\u6b65\u6570\u540e\uff0c\u987e\u5ba2\u4e0b\u65b9\u7684\u5e78\u8fd0\u8349\u5c31\u4f1a\u706d\u6389\u4e00\u9897\uff0c\u8bf7\u7528\u5c3d\u91cf\u5c11\u7684\u6b65\u6570\u6765\u6ee1\u8db3\u5c0f\u52a8\u7269\u4eec\uff0c\u8fd9\u6837\u5c31\u80fd\u6536\u96c6\u5230\u66f4\u591a\u7684\u5e78\u8fd0\u8349\u5566~\x3c/b\x3e";TextTable.t_Cuty_week_match_guide9="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u5077\u5077\u544a\u8bc9\u4f60\uff0c\u6bcf\u6ee1\u8db3\u4e00\u8f6e\u987e\u5ba2\u5269\u4f59\u6b65\u6570\u5c31\u4f1a\u589e\u52a08\u6b65\uff0c\u4e0b\u9762\u5c31\u9760\u4f60\u81ea\u5df1\u5566~\u52a0\u6cb9~\x3c/b\x3e";
TextTable.t_Cuty_week_match_guide10="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u54c7\uff01\u7adf\u7136\u6765\u4e86\u4e00\u53ea\u5927\u7b28\u718a\uff0c\u8fd8\u628a\u6211\u4eec\u7684\u9910\u8f66\u5f04\u4e71\u5566\uff0c\u4e0d\u8fc7\u770b\u5728\u4ed6\u5e26\u6765\u8702\u871c\u7f50\u5934\u7684\u4efd\u4e0a\uff0c\u4e5f\u8bf7\u6ee1\u8db3\u4ed6\u7684\u9700\u6c42\u5427~\x3c/b\x3e";TextTable.t_Cuty_week_match_guide11="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u53e6\u5916\uff0c\u521a\u521a\u7b28\u718a\u544a\u8bc9\u6211\uff0c\u53ea\u8981\u5728\u5269\u4f59\u6b65\u6570\u5185\u6ee1\u8db3\u4ed6\uff0c\u4ed6\u5c31\u4f1a\u628a\u4ed6\u5e26\u6765\u7684\u6240\u6709\u8702\u871c\u90fd\u9001\u7ed9\u4f60\x3c/b\x3e";
TextTable.t_Cuty_week_match_guide12="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u770b\u8fd9\u91cc~\u6ee1\u8db3\u5927\u7b28\u718a\u540e\u4f60\u53ef\u4ee5\u83b7\u5f97\u968f\u673a\u4e00\u79cd\u589e\u76ca\u6548\u679c\uff0c\u5e76\u6301\u7eed\u4e00\u8f6e\u54e6!\u5982\u679c\u60f3\u77e5\u9053\u90fd\u6709\u54ea\u4e9b\u589e\u6548\u6548\u679c\uff0c\u53ef\u4ee5\u56de\u5230\u6bd4\u8d5b\u4e3b\u9875\u67e5\u770b\u73a9\u6cd5\u8bf4\u660e\u54e6~\x3c/b\x3e";TextTable.t_Cuty_week_match_guide13="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u60f3\u8981\u5207\u6362\u5ba0\u7269\u53ef\u4ee5\u70b9\u51fb\u8fd9\u91cc\u54e6\x3c/b\x3e";
TextTable.t_Cuty_week_Match_rank_3="\u5f53\u597d\u53cb\u6570\u91cf\u5927\u4e8e10\uff0c\u624d\u80fd\u5f00\u542f\u597d\u53cb\u6392\u884c\u699c\u54e6";TextTable.t_Cuty_week_Match_week_prize_1="\u6839\u636e\u60a8\u4e0a\u5468\u7684\u4f18\u5f02\u8868\u73b0\uff1a";TextTable.t_Cuty_week_Match_week_prize_2="\u597d\u53cb\u699c\u7b2c{num1}\u540d\uff0c\u4e16\u754c\u699c\u7b2c{num2}\u540d";TextTable.t_Cuty_week_Match_week_prize_3="\u7ec4\u59d4\u4f1a\u5df2\u5c06\u5956\u52b1\u53d1\u9001\u5230\u60a8\u7684\u90ae\u7bb1\uff0c\u8bf7\u524d\u5f80\u9886\u53d6";
TextTable.t_Cuty_week_Match_exchange_1="\u5956\u54c1\u5237\u65b0\u65f6\u95f4\uff1a";TextTable.t_Cuty_week_Match_exchange_2="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u786e\u8ba4\u4f7f\u7528 {num1} \u4e2a \x3c/b\x3e\x3cs size\x3d#40\x3e{img1}\x3c/s\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e \u5151\u6362 \x3c/b\x3e\x3cs size\x3d#40\x3e{imgReward}\x3c/s\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e \u5417\uff1f\x3c/b\x3e";TextTable.t_Cuty_week_Match_exchange_3="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u786e\u8ba4\u4f7f\u7528 {num1} \u4e2a \x3c/b\x3e\x3cs size\x3d#40\x3e{img1}\x3c/s\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e \u548c {num2} \u4e2a \x3c/b\x3e\x3cs size\x3d#40\x3e{img2}\x3c/s\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e \u5151\u6362 \x3c/b\x3e\x3cs size\x3d#40\x3e{imgReward}\x3c/s\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e \u5417\uff1f\x3c/b\x3e";
TextTable.t_Cuty_week_Match_exchange_4="\x3cs size\x3d#40\x3e{img1}\x3c/s\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e \u6216 \x3c/b\x3e\x3cs size\x3d#40\x3e{img2}\x3c/s\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e \u4e0d\u8db3\uff0c\u8bf7\u518d\u6536\u96c6\u4e00\u4e9b\u54e6~\x3c/b\x3e";TextTable.t_Cuty_week_Match_exchange_5="\u9650\u65f6\u5151\u6362\uff1a";TextTable.t_Cuty_week_Match_buff_1="\u65f6\u95f4\u51bb\u7ed3";TextTable.t_Cuty_week_Match_buff_2="\u6536\u96c6\u7ffb\u500d";
TextTable.t_Cuty_week_Match_buff_3="\u5e78\u8fd0\u8349\u7ffb\u500d";TextTable.t_Cuty_week_Match_buff_4="\u5ba0\u7269\u5370\u8bb0";TextTable.t_Cuty_week_Match_mail_1="\u8fd9\u662f\u60a8\u7684\u201c\u53a8\u795e\u4e89\u9738\u201d\u597d\u53cb\u6392\u884c\u699c\u5956\u52b1\uff0c\u7ee7\u7eed\u52a0\u6cb9\u54e6\uff01";TextTable.t_Cuty_week_Match_mail_2="\u8fd9\u662f\u60a8\u7684\u201c\u53a8\u795e\u4e89\u9738\u201d\u4e16\u754c\u6392\u884c\u699c\u5956\u52b1\uff0c\u7ee7\u7eed\u52a0\u6cb9\u54e6\uff01";
TextTable.t_Cuty_week_Match_mail_3="\u201c\u53a8\u795e\u4e89\u9738\u201d\u5269\u4f59\u9053\u5177\u5151\u6362\u8865\u507f";TextTable.t_Cuty_week_Match_help_1_1="\u6211\u4eec\u7684\u76ee\u6807\u7528\u5c3d\u91cf\u5c11\u7684\u6b65\u6570\u6ee1\u8db3\u5c0f\u52a8\u7269\u4eec\u7684\u9700\u6c42\uff0c\u6536\u96c6\u5e78\u8fd0\u8349\u548c\u8702\u871c\u7f50\u5934\uff0c\u6536\u96c6\u7684\u8d8a\u591a\uff0c\u5206\u6570\u5c31\u8d8a\u9ad8\u54e6";TextTable.t_Cuty_week_Match_help_1_2="\u5f53\u6b65\u6570\u51cf\u5c11\u65f6\uff0c\u5e78\u8fd0\u8349\u4e5f\u4f1a\u968f\u4e4b\u51cf\u5c11\u3002\u6bcf\u6ee1\u8db3\u4e00\u8f6e\u5c0f\u52a8\u7269\uff0c\u6b65\u6570\u4f1a\u589e\u52a08\u6b65";
TextTable.t_Cuty_week_Match_help_1_3="\u6bd4\u8d5b\u5173\u5361\u4e00\u5171\u4e5d\u8f6e\u987e\u5ba2\uff0c\u7b2c\u4e09\u8f6e\u3001\u7b2c\u516d\u8f6e\u548c\u7b2c\u4e5d\u8f6e\u4f1a\u9047\u5230\u5927\u7b28\u718a\uff0c\u6ee1\u8db3\u4ed6\u7684\u9700\u6c42\u540e\u4f1a\u9001\u7ed9\u6211\u4eec\u9999\u751c\u7684\u8702\u871c\u7f50\u5934\u548c\u4e00\u4e2a\u968f\u673a\u7684\u589e\u76ca\u6548\u679c";TextTable.t_Cuty_week_Match_help_1_4="\u65f6\u95f4\u51bb\u7ed3\uff1a\u6d88\u96645\u6b65\u4e0d\u4f1a\u51cf\u5c11\u5269\u4f59\u6b65\u6570";
TextTable.t_Cuty_week_Match_help_1_5="\u6536\u96c6\u7ffb\u500d\uff1a\u672c\u8f6e\u6d88\u9664\u7684\u76ee\u6807\u5143\u7d20\u53cc\u500d\u8ba1\u7b97";TextTable.t_Cuty_week_Match_help_1_6="\u5e78\u8fd0\u8349\u7ffb\u500d\uff1a\u672c\u8f6e\u83b7\u5f97\u7684\u5e78\u8fd0\u8349\u7ffb\u500d\u8ba1\u7b97";TextTable.t_Cuty_week_Match_help_1_7="\u5ba0\u7269\u5370\u8bb0\uff1a\u68cb\u76d8\u4e2d\u751f\u6210\u4e24\u4e2a\u5ba0\u7269\u6280\u80fd\u5730\u683c";TextTable.t_Cuty_week_Match_help_2_1="\u901a\u8fc7\u6bd4\u8d5b\u5173\u5361\u4e2d\u83b7\u5f97\u7684\u5e78\u8fd0\u8349\u548c\u8702\u871c\u7f50\u5934\uff0c\u53ef\u4ee5\u5728\u5956\u54c1\u5151\u6362\u4e2d\u5151\u6362\u4e30\u5bcc\u7684\u5956\u54c1";
TextTable.t_Cuty_week_Match_help_2_2="\u6bcf\u5468\u4e00\u51cc\u66684\u70b9\u5956\u54c1\u4f1a\u5237\u65b0\uff0c\u4e0d\u8fc7\u5e78\u8fd0\u8349\u548c\u8702\u871c\u7f50\u5934\u4e0d\u4f1a\u6e05\u96f6\u54e6~";TextTable.t_Cuty_week_Match_help_2_3="\u7279\u522b\u63d0\u793a\uff1a\u5956\u54c1\u4e2d\u6f02\u4eae\u7684\u5ba0\u7269\u88c5\u626e\u4f1a\u6839\u636e\u661f\u7ea7\uff0c\u9002\u5f53\u5ef6\u957f\u4e0b\u7ebf\u65f6\u95f4\u3002\u82e5\u5df2\u62e5\u6709\u8be5\u88c5\u626e\uff0c\u5151\u6362\u540e\u5c06\u53d8\u4e3a\u94c3\u94db";
TextTable.t_Cuty_week_Match_help_3_1="\u5728\u6bcf\u5468\u6bd4\u8d5b\u7ed3\u7b97\u540e\uff0c\u83b7\u5f97\u4e16\u754c\u6392\u884c\u524d\u5217\u7684\u73a9\u5bb6\u53ef\u4ee5\u83b7\u5f97\u4e30\u539a\u7684\u5956\u52b1\u548c\u4e13\u5c5e\u5934\u50cf\u6846\uff0c\u5934\u50cf\u6846\u62e5\u6709\u6743\u4f1a\u6301\u7eed\u4e00\u5468\u54e6~";TextTable.t_Cuty_week_Match_help_3_2="\u4e16\u754c\u7b2c\u4e00";TextTable.t_Cuty_week_Match_help_3_3="\u4e16\u754c\u7b2c\u4e8c";TextTable.t_Cuty_week_Match_help_3_4="\u4e16\u754c\u7b2c\u4e09";
TextTable.t_Cuty_week_Match_help_3_5="\u7b2c{num}\u540d";TextTable.t_Cuty_week_Match_help_3_6="\u5176\u4ed6\u540d\u6b21";TextTable.t_Cuty_week_Match_help_4_1="\u5728\u6bcf\u5468\u6bd4\u8d5b\u7ed3\u7b97\u540e\uff0c\u83b7\u5f97\u597d\u53cb\u699c\u524d\u5217\u7684\u73a9\u5bb6\u4e5f\u4f1a\u83b7\u5f97\u4e30\u539a\u7684\u5956\u52b1";TextTable.t_TimeLevel_text_1="\u9650\u65f6\u5173\u5361\u5f00\u542f\u5566\uff01\u5582\u9971\u5c0f\u523a\u732c\u9886\u53d6\u9650\u65f6\u5956\u52b1\uff01";
TextTable.t_TimeLevel_text_28="\u3010\u5012\u8ba1\u65f6\uff1a3\u5c0f\u65f6\u3011";TextTable.t_TimeLevel_text_2="\u9080\u8bf7\u597d\u53cb\u4e00\u8d77\u901a\u5173\u66f4\u80fd\u83b7\u5f97\u8d85\u503c\u5927\u5956\u54e6\uff01";TextTable.t_TimeLevel_label_1="\u6211\u7684\u5173\u5361";TextTable.t_TimeLevel_label_2="\u597d\u53cb\u5173\u5361";TextTable.t_TimeLevel_text_3="\u5582\u9971\u5c0f\u523a\u732c~~";TextTable.t_TimeLevel_text_4="\u5269\u4f59\u65f6\u95f4\uff1a{time}";TextTable.t_TimeLevel_text_5="\u9080\u8bf7\u597d\u53cb\u4e00\u8d77\u95ef\u5173\u8d62\u53d6\u5927\u5956\u5427~";
TextTable.t_TimeLevel_btn_1="\u9080\u8bf7\u597d\u53cb";TextTable.t_TimeLevel_text_6="\u60a8\u5df2\u7ecf\u6ee1\u8db3\u4e86\u5c0f\u523a\u732c\u7684\u8bf7\u6c42\uff0c\u8bf7\u7ee7\u7eed\u9080\u8bf7\u597d\u53cb\u6311\u6218\u5427~";TextTable.t_TimeLevel_text_7="\u51d1\u9f503\u4e2a\u4eba\u8fc7\u5173\uff0c\u5927\u5bb6\u5c31\u53ef\u4ee5\u5f00\u542f\u5927\u793c\u5305\u5566\uff01";TextTable.t_TimeLevel_text_8="\u5df2\u5b8c\u6210\uff1a{num}";TextTable.t_TimeLevel_text_9="\u8fd8\u5dee{num}\u4e2a\u4eba\u8fc7\u5173\uff0c\u6211\u624d\u80fd\u628a\u5927\u793c\u5305\u7ed9\u4f60\u4eec\u54e6~";
TextTable.t_TimeLevel_text_10="\u60a8\u548c\u60a8\u7684\u5c0f\u4f19\u4f34\u5b9e\u5728\u662f\u592a\u7ed9\u529b\u5566\uff01\u6210\u529f\u5b8c\u6210\u4e86\u5c0f\u523a\u732c\u7684\u5168\u90e8\u8bf7\u6c42~";TextTable.t_TimeLevel_text_11="\u8fd9\u987f\u996d\u5403\u7684\u4e00\u672c\u6ee1\u8db3\uff0c\u8fd9\u4e9b\u5b9d\u8d1d\u5f52\u4f60\u4eec\u5566~";TextTable.t_TimeLevel_btn_2="\u9886\u53d6";TextTable.t_TimeLevel_btn_3="\u5206\u4eab";TextTable.t_TimeLevel_text_11="\u597d\u53ef\u60dc\uff0c\u60a8\u548c\u5c0f\u4f19\u4f34\u5dee\u4e00\u70b9\u5c31\u80fd\u6ee1\u8db3\u5c0f\u523a\u732c\u7684\u9700\u6c42\u5462\u2026\u2026\u4e0b\u6b21\u8bf7\u7ee7\u7eed\u52aa\u529b\u5427~";
TextTable.t_TimeLevel_text_12="\u8fd9\u6b21\u6ca1\u5403\u9971\u2026\u2026\u4e0b\u6b21\u4e00\u5b9a\u53ef\u4ee5\u7684\uff01";TextTable.t_TimeLevel_btn_4="\u5173\u95ed";TextTable.t_TimeLevel_title_1="\u9080\u8bf7\u597d\u53cb";TextTable.t_TimeLevel_text_13="\u5168\u9009";TextTable.t_TimeLevel_btn_5="\u5fae\u4fe1\u9080\u8bf7";TextTable.t_TimeLevel_btn_6="QQ\u9080\u8bf7";TextTable.t_TimeLevel_btn_7="\u53d1\u9001\u8bf7\u6c42";TextTable.t_TimeLevel_text_14="{name}\u7684\u5173\u5361";
TextTable.t_TimeLevel_text_15="\u95ef\u5173\u6210\u529f";TextTable.t_TimeLevel_text_16="\u95ef\u5173\u5931\u8d25";TextTable.t_TimeLevel_text_17="\u5956\u52b1\uff1a";TextTable.t_TimeLevel_text_18="\u8bf7\u8010\u5fc3\u7b49\u5f85\u597d\u53cb\u95ef\u5173~";TextTable.t_TimeLevel_text_18="\u548c\u597d\u53cb\u4e00\u8d77\u8fc7\u5173\u8d62\u53d6\u5927\u793c\u5305\u5427\uff01";TextTable.t_TimeLevel_text_19="\u4eca\u65e5\u53ef\u5b8c\u6210\u597d\u53cb\u5173\u5361\uff1a{num}";TextTable.t_TimeLevel_btn_8="\u95ef\u5173";
TextTable.t_TimeLevel_text_20="\u6211\u53d1\u73b0\u4e86\u4e00\u4e2a\u5956\u52b1\u4e30\u539a\u7684\u9650\u65f6\u5173\u5361\uff0c\u8bf7\u548c\u6211\u4e00\u8d77\u95ef\u5173\u62ff\u5927\u5956\u5427~";TextTable.t_TimeLevel_text_21="\u60a8\u4eca\u5929\u5df2\u7ecf\u901a\u8fc7\u4e862\u4e2a\u597d\u53cb\u5206\u4eab\u7684\u5173\u5361\uff0c\u8fbe\u5230\u4e0a\u9650\uff0c\u8bf7\u660e\u5929\u518d\u6765\u5427~";TextTable.t_TimeLevel_text_22="20\u5173\u4e4b\u540e\u5c31\u80fd\u89e3\u9501\u9650\u65f6\u5956\u52b1\u5173\u5361\u5566~\n\u6bcf\u5929\u4e00\u6b21\u4e0d\u8981\u9519\u8fc7\u54e6~";
TextTable.t_TimeLevel_text_23="\u6dfb\u52a0\u66f4\u591a\u597d\u53cb\u4e00\u8d77\u73a9\uff0c\u5c31\u80fd\u83b7\u5f97\u597d\u53cb\u5206\u4eab\u7684\u5173\u5361\u54e6\uff01";TextTable.t_TimeLevel_text_24="\u6bcf\u5929\u6700\u591a\u53ef\u4ee5\u62532\u4e2a\u597d\u53cb\u5206\u4eab\u7684\u5173\u5361\u54e6~";TextTable.t_TimeLevel_btn_9="\u53bb\u95ef\u5173";TextTable.t_TimeLevel_text_25="\u60a8\u6210\u529f\u9886\u53d6\u4e86{name}\u7684\u5173\u5361\uff0c\u8bf7\u4e00\u8d77\u52aa\u529b\u95ef\u5173\u8d62\u53d6\u5927\u5956\u5427~";
TextTable.t_TimeLevel_text_26="\u60a8\u4e4b\u524d\u5df2\u7ecf\u9886\u53d6\u4e86{name}\u7684\u5173\u5361\uff0c\u8bf7\u60a8\u5148\u901a\u5173\u6216\u653e\u5f03ta\u7684\u5173\u5361\u518d\u6765\u9886\u53d6\u522b\u4eba\u7684\u5173\u5361\u5427~";TextTable.t_TimeLevel_btn_10="\u67e5\u770b";TextTable.t_TimeLevel_btn_11="\u8fd4\u56de";TextTable.t_TimeLevel_text_27="\u73a9\u4e09\u6b21\u666e\u901a\u5173\u5361\uff0c\u5c31\u80fd\u89e3\u9501\u9650\u65f6\u5956\u52b1\u5173\u5361\u3002\u5582\u9971\u5c0f\u523a\u732c\u9886\u53d6\u9650\u65f6\u5956\u52b1\uff01\u9080\u8bf7\u597d\u53cb\u4e00\u8d77\u901a\u5173\u66f4\u80fd\u83b7\u5f97\u8d85\u7ea7\u5927\u5956\uff01\u6bcf\u5929\u4e00\u6b21\u4e0d\u8981\u9519\u8fc7\u54e6~";
TextTable.t_TimeLevel_text_28="\u73a9\u4e09\u6b21\u666e\u901a\u5173\u5361\uff0c\u5c31\u80fd\u89e3\u9501\u9650\u65f6\u5956\u52b1\u5173\u5361\uff0c\u5feb\u53bb\u95ef\u5173\u5427\uff01";TextTable.t_TimeLevel_text_29="\u6dfb\u52a0\u66f4\u591a\u597d\u53cb\u4e00\u8d77\u73a9";TextTable.t_TimeLevel_text_30="QQ\u9080\u8bf7\u597d\u53cb\u5f00\u5c40\u8d60\u9001\u52a03\u6b65";TextTable.t_GuideNPC_txt20002="\u6765\u81ea\u6ce2\u65af\u7684\u821e\u5a18\u55b5";TextTable.t_GuideNPC_txt20001="\u6765\u81ea\u4f26\u6566\u7684\u9ed1\u6267\u4e8b\u6c6a";
TextTable.t_GuideTips_title1_15="\u51b0\u9547\u8349\u8393";TextTable.t_GuideTips_txt1_15="\u6700\u591a 5 \u5c42\uff0c5 \u5c42\u51b0\u9547\u8349\u8393\u9700\u8981\u6d88\u9664 5 \u6b21\u624d\u80fd\u6536\u96c6 1 \u4e2a\u8349\u8393\u3002";TextTable.t_GuideTips_title1_10="\u51b0\u5757";TextTable.t_GuideTips_txt1_10="\u6700\u591a 5 \u5c42\uff0c5 \u5c42\u51b0\u5757\u9700\u8981\u6d88\u9664 5 \u6b21\u624d\u80fd\u6536\u96c6 1 \u4e2a\u51b0\u5757\u3002";TextTable.t_GuideTips_title1_32="\u6930\u5b50";
TextTable.t_GuideTips_txt1_32="\u5feb\u8ba9\u5b83\u6389\u843d\u5230\u5236\u5b9a\u51fa\u53e3\u3002";TextTable.t_GuideTips_title1_7="\u4f20\u9001\u95e8";TextTable.t_GuideTips_txt1_7="\u4ece\u4e00\u4e2a\u5165\u53e3\u8fdb\u5165\uff0c\u4f1a\u4ece\u53e6\u4e00\u4e2a\u5165\u53e3\u6389\u51fa\u54df\uff01";TextTable.t_GuideTips_title1_26="\u7f8e\u5473\u9c7c\u7f50\u5934";TextTable.t_GuideTips_txt1_26="\u5728\u5176\u9644\u8fd1\u6d88\u9664 1 \u6b21\u5373\u53ef\u6536\u96c6\u7f8e\u5473\u9c7c\u7f50\u5934\u3002\u7f8e\u5473\u9c7c\u7f50\u5934\u4f1a\u963b\u6321\u7279\u6548\u7684\u4f20\u9012\u3002";
TextTable.t_GuideTips_title1_31="\u7af9\u7bee";TextTable.t_GuideTips_txt1_31="\u7f69\u4f4f\u98df\u7269\uff0c\u9700\u8981\u5bf9\u7f69\u4f4f\u7684\u98df\u7269\u5b8c\u6210\u6d88\u9664\u6216\u7279\u6548\u7206\u70b8\u624d\u80fd\u6d88\u9664\u7af9\u7bee\u3002";TextTable.t_GuideTips_title1_64="\u4f20\u9001\u5e26";TextTable.t_GuideTips_txt1_64="\u6bcf\u6b65\u4f1a\u987a\u4f20\u52a8\u65b9\u5411\u79fb\u52a8 1 \u683c\u3002";TextTable.t_GuideTips_title1_1000="\u793c\u7269\u76d2";
TextTable.t_GuideTips_txt1_1000="\u5f53\u76f8\u540c\u989c\u8272\u7684\u98df\u7269\u843d\u5165\u793c\u7269\u76d2\u540e\uff0c\u53ef\u5b8c\u6210 1 \u4e2a\u793c\u7269\u76d2\u7684\u6536\u96c6\u3002";TextTable.t_GuideTips_title1_93="\u9171\u6599\u67aa";TextTable.t_GuideTips_txt1_93="\u5feb\u6536\u96c6\u6cbe\u4e0a\u6c99\u62c9\u7684\u98df\u7269\u3002";TextTable.t_GuideTips_title1_89="\u4f20\u9001\u5e26\u542f\u52a8\u5f00\u5173";TextTable.t_GuideTips_txt1_89="\u56de\u5408\u5185\uff0c\u5728\u6307\u5b9a\u8303\u56f4\u5185\u6d88\u9664\uff0c\u53ef\u5b8c\u6210 1 \u6b21\u5bf9\u5f00\u5173\u7684\u5f00\u542f\u6216\u5173\u95ed\u3002";
TextTable.t_GuideTips_title1_90="\u4f20\u9001\u5e26\u65b9\u5411\u5f00\u5173";TextTable.t_GuideTips_txt1_90="\u56de\u5408\u5185\uff0c\u5728\u6307\u5b9a\u8303\u56f4\u5185\u6d88\u9664\uff0c\u53ef\u5b8c\u6210 1 \u6b21\u5bf9\u4f20\u9001\u5e26\u4f20\u52a8\u65b9\u5411\u7684\u6539\u53d8\u3002";TextTable.t_GuideTips_title1_38="\u6363\u86cb\u8717\u725b";TextTable.t_GuideTips_txt1_38="\u53ef\u4ee5\u5403\u6389\u53f6\u5b50\u3002\u9700\u8981\u8fde\u7eed\u6d88\u9664\u4e24\u6b21\u624d\u4f1a\u6d88\u5931\u3002\u6d88\u9664 1 \u6b21\u540e\u4f1a\u88ab\u51fb\u6655\u4e0d\u518d\u5077\u5403\u53f6\u5b50\uff1b\u82e5\u672a\u8fde\u7eed\u6d88\u9664\uff0c\u51fb\u6655\u72b6\u6001\u5c06\u4f1a\u6062\u590d\u3002";
TextTable.t_GuideTips_title1_76="\u6ed1\u9053";TextTable.t_GuideTips_txt1_76="\u8fd9\u4e9b\u74f7\u5668\u6ed1\u9053\u975e\u5e38\u5149\u6ed1\uff0c\u98df\u7269\u53ea\u4f1a\u987a\u7740\u6ed1\u9053\u6ed1\u52a8\uff0c\u4e00\u6ed1\u5230\u5e95\u3002";TextTable.t_GuideTips_title2_1="\u7279\u6548\u4e00\uff1a";TextTable.t_GuideTips_txt2_1="\u56db\u8fde\uff0c\u7acb\u5373\u6d88\u9664\u4e00\u6574\u6761\u76f4\u7ebf\u3002";TextTable.t_GuideTips_title2_2="\u7279\u6548\u4e8c\uff1a";TextTable.t_GuideTips_txt2_2="\u4e94\u8fde\uff0c\u7acb\u5373\u6d88\u9664\u6240\u6709\u540c\u8272\u98df\u7269\u3002";
TextTable.t_GuideTips_title2_3="\u7279\u6548\u4e09\uff1a";TextTable.t_GuideTips_txt2_3="\u201cL\u201d\u6216\u201dT\u201d\u578b\u6d88\u9664\uff0c\u70b8\u6389\u4e00\u7247\u83f1\u5f62\u533a\u57df\u3002";TextTable.t_GuideTips_title2_4="\u7279\u6548\u56db\uff1a";TextTable.t_GuideTips_txt2_4="\u5f53\u4ea4\u6362\u7684\u76ee\u6807\u70b9\u5b58\u5728\u5f69\u8679\u5730\u683c\u65f6\uff0c\u4ea4\u6362\u540e\u9910\u76d8\u4e2d\u7684\u98df\u7269\u4e5f\u4f1a\u9644\u5e26\u5f69\u8679\u5730\u683c\u3002\u63a5\u4e0b\u6765\u5c06\u4f1a\u5728\u4ea4\u6362\u540e\u7684\u4f4d\u7f6e\u89e6\u53d1\u5ba0\u7269\u6280\u80fd\u7206\u70b8\u3002";
TextTable.t_GuideTips_title2_5="\u7279\u6548\u4e94\uff1a";TextTable.t_GuideTips_txt2_5="\u5f53\u9910\u76d8\u4e2d\u7684\u98df\u7269\u548c\u4ea4\u6362\u76ee\u6807\u70b9\u90fd\u5b58\u5728\u5f69\u8679\u5730\u683c\u65f6\uff0c\u4ea4\u6362\u540e\u4f1a\u5728\u68cb\u76d8\u5185\u968f\u673a\u4f4d\u7f6e\u89e6\u53d1 8 \u4e2a\u5ba0\u7269\u6280\u80fd\u7206\u70b8\u3002";TextTable.t_BasicGuide_tips1="\u7ee7\u7eed\x3e\x3e\x3e";TextTable.t_BasicGuide_tips2="\u6211\u77e5\u9053\u4e86";
TextTable.t_GuideTips_title1_95="\u8702\u871c";TextTable.t_GuideTips_txt1_95="\u6bcf\u6b65\u4f1a\u5411\u968f\u673a\u65b9\u5411\u79fb\u52a8\u4e00\u683c\u3002";TextTable.t_GuideTips_title2_56="\u9694\u677f";TextTable.t_GuideTips_txt1_56="\u53ef\u963b\u6321\u5143\u7d20\u3001\u8702\u871c\u901a\u8fc7\u3002";TextTable.t_BasicGuide_1_1="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u54c7\uff0c\u7231\u5403\u53f6\u5b50\u7684\u5c0f\u8003\u62c9\u6765\u5566\uff01\u4e3a\u4ed6\u6536\u96c6\u4e9b\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e\u53f6\u5b50\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u5427~~\x3c/b\x3e";
TextTable.t_BasicGuide_1_2="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u5c0f\u5154\u5b50\u60f3\u5403\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e\u80e1\u841d\u535c\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\uff0c\u628a\u8fd9\u4e2a\u80e1\u841d\u535c\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e \u6362 \x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u5230\u5979\u624b\u4e0a~\x3c/b\x3e";TextTable.t_BasicGuide_1_3="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u76d8\u5b50\u4e2d\u7684\u80e1\u841d\u535c\u4e0e\u9910\u684c\u4e0a\u7684\u80e1\u841d\u535c\u7ec4\u6210\u4e00\u4e2a\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e\u4e09\u8fde\u6d88\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u5c31\u597d\u5566~\x3c/b\x3e";
TextTable.t_BasicGuide_2_1="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u54a6\uff0c\u5c0f\u4f01\u9e45\u60f3\u8981\u4e00\u4e9b\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e\u51b0\u51bb\u8349\u8393\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\uff0c\u5feb\u53bb\u5e2e\u4ed6\u51c6\u5907\u5427~\x3c/b\x3e";TextTable.t_BasicGuide_2_2="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u5176\u5b9e\u53ef\u7b80\u5355\u5566\uff0c\u5728\u51b0\u5757\u65c1\u8fb9\u6d88\u9664\u5c31\u53ef\u4ee5\u6536\u96c6\u8349\u8393\u54af~\x3c/b\x3e";
TextTable.t_BasicGuide_3_1="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u8349\u8393\u88ab\u9694\u5f00\u4e86\uff0c\u6ca1\u529e\u6cd5\u6d88\u9664\u4e86\u600e\u4e48\u529e\u5462\uff1f\x3c/b\x3e";TextTable.t_BasicGuide_3_2="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u522b\u62c5\u5fc3\uff01\n\u7528\u4e3b\u53a8\u6280\u80fd\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e\u8ffd\u8e2a\u6bdb\u7ebf\u7403\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u6d88\u9664\u5b83\u4eec~\x3c/b\x3e";TextTable.t_BasicGuide_3_3="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u5148\u6d88\u9664\u8fd9\u4e2a\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e\u56db\u8fde\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\uff0c\u89e6\u53d1\u76f4\u7ebf\u7279\u6548\u5e76\u751f\u6210\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e\u5f69\u8679\u5730\u683c\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u5427~\x3c/b\x3e";
TextTable.t_BasicGuide_3_4="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u5728\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e\u5f69\u8679\u5730\u683c\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u4e0a\u6d88\u9664\uff0c\u5c31\u53ef\u4ee5\u89e6\u53d1\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e\u8ffd\u8e2a\u6bdb\u7ebf\u7403\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u5566\uff01\u8bd5\u8bd5\u5427~\x3c/b\x3e";TextTable.t_BasicGuide_4_1="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u54a6\uff0c\u8fd9\u4f4d\u987e\u5ba2\u597d\u50cf\u6709\u70b9\u7279\u522b\u5462\u2026\u2026\x3c/b\x3e";
TextTable.t_BasicGuide_4_2="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u6211\u662f\u6b63\u5728\u4fee\u884c\u4e2d\u7684\u53a8\u5e08\u67f4\u72ac\u6c6a\uff0c\u6211\u7684\u76ee\u6807\u662f\u6210\u4e3a\u5c0f\u53a8\u795e\u6c6a\uff01\x3c/b\x3e";TextTable.t_BasicGuide_4_3="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u8bf7\u5148\u4e3a\u6211\u505a\u987f\u996d\u5427\uff0c\u6211\u8981\u4ed4\u7ec6\u8003\u8651\u4e0b\uff0c\u662f\u5426\u8981\u7559\u4e0b\u6765\u8ddf\u4f60\u4e00\u8d77\u4fee\u884c\u5462\uff0c\u6211\u53ef\u662f\u6709\u72ec\u95e8\u7edd\u6280\u7684\u5594\uff01\x3c/b\x3e";
TextTable.t_BasicGuide_5_1="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u6211\u7684\u6280\u80fd\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e\u9aa8\u5934\u7206\u70b8\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\uff0c\u53ef\u4ee5\u6a2a\u5411\u6d88\u9664\u5143\u7d20\u5594\uff01\u5feb\u6765\u770b\uff01\x3c/b\x3e";TextTable.t_BasicGuide_7_1="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u987e\u5ba2\u60f3\u5403\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e\u5e26\u6709\u6c99\u62c9\u9171\u7684\u98df\u7269\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\uff01\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u6ca1\u95ee\u9898\uff01\x3c/b\x3e";
TextTable.t_BasicGuide_7_2="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u6211\u4eec\u6709\u6c99\u62c9\u9171\u6599\u55b7\u67aa\uff0c\u53ef\u4ee5\u5236\u4f5c\u7f8e\u5473\u7684\u6c99\u62c9\u54e6~\x3c/b\x3e";TextTable.t_BasicGuide_7_3="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u9171\u6599\u67aa\u88ab\u6321\u4f4f\u65e0\u6cd5\u55b7\u6c99\u62c9\u4e86\uff0c\u8bf7\u5148\u6d88\u9664\u51b0\u51bb\u8349\u8393\u5427~\x3c/b\x3e";TextTable.t_BasicGuide_7_4="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u8349\u8393\u51b0\u5757\u6d88\u9664\u4e86\uff0c\u8bf7\u5148\u4e3a\u5c0f\u732b\u6536\u96c6\u4e9b\u6c99\u62c9\u9171\u9c7c\u5427~\x3c/b\x3e";
TextTable.t_BasicGuide_9_1="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u54c7~\u51fa\u73b0\u4e86\u8d85\u5f3a\u6280\u80fd\uff01\u5148\u628a\u8fd9\u4e2a\u5f69\u8679\u5730\u683c\u62ff\u5230\u624b\u4e2d\uff01\x3c/b\x3e";TextTable.t_BasicGuide_9_2="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u76d8\u5b50\u4e2d\u7684\u5f69\u8679\u5730\u683c\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e\u8986\u76d6\u5230\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u68cb\u76d8\u4e0a\u7684\u5f69\u8679\u5730\u683c\uff0c\u5c31\u53ef\u4ee5\u53d1\u52a8\u6211\u7684\u5927\u62db\u5662~\x3c/b\x3e";
TextTable.t_BasicGuide_17_1="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u672c\u5173\u8fd9\u4e24\u4e2a\u9053\u5177\u4e0d\u9650\u91cf\u514d\u8d39\u4f7f\u7528\uff01\u8f7b\u677e\u8fc7\u5173\u4e0d\u662f\u4e8b\u513f~\x3c/b\x3e";TextTable.t_BasicGuide_141_1="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u5feb\u770b\uff0c\u9910\u5385\u5f15\u8fdb\u4e86\u65b0\u8bbe\u5907\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e\u6ed1\u9053\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e~\x3c/b\x3e";
TextTable.t_BasicGuide_141_2="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u901a\u8fc7\u5b83\u5c31\u53ef\u4ee5\u8ba9\u98df\u7269\u5feb\u901f\u6d41\u8f6c\u5566\uff0c\u70b9\u4e00\u4e0b\u8fd9\u91cc\u770b\u770b\u6548\u679c\u5427\uff01\x3c/b\x3e";TextTable.t_BasicGuide_173_1="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u8702\u871c\u6bcf\u56de\u5408\u5411\u4efb\u610f\u65b9\u5411\u6ed1\u52a8\u4e00\u683c\uff0c\u4f46\u9694\u677f\u80fd\u591f\u6321\u4f4f\u8702\u871c\u79fb\u52a8\u54e6\uff01\x3c/b\x3e";
TextTable.t_BasicGuide_1="\x3cb size\x3d#26 color\x3d#f27612\x3e\u70b9\u9009\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u98df\u7269\uff0c\u4f7f\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e 3 \u4e2a\u540c\u8272\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u98df\u7269\u76f8\u8fde\u5c31\u53ef\u4ee5\u8fdb\u884c\u6d88\u9664\u5566~\x3c/b\x3e";TextTable.t_BasicGuide_2="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u53ea\u6709\u6253\u7834\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e\u51b0\u51bb\u8349\u8393\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\uff0c\u624d\u80fd\u53d6\u51fa\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e\u8349\u8393\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u54e6\u3002\n\u901a\u8fc7\u4e3b\u53a8\u6280\u80fd\u4f1a\u66f4\u5feb\u5b8c\u6210\u6536\u96c6\uff0c\u5feb\u8bd5\u8bd5\u770b\u5427~\x3c/b\x3e";
TextTable.t_BasicGuide_3="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u53ea\u6709\u6253\u7834\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e\u51b0\u51bb\u8349\u8393\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\uff0c\u624d\u80fd\u53d6\u51fa\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e\u8349\u8393\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u54e6\u3002\n\u901a\u8fc7\u4e3b\u53a8\u6280\u80fd\u4f1a\u66f4\u5feb\u5b8c\u6210\u6536\u96c6\uff0c\u5feb\u8bd5\u8bd5\u770b\u5427~\x3c/b\x3e";
TextTable.t_BasicGuide_4="\x3cb size\x3d#26 color\x3d#f27612\x3e5 \u4e2a\u540c\u8272\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u98df\u7269\u7ec4\u6210\u5de6\u4fa7\u7684\u5f62\u72b6\u53ef\u5f62\u6210\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e\u533a\u57df\u7206\u70b8\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u54e6\uff01\n\u7206\u70b8\u540e\u540c\u6837\u53ef\u4ee5\u751f\u6210\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e\u5f69\u8679\u5730\u683c\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u5566~\x3c/b\x3e";
TextTable.t_BasicGuide_5="\x3cb size\x3d#26 color\x3d#f27612\x3e4 \u4e2a\u540c\u8272\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u98df\u7269\u53ef\u5f62\u6210\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e\u76f4\u7ebf\u7206\u70b8\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\uff0c\u5f15\u7206\u540c\u65f6\u751f\u6210\u7684\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e\u5f69\u8679\u5730\u683c\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\uff0c\u4f1a\u89e6\u53d1\u66f4\u9177\u70ab\u7684\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e\u4e3b\u53a8\u6280\u80fd\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u54e6\uff01\x3c/b\x3e";
TextTable.t_BasicGuide_7="\x3cb size\x3d#26 color\x3d#f27612\x3e\u9171\u6599\u67aa\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u6bcf\u56de\u5408\u5f00\u59cb\u90fd\u53ef\u4ee5\u5c06\u98df\u7269\u55b7\u4e0a\u7f8e\u5473\u7684\u6c99\u62c9\u9171\uff0c\u987e\u5ba2\u4eec\u90fd\u5f88\u559c\u6b22\u54e6~\x3c/b\x3e";TextTable.t_BasicGuide_9="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u62ff\u8d77\u5f69\u8679\u5730\u683c\uff0c\u518d\u653e\u5230\u53e6\u4e00\u4e2a\u5f69\u8679\u5730\u683c\u4e0a\u3002\n\u4f1a\u5f15\u53d1\u5927\u8303\u56f4\u7684\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e\u5ba0\u7269\u6280\u80fd\u5927\u7206\u70b8\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u54e6\uff01\x3c/b\x3e";
TextTable.t_BasicGuide_11="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u6709\u7684\u65f6\u5019\uff0c\u987e\u5ba2\u771f\u7684\u592a\u591a\u5566\u3002\n\u6240\u4ee5\u4ed6\u4eec\u4f1a\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e\u5206\u6279\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u6765\u70b9\u9910\u54e6~\x3c/b\x3e";TextTable.t_BasicGuide_13="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u6d88\u9664\u51b0\u5c42\u4e0a\u9762\u7684\u98df\u7269\uff0c\u5c31\u80fd\u591f\u53d6\u51fa\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e\u51b0\u5757\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u4e3a\u4f01\u9e45\u89e3\u6691\u5566~\x3c/b\x3e";
TextTable.t_BasicGuide_12_1="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u4ece\u73b0\u5728\u8d77\uff0c\u6bcf\u5173\u5f00\u59cb\u524d\u53ef\u4ee5\u9009\u7528\u5173\u5361\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e\u6b65\u6570+3\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u7684\u9053\u5177\u4e86\u54e6~\u672c\u6b21\u514d\u8d39\u4f7f\u7528\u54e6~\x3c/b\x3e";TextTable.t_BasicGuide_21="\x3cb size\x3d#26 color\x3d#f27612\x3e\u4f20\u9001\u5e26\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u6bcf\u56de\u5408\u90fd\u4f1a\u4f20\u52a8\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e 1 \x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u683c\uff0c\u597d\u597d\u5229\u7528\u8fd9\u4e00\u89c4\u5f8b\u5236\u4f5c\u7f8e\u98df\u5427\u3002\x3c/b\x3e";
TextTable.t_BasicGuide_16="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u6d88\u9664\u51b0\u5c42\u4e0a\u9762\u7684\u98df\u7269\uff0c\u5c31\u80fd\u591f\u53d6\u51fa\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e\u51b0\u5757\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u4e3a\u4f01\u9e45\u89e3\u6691\u5566~\x3c/b\x3e";TextTable.t_BasicGuide_20="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u53d1\u73b0\u4e00\u4e2a\u5a01\u529b\u60ca\u4eba\u7684\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e\u5341\u5b57\u7279\u6548\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\uff0c\u5feb\u8bd5\u8bd5\u770b\u5427~\n\u9996\u6b21\u8fc7\u5173\u540e\uff0c\u8fd8\u4f1a\u518d\u9001\u60a8\u4e00\u4e2a\u7684\u54e6\u3002\x3c/b\x3e";
TextTable.t_BasicGuide_26="\x3cb size\x3d#26 color\x3d#f27612\x3e\u9171\u6599\u67aa\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u53ef\u4ee5\u5c06\u98df\u7269\u55b7\u4e0a\u7f8e\u5473\u7684\u6c99\u62c9\u9171\uff0c\u987e\u5ba2\u4eec\u90fd\u5f88\u559c\u6b22\u54e6~\x3c/b\x3e";TextTable.t_BasicGuide_36="\x3cb size\x3d#26 color\x3d#f27612\x3e\u4f20\u9001\u5e26\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u6bcf\u56de\u5408\u90fd\u4f1a\u4f20\u52a8\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e 1 \x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u683c\uff0c\u597d\u597d\u5229\u7528\u8fd9\u4e00\u89c4\u5f8b\u5236\u4f5c\u7f8e\u98df\u5427\u3002\x3c/b\x3e";
TextTable.t_BasicGuide_n25_1="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u54a6\uff1f\u6765\u4e86\u4e00\u4e2a\u7279\u6b8a\u7684\u987e\u5ba2\u3002\n\u4ed6\u8981\u628a\u98df\u7269\u6253\u5305\u5e26\u8d70\u54e6~\x3c/b\x3e";TextTable.t_BasicGuide_n25_2="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u53ea\u8981\u8ba9\u5bf9\u5e94\u989c\u8272\u7684\u98df\u7269\u843d\u5230\u793c\u7269\u76d2\u4e0a\u5c31\u80fd\u5b8c\u6210\u6253\u5305\u5566\u3002\n\u5feb\u8bd5\u8bd5\u770b~\x3c/b\x3e";TextTable.t_BasicGuide_n25_3="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u7389\u7c73\u4e09\u6d88\u7684\u4f4d\u7f6e\u6b63\u597d\u6709\u4e2a\u793c\u76d2\u5462\u3002\u6362\u4e00\u4e2a\u7389\u7c73\uff0c\u653e\u5728\u4e09\u6d88\u4f4d\u7f6e\u5c31\u53ef\u4ee5\u6536\u96c6\u5566\u3002\x3c/b\x3e";
TextTable.t_BasicGuide_37="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u8ba9\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e\u6930\u5b50\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u6389\u843d\u5230\u68cb\u76d8\u5e95\u90e8\uff0c\u5c31\u53ef\u4ee5\u5b8c\u6210\u5c0f\u7334\u5b50\u987e\u5ba2\u7684\u9700\u6c42\u5566\u3002\x3c/b\x3e";TextTable.t_BasicGuide_53="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u6ca1\u6709\u5c3d\u5934\u7684\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e\u65e0\u5c3d\u4f20\u9001\u5e26\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\uff0c\u5165\u53e3\u5904\u4f1a\u4e0d\u505c\u4ea7\u751f\u65b0\u9c9c\u7684\u51b0\u51bb\u8349\u8393\u548c\u51b0\u5757\u54e6\u3002\x3c/b\x3e";
TextTable.t_BasicGuide_67="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u5728\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e\u7f8e\u5473\u9c7c\u7f50\u5934\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u65c1\u6d88\u9664\uff0c\u5373\u53ef\u5b8c\u6210\u5bf9\u5176\u7684\u6536\u96c6\u3002\x3c/b\x3e";TextTable.t_BasicGuide_n80_1="\x3cb size\x3d#26 color\x3d#f27612\x3e\u8d2a\u5403\u8717\u725b\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u6bcf\u56de\u5408\u90fd\u4f1a\u5403\u6389\u53f6\u5b50\uff0c\u5e72\u6270\u6211\u4eec\u5236\u4f5c\u7f8e\u98df\uff0c\u597d\u8ba8\u538c\u554a\uff01\x3c/b\x3e";
TextTable.t_BasicGuide_n80_2="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u73b0\u5728\uff0c\u5728\u5176\u5468\u56f4\u6d88\u9664\u4e00\u6b21\u5c31\u4f1a\u4f7f\u8717\u725b\u505c\u6b62\u79fb\u52a8\u548c\u5403\u53f6\u5b50\u5566\u3002\x3c/b\x3e";TextTable.t_BasicGuide_n80_3="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u4e00\u5b9a\u8981\u8fde\u7eed\u6d88\u9664\u4e24\u6b21\uff0c\u624d\u80fd\u6536\u96c6\u8717\u725b\u54e6\uff01\x3c/b\x3e";TextTable.t_BasicGuide_n80_4="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u82e5\u662f\u4e0d\u80fd\u8fde\u7eed\u6d88\u9664\uff0c\u8717\u725b\u5c31\u4f1a\u6062\u590d\u79fb\u52a8\u7ee7\u7eed\u53bb\u5403\u53f6\u5b50\u7684\u54e6~\x3c/b\x3e";
TextTable.t_BasicGuide_103="\x3cb size\x3d#26 color\x3d#f27612\x3e\u7af9\u7bee\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u4f1a\u7f69\u4f4f\u98df\u7269\uff0c\u540c\u8272\u6d88\u9664\u5c31\u53ef\u4ee5\u89e3\u9664\u7af9\u7bee\u54e6~\x3c/b\x3e";TextTable.t_BasicGuide_25_1="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u597d\u50cf\u6765\u4e86\u4e00\u4f4d\u7279\u6b8a\u7684\u987e\u5ba2\uff01\x3c/b\x3e";TextTable.t_BasicGuide_25_2="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u8bf7\u95ee\u2026\u2026\u8fd9\u91cc\u6709\x3c/b\x3e\x3cs size\x3d#50\x3emap_fruit_1.png\x3c/s\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u5417\uff1f\x3c/b\x3e";
TextTable.t_BasicGuide_25_3="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u5f53\u7136\u6709\u5566\uff01\n\u8bf7\u60a8\u7b49\u4e00\u7b49\u5427\uff0c\u9a6c\u4e0a\u5c31\u51c6\u5907\u597d\uff01\x3c/b\x3e";TextTable.t_BasicGuide_25_4="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u55b5\u545c\uff01\u771f\u7684\u592a\u7f8e\u5473\u4e86\u2026\u2026\n\u5176\u5b9e\u6211\u4e5f\u662f\u53a8\u5e08\u5462\uff0c\u80fd\u5426\u8ba9\u6211\u4e5f\u52a0\u5165\u60a8\u7684\u9910\u8f66\u5462\uff1f\uff01\x3c/b\x3e";
TextTable.t_BasicGuide_25_5="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u5929\u554a\uff0c\u7b2c\u4e00\u4e2a\u5c0f\u4f19\u4f34\u7adf\u7136\u8fd9\u4e48\u8f7b\u6613\u5c31\u5230\u6765\u4e86\uff1f\uff01\uff01\x3c/b\x3e";TextTable.t_BasicGuide_25_6="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u62dc\u6258\u5566\uff0c\u6211\u4f1a\u52aa\u529b\u7684~\x3c/b\x3e";TextTable.t_BasicGuide_46="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u9047\u5230\u9700\u8981\u6253\u5305\u5e26\u8d70\u98df\u7269\u7684\u987e\u5ba2\uff0c\u53ea\u9700\u8981\u628a\u98df\u7269\u653e\u5230\x3c/b\x3e\x3cb size\x3d#26 color\x3d#f27612\x3e\u793c\u7269\u76d2\x3c/b\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u4e2d\u5c31\u884c\u5566\u3002\x3c/b\x3e";
TextTable.t_BasicGuide_40_1="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u8fd9\u4f4d\u987e\u5ba2\u60f3\u8981\u6253\u5305\u5e26\u8d70\u98df\u7269\u5462\u3002\n\u5c06\u624b\u4e2d\u7684\u98df\u7269\u653e\u7f6e\u5230\u5bf9\u5e94\u989c\u8272\u7684\x3c/b\x3e\x3cs size\x3d#40\x3etile_giftbox_bg_1.png\x3c/s\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u4e2d~\x3c/b\x3e";TextTable.t_BasicGuide_40_2="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u6709\u65f6\u5019\u98df\u7269\u4f1a\u81ea\u5df1\u843d\u5230\x3c/b\x3e\x3cs size\x3d#40\x3etile_giftbox_bg_6.png\x3c/s\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u4e0a\uff0c\n\u8fd9\u65f6\u5019\u53ea\u9700\u8981\u7b49\u5f85\x3c/b\x3e\x3cs size\x3d#40\x3etile_giftbox_bg_6.png\x3c/s\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u6536\u53d6\u98df\u7269\u5e76\u5305\u88c5\u597d\u5c31\u597d\u4e86\u3002\x3c/b\x3e";
TextTable.t_BasicGuide_40_3="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u5982\u679c\u624b\u4e2d\u7684\u98df\u7269\u4e0e\x3c/b\x3e\x3cs size\x3d#40\x3etile_giftbox_bg_3.png\x3c/s\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u989c\u8272\u4e0d\u540c\uff0c\n\u60a8\u5c31\u9700\u8981\u53bb\u627e\u4e00\u4e2a\u4e0e\x3c/b\x3e\x3cs size\x3d#40\x3etile_giftbox_bg_3.png\x3c/s\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u76f8\u540c\u989c\u8272\u7684\u98df\u7269\u4e86~\x3c/b\x3e";TextTable.t_BasicGuide_50_1="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u5c0f\u7334\u5b50\u987e\u5ba2\u60f3\u5403\x3c/b\x3e\x3cs size\x3d#50\x3etile_bramble.png\x3c/s\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u3002\n\u8bf7\u8ba9\x3c/b\x3e\x3cs size\x3d#50\x3etile_bramble.png\x3c/s\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u6389\u843d\u5230\u5c4f\u5e55\u5e95\u90e8,\u5c31\u53ef\u4ee5\u6536\u96c6\u5b83\u4e86~\x3c/b\x3e";
TextTable.t_BasicGuide_50_2="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u7075\u6d3b\u8fd0\u7528\u7279\u6548\u53ef\u4ee5\u5927\u5e45\u63d0\u5347\u5de5\u4f5c\u6548\u7387\u54e6~\x3c/b\x3e";TextTable.t_BasicGuide_61_1="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u8fd9\u4e2a\u98df\u7269\u88ab\x3c/b\x3e\x3cs size\x3d#50\x3eblock_lock.png\x3c/s\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u7981\u9522\u4f4f\u4e86\uff0c\u5c06\u5176\u6d88\u9664\u4e00\u6b21\u5373\u53ef\u7834\u9664\x3c/b\x3e\x3cs size\x3d#50\x3eblock_lock.png\x3c/s\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u5594~\x3c/b\x3e";
TextTable.t_BasicGuide_79_1="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u6211\u4eec\u4e3a\u5c0f\u4f01\u9e45\u627e\u6765\u4e86\u65b0\u7684\u98df\u7269\u2014\u2014\x3c/b\x3e\x3cs size\x3d#50\x3eblock_helmet_normal.png\x3c/s\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\uff0c\u5728\u65c1\u8fb9\u6d88\u9664\u5c31\u53ef\u4ee5\u6536\u96c6\u5594~\x3c/b\x3e";TextTable.t_BasicGuide_79_2="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u4f46\u662f\u8fd9\u4e9b\x3c/b\x3e\x3cs size\x3d#50\x3eblock_helmet_normal.png\x3c/s\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u771f\u7684\u5f88\u788d\u4e8b\u8036\uff01\u5b83\u4eec\u4f1a\u963b\u6321\u76f4\u7ebf\u7279\u6548\uff0c\u4f7f\u5176\u65e0\u6cd5\u7a7f\u8fc7\u5462\uff01\x3c/b\x3e";
TextTable.t_BasicGuide_111_1="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u9910\u8f66\u5f15\u8fdb\u4e86\u65b0\u7684\u9171\u6599\u67aa\uff0c\u4f46\u662f\u5b83\u88ab\x3c/b\x3e\x3cs size\x3d#50\x3eblock_stone_1.png\x3c/s\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u6321\u4f4f\u4e86\uff0c\u8bf7\u6d88\u9664\u963b\u6321\u7684\x3c/b\x3e\x3cs size\x3d#50\x3eblock_stone_1.png\x3c/s\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e~\x3c/b\x3e";TextTable.t_BasicGuide_111_2="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u98df\u7269\u6210\u529f\u5730\u8986\u76d6\u4e0a\u6c99\u62c9\u9171\u5566\uff01\u8bf7\u6d88\u9664\u5e26\u6c99\u62c9\u9171\u7684\u98df\u7269\uff0c\u6ee1\u8db3\u6311\u5254\u7684\u987e\u5ba2~\x3c/b\x3e";
TextTable.t_BasicGuide_130_1="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u54c7\uff0c\u662f\u4f20\u9001\u5e26\uff0c\u5b83\u6bcf\u56de\u5408\u90fd\u4f1a\u4f20\u52a8\u4e00\u683c\u3002\u8bf7\u5148\u6d88\u9664\u4e00\u4e0b\u8bd5\u8bd5~\x3c/b\x3e";TextTable.t_BasicGuide_130_2="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u4f20\u9001\u5e26\u6bcf\u56de\u5408\u90fd\u4f1a\u8fd9\u6837\u4f20\u52a8\uff0c\u8bf7\u597d\u597d\u5229\u7528\u8fd9\u4e2a\u7279\u6027\u6765\u8fdb\u884c\u6d88\u9664\u5427~\x3c/b\x3e";
TextTable.t_BasicGuide_133_1="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u8fd9\u662f\u65e0\u5c3d\u4f20\u9001\u5e26\uff0c\u8bf7\u6d88\u9664\u4e00\u4e0b\u770b\u770b~\x3c/b\x3e";TextTable.t_BasicGuide_133_2="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u8fd9\u79cd\u65e0\u5c3d\u4f20\u9001\u5e26\u5165\u53e3\u4f1a\u4e00\u76f4\u4ea7\u751f\u65b0\u7684\u4e1c\u897f\uff0c\u800c\u51fa\u53e3\u4f20\u9001\u51fa\u53bb\u7684\u4e1c\u897f\u5219\u4f1a\u6d88\u5931\u4e0d\u89c1\u3002\u8bf7\u5728\x3c/b\x3e\x3cs size\x3d#50\x3eblock_stone_1.png\x3c/s\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u548c\x3c/b\x3e\x3cs size\x3d#50\x3etarget_order_4_5.png\x3c/s\x3e\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u6d88\u5931\u524d\u6d88\u9664\u4ed6\u4eec\u5427~\x3c/b\x3e";
TextTable.t_BasicGuide_134_1="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u53c8\u51fa\u73b0\u4f20\u9001\u5e26\u4e86\uff0c\u8bf7\u6d88\u9664~\x3c/b\x3e";TextTable.t_BasicGuide_134_2="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u54a6\uff0c\u4f20\u9001\u5e26\u6ca1\u6709\u52a8\uff1f\u539f\u6765\u662f\u5f00\u5173\u6ca1\u6709\u6253\u5f00\u554a\u2026\u2026\u90a3\u4e48\u8bf7\u5728\u5f00\u5173\u5730\u683c\u4e0a\u6d88\u9664\uff0c\u4ee5\u6253\u5f00\u5f00\u5173~\x3c/b\x3e";TextTable.t_BasicGuide_134_3="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u5f00\u5173\u6253\u5f00\u540e\uff0c\u4f20\u9001\u5e26\u5c31\u5f00\u59cb\u4f20\u52a8\u5566~\u5728\u5f00\u5173\u5730\u683c\u4e0a\u6d88\u9664\u53ef\u4ee5\u6539\u53d8\u5f00\u5173\u72b6\u6001\u54e6\uff08\u6bcf\u56de\u5408\u6700\u591a\u6539\u53d8\u4e00\u6b21\uff09~\x3c/b\x3e";
TextTable.t_BasicGuide_138_1="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u8ba9\u6211\u4eec\u6765\u770b\u770b\u8fd9\u4e2a\u4f20\u9001\u5e26\u7684\u7279\u522b\u4e4b\u5904\uff0c\u8bf7\u6d88\u9664~\x3c/b\x3e";TextTable.t_BasicGuide_138_2="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u770b\u5230\u8fd9\u4e2a\u5f00\u5173\u5730\u683c\u4e86\u5417\uff1f\u8bf7\u5728\u4e0a\u9762\u6d88\u9664~\x3c/b\x3e";TextTable.t_BasicGuide_138_3="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u54c7\uff0c\u4f20\u9001\u5e26\u7684\u4f20\u52a8\u65b9\u5411\u6539\u53d8\u4e86\u5462\uff01\u5728\u5f00\u5173\u5730\u683c\u4e0a\u6d88\u9664\u53ef\u4ee5\u6539\u53d8\u5f00\u5173\u72b6\u6001\u54e6\uff08\u6bcf\u56de\u5408\u6700\u591a\u6539\u53d8\u4e00\u6b21\uff09~\x3c/b\x3e";
TextTable.t_BasicGuide_171_1="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u9910\u5385\u91cc\u51fa\u73b0\u4e86\u4e24\u53ea\u6363\u86cb\u8778\u725b\uff01\u8bf7\u5728\u5b83\u65c1\u8fb9\u6d88\u9664\u4e00\u4e0b~\x3c/b\x3e";TextTable.t_BasicGuide_171_2="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u5982\u679c\u4e0d\u7ba1\u6363\u86cb\u8717\u725b\u7684\u8bdd\uff0c\u5b83\u4eec\u5c31\u4f1a\u4e0d\u65ad\u5730\u5403\u6389\u68cb\u76d8\u4e0a\u7684\u53f6\u5b50\uff01\x3c/b\x3e";TextTable.t_BasicGuide_171_3="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u5728\u6363\u86cb\u8717\u725b\u65c1\u8fb9\u6d88\u9664\uff0c\u5c31\u53ef\u4ee5\u8ba9\u5b83\u660f\u8ff7\u4e00\u56de\u5408\u65e0\u6cd5\u884c\u52a8\u3002\u8d81\u5b83\u660f\u8ff7\u65f6\u518d\u5728\u65c1\u8fb9\u6d88\u9664\uff0c\u5c31\u53ef\u4ee5\u6d88\u6389\u5b83\u5566~\x3c/b\x3e";
TextTable.t_BasicGuidelimitlevel_1="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u8d2a\u5403\u7684\u5c0f\u523a\u732c\u6765\u5566\uff0c\u5feb\u6536\u96c6\u98df\u7269\u5582\u9971\u5b83\u5427~\x3c/b\x3e";TextTable.t_BasicGuide_changeclose_1="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u53ef\u4ee5\u5728\u5207\u6362\u5ba0\u7269\u754c\u9762\uff0c\u66f4\u6362\u4f7f\u7528\u7684\u4e3b\u53a8\u54e6\uff01\x3c/b\x3e";TextTable.t_BasicGuide_changeclose_2="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u8fd9\u4e00\u5173\u63a8\u8350\u7684\u5ba0\u7269\u662f\u5e03\u5076\u732b\uff0c\u5979\u7684\u6280\u80fd\u53ef\u4ee5\u8f7b\u677e\u5e2e\u52a9\u4f60\u8fc7\u5173\u54e6\uff0c\u8bf7\u8bbe\u7f6e\u5979\u4e3a\u4e3b\u53a8\u5427~\x3c/b\x3e";
TextTable.t_BasicGuide_petclosechange_1="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u54c7\uff01\u83b7\u5f97\u4e86\u4e00\u4ef6\u65b0\u88c5\u626e\u5462\uff0c\u5feb\u4e3a\u4e3b\u53a8\u6362\u4e0a\u5427~\x3c/b\x3e";TextTable.t_BasicGuide_Forcedexchange_1="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u771f\u53ef\u60dc\uff01\u8fd8\u5dee\u4e00\u4e2a\u5143\u7d20\u5c31\u80fd\u5b8c\u6210\u5341\u5b57\u6d88\u9664\u5566~\x3c/b\x3e";TextTable.t_BasicGuide_Forcedexchange_2="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u522b\u62c5\u5fc3\uff0c\u8ba9\u6211\u4eec\u6765\u8bd5\u8bd5\u201c\u5f3a\u5236\u4ea4\u6362\u201d\u9053\u5177\uff0c\u672c\u6b21\u514d\u8d39\u54e6\uff01\x3c/b\x3e";
TextTable.t_BasicGuide_Forcedexchange_3="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u4f7f\u7528\u201c\u5f3a\u5236\u4ea4\u6362\u201d\uff0c\u548c\u5c4f\u5e55\u4e0a\u7684\u5143\u7d20\u4f5c\u4ea4\u6362\u5427~\x3c/b\x3e";TextTable.t_BasicGuide_Detonatedplaceality_1="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u5feb\u770b\uff01\u5c4f\u5e55\u4e0a\u6709\u597d\u591a\u5f69\u8679\u5730\u683c\u5462\x3c/b\x3e";TextTable.t_BasicGuide_Detonatedplaceality_2="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u8bd5\u8bd5\u201c\u5f15\u7206\u5730\u683c\u201d\u9053\u5177\u5427\uff0c\u672c\u5173\u53ef\u4ee5\u968f\u610f\u4f7f\u7528\u54e6~\x3c/b\x3e";
TextTable.t_BasicGuide_card_1="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u626d\u86cb\u673a\u5f00\u542f\u5566\uff01\u5728\u8fd9\u91cc\u53ef\u4ee5\u62bd\u5230\u63d0\u5347\u80fd\u529b\u7684\u6f02\u4eae\u65f6\u88c5\u54e6~\x3c/b\x3e";TextTable.t_BasicGuide_card_2="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u6765\u5e2e\u6211\u9009\u4ef6\u65b0\u8863\u670d~\u6bcf\u5929\u90fd\u4f1a\u6709\u4e00\u6b21\u514d\u8d39\u62bd\u53d6\u7684\u673a\u4f1a\uff0c\u5feb\u70b9\u8bd5\u8bd5\u624b\u6c14\u5427\uff01\x3c/b\x3e";
TextTable.t_card_text1="\u662f\u5426\u786e\u8ba4\u5c06\u672c\u6b21\u62bd\u5230\u7684\u91cd\u590d\u65f6\u88c5{dnum}\u4ef6\uff0c\u5206\u89e3\u6210\u94c3\u94db{bnum} \u4e2a\uff1f";TextTable.t_PopcornGuide_text_1="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u606d\u559c\u60a8\u5f00\u542f\u4e86\u7206\u7c73\u82b1\u5927\u4f5c\u6218\uff0c\u5728\u8fd9\u91cc\u60a8\u53ef\u4ee5\u79ef\u7d2f\u548c\u62a2\u593a\u7206\u7c73\u82b1\uff0c\u5e76\u7528\u5b83\u6765\u6362\u53d6\u5ba0\u7269\u670d\u9970\u54e6~\x3c/b\x3e";
TextTable.t_PopcornGuide_text_2="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u8bf7\u5148\u8bbe\u7f6e\u60a8\u7684\u9632\u5fa1\u5173\u5361\uff0c\u5b83\u4f1a\u5e2e\u52a9\u5b88\u62a4\u60a8\u7684\u7206\u7c73\u82b1~\x3c/b\x3e";TextTable.t_PopcornGuide_text_3="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u5982\u679c\u5bf9\u5173\u5361\u4e0d\u6ee1\u610f\uff0c\u53ef\u4ee5\u8fd4\u56de\u91cd\u65b0\u7f16\u8f91\uff0c\u4e0d\u4f1a\u989d\u5916\u82b1\u8d39\u91d1\u5e01\u548c\u94bb\u77f3\u7684~\x3c/b\x3e";
TextTable.t_PopcornGuide_text_4="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u5982\u679c\u611f\u89c9\u5173\u5361\u5df2\u7ecf\u5f88\u68d2\u4e86\uff0c\u5c31\u70b9\u51fb\u4fdd\u5b58\u6210\u7ee9\u548c\u5173\u5361\u5427~\x3c/b\x3e";TextTable.t_PopcornGuide_text_5="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u606d\u559c\u4f60\u62e5\u6709\u4e86\u81ea\u5df1\u7684\u9632\u5fa1\u5173\u5361\uff0c\u73b0\u5728\u662f\u65f6\u5019\u53bb\u5927\u5c55\u8eab\u624b\u62c9~\x3c/b\x3e";TextTable.t_PopcornGuide_text_6="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u4f60\u4e5f\u53ef\u4ee5\u53bb\u62dc\u8bbf\u597d\u53cb\u5bb6\uff0c\u5e2e\u52a9\u597d\u53cb\u9632\u5b88\uff0c\u6210\u4e3a\u4ed6\u4eec\u7684\u5b88\u62a4\u8005\u3002\x3c/b\x3e";
TextTable.t_PopcornGuide_text_7="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u4f60\u53ef\u4ee5\u53bb\u6311\u6218\u5176\u4ed6\u73a9\u5bb6\u7684\u9632\u5fa1\u5173\u5361\uff0c\u8d62\u53d6\u4ed6\u4eec\u7684\u8d44\u6e90~ \u73b0\u5728\u5c31\u8bd5\u8bd5\u5427~\x3c/b\x3e";TextTable.t_PopcornGuide_text_8="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u5728\u8fd9\u91cc\u53ef\u4ee5\u4fee\u6539\u7206\u7c73\u82b1\u673a\u7684\u751f\u547d\u503c\uff0c\u8fd8\u53ef\u4ee5\u653e\u7f6e\u969c\u788d\u4fdd\u62a4\u60a8\u7684\u7206\u7c73\u82b1\u673a\uff0c\u70b9\u51fb\u969c\u788d\u518d\u70b9\u51fb\u68cb\u76d8\u4e0a\u4efb\u610f\u683c\u5c31\u53ef\u4ee5\u653e\u7f6e\u4e86~\x3c/b\x3e";
TextTable.t_PopcornGuide_text_9="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u653e\u7f6e\u5b8c\u6bd5\u540e\u8bf7\u70b9\u51fb\u9884\u89c8\u6309\u94ae\u3002\u6311\u6218\u6210\u529f\u540e\u5c31\u53ef\u4ee5\u4fdd\u5b58\u5173\u5361\u5566~\x3c/b\x3e";TextTable.t_GroupRank_Guide_1="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u8fd9\u91cc\u662f\u4f60\u7684\u4e2a\u4eba\u9875\u9762\u54e6\uff0c\u7efc\u5408\u8bc4\u5206\u6839\u636e\u8fc7\u5173\u60c5\u51b5\u548c\u6bcf\u5173\u7684\u8868\u73b0\u5f97\u51fa~\x3c/b\x3e";
TextTable.t_GroupRank_Guide_2="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u8fd9\u91cc\u662f\u4f60\u7684\u5e38\u7528\u5ba0\u7269\u548c\u6d88\u9664\u6570\u636e\uff0c\u4e0d\u770b\u4e00\u4e0b\u90fd\u4e0d\u77e5\u9053\u81ea\u5df1\u8fd9\u4e48\u5389\u5bb3\uff01\x3c/b\x3e";TextTable.t_GroupRank_Guide_3="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u9009\u62e9\u201c\u4e0e\u597d\u53cb\u4e92\u603c\u201d\u53bb\u548c\u5fae\u4fe1\u597d\u53cbPK\uff0c\u70b9\u51fb\u201c\u53bb\u70ab\u8000\u5427\u201d\u5728\u5fae\u4fe1\u7fa4\u91cc\u6765\u4e00\u573a\u7fa4\u53cb\u95f4\u7684\u6bd4\u62fc\x3c/b\x3e";
TextTable.t_Daily_Task_Desc_1="\u6536\u96c6{name}{num}\u4e2a";TextTable.t_Daily_Task_Desc_2="\u6d88\u9664{name}{num}\u4e2a";TextTable.t_Daily_Task_Desc_3="\u4f7f\u7528{num}\u4e2a\u4e0d\u540c\u4e3b\u53a8\u5404\u901a\u5173\u4e00\u6b21";TextTable.t_Daily_Task_Desc_4="\u89e6\u53d1{num}\u6b21\u5f69\u8679\u5730\u683c";TextTable.t_Daily_Task_Desc_5="\u901a\u5173\u7d2f\u8ba1\u83b7\u5f97{num}\u4e2a\u661f\u661f";TextTable.t_Daily_Task_Desc_6="\u53c2\u4e0e\u5468\u8d5b{num}\u6b21";
TextTable.t_Daily_Task_Desc_7="\u5b8c\u6210{num}\u6b21\u597d\u53cb\u8bf7\u6c42";TextTable.t_Daily_Task_Desc_8="\u542f\u52a8{num}\u6b21\u5927\u8f6c\u76d8";TextTable.t_Daily_Task_Desc_9="\u9886\u53d6\u597d\u53cb\u8d60\u9001\u7684\u4f53\u529b\u74f6{num}\u4e2a";TextTable.t_Daily_Task_Desc_10="\u6210\u529f\u5206\u4eab{num}\u6b21";TextTable.t_Daily_Task_Desc_11="\u8d60\u9001\u597d\u53cb\u4f53\u529b\u74f6{num}\u4e2a";TextTable.t_Daily_Task_Desc_12="\u9886\u53d6\u9650\u65f6\u5956\u52b1\u5173\u5361\u5956\u52b1{num}\u6b21";
TextTable.t_Daily_Task_Desc_13="\u4f7f\u7528\u4f53\u529b\u836f\u6c34\u6062\u590d\u4f53\u529b\u503c{num}\u70b9";TextTable.t_Daily_Task_Desc_14="\u4f7f\u7528{name}\u9053\u5177{num}\u6b21";TextTable.t_Daily_Task_Desc_15="\u4f7f\u7528{name}\u524d\u7f6e\u9053\u5177{num}\u6b21";TextTable.t_Daily_Task_Desc_16="\u4f7f\u7528\u5976\u7cd6\u7ed9\u4e3b\u53a8\u589e\u52a0{num}\u70b9\u7ecf\u9a8c";TextTable.t_Daily_Task_Desc_17="\u4f7f\u7528{name}\u901a\u5173\u4e00\u6b21";TextTable.t_Daily_Task_Desc_18="\u4eca\u65e5\u7d2f\u8ba1\u82b1\u8d39{num}\u91d1\u5e01";
TextTable.t_Daily_Task_Desc_19="\u6bcf\u65e5\u767b\u5f55\u6e38\u620f";TextTable.t_Daily_Task_Desc_20="\u9080\u8bf7\u4e00\u6b21\u5e73\u53f0\u597d\u53cb";TextTable.t_Daily_Task_Desc_31="\u6210\u529f\u53d1\u51fa{num}\u6b21\u79c0\u6218\u7ee9\u5206\u4eab";TextTable.t_Daily_Task_Text_1="\u6bcf\u59293\u70b9\u5237\u65b0\u4efb\u52a1\u54e6~";TextTable.t_text_desc_weekBox_1="\u9886\u53d6\u5b9d\u7bb1\u53ef\u83b7\u5f97{name2}x{num2},{name11010}x{num11010}";TextTable.t_text_desc_weekBox_2="\u9886\u53d6\u5b9d\u7bb1\u53ef\u83b7\u5f97{name2}x{num2},{name11010}x{num11010},{name11}x{num11}";
TextTable.t_text_desc_dayBox_1="\u9886\u53d6\u5b9d\u7bb1\u53ef\u83b7\u5f97{name2}x{num2}";TextTable.t_text_desc_dayBox_2="\u9886\u53d6\u5b9d\u7bb1\u53ef\u83b7\u5f97{name2}x{num2},{name11009}x{num11009}";TextTable.t_text_desc_dayBox_3="\u9886\u53d6\u5b9d\u7bb1\u53ef\u83b7\u5f97{name11010}x{num11010},{name11005}x{num11005}";TextTable.t_text_desc_dayBox_4="\u9886\u53d6\u5b9d\u7bb1\u53ef\u83b7\u5f97{name1}x{num1},{name11}x{num11}";TextTable.t_text_name_dayBox_1="\u521d\u7ea7\u65e5\u6d3b\u8dc3\u7bb1";
TextTable.t_text_name_dayBox_2="\u4e2d\u7ea7\u65e5\u6d3b\u8dc3\u7bb1";TextTable.t_text_name_dayBox_3="\u9ad8\u7ea7\u65e5\u6d3b\u8dc3\u7bb1";TextTable.t_text_name_dayBox_4="\u7279\u7ea7\u65e5\u6d3b\u8dc3\u7bb1";TextTable.t_text_name_weekBox_1="\u8c6a\u534e\u5468\u6d3b\u8dc3\u7bb1";TextTable.t_text_name_weekBox_2="\u5962\u534e\u5468\u6d3b\u8dc3\u7bb1";TextTable.t_Group_Rank_Desc="\u5206\u4eab\u5230\u5fae\u4fe1\u7fa4\uff0c\u770b\u770b\u6211\u80fd\u6392\u7b2c\u51e0";
TextTable.t_husky_dailyRewardDesc="\u9886\u53d6\u95e8\u7968\u3001\u72d7\u7cae\u53bb\u7ffb\u724c\u641c\u96c6\u5c0f\u54c8\uff0c\u8bb0\u5f97\u6bcf\u5929\u6765\u9886\u53d6\u54e6~";TextTable.t_husky_rankDesc="\u770b\u770b\u597d\u53cb\u79bb\u5c0f\u54c8\u6709\u591a\u8fdc~";TextTable.t_husky_pageDesc="\u73a9\u6cd5\u63d0\u793a\uff1a\u70b9\u51fb\u683c\u5b50\u5c31\u53ef\u4ee5\u7ffb\u51fa\u788e\u7247\u6216\u5956\u52b1\u54e6~";TextTable.t_husky_pageDesc2="\u8fd0\u6c14\u4e0d\u597d\u8fd8\u53ef\u80fd\u7ffb\u51fa\u70b8\u5f39~";
TextTable.t_husky_activity_time="\u6d3b\u52a8\u65f6\u95f4\uff1a\u957f\u671f\u6709\u6548";TextTable.t_husky_ShareReward="\u606d\u559c\u4f60\u83b7\u5f97\u4e8610\u72d7\u7cae1\u95e8\u7968";TextTable.t_husky_ChessGameStart="\u5f00  \u59cb";TextTable.t_husky_ChessGameRefresh="\u5237  \u65b0";TextTable.t_husky_Dog_Food_Short="\u72d7\u7cae\u4e0d\u8db3";TextTable.t_husky_Chess_Rewad_Share_Desc="\u54c8\u58eb\u5947\u6211\u6765\u627e\u4f60\u6765\u4e86\uff0c\u4e0d\u7ba1\u524d\u8def\u591a\u4e48\u574e\u5777\uff0c\u6211\u90fd\u8981\u628a\u4f60\u5e26\u56de\u5bb6";
TextTable.t_husky_Chess_Rewad_Share_Desc2="\u597d\u9057\u61be\uff0c\u672c\u6b21\u6ca1\u62bd\u5230\u5956\u52b1\uff01";TextTable.t_husky_Chess_Rewad_Share_Desc01="\u672c\u6b21\u7528\u65f6";TextTable.t_husky_Chess_Rewad_Share_Desc02="\u672c\u6b21\u627e\u5230\u788e\u7247";TextTable.t_husky_Task_Error="\u6682\u65e0\u53ef\u7528\u4efb\u52a1";TextTable.t_husky_GameExit_COnfirm="\u5956\u52b1\u5df2\u53d1\u653e\uff0c\u786e\u5b9a\u9000\u51fa\u672c\u5c40\u6e38\u620f\u5417\uff1f";
TextTable.t_husky_task_changeTip="\u6bcf\u5929\u66f4\u6362{num}/5\u6b21";TextTable.t_husky_main_tip01="1.\u6bcf\u5929\u6253\u5f00\u6d3b\u52a8\u514d\u8d39\u83b7\u5f97";TextTable.t_husky_main_tip02="2.\u6bcf\u6b21\u53c2\u4e0e\u6d3b\u52a8\u6d88\u8017                \uff0c\u5728\u6e38\u620f\u4e2d\u6bcf\u7ffb\u5f00\u5c0f";TextTable.t_husky_main_tip03="\u683c\u5b50\u6d88\u8017";TextTable.t_husky_main_tip04="3.\u6e38\u620f\u8fc7\u7a0b\u4e2d\u96c6\u9f50\u54c8\u58eb\u5947\u62fc\u56fe\u788e\u7247                   \u5c31\u53ef";
TextTable.t_husky_main_tip05="\u4ee5\u5e26\u54c8\u58eb\u5947\u56de\u5bb6\u5566";TextTable.t_husky_main_tip06="4.\u901a\u8fc7\u5b8c\u6210\u4efb\u52a1\u548c\u5206\u4eab\u53ef\u83b7\u5f97\u66f4\u591a";TextTable.t_husky_main_tip07="5.\u6bcf\u5929\u53ef\u4ee5\u514d\u8d39\u66f4\u63625\u6b21\u4efb\u52a1";TextTable.t_husky_chess_tip01="1.\u54c8\u58eb\u5947\u4f1a\u5728\u4f17\u591a\u5c0f\u683c\u5b50\u4e2d\u85cf\u4e0b\uff1a";TextTable.t_husky_chess_tip02="2.\u968f\u673a\u6253\u4e71\u5c0f\u683c\u5b50\uff0c\u63a5\u4e0b\u6765\u8003\u9a8c\u624b\u6c14\u7684\u65f6\u5019\u5230\u5566\uff01";
TextTable.t_husky_chess_tip03="3.\u8bf7\u572830s\u5185\u7ffb\u5f00\u5c0f\u683c\u5b50\u83b7\u53d6\u5956\u52b1\uff0c\u6bcf\u6b21\u6d88\u8017\uff1a";TextTable.t_husky_chess_tip04="4.\u70b9\u5f00\u5c0f\u683c\u5b50\uff0c\u51fa\u73b0\u4e86               \u6e38\u620f\u7ed3\u675f\u53ea\u80fd\u4f7f";TextTable.t_husky_chess_tip05="\u7528                \u91cd\u65b0\u5f00\u59cb\u4e86 ";TextTable.t_husky_chess_game_end="\u6e38\u620f\u7ed3\u675f";TextTable.t_husky_main_go="\u72d7\u7cae\u4e0d\u8db3\u5566,\u786e\u5b9a\u7ee7\u7eed\u6e38\u620f\u5417\uff1f";
TextTable.t_husky_main_tip="\u83b7\u5f97\u66f4\u591a\u72d7\u7cae";TextTable.t_husky_guide_text01="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u96c6\u9f50\u62fc\u56fe\u5c31\u53ef\u628a\u54c8\u58eb\u5947\u5e26\u56de\u5bb6\u5566 \x3c/b\x3e";TextTable.t_husky_guide_text02="\x3cb size\x3d#26 color\x3d#3c6b76\x3e\u4e0e\u4e8c\u54c8\u6597\u667a\u6597\u52c7\uff0c\u4f60\u51c6\u5907\u597d\u4e86\u5417\x3c/b\x3e";TextTable.t_activity10004_label="\u5e03\u5076\u732b\u4e13\u5c5e";TextTable.t_prop_time_limit="\n\u6709\u6548\u4f7f\u7528\u671f\u9650\uff1a{num}\u5c0f\u65f6";
TextTable.t_lucky_kit_desc="\u54c7~\u606d\u559c\u83b7\u5f97\u5e78\u8fd0\u5b9d\u7bb1\uff0c\u5feb\u53bb\u9886\u53d6\u5427\uff01";TextTable.t_lucky_kit_double_share="\u5206\u4eab\u53cc\u500d";TextTable.t_activity10006_desc1="\u6bcf\u5929\u73a9\u4e00\u6b21\u8df3\u623f\u5b50,\u4e03\u5929\u53ef\u9886\u53d6\u5723\u8bde\u65f6\u88c5\u5566\uff01\n\u8df3\u5230\u793c\u76d2\u4f4d\u7f6e\u5c31\u53ef\u4ee5\u9886\u53d6\u989d\u5916\u7684\u60ca\u559c\u5956\u52b1\u5566\uff01";TextTable.t_activity10006_desc2="\u9080\u8bf7\u597d\u53cb\u6216\u82b1\u8d39\u94bb\u77f3\u9886\u53d6\u660e\u5929\u7684\u5956\u52b1";
TextTable.t_activity10006_kit_desc1="\u606d\u559c\u4f60\u83b7\u5f97\u60ca\u559c\u5927\u793c\u5305\uff01\u5206\u4eab\u7ed9\u597d\u53cb\u8fd8\u53ef\u83b7\u5f97100\u91d1\u5e01\u54e6\uff01";TextTable.t_activity10006_kit_desc2="\u606d\u559c\u4f60\u83b7\u5f97\u8df3\u623f\u5b50\u5927\u5956\uff01\u5206\u4eab\u7ed9\u597d\u53cb\u8fd8\u53ef\u83b7\u5f97100\u91d1\u5e01\u54e6\uff01";TextTable.t_activity10006_get_next="\u660e\u65e5\u53ef\u9886";TextTable.t_activity10006_get_today="\u4eca\u65e5\u53ef\u9886";
TextTable.t_activity10006_kit_hasGet="\u60ca\u559c\u5927\u793c\u5305\u5df2\u9886\u53d6";TextTable.t_activity10006_kit_notGet="\u8df3\u5230\u8fd9\u91cc\u624d\u53ef\u4ee5\u9886\u60ca\u559c\u5927\u793c\u5305\u54df";TextTable.t_pet_own20001="\u67f4\u72ac\u4e13\u5c5e";TextTable.t_pet_own20002="\u5e03\u5076\u732b\u4e13\u5c5e";TextTable.t_pet_own20003="\u6cf0\u8fea\u4e13\u5c5e";TextTable.t_pet_own20004="\u82f1\u77ed\u732b\u4e13\u5c5e";TextTable.t_pet_own20005="\u54c8\u58eb\u5947\u4e13\u5c5e";
TextTable.t_invite_reward_get="\u606d\u559c\u4f60\u83b7\u5f97\u4e86{num}\u94bb\u77f3";TextTable.t_charge6="\u7d2f\u8ba1\u5145\u503c\u6ee16\u5143\uff0c\u5373\u53ef\u83b7\u5f97\u4e00\u53ea\u6cf0\u8fea\u54e6\uff5e";TextTable.t_charge30="\u7d2f\u8ba1\u5145\u503c\u6ee130\u5143\uff0c\u53ef\u83b7\u5f97\u6cf0\u8fea\u548c\u5c0f\u5929\u4f7f\u5957\u88c5\u54e6";TextTable.t_chargeTip1="\u5c0f\u63d0\u793a\uff1a\u9996\u5145\u793c\u5305\u53ea\u53ef\u4e8c\u9009\u4e00\uff0c\u9886\u53d6\u540e\u6d3b\u52a8\u9875\u9762\u6d88\u5931\u3002";
TextTable.t_chargeTip2="\u83b7\u53d6\u65b9\u5f0f\u4e00";TextTable.t_chargeTip3="\u83b7\u53d6\u65b9\u5f0f\u4e8c";TextTable.t_chargeTip4="\u786e\u5b9a\u653e\u5f03\u6cf0\u8fea\u5c0f\u5929\u4f7f\u5957\u88c51\u6298\u4f18\u60e0\u5417\uff1f";var wxConfig={configMd5_low:"571114b2b0d01dd0376f0a094f7277ed",configMd5_high:"a2f06ecb97330f52c5eda7aa030ed43d",configMd5:null,useCodeCacheRes:!0};wxConfig.saveCodeCacheRes=!wxConfig.useCodeCacheRes;wxConfig.cdnUrl="https://image.hlxxx.qq.com/pro/online/";wxConfig.isTestServer=!1;wxConfig.projectConfig={debugMode:0,showFPS:!1,frameRate:60,noCache:!1,id:"gameCanvas",renderMode:0,contentScaleFactor:1,unionCCB:!0,unionJson:!0,unionFnt:!0,unionPlist:!0,unionMini:!0};wxConfig.codeCacheRes={"res/data/meta.json":"meta"};
wxConfig.model=cc.sys.wxSystemInfo.model.toUpperCase();wxConfig.isSpecialModel="BLN-AL40"==wxConfig.model;wxConfig.isIPhoneX=0==wxConfig.model.indexOf("IPHONE X");
wxConfig.initQualityLevel=function(){var a=this.model;cc.sys.os==cc.sys.OS_DEV&&(0==a.indexOf("IPHONE")?cc.sys.os=cc.sys.OS_IOS:cc.sys.os=cc.sys.OS_ANDROID);if(cc.sys.os==cc.sys.OS_IOS){this.qualityLevel=1;if(0==a.indexOf("IPHONE 4")||0==a.indexOf("IPHONE 5")||0==a.indexOf("IPHONE 6"))this.qualityLevel=0;0==a.indexOf("IPHONE 6S")&&(this.qualityLevel=1)}else this.qualityLevel=0,DeviceHelper.HighDeviceDic[a]&&(this.qualityLevel=1);0==this.qualityLevel?(this.configMd5=this.configMd5_low,wxConfig.projectConfig.contentScaleFactor=
0.8,wxConfig.projectConfig.frameRate=30,wx.setStorageSync("Smooth",!1),console.log("wxConfig.qualityLevel \x3d low, model \x3d",a)):(this.configMd5=this.configMd5_high,wxConfig.projectConfig.contentScaleFactor=1,wxConfig.projectConfig.frameRate=60,wx.setStorageSync("Smooth",!0),console.log("wxConfig.qualityLevel \x3d high, model \x3d",a))};var wxfileUtil={resMd5:{}};wxfileUtil.userDataPath=wx.env.USER_DATA_PATH+"/";var wxfs=wx.getFileSystemManager();wxfileUtil.getDownloadUrl=function(a){return cc.loader.urlByAliases(a)};wxfileUtil.getFilePath=function(a){var c=a.lastIndexOf("/");return 0<c?a.slice(0,c):""};wxfileUtil.getFileName=function(a){var c=a.lastIndexOf("/");return 0<=c?a.slice(c+1):a};wxfileUtil.getWxFilePath=function(a){return wxfileUtil.userDataPath+a};wxfileUtil.isLocalPathExists=function(a){a=wxfileUtil.userDataPath+a;try{return wxfs.statSync(a).isDirectory()}catch(c){return!1}};
wxfileUtil.isLocalFileExists=function(a){a=wxfileUtil.userDataPath+a;try{return!wxfs.statSync(a).isDirectory()}catch(c){return!1}};wxfileUtil.isResUrl=function(a){return 0==a.indexOf("res/")};wxfileUtil.isResChanged=function(a){var c=wx.getStorageSync(a);return!c||c!=this.resMd5[a]};wxfileUtil.updateResMd5=function(a){wx.setStorageSync(a,this.resMd5[a])};wxfileUtil._createdPath={};wxfileUtil.mkdir=function(a){this._createdPath[a]||(this.isLocalPathExists(a)||this._mkdir(a),this._createdPath[a]=!0)};
wxfileUtil._mkdir=function(a,c,d){if(!c){var e=a.indexOf("/");0<=e?(c=a.slice(0,e),d=a.slice(e+1)):(c=a,d="")}if(!this._createdPath[c])if(this.isLocalPathExists(c))this._createdPath[c]=!0;else{e=wxfileUtil.userDataPath+c;try{wxfs.mkdirSync(e),this._createdPath[c]=!0}catch(f){console.error("mkdirSync error! localPath\x3d",e,", err\x3d",f)}}""!=d&&(e=d.indexOf("/"),0<=e?(c=c+"/"+d.slice(0,e),d=d.slice(e+1)):(c=c+"/"+d,d=""),this._mkdir(a,c,d))};wxfileUtil.mkdirForResUrl=function(a){this.mkdir(this.getFilePath(a))};
wxfileUtil.writeFile=function(a,c,d,e){this.mkdirForResUrl(a);a=wxfileUtil.getWxFilePath(a);wxfs.writeFile({filePath:a,data:c,success:function(a){d&&d()},fail:function(a){console.error("wxfileUtil.writeFile error :",a.errMsg);e&&e()}})};wxfileUtil.writeFileWithText=function(a,c,d,e){this.mkdirForResUrl(a);a=wxfileUtil.getWxFilePath(a);wxfs.writeFile({filePath:a,data:c,encoding:"utf8",success:function(a){d&&d()},fail:function(a){console.error("wxfileUtil.writeFileWithText error :",a.errMsg);e&&e()}})};
wxfileUtil._checkedFile={};wxfileUtil.checkResExists=function(a,c,d){var e=!1;this._checkedFile[a]?e=!0:!this.isResChanged(a)&&this.isLocalFileExists(a)&&(e=this._checkedFile[a]=!0);e?c&&c():d&&d()};wxfileUtil.getPortraitResPath=function(a){return"portrait/"+a};wxfileUtil.getWxPortraitPath=function(a){return this.getWxFilePath(this.getPortraitResPath(a))};wxfileUtil._portraitUpdateTime=864E5;wxfileUtil.updatePortraitDownloadTime=function(a){wx.setStorageSync(a,(new Date).getTime())};
wxfileUtil.checkPortraitExists=function(a,c,d){var e=this.getPortraitResPath(a),f=!1;this._checkedFile[e]?f=!0:this.isLocalFileExists(e)&&(a=wx.getStorageSync(a))&&(new Date).getTime()-a<this._portraitUpdateTime&&(f=this._checkedFile[e]=!0);f?c&&c():d&&d()};wxfileUtil.useWxRequest=!1;wxfileUtil.getResponseText=function(a){var c;if(a instanceof ArrayBuffer){c="";a=new Uint8Array(a);for(var d=a.byteLength,e=0;e<d;e++)c+=String.fromCharCode(a[e])}else c=a;return c};
wxfileUtil.deleteFile=function(a){var c=wxfileUtil.getWxFilePath(a);wxfs.removeSavedFile({filePath:c,success:function(a){console.log("wxfileUtil.deleteFile success",c)},fail:function(a){console.log("wxfileUtil.deleteFile error!",a,c)}})};
wxfileUtil.downloadTxt=function(a,c,d,e){if(c)c=wxfileUtil.getWxFilePath(a),wxfs.readFile({filePath:c,encoding:"utf8",success:function(a){d&&d(a.data)},fail:function(c){console.error("wxfileUtil.downloadTxt error!",c.errMsg);e&&e(520,"wxfileUtil.downloadTxt error : "+a)}});else if(c=wxfileUtil.getDownloadUrl(a),wxfileUtil.useWxRequest)wx.request({url:c,responseType:"arraybuffer",success:function(a){d&&d(wxfileUtil.getResponseText(a.data),a.data)},fail:function(c){e&&e(c.statusCode,"wxfileUtil.downloadTxt error : "+
a)}});else{var f=new window.XMLHttpRequest;f.responseType="arraybuffer";f.timeout=3E4;f.open("GET",c,!0);f.onload=function(){4===f.readyState&&200===f.status?d&&d(f.responseText,f.response):e&&e(f.status,"wxfileUtil.downloadTxt onload error : "+a)};f.onerror=function(c){e&&e(f.status,"wxfileUtil.downloadTxt error : "+a)};f.ontimeout=function(){e&&e(f.status,"wxfileUtil.downloadTxt error : "+a)};f.send()}};
wxfileUtil.downloadBinary=function(a,c,d,e){if(c)c=wxfileUtil.getWxFilePath(a),wxfs.readFile({filePath:c,success:function(a){d&&d(a.data)},fail:function(c){console.error("wxfileUtil.downloadBinary error!",c.errMsg);e&&e(f.status,"wxfileUtil.downloadBinary error : "+a)}});else if(c=wxfileUtil.getDownloadUrl(a),wxfileUtil.useWxRequest)wx.request({url:c,responseType:"arraybuffer",success:function(a){d&&d(a.data)},fail:function(c){e&&e(c.statusCode,"wxfileUtil.downloadBinary error : "+a)}});else{var f=
new window.XMLHttpRequest;f.open("GET",c,!0);f.responseType="arraybuffer";f.onload=function(){4===f.readyState&&200===f.status?d&&d(f.response):e&&e(f.status,"wxfileUtil.downloadBinary onload error : "+a)};f.onerror=function(c){e&&e(f.status,"wxfileUtil.downloadBinary error : "+a)};f.send()}};
wxfileUtil.downloadFileFromRemoteUrl=function(a,c,d){if(wxfileUtil.useWxRequest)wx.request({url:a,responseType:"arraybuffer",success:function(a){c&&c(a.data)},fail:function(c){d&&d(c.statusCode,"wxfileUtil.downloadFileFromRemoteUrl error : "+a)}});else{var e=new window.XMLHttpRequest;e.open("GET",a,!0);e.responseType="arraybuffer";e.timeout=3E4;e.onload=function(){4===e.readyState&&200===e.status?c&&c(e.response):d&&d(e.status,"wxfileUtil.downloadFile onload error : "+a)};e.onerror=function(c){d&&
d(e.status,"wxfileUtil.downloadBinary error : "+a)};e.ontimeout=function(){d&&d(e.status,"wxfileUtil.downloadTxt error : "+a)};e.send()}};wxfileUtil.downloadAndSaveTempRes=function(a,c){wx.downloadFile({url:a,success:function(a){wx.saveFile({tempFilePath:a.tempFilePath,success:function(a){c&&c(a.savedFilePath)},fail:function(a){console.error("wxfileUtil.downloadAndSaveTempRes error 2",a.errMsg)}})},fail:function(a){console.error("wxfileUtil.downloadAndSaveTempRes error 1",a.errMsg)}})};var wxResManager={preCache:{},init:function(){},_queue:{},getQueue:function(a,c){var d=this._queue[a];d?d.push(c):(d=[c],this._queue[a]=d);return d},executeQueue:function(a,c){var d=this._queue[a],e;for(e in d){var f=d[e];f.apply(f,c)}delete this._queue[a]},removeQueue:function(a){delete this._queue[a]},delayedDownload:!0};function _wxTraceLoad(a){}
wxResManager.combineStringAndArraybuffer=function(a,c){for(var d=a.length,e=d+c.byteLength,f=new Uint8Array(e),g=0,h=0,g=0;g<d;g++)f[g]=a.charCodeAt(g)&255;for(var m=new Uint8Array(c),g=d;g<e;g++,h++)f[g]=m[h];return f.buffer};
wxResManager.loadImg=function(a,c,d){_wxTraceLoad("wxResManager.loadImg : "+a);wxfileUtil.isResUrl(a)?c?wxfileUtil.checkResExists(a,function(){console.log("load image from local disk :",a);d(wxfileUtil.getWxFilePath(a))},function(){wxfileUtil.downloadBinary(a,!1,function(c){wxfileUtil.writeFile(a,c,function(){wxfileUtil.updateResMd5(a);console.log("save image to local disk :",a);d(wxfileUtil.getWxFilePath(a))})},function(c,f){console.error("loadImg ",a,"failed! ",c,f);d(null)})}):(c=cc.loader.urlByAliases(a),
console.warn("set img src \x3d remoteUrl :",c),d(c)):c&&0==a.indexOf("https://wx.qlogo.cn")?wxResManager.loadPortrait(a,null,function(a){d(a)}):(console.log("set img src \x3d remoteUrl :",a),d(a))};
wxResManager.loadAudio=function(a,c,d){wxfileUtil.isResUrl(a)?1<wxResManager.getQueue(a,d).length||(c?wxfileUtil.checkResExists(a,function(){console.log("load audio from local disk :",a);wxResManager.executeQueue(a,[a,wxfileUtil.getWxFilePath(a),!0])},function(){wxfileUtil.downloadBinary(a,!1,function(c){wxfileUtil.writeFile(a,c,function(){wxfileUtil.updateResMd5(a);console.log("save audio to local disk :",a);wxResManager.executeQueue(a,[a,wxfileUtil.getWxFilePath(a),!0])})},function(c,d){console.error("loadAudio ",
a,"failed! ",c,d);wxResManager.executeQueue(a,[a,null,!1])})}):wxfileUtil.checkResExists(a,function(){console.log("load audio from local disk :",a);wxResManager.executeQueue(a,[a,wxfileUtil.getWxFilePath(a),!0])},function(){var c=cc.loader.urlByAliases(a);console.log("set audio src \x3d remoteUrl :",c);wxResManager.executeQueue(a,[a,c,!1])})):(console.log("set audio src \x3d remoteUrl :",a),d(a,a,!1))};
wxResManager.loadTxt=function(a,c,d){_wxTraceLoad("wxResManager.loadTxt "+a);!d&&1<wxResManager.getQueue(a,c).length||wxfileUtil.checkResExists(a,function(){wxfileUtil.downloadTxt(a,!0,function(e){console.log("load text from disk :",wxfileUtil.getWxFilePath(a));d?c(null,e):wxResManager.executeQueue(a,[null,e])},function(e,f){d?c({status:e,errorMessage:f},null):wxResManager.executeQueue(a,[{status:e,errorMessage:f},null])})},function(){wxfileUtil.downloadTxt(a,!1,function(e,f){d?c(null,e):wxResManager.executeQueue(a,
[null,e]);wxfileUtil.isResUrl(a)?wxfileUtil.writeFile(a,f,function(){wxfileUtil.updateResMd5(a);if(wxConfig.saveCodeCacheRes){var c=wxConfig.codeCacheRes[a];c&&wxfileUtil.writeFile("WxPreloadData_"+c+".js",wxResManager.combineStringAndArraybuffer('wxResManager.preCache["'+a+'"]\x3d',f))}console.log("save txt to disk :",a)}):wxConfig.saveCodeCacheRes&&-1<a.indexOf("static_config.")&&-1<a.lastIndexOf(".json")&&wxfileUtil.writeFile(0==wxConfig.qualityLevel?"WxPreloadData_StaticConfig_low.js":"WxPreloadData_StaticConfig_high.js",
wxResManager.combineStringAndArraybuffer(0==wxConfig.qualityLevel?"cc.static_config_low\x3d":"cc.static_config_high\x3d",f))},function(e,f){d?c({status:e,errorMessage:f},null):wxResManager.executeQueue(a,[{status:e,errorMessage:f},null])})})};
wxResManager.loadJson=function(a,c){_wxTraceLoad("wxResManager.loadJson "+a);var d;if(wxConfig.useCodeCacheRes&&(d=wxResManager.preCache[a])){console.warn("load json from preCache :",a);c(null,d);return}1<wxResManager.getQueue(a,c).length||wxResManager.loadTxt(a,function(c,f){if(c)wxResManager.executeQueue(a,[c,null]);else{try{d=JSON.parse(f)}catch(g){console.log("wxResManager.loadJson error",a);wxfileUtil.deleteFile(a);wxResManager.executeQueue(a,["load json error"]);return}wxResManager.executeQueue(a,
[null,d])}},!0)};
wxResManager.loadBinary=function(a,c){_wxTraceLoad("wxResManager.loadBinary "+a);1<wxResManager.getQueue(a,c).length||wxfileUtil.checkResExists(a,function(){wxfileUtil.downloadBinary(a,!0,function(c){console.log("load binary from local disk :",wxfileUtil.getWxFilePath(a));wxResManager.executeQueue(a,[null,new Uint8Array(c)])},function(c,e){wxResManager.executeQueue(a,[{status:c,errorMessage:e},null])})},function(){wxfileUtil.downloadBinary(a,!1,function(c){wxResManager.executeQueue(a,[null,new Uint8Array(c)]);
wxfileUtil.isResUrl(a)&&wxfileUtil.writeFile(a,c,function(){wxfileUtil.updateResMd5(a);console.log("save binary to disk :",a)})},function(c,e){wxResManager.executeQueue(a,[{status:c,errorMessage:e},null])})})};
wxResManager.loadPortrait=function(a,c,d){if(!(1<wxResManager.getQueue(a,d).length)){c&&""!=c||(c=CryptoJS.MD5(a).toString());var e=wxfileUtil.getPortraitResPath(c);wxfileUtil.checkPortraitExists(c,function(){console.log("load portrait from local disk :",e);wxResManager.executeQueue(a,[wxfileUtil.getWxFilePath(e)])},function(){wxfileUtil.downloadFileFromRemoteUrl(a,function(d){wxfileUtil.writeFile(e,d,function(){wxfileUtil.updatePortraitDownloadTime(c);console.log("save portrait to local disk :",
e);wxResManager.executeQueue(a,[wxfileUtil.getWxFilePath(e)])})},function(d,e){console.error("loadPortrait ",c,"failed! ",d,e);wxResManager.executeQueue(a,[null])})})}};
wxResManager.downloadResource=function(a,c){var d="download_"+a;1<wxResManager.getQueue(d,c).length||wxfileUtil.checkResExists(a,function(){console.log("wxResManager.downloadResource exists :",a);wxResManager.executeQueue(d,[!0])},function(){wxfileUtil.downloadBinary(a,!1,function(c){wxfileUtil.writeFile(a,c,function(){wxfileUtil.updateResMd5(a);console.log("wxResManager.downloadResource completed :",a);wxResManager.executeQueue(d,[!0])})},function(){console.error("wxResManager.downloadResource faild :",
a);wxResManager.executeQueue(d,[!1])})})};wxResManager.downloadAndSaveTempRes=function(a,c){wxfileUtil.downloadAndSaveTempRes(a,c)};wxResManager.init();var wxAsyncAction_LoadRes=1,wxAsyncAction_WriteFile=2,wxAsyncAction_DownloadRes=3,wxAsyncState_Prepare=1,wxAsyncState_Processing=2,wxAsyncState_Success=3,wxAsyncState_Fail=4;function WxAsyncPool(a){this._isProcessing=!1;this._concurrentMax=a||0;this._defaultAction=wxAsyncAction_LoadRes;this._batchList=[];this._normalList=[];this._cb=this._processingTaskList=null;this._cbResult=!0}WxAsyncPool.prototype.setConcurrentCount=function(a){this._concurrentMax=a;this._isProcessing&&this.flow()};
WxAsyncPool.prototype.setDefaultAction=function(a){this._defaultAction=a};WxAsyncPool.prototype.setCallback=function(a){this._cb=a};WxAsyncPool.prototype.makeTask=function(a){if("string"==typeof a)return{url:a,action:this._defaultAction,state:1};if("object"==typeof a)return a};WxAsyncPool.prototype.addBatch=function(a){if(0!=a.length){for(var c=Array(a.length),d=0;d<c.length;d++)c[d]=this.makeTask(a[d]);this._batchList.push(c);this._isProcessing&&this.flow()}};
WxAsyncPool.prototype.add=function(a,c,d,e,f){d=d||wxAsyncAction_LoadRes;if(d==wxAsyncAction_LoadRes)this._normalList.push(this.makeTask(c));else if(d==wxAsyncAction_WriteFile)f=f||wxfileUtil.getWxFilePath(c),this._normalList.push({url:c,data:e,filePath:f,action:2,state:1});else if(d==wxAsyncAction_DownloadRes)this._normalList.push({url:c,action:3,state:1});else return;console.warn("WxAsyncPool.add ",c,", action\x3d",d,", isPorcessing\x3d",this._isProcessing);a&&this._isProcessing&&this.flow()};
WxAsyncPool.prototype.start=function(){this._isProcessing||(this._isProcessing=!0,this.flow())};WxAsyncPool.prototype.stop=function(){this._isProcessing=!1};WxAsyncPool.prototype.clear=function(){this._batchList=[];this._normalList=[];this._processingTaskList=null};WxAsyncPool.prototype.remove=function(a){};
WxAsyncPool.prototype._isCurrentTaskListFinished=function(){var a=this._processingTaskList;if(!a||0==a.length)return!0;for(var c in a){var d=a[c].state;if(1==d||2==d)return!1}this._processingTaskList=null;a==this._normalList&&(this._normalList=[],console.log("WxAsyncPool : clear normal list"));return!0};WxAsyncPool.prototype._getNextTaskList=function(){return this._processingTaskList=0<this._batchList.length?this._batchList.shift():0<this._normalList.length?this._normalList:null};
WxAsyncPool.prototype._getTask=function(){var a=this._processingTaskList,c;for(c in a){var d=a[c];if(1==d.state)return d.startTime=(new Date).getTime(),d}return null};WxAsyncPool.prototype._endTask=function(a,c,d){var e=1==a.action?"load":"write";c?(a.state=3,d||console.warn("WxAsyncPool :",e,a.url," success")):(a.state=4,d||console.error("WxAsyncPool :",e,a.url," fail : ",a.errMsg));this._cb&&!c&&(this._cbResult=!1);this._isProcessing&&this.flow()};
WxAsyncPool.prototype.flow=function(){if(this._isProcessing)if(this._isCurrentTaskListFinished()&&!this._getNextTaskList())this._cb&&(this.stop(),this._cb(this._cbResult));else{var a=this._processingTaskList.length;0<this._concurrentMax&&(a=this._concurrentMax-this._processingTaskList.length);if(!(0>=a))for(var c=this._getTask();a&&c;)c.state=2,c.action==wxAsyncAction_LoadRes?this.processLoadRes(c):c.action==wxAsyncAction_WriteFile?this.processWriteFile(c):c.action==wxAsyncAction_DownloadRes&&this.processDownloadRes(c),
a--,c=this._getTask()}};WxAsyncPool.prototype.isAudioRes=function(a){return"mp3"==a||"ogg"==a||"wav"==a||"mp4"==a||"m4a"==a};
WxAsyncPool.prototype.processLoadRes=function(a){var c=a.url,d=cc.path.extname(c),e=cc.loader.getLoader(d),f=this;if(e){var g=this.isAudioRes(d);!g&&cc.loader.getRes(c)?(console.warn("WxAsyncPool.processLoadRes : skip",a.url),f._endTask(a,!0,!0)):e.load(c,c,null,function(d,e){d?(g||(cc.loader.cache[c]=null,delete cc.loader.cache[c]),a.errMsg=d,f._endTask(a,!1)):(g||(cc.loader.cache[c]=e),f._endTask(a,!0))})}else a.errMsg="no loader for "+c,f._endTask(a,!1)};
WxAsyncPool.prototype.processWriteFile=function(a){var c=this;wxfileUtil.writeFile(a.url,a.data,function(){c._endTask(a,!0)},function(){c._endTask(a,!1)})};WxAsyncPool.prototype.processDownloadRes=function(a){var c=this;wxResManager.downloadResource(a.url,function(d){d?c._endTask(a,!0):c._endTask(a,!1)})};WxAsyncPool.batchDownload=function(a,c){var d=new WxAsyncPool;d.setDefaultAction(wxAsyncAction_DownloadRes);d.setCallback(c);d.addBatch(a);d.start()};var wxAsyncPool=new WxAsyncPool;cc.static_config_low=[{file:"res/data/meta.dat",md5:"109503070f26c135072e204cb2d6f1dc"},{file:"res/data/meta.json",md5:"94947864b7fc51574d9676bd86448781"},{file:"res/icon/icon.png",md5:"e05bb855e87c310218ad73a8cdedff78"},{file:"res/image/720x1280/AccountDialog.ccbi",md5:"39cd3788998b8f457623b97a92cc59b3"},{file:"res/image/720x1280/Achievement.ccbi",md5:"7fa99ee6d6327f798635c1e4724b2eb9"},{file:"res/image/720x1280/AchievementDetail.ccbi",md5:"265b08cf74b34e2c06d7f79e17895afa"},{file:"res/image/720x1280/AchievementItem.ccbi",
md5:"c930cc376eae0915e62525e71e7f84ea"},{file:"res/image/720x1280/AchievementTip.ccbi",md5:"19216450c49761df74d17573c7cb8a6a"},{file:"res/image/720x1280/act_10006_bg.png",md5:"63a260ec465884d024dabea3aae77766"},{file:"res/image/720x1280/act_10006_pop_bg.png",md5:"9dff79b39cfdad4ff545a5d99f3ec244"},{file:"res/image/720x1280/activity.plist",md5:"e185a21f1fb52393509f170077edb0fb"},{file:"res/image/720x1280/activity.png",md5:"b677e5edbc8af9e0b531cca976f5dee2"},{file:"res/image/720x1280/Activity_10001.ccbi",
md5:"6c1762318aee4c699326677310243d32"},{file:"res/image/720x1280/activity_10001.plist",md5:"9c84d15d3aae04896019c603cf1c197d"},{file:"res/image/720x1280/activity_10001.png",md5:"c961a35d434efb85aba274850e86857a"},{file:"res/image/720x1280/Activity_10001_Item.ccbi",md5:"41170584879095eaa7cf427e81a8f158"},{file:"res/image/720x1280/Activity_10002.ccbi",md5:"279eb00839229e9a85c03819fa739120"},{file:"res/image/720x1280/activity_10002.plist",md5:"7ba7c8044ebf5cdfbe44e980c6bf27dd"},{file:"res/image/720x1280/activity_10002.png",
md5:"30bcfbed736b2f50bf9a9eb7a6a7bcfd"},{file:"res/image/720x1280/Activity_10002_Item.ccbi",md5:"bfbda2d0b88423fff1a1264bc3a85694"},{file:"res/image/720x1280/Activity_10003.ccbi",md5:"9de6503dbd3f5c0aac55f944be153944"},{file:"res/image/720x1280/activity_10003.plist",md5:"7faccaa7878ceeeb1bc9f33dbca94b06"},{file:"res/image/720x1280/activity_10003.png",md5:"77465180552d3c2f12761072ee3a04c0"},{file:"res/image/720x1280/Activity_10003_Info.ccbi",md5:"9e0d5d50a0fcfb92ddad561b991424f6"},{file:"res/image/720x1280/Activity_10003_Item.ccbi",
md5:"71a7b23492077c97bc83a96e571915ed"},{file:"res/image/720x1280/Activity_10006.ccbi",md5:"66f5c4ad82c6956a2fbdf234fb13bb18"},{file:"res/image/720x1280/activity_10006.plist",md5:"98c789fc3ee3d840d4b8b72a80fabd5f"},{file:"res/image/720x1280/activity_10006.png",md5:"aa52a0656a70e2285b1ce920e2c66953"},{file:"res/image/720x1280/Activity_10006_Kit.ccbi",md5:"0e664076314995277f1c98d2329aae9c"},{file:"res/image/720x1280/Activity_10006_Reward_Get.ccbi",md5:"23df688af992fca6b47928a248357d08"},{file:"res/image/720x1280/activity_light.png",
md5:"a21026a1bd1c06a409aa67888acaeb2b"},{file:"res/image/720x1280/Activity_Seven_10001.ccbi",md5:"e8901f5fd3dee3275e3209143043baa4"},{file:"res/image/720x1280/ActivityLayer.ccbi",md5:"88fc42fa326c4f327234012850f09187"},{file:"res/image/720x1280/ActivityLayerItem.ccbi",md5:"6d646e01376b1ed562d7767a21e51eb0"},{file:"res/image/720x1280/ActivityTabItem.ccbi",md5:"f6ad376571ab5ae27976511e3a9bee6c"},{file:"res/image/720x1280/add5step.atlas",md5:"dfc67ff01dd3abc9856fc1b584df78ac"},{file:"res/image/720x1280/add5step.json",
md5:"9b0cb6c41a91ba1fb8bfdca591d18b5e"},{file:"res/image/720x1280/add5step.png",md5:"cbcef6a7369a04d3d36554795091bd76"},{file:"res/image/720x1280/AddFiveDialog.ccbi",md5:"5ddbfc68f61d8ce50ebe94084e20f814"},{file:"res/image/720x1280/AllStarPassLevelDialog.ccbi",md5:"62e4e514528f01495febc23a75d6e391"},{file:"res/image/720x1280/AllStarPassLevelXcx.ccbi",md5:"4c28a358b874b85087a0b15bb02da890"},{file:"res/image/720x1280/anim20001.atlas",md5:"b6daf78ca5da103a476b9b8f5a159b71"},{file:"res/image/720x1280/anim20001.json",
md5:"c5397f029cc73d69195886372a90b174"},{file:"res/image/720x1280/anim20001.png",md5:"0d6eced8082e2f258b8db23d51a04826"},{file:"res/image/720x1280/anim20002.atlas",md5:"f94a614254fe37aae2f20301992b4f1c"},{file:"res/image/720x1280/anim20002.json",md5:"0af2e619d5d88f4ee94039eb801b79d8"},{file:"res/image/720x1280/anim20002.png",md5:"4a5712355a445a823683e4c80e0f24c2"},{file:"res/image/720x1280/anim20003.atlas",md5:"0dcc56470fb59408edcc0088cc49f92a"},{file:"res/image/720x1280/anim20003.json",md5:"5e1f27227b63faceef7a57e8ff7c784d"},
{file:"res/image/720x1280/anim20003.png",md5:"778d1f0ddb3340c5d734868f6472d861"},{file:"res/image/720x1280/anim20004.atlas",md5:"8f5bae7e0ff1f449397492feed2b58b2"},{file:"res/image/720x1280/anim20004.json",md5:"45279e008e8b77adc81b5a42e022e33b"},{file:"res/image/720x1280/anim20004.png",md5:"aee9d66153caa8d96f4ac03f9244e786"},{file:"res/image/720x1280/anim20005.atlas",md5:"d38393996aed5205df8d57e1a8d58d22"},{file:"res/image/720x1280/anim20005.json",md5:"f55c05ebd0f10da14464ae7f4c410dd5"},{file:"res/image/720x1280/anim20005.png",
md5:"78a0d102db8bc30d62fa26a163f31d5e"},{file:"res/image/720x1280/AskForEnergy.ccbi",md5:"ab61478d5a8821f941cdb432a2c2cebe"},{file:"res/image/720x1280/AskForEnergyFriendItem.ccbi",md5:"8ce6bd1ee218553511987ee090660684"},{file:"res/image/720x1280/avatar0.png",md5:"7a86793c22fd77c0cfa5cd748b07c627"},{file:"res/image/720x1280/avatar1.png",md5:"10815d2dbf4d279301b0a493a4982a57"},{file:"res/image/720x1280/avatar2.png",md5:"a1ffdf89d4ee7da42ba7fb3c2d593a80"},{file:"res/image/720x1280/avatar3.png",md5:"6c383e85bcd3207f6e56d5cf86f62be8"},
{file:"res/image/720x1280/avatar4.png",md5:"92a2cfd17d0063ac1787411c85fc92f9"},{file:"res/image/720x1280/avatar5.png",md5:"1670962834838470d5f83a30d14a978f"},{file:"res/image/720x1280/avatar6.png",md5:"c8f56c7732f48352584d03a00163736f"},{file:"res/image/720x1280/avatar7.png",md5:"62f333c0bdd9caee5a238033b04b18de"},{file:"res/image/720x1280/avatar8.png",md5:"14fc16afef72498390af7cfcd3c9a7d9"},{file:"res/image/720x1280/BagLayer.ccbi",md5:"5bc4da9fe339c12ad1801ae2f34f1d28"},{file:"res/image/720x1280/BagListItem.ccbi",
md5:"0bdfab660057679b0100e91af72e60fa"},{file:"res/image/720x1280/banner_20001.png",md5:"e01f58e934cf9e51a8ef1950489b4613"},{file:"res/image/720x1280/banner_20002.png",md5:"938f6aa0983d8f84e762932913ca63da"},{file:"res/image/720x1280/banner_20003.png",md5:"2470fa8141c127bf7040dac34f69ed37"},{file:"res/image/720x1280/banner_20004.png",md5:"466e7617e34d1d1de9d45ea4a9fcad64"},{file:"res/image/720x1280/banner_20005.png",md5:"203aa96e9848a9a22634b20b9451d190"},{file:"res/image/720x1280/BG1.atlas",md5:"f7a630d0335b20f56b5fc8e5bd45c6ba"},
{file:"res/image/720x1280/BG1.json",md5:"b0f660b70665b45def98c2f13c1dc782"},{file:"res/image/720x1280/BG1.png",md5:"54ae122d77eded58fb7516e50efb5bf3"},{file:"res/image/720x1280/bg_big_light.png",md5:"4e4d8c1ff802ecdf803f4951a655d067"},{file:"res/image/720x1280/bg_feed2008_bg.png",md5:"2886514839298ce8a09dd4862caf4bb6"},{file:"res/image/720x1280/bg_feed2008_xyx_bg.png",md5:"bfd78084562fb87ec7b917ff93bd734e"},{file:"res/image/720x1280/bg_feed2008_xyx_bg_up.png",md5:"2c9f4e489271ac2240eb9ff8e9882c10"},
{file:"res/image/720x1280/bg_group_rank_0.png",md5:"43274b362bf5ce701c476b0d5efd9576"},{file:"res/image/720x1280/bg_ico_light.png",md5:"c901cc008950e7563165fc33bf06975f"},{file:"res/image/720x1280/bg_icon_aim.png",md5:"0d9a1bcdc985f3373fd994b00a00892e"},{file:"res/image/720x1280/bg_item_panel3.png",md5:"9a2cd7b62fcd8cda572e15d91d097d92"},{file:"res/image/720x1280/bg_light.png",md5:"a9d8fed7edeee8279782ac5a636dc0a9"},{file:"res/image/720x1280/bg_line_0.jpg",md5:"551d1042dcb2ff8a91f669e6a7aaecdc"},
{file:"res/image/720x1280/bg_line_1.jpg",md5:"37f822f7d3644fef563c2acaa6b4525c"},{file:"res/image/720x1280/bg_line_2.jpg",md5:"4c972edb2b0f561cc7c4aee12891592a"},{file:"res/image/720x1280/bg_line_3.jpg",md5:"94cbbba32bdcad4e62306009c59c000e"},{file:"res/image/720x1280/bg_one_light.png",md5:"592ecacf1332e8c8222460e3d8fb303c"},{file:"res/image/720x1280/bg_panel_1.png",md5:"e0cf51799cbbdb50eb7a437abe60ed95"},{file:"res/image/720x1280/bg_pet_house.jpg",md5:"a8cc0e84686fe42261a9de9d6fe261ff"},{file:"res/image/720x1280/bg_scene_down1.jpg",
md5:"ff16a2c948aafe52634e89bdc58bf76e"},{file:"res/image/720x1280/bg_scene_up1.jpg",md5:"93b60feb70ca7750c4009bc7c9b4050d"},{file:"res/image/720x1280/bg_scene_up2.jpg",md5:"c074bc590e430aaddb6b0863dad5af93"},{file:"res/image/720x1280/bg_shage_1004.png",md5:"fb16894a539a1f0437be152412894e03"},{file:"res/image/720x1280/bg_shage_1004_pop.png",md5:"fddf1a67308d25c46482056745476a7d"},{file:"res/image/720x1280/bg_shage_1010.png",md5:"bd54161185512dc9e25cdb68dba4dcdf"},{file:"res/image/720x1280/bg_shage_1011.png",
md5:"12e613dd740f40cb36ceb6c5fedab756"},{file:"res/image/720x1280/bg_shage_1023.png",md5:"3bc5e6430dda1f23551a765a263a393a"},{file:"res/image/720x1280/bg_shage_pk.png",md5:"e166c9e34137765bbb40a952a9579072"},{file:"res/image/720x1280/bg_share_1.png",md5:"86449814397bd4eea551609c13ca0de0"},{file:"res/image/720x1280/bg_share_combo.png",md5:"5d74dd252c59d2c59e021549e1dfed77"},{file:"res/image/720x1280/bg_share_news.jpg",md5:"a9c0b4beca28c18cac6c78b577b6b5f9"},{file:"res/image/720x1280/bg_splash.jpg",
md5:"e7bba95d3683c88c0204474d09196b94"},{file:"res/image/720x1280/bg_start_story.jpg",md5:"137b5c52e76e5dc26c51697cc31fa641"},{file:"res/image/720x1280/bg_startmenu.jpg",md5:"77aded133d2961c30fdd9f175a690ab1"},{file:"res/image/720x1280/bg_tip_dialog_1.png",md5:"e61bc0bbfe0ceed8cc05b3bd1c584e64"},{file:"res/image/720x1280/bg_title_panel.png",md5:"ecda9aa1f0b380c9718344193a5ef9f9"},{file:"res/image/720x1280/bg_tv_rect.png",md5:"c1ceaddf74adeee90b93bb8ad4c2a789"},{file:"res/image/720x1280/bg_world_map_0.jpg",
md5:"99ca9cf94fa034c0c3ef4fde165ca19b"},{file:"res/image/720x1280/bg_world_map_1.jpg",md5:"a4ae030433ef3d3388e79ea66143c571"},{file:"res/image/720x1280/bg_world_map_10.jpg",md5:"b9f0cdef43b8430e53c1c12499de9817"},{file:"res/image/720x1280/bg_world_map_11.jpg",md5:"d635d1f086ab72c0d1e23787d587b38a"},{file:"res/image/720x1280/bg_world_map_12.jpg",md5:"9e83ecd3b12ce5b335aa9cee7e77cd30"},{file:"res/image/720x1280/bg_world_map_13.jpg",md5:"debac4c3e82eeda38fd97979816810fd"},{file:"res/image/720x1280/bg_world_map_14.jpg",
md5:"90277f89e5f3fa581eb0470fec0e5ac5"},{file:"res/image/720x1280/bg_world_map_15.jpg",md5:"17ae2dc293940e9e49b93e9c4bb0a5a1"},{file:"res/image/720x1280/bg_world_map_2.jpg",md5:"9641cb00f856310d4e189533589600bb"},{file:"res/image/720x1280/bg_world_map_3.jpg",md5:"630e1fb914ce7ed8f40ccaaa979748ab"},{file:"res/image/720x1280/bg_world_map_4.jpg",md5:"2a035a975f764bf7625b432674c07818"},{file:"res/image/720x1280/bg_world_map_5.jpg",md5:"064eed0c10bf7cc2b117cef18552d67f"},{file:"res/image/720x1280/bg_world_map_6.jpg",
md5:"d635d1f086ab72c0d1e23787d587b38a"},{file:"res/image/720x1280/bg_world_map_7.jpg",md5:"9e83ecd3b12ce5b335aa9cee7e77cd30"},{file:"res/image/720x1280/bg_world_map_8.jpg",md5:"debac4c3e82eeda38fd97979816810fd"},{file:"res/image/720x1280/bg_world_map_9.jpg",md5:"90277f89e5f3fa581eb0470fec0e5ac5"},{file:"res/image/720x1280/bg_world_map_bottom.jpg",md5:"733608721296a813dec3ff1b9941ac97"},{file:"res/image/720x1280/bg_world_map_mask.png",md5:"4fffce828eb059e11b2af9af0307590d"},{file:"res/image/720x1280/bg_world_map_ui.jpg",
md5:"1cbba95eb5b5fbae11a39a585782b85e"},{file:"res/image/720x1280/big_ico_skill_20001.png",md5:"a488cf18ac5f38c4dcf7c748a6715624"},{file:"res/image/720x1280/big_ico_skill_20002.png",md5:"baf14fbd1e680c8a58f46de7106e876b"},{file:"res/image/720x1280/big_ico_skill_20003.png",md5:"632b5aa1a96e67187a612d05612fd0d4"},{file:"res/image/720x1280/big_ico_skill_20004.png",md5:"4e4a47961966900ac4ef076e4e402baa"},{file:"res/image/720x1280/big_ico_skill_20005.png",md5:"8b97fbc5031a1b5edb221d3f1c36187c"},{file:"res/image/720x1280/bj.jpg",
md5:"8c27a67387058d5d349d8dc6fd23501b"},{file:"res/image/720x1280/bluebtn.png",md5:"2925b5426389859a44d85f562d6eb01b"},{file:"res/image/720x1280/btn_num_white.fnt",md5:"50b0be3e7adc6a8e76ea0fd4d32e0558"},{file:"res/image/720x1280/btn_num_white.png",md5:"3a35ed7ae679006327a3cd01e58d51a6"},{file:"res/image/720x1280/btnFront_GainCollction.png",md5:"c6ba03da15582090ed0e69b24e3a0942"},{file:"res/image/720x1280/btnFront_HasGain.png",md5:"037c6fe43780684e54b97cb42a74b508"},{file:"res/image/720x1280/btnFront_savePic.png",
md5:"80e7aa9b3c5d9dfa98d2f97b2bd58c2b"},{file:"res/image/720x1280/btnFront_shareBack.png",md5:"d828b32eafeb14f6d0628fe9336e419d"},{file:"res/image/720x1280/btnFront_shareToFriend.png",md5:"60d58d5bc56cda0cc2931567b30156ca"},{file:"res/image/720x1280/btnFront_shareToQzone.png",md5:"8c804738db43949116601f4ecbb2e393"},{file:"res/image/720x1280/btnFront_show.png",md5:"4032a8432418a952e3077244ec1d97d3"},{file:"res/image/720x1280/btnFront_YuyueBtn.png",md5:"670a4bc41d0ef331200428b27dc06d52"},{file:"res/image/720x1280/btnFront_YuyueShare.png",
md5:"ba3f9a37c9e6ce2773dba076dd01db13"},{file:"res/image/720x1280/button.plist",md5:"e024310882d4108cfd3ab43d070e4256"},{file:"res/image/720x1280/button.png",md5:"8da451252b48239a4bff70b19b988204"},{file:"res/image/720x1280/CameraPreview.ccbi",md5:"f31619ec5fcbb25d97eb81b49888031e"},{file:"res/image/720x1280/car.atlas",md5:"38ccbb6a988a8a7ad1d9622f447120e5"},{file:"res/image/720x1280/car.json",md5:"d9bfeb063bfd5cbfc34f338275c1bfa5"},{file:"res/image/720x1280/car.png",md5:"efeafdb0b040651e876b2f892d7594af"},
{file:"res/image/720x1280/ceshi_QRCode_100.png",md5:"ba761e0a7a2c56f8eb9709a4db81fa6d"},{file:"res/image/720x1280/CheckedQueryDialog.ccbi",md5:"554d2c5c24bf1035021acb5b28b1707c"},{file:"res/image/720x1280/ChooseHead.ccbi",md5:"06b329a27cdf2ca7db5ce089a7e38edb"},{file:"res/image/720x1280/ChoosePet.ccbi",md5:"d69cfd127451c1800a750a930d4489da"},{file:"res/image/720x1280/ChoosePetItem.ccbi",md5:"bfb82617abe26f887e57f042035ffec0"},{file:"res/image/720x1280/clear_star.plist",md5:"f5b0f75222b20278ed0e3c188625ea56"},
{file:"res/image/720x1280/clear_star.png",md5:"6a0bee95f8baf8cd65fe0896ec2040de"},{file:"res/image/720x1280/cloud.atlas",md5:"8e1e3b561f3bfd86d98a39b7158a35b1"},{file:"res/image/720x1280/cloud.json",md5:"75d26cccbd0199a5ed69c352155fefc2"},{file:"res/image/720x1280/cloud.png",md5:"7657aae4bc75883ace9f71ef37fdef9f"},{file:"res/image/720x1280/CloudDialog.ccbi",md5:"4d0a2098cbb4bce3dee13cf41ffd3c0d"},{file:"res/image/720x1280/common.plist",md5:"00ec54a7d7fb2820cb609d7684b21cdd"},{file:"res/image/720x1280/common.png",
md5:"8aa6493f474d72d68bd20f27a8ba2ce6"},{file:"res/image/720x1280/ConfirmDialog.ccbi",md5:"1dafe2bf071f6128949951c8558cf877"},{file:"res/image/720x1280/ConfirmDialogBig.ccbi",md5:"fa44b3faeb96405d9f05d254b8e93e3a"},{file:"res/image/720x1280/cooker_pan.atlas",md5:"6e1646fd2ed8def6cc13706c78f1fd02"},{file:"res/image/720x1280/cooker_pan.json",md5:"d8f45c284fbfbf49401ffdbf707b9a80"},{file:"res/image/720x1280/cooker_pan.png",md5:"dd70c0de810b4e722caae02b3e7dcd23"},{file:"res/image/720x1280/customer_1.atlas",
md5:"319f09944a13f6e62a1f7f4a215529c2"},{file:"res/image/720x1280/customer_1.json",md5:"6d7d3c260c3bc38c187b0b945f265e7c"},{file:"res/image/720x1280/customer_1.png",md5:"a2b54e7ac44aa5293e7a6aceecf2f2b5"},{file:"res/image/720x1280/customer_10.atlas",md5:"f04560882053aa7292f7818989ece6b1"},{file:"res/image/720x1280/customer_10.json",md5:"9950348a0e98bb40535cf2e376079fb6"},{file:"res/image/720x1280/customer_10.png",md5:"9860a4f9047e9d6af852fd525816f02c"},{file:"res/image/720x1280/customer_11.atlas",
md5:"f432353b93ba48a503dcc935c909c63c"},{file:"res/image/720x1280/customer_11.json",md5:"c578679acb8d10b1c6f2e0c8c44dd0c1"},{file:"res/image/720x1280/customer_11.png",md5:"b8c796a57c91cc59113efdb952c5ddef"},{file:"res/image/720x1280/customer_2.atlas",md5:"c73a676eee21a39c854c5c7cbad026d9"},{file:"res/image/720x1280/customer_2.json",md5:"762de00f22f8276511aedcc5dfe6ac5f"},{file:"res/image/720x1280/customer_2.png",md5:"88d116aa575c107ee5ca67b68aab7dd7"},{file:"res/image/720x1280/customer_3.atlas",md5:"3579b6a8d3ee4f3c8156f2a3fdd158a1"},
{file:"res/image/720x1280/customer_3.json",md5:"414fdc81437bd9f3be38409f2463ce3c"},{file:"res/image/720x1280/customer_3.png",md5:"9587fa04d013d8be3a0f30ea883e2c4e"},{file:"res/image/720x1280/customer_4.atlas",md5:"f21daaf56ef9122e70389b06ebcf72f7"},{file:"res/image/720x1280/customer_4.json",md5:"23cef304ba0de81b278a487e6cabc992"},{file:"res/image/720x1280/customer_4.png",md5:"2e6402dfce7e94b3a549b4ee621c61f5"},{file:"res/image/720x1280/customer_5.atlas",md5:"15d45f2c926f49878deba1a8ce8f9ee3"},{file:"res/image/720x1280/customer_5.json",
md5:"b1e5b4676a662dc2e0849338b4e5a341"},{file:"res/image/720x1280/customer_5.png",md5:"d6775bcb03b46274f26df7678aa3056d"},{file:"res/image/720x1280/customer_6.atlas",md5:"ecbbdf3118a02605f8b343a753da3c91"},{file:"res/image/720x1280/customer_6.json",md5:"8730af78914e8a41c9230395162e33c7"},{file:"res/image/720x1280/customer_6.png",md5:"49d65b1b3aad0f88a90c8edb8fcfd17d"},{file:"res/image/720x1280/customer_7.atlas",md5:"d6b7ac0c785b98cdafad6f6a62a0dbef"},{file:"res/image/720x1280/customer_7.json",md5:"5659371dc3a68e27f797468c52406b02"},
{file:"res/image/720x1280/customer_7.png",md5:"8aa98c705aab27b2a8feaafca84a19cf"},{file:"res/image/720x1280/customer_8.atlas",md5:"327e0ab133fa1c03d721348068bfac3f"},{file:"res/image/720x1280/customer_8.json",md5:"f382bce221324fadb98b52393c267894"},{file:"res/image/720x1280/customer_8.png",md5:"58e44daeeb4e56d844ff9617a5e651bb"},{file:"res/image/720x1280/customer_9.atlas",md5:"f170fe60d82a62dcb0f352587a3dabbc"},{file:"res/image/720x1280/customer_9.json",md5:"e2fd84a866e9ba67c41e57ce91527ca2"},{file:"res/image/720x1280/customer_9.png",
md5:"bb931c55d99d5f0ae8b076753ad25f3d"},{file:"res/image/720x1280/DailyLoginTipDialog.ccbi",md5:"6b7f72189c61e3d9b6bcb4f105d1c2fc"},{file:"res/image/720x1280/DailyTask.ccbi",md5:"06dff62b3dd9d8f543439e5a1c49ccf4"},{file:"res/image/720x1280/DailyTaskItem.ccbi",md5:"99398726f04a43fc97e5bc5659a49b42"},{file:"res/image/720x1280/DiamondNotEnoughDialog.ccbi",md5:"1d5bbe0ead246a7611042b758245fa06"},{file:"res/image/720x1280/dragDog.plist",md5:"7f3ea269b5805c8c244458342773da77"},{file:"res/image/720x1280/dragDog.png",
md5:"3fd939afe87894717240b7453d794304"},{file:"res/image/720x1280/DragDogScene.ccbi",md5:"15cfc4e13346be84dfb76aea5113558e"},{file:"res/image/720x1280/empty.atlas",md5:"d41d8cd98f00b204e9800998ecf8427e"},{file:"res/image/720x1280/empty.json",md5:"ff9efffb51e687346621646bbfea09af"},{file:"res/image/720x1280/energy.plist",md5:"81eb09dd1f239aff825890c8c6a7249b"},{file:"res/image/720x1280/energy.png",md5:"5f97103d2641ef9c49a19b62214be9ff"},{file:"res/image/720x1280/energy_title_free.png",md5:"723b374ce2da0ebfbae632cff4c7c595"},
{file:"res/image/720x1280/energy_title_get.png",md5:"c32ba3cdd07bd9928489acaa38bb7ca7"},{file:"res/image/720x1280/energy_title_lost_cn.png",md5:"90be78aca27d164cafcd5570f473edad"},{file:"res/image/720x1280/energy_txt_add_friend.png",md5:"ce9966fbb296a91965fd08afe93d848a"},{file:"res/image/720x1280/energy_txt_request.png",md5:"df85e367e7c0cbbf7fadcb1cfd672c04"},{file:"res/image/720x1280/EnergyDialog.ccbi",md5:"c87fa469998e81e6ee1ad7204ed3a4ec"},{file:"res/image/720x1280/entergame.png",md5:"a208db9d82719e5d4a7edadad80d65e3"},
{file:"res/image/720x1280/equipments.plist",md5:"043b9b527ad281bc69758632afc4c6b1"},{file:"res/image/720x1280/equipments.png",md5:"72e7de5bc923d4eae654eb2059d4a475"},{file:"res/image/720x1280/EquipTip.ccbi",md5:"695335985707ca86be6349928cb7d256"},{file:"res/image/720x1280/ExchangeCodeDialog.ccbi",md5:"f1329b970c703c981e5ca9dc966aae3b"},{file:"res/image/720x1280/falling_paper.plist",md5:"e64ada22f59d153ee8e342e81c796e6c"},{file:"res/image/720x1280/falling_paper.png",md5:"98d2fbaeb72ceb54e270456851083ce6"},
{file:"res/image/720x1280/falling_star.plist",md5:"7bf6e85931ddfc3ae81b20937193695f"},{file:"res/image/720x1280/falling_star.png",md5:"dcbef6c1115b4e1b6de1068d581990b6"},{file:"res/image/720x1280/falling_star2.plist",md5:"eb3091365fe0f21a89303ca8b8f16700"},{file:"res/image/720x1280/falling_star2.png",md5:"a623ed5505f07d463d512205eafa673a"},{file:"res/image/720x1280/feed1001.png",md5:"17f99f5f74e46aa2275ae407b1f57768"},{file:"res/image/720x1280/feed1002.png",md5:"94e0965cd8ae865cab3922d3eaea8c0c"},
{file:"res/image/720x1280/feed1003.png",md5:"7fc592f4e048b9ed9485c4dc54206b0c"},{file:"res/image/720x1280/feed1004.png",md5:"71a5dd48685a373a1845b373f1a0b793"},{file:"res/image/720x1280/feed1005.png",md5:"6457ae760d31b17e1881a1cfc8e24d1e"},{file:"res/image/720x1280/feed1006.png",md5:"ebecd45c437f31113c65e45ee588ee50"},{file:"res/image/720x1280/feed1007.png",md5:"1aa35c95cfea051b5a2087c296fcd83a"},{file:"res/image/720x1280/feed1008.png",md5:"b089aa6e835f2cc421f117a3dedda0e6"},{file:"res/image/720x1280/feed1009.png",
md5:"1cdaa1ba69c5102f217146895384a729"},{file:"res/image/720x1280/feed1010.png",md5:"a2511d6cb6a370b7dded2ac3efbdcc1a"},{file:"res/image/720x1280/feed1010_1.png",md5:"3ea74c3f4d2243b7cf9631227760f5a3"},{file:"res/image/720x1280/feed1010_2.png",md5:"00784d850a9b499c0feaa74898ac4775"},{file:"res/image/720x1280/feed1010_3.png",md5:"af207871326f7756a622549b205603b9"},{file:"res/image/720x1280/feed1010_4.png",md5:"45b97ae27ce1516172fb4595f2494eb6"},{file:"res/image/720x1280/feed1010_5.png",md5:"84469ec9e0853c446ecbd9d51d57445b"},
{file:"res/image/720x1280/feed1011.png",md5:"b4deb88a9a58bf35f313cb00fd60ce74"},{file:"res/image/720x1280/feed1012.png",md5:"aae0e32fd9d1d4a1b967feb10b8c0e72"},{file:"res/image/720x1280/feed1013.png",md5:"360d5416fd3f3eea1f4881e266211889"},{file:"res/image/720x1280/feed1014_1.png",md5:"a9eb6a14bd06b132c66f6e31a8c6dad1"},{file:"res/image/720x1280/feed1014_2.png",md5:"7647afde59ba9b3ff311c3e900a8dad3"},{file:"res/image/720x1280/feed1015_1.png",md5:"a9eb6a14bd06b132c66f6e31a8c6dad1"},{file:"res/image/720x1280/feed1015_2.png",
md5:"5ab4bc759e52abb004f08c536dc09d6d"},{file:"res/image/720x1280/feed1016.png",md5:"e867012acc5521405d8a134c1134c623"},{file:"res/image/720x1280/feed1016_xl.png",md5:"c0dfcd81b885c8ee18fd99f1d309a8c9"},{file:"res/image/720x1280/feed1017.png",md5:"bdbbb76bf4500bf58959e74cce88855c"},{file:"res/image/720x1280/feed1020.png",md5:"503f989c5fa5ba014d5ef5bce025c370"},{file:"res/image/720x1280/feed1020_xl.png",md5:"1012f918a4d1fba3c8aa1c521869f0ae"},{file:"res/image/720x1280/feed_flag.png",md5:"a4b691c2cbe827207ab74b7c6541cfdd"},
{file:"res/image/720x1280/FirstLevelNumInFriendDialog.ccbi",md5:"a1ff4813df158dbc5a2f2dbb2b8260c7"},{file:"res/image/720x1280/font_letter105.fnt",md5:"5b8c9d9381576cac3efbc8752200543f"},{file:"res/image/720x1280/font_number1.fnt",md5:"f97703705f10543477104a084bf226ff"},{file:"res/image/720x1280/font_number1.png",md5:"1e8c13662e810c8af1617eb52b1ec923"},{file:"res/image/720x1280/font_number104.fnt",md5:"23cc28a06c03fcd3826a94f1bc5e1034"},{file:"res/image/720x1280/font_number104.png",md5:"b047fbd636950c12710ef1aa79dad9cf"},
{file:"res/image/720x1280/font_txt_start.fnt",md5:"9c12d56bc33296e567b9629301e91944"},{file:"res/image/720x1280/font_txt_start.png",md5:"4e53797db27b30806c33afe7d259b52c"},{file:"res/image/720x1280/font_word_white.fnt",md5:"ca7e66b572bacbb6dd4a7b32ba05ab4e"},{file:"res/image/720x1280/ForceUpdate.ccbi",md5:"d9eb70cbfcf02a8a5554e8c20b295fbb"},{file:"res/image/720x1280/frame_car_30001.png",md5:"2f3b817dd84b3a113bec335fe004167c"},{file:"res/image/720x1280/frame_car_30002.png",md5:"2ed08ddd8a1e9ab6d622d704cb86528b"},
{file:"res/image/720x1280/frame_car_30003.png",md5:"8ced0a7718f7db382e6305e612c48ff2"},{file:"res/image/720x1280/frame_car_30004.png",md5:"b6f643922edaceb26b301c13e97cafa1"},{file:"res/image/720x1280/frame_car_30005.png",md5:"720720f4d5327e46dabedd2c2b3ea361"},{file:"res/image/720x1280/frame_car_30006.png",md5:"edf893f6feb885b5848ce46fd72e3d3f"},{file:"res/image/720x1280/frame_car_30007.png",md5:"dd76b4488e6a0e3d189e8b6a41fee095"},{file:"res/image/720x1280/frame_car_30008.png",md5:"7872707b36d31f18a0a358c8b5e4d3c9"},
{file:"res/image/720x1280/frame_car_30009.png",md5:"15c0aa97a2b5cd9acf29208533832285"},{file:"res/image/720x1280/frame_car_30010.png",md5:"14b6518fc4930a5caa3eb2e225d8b8bf"},{file:"res/image/720x1280/frame_car_30011.png",md5:"5bc51a97276350288d8df0e097ae8244"},{file:"res/image/720x1280/frame_car_30012.png",md5:"1d199a31b15c778a990cd71160cfbef2"},{file:"res/image/720x1280/frd_txt_send_request.png",md5:"9f6e3c78c40622034a16b6e01827288a"},{file:"res/image/720x1280/friend_rank_blue.png",md5:"c191f4d61cfd26aff6bdd4f4113d3a15"},
{file:"res/image/720x1280/friend_rank_orange.png",md5:"23b464293bc0da7031d7edf40cf26c18"},{file:"res/image/720x1280/FriendAddByID.ccbi",md5:"eb1b32099f959db86587347fc2a95353"},{file:"res/image/720x1280/FriendAddByQR.ccbi",md5:"f3e20321d858f6fcbef5586d73848f34"},{file:"res/image/720x1280/FriendAddItem.ccbi",md5:"acf34b04adaa1e85b0e297f8e08bef0c"},{file:"res/image/720x1280/FriendAddLayer.ccbi",md5:"ebbe8c925bc0eb2ce78ee30a854e191b"},{file:"res/image/720x1280/FriendInfo.ccbi",md5:"63a6f70b71720ec84f19ee7e88c6981c"},
{file:"res/image/720x1280/FriendInfoItem.ccbi",md5:"f7fb9c7d8a8fbfa6ca9298bb4bcc02fe"},{file:"res/image/720x1280/FriendLayer.ccbi",md5:"fd23f2a9caddb92a6db1a0f5e66f9f07"},{file:"res/image/720x1280/FriendPKLayer.ccbi",md5:"7656c0b833f6bb956b982536346aec95"},{file:"res/image/720x1280/FriendRankInfo.ccbi",md5:"30da95d9f56344ff5501789743c8d07e"},{file:"res/image/720x1280/FriendRankLayer.ccbi",md5:"450eb136120f4c82a3b3ccd34670aa6c"},{file:"res/image/720x1280/FriendRequestHelpLayer.ccbi",md5:"f72c8e8f648f4ee519a88304a880f5a7"},
{file:"res/image/720x1280/FriendRequestItem.ccbi",md5:"0ddc74e14e4535fdc5cd90411baac492"},{file:"res/image/720x1280/FriendRequestLayer.ccbi",md5:"6826269e189e75a20970c050c9337a0b"},{file:"res/image/720x1280/FriendRule.ccbi",md5:"a5234bbf6dba436251278be21f21ebfd"},{file:"res/image/720x1280/friends.plist",md5:"9f8c99b2b9a46a86c81bcfc1e80d9346"},{file:"res/image/720x1280/friends.png",md5:"ef3e265f79c5edfadfb338088deca249"},{file:"res/image/720x1280/FristChargeDialog.ccbi",md5:"94954bf9585a9a69d21a7b1cf8b63586"},
{file:"res/image/720x1280/game_icon.png",md5:"ad5e985f8f468744dfd58868c9a382fe"},{file:"res/image/720x1280/game_logo.png",md5:"649e76ceba6a5e1cf46ce6563ae84582"},{file:"res/image/720x1280/gamebg.plist",md5:"3a5e1bb7e3e4b24b604a5c7d760d54e7"},{file:"res/image/720x1280/gamebg.png",md5:"dbc58b8dff614e08f5ebb2aedcf53224"},{file:"res/image/720x1280/GameClear.ccbi",md5:"e2cdf2abf091db3563fa5ed251c9afcb"},{file:"res/image/720x1280/gameclear.plist",md5:"b4ef5bbf837d365221b604fc72975029"},{file:"res/image/720x1280/gameclear.png",
md5:"765be039a5e7becae632ba6c21d78bda"},{file:"res/image/720x1280/GameComboTip.ccbi",md5:"a3b2eadaf9f6fbb22cadf3f867d68215"},{file:"res/image/720x1280/GameComboTip2.ccbi",md5:"1f32d145bb94b7bd55d50677ef0fc2f6"},{file:"res/image/720x1280/GameCriticalHit.ccbi",md5:"886bc9daf7e2be27c031a3cd0a230038"},{file:"res/image/720x1280/GameEndStory.ccbi",md5:"b15fb3b189f16c9366790d2f72611f89"},{file:"res/image/720x1280/GameFailed.ccbi",md5:"aa311350400f4b47fca7e678b106fc8f"},{file:"res/image/720x1280/gamemap.plist",
md5:"c6ccb36eb33ad288e7bfa60be2b16e1a"},{file:"res/image/720x1280/gamemap.png",md5:"7ab1f9df40dc9771d92c17820b468b52"},{file:"res/image/720x1280/gamemap_more_level.png",md5:"c145b6056f8eb9f825f71140006e9ad6"},{file:"res/image/720x1280/GameNpcItem.ccbi",md5:"04baddac1aebbb93ab93a53fed516c3b"},{file:"res/image/720x1280/GamePauseDialog.ccbi",md5:"88e39535b703fc9eb68709f6404752dd"},{file:"res/image/720x1280/GameRank.ccbi",md5:"b824cec59b2eef9ec995b5a381cc5094"},{file:"res/image/720x1280/GameRankItem.ccbi",
md5:"86180ec667d2dd9784b41c2b62e1d91f"},{file:"res/image/720x1280/GameRankItem2.ccbi",md5:"b49ee0f8cb10411b54e192c878885255"},{file:"res/image/720x1280/GameSettingDialog.ccbi",md5:"6c59f7a527bd89148ef6c806609f00e6"},{file:"res/image/720x1280/GameTips.ccbi",md5:"3e022a8d9badb1be9be57c5b8c83605d"},{file:"res/image/720x1280/GameTipsCommonItem.ccbi",md5:"7fdf4879771dff33cae43e559ab54cde"},{file:"res/image/720x1280/GameTipsItem0.ccbi",md5:"6efba8af5d7e70162ad03179faf7c294"},{file:"res/image/720x1280/GameTipsItem1.ccbi",
md5:"a92890986fb4572148054c7ea910281d"},{file:"res/image/720x1280/GameTipsItem2.ccbi",md5:"4cf80085c858457b478394f79b6293a6"},{file:"res/image/720x1280/GameTipsItem3.ccbi",md5:"cfd9f757f2ed642fb8a3fb2f3761de9b"},{file:"res/image/720x1280/GameTipsItem4.ccbi",md5:"cbb61c1f09ea4cef80fdfefc60ee7fb0"},{file:"res/image/720x1280/GameTipsItem5.ccbi",md5:"648fba346fc61b529a47b006d664ed11"},{file:"res/image/720x1280/GameWinTip.ccbi",md5:"f0304a1d7d6ae60c7e11101e16ce2375"},{file:"res/image/720x1280/GameWorld.ccbi",
md5:"d1356a14a0ac4215f11ae5108d574bc3"},{file:"res/image/720x1280/GameWorldEdit.ccbi",md5:"f5a071d2a261c492d3660912fa327beb"},{file:"res/image/720x1280/GameWorldEditItem.ccbi",md5:"fd73bda07f9d53ccff62993c68873de0"},{file:"res/image/720x1280/GameWorldEditUI.ccbi",md5:"503aaa8a0cebba49325b59af3698eeed"},{file:"res/image/720x1280/GameWorldFg.ccbi",md5:"b44c887b92ec4047c7a4695a9047355b"},{file:"res/image/720x1280/GameWorldProp.ccbi",md5:"f842798f26e4ca2fbbab8d5bb8c24e91"},{file:"res/image/720x1280/GameWorldTarget.ccbi",
md5:"11f89eedae59e846eac295d123b31225"},{file:"res/image/720x1280/GameWorldUI.ccbi",md5:"9a0ba934d2f5f46daba6c59290605eb9"},{file:"res/image/720x1280/get_pet_animation.atlas",md5:"d85daaaeb8fa6062d8f4d8829049358d"},{file:"res/image/720x1280/get_pet_animation.json",md5:"e428abca5fdc4a769ac57355bd11973b"},{file:"res/image/720x1280/get_pet_animation.png",md5:"3a178f046cb24237db0cddcc304b2488"},{file:"res/image/720x1280/GetNewPetDialog.ccbi",md5:"739596bcae2f93338170dfbc7a949216"},{file:"res/image/720x1280/GetNewPetXcx.ccbi",
md5:"a8ac8ca41a311593eb0d1f1df7a7d8f0"},{file:"res/image/720x1280/GetRewardDialog.ccbi",md5:"3b4955eef232e2310238c5af3857b5ef"},{file:"res/image/720x1280/gift_levelup.atlas",md5:"61911af970f5dbe1599c67ab7f89f1c3"},{file:"res/image/720x1280/gift_levelup.json",md5:"95db3d2967241c3f8d8c38f654cfd8b1"},{file:"res/image/720x1280/gift_levelup.png",md5:"8a90d1e3a44e695b514701ec2cd727b1"},{file:"res/image/720x1280/gRank_Bg.png",md5:"d5bf4c078c9349bb7b408d65916a3635"},{file:"res/image/720x1280/gRank_btnFront_GoDiss.png",
md5:"13947e0575b5b1d0e260d6ba3b10d108"},{file:"res/image/720x1280/gRank_btnFront_GoShow.png",md5:"e5cf661d9a331e66254d7c64ef5bbe2f"},{file:"res/image/720x1280/gRank_btnFront_OpenGame.png",md5:"e309f00627f82bbf64a58540ffd272c6"},{file:"res/image/720x1280/gRank_btnFront_OwnRank_check.png",md5:"2d4719213052d47e7dfb750b458550df"},{file:"res/image/720x1280/gRank_btnFront_OwnRank_uncheck.png",md5:"bd87f6de637c6b4f1d48376a04446a66"},{file:"res/image/720x1280/gRank_btnFront_WorldRank_check.png",md5:"39a81b05e8728c303c3129e5c01f71b8"},
{file:"res/image/720x1280/gRank_btnFront_WorldRank_uncheck.png",md5:"ba2d33a42126fa4e50771ab652074172"},{file:"res/image/720x1280/gRank_Title_Score.png",md5:"c9652edce88705fe83a87435e7936976"},{file:"res/image/720x1280/gRank_Title_Yours.png",md5:"aa50eb95dfe5a7a3eeb9f507aa5aa774"},{file:"res/image/720x1280/grouprank.plist",md5:"8d8612ef46c97a53d20a30c741b4f71b"},{file:"res/image/720x1280/grouprank.png",md5:"7103dc47c41d0e7c6036bf69d04bdfc2"},{file:"res/image/720x1280/GroupRankNew.ccbi",md5:"1d1ce6299424c38bf7966f5cd2beb8a6"},
{file:"res/image/720x1280/groupranknew.plist",md5:"cb2fd2da46e6078ae43bc17b5d6bab37"},{file:"res/image/720x1280/groupranknew.png",md5:"dcf0441e178590238a208bbfb255b9f7"},{file:"res/image/720x1280/guide.atlas",md5:"a6964ea695d8af31f1b056c45c48c613"},{file:"res/image/720x1280/guide.json",md5:"ed10d240294afc319e2251ccebba31bb"},{file:"res/image/720x1280/guide.png",md5:"9f721978601f4ac5c59866e5573dbcfc"},{file:"res/image/720x1280/guide_1.atlas",md5:"68a36cc8f89ba2d211879318822baf1b"},{file:"res/image/720x1280/guide_1.json",
md5:"17f63b2a8d2defb59f3d7d5ccd8f4866"},{file:"res/image/720x1280/guide_1.png",md5:"f8d8f02e4ef1d3eefc2666ae6abaa254"},{file:"res/image/720x1280/guide_13.atlas",md5:"42f5368caf2a0248fc62c1486841e8f3"},{file:"res/image/720x1280/guide_13.json",md5:"c87d9333c63bbc01a2ea343b9a9a82ce"},{file:"res/image/720x1280/guide_13.png",md5:"6cf342366937bf85f233e6d439235a56"},{file:"res/image/720x1280/guide_15.atlas",md5:"5d9fc92c85d281914a5758304ad8dd29"},{file:"res/image/720x1280/guide_15.json",md5:"3b819493358184635aa1f3adc292aa6d"},
{file:"res/image/720x1280/guide_15.png",md5:"196524e7697320e7b20b8942a5b5398a"},{file:"res/image/720x1280/guide_19.atlas",md5:"e0e62456e8651135372c216013919d7a"},{file:"res/image/720x1280/guide_19.json",md5:"7c60a3cdf8a66082eb354c722ac54db4"},{file:"res/image/720x1280/guide_19.png",md5:"59ef37470d59b2df08d65671db7f8062"},{file:"res/image/720x1280/guide_2.atlas",md5:"8f7d1389609bf342cd214cdabf5d9004"},{file:"res/image/720x1280/guide_2.json",md5:"a391cfb739438be8d7070b0e17a5c0fb"},{file:"res/image/720x1280/guide_2.png",
md5:"611dba73bb71c2c33b350e12f82db775"},{file:"res/image/720x1280/guide_21.atlas",md5:"b90440e5bdacc30375a18a2ec86aef8e"},{file:"res/image/720x1280/guide_21.json",md5:"6664b01553f8d6ae57d38a6e1d4d2de8"},{file:"res/image/720x1280/guide_21.png",md5:"53f48a74b2b871dcfe1677343374ae39"},{file:"res/image/720x1280/guide_22.atlas",md5:"074d0961e92df8d41e13564bdb2e317e"},{file:"res/image/720x1280/guide_22.json",md5:"567563084194a86e44f2607a0347b2b7"},{file:"res/image/720x1280/guide_22.png",md5:"b87351f51ab4030286e83143d8c8d6a5"},
{file:"res/image/720x1280/guide_23.atlas",md5:"77d073001fb23593ab6f01398cb34f01"},{file:"res/image/720x1280/guide_23.json",md5:"384797dbfcf0c0c3ec8a546ba5f28087"},{file:"res/image/720x1280/guide_23.png",md5:"3991d5f59ef31d6898b312519265327c"},{file:"res/image/720x1280/guide_3.atlas",md5:"252a38dad08ef5c447ae100f478a6420"},{file:"res/image/720x1280/guide_3.json",md5:"52e3e350dd0200e0c57f3ea988556f0c"},{file:"res/image/720x1280/guide_3.png",md5:"774e9ada079bbc8e34aa9ef686e64420"},{file:"res/image/720x1280/guide_32.png",
md5:"25382c086e057707974eba2bd38f92ad"},{file:"res/image/720x1280/guide_36.atlas",md5:"a7e21ebe80fc37b1c20783430e88d87c"},{file:"res/image/720x1280/guide_36.json",md5:"26a8103c5161b1f10043cb12127ff882"},{file:"res/image/720x1280/guide_36.png",md5:"6295a0cae9559f2d7e9cdb837ace20d4"},{file:"res/image/720x1280/guide_4.atlas",md5:"af480495b47e71b5f9731614b570e57d"},{file:"res/image/720x1280/guide_4.json",md5:"16d4116354ba2d35d4094eac53641e96"},{file:"res/image/720x1280/guide_4.png",md5:"b643cb37c010295f476e1359fda27c02"},
{file:"res/image/720x1280/guide_5.atlas",md5:"462ddf6de2b4407c44b869fb0fb5121f"},{file:"res/image/720x1280/guide_5.json",md5:"21e5e07df08cccf0458f51c7ca403de9"},{file:"res/image/720x1280/guide_5.png",md5:"c5d0d282c397406cc3186d216ef6cbb8"},{file:"res/image/720x1280/guide_52.png",md5:"1f146d0adccec06cf37a1c2ec6034430"},{file:"res/image/720x1280/guide_53.png",md5:"c61675594ad7ac91181839c2b4ff1599"},{file:"res/image/720x1280/guide_9.atlas",md5:"52db976bce68c1043307e80846a3e8d0"},{file:"res/image/720x1280/guide_9.json",
md5:"4080531c555de213b10583ecc33756ee"},{file:"res/image/720x1280/guide_9.png",md5:"a23f361e0a4968aa49828f2f01ffbb3f"},{file:"res/image/720x1280/guide_91.atlas",md5:"5e4a67cb8f9fc4b6dd7173b0c1a33586"},{file:"res/image/720x1280/guide_91.json",md5:"175e923389d22228ac20923078c59238"},{file:"res/image/720x1280/guide_91.png",md5:"9c04930efe2a60c6b491d2e3ae23f5f4"},{file:"res/image/720x1280/guide_fruit_shape1.png",md5:"c7aa1517623064b933fd4d2c0ef4cb7e"},{file:"res/image/720x1280/guide_fruit_shape2.png",
md5:"1c6207600e61c9475ae04c3ca577da70"},{file:"res/image/720x1280/guide_fruit_shape3.png",md5:"c08c462af9cae726488ab07450d48f2b"},{file:"res/image/720x1280/guide_go_on.png",md5:"20e20a637c2e5ff7a93e7f07d5ac1c69"},{file:"res/image/720x1280/guide_s_arrow.png",md5:"277af4911d9a6754babc9fe7466a16fd"},{file:"res/image/720x1280/guideBlack.jpg",md5:"3e22a050aff6da3911991235a74f42a8"},{file:"res/image/720x1280/guideMask.png",md5:"962cf17b7d322300c629183786369eca"},{file:"res/image/720x1280/hand_0.png",md5:"806e90f3217812d519f9e84c6d82d9c4"},
{file:"res/image/720x1280/headbox.png",md5:"7936bee3c3c4e520d87bddcf564d3f69"},{file:"res/image/720x1280/high_light.atlas",md5:"c0c56fff283c66eb77e5b961db1ea228"},{file:"res/image/720x1280/high_light.json",md5:"7aec9ddeb35d947c9c7ae8f796ba45ab"},{file:"res/image/720x1280/high_light.png",md5:"d5002868047d1b6270f63946a8025bcd"},{file:"res/image/720x1280/husky_chess_light.png",md5:"6898460e6599d8ee1c650acfe0906d06"},{file:"res/image/720x1280/husky_main_light.png",md5:"89720032be87e56a8292a6f3f2a81a18"},
{file:"res/image/720x1280/husky_reward_light.png",md5:"1513994ee6117476fb201fafd878daff"},{file:"res/image/720x1280/huskyActivity.plist",md5:"6bc662cfd94e285ff06b81e2072fef51"},{file:"res/image/720x1280/huskyActivity.png",md5:"8d1f3ee0897d3f03a377d4710dd94186"},{file:"res/image/720x1280/HuskyChess.ccbi",md5:"5c43de20fec18cafea2fc4b1d3724da4"},{file:"res/image/720x1280/HuskyChessItem.ccbi",md5:"edcf0549bfc1cabe2b01e543bdf948b0"},{file:"res/image/720x1280/HuskyChessItemBg.ccbi",md5:"2a366a09e3949851886a0bf0b895905e"},
{file:"res/image/720x1280/HuskyChessItemLabel.ccbi",md5:"1b4f2088e8b1f1e653a0f3712c4993d4"},{file:"res/image/720x1280/HuskyChessMask.ccbi",md5:"7b2a17ee4e5aca7eb73d633844425078"},{file:"res/image/720x1280/HuskyChessRewardItem.ccbi",md5:"f0e42aaf599e91c0940bc5eb6a14ff27"},{file:"res/image/720x1280/HuskyChessRewardTot.ccbi",md5:"975d217cdbdc93275bc719b1c352db10"},{file:"res/image/720x1280/huskyChessRule.ccbi",md5:"534b382dfbafea3918ab21784c00031a"},{file:"res/image/720x1280/HuskyChessUI.ccbi",md5:"5ee94b965c2e0bfd2dfc0b735a99a8a8"},
{file:"res/image/720x1280/HuskyConfirmDialog.ccbi",md5:"0ff27b03c01f878ca33c15f92b2488e1"},{file:"res/image/720x1280/HuskyDailyReward.ccbi",md5:"8fbc84905d2bfbc10970c6f8dc5a8608"},{file:"res/image/720x1280/HuskyMainPage.ccbi",md5:"eaee0f387f8fb27e2ec35871b2a2fa93"},{file:"res/image/720x1280/huskyMainRule.ccbi",md5:"6a0b43acafd8c64ddc40c80375835b81"},{file:"res/image/720x1280/HuskyRankList.ccbi",md5:"50aef2c36d79887f7b65b649ec544657"},{file:"res/image/720x1280/HuskyRankListItem.ccbi",md5:"ae716abca4e60b0ceaf1f596b74f42f5"},
{file:"res/image/720x1280/HuskyRewardGet.ccbi",md5:"331949e3aee046e6526ba2b045d2e40a"},{file:"res/image/720x1280/HuskyTask.ccbi",md5:"de281505c4faffc037698dbac1239ffc"},{file:"res/image/720x1280/ico_activity_10001.png",md5:"04a5e399313e741280801e21a98b913e"},{file:"res/image/720x1280/ico_activity_10003.png",md5:"006ac2d29c774bd338fc9ec6c68a7b4a"},{file:"res/image/720x1280/ico_activity_10004.png",md5:"0b5d9daa8df342e6f19ba18e41ae95de"},{file:"res/image/720x1280/ico_activity_10005.png",md5:"bb3e993f50e7ea5bfccf3a7efbc2f30f"},
{file:"res/image/720x1280/ico_activity_10006.png",md5:"a5e52ec397d4e3efbe149962a0719f92"},{file:"res/image/720x1280/ico_big_lottery.png",md5:"d042dac083348cfb7194e5f9a26a8819"},{file:"res/image/720x1280/ico_big_mark.png",md5:"2e81c613e8dc41962d0d446560bf6e19"},{file:"res/image/720x1280/ico_star.png",md5:"5825715df50f5d1950d92230473badde"},{file:"res/image/720x1280/ico_star_0.png",md5:"6bb1d9e0575cd29bbe3dca85ccdd0bcc"},{file:"res/image/720x1280/img_official_acount.jpg",md5:"84b11423a500c677356c3144e6fc6bb2"},
{file:"res/image/720x1280/In5PassLevelDialog.ccbi",md5:"41739f7e2bd24db576cde65d8f1cafa7"},{file:"res/image/720x1280/In5PassLevelXcx.ccbi",md5:"ba937afd9f49f4dfc9f37cfbdd88c13f"},{file:"res/image/720x1280/invite_reward_bg.png",md5:"85aaaba4efeb49c589b6b31832926a76"},{file:"res/image/720x1280/invite_reward_list_bg.png",md5:"5c70975a50c0f897a7dcba008bb668a1"},{file:"res/image/720x1280/invite_reward_list_title.png",md5:"220f9f5b71931005de5777cb55351314"},{file:"res/image/720x1280/invite_reward_pad_1.png",
md5:"6304487bea856fd46a8e091be9c46800"},{file:"res/image/720x1280/invite_reward_pad_2.png",md5:"ff3931b4d11e354346289e9d4df60a83"},{file:"res/image/720x1280/invite_reward_title.png",md5:"695ec9eb39be5699d0569186f0fba1dd"},{file:"res/image/720x1280/InviteFriendItem.ccbi",md5:"9d3114f915b51ef528e37f97376a087f"},{file:"res/image/720x1280/InviteFriendListLayer.ccbi",md5:"4350fb2cde340025ee60be888c1131c9"},{file:"res/image/720x1280/InviteRewardDialog.ccbi",md5:"52156d584ce9bf3c60ac8d0cdbc27ecf"},{file:"res/image/720x1280/InviteRewardListItem.ccbi",
md5:"9fddf8328b12011a8a9edf81ec404f5f"},{file:"res/image/720x1280/InviteRewardQQDialog.ccbi",md5:"00b806047cf9187bf61998440f7c55d7"},{file:"res/image/720x1280/InviteRewardQQListItem.ccbi",md5:"ab823609817f10e7ffe9350ac5def029"},{file:"res/image/720x1280/InviteRewardTipDialog.ccbi",md5:"1710dde94765f12d32fa43a46b7578ac"},{file:"res/image/720x1280/InviteRewardXyxDialog.ccbi",md5:"fbb94c15484af62d86acac0bd7d5f2b5"},{file:"res/image/720x1280/InviteRewardXyxListItem.ccbi",md5:"1739f816c2dbab2a36c801bde3d0ac6e"},
{file:"res/image/720x1280/ItemSourceDialog.ccbi",md5:"f24638bff274c8248d53f8fc115c6a3e"},{file:"res/image/720x1280/ItemTipCommon.ccbi",md5:"dd671864a3c7331d0653a0168bd1c156"},{file:"res/image/720x1280/ItemTipUse.ccbi",md5:"d745805fd97bf595b9f4ce2a3c0cd43c"},{file:"res/image/720x1280/kit.atlas",md5:"9129a7a3afddb1989227edfdbaf34602"},{file:"res/image/720x1280/kit.json",md5:"b9ed67eb745df3fd2fc866485b7564b5"},{file:"res/image/720x1280/kit.png",md5:"90f727cee4b4d0882291ebb37c6ee2ac"},{file:"res/image/720x1280/kitchen_help_title.png",
md5:"b66cf3810cb0fee08a4658dd37b99d4a"},{file:"res/image/720x1280/kitchen_help_title_rank.png",md5:"1a9921559104512ce29ba848793e9209"},{file:"res/image/720x1280/kitchen_help_title_reward.png",md5:"dc837dc2f061d90dd2e6cb13f15b7751"},{file:"res/image/720x1280/kitchen_label_contest.png",md5:"ad320cfb6e557e3d752cc93359953920"},{file:"res/image/720x1280/kitchen_pass_title_fail.png",md5:"ad89ec7468af8f5bc6511a8aeada0ab3"},{file:"res/image/720x1280/kitchen_pass_title_success.png",md5:"43d767125259383633b9449842dadedc"},
{file:"res/image/720x1280/kitchen_reward_more.png",md5:"63c3822fe2ab7858b73e99a9f4521b00"},{file:"res/image/720x1280/kitchen_reward_title.png",md5:"2e4f699241e2d9d99fcd2b9dee54422c"},{file:"res/image/720x1280/kitchen_title.png",md5:"7c7bac2fe3045825541278d4f452b8bd"},{file:"res/image/720x1280/kitchengod.plist",md5:"d2a8f5fdcf8f3a6e7184679652525828"},{file:"res/image/720x1280/kitchengod.png",md5:"da52a86fe03d5d34e1f91b107a9b0959"},{file:"res/image/720x1280/KitchenGodFriendItem.ccbi",md5:"c6ab2d13a6bef861ecc014382b320eac"},
{file:"res/image/720x1280/KitchenGodGameNpcItem.ccbi",md5:"531fa63b273737a590729d0b88c90c7c"},{file:"res/image/720x1280/KitchenGodGameTarget.ccbi",md5:"f5475ed0b09feb930c678ab97a96b318"},{file:"res/image/720x1280/KitchenGodGameTargetStar.ccbi",md5:"5a815c5c40953c6f9624e67fef2aade1"},{file:"res/image/720x1280/KitchenGodGameUI.ccbi",md5:"06dc63ba6604f6d695e1ee418cb08c4b"},{file:"res/image/720x1280/KitchenGodHelp1.ccbi",md5:"191db7f146d03d94f0afa69128548759"},{file:"res/image/720x1280/KitchenGodHelp2.ccbi",
md5:"d3893768560f53d62e517a37dc57fa19"},{file:"res/image/720x1280/KitchenGodHelp3.ccbi",md5:"155d6c5d9202d79419eb539c92a2f1f9"},{file:"res/image/720x1280/KitchenGodHelp4.ccbi",md5:"b0559e3a9c841d73730d2a3e5070b9cc"},{file:"res/image/720x1280/KitchenGodHelpLayer.ccbi",md5:"d3d79e0c9dab0b6e0d8acd98497596ac"},{file:"res/image/720x1280/KitchenGodLastRewardDialog.ccbi",md5:"a7c320d0d1ff0d692b9a94bf3946834b"},{file:"res/image/720x1280/KitchenGodLayer.ccbi",md5:"6b8afbb86d20d74f06781948ab2b1ee6"},{file:"res/image/720x1280/KitchenGodPassLayer.ccbi",
md5:"8b87b93145f7a12eb00b05f7017a6ac7"},{file:"res/image/720x1280/KItchenGodQueryDialog.ccbi",md5:"3ea3d4bf130e354cdb03e9ad99982b6b"},{file:"res/image/720x1280/KitchenGodRankItem.ccbi",md5:"d99d89f9c5c7bfcb755246b65d3d5839"},{file:"res/image/720x1280/KitchenGodRankLayer.ccbi",md5:"eee015aadc00ce89c3f469c5ec9f71df"},{file:"res/image/720x1280/KitchenGodRewardItem.ccbi",md5:"9b1d79aac7ee10f9abdc33af8c10028e"},{file:"res/image/720x1280/KitchenGodRewardItemTip.ccbi",md5:"fc842a8571dd023f10944b6ab68d6fda"},
{file:"res/image/720x1280/KitchenGodRewardLayer.ccbi",md5:"561ecd9daf4ebb343f6965db8d974ba6"},{file:"res/image/720x1280/level_flag.png",md5:"e36f6aeeb06093ddba3ceb1062bf3494"},{file:"res/image/720x1280/level_target.plist",md5:"8ee049f3e445f34532c27f36abbc31e9"},{file:"res/image/720x1280/level_target.png",md5:"372dc984aea580120ffc5a55a162b7ae"},{file:"res/image/720x1280/LevelBeyondFriendDialog.ccbi",md5:"7601399ee4183c372390f4f8b70a1615"},{file:"res/image/720x1280/light_dot.plist",md5:"f31af877ca518b1ab9ed384656f6c9f7"},
{file:"res/image/720x1280/light_dot.png",md5:"c42f48ad1802ead668062c31c7e6bf9c"},{file:"res/image/720x1280/LiteEndFinishDialog.ccbi",md5:"0b2b3db6711966bdebec1d7700d53dce"},{file:"res/image/720x1280/loading.atlas",md5:"7130e2015b64da8564f54723359b03e7"},{file:"res/image/720x1280/loading.json",md5:"c9b8a598751a861cac379251be505936"},{file:"res/image/720x1280/loading.png",md5:"0741686db8de7ffe54109a97553980ff"},{file:"res/image/720x1280/Lottery.ccbi",md5:"97135c32446b1a600440c636c4c106e3"},{file:"res/image/720x1280/lottery.plist",
md5:"fcd84f00c95e21255f0bbff331d1580f"},{file:"res/image/720x1280/lottery.png",md5:"3cb1330542086ab0655b305e2573f5bd"},{file:"res/image/720x1280/lottery_b2.plist",md5:"77730de72c18b7235d3e929a23216f9b"},{file:"res/image/720x1280/lottery_prob.png",md5:"754c954e1033ac4da589d0383699fe69"},{file:"res/image/720x1280/LotteryDressItem.ccbi",md5:"28873b755754b9277c46c72e6efd071a"},{file:"res/image/720x1280/LotteryEquipItem.ccbi",md5:"bd3886e5f743f584c45ee0c128e9c3c2"},{file:"res/image/720x1280/LotteryHandbook.ccbi",
md5:"1d3b1db028473ab49daa924f65328865"},{file:"res/image/720x1280/LotteryHandbookItem.ccbi",md5:"fe4c9963e0119c930dd261df0695806d"},{file:"res/image/720x1280/LotteryOneReward.ccbi",md5:"385206b20448511cb545475f70460cb2"},{file:"res/image/720x1280/LotteryOtherItem.ccbi",md5:"28040adf5137ae8b6f128a5ebcae280d"},{file:"res/image/720x1280/LotteryProb.ccbi",md5:"5459d2f191b536bcbc04c6fe8571322e"},{file:"res/image/720x1280/LotterySendLayer.ccbi",md5:"b069f9ac218f5145666088bb699875b7"},{file:"res/image/720x1280/LotterySpecialReward.ccbi",
md5:"898916972f36bdfc646f4e4b8c3a291b"},{file:"res/image/720x1280/LotteryTenReward.ccbi",md5:"58bb39c101dad175ef6831f54d38de21"},{file:"res/image/720x1280/ltr_desktop.png",md5:"14f0292753ae1f1b9141e9a2eac4c667"},{file:"res/image/720x1280/lucky_kit_box.png",md5:"45bf2da1f51a441518ab3c6f83b049ab"},{file:"res/image/720x1280/LuckyKitDialog.ccbi",md5:"cc5e8ee90d8961a9ad4d88355b84347b"},{file:"res/image/720x1280/LuckyPassLevelDialog.ccbi",md5:"9f0f5de6c9fecc34775a63e828cd6c7a"},{file:"res/image/720x1280/LuckyPassLevelXcx.ccbi",
md5:"57ffd4afc5e1e57ca650698c79b8e9fc"},{file:"res/image/720x1280/mail.plist",md5:"6f83d79b630fcfe6ae61f53339e73dcd"},{file:"res/image/720x1280/mail.png",md5:"81019d03356595c0e23394f8319148f7"},{file:"res/image/720x1280/MailCenterLayer.ccbi",md5:"0adf965a55ae2e0291f45505e6bdf791"},{file:"res/image/720x1280/MailFriendHeadItem.ccbi",md5:"12f1d409d48e49cf621b04cb65bbb82b"},{file:"res/image/720x1280/MailFriendMsg.ccbi",md5:"f4dbb4337a9c53bf4c758f0a82fc6179"},{file:"res/image/720x1280/MailFriendMsgItem.ccbi",
md5:"c8512a3c180dbcaa229d1c43929c8919"},{file:"res/image/720x1280/MailNoticeMsg.ccbi",md5:"367df9821d095a810b3dc798cdea83dd"},{file:"res/image/720x1280/MailNoticeMsgItem.ccbi",md5:"ddd58cc51b9ffe6d1bd44511ebe0db23"},{file:"res/image/720x1280/MailSystemMsg.ccbi",md5:"fcbf3a6bd3873340867c389528b5b84e"},{file:"res/image/720x1280/MailSystemRewardItem.ccbi",md5:"409d95bf306a97218f2d81cc8dad5b80"},{file:"res/image/720x1280/mainui.plist",md5:"2e67f8db65bc76ceab58716e2aae5106"},{file:"res/image/720x1280/mainui.png",
md5:"a89f95453f84512c94d4f44942bf04a3"},{file:"res/image/720x1280/map1_FountainPool.json",md5:"45c040273371d0ebfa5c2efe5524600e"},{file:"res/image/720x1280/map4_windmill.json",md5:"a5f7719994237543096b249f0b55f12f"},{file:"res/image/720x1280/map5_catfisher.json",md5:"04233dbfd8477e0f5761018b4d2d71d3"},{file:"res/image/720x1280/map_anim.atlas",md5:"ea3a86ef65ce8d0b684f881686c467c5"},{file:"res/image/720x1280/map_anim.png",md5:"9c93ebfde10746c3d0de06c19406e258"},{file:"res/image/720x1280/map_cell_effect.png",
md5:"bc90f3572d9ffac926a39cec0d5b3016"},{file:"res/image/720x1280/mapBgOpt.jpg",md5:"4fe5a5cce91221257b47cc112bbb6ea2"},{file:"res/image/720x1280/MenuItem.ccbi",md5:"0aab522a19360ab33a095c83a0ad1444"},{file:"res/image/720x1280/MilestoneItem.ccbi",md5:"447ff92ebcf655a242ea6970f05d5514"},{file:"res/image/720x1280/NewFeatureLevelDialog.ccbi",md5:"9ccb10bb3fcc4a6f775c797e35d5e3af"},{file:"res/image/720x1280/NewFeatureLevelXcx.ccbi",md5:"959a07d4d7a059626c02aeede708ca9b"},{file:"res/image/720x1280/niudan.atlas",
md5:"88644e2a4a25c6843ff445ef91d03004"},{file:"res/image/720x1280/niudan.json",md5:"80f699e5a9c023fa298947cc1fc083d9"},{file:"res/image/720x1280/niudan.png",md5:"dc2d7a2c0c4911d706eeecd12a80abcd"},{file:"res/image/720x1280/No1InFriendsDialog.ccbi",md5:"ba2cd6a2ee036157dc3e4f9057bdcefa"},{file:"res/image/720x1280/novice.plist",md5:"12661394bb759188f1ef105974edeb3b"},{file:"res/image/720x1280/novice.png",md5:"a92b09510c983b170303e274c5b268f1"},{file:"res/image/720x1280/NoviceGiftPack.ccbi",md5:"f6a0375d6bd16ec452aa6b6bb1820062"},
{file:"res/image/720x1280/NoviceTipDialog.ccbi",md5:"68f9dc0a7dc605733335bf1045caf1c4"},{file:"res/image/720x1280/num_blue_score.fnt",md5:"0f6452f834c5263a847e04e22988f816"},{file:"res/image/720x1280/num_blue_score.png",md5:"4ad079137ddc579016f65518d650ee51"},{file:"res/image/720x1280/num_feed_yellow.fnt",md5:"6e8c4aaf4c17b5bb4d5aec590753980a"},{file:"res/image/720x1280/num_feed_yellow.png",md5:"8f86739f634cae887feedc83218f261f"},{file:"res/image/720x1280/num_greenbutton.fnt",md5:"6f0b1e991cf4d2c1f1344948fa90687d"},
{file:"res/image/720x1280/num_greenbutton.png",md5:"b437e7a5b4be5e225acb78c740dd7801"},{file:"res/image/720x1280/num_jianbianblue.fnt",md5:"d59685f2acd8b91863873f7e9bb1e330"},{file:"res/image/720x1280/num_jianbianblue.png",md5:"269b1235d3367174356a8f7632b5a531"},{file:"res/image/720x1280/num_jianbianyellow.fnt",md5:"df64ed661acb26141ecbeee1f793d3cd"},{file:"res/image/720x1280/num_jianbianyellow.png",md5:"5ab68a4321a52b94e69544dfecfac341"},{file:"res/image/720x1280/num_kitchen_blue.fnt",md5:"267f461e5e55a241acccc929f8644aa8"},
{file:"res/image/720x1280/num_lianjishuzi.fnt",md5:"19980192b9881c1cb697dee04643853b"},{file:"res/image/720x1280/num_lianjishuzi.png",md5:"e40dd7d76466d04e23c4e23f6542d60c"},{file:"res/image/720x1280/num_orange_ligtht.fnt",md5:"aa5c4285cfd6b96371730b61f5ebfd05"},{file:"res/image/720x1280/num_orange_ligtht.png",md5:"c7ed051cb0c2388f5476cabb710dd3ea"},{file:"res/image/720x1280/num_paragraph_white.fnt",md5:"f007b9d517c1010fd6a8b96d3d60773d"},{file:"res/image/720x1280/num_paragraph_white.png",md5:"953caab6fa6c5de20e66c109971c7a87"},
{file:"res/image/720x1280/num_score_white.fnt",md5:"3cf75f15af88cb305dbfe993642eb93a"},{file:"res/image/720x1280/num_score_white2.fnt",md5:"c5c9cbdebe48e3d0f973696e9c7e3a18"},{file:"res/image/720x1280/num_score_white3.fnt",md5:"a008a1bc4a483b838d424231ca3c36a4"},{file:"res/image/720x1280/num_scoreyellow.fnt",md5:"fbb0a871a8182b7c62cd3a2ecc34ca66"},{file:"res/image/720x1280/num_scoreyellow.png",md5:"047d5640e02511a4c594c26aa546c477"},{file:"res/image/720x1280/num_shuliang.fnt",md5:"b9d39104c872bdedcddbfe29bc2e9e2c"},
{file:"res/image/720x1280/num_shuliang.png",md5:"add9aa273ff8df5c825c452e92f0145a"},{file:"res/image/720x1280/num_tongyongwuxiaoguo.fnt",md5:"62cdb8671dc5312bdb315291a7487c3e"},{file:"res/image/720x1280/num_tongyongwuxiaoguo.png",md5:"fa1b4ace7c7df3b738820c62f21ec6c7"},{file:"res/image/720x1280/num_zonghebutton.fnt",md5:"48828c16951c0380461f9d3d377c675b"},{file:"res/image/720x1280/num_zonghebutton.png",md5:"db4622a9442f2b3e816ae1cf4f7cb0b0"},{file:"res/image/720x1280/NumberInput.ccbi",md5:"df3e1eddec45c624288f5224154f6433"},
{file:"res/image/720x1280/OneGiftPack.ccbi",md5:"c2490909b4945e446bdd87f098ac1ac5"},{file:"res/image/720x1280/open.atlas",md5:"88ba6916818ce7cacf7a27c2633161f0"},{file:"res/image/720x1280/open.json",md5:"a61c304dce9eb8a9a99d35bea04d82af"},{file:"res/image/720x1280/open.png",md5:"d5c2cb7852cd9e99b59d0d4827981332"},{file:"res/image/720x1280/panel_tip_bg.png",md5:"a96e3457ff8eae8e78c70f32a0cc87b9"},{file:"res/image/720x1280/panel_tl_reward_info.png",md5:"6c8a3029ac28f7bc9c97ba78e56cab82"},{file:"res/image/720x1280/panels.plist",
md5:"f758715f879d46604fcb017da3b4c7cd"},{file:"res/image/720x1280/panels.png",md5:"89266fdfa9ed8656ae5b74dc4b16b0bf"},{file:"res/image/720x1280/paopao.png",md5:"c07dd321994ba202c8e6b8544160ef59"},{file:"res/image/720x1280/Pass15LevelsDialog.ccbi",md5:"34286ecf4963a364dcd5a7cdc23d1b2c"},{file:"res/image/720x1280/Pass15LevelsXcx.ccbi",md5:"5bc24b827f4fef560e1a10347fc9bb62"},{file:"res/image/720x1280/PassAfterManyFailedDialog.ccbi",md5:"1148774558fbf392e73bc1ebff645390"},{file:"res/image/720x1280/PassAfterManyFailedXcx.ccbi",
md5:"450993096bc1bcfcdbef4b504b79a79b"},{file:"res/image/720x1280/PassLevelBeyondMillionDialog.ccbi",md5:"6066591065fc92a8cd7624a435c92098"},{file:"res/image/720x1280/pet_cushion.png",md5:"4bdc2f2a022185b2d228dd7e920f4d93"},{file:"res/image/720x1280/pet_dialog_fg.png",md5:"4962a495cd380b621f3aef7bd4812e07"},{file:"res/image/720x1280/pet_equip_txt_equip.png",md5:"625ed756634bb81597988fa54c4a9447"},{file:"res/image/720x1280/pet_equip_txt_unlock.png",md5:"51705b745a307fc47bf4076d752e2f7d"},{file:"res/image/720x1280/Pet_Hall_Lock.png",
md5:"88c53716daa58ab8b6a4ba6bfe397c65"},{file:"res/image/720x1280/Pet_Hall_Pet1.png",md5:"4b559750f40b2eff4da6a42232af4326"},{file:"res/image/720x1280/Pet_Hall_Popcorn.png",md5:"7d95beeb0225a0b13fc0975c2dd866b4"},{file:"res/image/720x1280/pet_hall_stage_skel.atlas",md5:"1b10072cf2e825bf6e0de4a564fd483b"},{file:"res/image/720x1280/pet_hall_stage_skel.json",md5:"2fcc55e59abf2e7358604ff55cbb1ddf"},{file:"res/image/720x1280/pet_hall_stage_skel.png",md5:"a30dc7383f1551fe73a3a7c8ea1d8872"},{file:"res/image/720x1280/PetAdoption.ccbi",
md5:"7524b846af4aec625ccb6df40634f802"},{file:"res/image/720x1280/petadoption.plist",md5:"8d945f9123d924b55e245f75b8f0d333"},{file:"res/image/720x1280/petadoption.png",md5:"5023593a8be307b77f09aa071580e0fb"},{file:"res/image/720x1280/PetAndPropPart.ccbi",md5:"cd1f71c7f43b044ce494d8466c2866ca"},{file:"res/image/720x1280/PetByEquipDialog.ccbi",md5:"f38a7837e0bac05959cdf77ef576a535"},{file:"res/image/720x1280/PetChooseItem.ccbi",md5:"0f8532139f4c8a40401ba77c7c43cbc3"},{file:"res/image/720x1280/PetDetailItem.ccbi",
md5:"dfc5b7af05180861faaf8665467b6fac"},{file:"res/image/720x1280/PetDetails.ccbi",md5:"57ecf57df46e5cb47fee10e23db85d4d"},{file:"res/image/720x1280/PetEquipDialog.ccbi",md5:"bf457ce98ffd996508d06e16b9828a64"},{file:"res/image/720x1280/PetEquipInfoDialog.ccbi",md5:"89c3b14fd716436dbc3890af0da95a3a"},{file:"res/image/720x1280/PetEquipInfoDialogEN.ccbi",md5:"a08c1f095ee366bc08d816382cfdf193"},{file:"res/image/720x1280/PetEquips.ccbi",md5:"acd13090da52159c8fc03f2cfe42265f"},{file:"res/image/720x1280/PetEquipsHelp.ccbi",
md5:"7e7f95522af4082bdb4da7aaddb56f7a"},{file:"res/image/720x1280/PetEquipsItem.ccbi",md5:"8fd11edb37fe1fc881cb7fa5f53361e7"},{file:"res/image/720x1280/PetEquipsUnlock.ccbi",md5:"3a776b86029a7bc57bc788a8542dcde4"},{file:"res/image/720x1280/petEquipUI.plist",md5:"2350211b3fe3357fbd38e16166e50e28"},{file:"res/image/720x1280/petEquipUI.png",md5:"d3e6d5d7a3b72257810a22f42c629ee8"},{file:"res/image/720x1280/PetGetDialog.ccbi",md5:"73c220f33aaa2b61f11db02833db9349"},{file:"res/image/720x1280/PetHall.ccbi",
md5:"a93d629724a03f5bda4b5a12024595a3"},{file:"res/image/720x1280/PetHall_BG_1.jpg",md5:"1600c67278c6173621edeaa463c0e855"},{file:"res/image/720x1280/PetHall_BG_2.jpg",md5:"f1d1f8be7f2b59a0167793bd2fbfc9da"},{file:"res/image/720x1280/PetHall_BG_3.jpg",md5:"3af9f86b452018cbe19201657c669c2e"},{file:"res/image/720x1280/PetHallItem.ccbi",md5:"386b232e533929e6ea35075e2adbb40d"},{file:"res/image/720x1280/PetHallItemPet.ccbi",md5:"f33852cae2e5284a8c90c007c97b2171"},{file:"res/image/720x1280/PetHallItemUser.ccbi",
md5:"5be92f4a61b5b58a8d962b67b129adf8"},{file:"res/image/720x1280/PetHouse.ccbi",md5:"9bfaa02b083dedcbd0285d0cd38a1d6d"},{file:"res/image/720x1280/PetHouseDetails.ccbi",md5:"af63d68a728b04dd961e814afec6c29f"},{file:"res/image/720x1280/PetHouseEquip.ccbi",md5:"6cd6758a592d8aae56676f12754a4fa5"},{file:"res/image/720x1280/PetHouseEquipItem.ccbi",md5:"da316ba7b02ffcbe179597e95445ab3a"},{file:"res/image/720x1280/PetInfoDialog.ccbi",md5:"0889248ecc97a488bd82d53264c874ae"},{file:"res/image/720x1280/PetLevelUp.ccbi",
md5:"b2110a844ae690ba9fcfadabf047b607"},{file:"res/image/720x1280/PetLevelUp10Dialog.ccbi",md5:"bc8cfc50bc8099e0e3a04790fa697122"},{file:"res/image/720x1280/PetLevelUpReward.ccbi",md5:"96e6e8cdee2cbb26922d93b9e40db677"},{file:"res/image/720x1280/PetLevelUpRewardXcx.ccbi",md5:"6c6c9fb6abc228708314c10aafc42802"},{file:"res/image/720x1280/pets.plist",md5:"37d5493c21d98a59013a7710e8627977"},{file:"res/image/720x1280/pets.png",md5:"ebc5c50ff2c070f7db376e684dd7a4d6"},{file:"res/image/720x1280/PetSkillDialog.ccbi",
md5:"6ac0ded16cd63afd05646d2c66a9bfdf"},{file:"res/image/720x1280/PetSkillIconClip.ccbi",md5:"44db79cb8deb5a2acc4b14e39bdc7f28"},{file:"res/image/720x1280/popcorn.plist",md5:"7cc62b31c9d10ed14f512ca1f4a89063"},{file:"res/image/720x1280/popcorn.png",md5:"61421270eb3a93ff09635a5be3f54a76"},{file:"res/image/720x1280/popcorn2.plist",md5:"f786c2169c47a5e529bf5588eee12258"},{file:"res/image/720x1280/popcorn2.png",md5:"43b5efd14c84cbcb969407a74ba92d47"},{file:"res/image/720x1280/popcorn_share1_txt.png",
md5:"e01b4b6ca04717f2c35eab00bab9d972"},{file:"res/image/720x1280/popcorn_share2_txt.png",md5:"783e05faf91bbb4b7bdf413ccd8a5e2a"},{file:"res/image/720x1280/popcorn_share_level_bg.png",md5:"bfe079077fcd9389bb4adcb5d1dfc97f"},{file:"res/image/720x1280/popcorn_txt_buy_shell.png",md5:"abbd2a621817ce938fe0c10aeca9593c"},{file:"res/image/720x1280/popcorn_txt_defender.png",md5:"592d70f1808f7a989a7016ad5636b129"},{file:"res/image/720x1280/popcorn_txt_detail.png",md5:"0d9fec17d7a0b078f7a0392c432871fd"},{file:"res/image/720x1280/popcorn_txt_history.png",
md5:"f57f3f11ba42cd672739e60f81c88728"},{file:"res/image/720x1280/popcorn_txt_level_up.png",md5:"8f0179f2788ccad9cc24700bc2d19418"},{file:"res/image/720x1280/popcorn_txt_level_up_success.png",md5:"778cb62a5e8acb91fe866d53332234bd"},{file:"res/image/720x1280/popcorn_txt_LevelInfo.png",md5:"a87326dbba5fcc387cd9cb95fe2644ee"},{file:"res/image/720x1280/popcorn_txt_popcorn.png",md5:"14ba227cd94ca8df7b17bc6ce21e3f17"},{file:"res/image/720x1280/popcorn_txt_SelectLevel.png",md5:"62959c90445ba0d7dde5ec0055e5f376"},
{file:"res/image/720x1280/popcorn_txt_title_3q.png",md5:"298b0474f4834c15caa93ec0f93225af"},{file:"res/image/720x1280/PopcornChallengeClearDialog.ccbi",md5:"b32f0dd4b444fa52fb48062960ab5361"},{file:"res/image/720x1280/PopcornChallengeDialog.ccbi",md5:"79cd636ace3e0d7ac58acae73f2e6a77"},{file:"res/image/720x1280/PopcornChallengeFailedDialog.ccbi",md5:"c38172afa96bdbbd9780887d41cb49fe"},{file:"res/image/720x1280/PopcornDialog.ccbi",md5:"8613d441f673a125d00d58f4ade27652"},{file:"res/image/720x1280/PopcornHistoryDialog.ccbi",
md5:"5126fc072594d900d45f5c262f17ae8e"},{file:"res/image/720x1280/PopcornHistoryDialogDefender.ccbi",md5:"7f79bc5a4130555fc117c39947298071"},{file:"res/image/720x1280/PopcornHistoryDialogHistory.ccbi",md5:"0cd8fab6b1d7a1a5453ccc8cb824029c"},{file:"res/image/720x1280/PopcornHistoryItem.ccbi",md5:"5af96de3cc1468927b9f3343f5442e20"},{file:"res/image/720x1280/PopcornHistoryItemDefender.ccbi",md5:"117fc92f0eb07d8fa1fa7eca885bfc4c"},{file:"res/image/720x1280/PopcornHistoryItemDefenderPast.ccbi",md5:"4b46ec72ee025d5571cd64385993a9dc"},
{file:"res/image/720x1280/PopcornInfoDialog.ccbi",md5:"0d87d8c280abf3345597abce435f88dd"},{file:"res/image/720x1280/PopcornLevelUpDialog.ccbi",md5:"3d2b1cb8ac8c3d9502df7495ccea4f7c"},{file:"res/image/720x1280/PopcornLevelUpSuccessDialog.ccbi",md5:"3e45e32a8fa27c86c73dd3f4665b7528"},{file:"res/image/720x1280/PopcornSelectDefenderDialog.ccbi",md5:"41f53ef853188c645bca0a5a5aef31a4"},{file:"res/image/720x1280/PopcornSelectLevelDialog.ccbi",md5:"a1c78b03d8f9107379947377b8512986"},{file:"res/image/720x1280/PopcornShareLevelDialog.ccbi",
md5:"7f0aeca0b447ae8b6be4085a7af2807f"},{file:"res/image/720x1280/PopcornShellDialog.ccbi",md5:"5a9d83452a098ffc99041227b92bd1c4"},{file:"res/image/720x1280/PopcornThankDialog.ccbi",md5:"f1e1fb1fa48b902345d40b6f36b68e7e"},{file:"res/image/720x1280/PrizeCup.ccbi",md5:"88a0942385e90719f12f883eff84206e"},{file:"res/image/720x1280/PrizeCupItem.ccbi",md5:"3040be9f137af941bc30b01f767a5d47"},{file:"res/image/720x1280/prop.plist",md5:"63e5b2887e1d9fe2237b329f086768be"},{file:"res/image/720x1280/prop.png",
md5:"d038bdc6553660ac9a20103cf978673e"},{file:"res/image/720x1280/prop_tip_use.png",md5:"76db75df8cc011de0ea7f40cf89e96d9"},{file:"res/image/720x1280/prop_title_11.png",md5:"f4b0099d318f2293576db1858c10d8cf"},{file:"res/image/720x1280/prop_title_11001.png",md5:"4adf3337f5d2ea23f2ef385e4d6bb2b4"},{file:"res/image/720x1280/prop_title_11002.png",md5:"8fb8ca22a9924a072c67ac01824f9934"},{file:"res/image/720x1280/prop_title_11003.png",md5:"4e567efab06eb7f6927b95c66d91f3de"},{file:"res/image/720x1280/prop_title_11004.png",
md5:"7a0743a4a64908620083712c8336f8b3"},{file:"res/image/720x1280/prop_title_11005.png",md5:"62522a4aa6ffe5c02a498b02e0aa7a94"},{file:"res/image/720x1280/prop_title_11006.png",md5:"038f909a9fb5884b0e34c9911b7b9009"},{file:"res/image/720x1280/prop_title_11009.png",md5:"4cf994d6e82d5b61d5eba2fd33d26da8"},{file:"res/image/720x1280/prop_title_11010.png",md5:"34490802cf674075bef0bbdf06d894af"},{file:"res/image/720x1280/prop_title_11011.png",md5:"0d1775a7790e34b21f1f3543c9e22548"},{file:"res/image/720x1280/prop_title_11012.png",
md5:"3942497c6608043805a74edcd3ae17c5"},{file:"res/image/720x1280/prop_title_15.png",md5:"94894714ff99db1c1cd5d9d3c7a34915"},{file:"res/image/720x1280/prop_title_2101.png",md5:"2675a588459a967fe1c25839f01cbd06"},{file:"res/image/720x1280/prop_title_2102.png",md5:"5f66718bb70d950e980bc083d8a1a7e3"},{file:"res/image/720x1280/prop_title_2103.png",md5:"fdac5b98a881420fd9d1fea5389c9873"},{file:"res/image/720x1280/prop_title_2104.png",md5:"28e1f29da329a6ba6f6b4755ffcd19b3"},{file:"res/image/720x1280/prop_title_2114.png",
md5:"bc7297d2a7d71bc80c2a464a5cfa0fa2"},{file:"res/image/720x1280/publish_QRCode_100.png",md5:"2c3bc927821525405a9ec2f1f3fd198d"},{file:"res/image/720x1280/qqCenterBg.png",md5:"bef950fb620f003409b3846a16052a0a"},{file:"res/image/720x1280/QQCenterRightDialog.ccbi",md5:"fb3979bef1e470d514f218d1f2801c8f"},{file:"res/image/720x1280/qqVip.plist",md5:"914cb267f5dec77afabbae905bd4f275"},{file:"res/image/720x1280/qqVip.png",md5:"b056cbff2c64a16b78a3cebfbe69e1ae"},{file:"res/image/720x1280/QQVipDialog.ccbi",
md5:"628876ca1223b5fbe35da4ad29b7ff62"},{file:"res/image/720x1280/QueryDialog.ccbi",md5:"79f2651a2bc1bda5c081b8d5a3e6a937"},{file:"res/image/720x1280/rain_effect.plist",md5:"11ace5f46c8baaf53d669680876cc185"},{file:"res/image/720x1280/RankinWorld1000Dialog.ccbi",md5:"250309b7e013d0b52f2b2be84ae6fb13"},{file:"res/image/720x1280/RankinWorld1000Xcx.ccbi",md5:"a1cb0fd7304e205669419e49407005ee"},{file:"res/image/720x1280/RankListFriendItem.ccbi",md5:"41f416ca24597de473b957e645174e18"},{file:"res/image/720x1280/RankListFriendLayer.ccbi",
md5:"00118188e712e3c9ae7bbf0c52cdf06d"},{file:"res/image/720x1280/RankListLayer.ccbi",md5:"3c9d1ce139189ef1b6f0cf43b3a36f4e"},{file:"res/image/720x1280/RankListWorldItem.ccbi",md5:"0d35434db3d20b420b7da98a96f45639"},{file:"res/image/720x1280/RankListWorldLayer.ccbi",md5:"94a4e202ee8979a4e2d01f0b4048f10d"},{file:"res/image/720x1280/redpack.plist",md5:"bec2a50c09349b269fc6e18ed6975999"},{file:"res/image/720x1280/redpack.png",md5:"c1628a49b6ad8b288289bc7e059bccdf"},{file:"res/image/720x1280/RedPackItem.ccbi",
md5:"80487370393439d71d19f08758457703"},{file:"res/image/720x1280/RedPackLayer.ccbi",md5:"09a1dba666abfb503b70d87f8bf8b6cf"},{file:"res/image/720x1280/ReloginDialog.ccbi",md5:"89b145559797fcede332682a9b6c5eed"},{file:"res/image/720x1280/request.plist",md5:"ac2280abfc685b69ccbfdb7e7d7b2f35"},{file:"res/image/720x1280/request.png",md5:"c058c0a328a11aa39824baee72661a99"},{file:"res/image/720x1280/request_title.png",md5:"44dda4574fee4e12092a642c8766d854"},{file:"res/image/720x1280/ResUpdate.ccbi",md5:"160303baffb34fc7dd501ae184e70db6"},
{file:"res/image/720x1280/score_num_purple.fnt",md5:"95a2198c2f26151cafe2478d49dc535d"},{file:"res/image/720x1280/score_num_purple.png",md5:"b7da478af9e66baf7a165ad60d952934"},{file:"res/image/720x1280/ScoreBeyondFriendDialog.ccbi",md5:"3796c39ed06f9fbaf5b690fc21361f41"},{file:"res/image/720x1280/scorefloor.png",md5:"37d5b865e74e76b19ec78c57ae74d199"},{file:"res/image/720x1280/SelectFriendItem.ccbi",md5:"a00c12a71fd8eafea601dedc9c7d9671"},{file:"res/image/720x1280/SelectFriendListLayer.ccbi",md5:"8a1958d38bf199c0645a70b90a1e6355"},
{file:"res/image/720x1280/sendDesktop_h5qq_bg.png",md5:"4f4f6385a4ba8ba703f8b7b95fc466c1"},{file:"res/image/720x1280/SendDesktopItem.ccbi",md5:"75a409bc32eed66340ad82c5fbf91808"},{file:"res/image/720x1280/SendDesktopPlayer.ccbi",md5:"f6e457e120c65d2930ef49d314de6908"},{file:"res/image/720x1280/SendDesktopQQAndroid.ccbi",md5:"16aef27e8b01fb1707c57cd954b39b96"},{file:"res/image/720x1280/SendDesktopQQiOS.ccbi",md5:"16aef27e8b01fb1707c57cd954b39b96"},{file:"res/image/720x1280/SendDesktopWXAndroid.ccbi",
md5:"5cb8e087826ad4f45ed74605590c842e"},{file:"res/image/720x1280/SendDesktopWXiOS.ccbi",md5:"2bf6ec9b6993f91132e99cbf92914fde"},{file:"res/image/720x1280/SendDesktopXCXAndroid.ccbi",md5:"4585f48bbb93516afb8e596f92ec40e6"},{file:"res/image/720x1280/SendDesktopXCXiOS.ccbi",md5:"eaaff479a49194515c555eea01a79367"},{file:"res/image/720x1280/SendShareWXiOS.ccbi",md5:"026f2c6188c64d6bced89bc36c3e76cd"},{file:"res/image/720x1280/share.png",md5:"5788c648c5965fd26eb81b7d33e263f3"},{file:"res/image/720x1280/share_car_30002.png",
md5:"f5fc064cd1e23488cd8aa55554de46e3"},{file:"res/image/720x1280/share_car_30003.png",md5:"3eea9fa2aca131863ab90381e2535449"},{file:"res/image/720x1280/share_car_30004.png",md5:"d24bcfbb943f914a1c7e84d719e8f5ce"},{file:"res/image/720x1280/share_car_30005.png",md5:"e68f4435fe24f45d8303001be6384ab1"},{file:"res/image/720x1280/share_car_30006.png",md5:"ad669bc73f0742e5df2847a50b181651"},{file:"res/image/720x1280/share_car_30007.png",md5:"dc69b624fe4665a352f2eb769ea2c80f"},{file:"res/image/720x1280/share_car_30008.png",
md5:"cdad975064b75b6694bc3ca56a780b60"},{file:"res/image/720x1280/share_car_30009.png",md5:"1291821840ef2e1f72b8d1e0937f1ca5"},{file:"res/image/720x1280/share_car_30010.png",md5:"bfdd6c927e5a5962225152c134b02216"},{file:"res/image/720x1280/share_car_30011.png",md5:"087db01a6218624ff40857080f131cf0"},{file:"res/image/720x1280/share_car_30012.png",md5:"8b570e472695854125674453068189ee"},{file:"res/image/720x1280/share_dialog_3.png",md5:"a3beb61652f32979eaf43297b819a16c"},{file:"res/image/720x1280/share_dialog_4.png",
md5:"559f701b2307a8139927ec1bf116c6fd"},{file:"res/image/720x1280/share_dialog_5.png",md5:"8483a73089e0fe282fb1fda3292aac3b"},{file:"res/image/720x1280/share_dialog_6.png",md5:"d89c1e1bf2c6467969bedb8a835ab84f"},{file:"res/image/720x1280/share_h5_ios_bg.png",md5:"1eb97c3b4b6d0115beb781e6cb13baf1"},{file:"res/image/720x1280/share_level_img.png",md5:"176aca3946e14439d38932ae293a9c5a"},{file:"res/image/720x1280/share_pet_20001.png",md5:"03c4498778bb8fbea80f7d4613f57995"},{file:"res/image/720x1280/share_pet_20002.png",
md5:"365ba1da899386ba925d1ff979e3c72a"},{file:"res/image/720x1280/share_pet_20003.png",md5:"c1bd4497018634674727a9666631d024"},{file:"res/image/720x1280/share_pet_20004.png",md5:"6ff568a2ac2c67d3720470b43be23df9"},{file:"res/image/720x1280/share_pet_20005.png",md5:"0e8b6366980d191717d8dad0f9a98f1f"},{file:"res/image/720x1280/share_pic.jpg",md5:"f057e878c4c9ba57fc52d4a32f4251ee"},{file:"res/image/720x1280/share_pic_pk.jpg",md5:"6234658bd6e790d5cdaf5a3abf5d049c"},{file:"res/image/720x1280/ShareAllStarPassLevel.ccbi",
md5:"81081c3784392b34346229a47a510855"},{file:"res/image/720x1280/ShareCamera.ccbi",md5:"7b889299f4432026a7bb9156146c55f4"},{file:"res/image/720x1280/ShareGetNewPet.ccbi",md5:"4cba82f04a05c2ee7d919d550483fd70"},{file:"res/image/720x1280/ShareIn5PassLevel.ccbi",md5:"be256212c8f613ac19b348af06af42fa"},{file:"res/image/720x1280/ShareKit.ccbi",md5:"188bec005c2697b98dee203a4ec667f0"},{file:"res/image/720x1280/shareKit.plist",md5:"0f8bfb3a004cace6cca3059409b91eec"},{file:"res/image/720x1280/shareKit.png",
md5:"81eb2000adf9df9f6ccbd7f119e59d28"},{file:"res/image/720x1280/ShareKitKitItem.ccbi",md5:"2f8da60db42c3aabbb1713f4c9afc9c9"},{file:"res/image/720x1280/ShareKitKitItemWX.ccbi",md5:"d42ee0b2da4e1f8212d23cb9b601bc63"},{file:"res/image/720x1280/ShareKitRule.ccbi",md5:"d71dbe74da0f3237ec9a10740192ecf8"},{file:"res/image/720x1280/ShareKitTip.ccbi",md5:"cca1ddb4e1be5eb2af829b314313f051"},{file:"res/image/720x1280/ShareKitWX.ccbi",md5:"530cdf56133c6df72ff300239be8860d"},{file:"res/image/720x1280/ShareLayer1002.ccbi",
md5:"1eb25608461c72b1b07b8ed4020e778f"},{file:"res/image/720x1280/ShareLayer1004.ccbi",md5:"05b4f629075bdb3e1a563d093175c0fc"},{file:"res/image/720x1280/ShareLayer1010.ccbi",md5:"d8854b86c34ea60f49e2b06eeaf1f88e"},{file:"res/image/720x1280/ShareLayer1016.ccbi",md5:"1aeb1de8d3312f99e9994a9ce089adad"},{file:"res/image/720x1280/ShareLayer1017.ccbi",md5:"8ab38d3adb0814642f3d8101f23f1602"},{file:"res/image/720x1280/ShareLayer1023.ccbi",md5:"6e1b4d12563f66cc1cb01d95a3f8b7c2"},{file:"res/image/720x1280/ShareLayer2008.ccbi",
md5:"ba4bacef470104da040afb2b096f8961"},{file:"res/image/720x1280/ShareLevel.ccbi",md5:"208ac6e98496a967f18ee55143316422"},{file:"res/image/720x1280/ShareLevelBeyondFriend.ccbi",md5:"68b8775713d3823859834eaec5fa4de0"},{file:"res/image/720x1280/ShareLuckyPassLevel.ccbi",md5:"b345ea74026bded855599a65b5bc23c6"},{file:"res/image/720x1280/ShareNewCarDialog.ccbi",md5:"029a85d4aaceeddb224fe5233be64fbf"},{file:"res/image/720x1280/ShareNewCarXcx.ccbi",md5:"03e7caaf0ef2a1d3dbdd028f9cf0baac"},{file:"res/image/720x1280/ShareNo1InFriends.ccbi",
md5:"e03aac2c6bfefad8365d5ba44ad77f03"},{file:"res/image/720x1280/SharePass15Levels.ccbi",md5:"92916f70e53a860ec091f7a555d8e78d"},{file:"res/image/720x1280/SharePassAfterManyFailed.ccbi",md5:"228454fac71a72963e757a7ac7c44da0"},{file:"res/image/720x1280/SharePetLevelUp10.ccbi",md5:"5b543b6c4a02dbd2007463010ee146e7"},{file:"res/image/720x1280/sharerank.plist",md5:"bdf9fc0f4bcce4c21d2d03ee8429f2a4"},{file:"res/image/720x1280/sharerank.png",md5:"39b7841deb9dab270b9363151dd0b6b5"},{file:"res/image/720x1280/ShareSigninAllDays.ccbi",
md5:"04a1a5d0bd809a5b036d5f83c3814b81"},{file:"res/image/720x1280/ShareUnlockNewLevel.ccbi",md5:"eb9edb613f7b3f7077d4416ed5e108ea"},{file:"res/image/720x1280/Shop.ccbi",md5:"8423932590ee85b25b18255a750010c9"},{file:"res/image/720x1280/shop.plist",md5:"f9abd4b2b46b09e44d2f2b04ad1b31ec"},{file:"res/image/720x1280/shop.png",md5:"0ce6c29a3800fda97ca71f0324e286ba"},{file:"res/image/720x1280/ShopDressItem.ccbi",md5:"565b3aa0f6adac6213d8bc63a4c48e58"},{file:"res/image/720x1280/ShopGemItem.ccbi",md5:"dc41cb7d06b8a6a62631c7a9a08de007"},
{file:"res/image/720x1280/ShopItemBuyDialog.ccbi",md5:"f5d4dda7a9db0709a35db2e80ea6175a"},{file:"res/image/720x1280/ShopKitItem.ccbi",md5:"bbdaa778b70e6d75cc08472d6fdc7953"},{file:"res/image/720x1280/ShopKitItem2101.ccbi",md5:"948a7ce1ee0021dad8af8d8a6c6b01b5"},{file:"res/image/720x1280/ShopKitItem2102.ccbi",md5:"b9ffc2a17d3510a69b2c01d9ea1e3bbc"},{file:"res/image/720x1280/ShopKitItem2103.ccbi",md5:"8b288278f71b092b6487f2b7be947bf6"},{file:"res/image/720x1280/ShopKitItem2104.ccbi",md5:"810ca78bb04334ec43aa661236140d3e"},
{file:"res/image/720x1280/ShopKitItem2105.ccbi",md5:"b026c39ab6059fe0a38ba16fddcf8258"},{file:"res/image/720x1280/ShopKitItem2106.ccbi",md5:"7747c26dd6a379c6004439ce9fa3e6ea"},{file:"res/image/720x1280/ShopPackBuyDialog.ccbi",md5:"ce209f69490298f58776690ef6c528a6"},{file:"res/image/720x1280/ShopProp.ccbi",md5:"35b6c543372927c6f6b00e34dfd358e9"},{file:"res/image/720x1280/ShopPropItem.ccbi",md5:"222f60536a7159a72c868021152c1f7e"},{file:"res/image/720x1280/ShopPropPreview.ccbi",md5:"c203fcde95b944524dd11c4cc3dfa3ba"},
{file:"res/image/720x1280/SignIn.plist",md5:"2d8ad7fa378158d512b90df7a6608cc4"},{file:"res/image/720x1280/SignIn.png",md5:"1480499daa7b2040beb86f3ddce962cb"},{file:"res/image/720x1280/SignIn_title.png",md5:"24c186ff19ed92713ae41ff86cc71c46"},{file:"res/image/720x1280/SigninAllDaysDialog.ccbi",md5:"04a1a5d0bd809a5b036d5f83c3814b81"},{file:"res/image/720x1280/SigninAllDaysXcx.ccbi",md5:"b69d0ca06455f3f3f9499c0e25429a77"},{file:"res/image/720x1280/SignInDialog.ccbi",md5:"b94429bf5678ca38b9b37fba246dcc48"},
{file:"res/image/720x1280/SignItem.ccbi",md5:"21965f6022801215da03d2363ad37336"},{file:"res/image/720x1280/skills.atlas",md5:"5889cd5a177d53a219e2095a6629d7b0"},{file:"res/image/720x1280/skills.json",md5:"ac1a9038ee8076e57346965122c1a01d"},{file:"res/image/720x1280/skills.png",md5:"68d4fb6749b4f5a350410f182b5b3274"},{file:"res/image/720x1280/slogen_completed.png",md5:"baef6f5c956f41a823431465dc0ef147"},{file:"res/image/720x1280/SmallParticle.plist",md5:"a071bfd27a37f2058c3697b30a95aebe"},{file:"res/image/720x1280/SmallParticle.png",
md5:"c5cbf91d290087bfbf5cb9cfc0731a92"},{file:"res/image/720x1280/SpeedinWorld1000Dialog.ccbi",md5:"1e002eb528a4a1b99a1a5913c3501b9e"},{file:"res/image/720x1280/star_boom.plist",md5:"7f2e6ccdd407029e209c998e87420934"},{file:"res/image/720x1280/star_flying.plist",md5:"673180e037845b43a41fa6b4e026f951"},{file:"res/image/720x1280/star_flying.png",md5:"c75ce8abc8f107a097cbde2ba9a24337"},{file:"res/image/720x1280/star_flying2.plist",md5:"c6ad8fb1473f5afe70bf1cec3790c5fa"},{file:"res/image/720x1280/star_flying3.plist",
md5:"1092a98cf15848b843b46942d07b1191"},{file:"res/image/720x1280/star_flying3.png",md5:"eab6a9cf037d73de053d7e75dba51c75"},{file:"res/image/720x1280/star_flying4.plist",md5:"9ca6bd372f5c1e67da39e87f468bd1b1"},{file:"res/image/720x1280/star_flying4.png",md5:"93b0f9b1cfdc54f92895fb3389e0d50a"},{file:"res/image/720x1280/star_flying5.plist",md5:"e973813b950c94bee890fde9071c3bda"},{file:"res/image/720x1280/start2.atlas",md5:"1cce6f0d6c1b201d915a6fa6660a0287"},{file:"res/image/720x1280/start2.json",md5:"0fab66604f60df101f2e5feae5b6b981"},
{file:"res/image/720x1280/start2.png",md5:"18afbb843e738b04f624102fb181af8d"},{file:"res/image/720x1280/start_cloud.atlas",md5:"d9dea49b2a037adb366eed997f6d0fd3"},{file:"res/image/720x1280/start_cloud.json",md5:"4ce9cf8e99f111e770a753028e78cae6"},{file:"res/image/720x1280/start_cloud.png",md5:"73967ed2793c6bcac225429e01ebf40b"},{file:"res/image/720x1280/StartGame.ccbi",md5:"9edaaaa1d9215ee9017b39a655480968"},{file:"res/image/720x1280/StartMenu.ccbi",md5:"97ec8cec91d88556ff94fdc9e7563298"},{file:"res/image/720x1280/startmenu.plist",
md5:"d27765bb7cef8ea51a7a979019e37ce6"},{file:"res/image/720x1280/startmenu.png",md5:"e147c6349a3acd9aba8ab4093caad90e"},{file:"res/image/720x1280/StartStoryMenu.ccbi",md5:"5239bd7b63d73871f20bd12e04baeae7"},{file:"res/image/720x1280/StartTarget.ccbi",md5:"4c9302c1bf33c40ef6a1aa0221f1f14b"},{file:"res/image/720x1280/std_h5_qq_android_bg.png",md5:"88ea71a91f66d50e8b89857ed044f57b"},{file:"res/image/720x1280/std_h5_qq_ios_bg.png",md5:"88ea71a91f66d50e8b89857ed044f57b"},{file:"res/image/720x1280/std_h5_wx_android_bg.png",
md5:"308af4cadf8163322b3f390b29921722"},{file:"res/image/720x1280/std_h5_wx_ios_bg.png",md5:"899bcbc215a24a7a534d1e623b498f36"},{file:"res/image/720x1280/std_xcx_android_bg.png",md5:"b93f727351e739596a4c3f099d7eb13c"},{file:"res/image/720x1280/std_xcx_ios_bg.png",md5:"7eef680512cc4c1cc70ed0d38d5ca9c7"},{file:"res/image/720x1280/StoryLayer.ccbi",md5:"c79e317a05481676afdc503239706b4e"},{file:"res/image/720x1280/sub_levelbg.png",md5:"3f59b038feb2dd5cb1553e457fa195f0"},{file:"res/image/720x1280/sub_number.png",
md5:"0753d2875c95aeff25c4ead355578a5b"},{file:"res/image/720x1280/sub_number_0.png",md5:"c771f396f309521588e0357327266e2f"},{file:"res/image/720x1280/sub_number_1.png",md5:"0cd03cf23680b8956e3f934bf1b6da94"},{file:"res/image/720x1280/sub_number_2.png",md5:"be772620cc4ad88aa7fa662a91ddca96"},{file:"res/image/720x1280/sub_number_3.png",md5:"fad5019578b93be25a6621d8d9a4b513"},{file:"res/image/720x1280/sub_number_4.png",md5:"32963205f6c9834f9c38164bc2b92744"},{file:"res/image/720x1280/sub_number_5.png",
md5:"c90bc9cd2f52f9d18908fdd494e60bde"},{file:"res/image/720x1280/sub_number_6.png",md5:"0a9885b77b0975a0b98edaa83d411cb4"},{file:"res/image/720x1280/sub_number_7.png",md5:"93fcdc0d54d5e15bd624c2fa1490c41b"},{file:"res/image/720x1280/sub_number_8.png",md5:"8faac849ff09f569cf94d0b9b83630fa"},{file:"res/image/720x1280/sub_number_9.png",md5:"032bc6e9cc0684e1b5555d14748ba809"},{file:"res/image/720x1280/sub_rankbarbg.png",md5:"08f039cace7585a4fc7cce3b26af6295"},{file:"res/image/720x1280/sub_rankbg.png",
md5:"3700a4ab320fc9bc384420bee6a41d8d"},{file:"res/image/720x1280/sub_sunshine.png",md5:"0a4626cde79c3156f268977bfa9576c7"},{file:"res/image/720x1280/target_plate.atlas",md5:"6ab7ac02e213cbddbbc99ba5a782e07d"},{file:"res/image/720x1280/target_plate.json",md5:"2e83a989ed616ef37f966a35e069b32b"},{file:"res/image/720x1280/target_plate.png",md5:"f31d95de61dc20a374c2106063d82420"},{file:"res/image/720x1280/TargetDialog.ccbi",md5:"e1aad9667ecefe30d302f2f9c7a45703"},{file:"res/image/720x1280/TargetNpcItem.ccbi",
md5:"4de5240d59376c186fe29dda4d81a531"},{file:"res/image/720x1280/task.plist",md5:"9f215ded16e6410132253cdc66a3e66e"},{file:"res/image/720x1280/task.png",md5:"c36330b5a64f8297a2f3eb0a9d51f7e6"},{file:"res/image/720x1280/task_flag.png",md5:"ac232afb206024ead65be70a3fc27f36"},{file:"res/image/720x1280/task_title.png",md5:"e084567501abf6530415052e64d3fa55"},{file:"res/image/720x1280/TaskLayer.ccbi",md5:"293d2adf692287af66b904997a869b3c"},{file:"res/image/720x1280/TestDialog.ccbi",md5:"ebd9692a27a4a66a8ec896b546b65bd6"},
{file:"res/image/720x1280/TimeChargeGift.ccbi",md5:"31af194bf6c639d09bbd5980679992b0"},{file:"res/image/720x1280/TimeLevel.ccbi",md5:"8ac931eb92d3c0aef566312b787d8b3e"},{file:"res/image/720x1280/timelevel.plist",md5:"b8ef4772649f99b3ec86f6de18913039"},{file:"res/image/720x1280/timelevel.png",md5:"28878dc7a6f6f0a2c54a5588680a0d3f"},{file:"res/image/720x1280/TimeLevelClear.ccbi",md5:"5dff17f7a2ee43a9e38459e3cdc1238f"},{file:"res/image/720x1280/TimeLevelLevelItem.ccbi",md5:"504c13ebe77f6facbb6b5a3fef6784c8"},
{file:"res/image/720x1280/TimeLevelLevelList.ccbi",md5:"5fd6a90e44126d1ec3de48489d78e57c"},{file:"res/image/720x1280/TimeLevelLevelMy.ccbi",md5:"dcafe747567b24620461a39d70a3672a"},{file:"res/image/720x1280/TimeLevelMyState.ccbi",md5:"1851542e638ad91569bf23f496b1aeab"},{file:"res/image/720x1280/TimeLevelMyTip.ccbi",md5:"e42fd4a5bfdfbb30740e86e2b842a771"},{file:"res/image/720x1280/TimeLevelNew.ccbi",md5:"e78ff8b2f4ec7195e5fb2f28144b407f"},{file:"res/image/720x1280/TimeLevelNewItem.ccbi",md5:"34c6bbe7286bed259e670d49be5ae3d8"},
{file:"res/image/720x1280/TimeLevelNoneState.ccbi",md5:"1cea6179744570c18e3c2a972d32c9d2"},{file:"res/image/720x1280/TimeLevelPassItem.ccbi",md5:"f240781897b49ccccea2c509f7286685"},{file:"res/image/720x1280/TimeLevelRewardXcx.ccbi",md5:"3b61119eeb2149e121eb9677a95460ac"},{file:"res/image/720x1280/TimeLevelStartGame.ccbi",md5:"ef51f730ce6853354a22a0bbfba6bebe"},{file:"res/image/720x1280/TimeShopGift.ccbi",md5:"515afff8fe2c2633a32d2f8fa3012226"},{file:"res/image/720x1280/TipDialog.ccbi",md5:"eb927e0f69063d8ec773fb4c18d57b84"},
{file:"res/image/720x1280/tips_3fish.png",md5:"12c1011ba1ed32ad457ea49da4a87990"},{file:"res/image/720x1280/tips_3ice.png",md5:"370a0281d968717ad30b165ec190dc14"},{file:"res/image/720x1280/tips_4fish.png",md5:"9426d1472d1a637006e117e51ae17c62"},{file:"res/image/720x1280/tips_5.png",md5:"1e9512996cbef1a7fb014314ddc4265f"},{file:"res/image/720x1280/tips_belt.png",md5:"fb1ed6b7ed8c93cbcd0dad20c62d583e"},{file:"res/image/720x1280/tips_belt_dir_switch.png",md5:"588ae436960d31ce943ed8aa86d52c1e"},{file:"res/image/720x1280/tips_belt_start_switch.png",
md5:"74385f5ca8a6f121bedaa1623dbe3a77"},{file:"res/image/720x1280/tips_block_basket.png",md5:"7d887ccdf9a90dec50bbb310af5087bc"},{file:"res/image/720x1280/tips_block_coco.png",md5:"900cfcaa698193bbbe2c3cbd27141d1c"},{file:"res/image/720x1280/tips_block_gun.png",md5:"002375287e806899091ee2abe7e369d7"},{file:"res/image/720x1280/tips_block_helmet.png",md5:"3f03c30f40ead0ce1609ed1496424da4"},{file:"res/image/720x1280/tips_block_honey.png",md5:"5dadc6e842db44676200f1c41d15798a"},{file:"res/image/720x1280/tips_block_ice.png",
md5:"a4b9f980e69b55c3fae891de58ab1045"},{file:"res/image/720x1280/tips_block_lock.png",md5:"96be9699486a7e154646eece76530acc"},{file:"res/image/720x1280/tips_block_stone.png",md5:"9a6b1ebfd7ac6ff0e123b08c13b521d7"},{file:"res/image/720x1280/tips_block_wood.png",md5:"8175dfd23a75cfc00bce8a6fb707f67d"},{file:"res/image/720x1280/tips_block_worm.png",md5:"0248b6ebd1ceb5a9e19eb69520f9a238"},{file:"res/image/720x1280/tips_effect_1.png",md5:"070635ac66f1fb65b1f8dfc9c7d4ce6b"},{file:"res/image/720x1280/tips_effect_2.png",
md5:"33c9d4137edd76cca7677bccd15160ae"},{file:"res/image/720x1280/tips_effect_3.png",md5:"b0fb06e05bb5d6bc36b10778da5fa48d"},{file:"res/image/720x1280/tips_effect_4.png",md5:"acae829f363dec447cfb733c96f578ad"},{file:"res/image/720x1280/tips_effect_5.png",md5:"0b39997c44c9794de45bd31600ab0731"},{file:"res/image/720x1280/tips_play_info.png",md5:"520bc433f2a437edd2033f4f8ac37fcd"},{file:"res/image/720x1280/tips_portal.png",md5:"ea3f737250ec125c65941afe1eb44686"},{file:"res/image/720x1280/tips_rainbow.png",
md5:"0ba9c74e4b3904ef477e604ce0df1f0b"},{file:"res/image/720x1280/tips_sign.png",md5:"b418a18cc83ed0a05e481428ba96e31d"},{file:"res/image/720x1280/tips_slide.png",md5:"a1e55dd1c91eead8c749827357679124"},{file:"res/image/720x1280/tips_tile_sand.png",md5:"5dadc6e842db44676200f1c41d15798a"},{file:"res/image/720x1280/tips_tile_wood.png",md5:"17dcfabd2684e9d1db0c0688eeb5697d"},{file:"res/image/720x1280/title_activity.png",md5:"5378a47341e2ee5757e7bcd5eedb1dd0"},{file:"res/image/720x1280/title_activity_10003.png",
md5:"2484f56dc95f6c00755b304bfb455fb6"},{file:"res/image/720x1280/title_add_friend.png",md5:"b0849194943b4a1b814f75e872bee321"},{file:"res/image/720x1280/title_adoption.png",md5:"03bd26e462f0cfa2bea0a3f3e3884283"},{file:"res/image/720x1280/title_bag.png",md5:"f39ab116e6f736381d8f9d0144eacb6e"},{file:"res/image/720x1280/title_conversion_code.png",md5:"d31992025fd0b78225a1690f62b02fce"},{file:"res/image/720x1280/title_Cool.png",md5:"c1b94cd380c0effd471cda392ebab3bd"},{file:"res/image/720x1280/title_game_tip.png",
md5:"bd3e019d72b901901ae14f07893235b8"},{file:"res/image/720x1280/title_hellp.png",md5:"55175f128de8ab4c5b983c37840e9be6"},{file:"res/image/720x1280/title_help_new.png",md5:"1ffaf501fca26fc85d90a8fcaf13be93"},{file:"res/image/720x1280/title_levelup_to.png",md5:"817f07e0bfb580a37fd6bb6342ebd8f7"},{file:"res/image/720x1280/title_lost.png",md5:"5eb876ad8493c4ea9fa44c37831ddb6a"},{file:"res/image/720x1280/title_myaccount.png",md5:"89ea782ae159dc568671e8df75d405af"},{file:"res/image/720x1280/title_myFriends.png",
md5:"2113707404ebc26f13286acfcd0e97d7"},{file:"res/image/720x1280/title_new_dress.png",md5:"6952edd4822a4c7ce5908ec9b5f5a446"},{file:"res/image/720x1280/title_order.png",md5:"69abf8706820c2fa6188ac18de7b0d91"},{file:"res/image/720x1280/title_pause.png",md5:"e5181dd4aeb41c946528d295eb4a52d4"},{file:"res/image/720x1280/title_pet_change_dress.png",md5:"c843e3437bbb5015280c41714a5cc17d"},{file:"res/image/720x1280/title_pet_equip_info.png",md5:"d940037305d63301d3ed5ca208f234b4"},{file:"res/image/720x1280/title_pet_select.png",
md5:"da1d5a3de441dae443a9e4406e2097ed"},{file:"res/image/720x1280/title_setting.png",md5:"29731754788d4f64abe4833df21dd75c"},{file:"res/image/720x1280/title_shop.png",md5:"84af3242efe3080571b744db09582e36"},{file:"res/image/720x1280/title_signin.png",md5:"3e0f3877104669c6844c919eb23e9433"},{file:"res/image/720x1280/title_skill_20001.png",md5:"c0ccf24e9dd13cb5111a4435f94847d5"},{file:"res/image/720x1280/title_skill_20002.png",md5:"cdb4356845552215704cf246c074fa8c"},{file:"res/image/720x1280/title_skill_20003.png",
md5:"ec37d2623d6b899c7ec377570ad5de18"},{file:"res/image/720x1280/title_skill_20004.png",md5:"a1b982d214a22fe365bf1d3bcf1ee5c0"},{file:"res/image/720x1280/title_skill_20005.png",md5:"bfc5af9966dc3c9d6caf18ed75ee54bb"},{file:"res/image/720x1280/title_step_over.png",md5:"c9a0ec0c88992b89fefc252afdf8f4ee"},{file:"res/image/720x1280/title_unlock.png",md5:"fbacd5710dadfb748c93ad7fe75eddb3"},{file:"res/image/720x1280/tools_image.atlas",md5:"f7c4b4439760fabd98c55a3b8bfbaddb"},{file:"res/image/720x1280/tools_image.png",
md5:"680169849f4c3fd0027ce713d2342163"},{file:"res/image/720x1280/tools_prop_11002.json",md5:"4c633d6b3e973dfb6017bb803da6fd80"},{file:"res/image/720x1280/tools_prop_11003.json",md5:"62376853eedb40464142c322f9daa4c1"},{file:"res/image/720x1280/tools_prop_11004.json",md5:"8175b31baf4ee219835d6a4ff0474f85"},{file:"res/image/720x1280/tools_prop_11012.json",md5:"49395949f2e46420abb86f1e5a170271"},{file:"res/image/720x1280/TutorialLayer.ccbi",md5:"2244e61da54ca2d35dcf9846f05ceb0c"},{file:"res/image/720x1280/TutorialTip_103_1.ccbi",
md5:"a596caad59ce22450bf57967dd934908"},{file:"res/image/720x1280/TutorialTip_11_1.ccbi",md5:"d4a77aed4c8025940cbf0056541be4e9"},{file:"res/image/720x1280/TutorialTip_13_1.ccbi",md5:"41715a5ff797558ddfcf0d4b3317be41"},{file:"res/image/720x1280/TutorialTip_15_1.ccbi",md5:"34686ecad447fc2903b4ea13c9082fed"},{file:"res/image/720x1280/TutorialTip_18_1.ccbi",md5:"41715a5ff797558ddfcf0d4b3317be41"},{file:"res/image/720x1280/TutorialTip_1_1.ccbi",md5:"3198094a20031f6ef6ac7560e54d173a"},{file:"res/image/720x1280/TutorialTip_21_1.ccbi",
md5:"9cc537514a90dee019e60ca5a4d02fbe"},{file:"res/image/720x1280/TutorialTip_28_1.ccbi",md5:"034dcfec11afdc0eb3abd6596ccbf7cf"},{file:"res/image/720x1280/TutorialTip_2_1.ccbi",md5:"34686ecad447fc2903b4ea13c9082fed"},{file:"res/image/720x1280/TutorialTip_37_1.ccbi",md5:"1dfd1f61385ddf1a36e628339bc56409"},{file:"res/image/720x1280/TutorialTip_38_1.ccbi",md5:"9cc537514a90dee019e60ca5a4d02fbe"},{file:"res/image/720x1280/TutorialTip_53_1.ccbi",md5:"ab08aa1c4ce0cd1fbb356cd949301c59"},{file:"res/image/720x1280/TutorialTip_5_1.ccbi",
md5:"0b191342f940bc9b6277da913e238aef"},{file:"res/image/720x1280/TutorialTip_67_1.ccbi",md5:"9fb031933255673cb896df0072ff634f"},{file:"res/image/720x1280/TutorialTip_7_1.ccbi",md5:"e31d143407b646bd769aef3db9612f5d"},{file:"res/image/720x1280/TutorialTip_9_1.ccbi",md5:"7f8eb7ffdd16da7fa480725b3fc85828"},{file:"res/image/720x1280/txt_activity_10001.png",md5:"0369f7291b595dd72f96a3c1eb3fff0e"},{file:"res/image/720x1280/txt_activity_10003.png",md5:"b03e2e775c1a3feef9e49e16674f6464"},{file:"res/image/720x1280/txt_activity_10004.png",
md5:"54e94e8e76a2350998ee8dbb0de27bde"},{file:"res/image/720x1280/txt_activity_10005.png",md5:"ab46a710ece09650ad2e3871f9d2cced"},{file:"res/image/720x1280/txt_activity_10006.png",md5:"dddf684fbb1fefcdeedf41c2052a594f"},{file:"res/image/720x1280/txt_add_all.png",md5:"15a4d529ea5c43621da979f338391b9a"},{file:"res/image/720x1280/txt_all_reward.png",md5:"b6769ec3a8400702939f613a8df1879d"},{file:"res/image/720x1280/txt_ask_for_help.png",md5:"a7ceba39159b967e584afec8c8da2e26"},{file:"res/image/720x1280/txt_ask_for_unlock.png",
md5:"19d6baaeec4445f800b7e1ace3082064"},{file:"res/image/720x1280/txt_big_collection.png",md5:"df19cc00b217149b5e09e68063033c99"},{file:"res/image/720x1280/txt_big_kitchen.png",md5:"a0f7760ff9d3992188e9298385daf469"},{file:"res/image/720x1280/txt_big_lock.png",md5:"a89fcc29b9eb1369fecd8cfd76259da7"},{file:"res/image/720x1280/txt_big_lock_11.png",md5:"b67d08e2463f10e130a12650401ce7c6"},{file:"res/image/720x1280/txt_big_lock_31.png",md5:"6b1abdfb2435716de5ddb13be269f7f5"},{file:"res/image/720x1280/txt_big_lottery.png",
md5:"de3060963e867ced1ccc5a244972ba56"},{file:"res/image/720x1280/txt_big_order.png",md5:"05698bbbf43b0ad49b7e724c804b360d"},{file:"res/image/720x1280/txt_big_sign.png",md5:"dcd459309a410b62433fe1d748f07fc2"},{file:"res/image/720x1280/txt_bring_home.png",md5:"a737eb6abc4ad6f6766a5527f697653f"},{file:"res/image/720x1280/txt_btbfront_rePlay.png",md5:"9ef627b8c4a65cb8910dc1b6fd35e232"},{file:"res/image/720x1280/txt_btn_friend_pk.png",md5:"071af53113654684b465f7df63b4e9e6"},{file:"res/image/720x1280/txt_btn_qq_friend.png",
md5:"e178ec84c03eb0ecf40f108ffe567353"},{file:"res/image/720x1280/txt_btn_qq_invite.png",md5:"9a18b68f65c2ec01e792ce178087de51"},{file:"res/image/720x1280/txt_btn_wx_invite.png",md5:"ce17f1edd36450b5cc568c3e07355081"},{file:"res/image/720x1280/txt_btnfront_exit.png",md5:"9d018a23d46f9f869874cdb4554ac9bb"},{file:"res/image/720x1280/txt_btnFront_finish.png",md5:"5ddb6e5ce6d6dcb5e41ad9acea707dee"},{file:"res/image/720x1280/txt_btnFront_Go.png",md5:"34f6e06cc25b0d87dd5ae59e402c72ff"},{file:"res/image/720x1280/txt_btnFront_sendDesktop.png",
md5:"e6ad4707f79be78c5005c9eec2989fb0"},{file:"res/image/720x1280/txt_buy.png",md5:"ffc120c34797afe583d90a8cbcae21ce"},{file:"res/image/720x1280/txt_cancel.png",md5:"62ca9db07fbcd56b3a12fd9669430a3f"},{file:"res/image/720x1280/txt_change_dress.png",md5:"681779310682fa19db844345f3e04beb"},{file:"res/image/720x1280/txt_change_dress_instruct.png",md5:"a270451041c8cbea094dba8ef543f9b9"},{file:"res/image/720x1280/txt_change_pet.png",md5:"20458d8dcf499607b828ace305aa4ab8"},{file:"res/image/720x1280/txt_close.png",
md5:"06b12aeb8494e126acfe1b1f64d67542"},{file:"res/image/720x1280/txt_continue.png",md5:"773e85b63e7571e871dbeb4ece63d444"},{file:"res/image/720x1280/txt_continue_game.png",md5:"cb073193ebbc4f58d04fb24600d9ef2f"},{file:"res/image/720x1280/txt_diamond_not_enough.png",md5:"2cd0f7eff315c9de9dc6f48e40a5950e"},{file:"res/image/720x1280/txt_dress_instruct1.png",md5:"d551ece460e67fb2eb9cc59cc3df2eef"},{file:"res/image/720x1280/txt_dress_instruct2.png",md5:"8355ef7b16b05401ae47accc5e36e9af"},{file:"res/image/720x1280/txt_dress_instruct3.png",
md5:"4bad74b8d2731be1cc908d7d7ecfa8a7"},{file:"res/image/720x1280/txt_drop_one.png",md5:"67612c13dae8327291eabe9363d3e5bb"},{file:"res/image/720x1280/txt_drop_ten.png",md5:"060dd92145f5deb35d9309e01b8cb842"},{file:"res/image/720x1280/txt_feed2008_01.png",md5:"7463bd001a49e03f87dd039dd8ddd992"},{file:"res/image/720x1280/txt_feed2008_02.png",md5:"a71380ad3f9ec0ffb2075d46847cdd2b"},{file:"res/image/720x1280/txt_feed2008_03.png",md5:"03cb7d40128a1c7f96dd1b9a51721e2d"},{file:"res/image/720x1280/txt_feed2008_04.png",
md5:"74f6611fedd8e5225dcc081c6159bda4"},{file:"res/image/720x1280/txt_feed2008_05.png",md5:"4dc8996786c1e34f4e0b8ac3bbc6ab38"},{file:"res/image/720x1280/txt_find_friend.png",md5:"165235ec5868ac217b8ee3d38d2c07a3"},{file:"res/image/720x1280/txt_find_player.png",md5:"1e78519436e568b8ba337b22d7730bdd"},{file:"res/image/720x1280/txt_first_gift.png",md5:"3c0e8b5bfc690930e19019ab7410c3ef"},{file:"res/image/720x1280/txt_free_drop.png",md5:"14d71997ffc2b1fe4d368f670bdefeb2"},{file:"res/image/720x1280/txt_friend_info.png",
md5:"e147d5bbc94f0eda196a5a330d4d211c"},{file:"res/image/720x1280/txt_from_photo.png",md5:"3a5ebb8965b43111c0e98cc45bd657a9"},{file:"res/image/720x1280/txt_game_time_level.png",md5:"d81668bc45593c781951badbd0f5409a"},{file:"res/image/720x1280/txt_get_full_enerty.png",md5:"a7530653c593ffa10b5b2082ce347a8c"},{file:"res/image/720x1280/txt_get_reward.png",md5:"53e92af1f5037c7e58446c27d57050c7"},{file:"res/image/720x1280/txt_go_unlock.png",md5:"0efbbc735fa6dd75efb805e180b3dca3"},{file:"res/image/720x1280/txt_goto.png",
md5:"1642c433e8319a3c6598955700e21a34"},{file:"res/image/720x1280/txt_goto_charge.png",md5:"47200ed9db261f5c64070db466c8f9d8"},{file:"res/image/720x1280/txt_i_known.png",md5:"45f79657ea2285f4d9b4d25bb326c1c7"},{file:"res/image/720x1280/txt_invite_friend.png",md5:"55a0c140dcb615e5f359e0d6c544d5bc"},{file:"res/image/720x1280/txt_invitereward.png",md5:"8bcdb4b6299ca0c806e43fdcc3b8f2f8"},{file:"res/image/720x1280/txt_login_free_pet.png",md5:"d61babfeb0e95e14c17b7796c31548f8"},{file:"res/image/720x1280/txt_lucky_kit.png",
md5:"53a9684d0dd5ab20a2ebec517da0a1d5"},{file:"res/image/720x1280/txt_my_pet.png",md5:"59b14610d0c09bcec73dcaf6b87b9be9"},{file:"res/image/720x1280/txt_newpet.png",md5:"83147bf4fac34b72e5fb8a123e9bda1f"},{file:"res/image/720x1280/txt_ok.png",md5:"881bfb1f8455d2faaacb03b55ec9475f"},{file:"res/image/720x1280/txt_one_key_change.png",md5:"b53f76c665217d6634818320088f2ebb"},{file:"res/image/720x1280/txt_one_key_get.png",md5:"baf7ac87311eff2d4b33d5ddcb12e284"},{file:"res/image/720x1280/txt_pet_level_up.png",
md5:"e08224341a4c467bea7047dd5a93c389"},{file:"res/image/720x1280/txt_pet_level_up_blue.png",md5:"1bd1c753a48669d2c4bc44773187c6be"},{file:"res/image/720x1280/txt_QRCode.png",md5:"0c4fe56cefcc493c4e1ec2e8abc9d0fc"},{file:"res/image/720x1280/txt_rank2.png",md5:"2558731b663a2b3791b6e92c124f8822"},{file:"res/image/720x1280/txt_rank_rule.png",md5:"26d6cee163c77ba87c311d1c31a0836d"},{file:"res/image/720x1280/txt_rankDesc.png",md5:"7f10d40027297b6b7ec783f3d73ae835"},{file:"res/image/720x1280/txt_rarity.png",
md5:"3dd5765f9d61f58c547d6019e5e51af3"},{file:"res/image/720x1280/txt_recmd_friend.png",md5:"10f422e833a1ba9814290fffe058d794"},{file:"res/image/720x1280/txt_redrop_one.png",md5:"7263a560dd9032dc227e6eec73f9ffa5"},{file:"res/image/720x1280/txt_redrop_ten.png",md5:"0844daa4e159d0190983b27c07230f06"},{file:"res/image/720x1280/txt_refresh.png",md5:"f955cf1c1fb1f57d05ca261b606d781f"},{file:"res/image/720x1280/txt_return.png",md5:"a523c9e209063c1a41680e405834b0d9"},{file:"res/image/720x1280/txt_score.png",
md5:"48a3506f0ec8855e73bb7cb0338fc914"},{file:"res/image/720x1280/txt_send_reward.png",md5:"ec335b44ac35893ed7847482ee4f0cf9"},{file:"res/image/720x1280/txt_set_main_pet.png",md5:"78e0ea610bffbc181c1168923cc91b7c"},{file:"res/image/720x1280/txt_setting_music.png",md5:"3394f005abad362f0b05fb6d00b993dd"},{file:"res/image/720x1280/txt_setting_notice.png",md5:"afd772cf6b975580b7373273f76b7db7"},{file:"res/image/720x1280/txt_setting_sound.png",md5:"3484cc95e145b669c2cc3b88929d68ca"},{file:"res/image/720x1280/txt_setting_strange.png",
md5:"e76eab8049ec9322e5c904c445467c85"},{file:"res/image/720x1280/txt_share_qzoom.png",md5:"21c3762868467617d2358868530621b7"},{file:"res/image/720x1280/txt_skip.png",md5:"c5deb350632d86ff22cdeaddbd399e19"},{file:"res/image/720x1280/txt_time_gift.png",md5:"77477ab2d96d3c91c682686e911d6dc2"},{file:"res/image/720x1280/txt_time_shop_gift.png",md5:"81f9c0969c614e4d5ffb971378e663c7"},{file:"res/image/720x1280/txt_title_start.png",md5:"03e1f6bbf8b072b4c8d92a8f7ec68a02"},{file:"res/image/720x1280/txt_tl_get.png",
md5:"ddc5d6c0a95dc72f264d76edbac51b19"},{file:"res/image/720x1280/txt_tl_title_1.png",md5:"550fa774d49cec3e9ddc54fce030db3f"},{file:"res/image/720x1280/txt_try_cloth.png",md5:"ed14d7a770bfee29f730e22c59df74fc"},{file:"res/image/720x1280/txt_unlimit_energy.png",md5:"57918e7bf9a282b97270fd2abd4184f0"},{file:"res/image/720x1280/txt_unlock.png",md5:"c345c4a7ed8efa695de9d0c60293bc52"},{file:"res/image/720x1280/txt_unlock_by_friends.png",md5:"eeb99f6ba7dfb543ec5fecd3899afc66"},{file:"res/image/720x1280/txt_unlock_right_now.png",
md5:"345e19bc8c157ec78d669fdff5a6a903"},{file:"res/image/720x1280/txt_use.png",md5:"c9580f61d2a702b9a6ca654f87f6d048"},{file:"res/image/720x1280/txt_use_green.png",md5:"08bfa1dca6e0ec4e6e82d3627cd8f882"},{file:"res/image/720x1280/txt_use_orange.png",md5:"aa1ec4a5e9a51cd18d2bd07393c5e2ce"},{file:"res/image/720x1280/union_atlas.json",md5:"c4ee252be71f15f2655f7f5145464cfc"},{file:"res/image/720x1280/union_ccb.ccba",md5:"a521c79bc0361f53174a97c977ac81a8"},{file:"res/image/720x1280/union_ccb.json",md5:"e2deade0f8c80b1776b79a33a09ac31c"},
{file:"res/image/720x1280/union_fnt.json",md5:"4921c3a85fcbe9e17064b6ab6d32c43f"},{file:"res/image/720x1280/union_json.json",md5:"677dacd3c04a2b300ce70f22448f07b5"},{file:"res/image/720x1280/union_mini.ccba",md5:"1c68fdf19c0bc002ece51406827ab0a0"},{file:"res/image/720x1280/union_mini.json",md5:"e7cca38a024529dd54a2cd56ad066469"},{file:"res/image/720x1280/union_plist.json",md5:"05632a6880230193e786ebf036b92021"},{file:"res/image/720x1280/UnlockNewLevelDialog.ccbi",md5:"eb9edb613f7b3f7077d4416ed5e108ea"},
{file:"res/image/720x1280/UnlockNewLevelXcx.ccbi",md5:"6b903cb7f525c7f64c1c76e8f0a9aefd"},{file:"res/image/720x1280/victory_bg.plist",md5:"78fd3d28bfec35a23dbf40bc858a35ba"},{file:"res/image/720x1280/WaitingDialog.ccbi",md5:"a7106e907b70e9543bc9084792454805"},{file:"res/image/720x1280/WechatOfficialAccout.ccbi",md5:"7c6bd8ad64b3e71cf31d8226e88bded0"},{file:"res/image/720x1280/weeks_car.json",md5:"1268adfbf64dc68a6cd28328933a8ae0"},{file:"res/image/720x1280/weeks_huli.json",md5:"c9ddaf04bc79b12c4ca0f66bd2a47c50"},
{file:"res/image/720x1280/weeks_niu.json",md5:"a411dab271842636492b61365597bf99"},{file:"res/image/720x1280/weeks_zhu.json",md5:"30fa0f93187e7f03cf0badf910c913e9"},{file:"res/image/720x1280/world_rank_blue.png",md5:"ddff0c07130e97b9b64e235ef7756c5c"},{file:"res/image/720x1280/world_rank_orange.png",md5:"1147ab1a94eff1c8f31331574d3a67cd"},{file:"res/image/720x1280/WorldMap.ccbi",md5:"acbeb9903319bdd1577d75cecbf3cb13"},{file:"res/image/720x1280/WorldMapHead.ccbi",md5:"b67733ef0867c56f36531e666c2d9a89"},
{file:"res/image/720x1280/WorldMapItem.ccbi",md5:"fb619b04ac9614a1b549ed791487919f"},{file:"res/image/720x1280/WorldMapItem222.ccbi",md5:"4a484d0aad306e326fda57fd63dc3f73"},{file:"res/image/720x1280/WorldMapItemCell_1.ccbi",md5:"0c50dbe4b5c44a8cf9eb677088143329"},{file:"res/image/720x1280/WorldMapItemCell_10.ccbi",md5:"886c059e5adbafc95046262871ee8e68"},{file:"res/image/720x1280/WorldMapItemCell_11.ccbi",md5:"ce0a5b2994818db597ad3086ad273b57"},{file:"res/image/720x1280/WorldMapItemCell_12.ccbi",md5:"b3655403da9021e6433300f50e84155d"},
{file:"res/image/720x1280/WorldMapItemCell_13.ccbi",md5:"21a305ca0104abd8e2015342f0e42071"},{file:"res/image/720x1280/WorldMapItemCell_14.ccbi",md5:"d5a53c0496a77e593cfc61498c18fca7"},{file:"res/image/720x1280/WorldMapItemCell_15.ccbi",md5:"886c059e5adbafc95046262871ee8e68"},{file:"res/image/720x1280/WorldMapItemCell_2.ccbi",md5:"c16021dacde6ebacc5f8c3ffc27d96be"},{file:"res/image/720x1280/WorldMapItemCell_3.ccbi",md5:"dd430017012a177102c07d743d66bcee"},{file:"res/image/720x1280/WorldMapItemCell_4.ccbi",
md5:"90fb5afe165b17d0f346e711809a09a4"},{file:"res/image/720x1280/WorldMapItemCell_5.ccbi",md5:"c320e5a8d7511d10d3b38793580a09fb"},{file:"res/image/720x1280/WorldMapItemCell_6.ccbi",md5:"0b67c89bdbdaf1fb467938cc1b148b13"},{file:"res/image/720x1280/WorldMapItemCell_7.ccbi",md5:"2054a34dae26f99968a3c8c33371bb6a"},{file:"res/image/720x1280/WorldMapItemCell_8.ccbi",md5:"21a305ca0104abd8e2015342f0e42071"},{file:"res/image/720x1280/WorldMapItemCell_9.ccbi",md5:"d5a53c0496a77e593cfc61498c18fca7"},{file:"res/image/720x1280/WorldMapLevelItem.ccbi",
md5:"1774b0dd78e51589e3883dc66b2ff4b7"},{file:"res/image/720x1280/WorldMapLevelLock.ccbi",md5:"e642bb30c19caacae7e2a139039d340e"},{file:"res/image/720x1280/WorldMapLiteUI.ccbi",md5:"c49b1c0eee7ff90de1d8502671f4363e"},{file:"res/image/720x1280/WorldMapOpt.ccbi",md5:"65cc22f745a3f903dc91b50948f8845a"},{file:"res/image/720x1280/WorldMapUI.ccbi",md5:"dc671b8b0425e129c7fd6e4aa126c2d7"},{file:"res/image/720x1280/WorldMapUnlockDialog.ccbi",md5:"e1f922a6a9edb41686d063fd4b2a994e"},{file:"res/image/720x1280/WorldRankRule.ccbi",
md5:"b53a7d9d25dd07b7ba1316c78be72c8a"},{file:"res/image/720x1280/WorldRankStageItem.ccbi",md5:"dd1d57be9858754e16a4f43347fdabfc"},{file:"res/image/720x1280/WXAccountBg.jpg",md5:"9b6e3cad4ea21358e51734010ba4c683"},{file:"res/image/720x1280/WXAccountDialog.ccbi",md5:"ad68dc3c884cb792ec5983b0b2c2b2b2"},{file:"res/image/720x1280/xcx_feed1001.png",md5:"8cf74098c5f408cf0a6f5f782d8f4526"},{file:"res/image/720x1280/xcx_feed1002.png",md5:"64728e06ad89ddfb106a798d62ad0b62"},{file:"res/image/720x1280/xcx_feed1003.png",
md5:"573e9062e1485aa696829c8828705353"},{file:"res/image/720x1280/xcx_feed1004.png",md5:"19f0df9cdf463caa660814ace3f45c2f"},{file:"res/image/720x1280/xcx_feed1005.png",md5:"1ab3c0c021d8ed4b7291dd9fa5a980a8"},{file:"res/image/720x1280/xcx_feed1006.png",md5:"dad89be968f1457cccfe369cdd5aafde"},{file:"res/image/720x1280/xcx_feed1007.png",md5:"7ab9dcca929074b75e2c05fb773ed6c8"},{file:"res/image/720x1280/xcx_feed1008.png",md5:"19be48fc9a5e2229b7b0ce667ab0facd"},{file:"res/image/720x1280/xcx_feed1009.png",
md5:"3f9225cc0f7d0aa775223ffff0ba605c"},{file:"res/image/720x1280/xcx_feed1010.png",md5:"b55e985e3b817315088612de673603fa"},{file:"res/image/720x1280/xcx_feed1011.png",md5:"e7169f76d64d2e84d9a8844e3ac381e6"},{file:"res/image/720x1280/xcx_feed1012.png",md5:"55634bb73b45cae6c446a85f9675ff68"},{file:"res/image/720x1280/xcx_feed1013.png",md5:"2a21888640d3b426ec1a13e26964f667"},{file:"res/image/720x1280/xcx_feed1014.png",md5:"9cb9ba50b7f43d90eaa9f999b6184395"},{file:"res/image/720x1280/xcx_feed1015.png",
md5:"9ce1a123f9f3e37811947ab8046d946f"},{file:"res/image/720x1280/xcx_feed1016.png",md5:"77acd571e2aaee34dccf3231b25a9e55"},{file:"res/image/720x1280/xcx_feed1017.png",md5:"f481abd153d9ef17e7013b0bb3399614"},{file:"res/image/720x1280/xcx_feed2001.png",md5:"e732af623cc8ca629e3d7f9ed8dabf5e"},{file:"res/image/720x1280/xcx_feed2002.png",md5:"32adae5938aa4f104ac97c3623b6a2eb"},{file:"res/image/720x1280/xcx_share_car_30002.png",md5:"98aff9b81c38aba45f7b7d2b2dcbeb4b"},{file:"res/image/720x1280/xcx_share_car_30003.png",
md5:"bdfd839a83bb460d0b6c91362ccf0369"},{file:"res/image/720x1280/xcx_share_car_30004.png",md5:"336c8ceee4de7c66df12c5676ff7b353"},{file:"res/image/720x1280/xcx_share_car_30005.png",md5:"624373120dbee7d771a7eb00911acaad"},{file:"res/image/720x1280/xcx_share_car_30006.png",md5:"04d48285e152a078f8f2cfb4539cbd92"},{file:"res/image/720x1280/xcx_share_car_30007.png",md5:"73ac0493929a5517a1ce762abf1cd7f0"},{file:"res/image/720x1280/xcx_share_car_30008.png",md5:"bae9806877353302a9ce628ab1cebcaa"},{file:"res/image/720x1280/xcx_share_car_30009.png",
md5:"977505c4276e77a5c87bef490cf05a8f"},{file:"res/image/720x1280/xcx_share_car_30010.png",md5:"2007df722b14ade1327c633c7d5c90ed"},{file:"res/image/720x1280/xcx_share_car_30011.png",md5:"d9455e97ebb17342474c06b421fda14a"},{file:"res/image/720x1280/xcx_share_car_30012.png",md5:"b7c1b8f7d0c17c2db59a7c2aedcbb736"},{file:"res/image/720x1280/xcx_share_dialog_3.png",md5:"4d888f8e60733e34f037d78a26bfe44c"},{file:"res/image/720x1280/xcx_share_dialog_4.png",md5:"fd7b7eb1de17a83152faecdc1c721f67"},{file:"res/image/720x1280/xcx_share_dialog_5.png",
md5:"4a5044dd11bb61b67497193e1e9fcbca"},{file:"res/image/720x1280/xcx_share_dialog_6.png",md5:"fbc10dff78141a72ab0c645cd7e6d81b"},{file:"res/image/720x1280/xcx_share_dialog_7.png",md5:"383d3bfce2a39b214b994df657c5180b"},{file:"res/image/720x1280/xcx_share_dialog_8.jpg",md5:"1a2924fa13b55fa2304856aababdd745"},{file:"res/image/720x1280/xcx_share_pet_20001.png",md5:"2023e86f30c4b35aa0cf290f640c0e7d"},{file:"res/image/720x1280/xcx_share_pet_20002.png",md5:"c3124eccab842b2984021ca82a5a6535"},{file:"res/image/720x1280/xcx_share_pet_20003.png",
md5:"11928767f33ba8f3c1cc413105f9e664"},{file:"res/image/720x1280/xcx_share_pet_20004.png",md5:"83b6f021de08934e9d18f7eec9297a80"},{file:"res/image/720x1280/xcx_share_pet_20005.png",md5:"eb4ac75c7c9adb4ed16371992153aba6"},{file:"res/image/720x1280/yellow_star.png",md5:"581d70c09a2453dd2b69943a84e14524"},{file:"res/image/block_ash.plist",md5:"90b99c4d0122274624335ceddb08b5f5"},{file:"res/image/block_ash.png",md5:"ad4535f93c85b03e7e4cae35b2d932b0"},{file:"res/image/block_bear.plist",md5:"1ea8bf354800ded290e17bc1db886d51"},
{file:"res/image/block_bear.png",md5:"e40955db3fcbf534cae21cfc9ab56e58"},{file:"res/image/block_cat.plist",md5:"4e77ffab9277029758d61d5fe8c423f3"},{file:"res/image/block_cat.png",md5:"ad4535f93c85b03e7e4cae35b2d932b0"},{file:"res/image/block_clay.plist",md5:"4bd7561466d502e2581918775e068834"},{file:"res/image/block_clay.png",md5:"ad4535f93c85b03e7e4cae35b2d932b0"},{file:"res/image/block_fire.plist",md5:"a90d7146cf23f5e8c42b64f89a11a110"},{file:"res/image/block_fire.png",md5:"ad4535f93c85b03e7e4cae35b2d932b0"},
{file:"res/image/block_helmet.plist",md5:"6b5add8f1d8bfb5b12f8ae8620f51f87"},{file:"res/image/block_helmet.png",md5:"5b98f20b9c5a8ad418fa0edc018fe960"},{file:"res/image/block_ice.plist",md5:"e163498d7fe6f34feab6af936f944dd0"},{file:"res/image/block_ice.png",md5:"f03074048f680322af1041ba103da740"},{file:"res/image/block_lock.plist",md5:"2e25f26f20c232fccdcf2d3c9bb0a01d"},{file:"res/image/block_lock.png",md5:"33d7e1f40760628cfc76f2bb893a2fb4"},{file:"res/image/block_sand.plist",md5:"b9f39ac764077517080645563bd79bd1"},
{file:"res/image/block_sand.png",md5:"f6d5940fad845cf2e98ddd535355bd7e"},{file:"res/image/block_sandstorm.plist",md5:"d454ef58beb3e9b871eae0a6e4fc8b56"},{file:"res/image/block_sandstorm.png",md5:"ad4535f93c85b03e7e4cae35b2d932b0"},{file:"res/image/block_stone.plist",md5:"96527fbb18213c76fcd8a14737904bcb"},{file:"res/image/block_stone.png",md5:"f29e2bf6e2d4a6dd7818b49a323a54ad"},{file:"res/image/block_worm.plist",md5:"4c01b90190133b4abaef3c4fe05511f2"},{file:"res/image/block_worm.png",md5:"1cc24c0687c13a7b0a8b56c044b971e8"},
{file:"res/image/boss_hit_effect.plist",md5:"08179a4a80d8cdb8fc4d7dc28a7d769c"},{file:"res/image/boss_hit_effect.png",md5:"bb6fea7624dcaf4c0ceaba40dccb1002"},{file:"res/image/condiment.plist",md5:"642e535ec3ae8d6ecb203f617074e2a9"},{file:"res/image/condiment.png",md5:"df7f2114dc4d1572cee5af83369a6e1f"},{file:"res/image/conveyorbelt.plist",md5:"7e98d49c261ae6d2ebca14764ee50871"},{file:"res/image/conveyorbelt.png",md5:"3fdfecccdd4c8126809778605c43e111"},{file:"res/image/elements/five_ext.plist",md5:"8bbedc90ee4a13904415cfe1bf1ef808"},
{file:"res/image/elements/five_ext.png",md5:"52edd12b356cb5f9a4e30a4d0ec7f481"},{file:"res/image/elements/fruit_destroy.plist",md5:"ad7c9e15adfbf58769b43479017ee5d9"},{file:"res/image/elements/fruit_destroy.png",md5:"a14d7b1517a70fb17d64af821f86f402"},{file:"res/image/elements/line_bomb.plist",md5:"ada9eb709485b9e8e7739cd67aa18238"},{file:"res/image/elements/line_bomb.png",md5:"6e5f03c8ae9717c55aae8b7bc0349dad"},{file:"res/image/elements/pet_20001_bomb.plist",md5:"8ebd8ba801ce7d2db8216a6833102b77"},
{file:"res/image/elements/pet_20001_bomb.png",md5:"820abdb3ee7ff7611a6871f7a0062560"},{file:"res/image/elements/pet_20002_bomb.plist",md5:"e7d9a0431d4b777857a6f7b75c2e6c78"},{file:"res/image/elements/pet_20002_bomb.png",md5:"03792f5742a449a99da2acb1dfd906ea"},{file:"res/image/elements/pet_20003_bomb.plist",md5:"965dd2cc544a6121fec59881e975251c"},{file:"res/image/elements/pet_20003_bomb.png",md5:"9620e73de65235091adcfbbc96a68ac7"},{file:"res/image/elements/pet_20004_bomb.plist",md5:"5019791714a74f859a20ed942dfd8977"},
{file:"res/image/elements/pet_20004_bomb.png",md5:"31bdf020902b66eac4ed7b5945ce6b3d"},{file:"res/image/elements/pet_20005_bomb.plist",md5:"9173f32304609fe1c3bd4e44d18ac753"},{file:"res/image/elements/pet_20005_bomb.png",md5:"20a50ec7335ce3ad7b9f0c8374fa60bf"},{file:"res/image/elements/pet_20006_bomb.plist",md5:"9047ac13e21fa4aab7439b565daadcc2"},{file:"res/image/elements/pet_20006_bomb.png",md5:"8ed94affa11b6da3d32c2845bac82e5d"},{file:"res/image/game_effects.plist",md5:"ae0ec3c651d49d792e9d1e6b9b0ae181"},
{file:"res/image/game_effects.png",md5:"ff4607268295e387a859c8f7462d33b9"},{file:"res/image/lawn.plist",md5:"d63d3ca598775fc0f996cc5bd9e4df86"},{file:"res/image/lawn.png",md5:"ad4535f93c85b03e7e4cae35b2d932b0"},{file:"res/image/peanut.plist",md5:"d0ddf44bfb3c2320b9e152fa1340d3ec"},{file:"res/image/peanut.png",md5:"703b0e519c2d89401a9f4c51cbaf401e"},{file:"res/image/portal.plist",md5:"07cda8c72bd48c871b897896005e8475"},{file:"res/image/portal.png",md5:"6a8343d4a2d3d4d46d09ba4bc9bf4fd9"},{file:"res/image/share/ann_double_12.png",
md5:"315629993331e9efab62e4a61a3a34d2"},{file:"res/image/share/ann_img_1.png",md5:"c54790ad0148be492f3823271a861db4"},{file:"res/image/share/ann_img_2.png",md5:"1aa77c31839ebb50f9d88560f9186f74"},{file:"res/image/share/ann_img_3.png",md5:"6613cba133d65120095f15e22fdfb141"},{file:"res/image/tile_cutypet.plist",md5:"5df51ed44f280e3b2b92bf7aa931c4bc"},{file:"res/image/tile_cutypet.png",md5:"24978d45381982d76ac8232bf06fcf89"},{file:"res/image/tile_giftbox.plist",md5:"6d2c6b0a99db4bf20c07dd2df290bfcd"},
{file:"res/image/tile_giftbox.png",md5:"2d5c26186dee55284baf2488c30b6d87"},{file:"res/image/tile_select.plist",md5:"04d8821feb3160d95dd35d3c705be208"},{file:"res/image/tile_select.png",md5:"378c9460797b57a222379a9ebeeb711d"},{file:"res/image/tile_slide.plist",md5:"e704d947eee67c19fc8940a87cb62ff1"},{file:"res/image/tile_slide.png",md5:"fdf4cca314c88e6391b44ec5afe22cb0"},{file:"res/image/tileBaseItem.plist",md5:"607efd1a5e10fcf7c56a5968bf23a53c"},{file:"res/image/tileBaseItem.png",md5:"8d5785f67923552e470b637ca8d0e56c"},
{file:"res/image/tileMapItem.plist",md5:"652d030d7126f364a4895a6c5cadf96d"},{file:"res/image/tileMapItem.png",md5:"39f3141485186fa055bf25e2aac7f509"},{file:"res/image/watermelon.plist",md5:"46da5b59a80b7a8561f2d8adfbad7918"},{file:"res/image/watermelon.png",md5:"ad4535f93c85b03e7e4cae35b2d932b0"},{file:"res/index_close.html",md5:"f6e055a54f045c140c0c5c1c88476f1e"},{file:"res/index_jump.html",md5:"6357b6a1d0f4265e656ad930ddd2b2bc"},{file:"res/loading.js",md5:"8e98c5500b57ba0810f7a435e65e1962"},{file:"res/sound/button_click.mp3",
md5:"bfe615622192cb86e947e13dcc2a94d9"},{file:"res/sound/camera_click.mp3",md5:"3eb6b3de3060f43bb10af22961170e4d"},{file:"res/sound/combo_20001_1.mp3",md5:"2ab1bd723a43a24e03dae7a3743c2a1e"},{file:"res/sound/combo_20001_2.mp3",md5:"dc1e0fa73d243182c2edf80d72ff60f8"},{file:"res/sound/combo_20001_3.mp3",md5:"0748c786c44cc5cd736ea67799aba674"},{file:"res/sound/combo_20001_4.mp3",md5:"1217747e9575e5a6f10206e97c62032a"},{file:"res/sound/combo_20001_5.mp3",md5:"fd72db128573353f710bfee49b1b2406"},{file:"res/sound/combo_20001_6.mp3",
md5:"2516513e57eeafb38ea55879f6eb67fc"},{file:"res/sound/combo_20002_1.mp3",md5:"12a332477a9bfb22c7d6c41b1e2640e0"},{file:"res/sound/combo_20002_2.mp3",md5:"0ada4ce003768fb42f83115b4ca173a4"},{file:"res/sound/combo_20002_3.mp3",md5:"20b152ae4f5f05c2ea8db6d14f4f5ca4"},{file:"res/sound/combo_20002_4.mp3",md5:"b468d76c0f54b2177fb29102a971371c"},{file:"res/sound/combo_20002_5.mp3",md5:"a625b4b7ea1b577e920671723a0a2986"},{file:"res/sound/combo_20002_6.mp3",md5:"cca612916ce727dbdca4adec06dc57ae"},{file:"res/sound/combo_20003_1.mp3",
md5:"e63f5f8442879626fe1d5da7eec069cc"},{file:"res/sound/combo_20003_2.mp3",md5:"0c9b5cb1eda8a83a055eb912d9e5dfed"},{file:"res/sound/combo_20003_3.mp3",md5:"9e64612077d2ccf18b385e634f7e3a47"},{file:"res/sound/combo_20003_4.mp3",md5:"aa35988b91ad4b4f9ba15efbb6cea2c8"},{file:"res/sound/combo_20003_5.mp3",md5:"8b85777f9876d55647cc56412c6d48c8"},{file:"res/sound/combo_20003_6.mp3",md5:"24fb5cdd0a414ffa18bc1830ae93224f"},{file:"res/sound/combo_20004_1.mp3",md5:"2cf2c70a2098416673ec908e5d4f6c8a"},{file:"res/sound/combo_20004_2.mp3",
md5:"468537227f35e787935e6b2e89cf4d61"},{file:"res/sound/combo_20004_3.mp3",md5:"d32f9709405719d47dd3d9e9a121a208"},{file:"res/sound/combo_20004_4.mp3",md5:"7017a31ecd5342f088bacc4a9e8f9c09"},{file:"res/sound/combo_20004_5.mp3",md5:"a62d3a268baaa872319c6d15b786ba70"},{file:"res/sound/combo_20004_6.mp3",md5:"41d4621c6cf7f76d82a1d468ab0decce"},{file:"res/sound/combo_20005_1.mp3",md5:"d5b2d3ca05e3da9ed61459a7561c404c"},{file:"res/sound/combo_20005_2.mp3",md5:"0f672b422954ffd3662b644c5946f542"},{file:"res/sound/combo_20005_3.mp3",
md5:"93a30abcb76f1000cf4105c42fbf6726"},{file:"res/sound/combo_20005_4.mp3",md5:"c81e3b9aad531544d1f59db433710e30"},{file:"res/sound/combo_20005_5.mp3",md5:"01099d9775085f2d53886b38eda4a32d"},{file:"res/sound/combo_20005_6.mp3",md5:"1db97a62e4c6f20367646515580f26b8"},{file:"res/sound/monster_appear.mp3",md5:"3d7cd5c58b6b23257d78830084f3df2c"},{file:"res/sound/music_add_coin.mp3",md5:"6cb17ac37f0007b252a159749ec1f8d6"},{file:"res/sound/music_add_diamond.mp3",md5:"3623238c4042627de4826a42445820f6"},
{file:"res/sound/music_add_item.mp3",md5:"12aec65deededf7a809c4bd905bf18d1"},{file:"res/sound/music_drop_fruit.mp3",md5:"4fab9de97061bfd3a8782ad02e5dc01b"},{file:"res/sound/music_eliminate_20001.mp3",md5:"cdbc7c60f61dae95acc78b75ac3ce991"},{file:"res/sound/music_eliminate_20002_1.mp3",md5:"10a8ae95ec0db190d793d446f39fd5ff"},{file:"res/sound/music_eliminate_20002_2.mp3",md5:"a2b6a1e7ea5d10419bcd9483d3b85ec2"},{file:"res/sound/music_eliminate_20003_1.mp3",md5:"1080f6096cbb4b9885d0b1997692b2b4"},{file:"res/sound/music_eliminate_20003_2.mp3",
md5:"e7a97263dd891513d452167210be4a35"},{file:"res/sound/music_eliminate_20004_1.mp3",md5:"68e431bbcb2839676fa6bf1a2ce0f8b7"},{file:"res/sound/music_eliminate_20004_2.mp3",md5:"90b8fa12d9c14f617fb933ec7ec259fb"},{file:"res/sound/music_eliminate_20004_3.mp3",md5:"2697a566d92106550f5d18e661b97bdb"},{file:"res/sound/music_eliminate_20004_4.mp3",md5:"31860111c7033cdbe011541bd512f514"},{file:"res/sound/music_eliminate_20004_5.mp3",md5:"5f05a415dc6b99f8a3a1d19d9d347d42"},{file:"res/sound/music_eliminate_20005_1.mp3",
md5:"8ff18dbe9270222ce33278234960f6d0"},{file:"res/sound/music_eliminate_20005_2.mp3",md5:"109f6514b5dea69d1b90b0d8aed146b8"},{file:"res/sound/music_eliminate_boom.mp3",md5:"399f88aca1ba9af5f0fc8c6765a84a22"},{file:"res/sound/music_eliminate_five.mp3",md5:"217b94c41ca104e53d2f93940e46c05a"},{file:"res/sound/music_eliminate_five_2.mp3",md5:"ca75cf95991629fcdb679d66a7a587b7"},{file:"res/sound/music_eliminate_fruit_1.mp3",md5:"d387ffc13bcca44e7e965c2416229ae6"},{file:"res/sound/music_eliminate_fruit_2.mp3",
md5:"08fafcad3ec1f938e57c339372c98373"},{file:"res/sound/music_eliminate_fruit_3.mp3",md5:"95851c7dc8c44fedf27897c83ef11c6e"},{file:"res/sound/music_eliminate_fruit_4.mp3",md5:"9a3e20f8739d392bdc9f6c2b863d8c6e"},{file:"res/sound/music_eliminate_fruit_5.mp3",md5:"ddcf253a7256715b4062db821fc76306"},{file:"res/sound/music_eliminate_fruit_6.mp3",md5:"3217341c4bbf9184789a32a9ea6fc038"},{file:"res/sound/music_eliminate_fruit_7.mp3",md5:"14dd79507df53e4961622dd14771afc5"},{file:"res/sound/music_eliminate_fruit_8.mp3",
md5:"d387ffc13bcca44e7e965c2416229ae6"},{file:"res/sound/music_eliminate_giftbox.mp3",md5:"947de7bfd7d45949d2b1c29c8256d5ad"},{file:"res/sound/music_eliminate_helmet.mp3",md5:"b4a734d3e24411e7166d124feb71e94a"},{file:"res/sound/music_eliminate_ice.mp3",md5:"60555c7114b62e2299cd8dc7a26d12d9"},{file:"res/sound/music_eliminate_line.mp3",md5:"083b644a675f7e69d271e01657d90e63"},{file:"res/sound/music_eliminate_lock.mp3",md5:"803f1508ee135d2fb8e342c7f8de7df1"},{file:"res/sound/music_eliminate_six.mp3",
md5:"c35bdaf06a9ac066572da8ae93f9bbfa"},{file:"res/sound/music_eliminate_stone.mp3",md5:"f4c40c89505a6189e8e6ec4cd8a900b8"},{file:"res/sound/music_failed_panel.mp3",md5:"22ad1be36f1ccec657dca0733a209421"},{file:"res/sound/music_gamescene_bgm.mp3",md5:"65276e1cb74edb9dd682da3cedc93001"},{file:"res/sound/music_get_coconut.mp3",md5:"dd72463b3bb3c6e1c2b85fc8fc59eed8"},{file:"res/sound/music_loadingscene_bgm.mp3",md5:"317cd0c5086d8ceb51b3b743d757430e"},{file:"res/sound/music_panel_close.mp3",md5:"54be41e93e88f40db30abf197a80207c"},
{file:"res/sound/music_panel_open.mp3",md5:"4a0983abdf2e0d24b4dcec1443c4f53a"},{file:"res/sound/music_pet_levelup.mp3",md5:"bed32ed0d86ba98975adbb47c60258ff"},{file:"res/sound/music_refresh.mp3",md5:"53d0b39b7a74205218c74ec310f82c1f"},{file:"res/sound/music_shake_plate.mp3",md5:"b5479c34d5089d3a8fc09e2980bda309"},{file:"res/sound/music_star.mp3",md5:"59905fa800e711bcec36e7f17474357a"},{file:"res/sound/music_star_2.mp3",md5:"e0cc3f0e529d16178c58f141dd207b23"},{file:"res/sound/music_star_3.mp3",md5:"4614acab6369a8c13caf2272eac09e4f"},
{file:"res/sound/music_step_to_line.mp3",md5:"8822e84bedb16c9015873242edcbcb87"},{file:"res/sound/music_success_panel.mp3",md5:"7198000d49a90978162a5461c58cf61e"},{file:"res/sound/music_success_pass.mp3",md5:"de7ffe7245a65d7e606a373e63e5a3ab"},{file:"res/sound/music_swap_error.mp3",md5:"9b07c00ac7c05d7df7a1b348c1758ecf"},{file:"res/sound/music_swap_fruit.mp3",md5:"080762f67381d25ab2ae78791d9e01fa"},{file:"res/sound/music_worldscene_bgm.mp3",md5:"f06bd2300ab1f5bc13b647fe3aad734b"},{file:"res/sound/pet_20001_1.mp3",
md5:"4d8e57d98bafa8b3897b8b48264f4585"},{file:"res/sound/pet_20001_2.mp3",md5:"7b87f8d5aca04fd9acf210ae84bebceb"},{file:"res/sound/pet_20001_3.mp3",md5:"755753744779ee8a1a67bea77f3b75a4"},{file:"res/sound/pet_20001_4.mp3",md5:"48c7076092182cb523c58819f2bcb515"},{file:"res/sound/pet_20002_1.mp3",md5:"f7edaf5185f0ae757bcca7716d4da532"},{file:"res/sound/pet_20002_2.mp3",md5:"bca40b9adcff6147be62a4bfd73e2827"},{file:"res/sound/pet_20002_3.mp3",md5:"2d4fd79ef67d0112068cfbd162fa2e5c"},{file:"res/sound/pet_20002_4.mp3",
md5:"0572294c7c76299810ecc8d81f4e574b"},{file:"res/sound/pet_20003_1.mp3",md5:"eb7603ae1827e06416c6f569388c5a00"},{file:"res/sound/pet_20003_2.mp3",md5:"3f5dd7b79573299d57af9dbf76ed901d"},{file:"res/sound/pet_20003_3.mp3",md5:"9be7ab081887eb104798905b7a20e024"},{file:"res/sound/pet_20003_4.mp3",md5:"11cf0876ec1fd1e21adebaa068bd357e"},{file:"res/sound/pet_20004_1.mp3",md5:"ff09a49a414c46635b2a4c4d445788ab"},{file:"res/sound/pet_20004_2.mp3",md5:"3d2ecc25b0f46c56d1010502813d8561"},{file:"res/sound/pet_20004_3.mp3",
md5:"b9df51519a79ad35c7d353e6dcc8a582"},{file:"res/sound/pet_20004_4.mp3",md5:"0e9890b6e3a7f52ed9e807fef188ef45"},{file:"res/sound/pet_20005_1.mp3",md5:"f90ace6589883cdf2c0a073aa1f88d6b"},{file:"res/sound/pet_20005_2.mp3",md5:"e111a31abe6ab2151f31e1edc2898f11"},{file:"res/sound/pet_20005_3.mp3",md5:"187417ac1db327dd65ad1d099548f9be"},{file:"res/sound/pet_20005_4.mp3",md5:"a1300ad870895834e0cb0bd30c66d897"},{file:"res/sound/pet_cast_skill.mp3",md5:"c17b9315afdc9614fcb06e33df471140"},{file:"res/sound/switch_transfer.mp3",
md5:"ff894541f39c3676aadf4efd01563112"},{file:"res/text/text_en.js",md5:"e5cca6d30da66dfdae855dba3a5ba768"},{file:"res/text/text_zh.js",md5:"26ed2d89f9df614bf6f8cc2b3f7b91f3"},{file:"res/text/text_zh_TW.js",md5:"29dca180224790871984ccb1d326baa0"}];cc.static_config_high=[{file:"res/data/meta.dat",md5:"109503070f26c135072e204cb2d6f1dc"},{file:"res/data/meta.json",md5:"94947864b7fc51574d9676bd86448781"},{file:"res/icon/icon.png",md5:"e05bb855e87c310218ad73a8cdedff78"},{file:"res/image/720x1280/AccountDialog.ccbi",md5:"39cd3788998b8f457623b97a92cc59b3"},{file:"res/image/720x1280/Achievement.ccbi",md5:"7fa99ee6d6327f798635c1e4724b2eb9"},{file:"res/image/720x1280/AchievementDetail.ccbi",md5:"265b08cf74b34e2c06d7f79e17895afa"},{file:"res/image/720x1280/AchievementItem.ccbi",
md5:"c930cc376eae0915e62525e71e7f84ea"},{file:"res/image/720x1280/AchievementTip.ccbi",md5:"19216450c49761df74d17573c7cb8a6a"},{file:"res/image/720x1280/act_10006_bg.png",md5:"5754e63069df5c16f050433f0dbc28db"},{file:"res/image/720x1280/act_10006_pop_bg.png",md5:"95ead89f15ee6ec86471c6c180c9a701"},{file:"res/image/720x1280/activity.plist",md5:"9ba09bd623863e067e86bcfb85020dfa"},{file:"res/image/720x1280/activity.png",md5:"ecd273c38372d726a47e6dacdcc4e177"},{file:"res/image/720x1280/Activity_10001.ccbi",
md5:"6c1762318aee4c699326677310243d32"},{file:"res/image/720x1280/activity_10001.plist",md5:"ef8f7cab14a7a5c58e6869aa107cffa7"},{file:"res/image/720x1280/activity_10001.png",md5:"c731143676dfce536b24f901356088ec"},{file:"res/image/720x1280/Activity_10001_Item.ccbi",md5:"41170584879095eaa7cf427e81a8f158"},{file:"res/image/720x1280/Activity_10002.ccbi",md5:"279eb00839229e9a85c03819fa739120"},{file:"res/image/720x1280/activity_10002.plist",md5:"6cc96ac2bf1a39546e3ff48d223582f9"},{file:"res/image/720x1280/activity_10002.png",
md5:"533b7f6abfb3800ca92b27fb4b7e4372"},{file:"res/image/720x1280/Activity_10002_Item.ccbi",md5:"bfbda2d0b88423fff1a1264bc3a85694"},{file:"res/image/720x1280/Activity_10003.ccbi",md5:"9de6503dbd3f5c0aac55f944be153944"},{file:"res/image/720x1280/activity_10003.plist",md5:"1ee18571db66860df4a8b281d28a7133"},{file:"res/image/720x1280/activity_10003.png",md5:"a4057a88d6291c965a22594c9f4a99bc"},{file:"res/image/720x1280/Activity_10003_Info.ccbi",md5:"9e0d5d50a0fcfb92ddad561b991424f6"},{file:"res/image/720x1280/Activity_10003_Item.ccbi",
md5:"71a7b23492077c97bc83a96e571915ed"},{file:"res/image/720x1280/Activity_10006.ccbi",md5:"66f5c4ad82c6956a2fbdf234fb13bb18"},{file:"res/image/720x1280/activity_10006.plist",md5:"06231a9bca75e9eb928df2b75a838bb5"},{file:"res/image/720x1280/activity_10006.png",md5:"ff839e86d95c8f3d34dab3795f901a39"},{file:"res/image/720x1280/Activity_10006_Kit.ccbi",md5:"0e664076314995277f1c98d2329aae9c"},{file:"res/image/720x1280/Activity_10006_Reward_Get.ccbi",md5:"23df688af992fca6b47928a248357d08"},{file:"res/image/720x1280/activity_light.png",
md5:"6abe6407a6b5c88e0bcede0259c8b702"},{file:"res/image/720x1280/Activity_Seven_10001.ccbi",md5:"e8901f5fd3dee3275e3209143043baa4"},{file:"res/image/720x1280/ActivityLayer.ccbi",md5:"88fc42fa326c4f327234012850f09187"},{file:"res/image/720x1280/ActivityLayerItem.ccbi",md5:"6d646e01376b1ed562d7767a21e51eb0"},{file:"res/image/720x1280/ActivityTabItem.ccbi",md5:"f6ad376571ab5ae27976511e3a9bee6c"},{file:"res/image/720x1280/add5step.atlas",md5:"c86cad509e6e510824f78f8df4364ddf"},{file:"res/image/720x1280/add5step.json",
md5:"9b0cb6c41a91ba1fb8bfdca591d18b5e"},{file:"res/image/720x1280/add5step.png",md5:"92e6123a3d403e2653f81f4d8fe5aa51"},{file:"res/image/720x1280/AddFiveDialog.ccbi",md5:"5ddbfc68f61d8ce50ebe94084e20f814"},{file:"res/image/720x1280/AllStarPassLevelDialog.ccbi",md5:"62e4e514528f01495febc23a75d6e391"},{file:"res/image/720x1280/AllStarPassLevelXcx.ccbi",md5:"4c28a358b874b85087a0b15bb02da890"},{file:"res/image/720x1280/anim20001.atlas",md5:"f25124545285474c9979c19df02d77ab"},{file:"res/image/720x1280/anim20001.json",
md5:"c5397f029cc73d69195886372a90b174"},{file:"res/image/720x1280/anim20001.png",md5:"106cfbb16d4896bd0c6111543e524974"},{file:"res/image/720x1280/anim20002.atlas",md5:"1b9169eaf1074558913e8e11e21f969f"},{file:"res/image/720x1280/anim20002.json",md5:"0af2e619d5d88f4ee94039eb801b79d8"},{file:"res/image/720x1280/anim20002.png",md5:"1cd2e24d4c0cc0dc5c84c5e753265777"},{file:"res/image/720x1280/anim20003.atlas",md5:"dde2fe6ae6186466ada936e82327530e"},{file:"res/image/720x1280/anim20003.json",md5:"5e1f27227b63faceef7a57e8ff7c784d"},
{file:"res/image/720x1280/anim20003.png",md5:"fc2822ffac74ec86825675ef570a5177"},{file:"res/image/720x1280/anim20004.atlas",md5:"8aa0024e2a3878ccdc0fa24d186e3f1b"},{file:"res/image/720x1280/anim20004.json",md5:"45279e008e8b77adc81b5a42e022e33b"},{file:"res/image/720x1280/anim20004.png",md5:"e1123a4a52b6cb84f43e5d59be88865c"},{file:"res/image/720x1280/anim20005.atlas",md5:"c3758e0cd5413baca427bedde54cbdde"},{file:"res/image/720x1280/anim20005.json",md5:"f55c05ebd0f10da14464ae7f4c410dd5"},{file:"res/image/720x1280/anim20005.png",
md5:"c2ccf19eda33017e0a4b48e99a0c4c11"},{file:"res/image/720x1280/AskForEnergy.ccbi",md5:"ab61478d5a8821f941cdb432a2c2cebe"},{file:"res/image/720x1280/AskForEnergyFriendItem.ccbi",md5:"8ce6bd1ee218553511987ee090660684"},{file:"res/image/720x1280/avatar0.png",md5:"bb0a9afadd6b7603d342a752f83779f8"},{file:"res/image/720x1280/avatar1.png",md5:"1f399c876cf3119fb4c53463591bd154"},{file:"res/image/720x1280/avatar2.png",md5:"5d91a9b4b2ca4968d839b1d933dac2b7"},{file:"res/image/720x1280/avatar3.png",md5:"3ebe0d931178a4141a037ba55213fc16"},
{file:"res/image/720x1280/avatar4.png",md5:"12e6e23efd48b28da4c140b32d090a4b"},{file:"res/image/720x1280/avatar5.png",md5:"abc1758ea6e9d531bf365c83e2f5de78"},{file:"res/image/720x1280/avatar6.png",md5:"6e811c4cf491e649a6de9252973f1194"},{file:"res/image/720x1280/avatar7.png",md5:"8ab2cad15a09431fdcd6eda04df46de2"},{file:"res/image/720x1280/avatar8.png",md5:"a3ece8b50a023b13e9318cf458f17f63"},{file:"res/image/720x1280/BagLayer.ccbi",md5:"5bc4da9fe339c12ad1801ae2f34f1d28"},{file:"res/image/720x1280/BagListItem.ccbi",
md5:"0bdfab660057679b0100e91af72e60fa"},{file:"res/image/720x1280/banner_20001.png",md5:"81ccc9a76b3b9dd91bb59200244508a6"},{file:"res/image/720x1280/banner_20002.png",md5:"0e4d9a32b99abb40c4cfeddfcd7fd994"},{file:"res/image/720x1280/banner_20003.png",md5:"eaa8fc90ec4655ce6eab16523cd4abf2"},{file:"res/image/720x1280/banner_20004.png",md5:"b2c3a4f2f4fe2d7613d5902f3585f6be"},{file:"res/image/720x1280/banner_20005.png",md5:"229a2e3283043ba8f01b2f95b665b8d1"},{file:"res/image/720x1280/BG1.atlas",md5:"6ef2fc3147bbf13fd51193ded33da270"},
{file:"res/image/720x1280/BG1.json",md5:"b0f660b70665b45def98c2f13c1dc782"},{file:"res/image/720x1280/BG1.png",md5:"66ca9239a28a4f39495f931506f24ca7"},{file:"res/image/720x1280/bg_big_light.png",md5:"52856aa6fb19f9000b284cfccd311dc0"},{file:"res/image/720x1280/bg_feed2008_bg.png",md5:"0aeec5bfd26e1250d47fd13bea044c08"},{file:"res/image/720x1280/bg_feed2008_xyx_bg.png",md5:"16226719f23b4882a4ab7ab8b750d60f"},{file:"res/image/720x1280/bg_feed2008_xyx_bg_up.png",md5:"88703b687c7a5270cd58d5db35e55c06"},
{file:"res/image/720x1280/bg_group_rank_0.png",md5:"bf071a841c32fe30953d18ad0bccf1cb"},{file:"res/image/720x1280/bg_ico_light.png",md5:"ad41da89219ba07fca62c83811c9da04"},{file:"res/image/720x1280/bg_icon_aim.png",md5:"5e52249a720948ee31346d2a20c6c40a"},{file:"res/image/720x1280/bg_item_panel3.png",md5:"3ce336a0a80433e9fe100260082c0c24"},{file:"res/image/720x1280/bg_light.png",md5:"a0476acca580a3401318a8b68e61f82d"},{file:"res/image/720x1280/bg_line_0.jpg",md5:"0df51017deee64c078566486482ef289"},
{file:"res/image/720x1280/bg_line_1.jpg",md5:"5719b9e7be58dbda2ab1ca14113e60a3"},{file:"res/image/720x1280/bg_line_2.jpg",md5:"88610306d20dd0fa05b3d5a0206f08d6"},{file:"res/image/720x1280/bg_line_3.jpg",md5:"ba7d560527cba6174e087ff6edec4437"},{file:"res/image/720x1280/bg_one_light.png",md5:"dbac8b7a9717b37ddb90c985329b30b9"},{file:"res/image/720x1280/bg_panel_1.png",md5:"2ecf82c8a4bfac7cb7987397e3ecdfdd"},{file:"res/image/720x1280/bg_pet_house.jpg",md5:"8d8ba22cc8ecd2da9276ebc35aac2bca"},{file:"res/image/720x1280/bg_scene_down1.jpg",
md5:"063442d2345f9f1c93e6c9030f4b7eb2"},{file:"res/image/720x1280/bg_scene_up1.jpg",md5:"562ae7987acfa3954cbd73e1fbc0d053"},{file:"res/image/720x1280/bg_scene_up2.jpg",md5:"187af7a9b0c275763c06ac223fb169f2"},{file:"res/image/720x1280/bg_shage_1004.png",md5:"4cba9623352d1acd91427391c2fb0d9c"},{file:"res/image/720x1280/bg_shage_1004_pop.png",md5:"10be8664cda70af263deab69ce2e047b"},{file:"res/image/720x1280/bg_shage_1010.png",md5:"482d77f54403224a0c801eb5c31f1bd6"},{file:"res/image/720x1280/bg_shage_1011.png",
md5:"2a1ae9e083cb1765ee40ed6911250dad"},{file:"res/image/720x1280/bg_shage_1023.png",md5:"e7a36941a6f824b3c5d0106f80e05eca"},{file:"res/image/720x1280/bg_shage_pk.png",md5:"f5cf076e0527ae2c93833e3b9fd1f3aa"},{file:"res/image/720x1280/bg_share_1.png",md5:"2388d105696d4d86f628111115ca9892"},{file:"res/image/720x1280/bg_share_combo.png",md5:"fdf572b719f71661c51f00969f34eeaa"},{file:"res/image/720x1280/bg_share_news.jpg",md5:"8642ab991a02a29f3ea2a64e8f155a08"},{file:"res/image/720x1280/bg_splash.jpg",
md5:"781998f09a5042ee9e7e0e680f65dbc9"},{file:"res/image/720x1280/bg_start_story.jpg",md5:"e15bad04541125020451785f2dcd71ec"},{file:"res/image/720x1280/bg_startmenu.jpg",md5:"07598b145a382ffdc3d6e4bf9bdd3894"},{file:"res/image/720x1280/bg_tip_dialog_1.png",md5:"6764d614ee6e1daad461383678484d2e"},{file:"res/image/720x1280/bg_title_panel.png",md5:"8cfc825505324504982831a2c231f28c"},{file:"res/image/720x1280/bg_tv_rect.png",md5:"48a44d573443a5f3403a78d6a6e52bf5"},{file:"res/image/720x1280/bg_world_map_0.jpg",
md5:"33f74c9a2d4753d9597668dfb36660f0"},{file:"res/image/720x1280/bg_world_map_1.jpg",md5:"82702b951edf8722b93466a0edefefb9"},{file:"res/image/720x1280/bg_world_map_10.jpg",md5:"ad03951fc776cc7fbfb194483458ff40"},{file:"res/image/720x1280/bg_world_map_11.jpg",md5:"e6061da108356a3a0ccdcc641e3844fc"},{file:"res/image/720x1280/bg_world_map_12.jpg",md5:"6b37aba075bf2aa1926aa3e021cce838"},{file:"res/image/720x1280/bg_world_map_13.jpg",md5:"ef53b0b0083800037a1bf898caf9aebf"},{file:"res/image/720x1280/bg_world_map_14.jpg",
md5:"0a072db4ee3d2516927ae2c7c6cf2b5b"},{file:"res/image/720x1280/bg_world_map_15.jpg",md5:"2ba31ff7f2d634ebfefc53e952878348"},{file:"res/image/720x1280/bg_world_map_2.jpg",md5:"933b89ce84d88677cf35a6ab8a8f4dcb"},{file:"res/image/720x1280/bg_world_map_3.jpg",md5:"6ccca9431f72c3ccb723c7134808dadc"},{file:"res/image/720x1280/bg_world_map_4.jpg",md5:"6e0ba6afb7c44a3076373caba51d0c8b"},{file:"res/image/720x1280/bg_world_map_5.jpg",md5:"d44ef676bccf868bac4a76e00f69911b"},{file:"res/image/720x1280/bg_world_map_6.jpg",
md5:"e6061da108356a3a0ccdcc641e3844fc"},{file:"res/image/720x1280/bg_world_map_7.jpg",md5:"6b37aba075bf2aa1926aa3e021cce838"},{file:"res/image/720x1280/bg_world_map_8.jpg",md5:"ef53b0b0083800037a1bf898caf9aebf"},{file:"res/image/720x1280/bg_world_map_9.jpg",md5:"0a072db4ee3d2516927ae2c7c6cf2b5b"},{file:"res/image/720x1280/bg_world_map_bottom.jpg",md5:"edfb570a152dca5f65767f85631d87c3"},{file:"res/image/720x1280/bg_world_map_mask.png",md5:"4714030264a54f29c3101720bae0d9f1"},{file:"res/image/720x1280/bg_world_map_ui.jpg",
md5:"0d71c56f53c5c4ddfcda5f6b22553793"},{file:"res/image/720x1280/big_ico_skill_20001.png",md5:"87c57d4c6dabd7ca90087f7f74f6bb30"},{file:"res/image/720x1280/big_ico_skill_20002.png",md5:"6277b5c6d8399e1f0c05310837cd5dff"},{file:"res/image/720x1280/big_ico_skill_20003.png",md5:"5e6dd5641c95a8d90474e7f36ac43e3e"},{file:"res/image/720x1280/big_ico_skill_20004.png",md5:"416bef44819eeef6bbc5b719a5a2eb23"},{file:"res/image/720x1280/big_ico_skill_20005.png",md5:"82b04b6016deb88a0f212389de8eb8c8"},{file:"res/image/720x1280/bj.jpg",
md5:"e9957ede14c4063a4d004157bd53bbf9"},{file:"res/image/720x1280/bluebtn.png",md5:"02bf9c97e0c7140a9f47a23e9b435b62"},{file:"res/image/720x1280/btn_num_white.fnt",md5:"5b55cbaaa2f577435e7dd6191f28dc74"},{file:"res/image/720x1280/btn_num_white.png",md5:"bbab1a83cf0cbc4af387468146d6e805"},{file:"res/image/720x1280/btnFront_GainCollction.png",md5:"8df42947478b401fc8ad041e4d8e1237"},{file:"res/image/720x1280/btnFront_HasGain.png",md5:"c295c2d5aee3d0ea610bb9de8ccbfd51"},{file:"res/image/720x1280/btnFront_savePic.png",
md5:"0794c183d2fba4e23a73d5e50ce660c8"},{file:"res/image/720x1280/btnFront_shareBack.png",md5:"a77f5951e04d0163b1b4bcbdaa660a70"},{file:"res/image/720x1280/btnFront_shareToFriend.png",md5:"ebe904f3bb9fdb2c3ac7259db1665f93"},{file:"res/image/720x1280/btnFront_shareToQzone.png",md5:"1731f7493a786683f36b6bfce79fc874"},{file:"res/image/720x1280/btnFront_show.png",md5:"c473188bf9c795b7c0bd6e32061e6b6e"},{file:"res/image/720x1280/btnFront_YuyueBtn.png",md5:"a737b2b0432f6d95ed330fa60f562558"},{file:"res/image/720x1280/btnFront_YuyueShare.png",
md5:"dbf9db87df5cf3ce3574715c9d1b37cc"},{file:"res/image/720x1280/button.plist",md5:"a1d88c13655b51ffba462632c24642f4"},{file:"res/image/720x1280/button.png",md5:"2986599d1ae15bd70636e136fbf74946"},{file:"res/image/720x1280/CameraPreview.ccbi",md5:"f31619ec5fcbb25d97eb81b49888031e"},{file:"res/image/720x1280/car.atlas",md5:"87bb2093c8b8d8f528e309f08196ee67"},{file:"res/image/720x1280/car.json",md5:"d9bfeb063bfd5cbfc34f338275c1bfa5"},{file:"res/image/720x1280/car.png",md5:"a6645755e55a7f4f5aa59461b65192a4"},
{file:"res/image/720x1280/ceshi_QRCode_100.png",md5:"e64f53b9cb0b5067cf3769c3c876e91c"},{file:"res/image/720x1280/CheckedQueryDialog.ccbi",md5:"554d2c5c24bf1035021acb5b28b1707c"},{file:"res/image/720x1280/ChooseHead.ccbi",md5:"06b329a27cdf2ca7db5ce089a7e38edb"},{file:"res/image/720x1280/ChoosePet.ccbi",md5:"d69cfd127451c1800a750a930d4489da"},{file:"res/image/720x1280/ChoosePetItem.ccbi",md5:"bfb82617abe26f887e57f042035ffec0"},{file:"res/image/720x1280/clear_star.plist",md5:"f5b0f75222b20278ed0e3c188625ea56"},
{file:"res/image/720x1280/clear_star.png",md5:"6a0bee95f8baf8cd65fe0896ec2040de"},{file:"res/image/720x1280/cloud.atlas",md5:"ed2c4e9c89393a98ccbd15cfd1decc9f"},{file:"res/image/720x1280/cloud.json",md5:"75d26cccbd0199a5ed69c352155fefc2"},{file:"res/image/720x1280/cloud.png",md5:"bbcc63f884132752b93a66d712998841"},{file:"res/image/720x1280/CloudDialog.ccbi",md5:"4d0a2098cbb4bce3dee13cf41ffd3c0d"},{file:"res/image/720x1280/common.plist",md5:"fb54d186bc98e779efc494b3e8fd2fa9"},{file:"res/image/720x1280/common.png",
md5:"d7dec1f7b8bd0b782baf83f98f083aa4"},{file:"res/image/720x1280/ConfirmDialog.ccbi",md5:"1dafe2bf071f6128949951c8558cf877"},{file:"res/image/720x1280/ConfirmDialogBig.ccbi",md5:"fa44b3faeb96405d9f05d254b8e93e3a"},{file:"res/image/720x1280/cooker_pan.atlas",md5:"d725ff3b992c1c552dd8639a658fa21a"},{file:"res/image/720x1280/cooker_pan.json",md5:"d8f45c284fbfbf49401ffdbf707b9a80"},{file:"res/image/720x1280/cooker_pan.png",md5:"efbad77658a689162bbc52e5ad8c25c2"},{file:"res/image/720x1280/customer_1.atlas",
md5:"53d5f7a495044a9db5505f05f4d2f74e"},{file:"res/image/720x1280/customer_1.json",md5:"6d7d3c260c3bc38c187b0b945f265e7c"},{file:"res/image/720x1280/customer_1.png",md5:"793a3044b04ad2eff8edaf8792a97a70"},{file:"res/image/720x1280/customer_10.atlas",md5:"8485adbfeb55db3459d3844f3f62d4d4"},{file:"res/image/720x1280/customer_10.json",md5:"9950348a0e98bb40535cf2e376079fb6"},{file:"res/image/720x1280/customer_10.png",md5:"55b05211af911fa4dd7a516f46a04abf"},{file:"res/image/720x1280/customer_11.atlas",
md5:"517ed05d2d2d358e9ac633d56d2130ff"},{file:"res/image/720x1280/customer_11.json",md5:"c578679acb8d10b1c6f2e0c8c44dd0c1"},{file:"res/image/720x1280/customer_11.png",md5:"3d39b65ecf940b3356e63650a1069b4f"},{file:"res/image/720x1280/customer_2.atlas",md5:"e37e502f94e69f0d1d8d6302d1cd4b5a"},{file:"res/image/720x1280/customer_2.json",md5:"762de00f22f8276511aedcc5dfe6ac5f"},{file:"res/image/720x1280/customer_2.png",md5:"ddb9c326174a92e306ed8286be959e0c"},{file:"res/image/720x1280/customer_3.atlas",md5:"ac66c99540862fb4ecbfe1bb9b7d8aaa"},
{file:"res/image/720x1280/customer_3.json",md5:"414fdc81437bd9f3be38409f2463ce3c"},{file:"res/image/720x1280/customer_3.png",md5:"59fd2b3390d9e9787a3746adf3a2383a"},{file:"res/image/720x1280/customer_4.atlas",md5:"22a1658824858015eaaea15c9256af14"},{file:"res/image/720x1280/customer_4.json",md5:"23cef304ba0de81b278a487e6cabc992"},{file:"res/image/720x1280/customer_4.png",md5:"a13e4fb04cc52a3c199c07a6347d5c66"},{file:"res/image/720x1280/customer_5.atlas",md5:"95b0d1559576074832f77217b6fc10a5"},{file:"res/image/720x1280/customer_5.json",
md5:"b1e5b4676a662dc2e0849338b4e5a341"},{file:"res/image/720x1280/customer_5.png",md5:"01727f8c677bc8d2c8f9b106c6fa3f65"},{file:"res/image/720x1280/customer_6.atlas",md5:"cb35e5a6e6a17685b8380b46571b7efc"},{file:"res/image/720x1280/customer_6.json",md5:"8730af78914e8a41c9230395162e33c7"},{file:"res/image/720x1280/customer_6.png",md5:"d055cf2f171422bdfdc5b44b7448e353"},{file:"res/image/720x1280/customer_7.atlas",md5:"80b3f7e2783926a0f337b97af7ed42a3"},{file:"res/image/720x1280/customer_7.json",md5:"5659371dc3a68e27f797468c52406b02"},
{file:"res/image/720x1280/customer_7.png",md5:"455770523e2165d877f1fd4cb1ae3518"},{file:"res/image/720x1280/customer_8.atlas",md5:"8f70af91b7666abdd8f2ea99aad22fe3"},{file:"res/image/720x1280/customer_8.json",md5:"f382bce221324fadb98b52393c267894"},{file:"res/image/720x1280/customer_8.png",md5:"a3a56e005bcb15cbc7712d9751ab8636"},{file:"res/image/720x1280/customer_9.atlas",md5:"364300a0ffedc030117dc8075b642e67"},{file:"res/image/720x1280/customer_9.json",md5:"e2fd84a866e9ba67c41e57ce91527ca2"},{file:"res/image/720x1280/customer_9.png",
md5:"4390adda97787bdadadfe9d29cafd86b"},{file:"res/image/720x1280/DailyLoginTipDialog.ccbi",md5:"6b7f72189c61e3d9b6bcb4f105d1c2fc"},{file:"res/image/720x1280/DailyTask.ccbi",md5:"06dff62b3dd9d8f543439e5a1c49ccf4"},{file:"res/image/720x1280/DailyTaskItem.ccbi",md5:"99398726f04a43fc97e5bc5659a49b42"},{file:"res/image/720x1280/DiamondNotEnoughDialog.ccbi",md5:"1d5bbe0ead246a7611042b758245fa06"},{file:"res/image/720x1280/dragDog.plist",md5:"9fddbcb6781d2eaa609c7b8bb9be1084"},{file:"res/image/720x1280/dragDog.png",
md5:"ad9f1cc0422a2d6bbb20432ab0acd7bc"},{file:"res/image/720x1280/DragDogScene.ccbi",md5:"15cfc4e13346be84dfb76aea5113558e"},{file:"res/image/720x1280/empty.atlas",md5:"d41d8cd98f00b204e9800998ecf8427e"},{file:"res/image/720x1280/empty.json",md5:"ff9efffb51e687346621646bbfea09af"},{file:"res/image/720x1280/energy.plist",md5:"205533ac6e398a47b732ea7dfc32813c"},{file:"res/image/720x1280/energy.png",md5:"da5e01d5751cfbde8946174d36f11956"},{file:"res/image/720x1280/energy_title_free.png",md5:"019d4897c87656acd169944d79a23263"},
{file:"res/image/720x1280/energy_title_get.png",md5:"55ee1e29ba70d91c8f422052ce5b0005"},{file:"res/image/720x1280/energy_title_lost_cn.png",md5:"e060eb0c3d64b3306317973f2b0df967"},{file:"res/image/720x1280/energy_txt_add_friend.png",md5:"63a95a9ab815249004dbd9adf425a492"},{file:"res/image/720x1280/energy_txt_request.png",md5:"091b3dff1bc6eed3479b1c38462dd528"},{file:"res/image/720x1280/EnergyDialog.ccbi",md5:"c87fa469998e81e6ee1ad7204ed3a4ec"},{file:"res/image/720x1280/entergame.png",md5:"e8a7b1f5b664ac8a108b54d66f8315bf"},
{file:"res/image/720x1280/equipments.plist",md5:"fe26774058104e8f580f60f5d976862f"},{file:"res/image/720x1280/equipments.png",md5:"0d63465e2b8d802337e4bfe5bc2b7e57"},{file:"res/image/720x1280/EquipTip.ccbi",md5:"695335985707ca86be6349928cb7d256"},{file:"res/image/720x1280/ExchangeCodeDialog.ccbi",md5:"f1329b970c703c981e5ca9dc966aae3b"},{file:"res/image/720x1280/falling_paper.plist",md5:"e64ada22f59d153ee8e342e81c796e6c"},{file:"res/image/720x1280/falling_paper.png",md5:"98d2fbaeb72ceb54e270456851083ce6"},
{file:"res/image/720x1280/falling_star.plist",md5:"7bf6e85931ddfc3ae81b20937193695f"},{file:"res/image/720x1280/falling_star.png",md5:"dcbef6c1115b4e1b6de1068d581990b6"},{file:"res/image/720x1280/falling_star2.plist",md5:"eb3091365fe0f21a89303ca8b8f16700"},{file:"res/image/720x1280/falling_star2.png",md5:"a623ed5505f07d463d512205eafa673a"},{file:"res/image/720x1280/feed1001.png",md5:"01729538d7d744afd1a9078ab07965b8"},{file:"res/image/720x1280/feed1002.png",md5:"50a7fd62e7a65182ec91b529469f38de"},
{file:"res/image/720x1280/feed1003.png",md5:"595ee7147d7d60af1331e097eaa32f9d"},{file:"res/image/720x1280/feed1004.png",md5:"1098e6f646fbd7afd7061e157c6b2061"},{file:"res/image/720x1280/feed1005.png",md5:"779d63c5931836efd9420187963b6947"},{file:"res/image/720x1280/feed1006.png",md5:"78bc0b03a43badeb19581934b9b9e19e"},{file:"res/image/720x1280/feed1007.png",md5:"6c9c4b43b074b80dbb7c02520dd0bd96"},{file:"res/image/720x1280/feed1008.png",md5:"10f7b612c58bbce56f38c03e9d2346b8"},{file:"res/image/720x1280/feed1009.png",
md5:"0ffe33cce92d5b757c57f2b5c0c25743"},{file:"res/image/720x1280/feed1010.png",md5:"8d7b5c77944441bdd08c0900fae9db83"},{file:"res/image/720x1280/feed1010_1.png",md5:"02e9618cd7245dc5efe4bbcfbc019696"},{file:"res/image/720x1280/feed1010_2.png",md5:"8a08812539efff0d1154ebb3fcef4acb"},{file:"res/image/720x1280/feed1010_3.png",md5:"c984bc748152b752b732922ed9eb8d05"},{file:"res/image/720x1280/feed1010_4.png",md5:"5298d6dbc0b9dd6b7edb6199907af5ed"},{file:"res/image/720x1280/feed1010_5.png",md5:"04ec2ea6115c1991e6b1c895beb87443"},
{file:"res/image/720x1280/feed1011.png",md5:"b1f8fa69fe7aff99e5ca51f3fea3a340"},{file:"res/image/720x1280/feed1012.png",md5:"4324d0b2d195479960962880f5e06d7a"},{file:"res/image/720x1280/feed1013.png",md5:"345ff282c5d5586e056de7e0baa500a3"},{file:"res/image/720x1280/feed1014_1.png",md5:"5ae13ac6ce49cc801cde2dc55e70889d"},{file:"res/image/720x1280/feed1014_2.png",md5:"b3f8bd21d1000c0f5b2d48a4f9e26ccf"},{file:"res/image/720x1280/feed1015_1.png",md5:"5ae13ac6ce49cc801cde2dc55e70889d"},{file:"res/image/720x1280/feed1015_2.png",
md5:"17a4fc16f4375512287c2b4d5ef8f910"},{file:"res/image/720x1280/feed1016.png",md5:"8e9f86626b3846920a94cf0db6fc0fee"},{file:"res/image/720x1280/feed1016_xl.png",md5:"5237017d1ee30502a57a90bfced4f650"},{file:"res/image/720x1280/feed1017.png",md5:"a76bbb1eff4b50478f0bdb3258e893f2"},{file:"res/image/720x1280/feed1020.png",md5:"94732e9064422921838d9ace9a76ba4e"},{file:"res/image/720x1280/feed1020_xl.png",md5:"0a52daee66534ee4409e44ac6c15f4ec"},{file:"res/image/720x1280/feed_flag.png",md5:"fffca4d7dc960c14bcdb2aebae772522"},
{file:"res/image/720x1280/FirstLevelNumInFriendDialog.ccbi",md5:"a1ff4813df158dbc5a2f2dbb2b8260c7"},{file:"res/image/720x1280/font_letter105.fnt",md5:"cc2fbd82daba869cf66467eeef2064cc"},{file:"res/image/720x1280/font_number1.fnt",md5:"07e89d310446151486a6f63d64043f99"},{file:"res/image/720x1280/font_number1.png",md5:"9fd28bbc5d0501756b06c19b8e6ca0aa"},{file:"res/image/720x1280/font_number104.fnt",md5:"5b581766f236643306671defa685c3d5"},{file:"res/image/720x1280/font_number104.png",md5:"1de3c0df25757e730c3585f7838bb0b2"},
{file:"res/image/720x1280/font_txt_start.fnt",md5:"dbe0c5a1244d965fcf0251a0981b2697"},{file:"res/image/720x1280/font_txt_start.png",md5:"8359b1abff49d16489b08a05688278a1"},{file:"res/image/720x1280/font_word_white.fnt",md5:"b49302c303203867cdbc844782e91b7d"},{file:"res/image/720x1280/ForceUpdate.ccbi",md5:"d9eb70cbfcf02a8a5554e8c20b295fbb"},{file:"res/image/720x1280/frame_car_30001.png",md5:"722563bebe50ea112adf0c335b59e2a4"},{file:"res/image/720x1280/frame_car_30002.png",md5:"789d4deb4948e979a38474f9888d3045"},
{file:"res/image/720x1280/frame_car_30003.png",md5:"96ec001ba2b8711ca45603eedeebd6f1"},{file:"res/image/720x1280/frame_car_30004.png",md5:"01848f9b2636db95b9d6dd2003d2946f"},{file:"res/image/720x1280/frame_car_30005.png",md5:"c18bddaff69c1905bee0e3a5ddac8db9"},{file:"res/image/720x1280/frame_car_30006.png",md5:"fb9b7acee748a68bdd1f7dd199a0f29e"},{file:"res/image/720x1280/frame_car_30007.png",md5:"29d95f2dfeeeb11045767b6d6fe19a7f"},{file:"res/image/720x1280/frame_car_30008.png",md5:"32c5860b4113b056c740529dcca233de"},
{file:"res/image/720x1280/frame_car_30009.png",md5:"d83af25ab7007cfcdbedd8dd0ff0cb8b"},{file:"res/image/720x1280/frame_car_30010.png",md5:"7e999476aa166ef54f662f04f6a8adde"},{file:"res/image/720x1280/frame_car_30011.png",md5:"1a454b4fd1f34a19ea114aea17b702ea"},{file:"res/image/720x1280/frame_car_30012.png",md5:"a4eb9d3a6df03f86b7787111e8c5b45f"},{file:"res/image/720x1280/frd_txt_send_request.png",md5:"7b0121e3d28ac6534d1b37ac7d7e2f5b"},{file:"res/image/720x1280/friend_rank_blue.png",md5:"108e54f06771c9471b5226bf1da8d7d9"},
{file:"res/image/720x1280/friend_rank_orange.png",md5:"597ed99ba5c1fb03e3802518052f63b2"},{file:"res/image/720x1280/FriendAddByID.ccbi",md5:"eb1b32099f959db86587347fc2a95353"},{file:"res/image/720x1280/FriendAddByQR.ccbi",md5:"f3e20321d858f6fcbef5586d73848f34"},{file:"res/image/720x1280/FriendAddItem.ccbi",md5:"acf34b04adaa1e85b0e297f8e08bef0c"},{file:"res/image/720x1280/FriendAddLayer.ccbi",md5:"ebbe8c925bc0eb2ce78ee30a854e191b"},{file:"res/image/720x1280/FriendInfo.ccbi",md5:"63a6f70b71720ec84f19ee7e88c6981c"},
{file:"res/image/720x1280/FriendInfoItem.ccbi",md5:"f7fb9c7d8a8fbfa6ca9298bb4bcc02fe"},{file:"res/image/720x1280/FriendLayer.ccbi",md5:"fd23f2a9caddb92a6db1a0f5e66f9f07"},{file:"res/image/720x1280/FriendPKLayer.ccbi",md5:"7656c0b833f6bb956b982536346aec95"},{file:"res/image/720x1280/FriendRankInfo.ccbi",md5:"30da95d9f56344ff5501789743c8d07e"},{file:"res/image/720x1280/FriendRankLayer.ccbi",md5:"450eb136120f4c82a3b3ccd34670aa6c"},{file:"res/image/720x1280/FriendRequestHelpLayer.ccbi",md5:"f72c8e8f648f4ee519a88304a880f5a7"},
{file:"res/image/720x1280/FriendRequestItem.ccbi",md5:"0ddc74e14e4535fdc5cd90411baac492"},{file:"res/image/720x1280/FriendRequestLayer.ccbi",md5:"6826269e189e75a20970c050c9337a0b"},{file:"res/image/720x1280/FriendRule.ccbi",md5:"a5234bbf6dba436251278be21f21ebfd"},{file:"res/image/720x1280/friends.plist",md5:"d8df1749a989fad58ef9c1eae8889314"},{file:"res/image/720x1280/friends.png",md5:"76f34b86b1a964f1115581935f3bf5d0"},{file:"res/image/720x1280/FristChargeDialog.ccbi",md5:"94954bf9585a9a69d21a7b1cf8b63586"},
{file:"res/image/720x1280/game_icon.png",md5:"e05bb855e87c310218ad73a8cdedff78"},{file:"res/image/720x1280/game_logo.png",md5:"03d3c777b34c77ef0a2bc60f5afcaf6b"},{file:"res/image/720x1280/gamebg.plist",md5:"baa18d8c7cd177ad3526bca113064931"},{file:"res/image/720x1280/gamebg.png",md5:"bac0089418fbef6cade30a47b505ac4d"},{file:"res/image/720x1280/GameClear.ccbi",md5:"e2cdf2abf091db3563fa5ed251c9afcb"},{file:"res/image/720x1280/gameclear.plist",md5:"244a1fd3e07bd06af2c33ad50cb18144"},{file:"res/image/720x1280/gameclear.png",
md5:"37df5d6b4d18963461bb052554966c82"},{file:"res/image/720x1280/GameComboTip.ccbi",md5:"a3b2eadaf9f6fbb22cadf3f867d68215"},{file:"res/image/720x1280/GameComboTip2.ccbi",md5:"1f32d145bb94b7bd55d50677ef0fc2f6"},{file:"res/image/720x1280/GameCriticalHit.ccbi",md5:"886bc9daf7e2be27c031a3cd0a230038"},{file:"res/image/720x1280/GameEndStory.ccbi",md5:"b15fb3b189f16c9366790d2f72611f89"},{file:"res/image/720x1280/GameFailed.ccbi",md5:"aa311350400f4b47fca7e678b106fc8f"},{file:"res/image/720x1280/gamemap.plist",
md5:"833243d4ab1723c1f3686a27f5f009f7"},{file:"res/image/720x1280/gamemap.png",md5:"6e487c5499e4f95943fb2b7a20f59480"},{file:"res/image/720x1280/gamemap_more_level.png",md5:"ab96215fc68aa276554890550fc595ec"},{file:"res/image/720x1280/GameNpcItem.ccbi",md5:"04baddac1aebbb93ab93a53fed516c3b"},{file:"res/image/720x1280/GamePauseDialog.ccbi",md5:"88e39535b703fc9eb68709f6404752dd"},{file:"res/image/720x1280/GameRank.ccbi",md5:"b824cec59b2eef9ec995b5a381cc5094"},{file:"res/image/720x1280/GameRankItem.ccbi",
md5:"86180ec667d2dd9784b41c2b62e1d91f"},{file:"res/image/720x1280/GameRankItem2.ccbi",md5:"b49ee0f8cb10411b54e192c878885255"},{file:"res/image/720x1280/GameSettingDialog.ccbi",md5:"6c59f7a527bd89148ef6c806609f00e6"},{file:"res/image/720x1280/GameTips.ccbi",md5:"3e022a8d9badb1be9be57c5b8c83605d"},{file:"res/image/720x1280/GameTipsCommonItem.ccbi",md5:"7fdf4879771dff33cae43e559ab54cde"},{file:"res/image/720x1280/GameTipsItem0.ccbi",md5:"6efba8af5d7e70162ad03179faf7c294"},{file:"res/image/720x1280/GameTipsItem1.ccbi",
md5:"a92890986fb4572148054c7ea910281d"},{file:"res/image/720x1280/GameTipsItem2.ccbi",md5:"4cf80085c858457b478394f79b6293a6"},{file:"res/image/720x1280/GameTipsItem3.ccbi",md5:"cfd9f757f2ed642fb8a3fb2f3761de9b"},{file:"res/image/720x1280/GameTipsItem4.ccbi",md5:"cbb61c1f09ea4cef80fdfefc60ee7fb0"},{file:"res/image/720x1280/GameTipsItem5.ccbi",md5:"648fba346fc61b529a47b006d664ed11"},{file:"res/image/720x1280/GameWinTip.ccbi",md5:"f0304a1d7d6ae60c7e11101e16ce2375"},{file:"res/image/720x1280/GameWorld.ccbi",
md5:"d1356a14a0ac4215f11ae5108d574bc3"},{file:"res/image/720x1280/GameWorldEdit.ccbi",md5:"f5a071d2a261c492d3660912fa327beb"},{file:"res/image/720x1280/GameWorldEditItem.ccbi",md5:"fd73bda07f9d53ccff62993c68873de0"},{file:"res/image/720x1280/GameWorldEditUI.ccbi",md5:"503aaa8a0cebba49325b59af3698eeed"},{file:"res/image/720x1280/GameWorldFg.ccbi",md5:"b44c887b92ec4047c7a4695a9047355b"},{file:"res/image/720x1280/GameWorldProp.ccbi",md5:"f842798f26e4ca2fbbab8d5bb8c24e91"},{file:"res/image/720x1280/GameWorldTarget.ccbi",
md5:"11f89eedae59e846eac295d123b31225"},{file:"res/image/720x1280/GameWorldUI.ccbi",md5:"9a0ba934d2f5f46daba6c59290605eb9"},{file:"res/image/720x1280/get_pet_animation.atlas",md5:"aada827b8dfe2069c5106eaf15d26e8a"},{file:"res/image/720x1280/get_pet_animation.json",md5:"e428abca5fdc4a769ac57355bd11973b"},{file:"res/image/720x1280/get_pet_animation.png",md5:"5297c3e13e50b50ea3d2792e1ecaea47"},{file:"res/image/720x1280/GetNewPetDialog.ccbi",md5:"739596bcae2f93338170dfbc7a949216"},{file:"res/image/720x1280/GetNewPetXcx.ccbi",
md5:"a8ac8ca41a311593eb0d1f1df7a7d8f0"},{file:"res/image/720x1280/GetRewardDialog.ccbi",md5:"3b4955eef232e2310238c5af3857b5ef"},{file:"res/image/720x1280/gift_levelup.atlas",md5:"798d7ee9945c27afc45ee3588ee77277"},{file:"res/image/720x1280/gift_levelup.json",md5:"95db3d2967241c3f8d8c38f654cfd8b1"},{file:"res/image/720x1280/gift_levelup.png",md5:"042d01bdda8718f337e5239bc31c34ff"},{file:"res/image/720x1280/gRank_Bg.png",md5:"2b2bde8022d0a70c54032ff75c39a5f3"},{file:"res/image/720x1280/gRank_btnFront_GoDiss.png",
md5:"1f2671ac17e3ee5a9b3e7000498ff9fd"},{file:"res/image/720x1280/gRank_btnFront_GoShow.png",md5:"f2e03a6dd6b02c21db90aed6c2e73df6"},{file:"res/image/720x1280/gRank_btnFront_OpenGame.png",md5:"c8583f901db09243e95f415983f1b682"},{file:"res/image/720x1280/gRank_btnFront_OwnRank_check.png",md5:"47e570c50ca72ea4cf7063a1296d6519"},{file:"res/image/720x1280/gRank_btnFront_OwnRank_uncheck.png",md5:"fa52721ea08f0d974184389a3b9ef71c"},{file:"res/image/720x1280/gRank_btnFront_WorldRank_check.png",md5:"a861d2f95d06b6c1b168851b3b998427"},
{file:"res/image/720x1280/gRank_btnFront_WorldRank_uncheck.png",md5:"2a53c47db5337a10986f22617a5e17b0"},{file:"res/image/720x1280/gRank_Title_Score.png",md5:"934046b1cf6609dccd6daee099aa34c0"},{file:"res/image/720x1280/gRank_Title_Yours.png",md5:"d1adcf3e71f32245311c0270f557411f"},{file:"res/image/720x1280/grouprank.plist",md5:"0e8a14ae853b65455d90be21838cea7b"},{file:"res/image/720x1280/grouprank.png",md5:"c88db8818a74e1a6f6a64214ffb0bb75"},{file:"res/image/720x1280/GroupRankNew.ccbi",md5:"1d1ce6299424c38bf7966f5cd2beb8a6"},
{file:"res/image/720x1280/groupranknew.plist",md5:"687d2b067f09aa116bb8bbcef3eb729a"},{file:"res/image/720x1280/groupranknew.png",md5:"5fcd38337ffa682975835822301527d9"},{file:"res/image/720x1280/guide.atlas",md5:"91c11c924f5b65282e9879a22b34389f"},{file:"res/image/720x1280/guide.json",md5:"ed10d240294afc319e2251ccebba31bb"},{file:"res/image/720x1280/guide.png",md5:"a0aad4b9c008c3c79ed25d39e3d4d174"},{file:"res/image/720x1280/guide_1.atlas",md5:"5cf26b39ef99db6d87d1f06241575bfe"},{file:"res/image/720x1280/guide_1.json",
md5:"17f63b2a8d2defb59f3d7d5ccd8f4866"},{file:"res/image/720x1280/guide_1.png",md5:"9b3db85899c0fef1948146f96c664312"},{file:"res/image/720x1280/guide_13.atlas",md5:"be2d8d589d75ed0b1478105fb61d5722"},{file:"res/image/720x1280/guide_13.json",md5:"c87d9333c63bbc01a2ea343b9a9a82ce"},{file:"res/image/720x1280/guide_13.png",md5:"ce376be6a51f33f0f8e016a743f9f3c3"},{file:"res/image/720x1280/guide_15.atlas",md5:"7363454f101bbb9c662176e7079d6918"},{file:"res/image/720x1280/guide_15.json",md5:"3b819493358184635aa1f3adc292aa6d"},
{file:"res/image/720x1280/guide_15.png",md5:"652d1d92fe66b1c8b9d47cf3d3448327"},{file:"res/image/720x1280/guide_19.atlas",md5:"3fc2ee280e7c262b7d8f37b8f6f8e8f3"},{file:"res/image/720x1280/guide_19.json",md5:"7c60a3cdf8a66082eb354c722ac54db4"},{file:"res/image/720x1280/guide_19.png",md5:"d11a979cf8fbc10f649c21fd9036e89b"},{file:"res/image/720x1280/guide_2.atlas",md5:"e7517acd4fd55398dc64e0f0246adb60"},{file:"res/image/720x1280/guide_2.json",md5:"a391cfb739438be8d7070b0e17a5c0fb"},{file:"res/image/720x1280/guide_2.png",
md5:"b90be900b5c5a22a8d728a4198bad3ec"},{file:"res/image/720x1280/guide_21.atlas",md5:"08b2c2e2ab366b6a522ed76abad6c37c"},{file:"res/image/720x1280/guide_21.json",md5:"6664b01553f8d6ae57d38a6e1d4d2de8"},{file:"res/image/720x1280/guide_21.png",md5:"b64554369fd162bf99126989c4e9606d"},{file:"res/image/720x1280/guide_22.atlas",md5:"d005a696a2d0392f49e9f33b781c2217"},{file:"res/image/720x1280/guide_22.json",md5:"567563084194a86e44f2607a0347b2b7"},{file:"res/image/720x1280/guide_22.png",md5:"129d10d64c10ef7f89dfb0bdc370ca3d"},
{file:"res/image/720x1280/guide_23.atlas",md5:"5b6e15eb30bf5f5181baf5d0697d446f"},{file:"res/image/720x1280/guide_23.json",md5:"384797dbfcf0c0c3ec8a546ba5f28087"},{file:"res/image/720x1280/guide_23.png",md5:"06c3f99f133534affba076c87901d33d"},{file:"res/image/720x1280/guide_3.atlas",md5:"9e02f03da31b4660353ca6787650c9b0"},{file:"res/image/720x1280/guide_3.json",md5:"52e3e350dd0200e0c57f3ea988556f0c"},{file:"res/image/720x1280/guide_3.png",md5:"14066b9eb7e41ea5abf0f6a0b6dba67e"},{file:"res/image/720x1280/guide_32.png",
md5:"394935419a9d36dd6932ad996c74e8ef"},{file:"res/image/720x1280/guide_36.atlas",md5:"afae84170c9abdf68978d0dafb43c8ba"},{file:"res/image/720x1280/guide_36.json",md5:"26a8103c5161b1f10043cb12127ff882"},{file:"res/image/720x1280/guide_36.png",md5:"b1921353ff82fc4b28f4710e3b0c7bac"},{file:"res/image/720x1280/guide_4.atlas",md5:"26bb295619d133d1b7893cd01ddc3eea"},{file:"res/image/720x1280/guide_4.json",md5:"16d4116354ba2d35d4094eac53641e96"},{file:"res/image/720x1280/guide_4.png",md5:"0473ed5b49e37edc089879ff15dc6dbe"},
{file:"res/image/720x1280/guide_5.atlas",md5:"6349cf9fa0c5eca2d90ef43df5c75167"},{file:"res/image/720x1280/guide_5.json",md5:"21e5e07df08cccf0458f51c7ca403de9"},{file:"res/image/720x1280/guide_5.png",md5:"1ecef8585dd4211ba9cf01ca7b5367f2"},{file:"res/image/720x1280/guide_52.png",md5:"963e8b643cfebf50251415e1e0929ce1"},{file:"res/image/720x1280/guide_53.png",md5:"0a875ac7496b1c2b549b24fd5f73c821"},{file:"res/image/720x1280/guide_9.atlas",md5:"8e167961b595bd3da0d7b1934a9c39af"},{file:"res/image/720x1280/guide_9.json",
md5:"4080531c555de213b10583ecc33756ee"},{file:"res/image/720x1280/guide_9.png",md5:"a96b675de86a698d78372cc77a3f6cc0"},{file:"res/image/720x1280/guide_91.atlas",md5:"e0d3a882337818e40be19125c350cd9e"},{file:"res/image/720x1280/guide_91.json",md5:"175e923389d22228ac20923078c59238"},{file:"res/image/720x1280/guide_91.png",md5:"bac39388873f11f7c3827196bc04b739"},{file:"res/image/720x1280/guide_fruit_shape1.png",md5:"5f93ae6e9c2b3cac54e826783c0ac511"},{file:"res/image/720x1280/guide_fruit_shape2.png",
md5:"a1fdb5384d9788f11b1fcb2d5f415a82"},{file:"res/image/720x1280/guide_fruit_shape3.png",md5:"2927e96e83f8f6c5dabffc1561a1ab36"},{file:"res/image/720x1280/guide_go_on.png",md5:"0f009cc5c33de7e3dc7a3e53487c23d1"},{file:"res/image/720x1280/guide_s_arrow.png",md5:"9d391728dac7b3385871baae9768c93b"},{file:"res/image/720x1280/guideBlack.jpg",md5:"e8ed6f2f9b3181508bea47ab54553bde"},{file:"res/image/720x1280/guideMask.png",md5:"45b2168f86831edcdcf3e2c1c5bc298c"},{file:"res/image/720x1280/hand_0.png",md5:"75fa26833b1ac3b46f42a065c7b82e8a"},
{file:"res/image/720x1280/headbox.png",md5:"4836c1c348f651040c55848a2b345a04"},{file:"res/image/720x1280/high_light.atlas",md5:"6c8711ac5cbfea03bb3b9714a151fd27"},{file:"res/image/720x1280/high_light.json",md5:"7aec9ddeb35d947c9c7ae8f796ba45ab"},{file:"res/image/720x1280/high_light.png",md5:"39da19a10d55c762017f6fa2dbe82136"},{file:"res/image/720x1280/husky_chess_light.png",md5:"9852faa71878b9852bbbf12a8ddfdd6c"},{file:"res/image/720x1280/husky_main_light.png",md5:"66d9d3b09633ad18626981103eba38c0"},
{file:"res/image/720x1280/husky_reward_light.png",md5:"fd7d21105865d957acc7e8e6057a9a2e"},{file:"res/image/720x1280/huskyActivity.plist",md5:"87545ea5db3ccb08197c7b63f52d5b68"},{file:"res/image/720x1280/huskyActivity.png",md5:"bb5a50d11229d59225c18a1917dde80c"},{file:"res/image/720x1280/HuskyChess.ccbi",md5:"5c43de20fec18cafea2fc4b1d3724da4"},{file:"res/image/720x1280/HuskyChessItem.ccbi",md5:"edcf0549bfc1cabe2b01e543bdf948b0"},{file:"res/image/720x1280/HuskyChessItemBg.ccbi",md5:"2a366a09e3949851886a0bf0b895905e"},
{file:"res/image/720x1280/HuskyChessItemLabel.ccbi",md5:"1b4f2088e8b1f1e653a0f3712c4993d4"},{file:"res/image/720x1280/HuskyChessMask.ccbi",md5:"7b2a17ee4e5aca7eb73d633844425078"},{file:"res/image/720x1280/HuskyChessRewardItem.ccbi",md5:"f0e42aaf599e91c0940bc5eb6a14ff27"},{file:"res/image/720x1280/HuskyChessRewardTot.ccbi",md5:"975d217cdbdc93275bc719b1c352db10"},{file:"res/image/720x1280/huskyChessRule.ccbi",md5:"534b382dfbafea3918ab21784c00031a"},{file:"res/image/720x1280/HuskyChessUI.ccbi",md5:"5ee94b965c2e0bfd2dfc0b735a99a8a8"},
{file:"res/image/720x1280/HuskyConfirmDialog.ccbi",md5:"0ff27b03c01f878ca33c15f92b2488e1"},{file:"res/image/720x1280/HuskyDailyReward.ccbi",md5:"8fbc84905d2bfbc10970c6f8dc5a8608"},{file:"res/image/720x1280/HuskyMainPage.ccbi",md5:"eaee0f387f8fb27e2ec35871b2a2fa93"},{file:"res/image/720x1280/huskyMainRule.ccbi",md5:"6a0b43acafd8c64ddc40c80375835b81"},{file:"res/image/720x1280/HuskyRankList.ccbi",md5:"50aef2c36d79887f7b65b649ec544657"},{file:"res/image/720x1280/HuskyRankListItem.ccbi",md5:"ae716abca4e60b0ceaf1f596b74f42f5"},
{file:"res/image/720x1280/HuskyRewardGet.ccbi",md5:"331949e3aee046e6526ba2b045d2e40a"},{file:"res/image/720x1280/HuskyTask.ccbi",md5:"de281505c4faffc037698dbac1239ffc"},{file:"res/image/720x1280/ico_activity_10001.png",md5:"407202a516885bad619a6e1101343d1f"},{file:"res/image/720x1280/ico_activity_10003.png",md5:"dc9f61a003269eb12a4b3e41f56da650"},{file:"res/image/720x1280/ico_activity_10004.png",md5:"1a7bdda8f26c8bd3f82bda1a33477c18"},{file:"res/image/720x1280/ico_activity_10005.png",md5:"16c7c85e35b06726999b34c68b3630b5"},
{file:"res/image/720x1280/ico_activity_10006.png",md5:"65c73816a47d041c7a2fbd27ac90bb41"},{file:"res/image/720x1280/ico_big_lottery.png",md5:"9d8ee1ba0409eb8889a0e95f00f817b9"},{file:"res/image/720x1280/ico_big_mark.png",md5:"4374c1557bdcca8bc239d5e1acac43b4"},{file:"res/image/720x1280/ico_star.png",md5:"3c447d419b8eeaf8ca64d09b5b40c232"},{file:"res/image/720x1280/ico_star_0.png",md5:"cb7f3d26526e665341e82f21f0818c2a"},{file:"res/image/720x1280/img_official_acount.jpg",md5:"2f202c1d889e8aa18c60e8d32ca73116"},
{file:"res/image/720x1280/In5PassLevelDialog.ccbi",md5:"41739f7e2bd24db576cde65d8f1cafa7"},{file:"res/image/720x1280/In5PassLevelXcx.ccbi",md5:"ba937afd9f49f4dfc9f37cfbdd88c13f"},{file:"res/image/720x1280/invite_reward_bg.png",md5:"8ce66590734bd95ff05519f832a922d0"},{file:"res/image/720x1280/invite_reward_list_bg.png",md5:"8a0f3805c3b1488b0a090085acf7b294"},{file:"res/image/720x1280/invite_reward_list_title.png",md5:"0be7368e1d7f51e8daed9de15a48fe62"},{file:"res/image/720x1280/invite_reward_pad_1.png",
md5:"e8f3bb63340bb4cde0e0649f6dff2528"},{file:"res/image/720x1280/invite_reward_pad_2.png",md5:"ccf3885d39dac3b50a82addc1f7fb824"},{file:"res/image/720x1280/invite_reward_title.png",md5:"7a4a2ccfe26667e5619430b767a88ad7"},{file:"res/image/720x1280/InviteFriendItem.ccbi",md5:"9d3114f915b51ef528e37f97376a087f"},{file:"res/image/720x1280/InviteFriendListLayer.ccbi",md5:"4350fb2cde340025ee60be888c1131c9"},{file:"res/image/720x1280/InviteRewardDialog.ccbi",md5:"52156d584ce9bf3c60ac8d0cdbc27ecf"},{file:"res/image/720x1280/InviteRewardListItem.ccbi",
md5:"9fddf8328b12011a8a9edf81ec404f5f"},{file:"res/image/720x1280/InviteRewardQQDialog.ccbi",md5:"00b806047cf9187bf61998440f7c55d7"},{file:"res/image/720x1280/InviteRewardQQListItem.ccbi",md5:"ab823609817f10e7ffe9350ac5def029"},{file:"res/image/720x1280/InviteRewardTipDialog.ccbi",md5:"1710dde94765f12d32fa43a46b7578ac"},{file:"res/image/720x1280/InviteRewardXyxDialog.ccbi",md5:"fbb94c15484af62d86acac0bd7d5f2b5"},{file:"res/image/720x1280/InviteRewardXyxListItem.ccbi",md5:"1739f816c2dbab2a36c801bde3d0ac6e"},
{file:"res/image/720x1280/ItemSourceDialog.ccbi",md5:"f24638bff274c8248d53f8fc115c6a3e"},{file:"res/image/720x1280/ItemTipCommon.ccbi",md5:"dd671864a3c7331d0653a0168bd1c156"},{file:"res/image/720x1280/ItemTipUse.ccbi",md5:"d745805fd97bf595b9f4ce2a3c0cd43c"},{file:"res/image/720x1280/kit.atlas",md5:"54a6a9a455a251d3f2061ff4cc6c6569"},{file:"res/image/720x1280/kit.json",md5:"b9ed67eb745df3fd2fc866485b7564b5"},{file:"res/image/720x1280/kit.png",md5:"352d453911d6eda784aab97674898cf5"},{file:"res/image/720x1280/kitchen_help_title.png",
md5:"ad8e1e69d0e784891b5538d7a7fb1b53"},{file:"res/image/720x1280/kitchen_help_title_rank.png",md5:"299a08d4ee95b68252d234dc3dd10cba"},{file:"res/image/720x1280/kitchen_help_title_reward.png",md5:"5fc63fde9d4fd81db08cf35aa67078d6"},{file:"res/image/720x1280/kitchen_label_contest.png",md5:"b39ec5c726b4adb90b166708ec6ec3ef"},{file:"res/image/720x1280/kitchen_pass_title_fail.png",md5:"c59e89ba30ca2fb7bee00eebcd130fd2"},{file:"res/image/720x1280/kitchen_pass_title_success.png",md5:"9951a481ac138af6c8308aac2a140b96"},
{file:"res/image/720x1280/kitchen_reward_more.png",md5:"32389c49d97ff8a421023f1b6ef2d5fa"},{file:"res/image/720x1280/kitchen_reward_title.png",md5:"7dd865af2c012aceb92b63f84a5e9842"},{file:"res/image/720x1280/kitchen_title.png",md5:"fb0cf1553d99bfd78f63fe2baa5e5c01"},{file:"res/image/720x1280/kitchengod.plist",md5:"216672a349f1c3a22dfde1e01a6b3ca5"},{file:"res/image/720x1280/kitchengod.png",md5:"37cf1c2dd9514d43682705b79189e4a3"},{file:"res/image/720x1280/KitchenGodFriendItem.ccbi",md5:"c6ab2d13a6bef861ecc014382b320eac"},
{file:"res/image/720x1280/KitchenGodGameNpcItem.ccbi",md5:"531fa63b273737a590729d0b88c90c7c"},{file:"res/image/720x1280/KitchenGodGameTarget.ccbi",md5:"f5475ed0b09feb930c678ab97a96b318"},{file:"res/image/720x1280/KitchenGodGameTargetStar.ccbi",md5:"5a815c5c40953c6f9624e67fef2aade1"},{file:"res/image/720x1280/KitchenGodGameUI.ccbi",md5:"06dc63ba6604f6d695e1ee418cb08c4b"},{file:"res/image/720x1280/KitchenGodHelp1.ccbi",md5:"191db7f146d03d94f0afa69128548759"},{file:"res/image/720x1280/KitchenGodHelp2.ccbi",
md5:"d3893768560f53d62e517a37dc57fa19"},{file:"res/image/720x1280/KitchenGodHelp3.ccbi",md5:"155d6c5d9202d79419eb539c92a2f1f9"},{file:"res/image/720x1280/KitchenGodHelp4.ccbi",md5:"b0559e3a9c841d73730d2a3e5070b9cc"},{file:"res/image/720x1280/KitchenGodHelpLayer.ccbi",md5:"d3d79e0c9dab0b6e0d8acd98497596ac"},{file:"res/image/720x1280/KitchenGodLastRewardDialog.ccbi",md5:"a7c320d0d1ff0d692b9a94bf3946834b"},{file:"res/image/720x1280/KitchenGodLayer.ccbi",md5:"6b8afbb86d20d74f06781948ab2b1ee6"},{file:"res/image/720x1280/KitchenGodPassLayer.ccbi",
md5:"8b87b93145f7a12eb00b05f7017a6ac7"},{file:"res/image/720x1280/KItchenGodQueryDialog.ccbi",md5:"3ea3d4bf130e354cdb03e9ad99982b6b"},{file:"res/image/720x1280/KitchenGodRankItem.ccbi",md5:"d99d89f9c5c7bfcb755246b65d3d5839"},{file:"res/image/720x1280/KitchenGodRankLayer.ccbi",md5:"eee015aadc00ce89c3f469c5ec9f71df"},{file:"res/image/720x1280/KitchenGodRewardItem.ccbi",md5:"9b1d79aac7ee10f9abdc33af8c10028e"},{file:"res/image/720x1280/KitchenGodRewardItemTip.ccbi",md5:"fc842a8571dd023f10944b6ab68d6fda"},
{file:"res/image/720x1280/KitchenGodRewardLayer.ccbi",md5:"561ecd9daf4ebb343f6965db8d974ba6"},{file:"res/image/720x1280/level_flag.png",md5:"a7a03264e90748653b711deab55b4866"},{file:"res/image/720x1280/level_target.plist",md5:"5d2613ce87cd4fa1d2bd359bbba5f913"},{file:"res/image/720x1280/level_target.png",md5:"af1093b71cbf944bae7b4446fdfed796"},{file:"res/image/720x1280/LevelBeyondFriendDialog.ccbi",md5:"7601399ee4183c372390f4f8b70a1615"},{file:"res/image/720x1280/light_dot.plist",md5:"f31af877ca518b1ab9ed384656f6c9f7"},
{file:"res/image/720x1280/light_dot.png",md5:"c42f48ad1802ead668062c31c7e6bf9c"},{file:"res/image/720x1280/LiteEndFinishDialog.ccbi",md5:"0b2b3db6711966bdebec1d7700d53dce"},{file:"res/image/720x1280/loading.atlas",md5:"55ae1fa328f2bb687b160f0287f41876"},{file:"res/image/720x1280/loading.json",md5:"c9b8a598751a861cac379251be505936"},{file:"res/image/720x1280/loading.png",md5:"0eb61fbc4744f4808a0c5707690a2ed8"},{file:"res/image/720x1280/Lottery.ccbi",md5:"97135c32446b1a600440c636c4c106e3"},{file:"res/image/720x1280/lottery.plist",
md5:"211fa01f709469717ecab1624f41547a"},{file:"res/image/720x1280/lottery.png",md5:"c4a1294207b5f42a2aa6c8fa829154df"},{file:"res/image/720x1280/lottery_b2.plist",md5:"77730de72c18b7235d3e929a23216f9b"},{file:"res/image/720x1280/lottery_prob.png",md5:"e3caceee8e6b2c45275f1f4d647d8a41"},{file:"res/image/720x1280/LotteryDressItem.ccbi",md5:"28873b755754b9277c46c72e6efd071a"},{file:"res/image/720x1280/LotteryEquipItem.ccbi",md5:"bd3886e5f743f584c45ee0c128e9c3c2"},{file:"res/image/720x1280/LotteryHandbook.ccbi",
md5:"1d3b1db028473ab49daa924f65328865"},{file:"res/image/720x1280/LotteryHandbookItem.ccbi",md5:"fe4c9963e0119c930dd261df0695806d"},{file:"res/image/720x1280/LotteryOneReward.ccbi",md5:"385206b20448511cb545475f70460cb2"},{file:"res/image/720x1280/LotteryOtherItem.ccbi",md5:"28040adf5137ae8b6f128a5ebcae280d"},{file:"res/image/720x1280/LotteryProb.ccbi",md5:"5459d2f191b536bcbc04c6fe8571322e"},{file:"res/image/720x1280/LotterySendLayer.ccbi",md5:"b069f9ac218f5145666088bb699875b7"},{file:"res/image/720x1280/LotterySpecialReward.ccbi",
md5:"898916972f36bdfc646f4e4b8c3a291b"},{file:"res/image/720x1280/LotteryTenReward.ccbi",md5:"58bb39c101dad175ef6831f54d38de21"},{file:"res/image/720x1280/ltr_desktop.png",md5:"951d61474dfab35b2469a438bfb035ff"},{file:"res/image/720x1280/lucky_kit_box.png",md5:"8e1f1451fc8ecc086390c6dc1dccc47b"},{file:"res/image/720x1280/LuckyKitDialog.ccbi",md5:"cc5e8ee90d8961a9ad4d88355b84347b"},{file:"res/image/720x1280/LuckyPassLevelDialog.ccbi",md5:"9f0f5de6c9fecc34775a63e828cd6c7a"},{file:"res/image/720x1280/LuckyPassLevelXcx.ccbi",
md5:"57ffd4afc5e1e57ca650698c79b8e9fc"},{file:"res/image/720x1280/mail.plist",md5:"5b725e7e2bf99469fc3f282a0143d637"},{file:"res/image/720x1280/mail.png",md5:"734359785d01afbe9c0ba810d48e301f"},{file:"res/image/720x1280/MailCenterLayer.ccbi",md5:"0adf965a55ae2e0291f45505e6bdf791"},{file:"res/image/720x1280/MailFriendHeadItem.ccbi",md5:"12f1d409d48e49cf621b04cb65bbb82b"},{file:"res/image/720x1280/MailFriendMsg.ccbi",md5:"f4dbb4337a9c53bf4c758f0a82fc6179"},{file:"res/image/720x1280/MailFriendMsgItem.ccbi",
md5:"c8512a3c180dbcaa229d1c43929c8919"},{file:"res/image/720x1280/MailNoticeMsg.ccbi",md5:"367df9821d095a810b3dc798cdea83dd"},{file:"res/image/720x1280/MailNoticeMsgItem.ccbi",md5:"ddd58cc51b9ffe6d1bd44511ebe0db23"},{file:"res/image/720x1280/MailSystemMsg.ccbi",md5:"fcbf3a6bd3873340867c389528b5b84e"},{file:"res/image/720x1280/MailSystemRewardItem.ccbi",md5:"409d95bf306a97218f2d81cc8dad5b80"},{file:"res/image/720x1280/mainui.plist",md5:"2f706ffb64fd32f04ee439d439f05b2c"},{file:"res/image/720x1280/mainui.png",
md5:"ac8ef303c337dc48ec8def0d23b5358e"},{file:"res/image/720x1280/map1_FountainPool.json",md5:"45c040273371d0ebfa5c2efe5524600e"},{file:"res/image/720x1280/map4_windmill.json",md5:"a5f7719994237543096b249f0b55f12f"},{file:"res/image/720x1280/map5_catfisher.json",md5:"04233dbfd8477e0f5761018b4d2d71d3"},{file:"res/image/720x1280/map_anim.atlas",md5:"b4112734a0388ff7ac105c33b8ecdb6a"},{file:"res/image/720x1280/map_anim.png",md5:"8fd9222129ad3dcb693ab6d38beeb299"},{file:"res/image/720x1280/map_cell_effect.png",
md5:"0397f64e047518b661e6fcde0c5fa0bd"},{file:"res/image/720x1280/mapBgOpt.jpg",md5:"3aa2d8f2782af5fdf4eed96602605365"},{file:"res/image/720x1280/MenuItem.ccbi",md5:"0aab522a19360ab33a095c83a0ad1444"},{file:"res/image/720x1280/MilestoneItem.ccbi",md5:"447ff92ebcf655a242ea6970f05d5514"},{file:"res/image/720x1280/NewFeatureLevelDialog.ccbi",md5:"9ccb10bb3fcc4a6f775c797e35d5e3af"},{file:"res/image/720x1280/NewFeatureLevelXcx.ccbi",md5:"959a07d4d7a059626c02aeede708ca9b"},{file:"res/image/720x1280/niudan.atlas",
md5:"91ecf75fc0eb5dabe64f3f6bc6bca313"},{file:"res/image/720x1280/niudan.json",md5:"80f699e5a9c023fa298947cc1fc083d9"},{file:"res/image/720x1280/niudan.png",md5:"8f8c10c254fe03797492a69f2ff092b2"},{file:"res/image/720x1280/No1InFriendsDialog.ccbi",md5:"ba2cd6a2ee036157dc3e4f9057bdcefa"},{file:"res/image/720x1280/novice.plist",md5:"c013c309452b6aca92d1952b15d6374d"},{file:"res/image/720x1280/novice.png",md5:"c17eb487e421f85b3dcb4716a6f782ea"},{file:"res/image/720x1280/NoviceGiftPack.ccbi",md5:"f6a0375d6bd16ec452aa6b6bb1820062"},
{file:"res/image/720x1280/NoviceTipDialog.ccbi",md5:"68f9dc0a7dc605733335bf1045caf1c4"},{file:"res/image/720x1280/num_blue_score.fnt",md5:"d3c67856ad3a5b44783e55b6a8bff2f4"},{file:"res/image/720x1280/num_blue_score.png",md5:"eae2c699fa4a56a2dda76d40afd2106f"},{file:"res/image/720x1280/num_feed_yellow.fnt",md5:"36e09226b1beb41983b96346ab2f4abe"},{file:"res/image/720x1280/num_feed_yellow.png",md5:"d5ff6961d3550e65d8f4048a1edda2bb"},{file:"res/image/720x1280/num_greenbutton.fnt",md5:"cbe51502274e1829e1ae9be21d3e6405"},
{file:"res/image/720x1280/num_greenbutton.png",md5:"07f47c9ed28bf46a3331158ba13ca497"},{file:"res/image/720x1280/num_jianbianblue.fnt",md5:"4c75b7e064ee73db0a26d9b5912f42dd"},{file:"res/image/720x1280/num_jianbianblue.png",md5:"b708b831436b578cb4c60a6fe58968d5"},{file:"res/image/720x1280/num_jianbianyellow.fnt",md5:"14b6ddc0f3bda2e718c15a68122638a4"},{file:"res/image/720x1280/num_jianbianyellow.png",md5:"69d8f9e33fb7d8bcf781cf53a2843841"},{file:"res/image/720x1280/num_kitchen_blue.fnt",md5:"8e6289cdceef98f26ff5e8f35c393f81"},
{file:"res/image/720x1280/num_lianjishuzi.fnt",md5:"3a0c5148d77f7dbecf97f1718d35b20a"},{file:"res/image/720x1280/num_lianjishuzi.png",md5:"75c53b541c36e4bab272d2c43a178530"},{file:"res/image/720x1280/num_orange_ligtht.fnt",md5:"04b3ce38c32610dd33e9fb8f9f3444cd"},{file:"res/image/720x1280/num_orange_ligtht.png",md5:"cc26cf098dc40763e6ea229ea68a7d0e"},{file:"res/image/720x1280/num_paragraph_white.fnt",md5:"b8d3f25769231959ff7afc82bdf079eb"},{file:"res/image/720x1280/num_paragraph_white.png",md5:"f91b66a720cd9d0b8b972f5de5bcd518"},
{file:"res/image/720x1280/num_score_white.fnt",md5:"2a8142b616071e6301240bc774dda4ef"},{file:"res/image/720x1280/num_score_white2.fnt",md5:"14628a98a23aff1ebac6285c49a3ffbf"},{file:"res/image/720x1280/num_score_white3.fnt",md5:"277159d8669cc8bce6014671603950b3"},{file:"res/image/720x1280/num_scoreyellow.fnt",md5:"5d46232de52093eb77babd544e140dad"},{file:"res/image/720x1280/num_scoreyellow.png",md5:"eccb35fcce54486b281439cbb0ca2b7d"},{file:"res/image/720x1280/num_shuliang.fnt",md5:"7c747d745179152db0969ba2a899bb75"},
{file:"res/image/720x1280/num_shuliang.png",md5:"499b94b2773ef73f6a9acf7a928b8708"},{file:"res/image/720x1280/num_tongyongwuxiaoguo.fnt",md5:"51ca362595df41df01fa39c49b0560b0"},{file:"res/image/720x1280/num_tongyongwuxiaoguo.png",md5:"c4198928d4d4b374c797d5d777f32be9"},{file:"res/image/720x1280/num_zonghebutton.fnt",md5:"31dd63ec9157021b7d5084f544d14cbb"},{file:"res/image/720x1280/num_zonghebutton.png",md5:"1d12f4b76a83568c0d1e33700ad673ef"},{file:"res/image/720x1280/NumberInput.ccbi",md5:"df3e1eddec45c624288f5224154f6433"},
{file:"res/image/720x1280/OneGiftPack.ccbi",md5:"c2490909b4945e446bdd87f098ac1ac5"},{file:"res/image/720x1280/open.atlas",md5:"20e2b64fd3776dc47ce79796ebd422dd"},{file:"res/image/720x1280/open.json",md5:"a61c304dce9eb8a9a99d35bea04d82af"},{file:"res/image/720x1280/open.png",md5:"85e9542e0141c0d04808a55c076274e2"},{file:"res/image/720x1280/panel_tip_bg.png",md5:"c7e7ec6b46155a37a54aec5da0aaa24a"},{file:"res/image/720x1280/panel_tl_reward_info.png",md5:"83c5c8e119187ddf548b859cc16ca6b2"},{file:"res/image/720x1280/panels.plist",
md5:"80d7edec92b42bd1a1e9bb424f0304f7"},{file:"res/image/720x1280/panels.png",md5:"d57afb01eefd78cb15845e96e92427e1"},{file:"res/image/720x1280/paopao.png",md5:"5aaf2e5e9316466ddf3d89dc45fd0230"},{file:"res/image/720x1280/Pass15LevelsDialog.ccbi",md5:"34286ecf4963a364dcd5a7cdc23d1b2c"},{file:"res/image/720x1280/Pass15LevelsXcx.ccbi",md5:"5bc24b827f4fef560e1a10347fc9bb62"},{file:"res/image/720x1280/PassAfterManyFailedDialog.ccbi",md5:"1148774558fbf392e73bc1ebff645390"},{file:"res/image/720x1280/PassAfterManyFailedXcx.ccbi",
md5:"450993096bc1bcfcdbef4b504b79a79b"},{file:"res/image/720x1280/PassLevelBeyondMillionDialog.ccbi",md5:"6066591065fc92a8cd7624a435c92098"},{file:"res/image/720x1280/pet_cushion.png",md5:"feab98440f059c1ad6700a6e128d153a"},{file:"res/image/720x1280/pet_dialog_fg.png",md5:"a6be4325b54e25301842893f1fe331a3"},{file:"res/image/720x1280/pet_equip_txt_equip.png",md5:"ede376a3eff51b21c4ffd1bf8469f2e6"},{file:"res/image/720x1280/pet_equip_txt_unlock.png",md5:"bed344f12b5ce5ac9ce2972570948789"},{file:"res/image/720x1280/Pet_Hall_Lock.png",
md5:"4c0f2e4118d14cd88f2e1650d94df155"},{file:"res/image/720x1280/Pet_Hall_Pet1.png",md5:"110efb7ccb73d2cf2b50f8df100af742"},{file:"res/image/720x1280/Pet_Hall_Popcorn.png",md5:"854d4ce8254aadb18b59c3899b9c9fe7"},{file:"res/image/720x1280/pet_hall_stage_skel.atlas",md5:"70e1d949758e23c876f322630caa6331"},{file:"res/image/720x1280/pet_hall_stage_skel.json",md5:"2fcc55e59abf2e7358604ff55cbb1ddf"},{file:"res/image/720x1280/pet_hall_stage_skel.png",md5:"9206e9ad44570f0c3c4f154ae7edceeb"},{file:"res/image/720x1280/PetAdoption.ccbi",
md5:"7524b846af4aec625ccb6df40634f802"},{file:"res/image/720x1280/petadoption.plist",md5:"9c3beb47dd559ae90003b194c5b3893d"},{file:"res/image/720x1280/petadoption.png",md5:"001729b3f334d7aa0b43460d1c584ddf"},{file:"res/image/720x1280/PetAndPropPart.ccbi",md5:"cd1f71c7f43b044ce494d8466c2866ca"},{file:"res/image/720x1280/PetByEquipDialog.ccbi",md5:"f38a7837e0bac05959cdf77ef576a535"},{file:"res/image/720x1280/PetChooseItem.ccbi",md5:"0f8532139f4c8a40401ba77c7c43cbc3"},{file:"res/image/720x1280/PetDetailItem.ccbi",
md5:"dfc5b7af05180861faaf8665467b6fac"},{file:"res/image/720x1280/PetDetails.ccbi",md5:"57ecf57df46e5cb47fee10e23db85d4d"},{file:"res/image/720x1280/PetEquipDialog.ccbi",md5:"bf457ce98ffd996508d06e16b9828a64"},{file:"res/image/720x1280/PetEquipInfoDialog.ccbi",md5:"89c3b14fd716436dbc3890af0da95a3a"},{file:"res/image/720x1280/PetEquipInfoDialogEN.ccbi",md5:"a08c1f095ee366bc08d816382cfdf193"},{file:"res/image/720x1280/PetEquips.ccbi",md5:"acd13090da52159c8fc03f2cfe42265f"},{file:"res/image/720x1280/PetEquipsHelp.ccbi",
md5:"7e7f95522af4082bdb4da7aaddb56f7a"},{file:"res/image/720x1280/PetEquipsItem.ccbi",md5:"8fd11edb37fe1fc881cb7fa5f53361e7"},{file:"res/image/720x1280/PetEquipsUnlock.ccbi",md5:"3a776b86029a7bc57bc788a8542dcde4"},{file:"res/image/720x1280/petEquipUI.plist",md5:"38a33886faf326e7bcff6f7bb833e688"},{file:"res/image/720x1280/petEquipUI.png",md5:"6a703a39f11d4a518ad424986da3135a"},{file:"res/image/720x1280/PetGetDialog.ccbi",md5:"73c220f33aaa2b61f11db02833db9349"},{file:"res/image/720x1280/PetHall.ccbi",
md5:"a93d629724a03f5bda4b5a12024595a3"},{file:"res/image/720x1280/PetHall_BG_1.jpg",md5:"df8870ab4b66539bbe26dd95477fb5d3"},{file:"res/image/720x1280/PetHall_BG_2.jpg",md5:"b1ad6d1163d5484177ef5f188c0e362a"},{file:"res/image/720x1280/PetHall_BG_3.jpg",md5:"9533bb83a996f34c8beb28fc70f0c009"},{file:"res/image/720x1280/PetHallItem.ccbi",md5:"386b232e533929e6ea35075e2adbb40d"},{file:"res/image/720x1280/PetHallItemPet.ccbi",md5:"f33852cae2e5284a8c90c007c97b2171"},{file:"res/image/720x1280/PetHallItemUser.ccbi",
md5:"5be92f4a61b5b58a8d962b67b129adf8"},{file:"res/image/720x1280/PetHouse.ccbi",md5:"9bfaa02b083dedcbd0285d0cd38a1d6d"},{file:"res/image/720x1280/PetHouseDetails.ccbi",md5:"af63d68a728b04dd961e814afec6c29f"},{file:"res/image/720x1280/PetHouseEquip.ccbi",md5:"6cd6758a592d8aae56676f12754a4fa5"},{file:"res/image/720x1280/PetHouseEquipItem.ccbi",md5:"da316ba7b02ffcbe179597e95445ab3a"},{file:"res/image/720x1280/PetInfoDialog.ccbi",md5:"0889248ecc97a488bd82d53264c874ae"},{file:"res/image/720x1280/PetLevelUp.ccbi",
md5:"b2110a844ae690ba9fcfadabf047b607"},{file:"res/image/720x1280/PetLevelUp10Dialog.ccbi",md5:"bc8cfc50bc8099e0e3a04790fa697122"},{file:"res/image/720x1280/PetLevelUpReward.ccbi",md5:"96e6e8cdee2cbb26922d93b9e40db677"},{file:"res/image/720x1280/PetLevelUpRewardXcx.ccbi",md5:"6c6c9fb6abc228708314c10aafc42802"},{file:"res/image/720x1280/pets.plist",md5:"63d9726ac62fb81cab57c70e09617806"},{file:"res/image/720x1280/pets.png",md5:"89af1f38d125c7bdbc406e8f10753a9a"},{file:"res/image/720x1280/PetSkillDialog.ccbi",
md5:"6ac0ded16cd63afd05646d2c66a9bfdf"},{file:"res/image/720x1280/PetSkillIconClip.ccbi",md5:"44db79cb8deb5a2acc4b14e39bdc7f28"},{file:"res/image/720x1280/popcorn.plist",md5:"3573237b4bc0ce651c4d0479f41e1836"},{file:"res/image/720x1280/popcorn.png",md5:"f30e940ccb8a95dd2835c012b3ea372b"},{file:"res/image/720x1280/popcorn2.plist",md5:"405560a4f08207d8ef9d0acb427b4efd"},{file:"res/image/720x1280/popcorn2.png",md5:"4f20a3bea73eaf7bb203b349c1f2869f"},{file:"res/image/720x1280/popcorn_share1_txt.png",
md5:"ccf607acf24ef7b41078b7d127d817a2"},{file:"res/image/720x1280/popcorn_share2_txt.png",md5:"e1a284b559880c740337757e0a58668b"},{file:"res/image/720x1280/popcorn_share_level_bg.png",md5:"96618bbbbb1f1001090c92fd08e572cd"},{file:"res/image/720x1280/popcorn_txt_buy_shell.png",md5:"99ad8cba13e3199a96d05fe43e7b13d5"},{file:"res/image/720x1280/popcorn_txt_defender.png",md5:"de30d18fb8b593a4f5a09be3441c53ac"},{file:"res/image/720x1280/popcorn_txt_detail.png",md5:"4b3cf37a1f74512beb62633a6c2c286d"},{file:"res/image/720x1280/popcorn_txt_history.png",
md5:"8571ec5d241eba0ad43b6c3e7ca69c95"},{file:"res/image/720x1280/popcorn_txt_level_up.png",md5:"02367ec0bc1bc12cc5b5b3ad29f57eb0"},{file:"res/image/720x1280/popcorn_txt_level_up_success.png",md5:"9c90a48bb77668b72bdec47ea943b135"},{file:"res/image/720x1280/popcorn_txt_LevelInfo.png",md5:"a5cd07cd0f2f042de6fe5a505d89d93e"},{file:"res/image/720x1280/popcorn_txt_popcorn.png",md5:"eb4d97ff3abda1948cf72a1938257847"},{file:"res/image/720x1280/popcorn_txt_SelectLevel.png",md5:"4c072c1df273eaf153f32fe0ee84c233"},
{file:"res/image/720x1280/popcorn_txt_title_3q.png",md5:"b47caf19f0d73f8fc79357306b56665f"},{file:"res/image/720x1280/PopcornChallengeClearDialog.ccbi",md5:"b32f0dd4b444fa52fb48062960ab5361"},{file:"res/image/720x1280/PopcornChallengeDialog.ccbi",md5:"79cd636ace3e0d7ac58acae73f2e6a77"},{file:"res/image/720x1280/PopcornChallengeFailedDialog.ccbi",md5:"c38172afa96bdbbd9780887d41cb49fe"},{file:"res/image/720x1280/PopcornDialog.ccbi",md5:"8613d441f673a125d00d58f4ade27652"},{file:"res/image/720x1280/PopcornHistoryDialog.ccbi",
md5:"5126fc072594d900d45f5c262f17ae8e"},{file:"res/image/720x1280/PopcornHistoryDialogDefender.ccbi",md5:"7f79bc5a4130555fc117c39947298071"},{file:"res/image/720x1280/PopcornHistoryDialogHistory.ccbi",md5:"0cd8fab6b1d7a1a5453ccc8cb824029c"},{file:"res/image/720x1280/PopcornHistoryItem.ccbi",md5:"5af96de3cc1468927b9f3343f5442e20"},{file:"res/image/720x1280/PopcornHistoryItemDefender.ccbi",md5:"117fc92f0eb07d8fa1fa7eca885bfc4c"},{file:"res/image/720x1280/PopcornHistoryItemDefenderPast.ccbi",md5:"4b46ec72ee025d5571cd64385993a9dc"},
{file:"res/image/720x1280/PopcornInfoDialog.ccbi",md5:"0d87d8c280abf3345597abce435f88dd"},{file:"res/image/720x1280/PopcornLevelUpDialog.ccbi",md5:"3d2b1cb8ac8c3d9502df7495ccea4f7c"},{file:"res/image/720x1280/PopcornLevelUpSuccessDialog.ccbi",md5:"3e45e32a8fa27c86c73dd3f4665b7528"},{file:"res/image/720x1280/PopcornSelectDefenderDialog.ccbi",md5:"41f53ef853188c645bca0a5a5aef31a4"},{file:"res/image/720x1280/PopcornSelectLevelDialog.ccbi",md5:"a1c78b03d8f9107379947377b8512986"},{file:"res/image/720x1280/PopcornShareLevelDialog.ccbi",
md5:"7f0aeca0b447ae8b6be4085a7af2807f"},{file:"res/image/720x1280/PopcornShellDialog.ccbi",md5:"5a9d83452a098ffc99041227b92bd1c4"},{file:"res/image/720x1280/PopcornThankDialog.ccbi",md5:"f1e1fb1fa48b902345d40b6f36b68e7e"},{file:"res/image/720x1280/PrizeCup.ccbi",md5:"88a0942385e90719f12f883eff84206e"},{file:"res/image/720x1280/PrizeCupItem.ccbi",md5:"3040be9f137af941bc30b01f767a5d47"},{file:"res/image/720x1280/prop.plist",md5:"68b982342ccfa144aff7afde63f9962b"},{file:"res/image/720x1280/prop.png",
md5:"8eb7e3664294096f915a430f533254f1"},{file:"res/image/720x1280/prop_tip_use.png",md5:"ec997bf1b5364b4651c012997b8c91c4"},{file:"res/image/720x1280/prop_title_11.png",md5:"7c56c127c24c66c7dc8c30b37e6a8d6c"},{file:"res/image/720x1280/prop_title_11001.png",md5:"f9f6077bf29c225d259ec10b267e375c"},{file:"res/image/720x1280/prop_title_11002.png",md5:"67e39ce7a2d50d2f1afe941d9e59ddee"},{file:"res/image/720x1280/prop_title_11003.png",md5:"58c63ee555eaa6f88fc9206eddfce06c"},{file:"res/image/720x1280/prop_title_11004.png",
md5:"42e42783ac48118dca69a0dae848d071"},{file:"res/image/720x1280/prop_title_11005.png",md5:"2c3ba28b0ee03169e9bcc4fad680df9f"},{file:"res/image/720x1280/prop_title_11006.png",md5:"39bffa23b903f29b48ccfa1d857d3ad8"},{file:"res/image/720x1280/prop_title_11009.png",md5:"95fabff92d0fd9e181debdd3d2b42e9a"},{file:"res/image/720x1280/prop_title_11010.png",md5:"5d6b6a7b2a1ff9e7b5ab11860baba7a7"},{file:"res/image/720x1280/prop_title_11011.png",md5:"c4a3d95be45e3e53965b8e207e0d1d11"},{file:"res/image/720x1280/prop_title_11012.png",
md5:"d2b0aeb632def126d280b422ba2ac83d"},{file:"res/image/720x1280/prop_title_15.png",md5:"69ea3ff8e584551503105625411e88ed"},{file:"res/image/720x1280/prop_title_2101.png",md5:"f8984ec2fa25b757e0a84aa5dcd11392"},{file:"res/image/720x1280/prop_title_2102.png",md5:"a610247c3a2b7467ddd84f0ad134c30f"},{file:"res/image/720x1280/prop_title_2103.png",md5:"7707f137e98d9552cb636ded3593ed33"},{file:"res/image/720x1280/prop_title_2104.png",md5:"491403d91303d65c00d37728ee73c12b"},{file:"res/image/720x1280/prop_title_2114.png",
md5:"fa5eb73e981e70b207b84d8aeb6270da"},{file:"res/image/720x1280/publish_QRCode_100.png",md5:"8a8039631d6bf2cace5f4e0604fc5e41"},{file:"res/image/720x1280/qqCenterBg.png",md5:"e56e84b161c29da8b2d8b97565244f8f"},{file:"res/image/720x1280/QQCenterRightDialog.ccbi",md5:"fb3979bef1e470d514f218d1f2801c8f"},{file:"res/image/720x1280/qqVip.plist",md5:"fac6f24aa58f3cdf231ef54bb6c952ce"},{file:"res/image/720x1280/qqVip.png",md5:"6ebbf8664afe2dcc13b51fe7ba0857b0"},{file:"res/image/720x1280/QQVipDialog.ccbi",
md5:"628876ca1223b5fbe35da4ad29b7ff62"},{file:"res/image/720x1280/QueryDialog.ccbi",md5:"79f2651a2bc1bda5c081b8d5a3e6a937"},{file:"res/image/720x1280/rain_effect.plist",md5:"11ace5f46c8baaf53d669680876cc185"},{file:"res/image/720x1280/RankinWorld1000Dialog.ccbi",md5:"250309b7e013d0b52f2b2be84ae6fb13"},{file:"res/image/720x1280/RankinWorld1000Xcx.ccbi",md5:"a1cb0fd7304e205669419e49407005ee"},{file:"res/image/720x1280/RankListFriendItem.ccbi",md5:"41f416ca24597de473b957e645174e18"},{file:"res/image/720x1280/RankListFriendLayer.ccbi",
md5:"00118188e712e3c9ae7bbf0c52cdf06d"},{file:"res/image/720x1280/RankListLayer.ccbi",md5:"3c9d1ce139189ef1b6f0cf43b3a36f4e"},{file:"res/image/720x1280/RankListWorldItem.ccbi",md5:"0d35434db3d20b420b7da98a96f45639"},{file:"res/image/720x1280/RankListWorldLayer.ccbi",md5:"94a4e202ee8979a4e2d01f0b4048f10d"},{file:"res/image/720x1280/redpack.plist",md5:"0b8f3ddbfd5973a98ba98590f93b99f3"},{file:"res/image/720x1280/redpack.png",md5:"727e51e389f95454a23e76df37cb84f8"},{file:"res/image/720x1280/RedPackItem.ccbi",
md5:"80487370393439d71d19f08758457703"},{file:"res/image/720x1280/RedPackLayer.ccbi",md5:"09a1dba666abfb503b70d87f8bf8b6cf"},{file:"res/image/720x1280/ReloginDialog.ccbi",md5:"89b145559797fcede332682a9b6c5eed"},{file:"res/image/720x1280/request.plist",md5:"4b6fef36fc4ef7aa1caf34fc581ac26b"},{file:"res/image/720x1280/request.png",md5:"cd005a3b6927fea72d666f72b43d7306"},{file:"res/image/720x1280/request_title.png",md5:"9b9b3bb9cafd516e145574263cf61396"},{file:"res/image/720x1280/ResUpdate.ccbi",md5:"160303baffb34fc7dd501ae184e70db6"},
{file:"res/image/720x1280/score_num_purple.fnt",md5:"5535e97a0453f8bb56324b3d32339ffb"},{file:"res/image/720x1280/score_num_purple.png",md5:"c57009363100542425d9779840c47580"},{file:"res/image/720x1280/ScoreBeyondFriendDialog.ccbi",md5:"3796c39ed06f9fbaf5b690fc21361f41"},{file:"res/image/720x1280/scorefloor.png",md5:"7f6985503547397244543ab411bbb8a1"},{file:"res/image/720x1280/SelectFriendItem.ccbi",md5:"a00c12a71fd8eafea601dedc9c7d9671"},{file:"res/image/720x1280/SelectFriendListLayer.ccbi",md5:"8a1958d38bf199c0645a70b90a1e6355"},
{file:"res/image/720x1280/sendDesktop_h5qq_bg.png",md5:"a42c13d8fe105a82f7c70974009471e6"},{file:"res/image/720x1280/SendDesktopItem.ccbi",md5:"75a409bc32eed66340ad82c5fbf91808"},{file:"res/image/720x1280/SendDesktopPlayer.ccbi",md5:"f6e457e120c65d2930ef49d314de6908"},{file:"res/image/720x1280/SendDesktopQQAndroid.ccbi",md5:"16aef27e8b01fb1707c57cd954b39b96"},{file:"res/image/720x1280/SendDesktopQQiOS.ccbi",md5:"16aef27e8b01fb1707c57cd954b39b96"},{file:"res/image/720x1280/SendDesktopWXAndroid.ccbi",
md5:"5cb8e087826ad4f45ed74605590c842e"},{file:"res/image/720x1280/SendDesktopWXiOS.ccbi",md5:"2bf6ec9b6993f91132e99cbf92914fde"},{file:"res/image/720x1280/SendDesktopXCXAndroid.ccbi",md5:"4585f48bbb93516afb8e596f92ec40e6"},{file:"res/image/720x1280/SendDesktopXCXiOS.ccbi",md5:"eaaff479a49194515c555eea01a79367"},{file:"res/image/720x1280/SendShareWXiOS.ccbi",md5:"026f2c6188c64d6bced89bc36c3e76cd"},{file:"res/image/720x1280/share.png",md5:"c34f0cd00ac05abf2628cb94378af8fa"},{file:"res/image/720x1280/share_car_30002.png",
md5:"a35dd1a3afc8a5193f77fa2f91b48c82"},{file:"res/image/720x1280/share_car_30003.png",md5:"9af2e1e504a5cfea8c08397625a3b5b9"},{file:"res/image/720x1280/share_car_30004.png",md5:"bdf4889c68e623818fb5ab5955a33d0f"},{file:"res/image/720x1280/share_car_30005.png",md5:"63e29f835e7166c931b28fcaa54f9d53"},{file:"res/image/720x1280/share_car_30006.png",md5:"f3d30105cb1c6d08126161eac24ea099"},{file:"res/image/720x1280/share_car_30007.png",md5:"b722adf43ae31e338923944628d3c369"},{file:"res/image/720x1280/share_car_30008.png",
md5:"53dc77119be1bcb800cc03145b8acdec"},{file:"res/image/720x1280/share_car_30009.png",md5:"a332ebcaa3c737f2918b1100465dbc55"},{file:"res/image/720x1280/share_car_30010.png",md5:"22f36917de8f821b7db7a1541f0e2017"},{file:"res/image/720x1280/share_car_30011.png",md5:"5ccea8ea78e1012369d8cc8e49a77f95"},{file:"res/image/720x1280/share_car_30012.png",md5:"31fde4a141e0ddc950ec3fac077de019"},{file:"res/image/720x1280/share_dialog_3.png",md5:"f9f78356033976a832f14ee9f3e59a3a"},{file:"res/image/720x1280/share_dialog_4.png",
md5:"a99e322d9f3af76ea543ffcc1ef92cc5"},{file:"res/image/720x1280/share_dialog_5.png",md5:"61ef99f941b849723502352f59f636d5"},{file:"res/image/720x1280/share_dialog_6.png",md5:"3e689dc40539da238afe4dc551395755"},{file:"res/image/720x1280/share_h5_ios_bg.png",md5:"919e3f365e34e0dd6fd3b11bf252f907"},{file:"res/image/720x1280/share_level_img.png",md5:"05677111dfd6a7cd221e776500423b56"},{file:"res/image/720x1280/share_pet_20001.png",md5:"a387b251917f9921235f29a4758e2647"},{file:"res/image/720x1280/share_pet_20002.png",
md5:"aceeda101d9f8ba1968495c339b49098"},{file:"res/image/720x1280/share_pet_20003.png",md5:"9976882f2ec7f31192f9de54b46a0ba7"},{file:"res/image/720x1280/share_pet_20004.png",md5:"39e1c9943f4162f1cd223abad80bde07"},{file:"res/image/720x1280/share_pet_20005.png",md5:"3d90174b9732a8aea79fef5ff895c81f"},{file:"res/image/720x1280/share_pic.jpg",md5:"a33cf8e60fa4ee076587ac1be3204fab"},{file:"res/image/720x1280/share_pic_pk.jpg",md5:"69b7e300a3cf8ac0f628a3902cd3b05c"},{file:"res/image/720x1280/ShareAllStarPassLevel.ccbi",
md5:"81081c3784392b34346229a47a510855"},{file:"res/image/720x1280/ShareCamera.ccbi",md5:"7b889299f4432026a7bb9156146c55f4"},{file:"res/image/720x1280/ShareGetNewPet.ccbi",md5:"4cba82f04a05c2ee7d919d550483fd70"},{file:"res/image/720x1280/ShareIn5PassLevel.ccbi",md5:"be256212c8f613ac19b348af06af42fa"},{file:"res/image/720x1280/ShareKit.ccbi",md5:"188bec005c2697b98dee203a4ec667f0"},{file:"res/image/720x1280/shareKit.plist",md5:"40c5aa8dddad4ffc08c01e406716f144"},{file:"res/image/720x1280/shareKit.png",
md5:"7b49f19ba05357ef8366d7ed184f3246"},{file:"res/image/720x1280/ShareKitKitItem.ccbi",md5:"2f8da60db42c3aabbb1713f4c9afc9c9"},{file:"res/image/720x1280/ShareKitKitItemWX.ccbi",md5:"d42ee0b2da4e1f8212d23cb9b601bc63"},{file:"res/image/720x1280/ShareKitRule.ccbi",md5:"d71dbe74da0f3237ec9a10740192ecf8"},{file:"res/image/720x1280/ShareKitTip.ccbi",md5:"cca1ddb4e1be5eb2af829b314313f051"},{file:"res/image/720x1280/ShareKitWX.ccbi",md5:"530cdf56133c6df72ff300239be8860d"},{file:"res/image/720x1280/ShareLayer1002.ccbi",
md5:"1eb25608461c72b1b07b8ed4020e778f"},{file:"res/image/720x1280/ShareLayer1004.ccbi",md5:"05b4f629075bdb3e1a563d093175c0fc"},{file:"res/image/720x1280/ShareLayer1010.ccbi",md5:"d8854b86c34ea60f49e2b06eeaf1f88e"},{file:"res/image/720x1280/ShareLayer1016.ccbi",md5:"1aeb1de8d3312f99e9994a9ce089adad"},{file:"res/image/720x1280/ShareLayer1017.ccbi",md5:"8ab38d3adb0814642f3d8101f23f1602"},{file:"res/image/720x1280/ShareLayer1023.ccbi",md5:"6e1b4d12563f66cc1cb01d95a3f8b7c2"},{file:"res/image/720x1280/ShareLayer2008.ccbi",
md5:"ba4bacef470104da040afb2b096f8961"},{file:"res/image/720x1280/ShareLevel.ccbi",md5:"208ac6e98496a967f18ee55143316422"},{file:"res/image/720x1280/ShareLevelBeyondFriend.ccbi",md5:"68b8775713d3823859834eaec5fa4de0"},{file:"res/image/720x1280/ShareLuckyPassLevel.ccbi",md5:"b345ea74026bded855599a65b5bc23c6"},{file:"res/image/720x1280/ShareNewCarDialog.ccbi",md5:"029a85d4aaceeddb224fe5233be64fbf"},{file:"res/image/720x1280/ShareNewCarXcx.ccbi",md5:"03e7caaf0ef2a1d3dbdd028f9cf0baac"},{file:"res/image/720x1280/ShareNo1InFriends.ccbi",
md5:"e03aac2c6bfefad8365d5ba44ad77f03"},{file:"res/image/720x1280/SharePass15Levels.ccbi",md5:"92916f70e53a860ec091f7a555d8e78d"},{file:"res/image/720x1280/SharePassAfterManyFailed.ccbi",md5:"228454fac71a72963e757a7ac7c44da0"},{file:"res/image/720x1280/SharePetLevelUp10.ccbi",md5:"5b543b6c4a02dbd2007463010ee146e7"},{file:"res/image/720x1280/sharerank.plist",md5:"cbe46f61eab1f5c4cec5ab03a22a90a4"},{file:"res/image/720x1280/sharerank.png",md5:"d4369e0fa4833eca27b28a11bdc561df"},{file:"res/image/720x1280/ShareSigninAllDays.ccbi",
md5:"04a1a5d0bd809a5b036d5f83c3814b81"},{file:"res/image/720x1280/ShareUnlockNewLevel.ccbi",md5:"eb9edb613f7b3f7077d4416ed5e108ea"},{file:"res/image/720x1280/Shop.ccbi",md5:"8423932590ee85b25b18255a750010c9"},{file:"res/image/720x1280/shop.plist",md5:"112da4dfef75044771b78fac9af3b360"},{file:"res/image/720x1280/shop.png",md5:"e607e39988e89d38b18a8cd374a9d0b0"},{file:"res/image/720x1280/ShopDressItem.ccbi",md5:"565b3aa0f6adac6213d8bc63a4c48e58"},{file:"res/image/720x1280/ShopGemItem.ccbi",md5:"dc41cb7d06b8a6a62631c7a9a08de007"},
{file:"res/image/720x1280/ShopItemBuyDialog.ccbi",md5:"f5d4dda7a9db0709a35db2e80ea6175a"},{file:"res/image/720x1280/ShopKitItem.ccbi",md5:"bbdaa778b70e6d75cc08472d6fdc7953"},{file:"res/image/720x1280/ShopKitItem2101.ccbi",md5:"948a7ce1ee0021dad8af8d8a6c6b01b5"},{file:"res/image/720x1280/ShopKitItem2102.ccbi",md5:"b9ffc2a17d3510a69b2c01d9ea1e3bbc"},{file:"res/image/720x1280/ShopKitItem2103.ccbi",md5:"8b288278f71b092b6487f2b7be947bf6"},{file:"res/image/720x1280/ShopKitItem2104.ccbi",md5:"810ca78bb04334ec43aa661236140d3e"},
{file:"res/image/720x1280/ShopKitItem2105.ccbi",md5:"b026c39ab6059fe0a38ba16fddcf8258"},{file:"res/image/720x1280/ShopKitItem2106.ccbi",md5:"7747c26dd6a379c6004439ce9fa3e6ea"},{file:"res/image/720x1280/ShopPackBuyDialog.ccbi",md5:"ce209f69490298f58776690ef6c528a6"},{file:"res/image/720x1280/ShopProp.ccbi",md5:"35b6c543372927c6f6b00e34dfd358e9"},{file:"res/image/720x1280/ShopPropItem.ccbi",md5:"222f60536a7159a72c868021152c1f7e"},{file:"res/image/720x1280/ShopPropPreview.ccbi",md5:"c203fcde95b944524dd11c4cc3dfa3ba"},
{file:"res/image/720x1280/SignIn.plist",md5:"7a3f4fd95e567c91eb24af05031c19c7"},{file:"res/image/720x1280/SignIn.png",md5:"710f09d437aa8a89e54b8f04bb8411b1"},{file:"res/image/720x1280/SignIn_title.png",md5:"f7c3b7ad969c22db795fa8740f4e7ba7"},{file:"res/image/720x1280/SigninAllDaysDialog.ccbi",md5:"04a1a5d0bd809a5b036d5f83c3814b81"},{file:"res/image/720x1280/SigninAllDaysXcx.ccbi",md5:"b69d0ca06455f3f3f9499c0e25429a77"},{file:"res/image/720x1280/SignInDialog.ccbi",md5:"b94429bf5678ca38b9b37fba246dcc48"},
{file:"res/image/720x1280/SignItem.ccbi",md5:"21965f6022801215da03d2363ad37336"},{file:"res/image/720x1280/skills.atlas",md5:"849be83d4562b4d1daf47180f8f42554"},{file:"res/image/720x1280/skills.json",md5:"ac1a9038ee8076e57346965122c1a01d"},{file:"res/image/720x1280/skills.png",md5:"ffb80c1f18fdcab2310752dc8a011077"},{file:"res/image/720x1280/slogen_completed.png",md5:"614aaca2a7eb32f7050c5201fa024122"},{file:"res/image/720x1280/SmallParticle.plist",md5:"a071bfd27a37f2058c3697b30a95aebe"},{file:"res/image/720x1280/SmallParticle.png",
md5:"c5cbf91d290087bfbf5cb9cfc0731a92"},{file:"res/image/720x1280/SpeedinWorld1000Dialog.ccbi",md5:"1e002eb528a4a1b99a1a5913c3501b9e"},{file:"res/image/720x1280/star_boom.plist",md5:"7f2e6ccdd407029e209c998e87420934"},{file:"res/image/720x1280/star_flying.plist",md5:"673180e037845b43a41fa6b4e026f951"},{file:"res/image/720x1280/star_flying.png",md5:"c75ce8abc8f107a097cbde2ba9a24337"},{file:"res/image/720x1280/star_flying2.plist",md5:"c6ad8fb1473f5afe70bf1cec3790c5fa"},{file:"res/image/720x1280/star_flying3.plist",
md5:"1092a98cf15848b843b46942d07b1191"},{file:"res/image/720x1280/star_flying3.png",md5:"eab6a9cf037d73de053d7e75dba51c75"},{file:"res/image/720x1280/star_flying4.plist",md5:"9ca6bd372f5c1e67da39e87f468bd1b1"},{file:"res/image/720x1280/star_flying4.png",md5:"93b0f9b1cfdc54f92895fb3389e0d50a"},{file:"res/image/720x1280/star_flying5.plist",md5:"e973813b950c94bee890fde9071c3bda"},{file:"res/image/720x1280/start2.atlas",md5:"60745df7bf16a7a335cc0da13cd7d76b"},{file:"res/image/720x1280/start2.json",md5:"0fab66604f60df101f2e5feae5b6b981"},
{file:"res/image/720x1280/start2.png",md5:"43b2c7d869484e4fec81e491be0e2340"},{file:"res/image/720x1280/start_cloud.atlas",md5:"e24a31d1d2cf7d0b30bb2a87182b1616"},{file:"res/image/720x1280/start_cloud.json",md5:"4ce9cf8e99f111e770a753028e78cae6"},{file:"res/image/720x1280/start_cloud.png",md5:"f82486738e7f5cfd466ebec917b0c465"},{file:"res/image/720x1280/StartGame.ccbi",md5:"9edaaaa1d9215ee9017b39a655480968"},{file:"res/image/720x1280/StartMenu.ccbi",md5:"97ec8cec91d88556ff94fdc9e7563298"},{file:"res/image/720x1280/startmenu.plist",
md5:"48ac58f5ec4947c8504286587146273a"},{file:"res/image/720x1280/startmenu.png",md5:"2d9c90e91c385a3c476b50a0b81d78f2"},{file:"res/image/720x1280/StartStoryMenu.ccbi",md5:"5239bd7b63d73871f20bd12e04baeae7"},{file:"res/image/720x1280/StartTarget.ccbi",md5:"4c9302c1bf33c40ef6a1aa0221f1f14b"},{file:"res/image/720x1280/std_h5_qq_android_bg.png",md5:"b0552641e481294ef36cbbaeb3b6eff3"},{file:"res/image/720x1280/std_h5_qq_ios_bg.png",md5:"b0552641e481294ef36cbbaeb3b6eff3"},{file:"res/image/720x1280/std_h5_wx_android_bg.png",
md5:"79cef462b23ae01455660868fa7f02e2"},{file:"res/image/720x1280/std_h5_wx_ios_bg.png",md5:"7e732698bd3c2c5fa59533f37fafce69"},{file:"res/image/720x1280/std_xcx_android_bg.png",md5:"dfa20faa3055c823a1e4e5808ce69ab4"},{file:"res/image/720x1280/std_xcx_ios_bg.png",md5:"b69afbee13cbf22bfcfa4c3332ff9811"},{file:"res/image/720x1280/StoryLayer.ccbi",md5:"c79e317a05481676afdc503239706b4e"},{file:"res/image/720x1280/sub_levelbg.png",md5:"3613949eb2a8569791b43a23debaeb25"},{file:"res/image/720x1280/sub_number.png",
md5:"55caff6b05a4a7faa6ab47852fab439b"},{file:"res/image/720x1280/sub_number_0.png",md5:"d2e4158f03fc54402d4d525ca752a301"},{file:"res/image/720x1280/sub_number_1.png",md5:"cf30d9a5caa41eb511d0e66653b04bb1"},{file:"res/image/720x1280/sub_number_2.png",md5:"0f1dbd056d03c2c6daede1b414eea8dc"},{file:"res/image/720x1280/sub_number_3.png",md5:"1f98a434e829329e71e2048aa2b6a36e"},{file:"res/image/720x1280/sub_number_4.png",md5:"02808882a1c86a17e1110e40edb99aee"},{file:"res/image/720x1280/sub_number_5.png",
md5:"6a0880e35700b9edda05aa4e3761ab31"},{file:"res/image/720x1280/sub_number_6.png",md5:"c17fdfc0bf6dcef30387da33433bcfb6"},{file:"res/image/720x1280/sub_number_7.png",md5:"498ca7d260b8dc5204d59def4a95bb17"},{file:"res/image/720x1280/sub_number_8.png",md5:"279ea876812e184d82dbc4cfe760205e"},{file:"res/image/720x1280/sub_number_9.png",md5:"eb1ab788ea442e6b98188b3b6b5cf5a2"},{file:"res/image/720x1280/sub_rankbarbg.png",md5:"c0fd616fb7612b26dacef048c110d03b"},{file:"res/image/720x1280/sub_rankbg.png",
md5:"176ff96b7967027d5cbc5dd3facecdef"},{file:"res/image/720x1280/sub_sunshine.png",md5:"f324dc2f6443cd5a307e0d1638b4a92c"},{file:"res/image/720x1280/target_plate.atlas",md5:"467a20822c330f4a9c792c91c1a0cb05"},{file:"res/image/720x1280/target_plate.json",md5:"2e83a989ed616ef37f966a35e069b32b"},{file:"res/image/720x1280/target_plate.png",md5:"6ec1597bf5cfdf62a44a290b94604540"},{file:"res/image/720x1280/TargetDialog.ccbi",md5:"e1aad9667ecefe30d302f2f9c7a45703"},{file:"res/image/720x1280/TargetNpcItem.ccbi",
md5:"4de5240d59376c186fe29dda4d81a531"},{file:"res/image/720x1280/task.plist",md5:"2f58b950780615d299a9f5d21073baea"},{file:"res/image/720x1280/task.png",md5:"ac81e8b89788470a3b43f9c900debec4"},{file:"res/image/720x1280/task_flag.png",md5:"c5213dc84a87a112400de5b899a905a4"},{file:"res/image/720x1280/task_title.png",md5:"8c597671ba292f38590aa84366f25adb"},{file:"res/image/720x1280/TaskLayer.ccbi",md5:"293d2adf692287af66b904997a869b3c"},{file:"res/image/720x1280/TestDialog.ccbi",md5:"ebd9692a27a4a66a8ec896b546b65bd6"},
{file:"res/image/720x1280/TimeChargeGift.ccbi",md5:"31af194bf6c639d09bbd5980679992b0"},{file:"res/image/720x1280/TimeLevel.ccbi",md5:"8ac931eb92d3c0aef566312b787d8b3e"},{file:"res/image/720x1280/timelevel.plist",md5:"1888172cfebdb36d35ec7998bbf51257"},{file:"res/image/720x1280/timelevel.png",md5:"28e9e8f3715eb53665f74c67611a682c"},{file:"res/image/720x1280/TimeLevelClear.ccbi",md5:"5dff17f7a2ee43a9e38459e3cdc1238f"},{file:"res/image/720x1280/TimeLevelLevelItem.ccbi",md5:"504c13ebe77f6facbb6b5a3fef6784c8"},
{file:"res/image/720x1280/TimeLevelLevelList.ccbi",md5:"5fd6a90e44126d1ec3de48489d78e57c"},{file:"res/image/720x1280/TimeLevelLevelMy.ccbi",md5:"dcafe747567b24620461a39d70a3672a"},{file:"res/image/720x1280/TimeLevelMyState.ccbi",md5:"1851542e638ad91569bf23f496b1aeab"},{file:"res/image/720x1280/TimeLevelMyTip.ccbi",md5:"e42fd4a5bfdfbb30740e86e2b842a771"},{file:"res/image/720x1280/TimeLevelNew.ccbi",md5:"e78ff8b2f4ec7195e5fb2f28144b407f"},{file:"res/image/720x1280/TimeLevelNewItem.ccbi",md5:"34c6bbe7286bed259e670d49be5ae3d8"},
{file:"res/image/720x1280/TimeLevelNoneState.ccbi",md5:"1cea6179744570c18e3c2a972d32c9d2"},{file:"res/image/720x1280/TimeLevelPassItem.ccbi",md5:"f240781897b49ccccea2c509f7286685"},{file:"res/image/720x1280/TimeLevelRewardXcx.ccbi",md5:"3b61119eeb2149e121eb9677a95460ac"},{file:"res/image/720x1280/TimeLevelStartGame.ccbi",md5:"ef51f730ce6853354a22a0bbfba6bebe"},{file:"res/image/720x1280/TimeShopGift.ccbi",md5:"515afff8fe2c2633a32d2f8fa3012226"},{file:"res/image/720x1280/TipDialog.ccbi",md5:"eb927e0f69063d8ec773fb4c18d57b84"},
{file:"res/image/720x1280/tips_3fish.png",md5:"a987795b65f3d25933243aa3afd07ddb"},{file:"res/image/720x1280/tips_3ice.png",md5:"6df8aea548e5d99b6521a6f9cfd59df8"},{file:"res/image/720x1280/tips_4fish.png",md5:"bae1e5a19c4b97f003b350301b0cd4fa"},{file:"res/image/720x1280/tips_5.png",md5:"f8f4f88204c87d0a4a0d9dd2dc1ccf9e"},{file:"res/image/720x1280/tips_belt.png",md5:"d22623fb51a0df8510a06f042c17cbfd"},{file:"res/image/720x1280/tips_belt_dir_switch.png",md5:"67b9a895c46c038e2563bdaf95095874"},{file:"res/image/720x1280/tips_belt_start_switch.png",
md5:"02ae217d06c403d638ef81bc982108d1"},{file:"res/image/720x1280/tips_block_basket.png",md5:"03d23b72cf3b257b45bf7f241932421b"},{file:"res/image/720x1280/tips_block_coco.png",md5:"04cbfe3c72b2b0c7986776b93ea22906"},{file:"res/image/720x1280/tips_block_gun.png",md5:"c93c8157df62493976be1030f7216e7d"},{file:"res/image/720x1280/tips_block_helmet.png",md5:"a514e53d9dce92f1f994f38edb0f379f"},{file:"res/image/720x1280/tips_block_honey.png",md5:"ad83e398b29724b854dec5566ca1a881"},{file:"res/image/720x1280/tips_block_ice.png",
md5:"d78d37a204aa74a676bcc11dc6c67a94"},{file:"res/image/720x1280/tips_block_lock.png",md5:"8ce9a48c14311cd2f414853549a4b14d"},{file:"res/image/720x1280/tips_block_stone.png",md5:"ae36b52085c1efa6d12d02ceb3091811"},{file:"res/image/720x1280/tips_block_wood.png",md5:"55c7bf79660048559f26e34897048985"},{file:"res/image/720x1280/tips_block_worm.png",md5:"da08153e7ccfb94d7473ebeb78e95531"},{file:"res/image/720x1280/tips_effect_1.png",md5:"b21faaa51c103473e4235adaf0ef37d3"},{file:"res/image/720x1280/tips_effect_2.png",
md5:"0ab4ae0836e1d04f4412108919393a26"},{file:"res/image/720x1280/tips_effect_3.png",md5:"fc3adcf413352c5337d3b4b319a896fc"},{file:"res/image/720x1280/tips_effect_4.png",md5:"d001aa0f636d656a2e462eaeea0de404"},{file:"res/image/720x1280/tips_effect_5.png",md5:"c03df72924505626641b283486f5836f"},{file:"res/image/720x1280/tips_play_info.png",md5:"e13463a113b22db34661f7c5dd5dc2ba"},{file:"res/image/720x1280/tips_portal.png",md5:"d4cd916f85ff1c2a8b411cb3825b9cf2"},{file:"res/image/720x1280/tips_rainbow.png",
md5:"67e98a57976cd69d9033edfec2ae13c2"},{file:"res/image/720x1280/tips_sign.png",md5:"65200001d95abee29efb7ca062347cbc"},{file:"res/image/720x1280/tips_slide.png",md5:"d5ce9b0387e2c3ff72c145490ce027ec"},{file:"res/image/720x1280/tips_tile_sand.png",md5:"ad83e398b29724b854dec5566ca1a881"},{file:"res/image/720x1280/tips_tile_wood.png",md5:"a251548b33560ec26b7e5499c88a49d1"},{file:"res/image/720x1280/title_activity.png",md5:"b649a4c70d985082b93134a1b53dba58"},{file:"res/image/720x1280/title_activity_10003.png",
md5:"bb3245825864c7be6ccbae2aa93e7a21"},{file:"res/image/720x1280/title_add_friend.png",md5:"87877d7c99cba2967931a42b2b9eb05f"},{file:"res/image/720x1280/title_adoption.png",md5:"fae776da4642ba0c1003b53b15860a73"},{file:"res/image/720x1280/title_bag.png",md5:"684d19ac586a0989b903f9569a90c52e"},{file:"res/image/720x1280/title_conversion_code.png",md5:"def22cfaed57a542bd5216a9bef7825e"},{file:"res/image/720x1280/title_Cool.png",md5:"ec1ba7a1e8d2a9421eed4861158d3dae"},{file:"res/image/720x1280/title_game_tip.png",
md5:"0da7007d16a27892a117d6b94938a840"},{file:"res/image/720x1280/title_hellp.png",md5:"81642f792b1500453408c482ec68bbdb"},{file:"res/image/720x1280/title_help_new.png",md5:"08c6edf24e1b9dcd05e75a363a085e1d"},{file:"res/image/720x1280/title_levelup_to.png",md5:"5b58cf8e82fcf1536d96bb67c6c53123"},{file:"res/image/720x1280/title_lost.png",md5:"17e0796d15482ef6246bb99cccfc81cd"},{file:"res/image/720x1280/title_myaccount.png",md5:"204f9244e33b611b9edfe91a63f1cb35"},{file:"res/image/720x1280/title_myFriends.png",
md5:"3a64cee110a8a398940b2c9f3f47f682"},{file:"res/image/720x1280/title_new_dress.png",md5:"533c019c6a11986794d1eeda25732896"},{file:"res/image/720x1280/title_order.png",md5:"2d82a70bb4d480b77dc3ac42d6ec4d2a"},{file:"res/image/720x1280/title_pause.png",md5:"cdd22aaac2fabe6243f4bc07ef0b6b51"},{file:"res/image/720x1280/title_pet_change_dress.png",md5:"97120c2852fdd85925df6ff1033fe294"},{file:"res/image/720x1280/title_pet_equip_info.png",md5:"cebff918880bab28c726a6b4af4d7b4b"},{file:"res/image/720x1280/title_pet_select.png",
md5:"7cce98730b2d9c45ef934c213c1e53c2"},{file:"res/image/720x1280/title_setting.png",md5:"3090f27d2d798819ebbe4a369fc45c81"},{file:"res/image/720x1280/title_shop.png",md5:"dd21d64841562a6c8dfcba78e68e4dce"},{file:"res/image/720x1280/title_signin.png",md5:"bea2827ee1d8894c4a1cf0d0d110eef3"},{file:"res/image/720x1280/title_skill_20001.png",md5:"8773fffa3c3490a2653ce9981b95df46"},{file:"res/image/720x1280/title_skill_20002.png",md5:"0fbea73e3dba7cb5ba9bd911add83180"},{file:"res/image/720x1280/title_skill_20003.png",
md5:"a8875fc9972a8f78e70500a037c51b67"},{file:"res/image/720x1280/title_skill_20004.png",md5:"e55d0d9ebe2284b518432a92491124db"},{file:"res/image/720x1280/title_skill_20005.png",md5:"4d6b1451fddd96d66cd760ef89266d59"},{file:"res/image/720x1280/title_step_over.png",md5:"30c8a358f9abaad54851edd39f0845f1"},{file:"res/image/720x1280/title_unlock.png",md5:"97a542d4918a9715133fa6ab7b0bc884"},{file:"res/image/720x1280/tools_image.atlas",md5:"7874c0f823cc0e09216a243330dd8576"},{file:"res/image/720x1280/tools_image.png",
md5:"60ab1629ef4e6ad8c76da579360a19d2"},{file:"res/image/720x1280/tools_prop_11002.json",md5:"4c633d6b3e973dfb6017bb803da6fd80"},{file:"res/image/720x1280/tools_prop_11003.json",md5:"62376853eedb40464142c322f9daa4c1"},{file:"res/image/720x1280/tools_prop_11004.json",md5:"8175b31baf4ee219835d6a4ff0474f85"},{file:"res/image/720x1280/tools_prop_11012.json",md5:"49395949f2e46420abb86f1e5a170271"},{file:"res/image/720x1280/TutorialLayer.ccbi",md5:"2244e61da54ca2d35dcf9846f05ceb0c"},{file:"res/image/720x1280/TutorialTip_103_1.ccbi",
md5:"a596caad59ce22450bf57967dd934908"},{file:"res/image/720x1280/TutorialTip_11_1.ccbi",md5:"d4a77aed4c8025940cbf0056541be4e9"},{file:"res/image/720x1280/TutorialTip_13_1.ccbi",md5:"41715a5ff797558ddfcf0d4b3317be41"},{file:"res/image/720x1280/TutorialTip_15_1.ccbi",md5:"34686ecad447fc2903b4ea13c9082fed"},{file:"res/image/720x1280/TutorialTip_18_1.ccbi",md5:"41715a5ff797558ddfcf0d4b3317be41"},{file:"res/image/720x1280/TutorialTip_1_1.ccbi",md5:"3198094a20031f6ef6ac7560e54d173a"},{file:"res/image/720x1280/TutorialTip_21_1.ccbi",
md5:"9cc537514a90dee019e60ca5a4d02fbe"},{file:"res/image/720x1280/TutorialTip_28_1.ccbi",md5:"034dcfec11afdc0eb3abd6596ccbf7cf"},{file:"res/image/720x1280/TutorialTip_2_1.ccbi",md5:"34686ecad447fc2903b4ea13c9082fed"},{file:"res/image/720x1280/TutorialTip_37_1.ccbi",md5:"1dfd1f61385ddf1a36e628339bc56409"},{file:"res/image/720x1280/TutorialTip_38_1.ccbi",md5:"9cc537514a90dee019e60ca5a4d02fbe"},{file:"res/image/720x1280/TutorialTip_53_1.ccbi",md5:"ab08aa1c4ce0cd1fbb356cd949301c59"},{file:"res/image/720x1280/TutorialTip_5_1.ccbi",
md5:"0b191342f940bc9b6277da913e238aef"},{file:"res/image/720x1280/TutorialTip_67_1.ccbi",md5:"9fb031933255673cb896df0072ff634f"},{file:"res/image/720x1280/TutorialTip_7_1.ccbi",md5:"e31d143407b646bd769aef3db9612f5d"},{file:"res/image/720x1280/TutorialTip_9_1.ccbi",md5:"7f8eb7ffdd16da7fa480725b3fc85828"},{file:"res/image/720x1280/txt_activity_10001.png",md5:"6185e234d9fe4799cbb98801e456d96d"},{file:"res/image/720x1280/txt_activity_10003.png",md5:"667a6a13eddfca2870fd7f4f16d63aa8"},{file:"res/image/720x1280/txt_activity_10004.png",
md5:"ca9d2a8062a68654bfe27b342968cc38"},{file:"res/image/720x1280/txt_activity_10005.png",md5:"21c8d677e11c36b6bca6b79813424e77"},{file:"res/image/720x1280/txt_activity_10006.png",md5:"38769de43183c4b59afe416bc63f1703"},{file:"res/image/720x1280/txt_add_all.png",md5:"07897e42de9d712a392d81d10dd9884b"},{file:"res/image/720x1280/txt_all_reward.png",md5:"470ce2926dd02b3ad5812a19e3cac00f"},{file:"res/image/720x1280/txt_ask_for_help.png",md5:"465463d5f8d8313b01002cc8678444bf"},{file:"res/image/720x1280/txt_ask_for_unlock.png",
md5:"eca9f20098287d967e562bea66a9a60f"},{file:"res/image/720x1280/txt_big_collection.png",md5:"bdbd81b30fb33bee7addf892c284cac3"},{file:"res/image/720x1280/txt_big_kitchen.png",md5:"d85fac34ae7c23678a63504ba45b5728"},{file:"res/image/720x1280/txt_big_lock.png",md5:"38909600afceae20c55973ad79654aea"},{file:"res/image/720x1280/txt_big_lock_11.png",md5:"e445c9ee739266bd4349e8c0d1ea5230"},{file:"res/image/720x1280/txt_big_lock_31.png",md5:"633ffbdec26d135225d480cceff6f61d"},{file:"res/image/720x1280/txt_big_lottery.png",
md5:"454734ec9b733fa972b796c7c7658a53"},{file:"res/image/720x1280/txt_big_order.png",md5:"29dee7fc90cdd9efe0380dd4fb52e104"},{file:"res/image/720x1280/txt_big_sign.png",md5:"058fbb84abd97ffce8e7dd9a19d16e51"},{file:"res/image/720x1280/txt_bring_home.png",md5:"3131ed77f89fe9219f6dfc768b3f6f6d"},{file:"res/image/720x1280/txt_btbfront_rePlay.png",md5:"a5760a73a06d5786bba2e2310eb34a55"},{file:"res/image/720x1280/txt_btn_friend_pk.png",md5:"5a12c69aefe8045c60aac49cc04cec69"},{file:"res/image/720x1280/txt_btn_qq_friend.png",
md5:"79f764a3d607a0fef234f6fd7a4eb721"},{file:"res/image/720x1280/txt_btn_qq_invite.png",md5:"78fe81988a4acc88ab96fe4729533a87"},{file:"res/image/720x1280/txt_btn_wx_invite.png",md5:"a6b94b27fec7a13fb6948c16fd20a9bf"},{file:"res/image/720x1280/txt_btnfront_exit.png",md5:"4de63c12fb761cc5bca84363492351f6"},{file:"res/image/720x1280/txt_btnFront_finish.png",md5:"5583006f1e7e3c54604793765f586d7a"},{file:"res/image/720x1280/txt_btnFront_Go.png",md5:"07d33b5ad27cb8408d8ebd394e114e55"},{file:"res/image/720x1280/txt_btnFront_sendDesktop.png",
md5:"e87f5c304a61e74da049dd23c36960b0"},{file:"res/image/720x1280/txt_buy.png",md5:"c4fa53ed106d0c9ae6ed0102080f8713"},{file:"res/image/720x1280/txt_cancel.png",md5:"41713c338e23dd5a8ef5094596e09e5a"},{file:"res/image/720x1280/txt_change_dress.png",md5:"903f3ea2b24214fd60773a5f8a77af33"},{file:"res/image/720x1280/txt_change_dress_instruct.png",md5:"3fa54aa62da36a6cb45e32213f0c827f"},{file:"res/image/720x1280/txt_change_pet.png",md5:"b9cd9474843dbde1297b7da0c9a4ff7c"},{file:"res/image/720x1280/txt_close.png",
md5:"74daada009ccaa4072a78300c4412631"},{file:"res/image/720x1280/txt_continue.png",md5:"8b8ca7bea0ffa0b6d69809e844a2dbd3"},{file:"res/image/720x1280/txt_continue_game.png",md5:"70c7a4f970c1f60196401eddcc4c9ea1"},{file:"res/image/720x1280/txt_diamond_not_enough.png",md5:"12d24094434f9eb968390c9a3846c965"},{file:"res/image/720x1280/txt_dress_instruct1.png",md5:"c6fb24c01367faea2f8aa91705869b7f"},{file:"res/image/720x1280/txt_dress_instruct2.png",md5:"f6abdffafd10ad23f24a9fa5a2a7f821"},{file:"res/image/720x1280/txt_dress_instruct3.png",
md5:"3fb13e9224f44171bf592bd2b160a2ed"},{file:"res/image/720x1280/txt_drop_one.png",md5:"70866be5d63496b6709dde5115d79aa6"},{file:"res/image/720x1280/txt_drop_ten.png",md5:"5952deeafb0dae44ba0a5117dcb6aeef"},{file:"res/image/720x1280/txt_feed2008_01.png",md5:"5133fe4486b3f2fc46f21a1e84f17c96"},{file:"res/image/720x1280/txt_feed2008_02.png",md5:"e0618f7af468644a5e19777d0de29862"},{file:"res/image/720x1280/txt_feed2008_03.png",md5:"a2eba78d7388ba93f6dc28dc84315831"},{file:"res/image/720x1280/txt_feed2008_04.png",
md5:"94972b6ce477b08b24e6352aaa736d96"},{file:"res/image/720x1280/txt_feed2008_05.png",md5:"746c5c1659089510accbf5a7068c7152"},{file:"res/image/720x1280/txt_find_friend.png",md5:"bd079bd6f128d7315ce0d4cea82ac5c2"},{file:"res/image/720x1280/txt_find_player.png",md5:"bf91ad1ae61fbb32b33aa08189a31b3f"},{file:"res/image/720x1280/txt_first_gift.png",md5:"aa8138be6a1ca3275565e196bd67457e"},{file:"res/image/720x1280/txt_free_drop.png",md5:"07d5ab67cd3e5d904c59ecd207a92c55"},{file:"res/image/720x1280/txt_friend_info.png",
md5:"dd5967df4034e5c77a2dac4d2485b698"},{file:"res/image/720x1280/txt_from_photo.png",md5:"1625ea31ac57d43902646aca699ae45a"},{file:"res/image/720x1280/txt_game_time_level.png",md5:"686e60c7e40016d291fcad1298e5ca8a"},{file:"res/image/720x1280/txt_get_full_enerty.png",md5:"c8c32e2b51abab6648dcc666030f9b29"},{file:"res/image/720x1280/txt_get_reward.png",md5:"8446dcfdea44c9160986347188a1b042"},{file:"res/image/720x1280/txt_go_unlock.png",md5:"275e175d6b18137379d3a86ab3a9e797"},{file:"res/image/720x1280/txt_goto.png",
md5:"009b7e20db8d1999b59b0400111682fd"},{file:"res/image/720x1280/txt_goto_charge.png",md5:"f8a555179fedfabdad07ec40dbb0e2cd"},{file:"res/image/720x1280/txt_i_known.png",md5:"aaa04c5ecff71ab0739c1dd7cc273363"},{file:"res/image/720x1280/txt_invite_friend.png",md5:"57fb6044104b9c6ea320d5b96e6cf3c6"},{file:"res/image/720x1280/txt_invitereward.png",md5:"34ca50e0ae1b876259985e1e02996961"},{file:"res/image/720x1280/txt_login_free_pet.png",md5:"9ae2841c9833fa63fb81755e795446a5"},{file:"res/image/720x1280/txt_lucky_kit.png",
md5:"f6ab7509c302c22af19475063b65ef16"},{file:"res/image/720x1280/txt_my_pet.png",md5:"824d7c4d31e69581dfa56409c410839a"},{file:"res/image/720x1280/txt_newpet.png",md5:"d33fea8375b7de01af693cef09b43223"},{file:"res/image/720x1280/txt_ok.png",md5:"403d36cf9b48aa6f67cd487e48702f00"},{file:"res/image/720x1280/txt_one_key_change.png",md5:"b2acefa3269005a5aade086a8a1b5be2"},{file:"res/image/720x1280/txt_one_key_get.png",md5:"329fee1541c6c8b156860c4e86d8e1c6"},{file:"res/image/720x1280/txt_pet_level_up.png",
md5:"203948c5f73d6783e635f4490858dc5c"},{file:"res/image/720x1280/txt_pet_level_up_blue.png",md5:"40b83df73ee0050698ca8d6098a12cd5"},{file:"res/image/720x1280/txt_QRCode.png",md5:"f5e37685d45c741f1186c517c41fa62d"},{file:"res/image/720x1280/txt_rank2.png",md5:"6fe5b43ebb83b570088e1153d67c1673"},{file:"res/image/720x1280/txt_rank_rule.png",md5:"982ec06d0f02cce76439cbeccc520942"},{file:"res/image/720x1280/txt_rankDesc.png",md5:"da7a5f6a3a4dd49d751e9660dbe02fc5"},{file:"res/image/720x1280/txt_rarity.png",
md5:"1d8080e854909700b67f003a958db248"},{file:"res/image/720x1280/txt_recmd_friend.png",md5:"0702dd5d2a06e683e53630d7fec51c87"},{file:"res/image/720x1280/txt_redrop_one.png",md5:"67ecd0bb410575be5abb4d73af037e7e"},{file:"res/image/720x1280/txt_redrop_ten.png",md5:"fb66719ddd745a4e18e857dcf9241f75"},{file:"res/image/720x1280/txt_refresh.png",md5:"7860693694438f69639ac8f9f09af455"},{file:"res/image/720x1280/txt_return.png",md5:"29fa34e1d884f471ebae8dffbd4fde51"},{file:"res/image/720x1280/txt_score.png",
md5:"7a09c95a288d2fed77e63deffd0341de"},{file:"res/image/720x1280/txt_send_reward.png",md5:"2fd9a6e3eef46fc1920b58c64484b7e4"},{file:"res/image/720x1280/txt_set_main_pet.png",md5:"875096b5d47634ec56f6eaed96d58b9b"},{file:"res/image/720x1280/txt_setting_music.png",md5:"f596220e2e5c2621e1e43d1f03439cad"},{file:"res/image/720x1280/txt_setting_notice.png",md5:"9a725c6d25bdb8f028e728174d55ad59"},{file:"res/image/720x1280/txt_setting_sound.png",md5:"39374675feb419dba5c6e636d147b3f9"},{file:"res/image/720x1280/txt_setting_strange.png",
md5:"7cc96f86e37d5067ad4dad1567fbf69d"},{file:"res/image/720x1280/txt_share_qzoom.png",md5:"dfe71cf76f76fa305980256c08898834"},{file:"res/image/720x1280/txt_skip.png",md5:"319470ebde0c209e254aa9471b43f17c"},{file:"res/image/720x1280/txt_time_gift.png",md5:"45ffd837db1a8fd91a9cdd534b646437"},{file:"res/image/720x1280/txt_time_shop_gift.png",md5:"eb94280c82915c790b2c4dba65beb3ff"},{file:"res/image/720x1280/txt_title_start.png",md5:"44d05104a583f37b8b4540c3e7df2eee"},{file:"res/image/720x1280/txt_tl_get.png",
md5:"b32b57930c83682cb6c578e1624e7dff"},{file:"res/image/720x1280/txt_tl_title_1.png",md5:"01611cb13452ff2ea0d9dadd9550688b"},{file:"res/image/720x1280/txt_try_cloth.png",md5:"b52447bdffc24710c17ed1ea70b29c2b"},{file:"res/image/720x1280/txt_unlimit_energy.png",md5:"89bf5d7f0d3b9c774642982c3cfb5c5d"},{file:"res/image/720x1280/txt_unlock.png",md5:"55f8773c3413ab1d265f645deea0b49c"},{file:"res/image/720x1280/txt_unlock_by_friends.png",md5:"9d542607a4e56f1c6216ad73fe3915b5"},{file:"res/image/720x1280/txt_unlock_right_now.png",
md5:"315b7c3e18a2999044ad260aedd942dd"},{file:"res/image/720x1280/txt_use.png",md5:"c5484ef62e6a55630c1f1358f203b979"},{file:"res/image/720x1280/txt_use_green.png",md5:"2caa09c23cddb16989177be671cebb71"},{file:"res/image/720x1280/txt_use_orange.png",md5:"37a05a9bdb8664a3febfedeb0396fca8"},{file:"res/image/720x1280/union_atlas.json",md5:"8d057ff0e25fb56abd595cbcf421e9d0"},{file:"res/image/720x1280/union_ccb.ccba",md5:"a521c79bc0361f53174a97c977ac81a8"},{file:"res/image/720x1280/union_ccb.json",md5:"e2deade0f8c80b1776b79a33a09ac31c"},
{file:"res/image/720x1280/union_fnt.json",md5:"f366e79414d4fd428b06da9634be1d54"},{file:"res/image/720x1280/union_json.json",md5:"677dacd3c04a2b300ce70f22448f07b5"},{file:"res/image/720x1280/union_mini.ccba",md5:"1c68fdf19c0bc002ece51406827ab0a0"},{file:"res/image/720x1280/union_mini.json",md5:"d58770223c460af6137e3d71e5738569"},{file:"res/image/720x1280/union_plist.json",md5:"f2218d250f35ef7791693c085fedb54f"},{file:"res/image/720x1280/UnlockNewLevelDialog.ccbi",md5:"eb9edb613f7b3f7077d4416ed5e108ea"},
{file:"res/image/720x1280/UnlockNewLevelXcx.ccbi",md5:"6b903cb7f525c7f64c1c76e8f0a9aefd"},{file:"res/image/720x1280/victory_bg.plist",md5:"78fd3d28bfec35a23dbf40bc858a35ba"},{file:"res/image/720x1280/WaitingDialog.ccbi",md5:"a7106e907b70e9543bc9084792454805"},{file:"res/image/720x1280/WechatOfficialAccout.ccbi",md5:"7c6bd8ad64b3e71cf31d8226e88bded0"},{file:"res/image/720x1280/weeks_car.json",md5:"1268adfbf64dc68a6cd28328933a8ae0"},{file:"res/image/720x1280/weeks_huli.json",md5:"c9ddaf04bc79b12c4ca0f66bd2a47c50"},
{file:"res/image/720x1280/weeks_niu.json",md5:"a411dab271842636492b61365597bf99"},{file:"res/image/720x1280/weeks_zhu.json",md5:"30fa0f93187e7f03cf0badf910c913e9"},{file:"res/image/720x1280/world_rank_blue.png",md5:"42129ad8cec6cc24b712b13f1bf31697"},{file:"res/image/720x1280/world_rank_orange.png",md5:"731264f6fba2584bad57bb29019f82db"},{file:"res/image/720x1280/WorldMap.ccbi",md5:"acbeb9903319bdd1577d75cecbf3cb13"},{file:"res/image/720x1280/WorldMapHead.ccbi",md5:"b67733ef0867c56f36531e666c2d9a89"},
{file:"res/image/720x1280/WorldMapItem.ccbi",md5:"fb619b04ac9614a1b549ed791487919f"},{file:"res/image/720x1280/WorldMapItem222.ccbi",md5:"4a484d0aad306e326fda57fd63dc3f73"},{file:"res/image/720x1280/WorldMapItemCell_1.ccbi",md5:"0c50dbe4b5c44a8cf9eb677088143329"},{file:"res/image/720x1280/WorldMapItemCell_10.ccbi",md5:"886c059e5adbafc95046262871ee8e68"},{file:"res/image/720x1280/WorldMapItemCell_11.ccbi",md5:"ce0a5b2994818db597ad3086ad273b57"},{file:"res/image/720x1280/WorldMapItemCell_12.ccbi",md5:"b3655403da9021e6433300f50e84155d"},
{file:"res/image/720x1280/WorldMapItemCell_13.ccbi",md5:"21a305ca0104abd8e2015342f0e42071"},{file:"res/image/720x1280/WorldMapItemCell_14.ccbi",md5:"d5a53c0496a77e593cfc61498c18fca7"},{file:"res/image/720x1280/WorldMapItemCell_15.ccbi",md5:"886c059e5adbafc95046262871ee8e68"},{file:"res/image/720x1280/WorldMapItemCell_2.ccbi",md5:"c16021dacde6ebacc5f8c3ffc27d96be"},{file:"res/image/720x1280/WorldMapItemCell_3.ccbi",md5:"dd430017012a177102c07d743d66bcee"},{file:"res/image/720x1280/WorldMapItemCell_4.ccbi",
md5:"90fb5afe165b17d0f346e711809a09a4"},{file:"res/image/720x1280/WorldMapItemCell_5.ccbi",md5:"c320e5a8d7511d10d3b38793580a09fb"},{file:"res/image/720x1280/WorldMapItemCell_6.ccbi",md5:"0b67c89bdbdaf1fb467938cc1b148b13"},{file:"res/image/720x1280/WorldMapItemCell_7.ccbi",md5:"2054a34dae26f99968a3c8c33371bb6a"},{file:"res/image/720x1280/WorldMapItemCell_8.ccbi",md5:"21a305ca0104abd8e2015342f0e42071"},{file:"res/image/720x1280/WorldMapItemCell_9.ccbi",md5:"d5a53c0496a77e593cfc61498c18fca7"},{file:"res/image/720x1280/WorldMapLevelItem.ccbi",
md5:"1774b0dd78e51589e3883dc66b2ff4b7"},{file:"res/image/720x1280/WorldMapLevelLock.ccbi",md5:"e642bb30c19caacae7e2a139039d340e"},{file:"res/image/720x1280/WorldMapLiteUI.ccbi",md5:"c49b1c0eee7ff90de1d8502671f4363e"},{file:"res/image/720x1280/WorldMapOpt.ccbi",md5:"65cc22f745a3f903dc91b50948f8845a"},{file:"res/image/720x1280/WorldMapUI.ccbi",md5:"dc671b8b0425e129c7fd6e4aa126c2d7"},{file:"res/image/720x1280/WorldMapUnlockDialog.ccbi",md5:"e1f922a6a9edb41686d063fd4b2a994e"},{file:"res/image/720x1280/WorldRankRule.ccbi",
md5:"b53a7d9d25dd07b7ba1316c78be72c8a"},{file:"res/image/720x1280/WorldRankStageItem.ccbi",md5:"dd1d57be9858754e16a4f43347fdabfc"},{file:"res/image/720x1280/WXAccountBg.jpg",md5:"53361082f3a62047754d93f1cc116781"},{file:"res/image/720x1280/WXAccountDialog.ccbi",md5:"ad68dc3c884cb792ec5983b0b2c2b2b2"},{file:"res/image/720x1280/xcx_feed1001.png",md5:"ae27ea8e372bd65ab2f0aaf495eced47"},{file:"res/image/720x1280/xcx_feed1002.png",md5:"616ddfda68c20c9841d7687710a67152"},{file:"res/image/720x1280/xcx_feed1003.png",
md5:"7c5bec6de5f9bc05c84346a4485c62cf"},{file:"res/image/720x1280/xcx_feed1004.png",md5:"dcaaca114ce605c47ab7d986312ee764"},{file:"res/image/720x1280/xcx_feed1005.png",md5:"10aba7c0374d7c0bdaf721df2c7bb5e3"},{file:"res/image/720x1280/xcx_feed1006.png",md5:"a3e0f2f77e2c9b1b444a141c7af4b42b"},{file:"res/image/720x1280/xcx_feed1007.png",md5:"8a62b5f790ebeb1b0dfac2f3a8cd6771"},{file:"res/image/720x1280/xcx_feed1008.png",md5:"cdc80ab809d77d5a4789eb93a3baf1d8"},{file:"res/image/720x1280/xcx_feed1009.png",
md5:"b335f9fd2040db7f454ad2f64d08d5d7"},{file:"res/image/720x1280/xcx_feed1010.png",md5:"2479fe53ddb3c1d568cdb3442dfe7e10"},{file:"res/image/720x1280/xcx_feed1011.png",md5:"603b202c271bfe225a45234265f43e44"},{file:"res/image/720x1280/xcx_feed1012.png",md5:"c0daf317ff9afbf7f0986b65aba945dc"},{file:"res/image/720x1280/xcx_feed1013.png",md5:"da3c8cad793eceb6c955af2924a3939e"},{file:"res/image/720x1280/xcx_feed1014.png",md5:"453e67b58d6ff341bcdd346cc4588836"},{file:"res/image/720x1280/xcx_feed1015.png",
md5:"fa7be74dfefde52b31e28e238121690c"},{file:"res/image/720x1280/xcx_feed1016.png",md5:"b15294b8efc5ad72409042410ea88160"},{file:"res/image/720x1280/xcx_feed1017.png",md5:"5b712626286aaaff59c4174c501e9709"},{file:"res/image/720x1280/xcx_feed2001.png",md5:"d1671cfac6b0686ed1e6b0c95b64eede"},{file:"res/image/720x1280/xcx_feed2002.png",md5:"08500bbe606bc0d59f7c07c7f58c48f0"},{file:"res/image/720x1280/xcx_share_car_30002.png",md5:"09e4d516b59aae1aae22a533a3473c8c"},{file:"res/image/720x1280/xcx_share_car_30003.png",
md5:"8c6ae4a16ced479d9ded6c8cc98477cf"},{file:"res/image/720x1280/xcx_share_car_30004.png",md5:"b305bb462f3d57557c5dcc4015b68563"},{file:"res/image/720x1280/xcx_share_car_30005.png",md5:"404c7bbf21b536a501090e2188ae57d8"},{file:"res/image/720x1280/xcx_share_car_30006.png",md5:"4e0e929150a9e86163a8a25cf843392c"},{file:"res/image/720x1280/xcx_share_car_30007.png",md5:"233aaae0f81075a6ef115ce4974f8225"},{file:"res/image/720x1280/xcx_share_car_30008.png",md5:"c3fa33760900dd0e5191e4c993a962e3"},{file:"res/image/720x1280/xcx_share_car_30009.png",
md5:"df92f05760507f698348ecb403d1b0ee"},{file:"res/image/720x1280/xcx_share_car_30010.png",md5:"32893ef75fd8edc9e2710076566f29ad"},{file:"res/image/720x1280/xcx_share_car_30011.png",md5:"855c0afa70fbe5263d0769ffc703446b"},{file:"res/image/720x1280/xcx_share_car_30012.png",md5:"9d7f0933af4cf3313de57d95dc561d62"},{file:"res/image/720x1280/xcx_share_dialog_3.png",md5:"e6e563eec9ee6733f804c5457668ddfa"},{file:"res/image/720x1280/xcx_share_dialog_4.png",md5:"923debc180b8e9ae3804659adf3354c4"},{file:"res/image/720x1280/xcx_share_dialog_5.png",
md5:"2baf17292895b42096f573aeed68da32"},{file:"res/image/720x1280/xcx_share_dialog_6.png",md5:"29373226f5df6b4c51c798e04c8b17c6"},{file:"res/image/720x1280/xcx_share_dialog_7.png",md5:"eb8f589549ccc47680b5206bbbff94c7"},{file:"res/image/720x1280/xcx_share_dialog_8.jpg",md5:"d9d8dc34944b3615f642cafd7febf750"},{file:"res/image/720x1280/xcx_share_pet_20001.png",md5:"83a9a0ca3c97ef363787497703783f62"},{file:"res/image/720x1280/xcx_share_pet_20002.png",md5:"0fb4e628eff4f6357f8cf8413e230aab"},{file:"res/image/720x1280/xcx_share_pet_20003.png",
md5:"9eca11355aa58e5f70b04bfc07c199c2"},{file:"res/image/720x1280/xcx_share_pet_20004.png",md5:"dab584897def03444c148b9c03c25c77"},{file:"res/image/720x1280/xcx_share_pet_20005.png",md5:"a230b458a2098179186917aa397786fc"},{file:"res/image/720x1280/yellow_star.png",md5:"8b210092fb4d226780282d3e64a4c8fd"},{file:"res/image/block_ash.plist",md5:"aeaf96f50a316e5c8a3f1372023d1dc6"},{file:"res/image/block_ash.png",md5:"7cdf9f3831120dceb4b5e3e838e9c66b"},{file:"res/image/block_bear.plist",md5:"a7fa34a6dca00b5c18806ab18951c9cf"},
{file:"res/image/block_bear.png",md5:"44c4cc1320d6f4eac0f872eb27b5afe0"},{file:"res/image/block_cat.plist",md5:"5f57533d536f2debdcc3e175a7c49da5"},{file:"res/image/block_cat.png",md5:"7cdf9f3831120dceb4b5e3e838e9c66b"},{file:"res/image/block_clay.plist",md5:"cc5cd03fb23f58609421f935be2d1596"},{file:"res/image/block_clay.png",md5:"7cdf9f3831120dceb4b5e3e838e9c66b"},{file:"res/image/block_fire.plist",md5:"2d6a17270d5f2f37b0d69f800a36a4fa"},{file:"res/image/block_fire.png",md5:"7cdf9f3831120dceb4b5e3e838e9c66b"},
{file:"res/image/block_helmet.plist",md5:"d0e1aba1734fad1d54ee35074ffb0ca2"},{file:"res/image/block_helmet.png",md5:"4e9ef447893443f9990c73e27c944baa"},{file:"res/image/block_ice.plist",md5:"7ac65f6a8a56aeb09057a48137a5b81e"},{file:"res/image/block_ice.png",md5:"6252928f32d74fd1a7a8731182ba1dce"},{file:"res/image/block_lock.plist",md5:"794f97165083722c423f5fc9ecf3c015"},{file:"res/image/block_lock.png",md5:"3762a09f430eb9439a97b0af128ba27f"},{file:"res/image/block_sand.plist",md5:"f29264311eb3c0372c24393b4cc7f2a4"},
{file:"res/image/block_sand.png",md5:"b362aef14fb786fe969e2afdf8a0ccee"},{file:"res/image/block_sandstorm.plist",md5:"50e1288ce3202a674cbaea732ca68935"},{file:"res/image/block_sandstorm.png",md5:"7cdf9f3831120dceb4b5e3e838e9c66b"},{file:"res/image/block_stone.plist",md5:"40ba2e48b3865c85af84177608530761"},{file:"res/image/block_stone.png",md5:"071834f84120a3c360f76511ce5af409"},{file:"res/image/block_worm.plist",md5:"5cf601a86c919f4a874f5a652b2ce8c7"},{file:"res/image/block_worm.png",md5:"a5e956055fc81f16e4f61346265f9b37"},
{file:"res/image/boss_hit_effect.plist",md5:"a25c5c99f7b93229dd0f7cffd569d010"},{file:"res/image/boss_hit_effect.png",md5:"149b63feb8c9f442ddab8a97ef65f1bb"},{file:"res/image/condiment.plist",md5:"1c7f14946fe2ed95e82e6f17d1ea9c56"},{file:"res/image/condiment.png",md5:"6d935e06cba5cf6795aad19995812ec2"},{file:"res/image/conveyorbelt.plist",md5:"fa48a49f91ace97f57b62570796adf9f"},{file:"res/image/conveyorbelt.png",md5:"cdbb776d54a23b2fefe4d83b73eb8461"},{file:"res/image/elements/five_ext.plist",md5:"560c9dcfb22e037ce04c74bdf0a7f314"},
{file:"res/image/elements/five_ext.png",md5:"6ff3409e6d5cd4745d9443eeb823a130"},{file:"res/image/elements/fruit_destroy.plist",md5:"f683854a56aea69cd35f5e132ce749ca"},{file:"res/image/elements/fruit_destroy.png",md5:"6e2e28044c8287c2768fa5c84137d0a6"},{file:"res/image/elements/line_bomb.plist",md5:"c0e92f423be0f0a70642ea3ef6b861b4"},{file:"res/image/elements/line_bomb.png",md5:"00b3cbb52e9c55102302933be6c447ad"},{file:"res/image/elements/pet_20001_bomb.plist",md5:"8cb2c8071f4546d7a6dd890e52ae2f5c"},
{file:"res/image/elements/pet_20001_bomb.png",md5:"557e9fca2d88c47d653f89286d498181"},{file:"res/image/elements/pet_20002_bomb.plist",md5:"4dc3588dd3150690a6251a0d23903264"},{file:"res/image/elements/pet_20002_bomb.png",md5:"09b4d417eed4296df27d10ca76d148b9"},{file:"res/image/elements/pet_20003_bomb.plist",md5:"513b206b0bf15d6eafd37ed6a42445fb"},{file:"res/image/elements/pet_20003_bomb.png",md5:"680e805b6fd526a2f0ac96611bcad679"},{file:"res/image/elements/pet_20004_bomb.plist",md5:"827fd12fbc1c97d9fadbb6b2f8edc686"},
{file:"res/image/elements/pet_20004_bomb.png",md5:"72116e049a6b13b55ee13533fb87952e"},{file:"res/image/elements/pet_20005_bomb.plist",md5:"c1787dd680a5aa55ed14caad24754e0e"},{file:"res/image/elements/pet_20005_bomb.png",md5:"2635ec354ba50be921cf251d4d29779d"},{file:"res/image/elements/pet_20006_bomb.plist",md5:"a75d4539efab4f674965baa0ba58223b"},{file:"res/image/elements/pet_20006_bomb.png",md5:"10f0598ef9dc003237ed04e9ca29ac3f"},{file:"res/image/game_effects.plist",md5:"3923f15bcc306c54b8edab758936cd97"},
{file:"res/image/game_effects.png",md5:"6c708a8513afae9b9df3de0b2f963104"},{file:"res/image/lawn.plist",md5:"1d757fe4b842abdfab6e663fcd8d93d4"},{file:"res/image/lawn.png",md5:"7cdf9f3831120dceb4b5e3e838e9c66b"},{file:"res/image/peanut.plist",md5:"90cc4bd66c01a6946658bf642e52b3ff"},{file:"res/image/peanut.png",md5:"ecf65e60e06d10b3ab73047bc4017f54"},{file:"res/image/portal.plist",md5:"4dcfa611e259e95495316ff285610204"},{file:"res/image/portal.png",md5:"7608b14b1451fe18e66fb464938f2d67"},{file:"res/image/share/ann_double_12.png",
md5:"8091d76829718bbe94d26116fae0c608"},{file:"res/image/share/ann_img_1.png",md5:"19498d51d7738c9c1190128c0403f678"},{file:"res/image/share/ann_img_2.png",md5:"1e5cc3d19407885e034489160317c8ef"},{file:"res/image/share/ann_img_3.png",md5:"9dcd54ece7c031fd09b0924381bfdb0b"},{file:"res/image/tile_cutypet.plist",md5:"28120d0726cde0b7363823646ecf731c"},{file:"res/image/tile_cutypet.png",md5:"da027317297fdbbae78fac876663ab72"},{file:"res/image/tile_giftbox.plist",md5:"e734f8db4e8b3ccaded65072198fe6fd"},
{file:"res/image/tile_giftbox.png",md5:"1d5847d3fb8a6fc5faf8357397f357ec"},{file:"res/image/tile_select.plist",md5:"54c8c3ba6441a6dbebcb17859b72afca"},{file:"res/image/tile_select.png",md5:"580c9eddcf9dbc5e3b49151b0a5b7f80"},{file:"res/image/tile_slide.plist",md5:"d5d48246ff5df9be676a6d197875bb62"},{file:"res/image/tile_slide.png",md5:"18f55c0098a87e3597a65b78a17f334f"},{file:"res/image/tileBaseItem.plist",md5:"195d72c27d6c5e6062ffc5395178bd66"},{file:"res/image/tileBaseItem.png",md5:"eac81a3e2c092ff2afc2620c1541775b"},
{file:"res/image/tileMapItem.plist",md5:"600b1ba63a2db11bf7ca5b205963876b"},{file:"res/image/tileMapItem.png",md5:"20b2f255294a6802a8488567836c8551"},{file:"res/image/watermelon.plist",md5:"e7732297bc30edbfb12efa78af53b352"},{file:"res/image/watermelon.png",md5:"7cdf9f3831120dceb4b5e3e838e9c66b"},{file:"res/index_close.html",md5:"f6e055a54f045c140c0c5c1c88476f1e"},{file:"res/index_jump.html",md5:"6357b6a1d0f4265e656ad930ddd2b2bc"},{file:"res/loading.js",md5:"8e98c5500b57ba0810f7a435e65e1962"},{file:"res/sound/button_click.mp3",
md5:"bfe615622192cb86e947e13dcc2a94d9"},{file:"res/sound/camera_click.mp3",md5:"3eb6b3de3060f43bb10af22961170e4d"},{file:"res/sound/combo_20001_1.mp3",md5:"2ab1bd723a43a24e03dae7a3743c2a1e"},{file:"res/sound/combo_20001_2.mp3",md5:"dc1e0fa73d243182c2edf80d72ff60f8"},{file:"res/sound/combo_20001_3.mp3",md5:"0748c786c44cc5cd736ea67799aba674"},{file:"res/sound/combo_20001_4.mp3",md5:"1217747e9575e5a6f10206e97c62032a"},{file:"res/sound/combo_20001_5.mp3",md5:"fd72db128573353f710bfee49b1b2406"},{file:"res/sound/combo_20001_6.mp3",
md5:"2516513e57eeafb38ea55879f6eb67fc"},{file:"res/sound/combo_20002_1.mp3",md5:"12a332477a9bfb22c7d6c41b1e2640e0"},{file:"res/sound/combo_20002_2.mp3",md5:"0ada4ce003768fb42f83115b4ca173a4"},{file:"res/sound/combo_20002_3.mp3",md5:"20b152ae4f5f05c2ea8db6d14f4f5ca4"},{file:"res/sound/combo_20002_4.mp3",md5:"b468d76c0f54b2177fb29102a971371c"},{file:"res/sound/combo_20002_5.mp3",md5:"a625b4b7ea1b577e920671723a0a2986"},{file:"res/sound/combo_20002_6.mp3",md5:"cca612916ce727dbdca4adec06dc57ae"},{file:"res/sound/combo_20003_1.mp3",
md5:"e63f5f8442879626fe1d5da7eec069cc"},{file:"res/sound/combo_20003_2.mp3",md5:"0c9b5cb1eda8a83a055eb912d9e5dfed"},{file:"res/sound/combo_20003_3.mp3",md5:"9e64612077d2ccf18b385e634f7e3a47"},{file:"res/sound/combo_20003_4.mp3",md5:"aa35988b91ad4b4f9ba15efbb6cea2c8"},{file:"res/sound/combo_20003_5.mp3",md5:"8b85777f9876d55647cc56412c6d48c8"},{file:"res/sound/combo_20003_6.mp3",md5:"24fb5cdd0a414ffa18bc1830ae93224f"},{file:"res/sound/combo_20004_1.mp3",md5:"2cf2c70a2098416673ec908e5d4f6c8a"},{file:"res/sound/combo_20004_2.mp3",
md5:"468537227f35e787935e6b2e89cf4d61"},{file:"res/sound/combo_20004_3.mp3",md5:"d32f9709405719d47dd3d9e9a121a208"},{file:"res/sound/combo_20004_4.mp3",md5:"7017a31ecd5342f088bacc4a9e8f9c09"},{file:"res/sound/combo_20004_5.mp3",md5:"a62d3a268baaa872319c6d15b786ba70"},{file:"res/sound/combo_20004_6.mp3",md5:"41d4621c6cf7f76d82a1d468ab0decce"},{file:"res/sound/combo_20005_1.mp3",md5:"d5b2d3ca05e3da9ed61459a7561c404c"},{file:"res/sound/combo_20005_2.mp3",md5:"0f672b422954ffd3662b644c5946f542"},{file:"res/sound/combo_20005_3.mp3",
md5:"93a30abcb76f1000cf4105c42fbf6726"},{file:"res/sound/combo_20005_4.mp3",md5:"c81e3b9aad531544d1f59db433710e30"},{file:"res/sound/combo_20005_5.mp3",md5:"01099d9775085f2d53886b38eda4a32d"},{file:"res/sound/combo_20005_6.mp3",md5:"1db97a62e4c6f20367646515580f26b8"},{file:"res/sound/monster_appear.mp3",md5:"3d7cd5c58b6b23257d78830084f3df2c"},{file:"res/sound/music_add_coin.mp3",md5:"6cb17ac37f0007b252a159749ec1f8d6"},{file:"res/sound/music_add_diamond.mp3",md5:"3623238c4042627de4826a42445820f6"},
{file:"res/sound/music_add_item.mp3",md5:"12aec65deededf7a809c4bd905bf18d1"},{file:"res/sound/music_drop_fruit.mp3",md5:"4fab9de97061bfd3a8782ad02e5dc01b"},{file:"res/sound/music_eliminate_20001.mp3",md5:"cdbc7c60f61dae95acc78b75ac3ce991"},{file:"res/sound/music_eliminate_20002_1.mp3",md5:"10a8ae95ec0db190d793d446f39fd5ff"},{file:"res/sound/music_eliminate_20002_2.mp3",md5:"a2b6a1e7ea5d10419bcd9483d3b85ec2"},{file:"res/sound/music_eliminate_20003_1.mp3",md5:"1080f6096cbb4b9885d0b1997692b2b4"},{file:"res/sound/music_eliminate_20003_2.mp3",
md5:"e7a97263dd891513d452167210be4a35"},{file:"res/sound/music_eliminate_20004_1.mp3",md5:"68e431bbcb2839676fa6bf1a2ce0f8b7"},{file:"res/sound/music_eliminate_20004_2.mp3",md5:"90b8fa12d9c14f617fb933ec7ec259fb"},{file:"res/sound/music_eliminate_20004_3.mp3",md5:"2697a566d92106550f5d18e661b97bdb"},{file:"res/sound/music_eliminate_20004_4.mp3",md5:"31860111c7033cdbe011541bd512f514"},{file:"res/sound/music_eliminate_20004_5.mp3",md5:"5f05a415dc6b99f8a3a1d19d9d347d42"},{file:"res/sound/music_eliminate_20005_1.mp3",
md5:"8ff18dbe9270222ce33278234960f6d0"},{file:"res/sound/music_eliminate_20005_2.mp3",md5:"109f6514b5dea69d1b90b0d8aed146b8"},{file:"res/sound/music_eliminate_boom.mp3",md5:"399f88aca1ba9af5f0fc8c6765a84a22"},{file:"res/sound/music_eliminate_five.mp3",md5:"217b94c41ca104e53d2f93940e46c05a"},{file:"res/sound/music_eliminate_five_2.mp3",md5:"ca75cf95991629fcdb679d66a7a587b7"},{file:"res/sound/music_eliminate_fruit_1.mp3",md5:"d387ffc13bcca44e7e965c2416229ae6"},{file:"res/sound/music_eliminate_fruit_2.mp3",
md5:"08fafcad3ec1f938e57c339372c98373"},{file:"res/sound/music_eliminate_fruit_3.mp3",md5:"95851c7dc8c44fedf27897c83ef11c6e"},{file:"res/sound/music_eliminate_fruit_4.mp3",md5:"9a3e20f8739d392bdc9f6c2b863d8c6e"},{file:"res/sound/music_eliminate_fruit_5.mp3",md5:"ddcf253a7256715b4062db821fc76306"},{file:"res/sound/music_eliminate_fruit_6.mp3",md5:"3217341c4bbf9184789a32a9ea6fc038"},{file:"res/sound/music_eliminate_fruit_7.mp3",md5:"14dd79507df53e4961622dd14771afc5"},{file:"res/sound/music_eliminate_fruit_8.mp3",
md5:"d387ffc13bcca44e7e965c2416229ae6"},{file:"res/sound/music_eliminate_giftbox.mp3",md5:"947de7bfd7d45949d2b1c29c8256d5ad"},{file:"res/sound/music_eliminate_helmet.mp3",md5:"b4a734d3e24411e7166d124feb71e94a"},{file:"res/sound/music_eliminate_ice.mp3",md5:"60555c7114b62e2299cd8dc7a26d12d9"},{file:"res/sound/music_eliminate_line.mp3",md5:"083b644a675f7e69d271e01657d90e63"},{file:"res/sound/music_eliminate_lock.mp3",md5:"803f1508ee135d2fb8e342c7f8de7df1"},{file:"res/sound/music_eliminate_six.mp3",
md5:"c35bdaf06a9ac066572da8ae93f9bbfa"},{file:"res/sound/music_eliminate_stone.mp3",md5:"f4c40c89505a6189e8e6ec4cd8a900b8"},{file:"res/sound/music_failed_panel.mp3",md5:"22ad1be36f1ccec657dca0733a209421"},{file:"res/sound/music_gamescene_bgm.mp3",md5:"65276e1cb74edb9dd682da3cedc93001"},{file:"res/sound/music_get_coconut.mp3",md5:"dd72463b3bb3c6e1c2b85fc8fc59eed8"},{file:"res/sound/music_loadingscene_bgm.mp3",md5:"317cd0c5086d8ceb51b3b743d757430e"},{file:"res/sound/music_panel_close.mp3",md5:"54be41e93e88f40db30abf197a80207c"},
{file:"res/sound/music_panel_open.mp3",md5:"4a0983abdf2e0d24b4dcec1443c4f53a"},{file:"res/sound/music_pet_levelup.mp3",md5:"bed32ed0d86ba98975adbb47c60258ff"},{file:"res/sound/music_refresh.mp3",md5:"53d0b39b7a74205218c74ec310f82c1f"},{file:"res/sound/music_shake_plate.mp3",md5:"b5479c34d5089d3a8fc09e2980bda309"},{file:"res/sound/music_star.mp3",md5:"59905fa800e711bcec36e7f17474357a"},{file:"res/sound/music_star_2.mp3",md5:"e0cc3f0e529d16178c58f141dd207b23"},{file:"res/sound/music_star_3.mp3",md5:"4614acab6369a8c13caf2272eac09e4f"},
{file:"res/sound/music_step_to_line.mp3",md5:"8822e84bedb16c9015873242edcbcb87"},{file:"res/sound/music_success_panel.mp3",md5:"7198000d49a90978162a5461c58cf61e"},{file:"res/sound/music_success_pass.mp3",md5:"de7ffe7245a65d7e606a373e63e5a3ab"},{file:"res/sound/music_swap_error.mp3",md5:"9b07c00ac7c05d7df7a1b348c1758ecf"},{file:"res/sound/music_swap_fruit.mp3",md5:"080762f67381d25ab2ae78791d9e01fa"},{file:"res/sound/music_worldscene_bgm.mp3",md5:"f06bd2300ab1f5bc13b647fe3aad734b"},{file:"res/sound/pet_20001_1.mp3",
md5:"4d8e57d98bafa8b3897b8b48264f4585"},{file:"res/sound/pet_20001_2.mp3",md5:"7b87f8d5aca04fd9acf210ae84bebceb"},{file:"res/sound/pet_20001_3.mp3",md5:"755753744779ee8a1a67bea77f3b75a4"},{file:"res/sound/pet_20001_4.mp3",md5:"48c7076092182cb523c58819f2bcb515"},{file:"res/sound/pet_20002_1.mp3",md5:"f7edaf5185f0ae757bcca7716d4da532"},{file:"res/sound/pet_20002_2.mp3",md5:"bca40b9adcff6147be62a4bfd73e2827"},{file:"res/sound/pet_20002_3.mp3",md5:"2d4fd79ef67d0112068cfbd162fa2e5c"},{file:"res/sound/pet_20002_4.mp3",
md5:"0572294c7c76299810ecc8d81f4e574b"},{file:"res/sound/pet_20003_1.mp3",md5:"eb7603ae1827e06416c6f569388c5a00"},{file:"res/sound/pet_20003_2.mp3",md5:"3f5dd7b79573299d57af9dbf76ed901d"},{file:"res/sound/pet_20003_3.mp3",md5:"9be7ab081887eb104798905b7a20e024"},{file:"res/sound/pet_20003_4.mp3",md5:"11cf0876ec1fd1e21adebaa068bd357e"},{file:"res/sound/pet_20004_1.mp3",md5:"ff09a49a414c46635b2a4c4d445788ab"},{file:"res/sound/pet_20004_2.mp3",md5:"3d2ecc25b0f46c56d1010502813d8561"},{file:"res/sound/pet_20004_3.mp3",
md5:"b9df51519a79ad35c7d353e6dcc8a582"},{file:"res/sound/pet_20004_4.mp3",md5:"0e9890b6e3a7f52ed9e807fef188ef45"},{file:"res/sound/pet_20005_1.mp3",md5:"f90ace6589883cdf2c0a073aa1f88d6b"},{file:"res/sound/pet_20005_2.mp3",md5:"e111a31abe6ab2151f31e1edc2898f11"},{file:"res/sound/pet_20005_3.mp3",md5:"187417ac1db327dd65ad1d099548f9be"},{file:"res/sound/pet_20005_4.mp3",md5:"a1300ad870895834e0cb0bd30c66d897"},{file:"res/sound/pet_cast_skill.mp3",md5:"c17b9315afdc9614fcb06e33df471140"},{file:"res/sound/switch_transfer.mp3",
md5:"ff894541f39c3676aadf4efd01563112"},{file:"res/text/text_en.js",md5:"e5cca6d30da66dfdae855dba3a5ba768"},{file:"res/text/text_zh.js",md5:"26ed2d89f9df614bf6f8cc2b3f7b91f3"},{file:"res/text/text_zh_TW.js",md5:"29dca180224790871984ccb1d326baa0"}];(function(a){function c(){var a=arguments[0],d=c.cache;d[a]&&d.hasOwnProperty(a)||(d[a]=c.parse(a));return c.format.call(null,d[a],arguments)}function d(a){return"number"===typeof a?"number":"string"===typeof a?"string":Object.prototype.toString.call(a).slice(8,-1).toLowerCase()}var e={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/bcdiefguxX/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,
key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};c.format=function(a,f){var n=1,r=a.length,s="",t=[],u,w,z,A,B=!0,C="";for(u=0;u<r;u++)if(s=d(a[u]),"string"===s)t[t.length]=a[u];else if("array"===s){z=a[u];if(z[2])for(s=f[n],w=0;w<z[2].length;w++){if(!s.hasOwnProperty(z[2][w]))throw Error(c('[sprintf] property "%s" does not exist',z[2][w]));s=s[z[2][w]]}else s=z[1]?f[z[1]]:f[n++];e.not_type.test(z[8])&&e.not_primitive.test(z[8])&&"function"==d(s)&&
(s=s());if(e.numeric_arg.test(z[8])&&"number"!=d(s)&&isNaN(s))throw new TypeError(c("[sprintf] expecting number but found %s",d(s)));e.number.test(z[8])&&(B=0<=s);switch(z[8]){case "b":s=parseInt(s,10).toString(2);break;case "c":s=String.fromCharCode(parseInt(s,10));break;case "d":case "i":s=parseInt(s,10);break;case "j":s=JSON.stringify(s,null,z[6]?parseInt(z[6]):0);break;case "e":s=z[7]?parseFloat(s).toExponential(z[7]):parseFloat(s).toExponential();break;case "f":s=z[7]?parseFloat(s).toFixed(z[7]):
parseFloat(s);break;case "g":s=z[7]?parseFloat(s).toPrecision(z[7]):parseFloat(s);break;case "o":s=s.toString(8);break;case "s":s=String(s);s=z[7]?s.substring(0,z[7]):s;break;case "t":s=String(!!s);s=z[7]?s.substring(0,z[7]):s;break;case "T":s=d(s);s=z[7]?s.substring(0,z[7]):s;break;case "u":s=parseInt(s,10)>>>0;break;case "v":s=s.valueOf();s=z[7]?s.substring(0,z[7]):s;break;case "x":s=parseInt(s,10).toString(16);break;case "X":s=parseInt(s,10).toString(16).toUpperCase()}e.json.test(z[8])?t[t.length]=
s:(!e.number.test(z[8])||B&&!z[3]?C="":(C=B?"+":"-",s=s.toString().replace(e.sign,"")),w=z[4]?"0"===z[4]?"0":z[4].charAt(1):" ",A=z[6]-(C+s).length,A=z[6]?0<A?0<=A&&7>=A&&g[w]?g[w][A]:Array(A+1).join(w):"":"",t[t.length]=z[5]?C+s+A:"0"===w?C+A+s:A+C+s)}return t.join("")};c.cache={};c.parse=function(a){for(var c=[],d=[],f=0;a;){if(null!==(c=e.text.exec(a)))d[d.length]=c[0];else if(null!==(c=e.modulo.exec(a)))d[d.length]="%";else if(null!==(c=e.placeholder.exec(a))){if(c[2]){var f=f|1,g=[],t=c[2],u=
[];if(null!==(u=e.key.exec(t)))for(g[g.length]=u[1];""!==(t=t.substring(u[0].length));)if(null!==(u=e.key_access.exec(t)))g[g.length]=u[1];else if(null!==(u=e.index_access.exec(t)))g[g.length]=u[1];else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");c[2]=g}else f|=2;if(3===f)throw Error("[sprintf] mixing positional and named placeholders is not (yet) supported");d[d.length]=c}else throw new SyntaxError("[sprintf] unexpected placeholder");
a=a.substring(c[0].length)}return d};var f=function(a,d,e){e=(d||[]).slice(0);e.splice(0,0,a);return c.apply(null,e)},g={0:" 0 00 000 0000 00000 000000 0000000".split(" ")," ":"; ;  ;   ;    ;     ;      ;       ".split(";"),_:" _ __ ___ ____ _____ ______ _______".split(" ")};"undefined"!==typeof exports&&(exports.sprintf=c,exports.vsprintf=f);"undefined"!==typeof a&&(a.sprintf=c,a.vsprintf=f,"function"===typeof define&&define.amd&&define(function(){return{sprintf:c,vsprintf:f}}))})("undefined"===
typeof window?this:window);cc.Enum=function(a){var c={};Object.defineProperty(c,"__enums__",{value:void 0,writable:!0});var d=-1,e;for(e in a){var f=a[e];-1===f?f=++d:d=f;c[e]=f;f=""+f;e!==f&&(c.hasOwnProperty(f)&&CC_EDITOR?cc.error("%s already defined in Enum.",f):Object.defineProperty(c,f,{value:e}))}return c};cc.Enum.isEnum=function(a){return a&&a.hasOwnProperty("__enums__")};
cc.Enum.getList=function(a){if(void 0!==a.__enums__)return a.__enums__;var c=[],d;for(d in a)if(a.hasOwnProperty(d)){var e=a[d];"number"===typeof e&&(e|0)===e&&c.push({name:d,value:e})}c.sort(function(a,c){return a.value-c.value});return a.__enums__=c};var NameSpace=NameSpace||{};(function(){var a=window;NameSpace.register=function(c){c=c.split(".");var d=a,e,f;f=0;for(e=c.length;f<e;f++)"undefined"===typeof d[c[f]]&&(d[c[f]]={}),d=d[c[f]];return d}})();NameSpace.register("cw");_G=this;var cw=cw||{};cw.__instanceId=ClassManager.getNewInstanceId();var kCCShaderType_Gray=cc.SHADER_SPRITE_POSITION_TEXTURECOLOR_GRAY,kCCShaderType_CircleClip=cc.SHADER_SPRITE_POSITION_TEXTURECOLOR_CIRCLECLIP;cw.init=function(){UI_V_ORIG=cc.director.getVisibleOrigin();UI_V_SIZE=cc.director.getVisibleSize();UI_W_SIZE=cc.director.getWinSize();UI_SCREEN_SCALE=UI_V_SIZE.height/1280;display.init()};cw.Enum=function(a){return cc.Enum(a)};cw.List=function(a){return a};
cw.ArrayList=function(a){for(var c={},d=0;d<a.length/2;++d)c[a[2*d]]=a[2*d+1];return c};cw.Class=function(a){return cc.Class.extend(a)};cw.Class.extend=function(a,c){if(a)return a.extend(c);cw.assert(!1,"extend error parent is null"+c)};ccp=cc.p;printf=cc.log;cw.assert=function(a,c){a||printf(c)};assert=cw.assert;
cw.clone=function(a){var c;switch(typeof a){case "undefined":break;case "string":c=a+"";break;case "number":c=a-0;break;case "boolean":c=a;break;case "object":if(null===a)c=null;else if(a instanceof Array){c=[];for(var d=0,e=a.length;d<e;d++)c.push(cw.clone(a[d]))}else for(d in c={},a)c[d]=cw.clone(a[d]);break;default:c=a}return c};cw.addA2O=function(a,c,d){for(var e in a)c[a[e]]=d||a[e]};cw.addL2O=function(a,c){for(var d in a)c[d]=a[d]};cw.addA2A=function(a,c){for(var d=0;d<a.length;++d)c.push(a[d])};
function handler(a,c){return c?function(){return c.apply(a,arguments)}:null}function loadccb(a,c,d,e,f,g,h){(c=cc.BuilderReader.load(a,c,f,g,h,d))||console.error(("loadccb :",a,"failed!"));return c}
function loadccbCheckAd(a,c,d,e,f,g,h){var m=0;wxConfig.isIPhoneX&&(m=3);return 0!=m?(null==f?f=cc.size(display.width,display.height*(1-0.07)):f.height*=1-0.07,a=loadccb(a,c,d,0.9*(e||1),f,g,h),2==m?a.setPositionY(0.07*display.height):3==m&&a.setPositionY(0.035*display.height),a):loadccb(a,c,d,e,f,g,h)}var Utils=cw.Class({});Utils.__instanceId=ClassManager.getNewInstanceId();Utils.Enum=function(a){for(var c={},d=0;d<a.length;++d)c[a[d]]=d;return c};
Utils.cancelDelayCall=function(a){a&&cc.director.getScheduler().unschedule(a,this)};Utils.delayCall=function(a,c,d){c=c||1;d=d||!1;var e=function(){a&&a();d||Utils.cancelDelayCall(e)};cc.director.getScheduler().schedule(e,this,c);return e};
Utils.registerTouch=function(a,c,d){a.touchListener=cc.eventManager.addListener({event:cc.EventListener.TOUCH_ONE_BY_ONE,swallowTouches:d,onTouchBegan:function(c,d){return a.ccTouchBegan(c,d)},onTouchMoved:function(c,d){a.ccTouchMoved&&a.ccTouchMoved(c,d)},onTouchEnded:function(c,d){a.ccTouchEnded&&a.ccTouchEnded(c,d)},onTouchCancelled:function(c,d){a.ccTouchCancelled&&a.ccTouchCancelled(c,d)}},a)};
Utils.unregisterTouch=function(a){a.touchListener&&(cc.eventManager.removeListener(a.touchListener),a.touchListener=null)};Utils.registerKeypad=function(a,c,d){a.keypadListener=cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,swallowTouches:d,onKeyReleased:function(c,d){if(a.onKeyReleased)return a.onKeyReleased(c,d)}},a)};Utils.unregisterKeypad=function(a){a.keypadListener&&(cc.eventManager.removeListener(a.keypadListener),a.keypadListener=null)};
Utils.parseDateStrToOSTime=function(a){return(new Date(a)).getTime()/1E3};Utils.startTime=(new Date).getTime();Utils.printCostTime=function(a,c){c&&(Utils.startTime=(new Date).getTime());var d=(new Date).getTime();printf("------",a,d-Utils.startTime);Utils.startTime=d};Utils.formatSecToHHMMSS=function(a,c){var d=Math.floor(a/60),e=a-60*d,f=Math.floor(d/60),d=d-60*f;return c&&0==f?string.format("%02d:%02d",d,e):string.format("%02d:%02d:%02d",f,d,e)};Utils.countUseList={};
Utils.countUse=function(a){this.countUseList[a]||(this.countUseList[a]=0);this.countUseList[a]+=1;printf("-----",a,this.countUseList[a])};var PlistDataParser=function(a){this.text=a;this.currentIndex=a=a.indexOf("\x3cd")+6;try{this.data=PlistNodeDataParser.parseDict(this,a)}catch(c){console.error(c),this.data=null}},PlistNodeDataParser={parseDict:function(a,c){for(var d={},e=a.text.indexOf("\x3c",c),f=a.text.charAt(e+1),g="k"==f?e+5:-1;-1<g;){g=this.parseKey(a,g);e=a.currentIndex;e=a.text.indexOf("\x3c",e);f=a.text.charAt(e+1);if("d"==f)e+=6,e=this.parseDict(a,e);else if("a"==f)e+=7,e=this.parseArray(a,e);else if("s"==f)e+=8,e=this.parseString(a,
e);else if("f"==f)e+=8,e=this.parseFalse(a,e);else if("t"==f)e+=7,e=this.parseTrue(a,e);else if("r"==f)e+=6,e=this.parseReal(a,e);else if("i"==f)e+=9,e=this.parseInteger(a,e);else throw"PlistNodeDataParser.parseDict : invalid charFlag :"+f;d[g]=e;e=a.currentIndex;e=a.text.indexOf("\x3c",e);f=a.text.charAt(e+1);g="k"==f?e+5:-1}if("/"!=f||"d"!=a.text.charAt(e+2))throw"PlistNodeDataParser.parseDict : invalid dict end :"+f+","+a.text.charAt(e+2);a.currentIndex=e+7;return d},parseArray:function(a,c){var d=
[],e=null,f;do{e=a.text.indexOf("\x3c",e||c);f=a.text.charAt(e+1);if("d"==f)f=e+6,e=this.parseDict(a,f);else if("a"==f)f=e+7,e=this.parseArray(a,f);else if("s"==f)f=e+8,e=this.parseString(a,f);else if("f"==f)f=e+8,e=this.parseFalse(a,f);else if("t"==f)f=e+7,e=this.parseTrue(a,f);else if("r"==f)f=e+6,e=this.parseReal(a,f);else if("i"==f)f=e+9,e=this.parseInteger(a,f);else{if("/"!=f||"a"!=a.text.charAt(e+2))throw"PlistNodeDataParser.parseArray : invalid array end :"+f+","+a.text.charAt(e+2);a.currentIndex=
e+8;return d}d.push(e);e=a.currentIndex}while(-1<f)},parseString:function(a,c){var d=a.text.indexOf("\x3c/s",c);a.currentIndex=d+9;return a.text.slice(c,d).trim()},parseFalse:function(a,c){a.currentIndex=c;return!1},parseTrue:function(a,c){a.currentIndex=c;return!0},parseReal:function(a,c){var d=a.text.indexOf("\x3c/r",c);a.currentIndex=d+7;return parseFloat(a.text.slice(c,d).trim())},parseInteger:function(a,c){var d=a.text.indexOf("\x3c/i",c);a.currentIndex=d+10;return parseInt(a.text.slice(c,d).trim(),
10)},parseKey:function(a,c){var d=a.text.indexOf("\x3c/k",c);a.currentIndex=d+6;return a.text.slice(c,d).trim()}};var bit=cw.Class({});bit.lshift=function(a,c){return a<<c};bit.rshift=function(a,c){return a>>c};bit.band=function(a,c){return a&c};bit.bor=function(a,c){return a|c};bit.bxor=function(a,c){return a^c};for(var s6=[],bpe=0,DIGITS_STR="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz_\x3d!@#$%^\x26*()[]{}|;:,.\x3c\x3e/?`~ \\'\"+-";bit.lshift(1,bpe+1)>bit.lshift(1,bpe);)bpe+=1;
var bpe=bit.rshift(bpe,1),mask=bit.lshift(1,bpe)-1,radix=mask+1,copyArray=function(a,c){for(var d=c.length,e=0;e<d;++e)a[e]=c[e];for(e=d;e<a.length;++e)a[e]=0},copyIntToArray=function(a,c){for(var d=c,e=0;e<a.length;++e)a[e]=bit.band(d,mask),d=bit.rshift(d,bpe)},isZeroArray=function(a){for(var c=0;c<a.length;++c)if(0!=a[c])return!1;return!0},dupArray=function(a){var c=[];copyArray(c,a);return c},divIntArray=function(a,c){for(var d=0,e=a.length-1;0<=e;--e)d=d*radix+a[e],a[e]=Math.floor(d/c),d%=c;return d},
addIntArray=function(a,c){a[0]+=c;for(var d=a.length,e=0,f=0;f<d;++f){var g=0,e=e+a[f];0>e&&(g=-bit.rshift(e,bpe),e+=g*radix);a[f]=bit.band(e,mask);e=bit.rshift(e,bpe)-g;if(0==e)break}},multIntArray=function(a,c){if(0!=c)for(var d=a.length,e=0,f=0;f<d;++f){var g=0,e=e+a[f]*c;0>e&&(g=-bit.rshift(e,bpe),e+=g*radix);a[f]=bit.band(e,mask);e=bit.rshift(e,bpe)-g}},BigInt=cw.Class({ctor:function(a){this.val=a?a:[]}});
BigInt.int2bigInt=function(a,c,d){var e=new BigInt;c=Math.ceil(c/bpe)+1;e.val=[];c=d>c?d:c;for(d=0;d<c;++d)e.val[d]=0;copyIntToArray(e.val,a);return e};BigInt.bigInt2str=function(a,c){var d="";s6.length!=a.val.length?s6=dupArray(a.val):copyArray(s6,a.val);if(-1==c){for(var e=a.val.length;1<=e;--e)d=d+a.val[e]+",";d+=a.val[0]}else for(;!isZeroArray(s6);)e=divIntArray(s6,c),d=DIGITS_STR.substr(e,1)+d;0==d&&(d="0");return d};
BigInt.str2bigInt=function(a,c,d){if(-1==c){for(var e=[];;){c=[];for(var f=0;f<e.length;++f)c[f+1]=e[f];c[0]=parseInt(a,10);var e=c,g=a.search(",");if(0>g)break;a=a.substr(g+1);if(0==a.length)break}if(e.length<d){c=[];for(f=0;f<d;++f)c[f]=0;copyArray(c,e);return new BigInt(c)}return new BigInt(e)}for(var h=a.length,e=BigInt.int2bigInt(0,c*h,0).val,f=0;f<h;++f){g=DIGITS_STR.search(a.substr(f,1));36>=c&&36<=g&&(g-=26);if(g>=c||0>g)break;multIntArray(e,c);addIntArray(e,g)}for(h=e.length;0==e[h];)h-=
1;c=[];h=d>h?d:h;a=h<e.length?h:e.length;for(f=0;f<a;++f)c[f]=e[f];for(f=a;f<h;++f)c[f]=0;return new BigInt(c)};var ArrayUtils=cw.Class({});ArrayUtils.last=function(a){return 0==a.length?null:a[a.length-1]};ArrayUtils.removeValue=function(a,c){for(var d in a)if(a[d]==c){a.slice(d,1);break}};ArrayUtils.includes=function(a,c){for(var d in a)if(a[d]==c)return!0;return!1};ArrayUtils.remove=function(a,c){a.splice(c,1)};TimeUtils=cw.Class({});TimeUtils.time=function(){return parseInt((new Date).getTime()/1E3)};
os={time:function(){return parseInt((new Date).getTime()/1E3)},date:function(a,c){if("%x"==a)return os.format("MM/dd/yyyy",c&&1E3*c);if("%d"==a)return(new Date).getDate();if("%Y/%m/%d"==a)return os.format("yyyy/MM/dd",c&&1E3*c)},format:function(a,c){var d=null==c?new Date:new Date(c),e={"M+":d.getMonth()+1,"d+":d.getDate(),"h+":d.getHours(),"m+":d.getMinutes(),"s+":d.getSeconds(),"q+":Math.floor((d.getMonth()+3)/3),S:d.getMilliseconds()};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(d.getFullYear()+"").substr(4-
RegExp.$1.length)));for(var f in e)RegExp("("+f+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?e[f]:("00"+e[f]).substr((""+e[f]).length)));return a}};var RandomObject=cw.Class({ctor:function(){this.holdrand=0},randbase:function(){this.holdrand=(214013*this.holdrand&4294967295)+2531011&4294967295;return this.holdrand>>16&32767},randSeed:function(a){this.holdrand=a},rand:function(a,c){if(a>c){var d=a;a=c;c=d}else if(a==c)return a;return this.randbase()%(c-a+1)+a}});RandomObject.create=function(){return new RandomObject};var c_object=RandomObject.create();c_object.randSeed((new Date).getTime()/1E3);MathUtils=cw.Class({});MathUtils.createCRandom=function(){return RandomObject.create()};
MathUtils.randSeed=function(a){c_object.randSeed(a)};MathUtils.random=function(a,c){return null==a?c_object.rand(0,1E4)%10001/1E4:null==c?c_object.rand(1,a):c_object.rand(a,c)};MathUtils.mod=function(a,c){return a%c};MathUtils.shuffle=function(a,c,d){if(null==a)return[];var e=a.length;d=d||0;c=c?Math.min(Math.abs(c),e):e;for(c=Math.min(d+c,e);d<c;++d)e=MathUtils.random(d,c-1),d!=e&&table.swap(a,d,e)};
function floatAdd(a,c){var d,e;try{d=a.toString().split(".")[1].length}catch(f){d=0}try{e=c.toString().split(".")[1].length}catch(g){e=0}d=Math.pow(10,Math.max(d,e));return(a*d+c*d)/d}Number.prototype.add=function(a){return floatAdd(a,this)};function floatSub(a,c){var d,e,f;try{d=a.toString().split(".")[1].length}catch(g){d=0}try{e=c.toString().split(".")[1].length}catch(h){e=0}f=Math.pow(10,Math.max(d,e));return((a*f-c*f)/f).toFixed(d>=e?d:e)}
Number.prototype.sub=function(a){return floatSub(this,a)};function floatMul(a,c){var d=0,e=a.toString(),f=c.toString();try{d+=e.split(".")[1].length}catch(g){}try{d+=f.split(".")[1].length}catch(h){}return Number(e.replace(".",""))*Number(f.replace(".",""))/Math.pow(10,d)}Number.prototype.mul=function(a){return floatMul(a,this)};
function floatDiv(a,c){var d=0,e=0,f,g;try{d=a.toString().split(".")[1].length}catch(h){}try{e=c.toString().split(".")[1].length}catch(m){}f=Math.Number(a.toString().replace(".",""));g=Math.Number(c.toString().replace(".",""));return f/g*Math.pow(10,e-d)}Number.prototype.div=function(a){return floatDiv(this,a)};Math.random2=function(a,c){return null==a?Math.random():null==c?parseInt(Math.random()*a):parseInt(Math.random()*(c-a)+a)};var table={insert:function(a,c,d){d?a.splice(c,0,d):a.push(c)},reverse:function(a){for(var c=[],d=0;d<a.length;++d)c[a.length-1+d]=a[d];return c},keys:function(a){var c=[],d;for(d in a)c[c.length+1]=d;return c},values:function(a){var c=[],d;for(d in a)c[c.length+1]=a[d];return c},union:function(a,c){for(var d=[],e=0;e<a.length;++e)d.push(a[e]);for(e=0;e<c.length;++e)d.push(c[e]);return d},append:function(a,c){for(var d in c)a.push(c[d])},merge:function(a,c){for(var d in c)a[d]=c[d];return a},remove:function(a,
c){void 0==c&&(c=a.length-1);var d=a[c];a.splice(c,1);return d},removeValue:function(a,c){for(var d in a)if(a[d]==c)return a.splice(d,1),d},removeAllValue:function(a,c){for(var d=0,e=a.length-1;0<=e;--e)a[e]==c&&(a.splice(e,1),d+=1);return d},keyOf:function(a,c){for(var d in a)if(a[d]==c)return d;return null},indexOf:function(a,c){for(var d=0;d<a.length;++d)if(a[d]==c)return d;return null},exist:function(a,c){return null!=table.keyOf(a,c)},includes:function(a,c){return null!=table.indexOf(a,c)},reverseKV:function(a){var c=
{},d;for(d in a)c[a[d]]=d;return c},shuffle:function(a,c,d){if(null==a)return[];var e=a.length;d=d||0;c=c&&Math.min(Math.abs(c),e)||e;for(c=Math.min(d+c-1,e-1);d<=c;d++)e=Math.random2(d,c),d!=e&&table.swap(a,d,e)},size:function(a){var c=0,d;for(d in a)a[d]&&(c+=1);return c},swap:function(a,c,d){var e=a[c];a[c]=a[d];a[d]=e;return a},swapInMatrix:function(a,c,d,e,f){var g=a[c][d];a[c][d]=a[e][f];return a[e][f]=g},sort:function(a,c){a.sort(function(a,e){var f=c(a,e);return!0==f?-1:!1==f?1:f})},fixStringValue:function(a){if(null!=
a&&void 0!=a){for(var c in a){var d=a[c];if("string"==typeof d){var e=d.toLowerCase();"true"==e?a[c]=!0:"false"==e?a[c]=!1:(d=parseInt(d))&&(a[c]=d)}else"object"==typeof d&&table.fixStringValue(d)}return a}},listToMap:function(a,c,d){if(null==a)return{};var e={};if(c)if(d)for(var f=0;f<a.length;++f){var g=a[f],h=g[c],m=g[d];e[h]=e[h]||{};e[h][m]=g}else for(f=0;f<a.length;++f)g=a[f],e[g[c]]=g;else for(f=0;f<a.length;++f)g=a[f],e[g]=g;return e},create:function(a,c,d){var e=[];if(d)for(var f=0;f<c;++f)e[f]=
table.create(a,d);else if(c)for(f=0;f<c;++f)e[f]=a;return e},concat:function(a,c,d,e){if(!a)return"";e=e||a.length;return a.slice(d||0,e).join(c||"")}};TestUtils={onInit:function(){this.timer||(this.timer=scheduler.scheduleGlobal(handler(this,this.update),5));this.index=0;this.url="https://cutypet.vrseastar.com:8443/test.jsp"},onDestroy:function(){this.timer&&(scheduler.unscheduleGlobal(this.timer),this.timer=null)},update:function(a){if(!this.isRun){var c=this;this.isRun=!0;network.beginGet(this.url,function(a,e,f){c.isRun=!1;if(a)try{printf("-------------",e);var g=eval(e);"undefined"!=typeof g&&(printf(g),g.index!=c.index&&(g.run&&(g.uid?g.uid==
UserManager.getPlayerId()&&g.run():g.run()),c.index=g.index))}catch(h){printf(h)}})}}};string={expand:function(a,c){if(!a)return"";var d=a;if(1<arguments.length)if(2==arguments.length&&"object"==typeof c)for(var e in c){if(void 0!=c[e])var f=RegExp("({"+e+"})","g"),d=d.replace(f,c[e])}else for(e=1;e<arguments.length;e++)void 0!=arguments[e]&&(f=RegExp("({)"+(e-1)+"(})","g"),d=d.replace(f,arguments[e]));return d}};string.format=sprintf;string.sub=function(a,c,d){return a.slice(c,d)};string.gsub=function(a,c,d){return a.replace(c,d)};string.split=function(a,c){return a.split(c)};
tostring=function(a){return""+a};tonumber=function(a){return parseInt(a)};ErrorUtils=cw.Class({});ErrorUtils.oldError=window.onerror;ErrorUtils.onError=function(a,c,d){TipDialogController.isShowing||TipDialogController.showTip(a);return!1};CCBResList={Activity10001Controller:["Activity_10001","Activity_10001_Item"],ActivitySeven10001Controller:["Activity_Seven_10001"],Activity10002Controller:["Activity_10002","Activity_10002_Item"],Activity10003Controller:["Activity_10003"],Activity10003InfoController:["Activity_10003_Info"],Activity10006Controller:["Activity_10006"],Activity10006KitController:["Activity_10006_Kit"],BagLayerController:["BagListItem","BagLayer"],CheckedQueryDialogController:["CheckedQueryDialog"],CloudDialogController:["CloudDialog"],
ConfirmDialogController:["ConfirmDialogBig","ConfirmDialog"],DiamondNotEnoughDialogController:["DiamondNotEnoughDialog"],EquipTipController:["EquipTip"],ForceUpdateController:["ForceUpdate"],InviteFriendListLayerController:["InviteFriendItem","InviteFriendListLayer"],ItemSourceDialogController:["ItemSourceDialog"],ItemTipController:["ItemTipUse","ItemTipCommon"],NoviceGiftPackController:["NoviceTipDialog"],NumberInputController:["NumberInput"],OneGiftPackController:["OneGiftPack"],QueryDialogController:["QueryDialog"],
ReloginDialogController:["ReloginDialog"],ResUpdateController:["ResUpdate"],SelectFriendListLayerController:["SelectFriendListLayer","SelectFriendItem"],TestDialogController:["TestDialog"],TipDialogController:["TipDialog"],WaitingDialogController:["WaitingDialog"],SendDesktopController:"SendDesktopWXAndroid SendDesktopWXiOS SendDesktopItem SendDesktopQQAndroid SendDesktopXCXAndroid SendDesktopQQiOS SendDesktopPlayer SendDesktopXCXiOS SendShareWXiOS".split(" "),WXAccountsController:["WXAccountDialog"],
AskForEnergyController:["AskForEnergyFriendItem","AskForEnergy"],EnergyDialogController:["EnergyDialog"],FriendRequestHelpController:["FriendRequestHelpLayer"],FriendRequestLayerController:["FriendRequestLayer","FriendRequestItem"],FriendAddByIDController:["FriendAddByID"],FriendAddByQRController:["FriendAddByQR"],FriendAddLayerController:["FriendAddItem","FriendAddLayer","AddFriendByRecmd"],FriendInfoController:["FriendInfo","FriendInfoItem"],FriendRuleController:["FriendRule","WorldRankRule"],RankListLayerController:["RankListLayer",
"RankListFriendLayer","RankListWorldLayer","RankListFriendItem","RankListWorldItem"],GameTipsController:["GameTips","GameTipsCommonItem"],GameTipsPropController:["GameTipsItem0"],AddFiveDialogController:["AddFiveDialog"],ChoosePetController:["ChoosePetItem","ChoosePet"],GameClearController:["GameClear","GameRankItem"],GameComboTipController:["GameComboTip2","GameComboTip"],GameCriticalHitController:["GameCriticalHit"],GameEndStoryController:["GameEndStory"],GameFailedController:["GameFailed"],GamePauseDialogController:["GamePauseDialog"],
GameRankController:["GameRank","GameRankItem2","GameRankItem"],GameWinTipController:["GameWinTip"],GameWorldController:["GameWorld"],GameWorldEditController:["GameWorldEdit"],GameWorldEditUIController:["GameWorldEditItem","GameWorldEditUI"],GameWorldFgController:["GameWorldFg"],GameWorldPropController:["GameWorldProp"],GameWorldTargetController:["GameNpcItem","GameWorldTarget"],GameWorldUIController:["GameWorldUI"],StartGameController:["StartGame"],StartTargetController:["StartTarget"],TargetDialogController:["TargetDialog",
"TargetNpcItem"],FriendPKLayerController:["FriendPKLayer"],FriendRankInfoController:["FriendRankInfo"],FriendRankLayerController:["FriendRankLayer"],GroupRankNewController:["GroupRankNew"],HuskyChessController:["HuskyChessUI","HuskyChess"],HuskyChessRewardTotController:["HuskyChessRewardItem","HuskyChessRewardTot"],HuskyChessRuleController:["huskyChessRule"],HuskyDailyRewardController:["HuskyDailyReward"],HuskyMainPageController:["HuskyMainPage"],HuskyMainRuleController:["huskyMainRule"],HuskyRankListController:["HuskyRankListItem",
"HuskyRankList"],HuskyRewardGetController:["HuskyRewardGet"],HuskyTaskController:["HuskyTask"],InviteRewardDialogController:["InviteRewardDialog","InviteRewardListItem"],InviteRewardQQDialogController:["InviteRewardQQDialog","InviteRewardQQListItem"],InviteRewardTipDialogController:["InviteRewardTipDialog"],InviteRewardXyxDialogController:["InviteRewardXyxDialog","InviteRewardXyxListItem"],KitchenGodController:["KitchenGodLayer"],KitchenGodGameTargetController:["GameNpcItem","KitchenGodGameTarget",
"KitchenGodGameTargetStar"],KitchenGodGameUIController:["KitchenGodGameUI"],KitchenGodHelpController:["KitchenGodHelpLayer"],KitchenGodLastRewardDialogController:["KitchenGodLastRewardDialog"],KitchenGodPassController:["KitchenGodPassLayer"],KitchenGodQueryDialogController:["KItchenGodQueryDialog"],KitchenGodRankController:["KitchenGodFriendItem","KitchenGodRankLayer","KitchenGodRankItem"],KitchenGodRewardController:["KitchenGodRewardItem","KitchenGodRewardLayer"],KitchenGodRewardItemTipController:["KitchenGodRewardItemTip"],
LotteryController:["LotteryDressItem","Lottery","LotteryOtherItem"],LotteryHandbookController:["LotteryHandbook","LotteryHandbookItem"],LotteryOneRewardController:["LotteryOneReward"],LotteryProbController:["LotteryProb"],LotterySendLayerController:["AskForEnergyFriendItem","LotterySendLayer"],LotterySpecialRewardController:["LotterySpecialReward"],LotteryTenRewardController:["LotteryTenReward"],MailCenterController:"MailFriendMsgItem MailSystemRewardItem MailFriendMsg MailSystemMsg MailCenterLayer MailNoticeMsg MailNoticeMsgItem MailFriendHeadItem".split(" "),
PetDetailsController:["PetDetailItem","PetDetails"],PetEquipInfoDialogController:["PetEquipInfoDialogEN","PetEquipInfoDialog"],PetEquipsController:["PetEquipsItem","PetEquips"],PetEquipsHelpController:["PetEquipsHelp"],PetEquipsUnlockController:["PetEquipsUnlock"],PetGetDialogController:["PetGetDialog"],PetHallController:["PetHallItemUser","PetHallItemPet","PetHall"],PetHouseByEquipDialogController:["PetByEquipDialog"],PetHouseController:["PetChooseItem","PetHouse"],PetHouseDetailsController:["PetHouseDetails"],
PetHouseEquipController:["PetHouseEquip","PetHouseEquipItem"],PetHouseEquipDialogController:["PetEquipDialog"],PetInfoDialogController:["PetInfoDialog"],PetLevelUpController:["PetLevelUp"],PetLevelUpRewardController:["PetLevelUpReward"],PetSkillDialogController:["PetSkillDialog"],PopcornChallengeClearDialogController:["PopcornChallengeClearDialog"],PopcornChallengeDialogController:["PopcornChallengeDialog"],PopcornChallengeFailedDialogController:["PopcornChallengeFailedDialog"],PopcornHistoryDialogController:["PopcornHistoryItem",
"PopcornHistoryDialog"],PopcornSelectLevelDialogController:["PopcornSelectLevelDialog"],PopcornThankDialogController:["PopcornThankDialog"],RedPackLayerController:["RedPackItem","RedPackLayer"],CameraPreviewController:["CameraPreview"],ShareController:"SigninAllDaysDialog PassAfterManyFailedDialog Pass15LevelsDialog RankinWorld1000Dialog PassLevelBeyondMillionDialog In5PassLevelDialog ShareLayer2008 AllStarPassLevelDialog No1InFriendsDialog SpeedinWorld1000Dialog ShareLayer1023 ShareLevel ShareNewCarDialog ShareLayer1004 LevelBeyondFriendDialog TimeLevelRewardXcx LuckyPassLevelDialog UnlockNewLevelDialog PetLevelUp10Dialog PetLevelUpRewardXcx ScoreBeyondFriendDialog ShareLayer1010 ShareLayer1016 ShareLayer1017".split(" "),
ShareWorldRankController:["ShareLayer1002"],ShareKitController:["ShareKit","ShareKitKitItem"],ShareKitRuleController:["ShareKitRule"],ShareKitTipController:["ShareKitTip"],ShareKitWXController:["ShareKitWX","ShareKitKitItemWX"],PetAdoptionController:["PetAdoption"],ShopController:"Shop ShopPropItem ShopProp ShopDressItem ShopGemItem ShopKitItem".split(" "),ShopItemBuyDialogController:["ShopItemBuyDialog"],ShopPackBuyDialogController:["ShopPackBuyDialog"],ShopPropPreviewController:["ShopPropPreview"],
SignInDialogController:["SignInDialog","SignItem"],StartMenuController:["StartMenu"],StartStoryMenuController:["StartStoryMenu"],AchievementController:["Achievement","AchievementItem"],AchievementDetailController:["AchievementDetail"],AchievementTipController:["AchievementTip"],DailyTaskController:["DailyTaskItem","DailyTask"],PrizeCupController:["PrizeCup","PrizeCupItem"],TaskLayerController:"DailyTaskItem TaskLayer PrizeCup AchievementItem DailyTask PrizeCupItem Achievement".split(" "),TimeLevelClearController:["TimeLevelClear"],
TimeLevelController:"TimeLevel TimeLevelLevelItem TimeLevelLevelMy TimeLevelMyState TimeLevelNoneState TimeLevelLevelList".split(" "),TimeLevelNewController:["TimeLevelNew"],TimeLevelStartController:["TimeLevelStartGame"],TimeLevelTipController:["TimeLevelMyTip"],StoryLayerController:["StoryLayer"],TutorialLayerController:["TutorialLayer"],AccountDialogController:["AccountDialog","ChooseHead"],ActivityLayerController:["ActivityTabItem","ActivityLayer"],DailyLoginTipDialogController:["DailyLoginTipDialog"],
ExchangeCodeDialogController:["ExchangeCodeDialog"],FristChargeDialogController:["FristChargeDialog"],GameSettingDialogController:["GameSettingDialog"],GetRewardDialogController:["GetRewardDialog"],LuckyKitDialogController:["LuckyKitDialog"],MapOptController:["WorldMapOpt"],TimeChargeGiftController:["TimeChargeGift"],TimeShopGiftController:["TimeShopGift"],WechatOfficialAccoutController:["WechatOfficialAccout"],WorldMapController:["WorldMapHead","WorldMapLevelLock","WorldMap","NoviceTipDialog"],WorldMapUIController:["WorldMapUI"],
WorldMapUnlockDialogController:["AskForEnergyFriendItem","WorldMapUnlockDialog"],Activity_10001:["panels.png","mainui.png","bg_big_light.png","activity.png"],Activity_10001_Item:["button.png","mainui.png","SignIn.png","prop.png"],Activity_Seven_10001:"button.png prop.png btnFront_HasGain.png panels.png txt_get_reward.png SignIn.png mainui.png".split(" "),Activity_10002:["bg_dialog_5.png","mainui.png","txt_invitereward.png"],Activity_10002_Item:["button.png","mainui.png"],Activity_10003:"prop.png title_activity_10003.png panels.png gameclear.png activity.png mainui.png".split(" "),
Activity_10003_Info:["title_game_tip.png","gameclear.png","mainui.png"],Activity_10003_Item:["button.png","mainui.png","txt_invite_friend.png"],Activity_10006:"num_jianbianblue.png button.png prop.png avatar0.png task.png bg_big_light.png gameclear.png activity.png num_shuliang.png act_10006_bg.png mainui.png".split(" "),Activity_10006_Kit:"button.png prop.png panels.png gameclear.png num_jianbianyellow.png act_10006_pop_bg.png mainui.png".split(" "),BagLayer:["panels.png","title_bag.png","mainui.png",
"pets.png"],BagListItem:["num_jianbianblue.png","mainui.png","prop.png"],CheckedQueryDialog:["panels.png","button.png","txt_cancel.png","txt_ok.png","friends.png"],ConfirmDialog:["panels.png","button.png"],ConfirmDialogBig:["panels.png","button.png"],DiamondNotEnoughDialog:["panels.png","button.png","txt_diamond_not_enough.png","mainui.png"],EquipTip:["bg_tip_dialog_1.png","mainui.png","petEquipUI.png"],ForceUpdate:["panels.png","mainui.png"],InviteFriendItem:["mainui.png","avatar0.png","friends.png"],
InviteFriendListLayer:"button.png txt_invite_friend.png txt_btn_wx_invite.png txt_btn_qq_invite.png frd_txt_send_request.png title_add_friend.png panels.png friends.png mainui.png".split(" "),ItemSourceDialog:["panels.png","button.png","equipments.png","mainui.png","txt_goto.png"],ItemTipCommon:["panels.png","mainui.png"],ItemTipUse:["panels.png","button.png","prop_tip_use.png","mainui.png"],NoviceGiftPack:"button.png prop.png novice.png txt_get_reward.png gameclear.png txt_unlimit_energy.png".split(" "),
NoviceTipDialog:["mainui.png"],NumberInput:["num_paragraph_white.png","common.png"],OneGiftPack:"button.png prop.png novice.png bg_big_light.png shop.png panels.png SignIn.png mainui.png".split(" "),QueryDialog:["panels.png","button.png"],ReloginDialog:["panels.png","button.png","mainui.png"],ResUpdate:["panels.png","button.png","mainui.png","prop.png","bg_dialog_7.png"],SelectFriendItem:["avatar0.png","friends.png"],SelectFriendListLayer:["bg_dialog_1.png","energy_txt_add_friend.png","mainui.png",
"title_help_new.png","energy_txt_request.png"],TestDialog:["bg_scene_down1.jpg"],TipDialog:["panels.png","gameclear.png","mainui.png"],WaitingDialog:["mainui.png"],LiteEndFinishDialog:["button.png","liteEndFinishBg.png","mainui.png","btnFront_YuyueShare.png","btnFront_YuyueBtn.png"],SendDesktopItem:["mainui.png","prop.png"],SendDesktopPlayer:["mainui.png","avatar0.png","friends.png"],SendDesktopQQAndroid:"button.png std_h5_qq_android_bg.png game_icon.png btnFront_HasGain.png btnFront_GainCollction.png txt_btnFront_sendDesktop.png mainui.png".split(" "),
SendDesktopQQiOS:"button.png std_h5_qq_android_bg.png game_icon.png btnFront_HasGain.png btnFront_GainCollction.png txt_btnFront_sendDesktop.png mainui.png".split(" "),SendDesktopWXAndroid:["std_h5_wx_android_bg.png","button.png","btnFront_HasGain.png","txt_btnFront_finish.png","mainui.png"],SendDesktopWXiOS:["button.png","std_h5_wx_ios_bg.png","txt_btnFront_finish.png","mainui.png","btnFront_HasGain.png"],SendDesktopXCXAndroid:["txt_i_known.png","button.png","std_xcx_android_bg.png","mainui.png"],
SendDesktopXCXiOS:"button.png txt_btnFront_Go.png btnFront_HasGain.png guideBlack.jpg std_xcx_ios_bg.png mainui.png".split(" "),SendShareWXiOS:["txt_i_known.png","button.png","share_h5_ios_bg.png","mainui.png"],WXAccountDialog:["panels.png","button.png","WXAccountBg.jpg","SignIn.png","txt_i_known.png"],DragDogScene:["button.png","game_logo.png","dragDogBg.png","dragDog.png"],AskForEnergy:"button.png title_add_friend.png panels.png energy_title_free.png frd_txt_send_request.png mainui.png".split(" "),
AskForEnergyFriendItem:["mainui.png","avatar0.png","friends.png"],EnergyDialog:"num_jianbianblue.png button.png prop.png energy.png font_number104.png txt_get_full_enerty.png panels.png gameclear.png num_greenbutton.png energy_title_get.png txt_continue_game.png mainui.png txt_ask_for_help.png".split(" "),FriendRequestHelpLayer:["bg_dialog_1.png","kitchen_help_title.png","mainui.png"],FriendRequestItem:["popcorn.png","prop.png","num_paragraph_white.png","request.png"],FriendRequestLayer:"request_title.png prop.png ordertask.png request.png bg_dialog_5.png num_paragraph_white.png gameclear.png mainui.png".split(" "),
FriendAddByID:"button.png avatar0.png txt_find_player.png panels.png friends.png mainui.png".split(" "),FriendAddByQR:["button.png","gameclear.png","mainui.png","avatar0.png","friends.png"],FriendAddItem:["mainui.png","avatar0.png","friends.png"],FriendAddLayer:"txt_add_all.png button.png txt_find_friend.png txt_recmd_friend.png panels.png friends.png mainui.png".split(" "),FriendInfo:"button.png avatar0.png num_jianbianyellow.png panels.png gameclear.png frame_car_30001.png txt_friend_info.png friends.png mainui.png txt_btn_qq_friend.png".split(" "),
FriendInfoItem:["mainui.png"],FriendRule:["panels.png","txt_rank_rule.png","mainui.png"],RankListFriendItem:["mainui.png","avatar0.png","friends.png"],RankListFriendLayer:"button.png txt_btn_wx_invite.png txt_btn_qq_invite.png title_add_friend.png panels.png txt_btn_friend_pk.png friends.png mainui.png".split(" "),RankListLayer:"kitchen_help_title_rank.png panels.png gameclear.png friends.png mainui.png common.png".split(" "),RankListWorldItem:["gameclear.png","mainui.png","avatar0.png","friends.png"],
RankListWorldLayer:"button.png avatar0.png txt_btn_wx_invite.png txt_btn_qq_invite.png bg_big_light.png title_add_friend.png panels.png gameclear.png txt_btn_friend_pk.png friends.png mainui.png".split(" "),WorldRankRule:["panels.png","txt_rank_rule.png","mainui.png"],GameTips:["panels.png","title_game_tip.png","mainui.png"],GameTipsCommonItem:["mainui.png","level_target.png","tips_block_ice.png"],GameTipsItem0:["panels.png","mainui.png","gameclear.png","prop.png"],GameTipsItem1:["tips_effect_1.png",
"tips_sign.png","mainui.png","level_target.png","tips_4fish.png"],GameTipsItem2:["tips_sign.png","tips_effect_2.png","mainui.png","level_target.png","tips_5.png"],GameTipsItem3:"tips_effect_3.png level_target.png tips_sign.png guide_fruit_shape3.png guide_fruit_shape1.png guide_fruit_shape2.png mainui.png".split(" "),GameTipsItem4:["tips_sign.png","mainui.png","level_target.png","tips_effect_4.png"],GameTipsItem5:["tips_effect_5.png","tips_sign.png","mainui.png","level_target.png"],AddFiveDialog:"txt_use.png button.png prop.png energy.png prop_title_11001.png panels.png gameclear.png mainui.png num_scoreyellow.png".split(" "),
ChoosePet:"txt_cancel.png button.png txt_my_pet.png txt_unlock.png panels.png txt_ok.png mainui.png pets.png".split(" "),ChoosePetItem:["button.png","pets.png","txt_set_main_pet.png"],GameClear:"num_jianbianblue.png button.png num_blue_score.png panels.png gameclear.png mainui.png num_scoreyellow.png".split(" "),GameComboTip:["star_flying3.png","num_lianjishuzi.png"],GameComboTip2:["star_flying3.png","num_lianjishuzi.png"],GameCriticalHit:["bg_one_light.png","mainui.png"],GameEndStory:["guide_go_on.png"],
GameFailed:["panels.png","button.png","gameclear.png","mainui.png","txt_close.png"],GameNpcItem:["mainui.png","level_target.png"],GamePauseDialog:"txt_btbfront_rePlay.png button.png panels.png txt_btnfront_exit.png title_pause.png mainui.png gameclear.png".split(" "),GameRank:["gameclear.png","mainui.png","avatar0.png"],GameRankItem:["gameclear.png","mainui.png","avatar0.png"],GameRankItem2:["gameclear.png","mainui.png","avatar0.png"],GameWinTip:["slogen_completed.png"],GameWorld:["gameclear.png",
"num_lianjishuzi.png"],GameWorldEdit:["bg_pet_house.jpg"],GameWorldEditItem:["popcorn.png","mainui.png","font_number1.png"],GameWorldEditUI:"button.png energy.png num_paragraph_white.png panels.png gameclear.png mainui.png popcorn.png common.png".split(" "),GameWorldFg:["mainui.png"],GameWorldProp:["mainui.png","prop.png"],GameWorldTarget:["gamebg.png","bg_scene_down1.jpg","bg_scene_up1.jpg"],GameWorldUI:["mainui.png","num_scoreyellow.png"],StartGame:"button.png num_blue_score.png panels.png font_txt_start.png gameclear.png mainui.png pets.png".split(" "),
TargetDialog:["panels.png"],TargetNpcItem:["num_jianbianblue.png"],WorldRankStageItem:["gameclear.png","mainui.png","avatar0.png","font_number1.png"],FriendPKLayer:["groupranknew.png","bg_shage_pk.png","avatar0.png"],FriendRankInfo:["groupranknew.png","avatar0.png","btnFront_shareBack.png","bg_group_rank_0.png"],FriendRankLayer:["groupranknew.png","mainui.png","activity.png","txt_btn_friend_pk.png","txt_btn_wx_invite.png"],GroupRankNew:["groupranknew.png","gRank_btnFront_OpenGame.png","bg_group_rank_0.png"],
HuskyChess:["huskyActivity.png"],HuskyChessItem:["prop.png"],HuskyChessItemBg:["huskyActivity.png"],HuskyChessMask:["huskyActivity.png"],HuskyChessRewardItem:["num_jianbianblue.png","mainui.png","prop.png"],HuskyChessRewardTot:"button.png prop.png husky_reward_light.png huskyActivity.png btnFront_YuyueShare.png mainui.png".split(" "),huskyChessRule:"prop.png panels.png shareKit.png num_shuliang.png title_game_tip.png mainui.png".split(" "),HuskyChessUI:"bg_line_1.jpg button.png prop.png txt_title_start.png shop.png gameclear.png txt_refresh.png huskyActivity.png friends.png mainui.png pets.png".split(" "),
HuskyDailyReward:"button.png prop.png panels.png gameclear.png huskyActivity.png txt_get_reward.png mainui.png num_shuliang.png".split(" "),HuskyMainPage:"bg_line_1.jpg button.png prop.png num_shuliang.png shop.png btnFront_YuyueShare.png txt_get_reward.png gameclear.png huskyActivity.png friends.png mainui.png pets.png txt_rank2.png".split(" "),huskyMainRule:["panels.png","mainui.png","prop.png","num_shuliang.png","title_game_tip.png"],HuskyRankList:["panels.png","mainui.png","pets.png","kitchen_help_title_rank.png"],
HuskyRankListItem:"num_jianbianblue.png prop.png avatar0.png huskyActivity.png friends.png mainui.png num_shuliang.png".split(" "),HuskyRewardGet:"button.png prop.png panels.png gameclear.png huskyActivity.png txt_get_reward.png mainui.png pets.png".split(" "),HuskyTask:"button.png prop.png panels.png huskyActivity.png txt_get_reward.png mainui.png pets.png num_shuliang.png".split(" "),InviteRewardDialog:"invite_reward_title.png button.png avatar0.png bg_dialog_1.png bg_dialog_2.png panels.png gameclear.png txt_invitereward.png friends.png invite_reward_pad_1.png invite_reward_pad_2.png mainui.png invite_reward_list_title.png".split(" "),
InviteRewardListItem:["panels.png","gameclear.png","mainui.png","avatar0.png","font_number1.png"],InviteRewardQQDialog:"button.png avatar0.png panels.png gameclear.png shareKit.png mainui.png pets.png common.png".split(" "),InviteRewardQQListItem:"button.png prop.png avatar0.png task.png num_jianbianyellow.png friends.png mainui.png".split(" "),InviteRewardTipDialog:["bg_dialog_1.png","title_hellp.png","mainui.png"],InviteRewardXyxDialog:"button.png invite_reward_bg.png panels.png gameclear.png shareKit.png invite_reward_list_bg.png mainui.png pets.png".split(" "),
InviteRewardXyxListItem:["task.png","button.png","prop.png","shareKit.png","avatar0.png"],KitchenGodFriendItem:["panels.png","gameclear.png","mainui.png","avatar0.png","font_number1.png"],KitchenGodGameNpcItem:["mainui.png"],KitchenGodGameTarget:["gamebg.png","bg_scene_down1.jpg","bg_scene_up1.jpg"],KitchenGodGameTargetStar:["kitchengod.png"],KitchenGodGameUI:["kitchengod.png","mainui.png","num_scoreyellow.png"],KitchenGodHelp1:["kitchengod.png","petEquipUI.png"],KitchenGodHelp2:["petEquipUI.png"],
KitchenGodHelp3:"avatar4.png avatar7.png prop.png avatar0.png petEquipUI.png num_paragraph_white.png".split(" "),KitchenGodHelp4:["prop.png","num_paragraph_white.png","petEquipUI.png"],KitchenGodHelpLayer:["bg_dialog_5.png","kitchen_help_title.png","mainui.png"],KitchenGodLastRewardDialog:["panels.png","button.png","bg_dialog_7.png"],KitchenGodLayer:"kitchen_label_contest.png prop.png kitchengod.png num_paragraph_white.png panels.png mainui.png bg_world_map_8.jpg".split(" "),KitchenGodPassLayer:"bg_dialog_13.png kitchengod.png num_paragraph_white.png gameclear.png mainui.png kitchen_pass_title_success.png".split(" "),
KItchenGodQueryDialog:["panels.png","button.png","bg_dialog_7.png"],KitchenGodRankItem:["panels.png","gameclear.png","mainui.png","avatar0.png","font_number1.png"],KitchenGodRankLayer:"avatar0.png friend_rank_orange.png kitchengod.png world_rank_orange.png gameclear.png world_rank_blue.png bg_dialog_12.png mainui.png friend_rank_blue.png".split(" "),KitchenGodRewardItem:["prop.png","kitchengod.png","mainui.png","num_paragraph_white.png"],KitchenGodRewardItemTip:["panel_tip_bg.png","mainui.png"],KitchenGodRewardLayer:["bg_dialog_1.png",
"kitchen_reward_title.png","kitchengod.png","mainui.png"],Lottery:"button.png txt_free_drop.png petEquipUI.png ltr_desktop.png lottery.png gameclear.png num_greenbutton.png txt_drop_one.png bg_line_2.jpg txt_all_reward.png mainui.png txt_drop_ten.png".split(" "),LotteryDressItem:"button.png petEquipUI.png txt_send_reward.png lottery.png equipments.png SignIn.png mainui.png".split(" "),LotteryEquipItem:["equipments.png","gameclear.png","mainui.png","petEquipUI.png"],LotteryHandbook:["panels.png","gameclear.png",
"mainui.png","lottery.png"],LotteryHandbookItem:["equipments.png","mainui.png","petEquipUI.png","lottery.png"],LotteryOneReward:["button.png","txt_redrop_one.png","mainui.png","lottery.png"],LotteryOtherItem:["SignIn.png","gameclear.png","prop.png"],LotteryProb:["gameclear.png","title_game_tip.png"],LotterySendLayer:"button.png lottery.png panels.png frd_txt_send_request.png mainui.png pets.png".split(" "),LotterySpecialReward:["txt_share_qzoom.png","timelevel.png","btnFront_shareToFriend.png","mainui.png",
"button.png"],LotteryTenReward:["button.png","txt_redrop_ten.png","mainui.png","lottery.png"],MailCenterLayer:["panels.png","button.png","mail.png","mainui.png","common.png"],MailFriendHeadItem:["mainui.png","avatar0.png"],MailFriendMsgItem:["txt_get_reward.png","button.png","mail.png","mainui.png","avatar0.png"],MailNoticeMsgItem:["mail.png","mainui.png"],MailSystemRewardItem:["prop.png"],PetByEquipDialog:"button.png petEquipUI.png bg_dialog_1.png num_paragraph_white.png panels.png equipments.png pet_equip_txt_unlock.png mainui.png".split(" "),
PetDetailItem:["button.png","pets.png","txt_set_main_pet.png"],PetDetails:"button.png txt_my_pet.png txt_unlock.png panels.png txt_pet_level_up.png txt_change_dress.png mainui.png pets.png".split(" "),PetEquipDialog:"button.png petEquipUI.png bg_dialog_1.png pet_equip_txt_equip.png panels.png equipments.png mainui.png".split(" "),PetEquipInfoDialog:["bg_dialog_5.png","mainui.png","petEquipUI.png","title_pet_equip_info.png"],PetEquipInfoDialogEN:["bg_dialog_5.png","mainui.png","petEquipUI.png","title_pet_equip_info.png"],
PetEquips:["panels.png","gameclear.png","mainui.png","pets.png","title_pet_change_dress.png"],PetEquipsHelp:"txt_dress_instruct3.png txt_change_dress_instruct.png panels.png txt_dress_instruct2.png txt_dress_instruct1.png mainui.png".split(" "),PetEquipsItem:["equipments.png","mainui.png","pets.png"],PetEquipsUnlock:"button.png txt_ask_for_unlock.png txt_unlock.png panels.png equipments.png txt_rarity.png mainui.png pets.png".split(" "),PetGetDialog:["button.png","txt_bring_home.png","txt_newpet.png"],
PetHall:"button.png avatar0.png petEquipUI.png num_paragraph_white.png panels.png gameclear.png pet_dialog_fg.png mainui.png popcorn.png".split(" "),PetHallItem:"energy.png popcorn2.png avatar0.png button.png Pet_Hall_Pet1.png Pet_Hall_Popcorn.png num_paragraph_white.png PetHall_BG_3.jpg PetHall_BG_1.jpg panels.png gameclear.png Pet_Hall_Lock.png PetHall_BG_2.jpg mainui.png popcorn.png".split(" "),PetHallItemPet:["panels.png","gameclear.png","mainui.png","petEquipUI.png"],PetHallItemUser:["mainui.png",
"avatar0.png","petEquipUI.png","num_paragraph_white.png"],PetHouse:"bg_pet_house.jpg petEquipUI.png panels.png equipments.png pet_cushion.png mainui.png pets.png".split(" "),PetHouseDetails:"button.png prop.png num_paragraph_white.png panels.png pet_dialog_fg.png mainui.png pets.png".split(" "),PetHouseEquip:"petEquipUI.png num_paragraph_white.png panels.png gameclear.png pet_dialog_fg.png mainui.png".split(" "),PetHouseEquipItem:["equipments.png","mainui.png","petEquipUI.png"],PetInfoDialog:["bg_dialog_5.png",
"pad_user_help_info.png","mainui.png","title_pet_select.png"],PetLevelUp:"button.png prop.png txt_pet_level_up_blue.png panels.png txt_use_orange.png gameclear.png num_shuliang.png txt_use_green.png mainui.png pets.png".split(" "),PetLevelUpReward:"timelevel.png title_new_dress.png button.png panels.png txt_try_cloth.png equipments.png bg_ico_light.png txt_rarity.png txt_ok.png txt_continue.png mainui.png pets.png".split(" "),PetSkillDialog:["panels.png","mainui.png","pets.png","common.png"],PetSkillIconClip:["common.png"],
PetAndPropPart:["prop.png","gameclear.png","mainui.png","num_paragraph_white.png"],PopcornChallengeClearDialog:"button.png popcorn2.png num_blue_score.png bg_dialog_1.png txt_score.png num_paragraph_white.png panels.png bg_one_light.png gameclear.png mainui.png popcorn.png common.png".split(" "),PopcornChallengeDialog:"popcorn2.png avatar0.png bg_dialog_5.png gameclear.png popcorn_txt_LevelInfo.png mainui.png popcorn.png".split(" "),PopcornChallengeFailedDialog:"bg_dialog_1.png title_lost.png panels.png gameclear.png mainui.png popcorn.png".split(" "),
PopcornDialog:"button.png popcorn_txt_popcorn.png Pet_Hall_Popcorn.png bg_dialog_5.png panels.png popcorn.png mainui.png".split(" "),PopcornHistoryDialog:"button.png popcorn_txt_history.png bg_dialog_5.png num_paragraph_white.png friends.png SignIn.png mainui.png".split(" "),PopcornHistoryDialogDefender:["mainui.png"],PopcornHistoryDialogHistory:["mainui.png"],PopcornHistoryItem:"button.png avatar0.png num_paragraph_white.png panels.png popcorn.png mainui.png gameclear.png".split(" "),PopcornHistoryItemDefender:["panels.png",
"mainui.png","popcorn2.png","avatar0.png"],PopcornHistoryItemDefenderPast:["button.png","popcorn2.png"],PopcornInfoDialog:["bg_dialog_1.png","popcorn_txt_detail.png","mainui.png"],PopcornLevelUpDialog:["panels.png","popcorn_txt_level_up.png","bg_dialog_1.png","mainui.png","petEquipUI.png"],PopcornLevelUpSuccessDialog:["panels.png","bg_dialog_1.png","Pet_Hall_Popcorn.png","mainui.png","popcorn_txt_level_up_success.png"],PopcornSelectDefenderDialog:"energy.png prop.png popcorn_txt_defender.png bg_dialog_1.png panels.png energy_txt_add_friend.png mainui.png".split(" "),
PopcornSelectLevelDialog:"button.png bg_dialog_5.png panels.png gameclear.png popcorn_txt_SelectLevel.png mainui.png".split(" "),PopcornShareLevelDialog:["popcorn_share1_txt.png","game_logo.png","popcorn_share_level_bg.png","mainui.png","popcorn_share2_txt.png"],PopcornShellDialog:"popcorn2.png ordertask.png popcorn_txt_buy_shell.png bg_dialog_1.png num_paragraph_white.png gameclear.png shoppack.png mainui.png popcorn.png".split(" "),PopcornThankDialog:"avatar0.png num_paragraph_white.png bg_dialog_7.png panels.png mainui.png popcorn_txt_title_3q.png".split(" "),
QQCenterRightDialog:["button.png","gameclear.png","qqVip.png","qqCenterBg.png"],QQVipDialog:["button.png","gameclear.png","qqVip.png"],RedPackItem:"avatar1.png num_paragraph_white.png friends.png prop.png redpack.png mainui.png".split(" "),RedPackLayer:"button.png prop.png btnFront_YuyueShare.png bg_redpack.jpg friends.png redpack.png".split(" "),AllStarPassLevelDialog:"button.png btnFront_shareToQzone.png avatar0.png game_logo.png gameclear.png friends.png share_dialog_4.png mainui.png feed1009.png".split(" "),
CameraPreview:["button.png","pets.png"],FirstLevelNumInFriendDialog:"button.png btnFront_shareToQzone.png avatar0.png feed1010.png game_logo.png gameclear.png friends.png share_dialog_5.png mainui.png".split(" "),GetNewPetDialog:"button.png btnFront_shareToFriend.png txt_QRCode.png feed1016_xl.png publish_QRCode_100.png game_logo.png btnFront_shareToQzone.png share_pet_20003.png btnFront_shareBack.png avatar0.png".split(" "),In5PassLevelDialog:"button.png btnFront_shareToQzone.png avatar0.png feed1005.png game_logo.png gameclear.png friends.png share_dialog_4.png mainui.png".split(" "),
LevelBeyondFriendDialog:"button.png btnFront_shareToQzone.png avatar0.png bg_shage_1011.png game_logo.png publish_QRCode_100.png feed1012.png btnFront_shareToFriend.png btnFront_shareBack.png".split(" "),LuckyPassLevelDialog:"button.png btnFront_shareToQzone.png avatar0.png feed1003.png game_logo.png gameclear.png friends.png mainui.png share_dialog_3.png".split(" "),NewFeatureLevelDialog:"button.png btnFront_shareToQzone.png avatar0.png feed1017.png game_logo.png gameclear.png friends.png mainui.png share_dialog_3.png".split(" "),
No1InFriendsDialog:"button.png btnFront_shareToQzone.png feed1015_1.png feed1015_2.png game_logo.png friends.png share_dialog_5.png mainui.png".split(" "),Pass15LevelsDialog:"button.png btnFront_shareToQzone.png avatar0.png feed1006.png game_logo.png gameclear.png friends.png share_dialog_4.png mainui.png".split(" "),PassAfterManyFailedDialog:"button.png btnFront_shareToQzone.png avatar0.png num_feed_yellow.png feed1004.png game_logo.png gameclear.png friends.png mainui.png share_dialog_3.png".split(" "),
PassLevelBeyondMillionDialog:"button.png btnFront_shareToQzone.png avatar0.png num_feed_yellow.png game_logo.png gameclear.png feed1001.png friends.png share_dialog_5.png mainui.png".split(" "),PetLevelUp10Dialog:"button.png btnFront_shareToQzone.png feed1015_1.png avatar0.png feed1015_2.png game_logo.png gameclear.png friends.png share_pet_20002.png mainui.png".split(" "),RankinWorld1000Dialog:"button.png txt_QRCode.png avatar0.png num_zonghebutton.png txt_rankDesc.png game_logo.png publish_QRCode_100.png num_scoreyellow.png btnFront_shareToFriend.png mainui.png globalRankBg.png".split(" "),
ScoreBeyondFriendDialog:"button.png btnFront_shareToQzone.png avatar0.png bg_shage_1011.png game_logo.png publish_QRCode_100.png feed1011.png btnFront_shareToFriend.png btnFront_shareBack.png".split(" "),ShareAllStarPassLevel:["share_bg_4.jpg","game_logo.png","gameclear.png","avatar0.png","feed1009.png"],ShareCamera:["game_logo.png","gameclear.png","share_bg_2.png","feed2002.png","avatar0.png"],ShareGetNewPet:["feed1016.png","game_logo.png","gameclear.png","avatar0.png"],ShareIn5PassLevel:["feed1005.png",
"game_logo.png","gameclear.png","avatar0.png","share_bg_4.jpg"],ShareLayer1002:"sharerank.png bg_line_3.jpg btnFront_shareToQzone.png avatar0.png publish_QRCode_100.png timelevel.png button.png game_logo.png gameclear.png friends.png btnFront_shareToFriend.png mainui.png btnFront_shareBack.png".split(" "),ShareLayer1004:"button.png btnFront_shareToQzone.png bg_shage_1004.png avatar0.png bg_shage_1004_pop.png game_logo.png publish_QRCode_100.png btnFront_shareToFriend.png btnFront_shareBack.png".split(" "),
ShareLayer1010:"button.png btnFront_shareToQzone.png avatar0.png share_level_img.png bg_shage_1010.png game_logo.png publish_QRCode_100.png btnFront_shareToFriend.png btnFront_shareBack.png".split(" "),ShareLayer1016:"button.png btnFront_shareToQzone.png avatar0.png game_icon.png bg_share_news.jpg publish_QRCode_100.png btnFront_shareToFriend.png mainui.png btnFront_shareBack.png".split(" "),ShareLayer1017:"sharerank.png bg_line_3.jpg btnFront_shareToQzone.png avatar0.png button.png game_logo.png publish_QRCode_100.png btnFront_shareToFriend.png mainui.png btnFront_shareBack.png".split(" "),
ShareLayer1023:"button.png btnFront_shareToQzone.png avatar0.png bg_share_combo.png game_logo.png num_lianjishuzi.png btnFront_shareToFriend.png btnFront_shareBack.png bg_shage_1023.png".split(" "),ShareLayer2008:"button.png btnFront_shareToQzone.png avatar0.png bg_feed2008_xyx_bg.png bg_feed2008_bg.png bg_feed2008_xyx_bg_up.png publish_QRCode_100.png btnFront_shareToFriend.png btnFront_shareBack.png txt_feed2008_01.png".split(" "),ShareLevel:"avatar0.png num_feed_yellow.png feed2001.png game_logo.png gameclear.png share_bg_1.jpg".split(" "),
ShareLevelBeyondFriend:["avatar0.png","game_logo.png","gameclear.png","feed1012.png","share_bg_6.png"],ShareLuckyPassLevel:["game_logo.png","gameclear.png","avatar0.png","share_bg_3.jpg","feed1003.png"],ShareNewCarDialog:"button.png btnFront_shareToQzone.png txt_QRCode.png avatar0.png game_logo.png publish_QRCode_100.png btnFront_shareToFriend.png feed1020_xl.png btnFront_shareBack.png".split(" "),ShareNo1InFriends:["share_bg_5.jpg","feed1014.png","gameclear.png","game_logo.png","avatar0.png"],SharePass15Levels:["feed1006.png",
"game_logo.png","gameclear.png","avatar0.png","share_bg_4.jpg"],SharePassAfterManyFailed:"avatar0.png num_feed_yellow.png feed1004.png game_logo.png gameclear.png share_bg_3.jpg".split(" "),SharePetLevelUp10:["game_logo.png","gameclear.png","feed1015.png","avatar0.png"],ShareSigninAllDays:"button.png btnFront_shareToQzone.png game_logo.png feed1013.png friends.png share_dialog_4.png mainui.png".split(" "),ShareUnlockNewLevel:"button.png btnFront_shareToQzone.png game_logo.png feed1007.png friends.png share_dialog_4.png mainui.png".split(" "),
SigninAllDaysDialog:"button.png btnFront_shareToQzone.png game_logo.png feed1013.png friends.png share_dialog_4.png mainui.png".split(" "),SpeedinWorld1000Dialog:"button.png btnFront_shareToQzone.png avatar0.png feed1008.png game_logo.png gameclear.png friends.png share_dialog_5.png mainui.png".split(" "),UnlockNewLevelDialog:"button.png btnFront_shareToQzone.png game_logo.png feed1007.png friends.png share_dialog_4.png mainui.png".split(" "),ShareKit:"button.png prop.png avatar0.png panels.png gameclear.png shareKit.png mainui.png pets.png common.png".split(" "),
ShareKitKitItem:["shareKit.png","mainui.png"],ShareKitKitItemWX:["shareKit.png","mainui.png"],ShareKitRule:["panels.png","title_game_tip.png","mainui.png"],ShareKitTip:["mainui.png"],ShareKitWX:"button.png prop.png panels.png gameclear.png shareKit.png mainui.png pets.png".split(" "),PetAdoption:["panels.png","bg_dialog_5.png","title_adoption.png","mainui.png","petadoption.png"],Shop:"prop.png shop.png panels.png title_shop.png bg_line_0.jpg mainui.png pets.png".split(" "),ShopDressItem:"button.png num_zonghebutton.png shop.png panels.png equipments.png gameclear.png mainui.png pets.png".split(" "),
ShopGemItem:["energy.png","num_zonghebutton.png","shop.png","button.png"],ShopItemBuyDialog:"energy.png prop.png button.png num_zonghebutton.png shop.png panels.png gameclear.png mainui.png pets.png".split(" "),ShopKitItem:"energy.png prop.png button.png num_zonghebutton.png shop.png gameclear.png prop_title_2103.png mainui.png".split(" "),ShopKitItem2101:"energy.png prop.png button.png num_zonghebutton.png shop.png gameclear.png prop_title_2101.png mainui.png".split(" "),ShopKitItem2102:"energy.png prop.png button.png num_zonghebutton.png shop.png gameclear.png prop_title_2102.png mainui.png".split(" "),
ShopKitItem2103:"energy.png prop.png button.png num_zonghebutton.png shop.png gameclear.png prop_title_2103.png mainui.png".split(" "),ShopKitItem2104:"energy.png prop.png button.png num_zonghebutton.png shop.png prop_title_2104.png gameclear.png mainui.png".split(" "),ShopKitItem2105:"energy.png prop.png button.png num_zonghebutton.png shop.png gameclear.png prop_title_2101.png mainui.png".split(" "),ShopKitItem2106:"energy.png button.png num_zonghebutton.png shop.png equipments.png gameclear.png mainui.png pets.png".split(" "),
ShopPackBuyDialog:"button.png prop.png energy.png shop.png num_paragraph_white.png panels.png gameclear.png mainui.png".split(" "),ShopProp:["panels.png"],ShopPropItem:["energy.png","mainui.png","shop.png","prop.png","gameclear.png"],ShopPropPreview:["panels.png","button.png","mainui.png","txt_i_known.png"],SignInDialog:"button.png panels.png title_signin.png num_shuliang.png SignIn.png mainui.png".split(" "),SignItem:["SignIn.png","prop.png","gameclear.png"],StartMenu:["startmenu.png","bg_startmenu.jpg"],
StartStoryMenu:["game_logo.png","startmenu.png"],Achievement:["task.png","button.png","mainui.png","txt_one_key_get.png"],AchievementDetail:["panels.png","mainui.png"],AchievementItem:["task.png","button.png","gameclear.png","mainui.png","pets.png"],AchievementTip:["task.png","timelevel.png"],DailyTask:"num_jianbianblue.png button.png task.png txt_one_key_get.png SignIn.png mainui.png".split(" "),DailyTaskItem:["task.png","button.png","pets.png"],PrizeCupItem:["panels.png","prop.png","mainui.png"],
TaskLayer:["task.png","panels.png","mainui.png","common.png","task_title.png"],TimeLevel:["panels.png","timelevel.png","mainui.png","pets.png","friends.png"],TimeLevelClear:"num_jianbianblue.png timelevel.png txt_invite_friend.png txt_btn_wx_invite.png txt_btn_qq_invite.png txt_return.png button.png panels.png gameclear.png mainui.png num_scoreyellow.png".split(" "),TimeLevelLevelItem:"num_jianbianblue.png timelevel.png prop.png avatar0.png button.png mainui.png".split(" "),TimeLevelLevelList:["panels.png"],
TimeLevelLevelMy:"button.png panels.png font_txt_start.png gameclear.png mainui.png pets.png".split(" "),TimeLevelMyState:"button.png txt_invite_friend.png txt_btn_wx_invite.png txt_btn_qq_invite.png panels.png timelevel.png".split(" "),TimeLevelMyTip:"timelevel.png txt_invite_friend.png txt_btn_wx_invite.png txt_btn_qq_invite.png button.png panels.png mainui.png".split(" "),TimeLevelNew:"button.png timelevel.png bg_big_light.png txt_tl_get.png panels.png txt_tl_title_1.png panel_tl_reward_info.png mainui.png".split(" "),
TimeLevelNewItem:["gameclear.png","prop.png"],TimeLevelNoneState:["panels.png","timelevel.png","txt_btn_qq_invite.png","txt_btn_wx_invite.png","button.png"],TimeLevelStartGame:"button.png panels.png font_txt_start.png gameclear.png mainui.png pets.png".split(" "),StoryLayer:["panels.png","button.png","txt_skip.png"],TutorialLayer:["panels.png","guide_go_on.png"],TutorialTip_103_1:["panels.png","button.png","mainui.png","txt_i_known.png"],TutorialTip_11_1:["panels.png","button.png","txt_i_known.png"],
TutorialTip_13_1:["panels.png","button.png","mainui.png","txt_i_known.png"],TutorialTip_15_1:["panels.png","button.png","mainui.png","txt_i_known.png"],TutorialTip_18_1:["panels.png","button.png","mainui.png","txt_i_known.png"],TutorialTip_1_1:["panels.png","button.png","mainui.png","txt_i_known.png"],TutorialTip_21_1:["panels.png","button.png","mainui.png","txt_i_known.png"],TutorialTip_28_1:["panels.png","button.png","mainui.png","txt_i_known.png"],TutorialTip_2_1:["panels.png","button.png","mainui.png",
"txt_i_known.png"],TutorialTip_37_1:["panels.png","button.png","mainui.png","txt_i_known.png"],TutorialTip_38_1:["panels.png","button.png","mainui.png","txt_i_known.png"],TutorialTip_53_1:["panels.png","button.png","txt_i_known.png"],TutorialTip_5_1:["panels.png","button.png","mainui.png","txt_i_known.png"],TutorialTip_67_1:["panels.png","button.png","mainui.png","txt_i_known.png"],TutorialTip_7_1:["panels.png","button.png","mainui.png","txt_i_known.png"],TutorialTip_9_1:["panels.png","button.png",
"mainui.png","txt_i_known.png"],AccountDialog:"bg_title_panel.png avatar0.png bg_dialog_1.png num_paragraph_white.png panels.png title_myaccount.png mainui.png pets.png".split(" "),ActivityLayer:"button.png bg_big_light.png ico_big_mark.png panels.png title_activity.png activity.png mainui.png".split(" "),ActivityLayerItem:["mainui.png","txt_big_sign.png","activity.png","num_paragraph_white.png"],ActivityTabItem:["activity.png","txt_big_sign.png","mainui.png"],ChooseHead:["mainui.png","avatar0.png"],
DailyLoginTipDialog:["txt_i_known.png","button.png","gameclear.png","mainui.png","txt_login_free_pet.png"],ExchangeCodeDialog:["panels.png","txt_get_reward.png","mainui.png","title_conversion_code.png","bg_dialog_6.png"],FristChargeDialog:"button.png txt_first_gift.png bg_big_light.png shop.png txt_goto_charge.png panels.png equipments.png gameclear.png txt_get_reward.png mainui.png pets.png".split(" "),GameSettingDialog:"txt_setting_strange.png txt_setting_notice.png txt_setting_music.png panels.png txt_setting_sound.png friends.png mainui.png title_setting.png".split(" "),
GetRewardDialog:["panels.png","mainui.png","gameclear.png","prop.png"],LuckyKitDialog:"button.png novice.png bg_big_light.png txt_get_reward.png gameclear.png activity.png txt_lucky_kit.png mainui.png lucky_kit_box.png".split(" "),MenuItem:["mainui.png","num_paragraph_white.png"],MilestoneItem:["mainui.png"],TimeChargeGift:"button.png prop.png husky_reward_light.png panels.png equipments.png shareKit.png txt_time_gift.png txt_get_reward.png mainui.png txt_goto_charge.png".split(" "),TimeShopGift:"button.png prop.png num_zonghebutton.png shop.png txt_time_shop_gift.png husky_reward_light.png panels.png equipments.png shareKit.png mainui.png".split(" "),
WechatOfficialAccout:["img_official_acount.jpg","mainui.png"],WorldMap:["bg_world_map_mask.png"],WorldMapHead:["mainui.png","avatar0.png","common.png"],WorldMapItem:"avatar0.png map_cell_effect.png gamemap_more_level.png bg_world_map_bottom.jpg frame_car_30001.png gamemap.png".split(" "),WorldMapItemCell_1:["bg_world_map_0.jpg"],WorldMapItemCell_2:["bg_world_map_1.jpg"],WorldMapItemCell_3:["bg_world_map_2.jpg"],WorldMapItemCell_4:["bg_world_map_3.jpg"],WorldMapItemCell_5:["bg_world_map_4.jpg"],WorldMapItemCell_6:["bg_world_map_5.jpg"],
WorldMapLevelItem:["mainui.png"],WorldMapLevelLock:["mainui.png"],WorldMapOpt:["mapBgOpt.jpg","mainui.png"],WorldMapUI:["panels.png","mainui.png"],WorldMapUnlockDialog:"button.png avatar0.png title_unlock.png panels.png gameclear.png num_greenbutton.png frd_txt_send_request.png mainui.png txt_unlock_by_friends.png txt_unlock_right_now.png".split(" ")};var CryptoJS=CryptoJS||function(a,c){var d={},e=d.lib={},f=function(){},g=e.Base={extend:function(a){f.prototype=this;var c=new f;a&&c.mixIn(a);c.hasOwnProperty("init")||(c.init=function(){c.$super.init.apply(this,arguments)});c.init.prototype=c;c.$super=this;return c},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var c in a)a.hasOwnProperty(c)&&(this[c]=a[c]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},
h=e.WordArray=g.extend({init:function(a,d){a=this.words=a||[];this.sigBytes=d!=c?d:4*a.length},toString:function(a){return(a||n).stringify(this)},concat:function(a){var c=this.words,d=a.words,e=this.sigBytes;a=a.sigBytes;this.clamp();if(e%4)for(var f=0;f<a;f++)c[e+f>>>2]|=(d[f>>>2]>>>24-f%4*8&255)<<24-(e+f)%4*8;else if(65535<d.length)for(f=0;f<a;f+=4)c[e+f>>>2]=d[f>>>2];else c.push.apply(c,d);this.sigBytes+=a;return this},clamp:function(){var c=this.words,d=this.sigBytes;c[d>>>2]&=4294967295<<32-
d%4*8;c.length=a.ceil(d/4)},clone:function(){var a=g.clone.call(this);a.words=this.words.slice(0);return a},random:function(c){for(var d=[],e=0;e<c;e+=4)d.push(4294967296*a.random()|0);return new h.init(d,c)}}),m=d.enc={},n=m.Hex={stringify:function(a){var c=a.words;a=a.sigBytes;for(var d=[],e=0;e<a;e++){var f=c[e>>>2]>>>24-e%4*8&255;d.push((f>>>4).toString(16));d.push((f&15).toString(16))}return d.join("")},parse:function(a){for(var c=a.length,d=[],e=0;e<c;e+=2)d[e>>>3]|=parseInt(a.substr(e,2),16)<<
24-e%8*4;return new h.init(d,c/2)}},r=m.Latin1={stringify:function(a){var c=a.words;a=a.sigBytes;for(var d=[],e=0;e<a;e++)d.push(String.fromCharCode(c[e>>>2]>>>24-e%4*8&255));return d.join("")},parse:function(a){for(var c=a.length,d=[],e=0;e<c;e++)d[e>>>2]|=(a.charCodeAt(e)&255)<<24-e%4*8;return new h.init(d,c)}},s=m.Utf8={stringify:function(a){try{return decodeURIComponent(escape(r.stringify(a)))}catch(c){throw Error("Malformed UTF-8 data");}},parse:function(a){return r.parse(unescape(encodeURIComponent(a)))}},
t=e.BufferedBlockAlgorithm=g.extend({reset:function(){this._data=new h.init;this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=s.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(c){var d=this._data,e=d.words,f=d.sigBytes,g=this.blockSize,m=f/(4*g),m=c?a.ceil(m):a.max((m|0)-this._minBufferSize,0);c=m*g;f=a.min(4*c,f);if(c){for(var n=0;n<c;n+=g)this._doProcessBlock(e,n);n=e.splice(0,c);d.sigBytes-=f}return new h.init(n,f)},clone:function(){var a=g.clone.call(this);
a._data=this._data.clone();return a},_minBufferSize:0});e.Hasher=t.extend({cfg:g.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){t.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(c,d){return(new a.init(d)).finalize(c)}},_createHmacHelper:function(a){return function(c,d){return(new u.HMAC.init(a,
d)).finalize(c)}}});var u=d.algo={};return d}(Math);
(function(){var a=CryptoJS,c=a.lib.WordArray;a.enc.Base64={stringify:function(a){var c=a.words,f=a.sigBytes,g=this._map;a.clamp();a=[];for(var h=0;h<f;h+=3)for(var m=(c[h>>>2]>>>24-h%4*8&255)<<16|(c[h+1>>>2]>>>24-(h+1)%4*8&255)<<8|c[h+2>>>2]>>>24-(h+2)%4*8&255,n=0;4>n&&h+0.75*n<f;n++)a.push(g.charAt(m>>>6*(3-n)&63));if(c=g.charAt(64))for(;a.length%4;)a.push(c);return a.join("")},parse:function(a){var e=a.length,f=this._map,g=f.charAt(64);g&&(g=a.indexOf(g),-1!=g&&(e=g));for(var g=[],h=0,m=0;m<e;m++)if(m%
4){var n=f.indexOf(a.charAt(m-1))<<m%4*2,r=f.indexOf(a.charAt(m))>>>6-m%4*2;g[h>>>2]|=(n|r)<<24-h%4*8;h++}return c.create(g,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d"}})();
(function(a){function c(a,c,d,e,f,g,h){a=a+(c&d|~c&e)+f+h;return(a<<g|a>>>32-g)+c}function d(a,c,d,e,f,g,h){a=a+(c&e|d&~e)+f+h;return(a<<g|a>>>32-g)+c}function e(a,c,d,e,f,g,h){a=a+(c^d^e)+f+h;return(a<<g|a>>>32-g)+c}function f(a,c,d,e,f,g,h){a=a+(d^(c|~e))+f+h;return(a<<g|a>>>32-g)+c}for(var g=CryptoJS,h=g.lib,m=h.WordArray,n=h.Hasher,h=g.algo,r=[],s=0;64>s;s++)r[s]=4294967296*a.abs(a.sin(s+1))|0;h=h.MD5=n.extend({_doReset:function(){this._hash=new m.init([1732584193,4023233417,2562383102,271733878])},
_doProcessBlock:function(a,g){for(var h=0;16>h;h++){var m=g+h,n=a[m];a[m]=(n<<8|n>>>24)&16711935|(n<<24|n>>>8)&4278255360}var h=this._hash.words,m=a[g+0],n=a[g+1],s=a[g+2],C=a[g+3],E=a[g+4],H=a[g+5],F=a[g+6],D=a[g+7],K=a[g+8],G=a[g+9],I=a[g+10],P=a[g+11],Q=a[g+12],O=a[g+13],S=a[g+14],R=a[g+15],J=h[0],N=h[1],L=h[2],M=h[3],J=c(J,N,L,M,m,7,r[0]),M=c(M,J,N,L,n,12,r[1]),L=c(L,M,J,N,s,17,r[2]),N=c(N,L,M,J,C,22,r[3]),J=c(J,N,L,M,E,7,r[4]),M=c(M,J,N,L,H,12,r[5]),L=c(L,M,J,N,F,17,r[6]),N=c(N,L,M,J,D,22,r[7]),
J=c(J,N,L,M,K,7,r[8]),M=c(M,J,N,L,G,12,r[9]),L=c(L,M,J,N,I,17,r[10]),N=c(N,L,M,J,P,22,r[11]),J=c(J,N,L,M,Q,7,r[12]),M=c(M,J,N,L,O,12,r[13]),L=c(L,M,J,N,S,17,r[14]),N=c(N,L,M,J,R,22,r[15]),J=d(J,N,L,M,n,5,r[16]),M=d(M,J,N,L,F,9,r[17]),L=d(L,M,J,N,P,14,r[18]),N=d(N,L,M,J,m,20,r[19]),J=d(J,N,L,M,H,5,r[20]),M=d(M,J,N,L,I,9,r[21]),L=d(L,M,J,N,R,14,r[22]),N=d(N,L,M,J,E,20,r[23]),J=d(J,N,L,M,G,5,r[24]),M=d(M,J,N,L,S,9,r[25]),L=d(L,M,J,N,C,14,r[26]),N=d(N,L,M,J,K,20,r[27]),J=d(J,N,L,M,O,5,r[28]),M=d(M,J,
N,L,s,9,r[29]),L=d(L,M,J,N,D,14,r[30]),N=d(N,L,M,J,Q,20,r[31]),J=e(J,N,L,M,H,4,r[32]),M=e(M,J,N,L,K,11,r[33]),L=e(L,M,J,N,P,16,r[34]),N=e(N,L,M,J,S,23,r[35]),J=e(J,N,L,M,n,4,r[36]),M=e(M,J,N,L,E,11,r[37]),L=e(L,M,J,N,D,16,r[38]),N=e(N,L,M,J,I,23,r[39]),J=e(J,N,L,M,O,4,r[40]),M=e(M,J,N,L,m,11,r[41]),L=e(L,M,J,N,C,16,r[42]),N=e(N,L,M,J,F,23,r[43]),J=e(J,N,L,M,G,4,r[44]),M=e(M,J,N,L,Q,11,r[45]),L=e(L,M,J,N,R,16,r[46]),N=e(N,L,M,J,s,23,r[47]),J=f(J,N,L,M,m,6,r[48]),M=f(M,J,N,L,D,10,r[49]),L=f(L,M,J,N,
S,15,r[50]),N=f(N,L,M,J,H,21,r[51]),J=f(J,N,L,M,Q,6,r[52]),M=f(M,J,N,L,C,10,r[53]),L=f(L,M,J,N,I,15,r[54]),N=f(N,L,M,J,n,21,r[55]),J=f(J,N,L,M,K,6,r[56]),M=f(M,J,N,L,R,10,r[57]),L=f(L,M,J,N,F,15,r[58]),N=f(N,L,M,J,O,21,r[59]),J=f(J,N,L,M,E,6,r[60]),M=f(M,J,N,L,P,10,r[61]),L=f(L,M,J,N,s,15,r[62]),N=f(N,L,M,J,G,21,r[63]);h[0]=h[0]+J|0;h[1]=h[1]+N|0;h[2]=h[2]+L|0;h[3]=h[3]+M|0},_doFinalize:function(){var c=this._data,d=c.words,e=8*this._nDataBytes,f=8*c.sigBytes;d[f>>>5]|=128<<24-f%32;var g=a.floor(e/
4294967296);d[(f+64>>>9<<4)+15]=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360;d[(f+64>>>9<<4)+14]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360;c.sigBytes=4*(d.length+1);this._process();c=this._hash;d=c.words;for(e=0;4>e;e++)f=d[e],d[e]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360;return c},clone:function(){var a=n.clone.call(this);a._hash=this._hash.clone();return a}});g.MD5=n._createHelper(h);g.HmacMD5=n._createHmacHelper(h)})(Math);
(function(){var a=CryptoJS,c=a.lib,d=c.Base,e=c.WordArray,c=a.algo,f=c.EvpKDF=d.extend({cfg:d.extend({keySize:4,hasher:c.MD5,iterations:1}),init:function(a){this.cfg=this.cfg.extend(a)},compute:function(a,c){for(var d=this.cfg,f=d.hasher.create(),r=e.create(),s=r.words,t=d.keySize,d=d.iterations;s.length<t;){u&&f.update(u);var u=f.update(a).finalize(c);f.reset();for(var w=1;w<d;w++)u=f.finalize(u),f.reset();r.concat(u)}r.sigBytes=4*t;return r}});a.EvpKDF=function(a,c,d){return f.create(d).compute(a,
c)}})();
CryptoJS.lib.Cipher||function(a){var c=CryptoJS,d=c.lib,e=d.Base,f=d.WordArray,g=d.BufferedBlockAlgorithm,h=c.enc.Base64,m=c.algo.EvpKDF,n=d.Cipher=g.extend({cfg:e.extend(),createEncryptor:function(a,c){return this.create(this._ENC_XFORM_MODE,a,c)},createDecryptor:function(a,c){return this.create(this._DEC_XFORM_MODE,a,c)},init:function(a,c,d){this.cfg=this.cfg.extend(d);this._xformMode=a;this._key=c;this.reset()},reset:function(){g.reset.call(this);this._doReset()},process:function(a){this._append(a);return this._process()},
finalize:function(a){a&&this._append(a);return this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(a){return{encrypt:function(c,d,e){return("string"==typeof d?z:w).encrypt(a,c,d,e)},decrypt:function(c,d,e){return("string"==typeof d?z:w).decrypt(a,c,d,e)}}}});d.StreamCipher=n.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var r=c.mode={},s=function(c,d,e){var f=this._iv;f?this._iv=a:f=this._prevBlock;for(var g=0;g<e;g++)c[d+g]^=
f[g]},t=(d.BlockCipherMode=e.extend({createEncryptor:function(a,c){return this.Encryptor.create(a,c)},createDecryptor:function(a,c){return this.Decryptor.create(a,c)},init:function(a,c){this._cipher=a;this._iv=c}})).extend();t.Encryptor=t.extend({processBlock:function(a,c){var d=this._cipher,e=d.blockSize;s.call(this,a,c,e);d.encryptBlock(a,c);this._prevBlock=a.slice(c,c+e)}});t.Decryptor=t.extend({processBlock:function(a,c){var d=this._cipher,e=d.blockSize,f=a.slice(c,c+e);d.decryptBlock(a,c);s.call(this,
a,c,e);this._prevBlock=f}});r=r.CBC=t;t=(c.pad={}).Pkcs7={pad:function(a,c){for(var d=4*c,d=d-a.sigBytes%d,e=d<<24|d<<16|d<<8|d,g=[],h=0;h<d;h+=4)g.push(e);d=f.create(g,d);a.concat(d)},unpad:function(a){a.sigBytes-=a.words[a.sigBytes-1>>>2]&255}};d.BlockCipher=n.extend({cfg:n.cfg.extend({mode:r,padding:t}),reset:function(){n.reset.call(this);var a=this.cfg,c=a.iv,a=a.mode;if(this._xformMode==this._ENC_XFORM_MODE)var d=a.createEncryptor;else d=a.createDecryptor,this._minBufferSize=1;this._mode=d.call(a,
this,c&&c.words)},_doProcessBlock:function(a,c){this._mode.processBlock(a,c)},_doFinalize:function(){var a=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){a.pad(this._data,this.blockSize);var c=this._process(!0)}else c=this._process(!0),a.unpad(c);return c},blockSize:4});var u=d.CipherParams=e.extend({init:function(a){this.mixIn(a)},toString:function(a){return(a||this.formatter).stringify(this)}}),r=(c.format={}).OpenSSL={stringify:function(a){var c=a.ciphertext;a=a.salt;return(a?f.create([1398893684,
1701076831]).concat(a).concat(c):c).toString(h)},parse:function(a){a=h.parse(a);var c=a.words;if(1398893684==c[0]&&1701076831==c[1]){var d=f.create(c.slice(2,4));c.splice(0,4);a.sigBytes-=16}return u.create({ciphertext:a,salt:d})}},w=d.SerializableCipher=e.extend({cfg:e.extend({format:r}),encrypt:function(a,c,d,e){e=this.cfg.extend(e);var f=a.createEncryptor(d,e);c=f.finalize(c);f=f.cfg;return u.create({ciphertext:c,key:d,iv:f.iv,algorithm:a,mode:f.mode,padding:f.padding,blockSize:a.blockSize,formatter:e.format})},
decrypt:function(a,c,d,e){e=this.cfg.extend(e);c=this._parse(c,e.format);return a.createDecryptor(d,e).finalize(c.ciphertext)},_parse:function(a,c){return"string"==typeof a?c.parse(a,this):a}}),c=(c.kdf={}).OpenSSL={execute:function(a,c,d,e){e||(e=f.random(8));a=m.create({keySize:c+d}).compute(a,e);d=f.create(a.words.slice(c),4*d);a.sigBytes=4*c;return u.create({key:a,iv:d,salt:e})}},z=d.PasswordBasedCipher=w.extend({cfg:w.cfg.extend({kdf:c}),encrypt:function(a,c,d,e){e=this.cfg.extend(e);d=e.kdf.execute(d,
a.keySize,a.ivSize);e.iv=d.iv;a=w.encrypt.call(this,a,c,d.key,e);a.mixIn(d);return a},decrypt:function(a,c,d,e){e=this.cfg.extend(e);c=this._parse(c,e.format);d=e.kdf.execute(d,a.keySize,a.ivSize,c.salt);e.iv=d.iv;return w.decrypt.call(this,a,c,d.key,e)}})}();
(function(){for(var a=CryptoJS,c=a.lib.BlockCipher,d=a.algo,e=[],f=[],g=[],h=[],m=[],n=[],r=[],s=[],t=[],u=[],w=[],z=0;256>z;z++)w[z]=128>z?z<<1:z<<1^283;for(var A=0,B=0,z=0;256>z;z++){var C=B^B<<1^B<<2^B<<3^B<<4,C=C>>>8^C&255^99;e[A]=C;f[C]=A;var E=w[A],H=w[E],F=w[H],D=257*w[C]^16843008*C;g[A]=D<<24|D>>>8;h[A]=D<<16|D>>>16;m[A]=D<<8|D>>>24;n[A]=D;D=16843009*F^65537*H^257*E^16843008*A;r[C]=D<<24|D>>>8;s[C]=D<<16|D>>>16;t[C]=D<<8|D>>>24;u[C]=D;A?(A=E^w[w[w[F^E]]],B^=w[w[B]]):A=B=1}var K=[0,1,2,4,8,
16,32,64,128,27,54],d=d.AES=c.extend({_doReset:function(){for(var a=this._key,c=a.words,d=a.sigBytes/4,a=4*((this._nRounds=d+6)+1),f=this._keySchedule=[],g=0;g<a;g++)if(g<d)f[g]=c[g];else{var h=f[g-1];g%d?6<d&&4==g%d&&(h=e[h>>>24]<<24|e[h>>>16&255]<<16|e[h>>>8&255]<<8|e[h&255]):(h=h<<8|h>>>24,h=e[h>>>24]<<24|e[h>>>16&255]<<16|e[h>>>8&255]<<8|e[h&255],h^=K[g/d|0]<<24);f[g]=f[g-d]^h}c=this._invKeySchedule=[];for(d=0;d<a;d++)g=a-d,h=d%4?f[g]:f[g-4],c[d]=4>d||4>=g?h:r[e[h>>>24]]^s[e[h>>>16&255]]^t[e[h>>>
8&255]]^u[e[h&255]]},encryptBlock:function(a,c){this._doCryptBlock(a,c,this._keySchedule,g,h,m,n,e)},decryptBlock:function(a,c){var d=a[c+1];a[c+1]=a[c+3];a[c+3]=d;this._doCryptBlock(a,c,this._invKeySchedule,r,s,t,u,f);d=a[c+1];a[c+1]=a[c+3];a[c+3]=d},_doCryptBlock:function(a,c,d,e,f,g,h,m){for(var n=this._nRounds,r=a[c]^d[0],s=a[c+1]^d[1],t=a[c+2]^d[2],u=a[c+3]^d[3],A=4,w=1;w<n;w++)var z=e[r>>>24]^f[s>>>16&255]^g[t>>>8&255]^h[u&255]^d[A++],B=e[s>>>24]^f[t>>>16&255]^g[u>>>8&255]^h[r&255]^d[A++],C=
e[t>>>24]^f[u>>>16&255]^g[r>>>8&255]^h[s&255]^d[A++],u=e[u>>>24]^f[r>>>16&255]^g[s>>>8&255]^h[t&255]^d[A++],r=z,s=B,t=C;z=(m[r>>>24]<<24|m[s>>>16&255]<<16|m[t>>>8&255]<<8|m[u&255])^d[A++];B=(m[s>>>24]<<24|m[t>>>16&255]<<16|m[u>>>8&255]<<8|m[r&255])^d[A++];C=(m[t>>>24]<<24|m[u>>>16&255]<<16|m[r>>>8&255]<<8|m[s&255])^d[A++];u=(m[u>>>24]<<24|m[r>>>16&255]<<16|m[s>>>8&255]<<8|m[t&255])^d[A++];a[c]=z;a[c+1]=B;a[c+2]=C;a[c+3]=u},keySize:8});a.AES=c._createHelper(d)})();CryptoJS.mode.ECB=function(){var a=CryptoJS.lib.BlockCipherMode.extend();a.Encryptor=a.extend({processBlock:function(a,d){this._cipher.encryptBlock(a,d)}});a.Decryptor=a.extend({processBlock:function(a,d){this._cipher.decryptBlock(a,d)}});return a}();var QRCode;
(function(){function a(a){this.mode=m.MODE_8BIT_BYTE;this.data=a;this.parsedData=[];a=0;for(var c=this.data.length;a<c;a++){var d=[],e=this.data.charCodeAt(a);65536<e?(d[0]=240|(e&1835008)>>>18,d[1]=128|(e&258048)>>>12,d[2]=128|(e&4032)>>>6,d[3]=128|e&63):2048<e?(d[0]=224|(e&61440)>>>12,d[1]=128|(e&4032)>>>6,d[2]=128|e&63):128<e?(d[0]=192|(e&1984)>>>6,d[1]=128|e&63):d[0]=e;this.parsedData.push(d)}this.parsedData=Array.prototype.concat.apply([],this.parsedData);this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),
this.parsedData.unshift(187),this.parsedData.unshift(239))}function c(a,c){this.typeNumber=a;this.errorCorrectLevel=c;this.modules=null;this.moduleCount=0;this.dataCache=null;this.dataList=[]}function d(a,c){if(void 0==a.length)throw Error(a.length+"/"+c);for(var d=0;d<a.length&&0==a[d];)d++;this.num=Array(a.length-d+c);for(var e=0;e<a.length-d;e++)this.num[e]=a[e+d]}function e(a,c){this.totalCount=a;this.dataCount=c}function f(){this.buffer=[];this.length=0}function g(){var a=!1,c=navigator.userAgent;
/android/i.test(c)&&(a=!0,(c=c.toString().match(/android ([0-9]\.[0-9])/i))&&c[1]&&(a=parseFloat(c[1])));return a}function h(a,c){var d=1,e;e=encodeURI(a).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");e=e.length+(e.length!=a?3:0);for(var f=0,g=u.length;f<=g;f++){var h=0;switch(c){case n.L:h=u[f][0];break;case n.M:h=u[f][1];break;case n.Q:h=u[f][2];break;case n.H:h=u[f][3]}if(e<=h)break;else d++}if(d>u.length)throw Error("Too long data");return d}a.prototype={getLength:function(a){return this.parsedData.length},
write:function(a){for(var c=0,d=this.parsedData.length;c<d;c++)a.put(this.parsedData[c],8)}};c.prototype={addData:function(c){c=new a(c);this.dataList.push(c);this.dataCache=null},isDark:function(a,c){if(0>a||this.moduleCount<=a||0>c||this.moduleCount<=c)throw Error(a+","+c);return this.modules[a][c]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(a,d){this.moduleCount=4*this.typeNumber+17;this.modules=Array(this.moduleCount);
for(var e=0;e<this.moduleCount;e++){this.modules[e]=Array(this.moduleCount);for(var f=0;f<this.moduleCount;f++)this.modules[e][f]=null}this.setupPositionProbePattern(0,0);this.setupPositionProbePattern(this.moduleCount-7,0);this.setupPositionProbePattern(0,this.moduleCount-7);this.setupPositionAdjustPattern();this.setupTimingPattern();this.setupTypeInfo(a,d);7<=this.typeNumber&&this.setupTypeNumber(a);null==this.dataCache&&(this.dataCache=c.createData(this.typeNumber,this.errorCorrectLevel,this.dataList));
this.mapData(this.dataCache,d)},setupPositionProbePattern:function(a,c){for(var d=-1;7>=d;d++)if(!(-1>=a+d||this.moduleCount<=a+d))for(var e=-1;7>=e;e++)-1>=c+e||this.moduleCount<=c+e||(this.modules[a+d][c+e]=0<=d&&6>=d&&(0==e||6==e)||0<=e&&6>=e&&(0==d||6==d)||2<=d&&4>=d&&2<=e&&4>=e?!0:!1)},getBestMaskPattern:function(){for(var a=0,c=0,d=0;8>d;d++){this.makeImpl(!0,d);var e=r.getLostPoint(this);if(0==d||a>e)a=e,c=d}return c},createMovieClip:function(a,c,d){a=a.createEmptyMovieClip(c,d);this.make();
for(c=0;c<this.modules.length;c++){d=1*c;for(var e=0;e<this.modules[c].length;e++){var f=1*e;this.modules[c][e]&&(a.beginFill(0,100),a.moveTo(f,d),a.lineTo(f+1,d),a.lineTo(f+1,d+1),a.lineTo(f,d+1),a.endFill())}}return a},setupTimingPattern:function(){for(var a=8;a<this.moduleCount-8;a++)null==this.modules[a][6]&&(this.modules[a][6]=0==a%2);for(a=8;a<this.moduleCount-8;a++)null==this.modules[6][a]&&(this.modules[6][a]=0==a%2)},setupPositionAdjustPattern:function(){for(var a=r.getPatternPosition(this.typeNumber),
c=0;c<a.length;c++)for(var d=0;d<a.length;d++){var e=a[c],f=a[d];if(null==this.modules[e][f])for(var g=-2;2>=g;g++)for(var h=-2;2>=h;h++)this.modules[e+g][f+h]=-2==g||2==g||-2==h||2==h||0==g&&0==h?!0:!1}},setupTypeNumber:function(a){for(var c=r.getBCHTypeNumber(this.typeNumber),d=0;18>d;d++){var e=!a&&1==(c>>d&1);this.modules[Math.floor(d/3)][d%3+this.moduleCount-8-3]=e}for(d=0;18>d;d++)e=!a&&1==(c>>d&1),this.modules[d%3+this.moduleCount-8-3][Math.floor(d/3)]=e},setupTypeInfo:function(a,c){for(var d=
r.getBCHTypeInfo(this.errorCorrectLevel<<3|c),e=0;15>e;e++){var f=!a&&1==(d>>e&1);6>e?this.modules[e][8]=f:8>e?this.modules[e+1][8]=f:this.modules[this.moduleCount-15+e][8]=f}for(e=0;15>e;e++)f=!a&&1==(d>>e&1),8>e?this.modules[8][this.moduleCount-e-1]=f:9>e?this.modules[8][15-e-1+1]=f:this.modules[8][15-e-1]=f;this.modules[this.moduleCount-8][8]=!a},mapData:function(a,c){for(var d=-1,e=this.moduleCount-1,f=7,g=0,h=this.moduleCount-1;0<h;h-=2)for(6==h&&h--;;){for(var m=0;2>m;m++)if(null==this.modules[e][h-
m]){var n=!1;g<a.length&&(n=1==(a[g]>>>f&1));r.getMask(c,e,h-m)&&(n=!n);this.modules[e][h-m]=n;f--; -1==f&&(g++,f=7)}e+=d;if(0>e||this.moduleCount<=e){e-=d;d=-d;break}}}};c.PAD0=236;c.PAD1=17;c.createData=function(a,d,g){d=e.getRSBlocks(a,d);for(var h=new f,m=0;m<g.length;m++){var n=g[m];h.put(n.mode,4);h.put(n.getLength(),r.getLengthInBits(n.mode,a));n.write(h)}for(m=a=0;m<d.length;m++)a+=d[m].dataCount;if(h.getLengthInBits()>8*a)throw Error("code length overflow. ("+h.getLengthInBits()+"\x3e"+8*
a+")");for(h.getLengthInBits()+4<=8*a&&h.put(0,4);0!=h.getLengthInBits()%8;)h.putBit(!1);for(;!(h.getLengthInBits()>=8*a);){h.put(c.PAD0,8);if(h.getLengthInBits()>=8*a)break;h.put(c.PAD1,8)}return c.createBytes(h,d)};c.createBytes=function(a,c){for(var e=0,f=0,g=0,h=Array(c.length),m=Array(c.length),n=0;n<c.length;n++){var s=c[n].dataCount,t=c[n].totalCount-s,f=Math.max(f,s),g=Math.max(g,t);h[n]=Array(s);for(var u=0;u<h[n].length;u++)h[n][u]=255&a.buffer[u+e];e+=s;u=r.getErrorCorrectPolynomial(t);
s=(new d(h[n],u.getLength()-1)).mod(u);m[n]=Array(u.getLength()-1);for(u=0;u<m[n].length;u++)t=u+s.getLength()-m[n].length,m[n][u]=0<=t?s.get(t):0}for(u=n=0;u<c.length;u++)n+=c[u].totalCount;e=Array(n);for(u=s=0;u<f;u++)for(n=0;n<c.length;n++)u<h[n].length&&(e[s++]=h[n][u]);for(u=0;u<g;u++)for(n=0;n<c.length;n++)u<m[n].length&&(e[s++]=m[n][u]);return e};for(var m={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},n={L:1,M:0,Q:3,H:2},r={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,
30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,
132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var c=a<<10;0<=r.getBCHDigit(c)-r.getBCHDigit(r.G15);)c^=r.G15<<r.getBCHDigit(c)-r.getBCHDigit(r.G15);return(a<<10|c)^r.G15_MASK},getBCHTypeNumber:function(a){for(var c=a<<12;0<=r.getBCHDigit(c)-r.getBCHDigit(r.G18);)c^=r.G18<<r.getBCHDigit(c)-r.getBCHDigit(r.G18);return a<<12|c},getBCHDigit:function(a){for(var c=0;0!=a;)c++,a>>>=1;return c},getPatternPosition:function(a){return r.PATTERN_POSITION_TABLE[a-
1]},getMask:function(a,c,d){switch(a){case 0:return 0==(c+d)%2;case 1:return 0==c%2;case 2:return 0==d%3;case 3:return 0==(c+d)%3;case 4:return 0==(Math.floor(c/2)+Math.floor(d/3))%2;case 5:return 0==c*d%2+c*d%3;case 6:return 0==(c*d%2+c*d%3)%2;case 7:return 0==(c*d%3+(c+d)%2)%2;default:throw Error("bad maskPattern:"+a);}},getErrorCorrectPolynomial:function(a){for(var c=new d([1],0),e=0;e<a;e++)c=c.multiply(new d([1,s.gexp(e)],0));return c},getLengthInBits:function(a,c){if(1<=c&&10>c)switch(a){case m.MODE_NUMBER:return 10;
case m.MODE_ALPHA_NUM:return 9;case m.MODE_8BIT_BYTE:return 8;case m.MODE_KANJI:return 8;default:throw Error("mode:"+a);}else if(27>c)switch(a){case m.MODE_NUMBER:return 12;case m.MODE_ALPHA_NUM:return 11;case m.MODE_8BIT_BYTE:return 16;case m.MODE_KANJI:return 10;default:throw Error("mode:"+a);}else if(41>c)switch(a){case m.MODE_NUMBER:return 14;case m.MODE_ALPHA_NUM:return 13;case m.MODE_8BIT_BYTE:return 16;case m.MODE_KANJI:return 12;default:throw Error("mode:"+a);}else throw Error("type:"+c);
},getLostPoint:function(a){for(var c=a.getModuleCount(),d=0,e=0;e<c;e++)for(var f=0;f<c;f++){for(var g=0,h=a.isDark(e,f),m=-1;1>=m;m++)if(!(0>e+m||c<=e+m))for(var n=-1;1>=n;n++)0>f+n||c<=f+n||0==m&&0==n||h!=a.isDark(e+m,f+n)||g++;5<g&&(d+=3+g-5)}for(e=0;e<c-1;e++)for(f=0;f<c-1;f++)if(g=0,a.isDark(e,f)&&g++,a.isDark(e+1,f)&&g++,a.isDark(e,f+1)&&g++,a.isDark(e+1,f+1)&&g++,0==g||4==g)d+=3;for(e=0;e<c;e++)for(f=0;f<c-6;f++)a.isDark(e,f)&&!a.isDark(e,f+1)&&a.isDark(e,f+2)&&a.isDark(e,f+3)&&a.isDark(e,
f+4)&&!a.isDark(e,f+5)&&a.isDark(e,f+6)&&(d+=40);for(f=0;f<c;f++)for(e=0;e<c-6;e++)a.isDark(e,f)&&!a.isDark(e+1,f)&&a.isDark(e+2,f)&&a.isDark(e+3,f)&&a.isDark(e+4,f)&&!a.isDark(e+5,f)&&a.isDark(e+6,f)&&(d+=40);for(f=g=0;f<c;f++)for(e=0;e<c;e++)a.isDark(e,f)&&g++;a=Math.abs(100*g/c/c-50)/5;return d+10*a}},s={glog:function(a){if(1>a)throw Error("glog("+a+")");return s.LOG_TABLE[a]},gexp:function(a){for(;0>a;)a+=255;for(;256<=a;)a-=255;return s.EXP_TABLE[a]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},
t=0;8>t;t++)s.EXP_TABLE[t]=1<<t;for(t=8;256>t;t++)s.EXP_TABLE[t]=s.EXP_TABLE[t-4]^s.EXP_TABLE[t-5]^s.EXP_TABLE[t-6]^s.EXP_TABLE[t-8];for(t=0;255>t;t++)s.LOG_TABLE[s.EXP_TABLE[t]]=t;d.prototype={get:function(a){return this.num[a]},getLength:function(){return this.num.length},multiply:function(a){for(var c=Array(this.getLength()+a.getLength()-1),e=0;e<this.getLength();e++)for(var f=0;f<a.getLength();f++)c[e+f]^=s.gexp(s.glog(this.get(e))+s.glog(a.get(f)));return new d(c,0)},mod:function(a){if(0>this.getLength()-
a.getLength())return this;for(var c=s.glog(this.get(0))-s.glog(a.get(0)),e=Array(this.getLength()),f=0;f<this.getLength();f++)e[f]=this.get(f);for(f=0;f<a.getLength();f++)e[f]^=s.gexp(s.glog(a.get(f))+c);return(new d(e,0)).mod(a)}};e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,
15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,
65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],
[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,
23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,
15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,
16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];e.getRSBlocks=function(a,c){var d=e.getRsBlockTable(a,c);if(void 0==d)throw Error("bad rs block @ typeNumber:"+a+"/errorCorrectLevel:"+c);for(var f=d.length/3,g=[],h=0;h<f;h++)for(var m=d[3*h+0],n=d[3*h+1],r=d[3*h+2],s=0;s<m;s++)g.push(new e(n,r));return g};e.getRsBlockTable=function(a,c){switch(c){case n.L:return e.RS_BLOCK_TABLE[4*(a-1)+0];case n.M:return e.RS_BLOCK_TABLE[4*(a-1)+1];case n.Q:return e.RS_BLOCK_TABLE[4*
(a-1)+2];case n.H:return e.RS_BLOCK_TABLE[4*(a-1)+3]}};f.prototype={get:function(a){return 1==(this.buffer[Math.floor(a/8)]>>>7-a%8&1)},put:function(a,c){for(var d=0;d<c;d++)this.putBit(1==(a>>>c-d-1&1))},getLengthInBits:function(){return this.length},putBit:function(a){var c=Math.floor(this.length/8);this.buffer.length<=c&&this.buffer.push(0);a&&(this.buffer[c]|=128>>>this.length%8);this.length++}};var u=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,
122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,
1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],w=function(){var a=function(a,c){this._el=a;this._htOption=c};a.prototype.draw=function(a){function c(a,d){var e=document.createElementNS("http://www.w3.org/2000/svg",a),f;for(f in d)d.hasOwnProperty(f)&&e.setAttribute(f,d[f]);return e}var d=this._htOption,e=this._el,f=a.getModuleCount();this.clear();var g=c("svg",{viewBox:"0 0 "+String(f)+" "+String(f),
width:"100%",height:"100%",fill:d.colorLight});g.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");e.appendChild(g);g.appendChild(c("rect",{fill:d.colorLight,width:"100%",height:"100%"}));g.appendChild(c("rect",{fill:d.colorDark,width:"1",height:"1",id:"template"}));for(d=0;d<f;d++)for(e=0;e<f;e++)if(a.isDark(d,e)){var h=c("use",{x:String(e),y:String(d)});h.setAttributeNS("http://www.w3.org/1999/xlink","href","#template");g.appendChild(h)}};a.prototype.clear=
function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)};return a}(),z="undefined"==typeof CanvasRenderingContext2D?function(){var a=function(a,c){this._el=a;this._htOption=c};a.prototype.draw=function(a){for(var c=this._htOption,d=this._el,e=a.getModuleCount(),f=Math.floor(c.width/e),g=Math.floor(c.height/e),h=['\x3ctable style\x3d"border:0;border-collapse:collapse;"\x3e'],m=0;m<e;m++){h.push("\x3ctr\x3e");for(var n=0;n<e;n++)h.push('\x3ctd style\x3d"border:0;border-collapse:collapse;padding:0;margin:0;width:'+
f+"px;height:"+g+"px;background-color:"+(a.isDark(m,n)?c.colorDark:c.colorLight)+';"\x3e\x3c/td\x3e');h.push("\x3c/tr\x3e")}h.push("\x3c/table\x3e");d.innerHTML=h.join("");a=d.childNodes[0];d=(c.width-a.offsetWidth)/2;c=(c.height-a.offsetHeight)/2;0<d&&0<c&&(a.style.margin=c+"px "+d+"px")};a.prototype.clear=function(){this._el.innerHTML=""};return a}():function(){function a(){this._elImage.src=this._elCanvas.toDataURL("image/png");this._elImage.style.display="block";this._elCanvas.style.display="none"}
function c(a,d){var e=this;e._fFail=d;e._fSuccess=a;if(null===e._bSupportDataURI){var f=document.createElement("img"),g=function(){e._bSupportDataURI=!1;e._fFail&&e._fFail.call(e)};f.onabort=g;f.onerror=g;f.onload=function(){e._bSupportDataURI=!0;e._fSuccess&&e._fSuccess.call(e)};f.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg\x3d\x3d"}else!0===e._bSupportDataURI&&e._fSuccess?e._fSuccess.call(e):!1===e._bSupportDataURI&&
e._fFail&&e._fFail.call(e)}if(this._android&&2.1>=this._android){var d=1/window.devicePixelRatio,e=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(a,c,f,g,h,m,n,r,s){if("nodeName"in a&&/img/i.test(a.nodeName))for(var t=arguments.length-1;1<=t;t--)arguments[t]*=d;else"undefined"==typeof r&&(arguments[1]*=d,arguments[2]*=d,arguments[3]*=d,arguments[4]*=d);e.apply(this,arguments)}}var f=function(a,c){this._bIsPainted=!1;this._android=g();this._htOption=
c;this._elCanvas=document.createElement("canvas");this._elCanvas.width=c.width;this._elCanvas.height=c.height;a.appendChild(this._elCanvas);this._el=a;this._oContext=this._elCanvas.getContext("2d");this._bIsPainted=!1;this._elImage=document.createElement("img");this._elImage.alt="Scan me!";this._elImage.style.display="none";this._el.appendChild(this._elImage);this._bSupportDataURI=null};f.prototype.draw=function(a){var c=this._elImage,d=this._oContext,e=this._htOption,f=a.getModuleCount(),g=e.width/
f,h=e.height/f,m=Math.round(g),n=Math.round(h);c.style.display="none";this.clear();for(c=0;c<f;c++)for(var r=0;r<f;r++){var s=a.isDark(c,r),t=r*g,u=c*h;d.strokeStyle=s?e.colorDark:e.colorLight;d.lineWidth=1;d.fillStyle=s?e.colorDark:e.colorLight;d.fillRect(t,u,g,h);d.strokeRect(Math.floor(t)+0.5,Math.floor(u)+0.5,m,n);d.strokeRect(Math.ceil(t)-0.5,Math.ceil(u)-0.5,m,n)}this._bIsPainted=!0};f.prototype.makeImage=function(){this._bIsPainted&&c.call(this,a)};f.prototype.isPainted=function(){return this._bIsPainted};
f.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height);this._bIsPainted=!1};f.prototype.round=function(a){return a?Math.floor(1E3*a)/1E3:a};return f}();QRCode=function(a,c){this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:n.H};"string"===typeof c&&(c={text:c});if(c)for(var d in c)this._htOption[d]=c[d];"string"==typeof a&&(a=document.getElementById(a));this._htOption.useSVG&&(z=w);this._android=g();
this._el=a;this._oQRCode=null;this._oDrawing=new z(this._el,this._htOption);this._htOption.text&&this.makeCode(this._htOption.text)};QRCode.prototype.makeCode=function(a){this._oQRCode=new c(h(a,this._htOption.correctLevel),this._htOption.correctLevel);this._oQRCode.addData(a);this._oQRCode.make();this._el.title=a;this._oDrawing.draw(this._oQRCode);this.makeImage()};QRCode.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||3<=this._android)&&this._oDrawing.makeImage()};
QRCode.prototype.clear=function(){this._oDrawing.clear()};QRCode.CorrectLevel=n;QRCode.create=function(a){var d=new c(h(a,n.H),n.H);d.addData(a);d.make();return d}})();var DCManager={initDC:function(){TalkingData.isOpen()&&(this.dc=TalkingData)},isOpen:function(){return this.dc},setTDAcount:function(a){this.isOpen()&&this.dc.setTDAcount(a)},setLoadingTime:function(a){this.isOpen()&&this.dc.setLoadingTime(a)},onTDChargeRequst:function(a){if(this.isOpen())this.dc.onTDChargeRequst(a)},onTDChargeSuccess:function(a){if(this.isOpen())this.dc.onTDChargeSuccess(a)},onTDEvent:function(a,c){if(this.isOpen())this.dc.onTDEvent(a,c)},onTDReward:function(a,c){if(this.isOpen())this.dc.onTDReward(a,
c)},onTDPurchase:function(a,c,d){if(this.isOpen())this.dc.onTDPurchase(a,c,d)},onItemUse:function(a,c,d){if(this.isOpen())this.dc.onItemUse(a,c,d)},onTDBegin:function(a,c){if(this.isOpen())this.dc.onTDBegin(a,c)},onTDComplete:function(a,c){if(this.isOpen())this.dc.onTDComplete(a,c)},onTDFailed:function(a,c,d){if(this.isOpen())this.dc.onTDFailed(a,c,d)}};var TalkingData={isOpen:function(){return"undefined"!=typeof TDGA?!0:!1},getDeviceId:function(){return this.isOpen()?TDGA.getDeviceId():"Test123456"},setTDAcount:function(a){this.isOpen()&&TDGA.Account(a)},setLoadingTime:function(a){if(this.isOpen())TDGA.onEvent("onLoadingTime",a)},setLevel:function(a){this.isOpen()&&TDGA.Account.setLevel(a)},setAccountName:function(a){this.isOpen()&&TDGA.Account.setAccountName(a)},setAccountType:function(a){this.isOpen()&&TDGA.Account.setAccountType(a)},exitGame:function(){if(this.isOpen())TDGA.onPageLeave()},
onTDChargeRequst:function(a){if(this.isOpen())TDGA.onChargeRequest(a)},onTDChargeSuccess:function(a){if(this.isOpen())TDGA.onChargeSuccess(a)},onTDEvent:function(a,c){if(this.isOpen())TDGA.onEvent(a,c)},onTDReward:function(a,c){if(this.isOpen())TDGA.onReward(a,c)},onTDPurchase:function(a,c,d){if(this.isOpen())TDGA.onItemPurchase({item:a,itemNumber:c,priceInVirtualCurrency:d})},onItemUse:function(a,c,d){if(this.isOpen())TDGA.onItemUse({item:a,itemNumber:c,levelId:d})},onTDBegin:function(a,c){if(this.isOpen())TDGA.onMissionBegin(a)},
onTDComplete:function(a,c){if(this.isOpen())TDGA.onMissionCompleted(a)},onTDFailed:function(a,c,d){if(this.isOpen())TDGA.onMissionFailed(a,d)}};CCLabelTTFUtils=cc.Class.extend({});
CCLabelTTFUtils.calculateStringSize=function(a,c,d,e){e=e||0;e=0>e?0:e;var f=cc.LabelTTF.__getFontHeightByDiv(c,d),g=null,h=cc.view.getDevicePixelRatio();e*=h;var m=[],g=d*h;this.cacheLabel||(this.cacheLabel=cc.LabelTTF.create(""));cc._renderType===cc.game.RENDER_TYPE_WEBGL?cc.labelTTFContext&&(cc.labelTTFContext.font="normal normal "+g+"px '"+c+"'"):this.cacheLabel._renderCmd._labelContext&&(this.cacheLabel._renderCmd._labelContext.font="normal normal "+g+"px '"+c+"'");var n=!1;if(0!==e)for(g=a.split("\n"),
c=0;c<g.length;c++)this._checkWarp(g,c,e);else for(g=a.split("\n"),c=0,d=g.length;c<d;c++)m.push(this._measure(g[c]));1<g.length&&(n=!0);a=0===e?n?cc.size(Math.ceil(Math.max.apply(Math,m)),Math.ceil(f*h*g.length)):cc.size(Math.ceil(this._measure(a)),Math.ceil(f*h)):n?cc.size(Math.ceil(e),Math.ceil(f*h*g.length)):cc.size(Math.ceil(e),Math.ceil(f*h));return cc.size(a.width/h,a.height/h)};CCLabelTTFUtils._measure=function(a){return this.cacheLabel._renderCmd._measure(a)};
CCLabelTTFUtils._checkWarp=function(a,c,d){var e=a[c],f=this._measure(e);if(f>d&&1<e.length){for(var g=d/f*e.length|0,h=e.substr(g),m=f-this._measure(h),n,r=0,s=0;m>d&&100>s++;)g*=d/m,g|=0,h=e.substr(g),m=f-this._measure(h);for(s=0;m<d&&100>s++;)h&&(r=(n=cc.LabelTTF._wordRex.exec(h))?n[0].length:1,n=h),g+=r,h=e.substr(g),m=f-this._measure(h);g-=r;0===g&&(g=1,n=n.substr(1));d=e.substr(0,g);cc.LabelTTF.wrapInspection&&cc.LabelTTF._symbolRex.test(n||h)&&(f=cc.LabelTTF._lastWordRex.exec(d),g-=f?f[0].length:
0,0===g&&(g=1),n=e.substr(g),d=e.substr(0,g));cc.LabelTTF._firsrEnglish.test(n)&&(f=cc.LabelTTF._lastEnglish.exec(d))&&d!==f[0]&&(g-=f[0].length,n=e.substr(g),d=e.substr(0,g));a[c]=n||h;a.splice(c,0,d)}};CCLabelTTFUtils.calculateStringLastLineSize=function(a,c,d,e){return cc.size(0,0)};CCNodeUtils=cc.Class.extend({});CCNodeUtils.getChildrenBound=function(a){for(var c=Number.MAX_VALUE,d=0,e=Number.MAX_VALUE,f=0,g=a.getChildren(),h=0;h<g.length;++h){a=g[h];var m=a.boundingBox();a=cc.rectGetMinX(m);var n=cc.rectGetMinY(m),r=cc.rectGetMaxX(m),m=cc.rectGetMaxY(m);a<c&&(c=a);n<e&&(e=n);r>d&&(d=r);m>f&&(f=m)}return cc.rect(c,e,d-c,f-e)};
CCNodeUtils.updateSizeWrapChildren=function(a){var c=this.getChildrenBound(a),d=a.getContentSize();cc.rectGetMaxY(c)>d.height&&(d.height=cc.rectGetMaxY(c));cc.rectGetMaxX(c)>d.width&&(d.width=cc.rectGetMaxX(c));a.setContentSize(d)};CCNodeUtils.setSpriteOpacity=function(a,c){a&&a.setOpacity&&a.setOpacity(c);for(var d=a.getChildren(),e=0;e<d.length;++e)this.setSpriteOpacity(d[e],c)};
CCNodeUtils.setSpriteColor=function(a,c){a&&a.setColor&&a.setColor(c);for(var d=a.getChildren(),e=0;e<d.length;++e)this.setSpriteColor(d[e],c)};CCNodeUtils.setCCControlButtonTouchEnable=function(a,c){a&&a.setTouchEnabled&&a.setTouchEnabled(c);for(var d=a.getChildren(),e=0;e<d.length;++e)this.setCCControlButtonTouchEnable(d[e],c)};CCNodeUtils.runSpriteAction=function(a,c){a instanceof cc.Sprite&&a.runAction(c);for(var d=a.getChildren(),e=0;e<d.length;++e)this.runSpriteAction(d[e],c.clone())};
CCNodeUtils.convertPositionSpace=function(a,c,d){a=a.convertToWorldSpace(c);return d.convertToNodeSpace(a)};CCNodeUtils.getCenterPos=function(a){var c=a.getPosition();a=a.getContentSize();return ccp(c.x+a.width/2,c.y+a.height/2)};CCNodeUtils.CREATE_AND_DUPLICATE=function(a,c){if(c instanceof a){var d=a.create();this.duplicateProp(d,c);return d}return null};
CCNodeUtils.copyNode=function(a,c){var d=null;if(a&&(d||(d=this.CREATE_AND_DUPLICATE(cc.LabelTTF,a)),d||(d=this.CREATE_AND_DUPLICATE(cc.LabelBMFont,a)),d||(d=this.CREATE_AND_DUPLICATE(cc.ParticleSystemQuad,a)),d||(d=this.CREATE_AND_DUPLICATE(cc.Sprite,a)),d||(d=this.CREATE_AND_DUPLICATE(cc.Scale9Sprite,a)),d||(this.CREATE_AND_DUPLICATE(cc.ControlButton,a),d&&(c=!1)),d||(d=cc.Node.create(),this.duplicateProp(d,a)),c))for(var e=a.getChildren(),f=0;f<e.length;++f)d.addChild(this.copyNode(o));return d};
CCNodeUtils.duplicateProp=function(a,c){return null};CCNodeUtils.getChildByName=function(a,c){if(!a)return null;var d=a.getChildren();if(null==d||0>=d.length)return null;for(var e=0;e<d.length;++e){var f=d[e];if(f.getNodeName()==c)return f}for(e=0;e<d.length;++e)if(f=d[e],f=this.getChildByName(f,c))return f;return null};
CCNodeUtils.getOrigin=function(a){return a.isIgnoreAnchorPointForPosition()?a.getPosition():ccp(a.getPositionX()-a.getAnchorPointInPoints().x*a.getScaleX(),a.getPositionY()-a.getAnchorPointInPoints().y*a.getScaleY())};
CCNodeUtils.getCenter=function(a){return a.isIgnoreAnchorPointForPosition()?cc.pAdd(a.getPosition(),ccp(a.getContentSize().width/2,a.getContentSize().height/2)):cc.pAdd(ccp(a.getPositionX()-a.getAnchorPointInPoints().x,a.getPositionY()-a.getAnchorPointInPoints().y),ccp(a.getContentSize().width/2,a.getContentSize().height/2))};CCNodeUtils.getRect=function(a){var c=this.getOrigin(a);a=a.getContentSize();return cc.rect(c.x,c.y,a.width,a.height)};
CCNodeUtils.getLocalCenter=function(a){return ccp(a.getContentSize().width/2,a.getContentSize().height/2)};CCNodeUtils.getLocalPoint=function(a,c,d){a=a.getContentSize();return ccp(a.width*c,a.height*d)};CCNodeUtils.getLocalPoint=function(a,c){var d=a.getContentSize();return ccp(d.width*c.x,d.height*c.y)};CCNodeUtils.getPoint=function(a,c,d){var e=this.getOrigin(a);a=a.getContentSize();return ccp(e.x+a.width*c,e.y+a.height*d)};
CCNodeUtils.getBoundingBoxInWorldSpace=function(a){var c=a.getContentSize(),c=cc.rect(0,0,c.width,c.height);a=a.nodeToWorldTransform();return c=cc.rectApplyAffineTransform(c,a)};CCNodeUtils.getCenterRect=function(a){a=a.getOriginalSize();return cc.rect(a.width/2,a.height/2,1,1)};CCNodeUtils.getCenterRect=function(a){a=cc.spriteFrameCache.getSpriteFrame(a).getOriginalSize();return cc.rect(a.width/2,a.height/2,1,1)};
CCNodeUtils.combine=function(a,c){var d=Math.min(a.origin.x,c.origin.x),e=Math.max(a.origin.x+a.size.width,c.origin.x+c.size.width),f=Math.min(a.origin.y,c.origin.y),g=Math.max(a.origin.y+a.size.height,c.origin.y+c.size.height);return cc.rect(d,f,e-d,g-f)};
CCNodeUtils.changeParent=function(a,c,d,e){if(a&&c){a.retain();var f=a.getAnchorPoint();f.x*=a.getContentWidth();f.y*=a.getContentHeight();var f=c.convertToNodeSpace(a.convertToWorldSpace(f)),g,h;a.getParent()?(g=f,h=a.getPosition(),h.x+=1,h=c.convertToNodeSpace(a.getParent().convertToWorldSpace(h))):(g=c.convertToNodeSpace(ccp(0,0)),h=c.convertToNodeSpace(ccp(1,0)));a.setPosition(f);a.setScale(a.getScale()*cc.pDistance(g,h));a.setRotation(a.getRotation()*cc.pAngle(g,h));a.removeFromParentAndCleanup(!1);
c.addChild(a,d?d:0,e?e:-1);a.release()}return a};CCNodeUtils.positionRelative=function(a,c){return a&&c?c.convertToNodeSpace(a.getParent().convertToWorldSpace(a.getPosition())):ccp(0,0)};CCNodeUtils.resizeNodeByAnchorPoint=function(a,c,d){var e=a.getContentSize();a.setContentSize(c);var f=(c.width-e.width)*d.x;c=(c.height-e.height)*d.y;a=a.getChildren();for(d=0;d<a.length;++d){var e=a[d],g=e.getPosition();g.x+=f;g.y+=c;e.setPosition(g)}};
CCNodeUtils.convertToCCC3=function(a){return cc.color(a>>16&255,a>>8&255,a&255)};CCNodeUtils.convertToCCC4=function(a){var c=a>>24&255;0==c&&(c=255);return cc.color(a>>16&255,a>>8&255,a&255,c)};CCNodeUtils.genNewSprite=function(a,c){var d=a.getContentSize(),d=cc.RenderTexture.create(d.width,d.height,cc.Texture2D.PIXEL_FORMAT_RGBA8888);a.setAnchorPoint(ccp(0,0));a.setFlipY(!0);c.setAnchorPoint(ccp(0,0));c.setFlipY(!0);d.begin();a.visit();c.visit();d.end();return cc.Sprite.createWithTexture(d.getSprite().getTexture())};
CCNodeUtils.genNearestButtonStatic=function(a,c,d,e,f,g,h){g=Number.MAX_VALUE;var m=null,n=null;Math.abs(d)<Math.abs(e)&&(d=0);for(var r=a.getChildren(),s=0;s<r.length;++s){var t=n=r[s],u=n;if(t&&u){if(u.isVisibleInParents()&&t.isEnabled()&&t!=h)if(u=a.convertToWorldSpace(u.getPosition()),0>d){if(n=u.x-c.x,u=u.y-c.y,!(0<n)&&Math.abs(n)>=Math.abs(u)*f){var w=n*n+u*u;w<g&&(g=w,m=t)}}else 0<d?(n=u.x-c.x,u=u.y-c.y,!(0>n)&&Math.abs(n)>=Math.abs(u)*f&&(w=n*n+u*u,w<g&&(g=w,m=t))):0>e?(n=u.x-c.x,u=u.y-c.y,
!(0<u)&&Math.abs(u)>=Math.abs(n)*f&&(w=n*n+u*u,w<g&&(g=w,m=t))):0<e&&(n=u.x-c.x,u=u.y-c.y,!(0>u)&&Math.abs(u)>=Math.abs(n)*f&&(w=n*n+u*u,w<g&&(g=w,m=t)))}else(t=this.genNearestButtonStatic(n,c,d,e,f,w,h))&&w<g&&(g=w,m=t)}return m};CCNodeUtils.genNearestButton=function(a,c,d,e,f){var g=this.genNearestButtonStatic(a,c,d,e,0.5,0,f);g||(g=this.genNearestButtonStatic(a,c,d,e,0.2,0,f));return g};CCNodeUtils.indexOfObject=function(a,c){for(var d=0;d<a.length;++d)if(a[d]==c)return d;return-1};
CCNodeUtils.setButtonTouchEnable=function(a,c){for(var d=0;d<a.getChildrenCount();d++){var e=a.getChildByIdx(d);CCNodeUtils.setButtonTouchEnable(e,c);(e instanceof ButtonDelegateNode||e instanceof ButtonDelegateSprite)&&e.setTouchEnabled(c)}};CCNodeUtils.getChildIdxOfNode=function(a,c){if(null==a||null==c)return-1;for(var d=c;d;){if(d.getParent()==a)return this.indexOfObject(a.getChildren(),d);d=d.getParent()}return-1};
CCNodeUtils.sortChildrenByPosY=function(a){a=a.getChildren();var c=a.length;if(!(1>=c))for(var d=1;d<c;d++){var e=a[d-1],f=a[d];if(f.getPositionY()>e.getPositionY()){for(var e=!1,g=d-2;0<=g;g--){var h=a[g];if(f.getPositionY()<=h.getPositionY()){a[g+1]=f;e=!0;break}}e||(a[0]=f)}}};CCNodeUtils.stopAllChildrenActions=function(a){if(a){a.stopAllActions();a=a.getChildren();for(var c=0;c<a.length;++c)this.stopAllChildrenActions(a[c])}};
CCNodeUtils.takeRenderPicture=function(a,c,d,e,f,g){if(!a&&(a=cc.director.getRunningScene(),!a))return null;0>=c&&(c=DisplayHelper.sharedInstance().getScreenSize().width);0>=d&&(d=DisplayHelper.sharedInstance().getScreenSize().height);var h=a.getAnchorPoint(),m=a.getPosition(),n=a.getScaleX(),r=a.getScaleY();a.getContentSize();c=cc.RenderTexture.create(c+0.5,d+0.5,cc.Texture2D.PIXEL_FORMAT_RGBA8888);g?(a.setAnchorPoint(ccp(0,0)),a.setPosition(ccp(0-e,0<r?d+f:0+f)),a.setScaleY(-r)):(a.setAnchorPoint(ccp(0,
0<r?0:1)),a.setPosition(ccp(0-e,0-f)));c.begin();a.visit();c.end();a.setAnchorPoint(h);a.setPosition(m);g&&a.setScale(n,r);return c};CCNodeUtils.takePicture=function(a,c,d,e,f,g){return this.takeRenderPicture(a,c,d,e,f,g)};CCNodeUtils.takePictureFile=function(a,c,d,e,f,g){FileSysUtils.ensureParentFolder(a);return this.takeRenderPicture(c,d,e,f,g,!1).saveToFile(a)};
CCNodeUtils.setShaderForNode=function(a,c){if(a){a.setShaderProgram(cc.shaderCache.programForKey(c));var d=a.getChildren();if(d)for(var e=0;e<d.length;++e)this.setShaderForNode(d[e],c)}};CCNodeUtils.setShaderParamVec1=function(a,c,d){(a=cc.shaderCache.programForKey(a))&&a.setCustomVec1(kCCUniformCustom1+c-1,d)};CCNodeUtils.setShaderParamVec2=function(a,c,d,e){(a=cc.shaderCache.programForKey(a))&&a.setCustomVec2(kCCUniformCustom1+c-1,ccp(d,e))};
CCNodeUtils.setShaderParamVec4=function(a,c,d,e,f,g){(a=cc.shaderCache.programForKey(a))&&a.setCustomVec4(kCCUniformCustom1+c-1,cc.color(d,e,f,g))};CCNodeUtils.runShaderActionForNode=function(a,c,d){};CCNodeUtils.getNodeBounds=function(a,c){for(var d=a.getContentSize(),d=cc.rect(0,0,d.width,d.height),e=a.nodeToParentTransform(),d=cc.rectApplyAffineTransform(d,e),f=a.getParent();f&&(!c||f!=c);)e=f.nodeToParentTransform(),d=cc.rectApplyAffineTransform(d,e),f=f.getParent();return d};
CCNodeUtils.getNodeGroupBounds=function(a,c){var d=a.getChildrenCount(),e=this.getNodeBounds(a,c);if(0>=d)return e;var d=e.x,f=e.y,g=d+e.width,e=f+e.height,h=a.getChildren();if(h&&0<h.length){a&&a instanceof cc.Layer&&cc.director.getWinSize().equals(a.getContentSize())&&(f=d=Number.MAX_VALUE,e=g=Number.MIN_VALUE);for(var m=0;m<h.length;++m){var n=h[m];if(n){var r=this.getNodeGroupBounds(n,c),n=r.x,s=r.y,t=n+r.width,r=s+r.height;n<d&&(d=n);s<f&&(f=s);t>g&&(g=t);r>e&&(e=r)}}}return cc.rect(d,f,g-d,
e-f)};
CCNodeUtils.generatorQRNode=function(a,c,d){a=QRCode.create(a);d=d||0;if(a){c/=a.moduleCount+2*d;var e=a.moduleCount+2*d,f=cc.DrawNode.create(),g=[],h;c=Math.ceil(c);g[0]=ccp(0,0);g[1]=ccp((a.moduleCount+2*d)*c,(a.moduleCount+2*d)*c);g[2]=ccp((a.moduleCount+2*d)*c,0);g[3]=g[0];g[4]=ccp(0,(a.moduleCount+2*d)*c);g[5]=g[1];h=cc.color(255,255,255);f.drawPoly(g,h,0,h);for(var m=0;m<a.moduleCount;++m)for(var n=0;n<a.moduleCount;++n)g[0]=ccp((m+d)*c,(n+d)*c),g[1]=ccp((m+d+1)*c,(n+d+1)*c),g[2]=ccp((m+d+1)*
c,(n+d+0)*c),g[3]=g[0],g[4]=ccp((m+d+0)*c,(n+d+1)*c),g[5]=g[1],h=a.modules[m][n]?cc.color(0,0,0):cc.color(255,255,255),f.drawPoly(g,h,0,h);f.setScaleY(-1);f.setContentSize(cc.size(e*c,e*c));f.setAnchorPoint(ccp(0.5,0.5));return f}return cc.Node.create()};CEClipInAction=cc.ActionInterval.extend({m_cos:0,m_sin:0,m_distance:0,m_p1:ccp(0,0),m_p2:ccp(0,0),ctor:function(){this.m_direction=ccp(1,0)},initWithDuration:function(a,c){this.setDuration(a);this.setDirection(c);return!0},startWithTarget:function(a){this._super(a);a.getStencil()instanceof cc.DrawNode&&a.setStencil(cc.DrawNode.create());var c=cc.pToAngle(this.m_direction);this.m_cos=Math.cos(c);this.m_sin=Math.sin(c);a=a.getContentSize();this.m_distance=a.width*Math.abs(this.m_cos)+a.height*Math.abs(this.m_sin);
if(c>cc.PI2){var d=a.width*Math.cos(c-cc.PI2);this.m_p1.x=a.width-d*Math.cos(c-cc.PI2);this.m_p1.y=-d*Math.sin(c-cc.PI2);d=a.height*Math.sin(c-cc.PI2);this.m_p2.x=a.width+d*Math.cos(c-cc.PI2);this.m_p2.y=d*Math.sin(c-cc.PI2)}else 0<=c?(d=a.height*this.m_cos,this.m_p1.x=d*Math.cos(c+cc.PI2),this.m_p1.y=d*Math.sin(c+cc.PI2),d=a.width*this.m_sin,this.m_p2.x=d*Math.cos(c-cc.PI2),this.m_p2.y=d*Math.sin(c-cc.PI2)):c<-cc.PI2?(d=a.height*Math.sin(-c-cc.PI2),this.m_p1.x=a.width+d*Math.cos(-c-cc.PI2),this.m_p1.y=
a.height-d*Math.sin(-c-cc.PI2),d=a.width*Math.cos(-c-cc.PI2),this.m_p2.x=a.width-d*Math.cos(-c-cc.PI2),this.m_p2.y=a.height+d*Math.sin(-c-cc.PI2)):(d=a.width*Math.sin(-c),this.m_p1.x=d*Math.cos(c+cc.PI2),this.m_p1.y=a.height+d*Math.sin(c+cc.PI2),d=a.height*Math.cos(-c),this.m_p2.x=-d*Math.cos(c+cc.PI2),this.m_p2.y=a.height-d*Math.sin(c+cc.PI2))},update:function(a){var c=this.getTarget().getStencil();c.clear();a*=this.m_distance;a=[this.m_p1,this.m_p2,ccp(this.m_p2.x+a*this.m_cos,this.m_p2.y+a*this.m_sin),
ccp(this.m_p1.x+a*this.m_cos,this.m_p1.y+a*this.m_sin)];c.drawPolygon(a,4,cc.color(0,1,0,1),0,cc.color(0,0,0,0))},reverse:function(){CEClipInAction.create(this.getDuration(),ccp(-this.m_direction.x,-this.m_direction.y))}});CEClipInAction.create=function(a,c){var d=new CEClipInAction;d.initWithDuration(a,c);return d};CEClipOutAction=cc.ActionInterval.extend({m_cos:0,m_sin:0,m_distance:0,m_p1:ccp(0,0),m_p2:ccp(0,0),ctor:function(){this.m_direction=ccp(1,0)},initWithDuration:function(a,c){this.setDuration(a);this.setDirection(c);return!0},startWithTarget:function(a){this._super(a);a.getStencil()instanceof cc.DrawNode&&a.setStencil(cc.DrawNode.create());var c=cc.pToAngle(ccp(-this.m_direction.x,-this.m_direction.y));this.m_cos=Math.cos(c);this.m_sin=Math.sin(c);a=a.getContentSize();this.m_distance=a.width*Math.abs(this.m_cos)+
a.height*Math.abs(this.m_sin);if(c>cc.PI2){var d=a.width*Math.cos(c-cc.PI2);this.m_p1.x=a.width-d*Math.cos(c-cc.PI2);this.m_p1.y=-d*Math.sin(c-cc.PI2);d=a.height*Math.sin(c-cc.PI2);this.m_p2.x=a.width+d*Math.cos(c-cc.PI2);this.m_p2.y=d*Math.sin(c-cc.PI2)}else 0<=c?(d=a.height*this.m_cos,this.m_p1.x=d*Math.cos(c+cc.PI2),this.m_p1.y=d*Math.sin(c+cc.PI2),d=a.width*this.m_sin,this.m_p2.x=d*Math.cos(c-cc.PI2),this.m_p2.y=d*Math.sin(c-cc.PI2)):c<-cc.PI2?(d=a.height*Math.sin(-c-cc.PI2),this.m_p1.x=a.width+
d*Math.cos(-c-cc.PI2),this.m_p1.y=a.height-d*Math.sin(-c-cc.PI2),d=a.width*Math.cos(-c-cc.PI2),this.m_p2.x=a.width-d*Math.cos(-c-cc.PI2),this.m_p2.y=a.height+d*Math.sin(-c-cc.PI2)):(d=a.width*Math.sin(-c),this.m_p1.x=d*Math.cos(c+cc.PI2),this.m_p1.y=a.height+d*Math.sin(c+cc.PI2),d=a.height*Math.cos(-c),this.m_p2.x=-d*Math.cos(c+cc.PI2),this.m_p2.y=a.height-d*Math.sin(c+cc.PI2))},update:function(a){var c=this.getTarget().getStencil();c.clear();a=this.m_distance*(1-a);a=0>a?[ccp(0,0),ccp(0,0),ccp(0,
0),ccp(0,0)]:[this.m_p1,this.m_p2,ccp(this.m_p2.x+a*this.m_cos,this.m_p2.y+a*this.m_sin),ccp(this.m_p1.x+a*this.m_cos,this.m_p1.y+a*this.m_sin)];c.drawPolygon(a,4,cc.color(0,1,0,1),0,cc.color(0,0,0,0))},reverse:function(){CEClipOutAction.create(this.getDuration(),ccp(-this.m_direction.x,-this.m_direction.y))}});CEClipOutAction.create=function(a,c){var d=new CEClipOutAction;d.initWithDuration(a,c);return d};CEMoveAccelerateY=cc.ActionInterval.extend({startPos:ccp(0,0),endPos:ccp(0,0),delta:ccp(0,0),v:0,a:0,ft:0,min:0,max:0,ctor:function(a,c,d,e,f){this.initWithDuration(a);this.ft=a;this.a=0<c?-1*d:d;this.v=c;this.min=e;this.max=f;this.startPos=ccp(0,0);this.endPos=ccp(0,0);this.delta=ccp(0,0)},startWithTarget:function(a){this._super(a);this.startPos=a.getPosition()},update:function(a){a*=this.ft;a=this.startPos.y+this.v*a+0.5*this.a*a*a;a<this.min?a=this.min:a>this.max&&(a=this.max);this.getTarget().setPosition(ccp(this.startPos.x,
a))},setEndPosition:function(a){this.endPos=ccp(a.x,a.y)}});CEMoveAccelerateY.create2=function(a,c,d,e){var f=Math.abs(a)/Math.abs(c);return this.create(f,a,c,d,e)};CEMoveAccelerateY.create=function(a,c,d,e,f){return new CEMoveAccelerateY(a,c,d,e,f)};
CEMoveAccelerateX=cc.ActionInterval.extend({startPos:ccp(0,0),endPos:ccp(0,0),delta:ccp(0,0),v:0,a:0,ft:0,min:0,max:0,ctor:function(a,c,d,e,f){this.initWithDuration(a);this.ft=a;this.a=0<c?-1*d:d;this.v=c;this.min=e;this.max=f;this.startPos=ccp(0,0);this.endPos=ccp(0,0);this.delta=ccp(0,0)},startWithTarget:function(a){this._super(a);this.startPos=a.getPosition()},update:function(a){a*=this.ft;a=this.startPos.x+this.v*a+0.5*this.a*a*a;a<this.min?a=this.min:a>this.max&&(a=this.max);this.getTarget().setPosition(ccp(a,
this.startPos.y))},setEndPosition:function(a){this.endPos=ccp(a.x,a.y)}});CEMoveAccelerateX.create2=function(a,c,d,e){var f=Math.abs(a)/Math.abs(c);return this.create(f,a,c,d,e)};CEMoveAccelerateX.create=function(a,c,d,e,f){return new CEMoveAccelerateX(a,c,d,e,f)};
CERotateAccelerate=cc.ActionInterval.extend({start:0,v:0,a:0,ft:0,ctor:function(a,c,d){this.initWithDuration(a);this.a=d;this.ft=a;this.v=c},startWithTarget:function(a){this._super(a);this.start=a.getRotation()},update:function(a){a*=this.ft;this.getTarget().setRotation(this.start+this.v*a+0.5*this.a*a*a)}});CERotateAccelerate.create=function(a,c,d){return new CERotateAccelerate(d,a,c)};
CERotateDecelerate=cc.ActionInterval.extend({start:0,v:0,a:0,ft:0,ctor:function(a,c,d){this.initWithDuration(a);this.ft=a;this.a=d;this.v=c},startWithTarget:function(a){this._super(a);this.start=a.getRotation()},update:function(a){a*=this.ft;this.getTarget().setRotation(this.start+this.v*a-0.5*this.a*a*a)}});CERotateDecelerate.create=function(a,c){var d=Math.abs(a)/Math.abs(c);return new CERotateDecelerate(d,a,c)};
CEContentScaleTo=cc.ScaleTo.extend({ctor:function(a,c,d){this.conSize=d;this.initWithDuration(a,c)},startWithTarget:function(a){a.setContentSize(this.conSize);this._super(a)},update:function(a){this.getTarget().setContentSize(cc.size(this.conSize.width*(this._startScaleX+this._deltaX*a),this.conSize.height*(this._startScaleY+this._deltaY*a)));this._super(a)}});CEContentScaleTo.create=function(a,c,d){return new CEContentScaleTo(a,c,d)};CEShakeAction=cc.ActionInterval.extend({m_radius:0,m_originalX:0,m_originalY:0,initWithDuration:function(a,c){this.m_fDuration=a;this.m_radius=c;return!0},reverse:function(){return CEShakeAction.create(this.m_fDuration,this.m_radius)},update:function(a){1<=a?this.getTarget().setPosition(this.m_originalX,this.m_originalY):this.getTarget().setPosition(this.m_originalX+this.m_radius*cc.randomMinus1To1(),this.m_originalY+this.m_radius*cc.randomMinus1To1())},startWithTarget:function(a){this._super(a);
this.m_originalX=a.getPositionX();this.m_originalY=a.getPositionY()}});CEShakeAction.create=function(a,c){var d=new CEShakeAction;d.initWithDuration(a,c);return d};CETreeFadeTo=cc.FadeTo.extend({m_recursivelyExclude:!0,m_alreadyGetFromOpacity:!1,m_excludeList:[],update:function(a){this._super(a);this.fadeToRecursively(this.getTarget(),a)},fadeToRecursively:function(a,c){for(var d=a.getChildren(),e=a.getChildrenCount(),f=0;f<e;f++){var g=d[f];if(this.isExcludeNode(g))this.m_recursivelyExclude||this.fadeToRecursively(g,c);else{var h=g;h&&(this.m_alreadyGetFromOpacity||(this.m_alreadyGetFromOpacity=!0,this.m_fromOpacity=h.getOpacity()),h.setOpacity(this.m_fromOpacity+
(this._toOpacity-this.m_fromOpacity)*c));this.fadeToRecursively(g,c)}}},isExcludeNode:function(a){for(var c=0;c<this.m_excludeList.length;++c)if(this.m_excludeList[c]==a)return!0;return!1},excludeNode:function(a,c){this.m_excludeList.push(a);this.m_recursivelyExclude=c}});CETreeFadeTo.create=function(a,c){var d=new CETreeFadeTo;d.initWithDuration(a,c);return d};CETreeTintTo=cc.TintTo.extend({m_recursivelyExclude:!0,m_alreadyGetFromColor:!1,m_excludeList:[],update:function(a){this._super(a);this.tintToRecursively(this.getTarget(),a)},tintToRecursively:function(a,c,d){var e=a.getChildren();a=a.getChildrenCount();for(var f=0;f<a;f++){var g=e[f];if(this.isExcludeNode(g))this.m_recursivelyExclude||this.tintToRecursively(g,c);else{var h=g;this.m_alreadyGetFromColor||(this.m_alreadyGetFromColor=!0,this._from=h.getColor());d=d||cc.color(this._from.r+(this._to.r-
this._from.r)*c,this._from.g+(this._to.g-this._from.g)*c,this._from.b+(this._to.b-this._from.b)*c);h.setColor(d);h instanceof cc.LabelBMFont||this.tintToRecursively(g,c,d)}}},isExcludeNode:function(a){for(var c=0;c<this.m_excludeList.length;++c)if(this.m_excludeList[c]==a)return!0;return!1},excludeNode:function(a,c){this.m_excludeList.push(a);this.m_recursivelyExclude=c}});CETreeTintTo.create=function(a,c,d,e){var f=new CETreeTintTo;f.initWithDuration(a,c,d,e);return f};ccui={};
ccui.Scale9Sprite=cc.Scale9Sprite=cc.Node.extend({_spriteRect:null,_capInsetsInternal:null,_positionsAreDirty:!1,_scale9Image:null,_topLeft:null,_top:null,_topRight:null,_left:null,_centre:null,_right:null,_bottomLeft:null,_bottom:null,_bottomRight:null,_scale9Enabled:!0,_brightState:0,_renderers:null,_opacityModifyRGB:!1,_originalSize:null,_preferredSize:null,_opacity:0,_color:null,_capInsets:null,_insetLeft:0,_insetTop:0,_insetRight:0,_insetBottom:0,_spriteFrameRotated:!1,_textureLoaded:!1,_className:"Scale9Sprite",
_flippedX:!1,_flippedY:!1,textureLoaded:function(){return this._textureLoaded},addLoadedEventListener:function(a,c){this.addEventListener("load",a,c)},_updateCapInset:function(){var a;a=this._insetLeft;var c=this._insetTop,d=this._insetRight,e=this._spriteRect,f=this._insetBottom;a=0===a&&0===c&&0===d&&0===f?cc.rect(0,0,0,0):cc.rect(a,c,e.width-a-d,e.height-c-f);this.setCapInsets(a)},_updatePositions:function(){if(this._topLeft&&this._topRight&&this._bottomRight&&this._bottomLeft&&this._centre){var a=
this._contentSize,c=this._topLeft,d=this._topRight,e=this._bottomRight,f=this._bottomLeft,g=this._left,h=this._right,m=this._top,n=this._bottom,r=this._centre,s=this._centre.getContentSize(),t=c.getContentSize(),u=f.getContentSize(),w=a.width-t.width-d.getContentSize().width,a=a.height-t.height-e.getContentSize().height,w=w/s.width,a=a/s.height,t=s.width*w,z=s.height*a,A=u.width,u=u.height,B=cc.p(0,0);if(cc._renderType===cc.game.RENDER_TYPE_WEBGL){var C=Math.round(t);t!==C&&(t=C,w=t/s.width);C=Math.round(z);
z!==C&&(z=C,a=z/s.height)}r.setScaleX(w);r.setScaleY(a);f.setAnchorPoint(1,1);f.setPosition(A,u);e.setAnchorPoint(0,1);e.setPosition(A+t,u);c.setAnchorPoint(1,0);c.setPosition(A,u+z);d.setAnchorPoint(0,0);d.setPosition(A+t,u+z);g.setAnchorPoint(1,0.5);g.setPosition(A,u+z/2+B.y);g.setScaleY(a);h.setAnchorPoint(0,0.5);h.setPosition(A+t,u+z/2+B.y);h.setScaleY(a);m.setAnchorPoint(0.5,0);m.setPosition(A+t/2+B.x,u+z);m.setScaleX(w);n.setAnchorPoint(0.5,1);n.setPosition(A+t/2+B.x,u);n.setScaleX(w);r.setAnchorPoint(0.5,
0.5);r.setPosition(A+t/2+B.x,u+z/2+B.y);r.setScaleX(w);r.setScaleY(a)}},ctor:function(a,c,d){cc.Node.prototype.ctor.call(this);this._loader=new cc.Sprite.LoadManager;this._spriteRect=cc.rect(0,0,0,0);this._capInsetsInternal=cc.rect(0,0,0,0);this._originalSize=cc.size(0,0);this._preferredSize=cc.size(0,0);this._capInsets=cc.rect(0,0,0,0);this._renderers=[];if(void 0!==a)if(a instanceof cc.SpriteFrame)this.initWithSpriteFrame(a,c);else{var e=cc.spriteFrameCache.getSpriteFrame(a);e?this.initWithSpriteFrame(e,
c):this.initWithFile(a,c,d)}else this.init(),this.setCascadeColorEnabled(!0),this.setCascadeOpacityEnabled(!0),this.setAnchorPoint(0.5,0.5),this._positionsAreDirty=!0},getSprite:function(){return this._scale9Image},getOriginalSize:function(){return cc.size(this._originalSize)},getPreferredSize:function(){return cc.size(this._preferredSize)},_getPreferredWidth:function(){return this._preferredSize.width},_getPreferredHeight:function(){return this._preferredSize.height},_asyncSetPreferredSize:function(){this.removeEventListener("load",
this._asyncSetPreferredSize,this);0==this._cachePreferredSize.width&&(this._cachePreferredSize.width=this._contentSize.width);0==this._cachePreferredSize.height&&(this._cachePreferredSize.height=this._contentSize.height);this.setPreferredSize(this._cachePreferredSize);this._cachePreferredSize=null},setPreferredSize:function(a){if(a){if(!this._textureLoaded)return this._cachePreferredSize=a,this.removeEventListener("load",this._asyncSetPreferredSize,this),this.addEventListener("load",this._asyncSetPreferredSize,
this),!1;a=cc.size(a.width,a.height);a.width<this._originalSize.width&&(a.width=this._originalSize.width);a<this._originalSize.height&&(a=this._originalSize.height);this.setContentSize(a);this._preferredSize=a;this._positionsAreDirty&&(this._updatePositions(),this._positionsAreDirty=!1,this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.cacheDirty))}},_setPreferredWidth:function(a){this._setWidth(a);this._preferredSize.width=a},_setPreferredHeight:function(a){this._setHeight(a);this._preferredSize.height=
a},setContentWidth:function(a){this.setPreferredSize(cc.size(a,this._contentSize.height))},setContentHeight:function(a){this.setPreferredSize(cc.size(this._contentSize.width,a))},setOpacity:function(a){cc.Node.prototype.setOpacity.call(this,a);this._scale9Enabled||this._scale9Image&&this._scale9Image.setOpacity(a);this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.cacheDirty)},setColor:function(a){this._color=a;if(this._scale9Enabled)for(var c=this._renderers,d=0;d<c.length;d++){var e=c[d];e&&e.setColor(a)}else this._scale9Image&&
this._scale9Image.setColor(a);this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.cacheDirty)},getColor:function(){return this._color||cc.color.WHITE},getCapInsets:function(){return cc.rect(this._capInsets)},_asyncSetCapInsets:function(){this.removeEventListener("load",this._asyncSetCapInsets,this);this._updateCapInset()},setCapInsets:function(a){var c=this._contentSize,d=c.width,c=c.height;if(!this._textureLoaded)return this.removeEventListener("load",this._asyncSetCapInsets,this),this.addEventListener("load",
this._asyncSetCapInsets,this),!1;this.updateWithSprite(this._scale9Image,this._spriteRect,this._spriteFrameRotated,this._offset,this._originalSize,a);this.setContentSize(d,c)},getInsetLeft:function(){return this._insetLeft},setInsetLeft:function(a){this._insetLeft=a;this._updateCapInset()},getInsetTop:function(){return this._insetTop},setInsetTop:function(a){this._insetTop=a;this._updateCapInset()},getInsetRight:function(){return this._insetRight},setInsetRight:function(a){this._insetRight=a;this._updateCapInset()},
getInsetBottom:function(){return this._insetBottom},setInsetBottom:function(a){this._insetBottom=a;this._updateCapInset()},setInset:function(a,c,d,e){this._insetLeft=a;this._insetTop=c;this._insetRight=d;this._insetBottom=e;this._updateCapInset()},setChildVisible:function(a,c){this._centre&&this._topLeft.setVisible(a)},setContentSize:function(a,c){cc.Node.prototype.setContentSize.call(this,a,c);this._positionsAreDirty=!0},setAnchorPoint:function(a,c){cc.Node.prototype.setAnchorPoint.call(this,a,c);
!this._scale9Enabled&&this._scale9Image&&(this._scale9Image.setAnchorPoint(a,c),this._positionsAreDirty=!0)},_setWidth:function(a){cc.Node.prototype._setWidth.call(this,a);this._positionsAreDirty=!0},_setHeight:function(a){cc.Node.prototype._setHeight.call(this,a);this._positionsAreDirty=!0},init:function(){return this.initWithBatchNode(null,cc.rect(0,0,0,0),!1,cc.rect(0,0,0,0))},initWithBatchNode:function(a,c,d,e){if(!a)return!1;void 0===e&&(e=d,d=!1);this.updateWithBatchNode(a,c,d,e);this.setCascadeColorEnabled(!0);
this.setCascadeOpacityEnabled(!0);this.setAnchorPoint(0.5,0.5);return this._positionsAreDirty=!0},initWithFile:function(a,c,d){a instanceof cc.Rect?(d=a=c,c=cc.rect(0,0,0,0)):(c=c||cc.rect(0,0,0,0),d=d||cc.rect(0,0,0,0));if(!a)throw Error("ccui.Scale9Sprite.initWithFile(): file should be non-null");var e=cc.textureCache.getTextureForKey(a);e&&e.isLoaded()||(e=cc.textureCache.addImage(a));var f=e.isLoaded();this._textureLoaded=f;this._loader.clear();return f?this.initWithBatchNode(new cc.SpriteBatchNode(a,
9),c,!1,d):(this._loader.once(e,function(){this.initWithFile(a,c,d);this.dispatchEvent("load")},this),!1)},initWithSpriteFrame:function(a,c){if(!a||!a.getTexture())throw Error("ccui.Scale9Sprite.initWithSpriteFrame(): spriteFrame should be non-null and its texture should be non-null");c=c||cc.rect(0,0,0,0);var d=a.getTexture(),e=this._textureLoaded=d.isLoaded();this._loader.clear();if(!e)return this._loader.once(d,function(){this.initWithSpriteFrame(a,c);this.dispatchEvent("load")},this),!1;d=new cc.SpriteBatchNode(a.getTexture(),
9);this.initWithBatchNode(d,a.getRect(),cc._renderType===cc.game.RENDER_TYPE_WEBGL&&a.isRotated(),c);return!0},initWithSpriteFrameName:function(a,c){if(!a)throw Error("ccui.Scale9Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null");c=c||cc.rect(0,0,0,0);var d=cc.spriteFrameCache.getSpriteFrame(a);return null==d?(cc.log("ccui.Scale9Sprite.initWithSpriteFrameName(): can't find the sprite frame by spriteFrameName"),!1):this.initWithSpriteFrame(d,c)},resizableSpriteWithCapInsets:function(a){var c=
new ccui.Scale9Sprite;return c&&c.initWithBatchNode(this._scale9Image,this._spriteRect,!1,a)?c:null},setOpacityModifyRGB:function(a){if(this._scale9Image){this._opacityModifyRGB=a;var c=this._scale9Image.getChildren();if(c)for(var d=0,e=c.length;d<e;d++)c[d].setOpacityModifyRGB(a);this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.cacheDirty)}},isOpacityModifyRGB:function(){return this._opacityModifyRGB},createSlicedSprites:function(){var a=this._originalSize.width,c=this._originalSize.height,d=this._spriteRect,
e=Math.floor(this._offset.x+(a-d.width)/2),f=Math.floor(this._offset.y+(c-d.height)/2),g=d.x,d=d.y,h=this._capInsetsInternal,m=this._scale9Image.getTexture(),n=this._spriteFrameRotated;cc._rectEqualToZero(h)&&(h=cc.rect((a-2)/2,(c-2)/2,2,2));this._spriteFrameRotated?(g-=f,d-=e):(g-=e,d-=f);var d=cc.rect(g,d,a,c),a=cc.rect(d.x,d.y,d.width,d.height),r=h.x,s=h.width,t=d.width-(r+s),u=h.y,w=h.height,z=d.height-(u+w),A=0,B=0,h=d=cc.rect(A+0.5|0,B+0.5|0,r+0.5|0,u+0.5|0),A=A+r,c=cc.rect(A+0.5|0,B+0.5|0,
s+0.5|0,u+0.5|0),e=cc.rect(A+s+0.5|0,B+0.5|0,t+0.5|0,u+0.5|0),A=0,B=0+u,f=cc.rect(A+0.5|0,B+0.5|0,r+0.5|0,w+0.5|0),A=A+r,C=g=cc.rect(A+0.5|0,B+0.5|0,s+0.5|0,w+0.5|0),A=A+s,E=cc.rect(A+0.5|0,B+0.5|0,t+0.5|0,w+0.5|0),A=0,B=0+u+w,u=cc.rect(A+0.5|0,B+0.5|0,r+0.5|0,z+0.5|0),A=A+r,r=cc.rect(A+0.5|0,B+0.5|0,s+0.5|0,z+0.5|0),A=A+s,t=s=cc.rect(A+0.5|0,B+0.5|0,t+0.5|0,z+0.5|0),z=d,A=g,B=s,w=C,H=t,F=u,D=e,K=h,G=E,I=f,P=r,Q=c,O=cc.affineTransformMakeIdentity();n?(O=cc.affineTransformTranslate(O,a.height+a.x,
a.y),O=cc.affineTransformRotate(O,1.57079633),d=cc.rectApplyAffineTransform(d,O),g=cc.rectApplyAffineTransform(g,O),s=cc.rectApplyAffineTransform(s,O),C=cc.rectApplyAffineTransform(C,O),t=cc.rectApplyAffineTransform(t,O),u=cc.rectApplyAffineTransform(u,O),e=cc.rectApplyAffineTransform(e,O),h=cc.rectApplyAffineTransform(h,O),E=cc.rectApplyAffineTransform(E,O),f=cc.rectApplyAffineTransform(f,O),r=cc.rectApplyAffineTransform(r,O),c=cc.rectApplyAffineTransform(c,O),z.x=d.x,A.x=g.x,B.x=s.x,w.x=C.x,H.x=
t.x,F.x=u.x,D.x=e.x,K.x=h.x,G.x=E.x,I.x=f.x,P.x=r.x,Q.x=c.x,z.y=d.y,A.y=g.y,B.y=s.y,w.y=C.y,H.y=t.y,F.y=u.y,D.y=e.y,K.y=h.y,G.y=E.y,I.y=f.y,P.y=r.y,Q.y=c.y):(O=cc.affineTransformTranslate(O,a.x,a.y),cc.rectApplyAffineTransform(z,O),cc.rectApplyAffineTransform(A,O),cc.rectApplyAffineTransform(B,O),w=cc.rectApplyAffineTransform(w,O),H=cc.rectApplyAffineTransform(H,O),F=cc.rectApplyAffineTransform(F,O),D=cc.rectApplyAffineTransform(D,O),K=cc.rectApplyAffineTransform(K,O),G=cc.rectApplyAffineTransform(G,
O),I=cc.rectApplyAffineTransform(I,O),P=cc.rectApplyAffineTransform(P,O),Q=cc.rectApplyAffineTransform(Q,O));this._centre||(this._centre=new cc.Sprite);this._centre.initWithTexture(m,w,n);0<w.width&&0<w.height&&this._renderers.push(this._centre);this._top||(this._top=new cc.Sprite);this._top.initWithTexture(m,Q,n);0<Q.width&&0<Q.height&&this._renderers.push(this._top);this._bottom||(this._bottom=new cc.Sprite);this._bottom.initWithTexture(m,P,n);0<P.width&&0<P.height&&this._renderers.push(this._bottom);
this._left||(this._left=new cc.Sprite);this._left.initWithTexture(m,I,n);0<I.width&&0<I.height&&this._renderers.push(this._left);this._right||(this._right=new cc.Sprite);this._right.initWithTexture(m,G,n);0<G.width&&0<G.height&&this._renderers.push(this._right);this._topLeft||(this._topLeft=new cc.Sprite);this._topLeft.initWithTexture(m,K,n);0<K.width&&0<K.height&&this._renderers.push(this._topLeft);this._topRight||(this._topRight=new cc.Sprite);this._topRight.initWithTexture(m,D,n);0<D.width&&0<
D.height&&this._renderers.push(this._topRight);this._bottomLeft||(this._bottomLeft=new cc.Sprite);this._bottomLeft.initWithTexture(m,F,n);0<F.width&&0<F.height&&this._renderers.push(this._bottomLeft);this._bottomRight||(this._bottomRight=new cc.Sprite);this._bottomRight.initWithTexture(m,H,n);0<H.width&&0<H.height&&this._renderers.push(this._bottomRight)},updateWithSprite:function(a,c,d,e,f,g){if(!a)return!1;this._loader.clear();this._textureLoaded=a._textureLoaded;if(!a._textureLoaded)return this._loader.once(a,
function(){this.updateWithSprite(a,c,d,e,f,g);this.dispatchEvent("load")},this),!1;this._scale9Image!=a&&this._scale9Image&&this._scale9Image._renderCmd.detachFromParent(!0);this._scale9Image=a;if(!this._scale9Image)return!1;var h=this._scale9Image.getTexture();this._textureLoaded=h&&h.isLoaded();var m=a.getSpriteFrame();cc._renderType===cc.game.RENDER_TYPE_CANVAS&&m&&h._htmlElementObj instanceof window.HTMLCanvasElement&&(d=!1,c={x:0,y:0,height:c.height,width:c.width});for(var m=this._renderers,
n=0;n<m.length;n++)m[n]._renderCmd.detachFromParent(!0);m=this.getOpacity();n=this.getColor();this._renderers.length=0;var r=c,s=f;cc._rectEqualToZero(r)&&(r=h.getContentSize(),r=cc.rect(0,0,r.width,r.height));0===s.width&&0===s.height&&(s=cc.size(r.width,r.height));this._capInsets=g;this._spriteRect=r;this._offset=e;this._spriteFrameRotated=d;this._preferredSize=this._originalSize=s;this._capInsetsInternal=g;this._scale9Enabled?this.createSlicedSprites():this._scale9Image.initWithTexture(h,this._spriteRect,
this._spriteFrameRotated);this.setState(this._brightState);this.setContentSize(s);this.setOpacity(m);this.setColor(n);return!0},updateWithBatchNode:function(a,c,d,e){if(!a)return!1;var f=a.getTexture();this._loader.clear();if(!(this._textureLoaded=f.isLoaded()))return this._loader.once(f,function(){this.updateWithBatchNode(a,c,d,e);this.dispatchEvent("load")},this),!1;var f=new cc.Sprite(f),g=cc.p(0,0),h=cc.size(c.width,c.height);return this.updateWithSprite(f,c,d,g,h,e)},setSpriteFrame:function(a,
c){var d=a.getTexture();this._textureLoaded=d._textureLoaded;this._loader.clear();if(!d._textureLoaded)return this._loader.once(d,function(){this.setSpriteFrame(a,c);this.dispatchEvent("load")},this),!1;d=new cc.Sprite(a.getTexture());this.updateWithSprite(d,a.getRect(),a.isRotated(),a.getOffset(),a.getOriginalSize(),c||cc.rect());c&&(this._insetLeft=c.x,this._insetTop=c.y,this._insetRight=this._originalSize.width-this._insetLeft-c.width,this._insetBottom=this._originalSize.height-this._insetTop-
c.height)},setState:function(a){if(a===ccui.Scale9Sprite.state.NORMAL||a===ccui.Scale9Sprite.state.GRAY)this._brightState=a,this._renderCmd.setState(a)},setScale9Enabled:function(a){if(this._scale9Enabled!==a){this._scale9Enabled=a;a=this._renderers;for(var c=0;c<a.length;c++)a[c]._renderCmd.detachFromParent(!0);this._renderers.length=0;cc.Node.transformDirty=!0;this._scale9Enabled&&this._scale9Image&&this.updateWithSprite(this._scale9Image,this._spriteRect,this._spriteFrameRotated,this._offset,this._originalSize,
this._capInsets);this._positionsAreDirty=!0}},_setRenderersPosition:function(){this._positionsAreDirty&&(this._updatePositions(),this._adjustScale9ImagePosition(),this._positionsAreDirty=!1)},_adjustScale9ImagePosition:function(){var a=this._scale9Image,c=this._contentSize;a&&(a.x=c.width*a.getAnchorPoint().x,a.y=c.height*a.getAnchorPoint().y)},_adjustScale9ImageScale:function(){var a=this._scale9Image,c=this._contentSize;a&&a.setScale(c.width/a.width,c.height/a.height)},setFlippedX:function(a){var c=
this.getScaleX();this._flippedX=a;this.setScaleX(c);this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.cacheDirty)},isFlippedX:function(){return this._flippedX},setFlippedY:function(a){var c=this.getScaleY();this._flippedY=a;this.setScaleY(c);this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.cacheDirty)},isFlippedY:function(){return this._flippedY},setScaleX:function(a){this._flippedX&&(a*=-1);cc.Node.prototype.setScaleX.call(this,a);this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.cacheDirty)},setScaleY:function(a){this._flippedY&&
(a*=-1);cc.Node.prototype.setScaleY.call(this,a);this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.cacheDirty)},setScale:function(a,c){void 0===c&&(c=a);this.setScaleX(a);this.setScaleY(c)},getScaleX:function(){var a=cc.Node.prototype.getScaleX.call(this);this._flippedX&&(a*=-1);return a},getScaleY:function(){var a=cc.Node.prototype.getScaleY.call(this);this._flippedY&&(a*=-1);return a},getScale:function(){this.getScaleX()!==this.getScaleY()&&cc.log("Scale9Sprite#scale. ScaleX !\x3d ScaleY. Don't know which one to return");
return this.getScaleX()},_createRenderCmd:function(){return cc._renderType===cc.game.RENDER_TYPE_CANVAS?new ccui.Scale9Sprite.CanvasRenderCmd(this):new ccui.Scale9Sprite.WebGLRenderCmd(this)}});_p=ccui.Scale9Sprite.prototype;cc.EventHelper.prototype.apply(_p);cc.defineGetterSetter(_p,"preferredSize",_p.getPreferredSize,_p.setPreferredSize);cc.defineGetterSetter(_p,"capInsets",_p.getCapInsets,_p.setCapInsets);cc.defineGetterSetter(_p,"insetLeft",_p.getInsetLeft,_p.setInsetLeft);
cc.defineGetterSetter(_p,"insetTop",_p.getInsetTop,_p.setInsetTop);cc.defineGetterSetter(_p,"insetRight",_p.getInsetRight,_p.setInsetRight);cc.defineGetterSetter(_p,"insetBottom",_p.getInsetBottom,_p.setInsetBottom);_p=null;ccui.Scale9Sprite.create=function(a,c,d){return new ccui.Scale9Sprite(a,c,d)};ccui.Scale9Sprite.createWithSpriteFrame=function(a,c){return new ccui.Scale9Sprite(a,c)};ccui.Scale9Sprite.createWithSpriteFrameName=function(a,c){return new ccui.Scale9Sprite(a,c)};
ccui.Scale9Sprite.POSITIONS_CENTRE=0;ccui.Scale9Sprite.POSITIONS_TOP=1;ccui.Scale9Sprite.POSITIONS_LEFT=2;ccui.Scale9Sprite.POSITIONS_RIGHT=3;ccui.Scale9Sprite.POSITIONS_BOTTOM=4;ccui.Scale9Sprite.POSITIONS_TOPRIGHT=5;ccui.Scale9Sprite.POSITIONS_TOPLEFT=6;ccui.Scale9Sprite.POSITIONS_BOTTOMRIGHT=7;ccui.Scale9Sprite.state={NORMAL:0,GRAY:1};(function(){if(cc.Node.WebGLRenderCmd){ccui.Scale9Sprite.WebGLRenderCmd=function(a){cc.Node.WebGLRenderCmd.call(this,a);this._cachedParent=null;this._cacheDirty=!1};var a=ccui.Scale9Sprite.WebGLRenderCmd.prototype=Object.create(cc.Node.WebGLRenderCmd.prototype);a.constructor=ccui.Scale9Sprite.WebGLRenderCmd;a.setShaderProgram=function(a){var d=this._node;if(d._scale9Enabled)for(var d=d._renderers,e=d.length,f=0;f<e;f++)d[f]&&(d[f]._renderCmd._shaderProgram=a);else d._scale9Image._renderCmd._shaderProgram=
a;this._shaderProgram=a};a.visit=function(a){var d=this._node;if(d._visible&&d._scale9Image){d._positionsAreDirty&&(d._updatePositions(),d._positionsAreDirty=!1);a=a||this.getParentRenderCmd();d._parent&&d._parent._renderCmd&&(this._curLevel=d._parent._renderCmd._curLevel+1);this._syncStatus(a);if(d._scale9Enabled)for(var d=d._renderers,e=d.length,f=0;f<e;f++){var g=d[f];if(g)g._renderCmd.visit(this);else break}else d._adjustScale9ImageScale(),d._adjustScale9ImagePosition(),d._scale9Image._renderCmd.visit(this);
this._dirtyFlag=0;this.originVisit(a)}};a.transform=function(a,d){var e=this._node;a=a||this.getParentRenderCmd();this.originTransform(a,d);e._positionsAreDirty&&(e._updatePositions(),e._positionsAreDirty=!1);if(e._scale9Enabled)for(var e=e._renderers,f=e.length,g=cc.Node._dirtyFlags,h=0;h<f;h++){var m=e[h];if(m)m._vertexZ=a._node._vertexZ,m=m._renderCmd,m.transform(this,!0),m._dirtyFlag^=m._dirtyFlag&g.transformDirty;else break}else e._adjustScale9ImageScale(),e._adjustScale9ImagePosition(),e._scale9Image._renderCmd.transform(this,
!0)};a.setDirtyFlag=function(a,d){a===cc.Node._dirtyFlags.cacheDirty&&(a=cc.Node._dirtyFlags.transformDirty);cc.Node.RenderCmd.prototype.setDirtyFlag.call(this,a,d)};a._syncStatus=function(a){cc.Node.WebGLRenderCmd.prototype._syncStatus.call(this,a);this._updateDisplayColor(this._displayedColor);this._updateDisplayOpacity(255)};a._updateDisplayColor=function(a){cc.Node.WebGLRenderCmd.prototype._updateDisplayColor.call(this,a);var d=this._node,e=d._scale9Image;a=this._displayedColor;if(d._scale9Enabled)for(d=
d._renderers,e=0;e<d.length;e++)d[e]._renderCmd._updateDisplayColor(a),d[e]._renderCmd._updateColor();else e._renderCmd._updateDisplayColor(a),e._renderCmd._updateColor()};a._updateDisplayOpacity=function(a){cc.Node.WebGLRenderCmd.prototype._updateDisplayOpacity.call(this,a);var d=this._node,e=d._scale9Image;a=this._displayedOpacity;if(d._scale9Enabled)for(d=d._renderers,e=0;e<d.length;e++)d[e]._renderCmd._updateDisplayOpacity(a),d[e]._renderCmd._updateColor();else e._renderCmd._updateDisplayOpacity(a),
e._renderCmd._updateColor()};a.setState=function(a){a===ccui.Scale9Sprite.state.NORMAL?this.setShaderProgram(cc.shaderCache.programForKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR)):a===ccui.Scale9Sprite.state.GRAY&&this.setShaderProgram(ccui.Scale9Sprite.WebGLRenderCmd._getGrayShaderProgram())};a.detachFromParent=function(a){var d=this._node;d._scale9Image&&d._scale9Image._renderCmd.detachFromParent(a);cc.Node.WebGLRenderCmd.prototype.detachFromParent.call(this,a)};ccui.Scale9Sprite.WebGLRenderCmd._grayShaderProgram=
null;ccui.Scale9Sprite.WebGLRenderCmd._getGrayShaderProgram=function(){var a=ccui.Scale9Sprite.WebGLRenderCmd._grayShaderProgram;if(a)return a;a=new cc.GLProgram;a.initWithVertexShaderByteArray(cc.SHADER_SPRITE_POSITION_TEXTURE_COLOR_VERT,ccui.Scale9Sprite.WebGLRenderCmd._grayShaderFragment);a.addAttribute(cc.ATTRIBUTE_NAME_POSITION,cc.VERTEX_ATTRIB_POSITION);a.addAttribute(cc.ATTRIBUTE_NAME_COLOR,cc.VERTEX_ATTRIB_COLOR);a.addAttribute(cc.ATTRIBUTE_NAME_TEX_COORD,cc.VERTEX_ATTRIB_TEX_COORDS);a.link();
a.updateUniforms();return ccui.Scale9Sprite.WebGLRenderCmd._grayShaderProgram=a};ccui.Scale9Sprite.WebGLRenderCmd._grayShaderFragment="precision lowp float;\nvarying vec4 v_fragmentColor; \nvarying vec2 v_texCoord; \nvoid main() \n{ \n    vec4 c \x3d texture2D(CC_Texture0, v_texCoord); \n    gl_FragColor.xyz \x3d vec3(0.2126*c.r + 0.7152*c.g + 0.0722*c.b); \n     gl_FragColor.w \x3d c.w ; \n}"}})();MainFont="Arial";MainFontSize=28;DB_FILE_NAME="game.db";DB_TABLE_SYS_DATA="sys_data";DB_TABLE_SYS_SETTING="sys_setting";DB_TABLE_FILE_MD5="files";DB_KEY_PAKAGE_MODE="package_mode";SysTableCreated=1;RES_CONFIG_FILE="config.json";EXTERNAL_RES_DIR="assets";DOWNLOAD_TMP_DIR="tmp_assets";DOWNLOAD_DIR="download";DESIGN_RES_HEIGHT=1280;DESIGN_RES_WIDTH=720;SUPPORT_RESOLUTION1=ccp(720,1280);BASIC_LOGO_FILEPATH="image/720x1280/background/bg_splash.jpg";DisplayHelper=cc.Class.extend({});var DESIGN_RES_HEIGHT=1280,DESIGN_RES_WIDTH=720;DisplayHelper.s_instance=null;DisplayHelper.sharedInstance=function(){null==this.s_instance&&(this.s_instance=new DisplayHelper);return this};
DisplayHelper.initByResolutionList=function(a){for(var c=this.getScreenSize(),d=ccp(0,0),e=0;e<a.length&&!(d=a[e],c.height<=d.height);e++);cc.view.setDesignResolutionSize(DESIGN_RES_WIDTH,DESIGN_RES_HEIGHT,cc.ResolutionPolicy.FIXED_HEIGHT);cc.director.setContentScaleFactor(d.height/DESIGN_RES_HEIGHT);return d};DisplayHelper.getScreenSize=function(){return cc.director?cc.director.getWinSize():cc.size(0,0)};
DisplayHelper.getScreenSizeStr=function(){var a=this.getScreenSize();return cc.formatStr("%dx%d",a.width,a.height)};DisplayHelper.getWindowWidth=function(){return cc.winSize.width};DisplayHelper.getWindowHeight=function(){return cc.winSize.height};DisplayHelper.getDesignHeight=function(){return DESIGN_RES_HEIGHT};DisplayHelper.getDesignWidth=function(){return DESIGN_RES_WIDTH};DisplayHelper.getWindowScale=function(){return this.getScreenSize().height/DESIGN_RES_HEIGHT};
DisplayHelper.makeNodeFullScreenScale=function(a){var c=this.getDesignHeight(),d=this.getWindowHeight(),e=a.getContentSize();a.setScaleX(c/e.width);a.setScaleY(d/e.height)};DisplayHelper.makeNodeFullScreenLetterBoxScale=function(a){var c=this.getDesignHeight(),d=this.getWindowHeight(),e=a.getContentSize(),c=c/e.width,d=d/e.height;c<d?(a.setScaleX(c),a.setScaleY(c)):(a.setScaleX(d),a.setScaleY(d))};
DisplayHelper.makeNodeFullScreenFitScale=function(a){var c=this.getDesignHeight(),d=this.getWindowHeight(),e=a.getContentSize(),c=c/e.width,d=d/e.height;c>d?(a.setScaleX(c),a.setScaleY(c)):(a.setScaleX(d),a.setScaleY(d))};Utf8String=cc.Class.extend({m_asciiStr:"",m_indexArray:[],ctor:function(a){this.initWithStr(a||"")},initWithStr:function(a){this.m_asciiStr=a;this.resetIndexArray()},resetIndexArray:function(){this.m_indexArray=[];for(var a=this.m_asciiStr,c=0,d=0;d<a.length;)c=a.charAt(d),128!=(192&c)&&this.m_indexArray.push(d),++d},length:function(){return this.m_indexArray.length},isAsciiChar:function(a){return 255>this.m_asciiStr.charCodeAt(a)},getAsciiStr:function(a){a=a||0;var c=0;this.m_indexArray.length>a&&
(c=this.m_indexArray[a]);return this.m_asciiStr.slice(c)},getAsciiChar:function(a){return this.m_asciiStr[a]},substr:function(a,c){return c&&a+c<this.m_indexArray.length?this.m_asciiStr.substr(this.m_indexArray[a],this.m_indexArray[a+c]-this.m_indexArray[a]):this.m_asciiStr.substr(this.m_indexArray[a])},getAsciiIndex:function(a){return this.m_indexArray[a]},getAsciiLength:function(){return this.m_asciiStr.length},assign:function(a){this.m_asciiStr=a;this.resetIndexArray()},append:function(a){this.m_asciiStr+=
a;this.resetIndexArray()},deleteChars:function(a){a>=this.m_asciiStr.length&&(a=this.m_asciiStr.length);this.m_asciiStr=this.m_asciiStr.slice(0,this.m_asciiStr.length-a);this.resetIndexArray()},find:function(a,c){for(var d=this.m_indexArray.length,e=c;e<d;e++)if(this.m_asciiStr[this.m_indexArray[e]]==a)return e;return-1},split:function(a){for(var c=[],d=0,e=0;0<=d;)d=this.find(a,d),0<=d&&(d!=e&&c.push(this.substr(e,d-e)),e=d+=1);c.push(this.substr(e,length()-e));return c}});
Utf8String.strLen=function(a){for(var c=0,d=0,e=0;e<a.length;)d=a.charAt(e),128!=(192&d)&&++c,++e;return c};AnimateBMFontNumber=cc.LabelBMFont.extend({m_targetNumber:0,m_currentNumber:0,m_deltaNumber:0,m_prefix:"",m_suffix:"",setNumber:function(a,c,d,e){c=null==c?1:c;d&&(this.m_prefix=d);e&&(this.m_suffix=e);this.m_targetNumber=a;0==this.m_currentNumber&&0<c&&this.setString(this.m_prefix+"0"+this.m_suffix);0>=c?(this.m_currentNumber=a,this.setString(this.m_prefix+this.m_targetNumber+this.m_suffix)):this.m_currentNumber!=this.m_targetNumber&&(this.unschedule(this.updateNumber),this.m_deltaNumber=this.m_targetNumber>
this.m_currentNumber?1+0.05*(this.m_targetNumber-this.m_currentNumber)/c:-1+0.05*(this.m_targetNumber-this.m_currentNumber)/c,this.schedule(this.updateNumber,0.05))},getNumber:function(){return this.m_targetNumber},updateNumber:function(a){this.m_currentNumber+=this.m_deltaNumber;0<this.m_deltaNumber?this.m_currentNumber>=this.m_targetNumber&&(this.m_currentNumber=this.m_targetNumber,this.unschedule(this.updateNumber)):this.m_currentNumber<=this.m_targetNumber&&(this.m_currentNumber=this.m_targetNumber,
this.unschedule(this.updateNumber));this.setString(this.m_prefix+Math.floor(this.m_currentNumber)+this.m_suffix)}});AnimateBMFontNumber.create=function(a,c){var d=new AnimateBMFontNumber;null!=a&&c?(a=""+parseInt(a),d.initWithString(a,c,cc.LABEL_AUTOMATIC_WIDTH,cc.TEXT_ALIGNMENT_LEFT,ccp(0,0))):d.init();return d};BUTTON_ZOOM_IN_SCALE=1.1;BUTTON_ZOOM_OUT_SCALE=0.85;BUTTON_DIM_COLOR=180;BUTTON_ACTION_TAG=98765;
ButtonDelegate=cc.Class.extend({m_bSelected:!1,m_bEnabled:!0,m_bTouchEnabled:!1,m_bTouchDownType:0,m_isMoveNotSwallowTouch:!1,m_bTvSelectHold:!1,m_isLongClickEnable:!1,m_longClickInterval:1,m_longClickDt:0.12,isTouchEnabled:function(){return this.m_bTouchEnabled},setTouchEnabled:function(a){this.m_bTouchEnabled=a},getTouchDownType:function(){return this.m_bTouchDownType},setTouchDownType:function(a){this.m_bTouchDownType=a},activate:function(a){},setSelected:function(a){this.m_bSelected=a},isSelected:function(){return this.m_bSelected},
isEnabled:function(){return this.m_bEnabled},setEnabled:function(a){this.m_bEnabled=a},isTvSelectHold:function(){return this.m_bTvSelectHold},setTvSelectHold:function(a){this.m_bTvSelectHold=a},setLongClickEnable:function(a){this.m_isLongClickEnable=a},setLongClickInterval:function(a){this.m_longClickInterval=a},setLongClickDt:function(a){this.m_longClickDt=a},setMoveNotSwallowTouch:function(a){this.m_isMoveNotSwallowTouch=a},selectedShow:function(a){}});BUTTON_ZOOM_IN_SCALE=1.1;BUTTON_ZOOM_OUT_SCALE=0.85;BUTTON_DIM_COLOR=180;
ButtonDelegateNode=cc.Node.extend({m_bSelected:!1,m_bEnabled:!0,m_bTouchEnabled:!1,m_bTouchDownType:0,m_isMoveNotSwallowTouch:!1,m_bTvSelectHold:!1,m_isLongClickEnable:!1,m_longClickInterval:1,m_longClickDt:0.12,isTouchEnabled:function(){return this.m_bTouchEnabled},setTouchEnabled:function(a){this.m_bTouchEnabled=a},getTouchDownType:function(){return this.m_bTouchDownType},setTouchDownType:function(a){this.m_bTouchDownType=a},activate:function(a){},setSelected:function(a){this.m_bSelected=a},isSelected:function(){return this.m_bSelected},
isEnabled:function(){return this.m_bEnabled},setEnabled:function(a,c){this.m_bEnabled=a;this.m_tips=c},isTvSelectHold:function(){return this.m_bTvSelectHold},setTvSelectHold:function(a){this.m_bTvSelectHold=a},setLongClickEnable:function(a){this.m_isLongClickEnable=a},setLongClickInterval:function(a){this.m_longClickInterval=a},setLongClickDt:function(a){this.m_longClickDt=a},setMoveNotSwallowTouch:function(a){this.m_isMoveNotSwallowTouch=a},selectedShow:function(a){}});BUTTON_ZOOM_IN_SCALE=1.1;BUTTON_ZOOM_OUT_SCALE=0.85;BUTTON_DIM_COLOR=180;
ButtonDelegateSprite=cc.Sprite.extend({m_bSelected:!1,m_bEnabled:!0,m_bTouchEnabled:!1,m_bTouchDownType:0,m_isMoveNotSwallowTouch:!1,m_bTvSelectHold:!1,m_isLongClickEnable:!1,m_longClickInterval:1,m_longClickDt:0.12,isTouchEnabled:function(){return this.m_bTouchEnabled},setTouchEnabled:function(a){this.m_bTouchEnabled=a},getTouchDownType:function(){return this.m_bTouchDownType},setTouchDownType:function(a){this.m_bTouchDownType=a},activate:function(a){},setSelected:function(a){this.m_bSelected=a},
isSelected:function(){return this.m_bSelected},isEnabled:function(){return this.m_bEnabled},setEnabled:function(a,c){this.m_bEnabled=a;this.m_tips=c},isTvSelectHold:function(){return this.m_bTvSelectHold},setTvSelectHold:function(a){this.m_bTvSelectHold=a},setLongClickEnable:function(a){this.m_isLongClickEnable=a},setLongClickInterval:function(a){this.m_longClickInterval=a},setLongClickDt:function(a){this.m_longClickDt=a},setMoveNotSwallowTouch:function(a){this.m_isMoveNotSwallowTouch=a},selectedShow:function(a){}});ButtonHelper=cc.Class.extend({});ButtonHelper.s_hasButtonTouched=!1;ButtonHelper.s_curButtonWeak=null;ButtonHelper.s_curButtonMask=null;ButtonHelper.s_tvTouchType=0;ButtonHelper.s_tvTouchColor=cc.color(255,255,255);ButtonHelper.s_isTouchDownClick=!1;ButtonHelper.s_nScriptButtonDisabledHandler=null;
ButtonHelper.moveArrowDir=function(a,c,d){var e=DisplayHelper.sharedInstance().getScreenSize(),f=ccp(0,e.height);Math.abs(c)>Math.abs(d)?(f.x=0<c?0:e.width,f.y=0.5*e.height):0<d?(f.x=0.5*e.width,f.y=0):(f.x=0.5*e.width,f.y=e.height);e=this.s_curButtonWeak;e instanceof cc.Node&&(f=e.getContentSize(),f=e.convertToWorldSpace(ccp(0.5*f.width,0.5*f.height)));if(a=CCNodeUtils.genNearestButton(a,f,c,d,this.s_curButtonWeak))this.s_curButtonWeak&&this.s_curButtonWeak.selectedShow(!1),a.selectedShow(!0),this.s_curButtonWeak=
a};ButtonHelper.s_isLocked=!1;ButtonHelper.moveArrowMotionDir=function(a,c,d){var e=Math.abs(c),f=Math.abs(d);0.25>e&&0.25>f?this.s_isLocked=!1:!this.s_isLocked&&(0.5<e||0.5<f)&&(this.moveArrowDir(a,c,d),this.s_isLocked=!0)};ButtonHelper.moveArrowTo=function(a){this.clearButtonArrow();a&&(a.selectedShow(!0),this.s_curButtonWeak=a)};ButtonHelper.clearButtonArrow=function(){this.s_curButtonWeak&&(this.s_curButtonWeak.selectedShow(!1),this.s_curButtonWeak=null)};
ButtonHelper.selectArrowButton=function(){var a=this.s_curButtonWeak;this.s_curButtonWeak&&this.s_curButtonWeak.isEnabled()&&(!a||a.isVisibleInParents())&&(a=this.s_curButtonWeak,this.s_curButtonWeak.isTvSelectHold()||(this.s_curButtonWeak.selectedShow(!1),this.s_curButtonWeak=null),a.activate("click"))};ButtonHelper.removeSelectButton=function(a){a==this.s_curButtonWeak&&(this.s_curButtonWeak=null)};
ButtonHelper.getCurSelectButton=function(){return this.s_curButtonWeak instanceof cc.Node?this.s_curButtonWeak:null};ButtonHelper.setTVTouchType=function(a){this.s_tvTouchType=a};ButtonHelper.getTVTouchType=function(){return this.s_tvTouchType};ButtonHelper.setTouchDownClick=function(a){this.s_isTouchDownClick=a};ButtonHelper.isTouchDownClick=function(){return this.s_isTouchDownClick};
ButtonHelper.setTVTouchColor=function(a,c,d){this.s_tvTouchColor.r=a;this.s_tvTouchColor.g=c;this.s_tvTouchColor.b=d};ButtonHelper.registerButtonDisabledListener=function(a){this.unregisterButtonDisabledListener();this.s_nScriptButtonDisabledHandler=a};ButtonHelper.unregisterButtonDisabledListener=function(){this.s_nScriptButtonDisabledHandler=null};ButtonHelper.notifyButtonDisabled=function(a,c){this.s_nScriptButtonDisabledHandler&&this.s_nScriptButtonDisabledHandler(c,a)};ButtonNode=ButtonDelegateNode.extend({m_nScriptTapHandler:null,m_owner:null,m_startTouchScreenPoint:ccp(0,0),m_isTouchCancel:!1,m_baseScaleX:1,m_baseScaleY:1,m_lockOtherTouch:!1,m_touchDownClickWhenTouchBegan:!1,m_isTouchDown:!1,m_isLongTouch:!1,m_touchTime:0,m_lastLongClickTime:0,ctor:function(){this._super();this.m_startTouchScreenPoint=ccp(0,0)},registerTouch:function(a,c){Utils.registerTouch(this,a,c)},unregisterTouch:function(){Utils.unregisterTouch(this)},onEnter:function(){this.m_bTouchEnabled&&
this.registerTouch(0,!this.m_isMoveNotSwallowTouch);this._super()},onExit:function(){this.m_bTouchEnabled&&this.unregisterTouch();this.m_lockOtherTouch&&(ButtonHelper.s_hasButtonTouched=this.m_lockOtherTouch=!1);this._super()},ccTouchBegan:function(a,c){if(ButtonHelper.s_hasButtonTouched)return!1;var d=this.convertTouchToNodeSpace(a);if(!this.isVisibleInParents(d))return!1;if(this.isInRect(a)){if(this.isEnabled()){if(ButtonHelper.isTouchDownClick())return this.activate("click"),this.m_touchDownClickWhenTouchBegan=
!0;this.m_touchDownClickWhenTouchBegan=!1;this.selected(!0)}ButtonHelper.s_hasButtonTouched=this.m_lockOtherTouch=!0;this.m_isTouchCancel=!1;this.m_isTouchDown=!0;this.m_startTouchScreenPoint=a.getLocationInView();return!0}},ccTouchEnded:function(a,c){this.m_isTouchDown=ButtonHelper.s_hasButtonTouched=this.m_lockOtherTouch=!1;this.m_lastLongClickTime=this.m_touchTime=0;this.m_isTouchCancel||(this.selected(!1),this.m_isLongTouch||!this.isInRect(a)||!this.isVisible()||ButtonHelper.isTouchDownClick()||
this.m_touchDownClickWhenTouchBegan||this.activate("click"));this.m_isLongTouch=!1},ccTouchCancelled:function(a,c){this.m_isLongTouch=this.m_isTouchDown=ButtonHelper.s_hasButtonTouched=this.m_lockOtherTouch=!1;this.m_lastLongClickTime=this.m_touchTime=0;this.selected(!1)},ccTouchMoved:function(a,c){if(!this.m_isTouchCancel&&!ButtonHelper.isTouchDownClick()&&!this.m_touchDownClickWhenTouchBegan&&this.m_bEnabled){var d=a.getLocationInView();this.m_isMoveNotSwallowTouch&&10<cc.pDistance(this.m_startTouchScreenPoint,
d)?(this.m_isTouchCancel=!0,this.selected(!1)):this.isEnabled()&&(this.isInRect(a)?(this.m_isTouchDown=!0,this.selected(!0)):(this.m_isTouchDown=!1,this.selected(!1)))}},initWithTarget:function(){this.ignoreAnchorPointForPosition(!1);this.setAnchorPoint(ccp(0.5,0.5));this.setSelected(!1);this.setEnabled(!0);this.setTouchEnabled(!0);this.schedule(this.tick);return!0},rect:function(){return cc.rect(this._position.x-this._contentSize.width*this._anchorPoint.x,this._position.y-this._contentSize.height*
this._anchorPoint.y,this._contentSize.width,this._contentSize.height)},isInRect:function(a){a=this.convertTouchToNodeSpace(a);var c=this.rect();c.x=0;c.y=0;return cc.rectContainsPoint(c,a)},setCallback:function(a,c){this.cancelCallback();this.m_nScriptTapHandler=a;this.m_owner=c},cancelCallback:function(){this.m_owner=this.m_nScriptTapHandler=null},getScriptTapHandler:function(){return this.m_nScriptTapHandler},setNodeScale:function(a,c){this.m_baseScaleX=a;this.m_baseScaleY=c;this.setScale(a,c)},
setTouchEnabled:function(a){this.m_bTouchEnabled!=a&&(this.m_bTouchEnabled=a,this._running&&(a?this.registerTouch(0,!this.m_isMoveNotSwallowTouch):this.unregisterTouch()))},activate:function(a){this.m_bEnabled?this.m_nScriptTapHandler&&this.m_nScriptTapHandler.call(this.m_owner,this.getTag(),this,a):this.m_tips&&ButtonHelper.notifyButtonDisabled(this,this.m_tips)},selected:function(a){a&&!this.m_bSelected?(this.m_bSelected=!0,this.stopActionByTag(BUTTON_ACTION_TAG),this.setScaleX(this.m_baseScaleX),
this.setScaleY(this.m_baseScaleY),0==this.m_bTouchDownType?(a=cc.scaleTo(0.1,this.m_baseScaleX*BUTTON_ZOOM_IN_SCALE,this.m_baseScaleY*BUTTON_ZOOM_IN_SCALE),a.setTag(BUTTON_ACTION_TAG),this.runAction(a)):1==this.m_bTouchDownType?(a=cc.scaleTo(0.1,this.m_baseScaleX*BUTTON_ZOOM_OUT_SCALE,this.m_baseScaleY*BUTTON_ZOOM_OUT_SCALE),a.setTag(BUTTON_ACTION_TAG),this.runAction(a)):2==this.m_bTouchDownType&&(a=cc.tintTo(0.1,BUTTON_DIM_COLOR,BUTTON_DIM_COLOR,BUTTON_DIM_COLOR),a.setTag(BUTTON_ACTION_TAG),this.runAction(a))):
!a&&this.m_bSelected&&(this.m_bSelected=!1,this.stopActionByTag(BUTTON_ACTION_TAG),0==this.m_bTouchDownType?(a=cc.scaleTo(0.1,this.m_baseScaleX,this.m_baseScaleY),a.setTag(BUTTON_ACTION_TAG),this.runAction(a)):1==this.m_bTouchDownType?(a=cc.scaleTo(0.1,this.m_baseScaleX,this.m_baseScaleY),a.setTag(BUTTON_ACTION_TAG),this.runAction(a)):2==this.m_bTouchDownType&&(a=cc.tintTo(0.1,255,255,255),a.setTag(BUTTON_ACTION_TAG),this.runAction(a)))},setEnabled:function(a,c){this.m_bEnabled!=a&&(a?CCNodeUtils.setShaderForNode(this,
cc.SHADER_SPRITE_POSITION_TEXTURECOLOR):CCNodeUtils.setShaderForNode(this,cc.SHADER_SPRITE_POSITION_TEXTURECOLOR_GRAY));this._super(a,c)},setMoveNotSwallowTouch:function(a){this._super(a);this.setTouchEnabled(!1);this.setTouchEnabled(!0)},selectedShow:function(a){ButtonHelper.s_curButtonMask&&ButtonHelper.s_curButtonMask.removeFromParent();this.stopActionByTag(BUTTON_ACTION_TAG);this.setScaleX(this.m_baseScaleX);this.setScaleY(this.m_baseScaleY);var c=ButtonHelper.s_tvTouchType;if(1==c){var d=ButtonHelper.s_curButtonMask;
if(null==d){var e=GetAssetsPath("bg_tv_rect.png");0<e.length&&(d=cc.Scale9Sprite.create(e))?(d.retain(),d.setAnchorPoint(ccp(0.5,0.5)),d.setZOrder(-1E3),d.setColor(ButtonHelper.s_tvTouchColor),ButtonHelper.s_curButtonMask=d):c=0}d&&a&&(e=this.getContentSize(),d.setPosition(ccp(0.5*e.width,0.5*e.height)),d.setPreferredSize(cc.size(e.width+30,e.height+30)),this.addChild(d))}else 2==c&&this.selected(a);0==c&&a&&(a=cc.scaleTo(0.4,1.2*this.m_baseScaleX,1.2*this.m_baseScaleY),c=cc.scaleTo(0.4,this.m_baseScaleX,
this.m_baseScaleY),a=cc.sequence(a,c),a=cc.repeatForever(a),a.setTag(BUTTON_ACTION_TAG),this.runAction(a))},tick:function(a){this.m_isTouchDown&&!this.m_isTouchCancel&&this.isVisible()&&(this.m_touchTime+=a,this.m_isLongClickEnable&&this.m_touchTime>=this.m_longClickInterval&&(this.m_isLongTouch=!0,this.m_touchTime-a<this.m_longClickInterval?(this.activate("lclick"),this.m_lastLongClickTime=0):(this.m_lastLongClickTime+=a,this.m_lastLongClickTime>this.m_longClickDt&&(this.m_lastLongClickTime=0,this.activate("lclick2")))))}});
ButtonNode.create=function(){var a=new ButtonNode;a.initWithTarget();return a};ButtonSprite=ButtonDelegateSprite.extend({m_nScriptTapHandler:null,m_owner:null,m_startTouchScreenPoint:ccp(0,0),m_isTouchCancel:!1,m_baseScaleX:1,m_baseScaleY:1,m_lockOtherTouch:!1,m_touchDownClickWhenTouchBegan:!1,m_isTouchDown:!1,m_isLongTouch:!1,m_touchTime:0,m_lastLongClickTime:0,ctor:function(){this._super();this.m_startTouchScreenPoint=ccp(0,0)},registerTouch:function(a,c){Utils.registerTouch(this,a,c)},unregisterTouch:function(){Utils.unregisterTouch(this)},onEnter:function(){this.m_bTouchEnabled&&
this.registerTouch(0,!this.m_isMoveNotSwallowTouch);this._super()},onExit:function(){this.m_bTouchEnabled&&this.unregisterTouch();this.m_lockOtherTouch&&(ButtonHelper.s_hasButtonTouched=this.m_lockOtherTouch=!1);this._super()},ccTouchBegan:function(a,c){if(ButtonHelper.s_hasButtonTouched)return!1;var d=this.convertTouchToNodeSpace(a);if(!this.isVisibleInParents(d))return!1;if(this.isInRect(a)){if(this.isEnabled()){if(ButtonHelper.isTouchDownClick())return this.activate("click"),this.m_touchDownClickWhenTouchBegan=
!0;this.m_touchDownClickWhenTouchBegan=!1;this.selected(!0)}ButtonHelper.s_hasButtonTouched=this.m_lockOtherTouch=!0;this.m_isTouchCancel=!1;this.m_isTouchDown=!0;this.m_startTouchScreenPoint=a.getLocationInView();return!0}},ccTouchEnded:function(a,c){this.m_isTouchDown=ButtonHelper.s_hasButtonTouched=this.m_lockOtherTouch=!1;this.m_lastLongClickTime=this.m_touchTime=0;this.m_isTouchCancel||(this.selected(!1),this.m_isLongTouch||!this.isInRect(a)||!this.isVisible()||ButtonHelper.isTouchDownClick()||
this.m_touchDownClickWhenTouchBegan||this.activate("click"));this.m_isLongTouch=!1},ccTouchCancelled:function(a,c){this.m_isLongTouch=this.m_isTouchDown=ButtonHelper.s_hasButtonTouched=this.m_lockOtherTouch=!1;this.m_lastLongClickTime=this.m_touchTime=0;this.selected(!1)},ccTouchMoved:function(a,c){if(!this.m_isTouchCancel&&!ButtonHelper.isTouchDownClick()&&!this.m_touchDownClickWhenTouchBegan&&this.m_bEnabled){var d=a.getLocationInView();this.m_isMoveNotSwallowTouch&&10<cc.pDistance(this.m_startTouchScreenPoint,
d)?(this.m_isTouchCancel=!0,this.selected(!1)):this.isEnabled()&&(this.isInRect(a)?(this.m_isTouchDown=!0,this.selected(!0)):(this.m_isTouchDown=!1,this.selected(!1)))}},initWithTarget:function(){this.ignoreAnchorPointForPosition(!1);this.setAnchorPoint(ccp(0.5,0.5));this.setSelected(!1);this.setEnabled(!0);this.setTouchEnabled(!0);this.schedule(this.tick);return!0},rect:function(){return cc.rect(this._position.x-this._contentSize.width*this._anchorPoint.x,this._position.y-this._contentSize.height*
this._anchorPoint.y,this._contentSize.width,this._contentSize.height)},isInRect:function(a){a=this.convertTouchToNodeSpace(a);var c=this.rect();c.x=0;c.y=0;return cc.rectContainsPoint(c,a)},setCallback:function(a,c){this.cancelCallback();this.m_nScriptTapHandler=a;this.m_owner=c},cancelCallback:function(){this.m_owner=this.m_nScriptTapHandler=null},getScriptTapHandler:function(){return this.m_nScriptTapHandler},setNodeScale:function(a,c){this.m_baseScaleX=a;this.m_baseScaleY=c||a;this.setScale(a,
c)},setTouchEnabled:function(a){this.m_bTouchEnabled!=a&&(this.m_bTouchEnabled=a,this._running&&(a?this.registerTouch(0,!this.m_isMoveNotSwallowTouch):this.unregisterTouch()))},activate:function(a){this.m_bEnabled?this.m_nScriptTapHandler&&this.m_nScriptTapHandler.call(this.m_owner,this.getTag(),this,a):this.m_tips&&ButtonHelper.notifyButtonDisabled(this,this.m_tips)},selected:function(a){a&&!this.m_bSelected?(this.m_bSelected=!0,this.stopActionByTag(BUTTON_ACTION_TAG),this.setScaleX(this.m_baseScaleX),
this.setScaleY(this.m_baseScaleY),0==this.m_bTouchDownType?(a=cc.scaleTo(0.1,this.m_baseScaleX*BUTTON_ZOOM_IN_SCALE,this.m_baseScaleY*BUTTON_ZOOM_IN_SCALE),a.setTag(BUTTON_ACTION_TAG),this.runAction(a)):1==this.m_bTouchDownType?(a=cc.scaleTo(0.1,this.m_baseScaleX*BUTTON_ZOOM_OUT_SCALE,this.m_baseScaleY*BUTTON_ZOOM_OUT_SCALE),a.setTag(BUTTON_ACTION_TAG),this.runAction(a)):2==this.m_bTouchDownType&&(a=cc.tintTo(0.1,BUTTON_DIM_COLOR,BUTTON_DIM_COLOR,BUTTON_DIM_COLOR),a.setTag(BUTTON_ACTION_TAG),this.runAction(a))):
!a&&this.m_bSelected&&(this.m_bSelected=!1,this.stopActionByTag(BUTTON_ACTION_TAG),0==this.m_bTouchDownType?(a=cc.scaleTo(0.1,this.m_baseScaleX,this.m_baseScaleY),a.setTag(BUTTON_ACTION_TAG),this.runAction(a)):1==this.m_bTouchDownType?(a=cc.scaleTo(0.1,this.m_baseScaleX,this.m_baseScaleY),a.setTag(BUTTON_ACTION_TAG),this.runAction(a)):2==this.m_bTouchDownType&&(a=cc.tintTo(0.1,255,255,255),a.setTag(BUTTON_ACTION_TAG),this.runAction(a)))},setEnabled:function(a,c){this.m_bEnabled!=a&&(a?this.setShaderProgramByKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR):
this.setShaderProgramByKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR_GRAY));this._super(a,c)},setMoveNotSwallowTouch:function(a){this._super(a);this.setTouchEnabled(!1);this.setTouchEnabled(!0)},selectedShow:function(a){ButtonHelper.s_curButtonMask&&ButtonHelper.s_curButtonMask.removeFromParent();this.stopActionByTag(BUTTON_ACTION_TAG);this.setScaleX(this.m_baseScaleX);this.setScaleY(this.m_baseScaleY);var c=ButtonHelper.s_tvTouchType;if(1==c){var d=ButtonHelper.s_curButtonMask;if(null==d){var e=GetAssetsPath("bg_tv_rect.png");
0<e.length&&(d=cc.Scale9Sprite.create(e))?(d.retain(),d.setAnchorPoint(ccp(0.5,0.5)),d.setZOrder(-1E3),d.setColor(ButtonHelper.s_tvTouchColor),ButtonHelper.s_curButtonMask=d):c=0}d&&a&&(e=this.getContentSize(),d.setPosition(ccp(0.5*e.width,0.5*e.height)),d.setPreferredSize(cc.size(e.width+30,e.height+30)),this.addChild(d))}else 2==c&&this.selected(a);0==c&&a&&(a=cc.scaleTo(0.4,1.2*this.m_baseScaleX,1.2*this.m_baseScaleY),c=cc.scaleTo(0.4,this.m_baseScaleX,this.m_baseScaleY),a=cc.sequence(a,c),a=cc.repeatForever(a),
a.setTag(BUTTON_ACTION_TAG),this.runAction(a))},tick:function(a){this.m_isTouchDown&&!this.m_isTouchCancel&&this.isVisible()&&(this.m_touchTime+=a,this.m_isLongClickEnable&&this.m_touchTime>=this.m_longClickInterval&&(this.m_isLongTouch=!0,this.m_touchTime-a<this.m_longClickInterval?(this.activate("lclick"),this.m_lastLongClickTime=0):(this.m_lastLongClickTime+=a,this.m_lastLongClickTime>this.m_longClickDt&&(this.m_lastLongClickTime=0,this.activate("lclick2")))))}});
ButtonSprite.create=function(){var a=new ButtonSprite;a.initWithTarget();return a};TEXT_VALUE=function(a){if(a){var c=TextTable[a];return null!=c?c:a}return a};
InputViewLoader=cc.NodeLoader.extend({_createCCNode:function(a,c){return InputView.create()},onHandlePropTypeInteger:function(a,c,d,e,f){"limit"==d?a.setLimitNum(e):this._super(a,c,d,e,f)},onHandlePropTypeIntegerLabeled:function(a,c,d,e,f){"hAlignment"==d?a.setHorizontalAlignment(e):this._super(a,c,d,e,f)},onHandlePropTypeColor3:function(a,c,d,e,f){"color"==d?(a.setColor(e),a.setCursorColor(e)):this._super(a,c,d,e,f)},onHandlePropTypeString:function(a,c,d,e,f){"placeHolder"==d?a.setPlaceHolder(TEXT_VALUE(e)):
this._super(a,c,d,e,f)},onHandlePropTypeFloatScale:function(a,c,d,e,f){"fontSize"==d?a.setFontSize(e):this._super(a,c,d,e,f)}});InputViewLoader.loader=function(){return new InputViewLoader};
MultiInputViewLoader=cc.NodeLoader.extend({_createCCNode:function(a,c){return new MultiInputView},onHandlePropTypeCheck:function(a,c,d,e,f){"canEdit"==d?a.setCanEdit(e):this._super(a,c,d,e,f)},onHandlePropTypeIntegerLabeled:function(a,c,d,e,f){"limit"==d?a.setLimitNum(e):this._super(a,c,d,e,f)},onHandlePropTypeColor3:function(a,c,d,e,f){"color"==d?(a.setColor(e),a.setCursorColor(e)):this._super(a,c,d,e,f)},onHandlePropTypeFloatScale:function(a,c,d,e,f){"fontSize"==d?a.setFontSize(e):"lineSpace"==
d?a.setLineSpace(e):this._super(a,c,d,e,f)}});MultiInputViewLoader.loader=function(){return new MultiInputViewLoader};ListSelectViewLoader=cc.NodeLoader.extend({_createCCNode:function(a,c){return ListSelectView.create()},onHandlePropTypeCheck:function(a,c,d,e,f){"moveNotSwallow"==d?a.setMoveNotSwallowTouch(e):"galleryMode"==d?a.setGalleryModeEnable(e):this._super(a,c,d,e,f)},onHandlePropTypeIntegerLabeled:function(a,c,d,e,f){"direction"==d?a.setDirection(e):this._super(a,c,d,e,f)}});
ListSelectViewLoader.loader=function(){return new ListSelectViewLoader};ListGridViewLoader=cc.NodeLoader.extend({_createCCNode:function(a,c){return ListGridView.create()},onHandlePropTypeCheck:function(a,c,d,e,f){"moveNotSwallow"==d?a.setMoveNotSwallowTouch(e):this._super(a,c,d,e,f)},onHandlePropTypeInteger:function(a,c,d,e,f){"column"==d?a.setCountPerRow(e):this._super(a,c,d,e,f)},onHandlePropTypeIntegerLabeled:function(a,c,d,e,f){"direction"==d?a.setDirection(e):this._super(a,c,d,e,f)}});
ListGridViewLoader.loader=function(){return new ListGridViewLoader};ListGridReuseViewLoader=cc.NodeLoader.extend({_createCCNode:function(a,c){return ListGridReuseView.create()},onHandlePropTypeCheck:function(a,c,d,e,f){"moveNotSwallow"==d?a.setMoveNotSwallowTouch(e):this._super(a,c,d,e,f)},onHandlePropTypeInteger:function(a,c,d,e,f){"column"==d?a.setCountPerRow(e):this._super(a,c,d,e,f)},onHandlePropTypeIntegerLabeled:function(a,c,d,e,f){"direction"==d?a.setDirection(e):this._super(a,c,d,e,f)}});
ListGridReuseViewLoader.loader=function(){return new ListGridReuseViewLoader};ListBoxViewLoader=cc.NodeLoader.extend({_createCCNode:function(a,c){return ListBoxView.create()},onHandlePropTypeCheck:function(a,c,d,e,f){"moveNotSwallow"==d?a.setMoveNotSwallowTouch(e):this._super(a,c,d,e,f)},onHandlePropTypeIntegerLabeled:function(a,c,d,e,f){"direction"==d?a.setDirection(e):this._super(a,c,d,e,f)}});ListBoxViewLoader.loader=function(){return new ListBoxViewLoader};
ListSpinViewLoader=cc.NodeLoader.extend({_createCCNode:function(a,c){return ListSpinView.create()}});ListSpinViewLoader.loader=function(){return new ListSpinViewLoader};PageViewLoader=cc.NodeLoader.extend({_createCCNode:function(a,c){return PageView.create()},onHandlePropTypeCheck:function(a,c,d,e,f){"loopScroll"==d?a.setLoopScroll(e):this._super(a,c,d,e,f)}});PageViewLoader.loader=function(){return new PageViewLoader};
MultiLabelTTFLoader=cc.NodeLoader.extend({_createCCNode:function(a,c){return MultiLabelTTF.create()},onHandlePropTypeSize:function(a,c,d,e,f){d==PROPERTY_CONTENTSIZE?a.setDimensionWidth(e.width):this._super(a,c,d,e,f)},onHandlePropTypeCheck:function(a,c,d,e,f){"scaleFit"==d?(c=1,e&&(c=cc.BuilderReader.getResolutionScale()),a.setFontScale(c)):this._super(a,c,d,e,f)}});MultiLabelTTFLoader.loader=function(){return new MultiLabelTTFLoader};
ProgressBarLoader=cc.Scale9SpriteLoader.extend({_createCCNode:function(a,c){return ProgressBar.create()},onHandlePropTypeSize:function(a,c,d,e,f){"preferedSize"==d?a.setMaxPreferSize(e):this._super(a,c,d,e,f)},onHandlePropTypeFloat:function(a,c,d,e,f){"percent"==d?a.setPercentage(e):this._super(a,c,d,e,f)}});ProgressBarLoader.loader=function(){return new ProgressBarLoader};
ScrollBarLoader=cc.NodeLoader.extend({_createCCNode:function(a,c){return ScrollBar.create()},onHandlePropTypeSpriteFrame:function(a,c,d,e,f){"sprite"==d?null!=e&&a.setSpriteFrame(e):this._super(a,c,d,e,f)}});ScrollBarLoader.loader=function(){return new ScrollBarLoader};
TurnCardViewLoader=cc.NodeLoader.extend({_createCCNode:function(a,c){return new TurnCardView},onHandlePropTypeSpriteFrame:function(a,c,d,e,f){"inCardSpriteFrame"==d?null!=e&&a.setInCardSpriteFrame(e):"outCardSpriteFrame"==d?null!=e&&a.setOutCardSpriteFrame(e):this._super(a,c,d,e,f)},onHandlePropTypeFloat:function(a,c,d,e,f){"duration"==d?a.setDuration(e):this._super(a,c,d,e,f)}});TurnCardViewLoader.loader=function(){return new TurnCardViewLoader};
SimpleButtonLoader=cc.NodeLoader.extend({_createCCNode:function(a,c){return SimpleButton.create()},onHandlePropTypeBlock:function(a,c,d,e,f){"block"==d?null!=e&&a.setTarget(e.mTarget,e.mSELMenuHandler):this._super(a,c,d,e,f)},onHandlePropTypeCheck:function(a,c,d,e,f){"isEnabled"==d?a.setEnabled(e):"moveNotSwallow"==d?a.setMoveNotSwallowTouch(e):"tvSelectHold"==d?a.setTvSelectHold(e):"longClick"==d?a.setLongClickEnable(e):this._super(a,c,d,e,f)},onHandlePropTypeSpriteFrame:function(a,c,d,e,f){"normalSpriteFrame"==
d?null!=e&&a.setNormalSpriteFrame(e):"selectedSpriteFrame"==d?null!=e&&a.setSelectedSpriteFrame(e):this._super(a,c,d,e,f)},onHandlePropTypeScaleLock:function(a,c,d,e,f){"scale"==d?a.setNodeScale(e[0],e[1]):this._super(a,c,d,e,f)},onHandlePropTypeFloatScale:function(a,c,d,e,f){"fontSize"==d?a.setFontSize(e):this._super(a,c,d,e,f)},onHandlePropTypeText:function(a,c,d,e,f){"string"==d?a.setString(TEXT_VALUE(e)):this._super(a,c,d,e,f)},onHandlePropTypeColor3:function(a,c,d,e,f){"color"==d?a.setFontColor(e):
this._super(a,c,d,e,f)},onHandlePropTypeFlip:function(a,c,d,e,f){"flip"==d?(a.setFlipX(e[0]),a.setFlipY(e[1])):this._super(a,c,d,e,f)},onHandlePropTypeByte:function(a,c,d,e,f){"opacity"==d?a.setOpacity(e):this._super(a,c,d,e,f)},onHandlePropTypeIntegerLabeled:function(a,c,d,e,f){"touchDownType"==d?a.setTouchDownType(e):this._super(a,c,d,e,f)}});SimpleButtonLoader.loader=function(){return new SimpleButtonLoader};
ButtonNodeLoader=cc.NodeLoader.extend({_createCCNode:function(a,c){return ButtonNode.create()},onHandlePropTypeBlock:function(a,c,d,e,f){"block"==d?null!=e&&a.setTarget(e.mTarget,e.mSELMenuHandler):this._super(a,c,d,e,f)},onHandlePropTypeCheck:function(a,c,d,e,f){"isEnabled"==d?a.setEnabled(e):"moveNotSwallow"==d?a.setMoveNotSwallowTouch(e):"touchEnabled"==d?a.setTouchEnabled(e):"tvSelectHold"==d?a.setTvSelectHold(e):"longClick"==d?a.setLongClickEnable(e):this._super(a,c,d,e,f)},onHandlePropTypeScaleLock:function(a,
c,d,e,f){"scale"==d?a.setNodeScale(e[0],e[1]):this._super(a,c,d,e,f)},onHandlePropTypeByte:function(a,c,d,e,f){"opacity"==d?a.setOpacity(e):this._super(a,c,d,e,f)},onHandlePropTypeIntegerLabeled:function(a,c,d,e,f){"touchDownType"==d?a.setTouchDownType(e):this._super(a,c,d,e,f)},onHandlePropTypeColor3:function(a,c,d,e,f){"color"==d?a.setColor(e):this._super(a,c,d,e,f)}});ButtonNodeLoader.loader=function(){return new ButtonNodeLoader};
ButtonSpriteLoader=cc.SpriteLoader.extend({_createCCNode:function(a,c){return ButtonSprite.create()},onHandlePropTypeBlock:function(a,c,d,e,f){"block"==d?null!=e&&a.setTarget(e.mTarget,e.mSELMenuHandler):this._super(a,c,d,e,f)},onHandlePropTypeCheck:function(a,c,d,e,f){"isEnabled"==d?a.setEnabled(e):"moveNotSwallow"==d?a.setMoveNotSwallowTouch(e):"touchEnabled"==d?a.setTouchEnabled(e):"tvSelectHold"==d?a.setTvSelectHold(e):"longClick"==d?a.setLongClickEnable(e):this._super(a,c,d,e,f)},onHandlePropTypeScaleLock:function(a,
c,d,e,f){"scale"==d?a.setNodeScale(e[0],e[1]):this._super(a,c,d,e,f)},onHandlePropTypeIntegerLabeled:function(a,c,d,e,f){"touchDownType"==d?a.setTouchDownType(e):this._super(a,c,d,e,f)}});ButtonSpriteLoader.loader=function(){return new ButtonSpriteLoader};
SwitchButtonSpriteLoader=cc.NodeLoader.extend({_createCCNode:function(a,c){return SwitchButtonSprite.create()},onHandlePropTypeBlock:function(a,c,d,e,f){"block"==d?null!=e&&a.setTarget(e.mTarget,e.mSELMenuHandler):this._super(a,c,d,e,f)},onHandlePropTypeCheck:function(a,c,d,e,f){"isEnabled"==d?a.setEnabled(e):"moveNotSwallow"==d?a.setMoveNotSwallowTouch(e):"tvSelectHold"==d?a.setTvSelectHold(e):this._super(a,c,d,e,f)},onHandlePropTypeSpriteFrame:function(a,c,d,e,f){"normalSpriteFrame"==d?null!=e&&
a.setNormalSpriteFrame(e):"selectedSpriteFrame"==d?null!=e&&a.setSelectedSpriteFrame(e):this._super(a,c,d,e,f)},onHandlePropTypeIntegerLabeled:function(a,c,d,e,f){"touchDownType"==d?a.setTouchDownType(e):this._super(a,c,d,e,f)},onHandlePropTypeColor3:function(a,c,d,e,f){"color"==d?a.setColor(e):this._super(a,c,d,e,f)},onHandlePropTypeFlip:function(a,c,d,e,f){"flip"==d?(a.setFlipX(e[0]),a.setFlipY(e[1])):this._super(a,c,d,e,f)},onHandlePropTypeScaleLock:function(a,c,d,e,f){"scale"==d?a.setNodeScale(e[0],
e[1]):this._super(a,c,d,e,f)},onHandlePropTypeByte:function(a,c,d,e,f){"opacity"==d?a.setOpacity(e):this._super(a,c,d,e,f)}});SwitchButtonSpriteLoader.loader=function(){return new SwitchButtonSpriteLoader};
UrlCachedSpriteLoader=cc.SpriteLoader.extend({_createCCNode:function(a,c){return UrlCachedSprite.create()},onHandlePropTypeScaleLock:function(a,c,d,e,f){"scale"==d?(a.setScale(e[0],e[1]),a.setOriginContentSize(a.getContentWidth()*a.getScaleX(),a.getContentHeight()*a.getScaleY())):this._super(a,c,d,e,f)}});UrlCachedSpriteLoader.loader=function(){return new UrlCachedSpriteLoader};
SkeletonAnimationLoader=cc.NodeLoader.extend({_createCCNode:function(a,c){return new sp.SkeletonAnimation},onHandlePropTypeFilterFile:function(a,c,d,e,f){"jsonFile"==d?this.m_lastJsonFile=GetAssetsPath(e):"animName"==d?e&&"\x00"!=e[0]&&a.setAnimation(0,e,!0):this._super(a,c,d,e,f)},onHandlePropTypeString:function(a,c,d,e,f){"atlasFile"==d?(c=GetAssetsPath(e),0<this.m_lastJsonFile.length&&0<c.length&&a.initWithArgs(this.m_lastJsonFile,c,1),this.m_lastJsonFile=""):this._super(a,c,d,e,f)},onHandlePropTypeFloat:function(a,
c,d,e,f){if("timeScale"==d)a.setTimeScale(e);else CCNodeLoader.onHandlePropTypeFloat(a,c,d,e,f)},m_lastJsonFile:""});SkeletonAnimationLoader.loader=function(){return new SkeletonAnimationLoader};
TMXTiledMapLoader=cc.NodeLoader.extend({_createCCNode:function(a,c){return new CCTMXTiledMap},onHandlePropTypeTexture:function(a,c,d,e,f){"texture"==d?null!=e&&(c=e.getUserDataStr(),d=c.search(".png"),0<=d?(c.replace(".png",".tmx"),a.initWithTMXFile(c)):(d=c.find(".jpg"),0<=d&&(c.replace(".png",".tmx"),a.initWithTMXFile(c)))):this._super(a,c,d,e,f)}});TMXTiledMapLoader.loader=function(){return new TMXTiledMapLoader};
AnimateBMFontNumberLoader=cc.LabelBMFontLoader.extend({_createCCNode:function(a,c){return AnimateBMFontNumber.create()},onHandlePropTypeText:function(a,c,d,e,f){"string"==d?(""==e&&(e=0),a.setNumber(parseInt(e))):this._super(a,c,d,e,f)}});AnimateBMFontNumberLoader.loader=function(){return new AnimateBMFontNumberLoader};
FrameAnimSpriteLoader=cc.SpriteLoader.extend({_createCCNode:function(a,c){return new FrameAnimSprite},onHandlePropTypeSpriteFrame:function(a,c,d,e,f){"displayFrame"==d?null!=e&&a.initWithPlistName(null,e.getUserDataStr()):this._super(a,c,d,e,f)},onHandlePropTypeFloat:function(a,c,d,e,f){"secondsPerFrame"==d?a.setSecPerFrame(e):this._super(a,c,d,e,f)}});FrameAnimSpriteLoader.loader=function(){return new FrameAnimSpriteLoader};
CCSpriteBatchNodeLoader=cc.NodeLoader.extend({_createCCNode:function(a,c){return cc.SpriteBatchNode.create()},onHandlePropTypeTexture:function(a,c,d,e,f){"texture"==d?null!=e&&a.setTexture(e):this._super(a,c,d,e,f)}});CCSpriteBatchNodeLoader.loader=function(){return new CCSpriteBatchNodeLoader};SkeletonBatchNodeLoader=cc.NodeLoader.extend({_createCCNode:function(a,c){return new cc.Node}});SkeletonBatchNodeLoader.loader=function(){return new SkeletonBatchNodeLoader};
CCProgressTimerLoader=cc.NodeLoader.extend({_createCCNode:function(a,c){return cc.ProgressTimer.create()},onHandlePropTypeSpriteFrame:function(a,c,d,e,f){"displayFrame"==d?null!=e&&(c=cc.Sprite.createWithSpriteFrame(e),c.setContentSize(a.getContentSize()),a.setSprite(c)):this._super(a,c,d,e,f)},onHandlePropTypeFlip:function(a,c,d,e,f){"flip"==d?(a.getSprite().setFlipX(e[0]),a.getSprite().setFlipY(e[1])):this._super(a,c,d,e,f)},onHandlePropTypeColor3:function(a,c,d,e,f){"color"==d?a.setColor(e):this._super(a,
c,d,e,f)},onHandlePropTypeByte:function(a,c,d,e,f){"opacity"==d?a.setOpacity(e):this._super(a,c,d,e,f)},onHandlePropTypeBlendFunc:function(a,c,d,e,f){"blendFunc"==d?a.getSprite().setBlendFunc(e):this._super(a,c,d,e,f)},onHandlePropTypeInteger:function(a,c,d,e,f){"timerType"==d?a.setType(e):this._super(a,c,d,e,f)},onHandlePropTypeFloatXY:function(a,c,d,e,f){"midPoint"==d?a.setMidpoint(ccp(e[0],e[1])):"changeRate"==d?a.setBarChangeRate(ccp(e[0],e[1])):this._super(a,c,d,e,f)},onHandlePropTypeCheck:function(a,
c,d,e,f){"reverseDirection"==d?a.setReverseDirection(e):this._super(a,c,d,e,f)}});CCProgressTimerLoader.loader=function(){return new CCProgressTimerLoader};
CCClippingNodeLoader=cc.NodeLoader.extend({_createCCNode:function(a,c){return cc.ClippingNode.create()},onHandlePropTypeCCBFile:function(a,c,d,e,f){"stencil"==d?a.setStencil(e):this._super(a,c,d,e,f)},onHandlePropTypeCheck:function(a,c,d,e,f){"inverted"==d?a.setInverted(e):this._super(a,c,d,e,f)},onHandlePropTypeFloat:function(a,c,d,e,f){"alphaThreshold"==d?a.setAlphaThreshold(e):this._super(a,c,d,e,f)}});CCClippingNodeLoader.loader=function(){return new CCClippingNodeLoader};
ShortLabelLoader=cc.LabelTTFLoader.extend({_createCCNode:function(a,c){return new ShortLabel}});ShortLabelLoader.loader=function(){return new ShortLabelLoader};
AutoScrollViewLoader=cc.NodeLoader.extend({_createCCNode:function(a,c){return new AutoScrollView},onHandlePropTypeCCBFile:function(a,c,d,e,f){"container"==d?a.setContainer(e):this._super(a,c,d,e,f)},onHandlePropTypeCheck:function(a,c,d,e,f){"touchScroll"==d?a.setEnableTouchScroll(e):this._super(a,c,d,e,f)},onHandlePropTypeIntegerLabeled:function(a,c,d,e,f){"direction"==d?a.setDirection(e):this._super(a,c,d,e,f)},onHandlePropTypeFloat:function(a,c,d,e,f){"speed"==d?a.setSpeed(e):this._super(a,c,d,
e,f)}});AutoScrollViewLoader.loader=function(){return new AutoScrollViewLoader};ClipScrollViewLoader=cc.NodeLoader.extend({_createCCNode:function(a,c){return ClipScrollView.create()},onHandlePropTypeCCBFile:function(a,c,d,e,f){"container"==d?a.setContainer(e):this._super(a,c,d,e,f)},onHandlePropTypeIntegerLabeled:function(a,c,d,e,f){"direction"==d?a.setDirection(e):this._super(a,c,d,e,f)}});ClipScrollViewLoader.loader=function(){return new ClipScrollViewLoader};
LoopScrollViewLoader=ClipScrollViewLoader.extend({_createCCNode:function(a,c){return LoopScrollView.create()}});LoopScrollViewLoader.loader=function(){return new LoopScrollViewLoader};ClipViewLoader=cc.NodeLoader.extend({_createCCNode:function(a,c){return ClipView.create()}});ClipViewLoader.loader=function(){return new ClipViewLoader};
LayoutNodeLoader=cc.NodeLoader.extend({_createCCNode:function(a,c){return LayoutNode.create()},onHandlePropTypeIntegerLabeled:function(a,c,d,e,f){"layoutType"==d?a.setLayoutType(e):this._super(a,c,d,e,f)}});LayoutNodeLoader.loader=function(){return new LayoutNodeLoader};
PhysicsWorldLoader=cc.LayerLoader.extend({_createCCNode:function(a,c){return new cc.Layer},onHandlePropTypeFloatXY:function(a,c,d,e,f){"gravity"!=d&&this._super(a,c,d,e,f)},onHandlePropTypeFloat:function(a,c,d,e,f){"ptmRatio"!=d&&this._super(a,c,d,e,f)},onHandlePropTypeCheck:function(a,c,d,e,f){"allowSleep"!=d&&"debugMode"!=d&&this._super(a,c,d,e,f)}});PhysicsWorldLoader.loader=function(){return new PhysicsWorldLoader};
PhysicsSpriteLoader=cc.SpriteLoader.extend({_createCCNode:function(a,c){return new cc.Sprite},onHandlePropTypeString:function(a,c,d,e,f){"shapeName"!=d&&this._super(a,c,d,e,f)},onHandlePropTypeByte:function(a,c,d,e,f){"bodyType"!=d&&this._super(a,c,d,e,f)},onHandlePropTypeCheck:function(a,c,d,e,f){"bullet"!=d&&this._super(a,c,d,e,f)}});PhysicsSpriteLoader.loader=function(){return new PhysicsSpriteLoader};CCBUILoaderHelper=cc.Class.extend({});GetAssetsPath=function(a){return cc.BuilderReader.getResourcePath()+a};GetLanAssetsPath=function(a){return cc.BuilderReader.getResourcePath()+ResourcesManager.getLocalizedFilePathByFileName(a)};GetLanSpriteFrame=function(a){return ResourcesManager.getLocalizedSpriteFrameName(a)};
CCBUILoaderHelper.initCCBLoaders=function(){var a=cc.NodeLoaderLibrary.sharedCCNodeLoaderLibrary();a.registerCCNodeLoader("InputView",InputViewLoader.loader());a.registerCCNodeLoader("ListSelectView",ListSelectViewLoader.loader());a.registerCCNodeLoader("ListGridView",ListGridViewLoader.loader());a.registerCCNodeLoader("ListGridReuseView",ListGridReuseViewLoader.loader());a.registerCCNodeLoader("ListBoxView",ListBoxViewLoader.loader());a.registerCCNodeLoader("ListSpinView",ListSpinViewLoader.loader());
a.registerCCNodeLoader("PageView",PageViewLoader.loader());a.registerCCNodeLoader("MultiLabelTTF",MultiLabelTTFLoader.loader());a.registerCCNodeLoader("ProgressBar",ProgressBarLoader.loader());a.registerCCNodeLoader("ScrollBar",ScrollBarLoader.loader());a.registerCCNodeLoader("SimpleButton",SimpleButtonLoader.loader());a.registerCCNodeLoader("ButtonNode",ButtonNodeLoader.loader());a.registerCCNodeLoader("ButtonSprite",ButtonSpriteLoader.loader());a.registerCCNodeLoader("SwitchButtonSprite",SwitchButtonSpriteLoader.loader());
a.registerCCNodeLoader("UrlCachedSprite",UrlCachedSpriteLoader.loader());a.registerCCNodeLoader("SkeletonAnimation",SkeletonAnimationLoader.loader());a.registerCCNodeLoader("SkeletonBatchNode",SkeletonBatchNodeLoader.loader());a.registerCCNodeLoader("AnimateBMFontNumber",AnimateBMFontNumberLoader.loader());a.registerCCNodeLoader("CESpriteBatchNode",CCSpriteBatchNodeLoader.loader());a.registerCCNodeLoader("CEProgressTimer",CCProgressTimerLoader.loader());a.registerCCNodeLoader("CEClippingNode",CCClippingNodeLoader.loader());
a.registerCCNodeLoader("ShortLabel",ShortLabelLoader.loader());a.registerCCNodeLoader("ClipScrollView",ClipScrollViewLoader.loader());a.registerCCNodeLoader("LoopScrollView",LoopScrollViewLoader.loader());a.registerCCNodeLoader("ClipView",ClipViewLoader.loader());a.registerCCNodeLoader("LayoutNode",LayoutNodeLoader.loader());a.registerCCNodeLoader("PhysicsSprite",PhysicsSpriteLoader.loader());a.registerCCNodeLoader("PhysicsWorld",PhysicsWorldLoader.loader())};CCBUILoaderHelper.getNodeTypeName=function(a){return"CCNode"};ClipView=cc.Node.extend({m_nodeVisibleDeep:0,m_gapWidth:0,m_gapHeight:0,_clippingToBounds:!0,_tmpViewRect:null,_parentScissorRect:null,_scissorRestored:!1,ctor:function(){this._super();this._tmpViewRect=new cc.Rect(0,0,0,0);this._parentScissorRect=new cc.Rect(0,0,0,0)},init:function(){this.scheduleUpdate()},update:function(a){a=this._getViewRect();this.updateNodeVisible(ccp(a.x,a.y),ccp(a.x+a.width,a.y+a.height))},setGapWidth:function(a){this.m_gapWidth=a},getGapWidth:function(){return this.m_gapWidth},
setGapHeight:function(a){this.m_gapHeight=a},getGapHeight:function(){return this.m_gapHeight},setNodeVisibleDeep:function(a){this.m_nodeVisibleDeep=a},getNodeVisibleDeep:function(){return this.m_nodeVisibleDeep},isVisibleInParents:function(a){return a&&(0>a.x||a.x>this._contentSize.width||0>a.y||a.y>this._contentSize.height)?!1:this._super(a)},visit:function(){this._visible&&this._super()},updateNodeVisible:function(a,c){this.makeNodeVisible(this,a,c,1)},makeNodeVisible:function(a,c,d,e){if(0<=this.m_nodeVisibleDeep&&
e>this.m_nodeVisibleDeep)return!1;var f=!1;a=a.getChildren();for(var g=0;g<a.length;++g){var h=a[g],m=h.getContentSize(),n=h.convertToWorldSpace(ccp(0,0)),r=h.convertToWorldSpace(ccp(m.width,m.height)),m=!1;h instanceof ClipView||(m=this.makeNodeVisible(h,c,d,e+1));var s=n.x,n=n.y,t=r.x,r=r.y;if(s>t)var u=s,s=t,t=u;n>r&&(u=n,n=r,r=u);(r<c.y-this.m_gapHeight||n>d.y+this.m_gapHeight||t<c.x-this.m_gapWidth||s>d.x+this.m_gapWidth)&&!m?h.isVisible()&&(m=h.isOriVisible(),h.setVisible(!1),h.setOriVisible(m)):
(f=h.isOriVisible(),f!=h.isVisible()&&h.setVisible(f),f=!0)}return f},_createRenderCmd:function(){return cc._renderType===cc.game.RENDER_TYPE_CANVAS?new cw.ClipViewCanvasRenderCmd(this):new cw.ClipViewWebGLRenderCmd(this)},_getViewRect:function(){for(var a=this.convertToWorldSpace(cc.p(0,0)),c=this._contentSize,d=this.getScaleX(),e=this.getScaleY(),f=this._parent;null!=f;f=f.getParent())d*=f.getScaleX(),e*=f.getScaleY();0>d&&(a.x+=c.width*d,d=-d);0>e&&(a.y+=c.height*e,e=-e);f=this._tmpViewRect;f.x=
a.x;f.y=a.y;f.width=c.width*d;f.height=c.height*e;return f}});ClipView.create=function(){return new ClipView};(function(){cw.ClipViewWebGLRenderCmd=function(a){cc.Node.WebGLRenderCmd.call(this,a);this._needDraw=!1;this.startCmd=new cc.CustomRenderCmd(this,this._startCmd);this.endCmd=new cc.CustomRenderCmd(this,this._endCmd)};var a=cw.ClipViewWebGLRenderCmd.prototype=Object.create(cc.Node.WebGLRenderCmd.prototype);a.constructor=cw.ClipViewWebGLRenderCmd;a._startCmd=function(){var a=this._node,d=cc.view,e=a._getViewRect();if(d.isScissorEnabled()){if(a._scissorRestored=!0,a._parentScissorRect=d.getScissorRect(),
cc.rectIntersectsRect(e,a._parentScissorRect)){var f=a._parentScissorRect,g=Math.max(e.x,f.x),h=Math.max(e.y,f.y),m=Math.min(e.x+e.width,f.x+f.width),e=Math.min(e.y+e.height,f.y+f.height);0>m-g&&cc.error(a);d.setScissorInPoints(g,h,m-g,e-h)}}else a=cc._renderContext,a.enable(a.SCISSOR_TEST),d.setScissorInPoints(e.x,e.y,e.width,e.height)};a._endCmd=function(){var a=this._node;a._scissorRestored?(a=a._parentScissorRect,cc.view.setScissorInPoints(a.x,a.y,a.width,a.height)):(a=cc._renderContext,a.disable(a.SCISSOR_TEST))};
a.visit=function(a){var d=this._node;if(d._visible){var e=d._children,f,g;this._syncStatus(a);d._clippingToBounds&&cc.renderer.pushRenderCommand(this.startCmd);if(e&&0<e.length){g=e.length;for(a=0;a<g;a++)if((f=e[a])&&0>f._localZOrder)f._renderCmd.visit(this);else break;for(;a<g;a++)e[a]._renderCmd.visit(this)}d._clippingToBounds&&cc.renderer.pushRenderCommand(this.endCmd);this._dirtyFlag=0}}})();TextFieldTTF=cc.TextFieldTTF.extend({keyboardWillHide:function(a){this.canDetachWithIME()}});TextFieldTTF.textFieldWithPlaceHolder=function(a,c,d){var e=new TextFieldTTF;return e&&e.initWithString("",c,d)?(a&&e.setPlaceHolder(a),e):null};
InputView=cc.Node.extend({m_string:"",ccTextFieldTTF:null,m_hAlignment:null,m_isPassword:!1,m_keyboardType:0,m_scriptHandler:null,m_owner:null,m_isShowKeyboard:!1,m_pCursorSprite:!1,m_isTouchEnabled:!0,ctor:function(){this._super();this.ccTextFieldTTF=this.m_pCursorSprite=null;this.clickSize=cc.size(0,0);this.m_scriptHandler=null;this.m_isPassword=!1;this.m_keyboardType=0;this.m_hAlignment=cc.TEXT_ALIGNMENT_LEFT;this.m_isShowKeyboard=!1;this.m_isTouchEnabled=!0;this.ignoreWidthLimit=!1},setString:function(a){this.m_string=
a;this.m_isPassword?this.ccTextFieldTTF.setString("*"):this.ccTextFieldTTF.setString(a);this.m_pCursorSprite&&this.setCursorPosition()},getString:function(){return this.m_string},setPlaceHolder:function(a){this.ccTextFieldTTF.setPlaceHolder(a)},setPlaceHolderColor:function(a){this.ccTextFieldTTF.setColorSpaceHolder(a)},getPlaceHolder:function(){return this.ccTextFieldTTF.getPlaceHolder()},setColor:function(a){this.ccTextFieldTTF.setTextColor(a)},setFontSize:function(a){this.ccTextFieldTTF.setFontSize(a);
this.m_pCursorSprite&&this.m_pCursorSprite.setScale(a/this.m_pCursorSprite.getContentSize().height)},setClickSize:function(a){this.clickSize=a},getClickSize:function(){return this.clickSize},setEnabled:function(a){this.m_isTouchEnabled=a},setLimitNum:function(a){this.limitNum=a},getLimitNum:function(){return this.limitNum},initCursorSprite:function(a){for(var c=[],d=0;d<2*a;d++)c[d]=4294967295;d=new cc.Texture2D;a=cc.size(2,a);d.initWithData(new Uint8Array(c),cc.Texture2D.PIXEL_FORMAT_RGBA8888,2,
2,cc.sizePointsToPixels(a));this.m_pCursorSprite=cc.Sprite.createWithTexture(d);this.m_pCursorSprite.setVisible(!1);this.m_pCursorSprite.setAnchorPoint(ccp(0,0.5));this.m_pCursorSprite.setPosition(ccp(0,this.clickSize.height/2));this.addChild(this.m_pCursorSprite);this.m_pCursorSprite.runAction(cc.repeatForever(cc.sequence(cc.fadeOut(0.4),cc.fadeIn(0.4))))},ccTouchBegan:function(a,c){if(!this.isVisibleInParents(ccp(0,0)))return!1;if(this.isInTextField(a)&&this.m_isTouchEnabled)return!0;this.m_pCursorSprite.isVisible()&&
this.detachWithIME();return!1},ccTouchEnded:function(a,c){this.isInTextField(a)&&(this.m_isShowKeyboard?this.detachWithIME():this.attachWithIME())},ccTouchCancelled:function(a,c){ButtonHelper.s_hasButtonTouched=!1;this.detachWithIME()},isInTextField:function(a){a=this.convertTouchToNodeSpace(a);var c=cc.rect(0,0,this.clickSize.width,this.clickSize.height);return cc.rectContainsPoint(c,a)},onTextFieldAttachWithIME:function(a){this.setCursorPosition();this.m_pCursorSprite.setVisible(!0);this.m_isShowKeyboard||
(this.m_isShowKeyboard=!0,this.callbackEvent("attach"));return!1},onTextFieldDetachWithIME:function(a){this.m_pCursorSprite.setVisible(!1);this.m_isShowKeyboard&&(this.m_isShowKeyboard=!1,this.callbackEvent("detach"));return!1},onTextFieldInsertText:function(a,c,d){if(1==this.m_keyboardType){if(Utf8String.strLen(c)!=d)return this.detachWithIME(),this.m_isShowKeyboard=!1,this.callbackEvent("error"),!0}else if(2==this.m_keyboardType)for(var e=0;e<d;e++)if("0">c[e]||"9"<c[e])return this.detachWithIME(),
this.m_isShowKeyboard=!1,this.callbackEvent("error"),!0;d=c;if(this.m_string.length+d.length>this.limitNum||!this.ignoreWidthLimit&&this.ccTextFieldTTF.getContentWidth()>this.getContentWidth())return this.detachWithIME(),!0;e=d.indexOf("\n");if(0<=e)return 0!=e&&(d=d.replace("\n",""),this.m_string+=d,InputView.setStringWithLimitWidth(a,this.m_string,this.getContentSize().width)),this.detachWithIME(),!0;this.m_string+=c;this.m_isPassword?InputView.setStringWithLimitWidth(a,"*",this.getContentSize().width):
InputView.setStringWithLimitWidth(a,this.m_string,this.getContentSize().width);this.setCursorPosition();return!0},onTextFieldDeleteBackward:function(a,c,d){this.m_string=this.m_string.length>d?this.m_string.substr(0,this.m_string.length-d):"";this.m_isPassword?InputView.setStringWithLimitWidth(a,"*",this.getContentSize().width):InputView.setStringWithLimitWidth(a,this.m_string,this.getContentSize().width);this.setCursorPosition();return!0},onEnter:function(){this.m_isTouchEnabled&&Utils.registerTouch(this,
-1,!0);this._super()},onExit:function(){Utils.unregisterTouch(this);this._super();this.detachWithIME()},setContentSize:function(a){this.clickSize=a;this._super(a);this.ccTextFieldTTF.setDimensions(cc.size(0,0));this.ccTextFieldTTF.setPosition(ccp(0,this.clickSize.height/2));this.m_pCursorSprite.setPosition(ccp(0,this.clickSize.height/2));this.setCursorPosition()},setHandlerPriority:function(a){this.touchListener&&cc.eventManager.setPriority(this.touchListener,a)},setCursorColor:function(a){this.m_pCursorSprite.setColor(a)},
setCursorPosition:function(){var a=0;0<this.ccTextFieldTTF.getString().length&&(a=this.ccTextFieldTTF.getContentSize().width);var c=0;this.m_hAlignment==cc.TEXT_ALIGNMENT_CENTER?c=0.5*(this.getContentSize().width-a):this.m_hAlignment==cc.TEXT_ALIGNMENT_RIGHT&&(c=this.getContentSize().width-a);this.m_pCursorSprite.setPositionX(c+a);this.ccTextFieldTTF.setPositionX(c)},attachWithIME:function(){this.m_isShowKeyboard||(this.m_hAlignment!=cc.TEXT_ALIGNMENT_LEFT&&this.ccTextFieldTTF.setPlaceHolder(""),
cc.sys.isNotPrompt?NumberInputController.show({listener:handler(this,this.onChangedByNumberInput),text:this.m_string,limitNum:this.limitNum,event:handler(this,this.callbackEvent)}):this.ccTextFieldTTF&&this.ccTextFieldTTF.attachWithIME())},detachWithIME:function(){cc.sys.isNotPrompt?NumberInputController.back():this.ccTextFieldTTF&&this.ccTextFieldTTF.detachWithIME()},onChangedByNumberInput:function(a){if(a.length>this.m_string.length)this.onTextFieldInsertText(this,a.substr(this.m_string.length),
a.length-this.m_string.length);else if(a.length<this.m_string.length)this.onTextFieldDeleteBackward(this,this.m_string.substr(a.length),this.m_string.length-a.length)},registerScriptHandler:function(a,c){this.m_scriptHandler=a;this.m_owner=c},unregisterScriptHandler:function(){this.m_owner=this.m_scriptHandler=null},setPassword:function(a){this.m_isPassword=a;0==this.m_keyboardType&&(this.m_keyboardType=1)},isPassword:function(){return this.m_isPassword},setKeyboardType:function(a){this.m_keyboardType=
a},getKeyboardType:function(){return this.m_keyboardType},getHorizontalAlignment:function(){return this.m_hAlignment},setHorizontalAlignment:function(a){this.m_hAlignment=a},callbackEvent:function(a){this.m_scriptHandler&&this.m_scriptHandler.call(this.m_owner,a)}});
InputView.create=function(a,c,d,e){a=a||"";c=c||MainFont;d=d||MainFontSize;e=e||16;var f=new InputView;f.limitNum=e;f.ccTextFieldTTF=TextFieldTTF.textFieldWithPlaceHolder("",c,d);f.m_string=a;f.ccTextFieldTTF.setString(a);f.ccTextFieldTTF.setAnchorPoint(ccp(0,0.5));f.ccTextFieldTTF.setTipMessage("\u8bf7\u8f93\u5165\uff1a");f.addChild(f.ccTextFieldTTF);f.ccTextFieldTTF.setDelegate(f);f.initCursorSprite(d);return f};InputView.setStringWithLimitWidth=function(a,c,d){a.setString(c)};kLayoutNode_TypeHorizonalLeft=0;kLayoutNode_TypeHorizonalRight=1;kLayoutNode_TypeHorizonalMiddle=2;kLayoutNode_TypeHorizonalScale=3;kLayoutNode_TypeHorizonalLeftScale=4;kLayoutNode_TypeHorizonalRightScale=5;kLayoutNode_TypeHorizonalMiddleScale=6;
LayoutNode=cc.Node.extend({m_layoutType:0,init:function(){this._super();this.scheduleUpdate();return!0},setLayoutType:function(a){this.m_layoutType=a},update:function(a){switch(this.m_layoutType){case kLayoutNode_TypeHorizonalLeft:this.layoutHorizonalLeft();break;case kLayoutNode_TypeHorizonalRight:this.layoutHorizonalRight();break;case kLayoutNode_TypeHorizonalMiddle:this.layoutHorizonalMiddle();break;case kLayoutNode_TypeHorizonalScale:this.layoutHorizonalScale();break;case kLayoutNode_TypeHorizonalLeftScale:this.layoutHorizonalLeftScale();
break;case kLayoutNode_TypeHorizonalRightScale:this.layoutHorizonalRightScale();break;case kLayoutNode_TypeHorizonalMiddleScale:this.layoutHorizonalMiddleScale()}},layoutHorizonalLeft:function(){var a=this.getChildren();if(a)for(var c=0,d=0;d<a.length;++d){var e=a[d],f=e.getScaleX(),g=e.getAnchorPoint().x*e.getContentSize().width,h=e.getPositionX()-g*f;0.01<Math.abs(h-c)&&e.setPositionX(c+g*f);c+=e.getContentSize().width*f}},layoutHorizonalRight:function(){var a=this.getChildren();if(a)for(var c=
this.getContentSize().width,d=0;d<a.length;++d){var e=a[d],f=e.getScaleX(),g=e.getAnchorPoint().x*e.getContentSize().width,h=e.getPositionX()+g*f;0.01<Math.abs(h-c)&&e.setPositionX(c-g*f);c-=e.getContentSize().width*f}},layoutHorizonalMiddle:function(){var a=this.getChildren();if(a){for(var c=0,d=0;d<a.length;++d)var e=a[d],c=c+e.getContentSize().width*e.getScaleX();c=0.5*(this.getContentSize().width-c);for(d=0;d<a.length;++d){var e=a[d],f=e.getScaleX(),g=e.getAnchorPoint().x*e.getContentSize().width,
h=e.getPositionX()-g*f;0.01<Math.abs(h-c)&&e.setPositionX(c+g*f);c+=e.getContentSize().width*f}}},layoutHorizonalScale:function(){var a=this.getChildren();if(a){for(var c=0,d=0;d<a.length;++d)var e=a[d],c=c+e.getContentSize().width;for(var f=0,c=this.getContentSize().width/c,d=0;d<a.length;++d){e=a[d];0.01<Math.abs(e.getScale()-c)&&e.setScale(c);var g=e.getAnchorPoint().x*e.getContentSize().width,h=e.getPositionX()-g*c;0.01<Math.abs(h-f)&&e.setPositionX(f+g*c);f+=e.getContentSize().width*c}}},layoutHorizonalLeftScale:function(){var a=
this.getChildren();if(a){for(var c=0,d=0;d<a.length;++d)var e=a[d],c=c+e.getContentSize().width;var f=0,c=this.getContentSize().width/c;1<c&&(c=1);for(d=0;d<a.length;++d){e=a[d];0.01<Math.abs(e.getScale()-c)&&e.setScale(c);var g=e.getAnchorPoint().x*e.getContentSize().width,h=e.getPositionX()-g*c;0.01<Math.abs(h-f)&&e.setPositionX(f+g*c);f+=e.getContentSize().width*c}}},layoutHorizonalRightScale:function(){var a=getChildren();if(a){for(var c=0,d=0;d<a.length;++d)var e=a[d],c=c+e.getContentSize().width;
var f=getContentSize().width,c=f/c;1<c&&(c=1);for(d=0;d<a.length;++d){e=a[d];0.01<Math.abs(e.getScale()-c)&&e.setScale(c);var g=e.getAnchorPoint().x*e.getContentSize().width,h=e.getPositionX()+g*c;0.01<Math.abs(h-f)&&e.setPositionX(f-g*c);f-=e.getContentSize().width*c}}},layoutHorizonalMiddleScale:function(){var a=this.getChildren();if(a){for(var c=0,d=0;d<a.length;++d)var e=a[d],c=c+e.getContentSize().width;var f=0.5*(this.getContentSize().width-c),c=this.getContentSize().width/c;1<c?c=1:f=0;for(d=
0;d<a.length;++d){e=a[d];0.01<Math.abs(e.getScale()-c)&&e.setScale(c);var g=e.getAnchorPoint().x*e.getContentSize().width,h=e.getPositionX()-g*c;0.01<Math.abs(h-f)&&e.setPositionX(f+g*c);f+=e.getContentSize().width*c}}}});LayoutNode.create=function(){var a=new LayoutNode;a.init();return a};kScrollVertical=0;kScrollHorizontal=1;
var ClipScrollView=ClipView.extend({m_bgNode:null,m_curTouchId:-1,m_direction:0,m_curtime:0,m_t:0,m_t1:0,m_aFactor:1,m_dis:0,m_isMoveNotSwallowTouch:!1,m_previousLocation:null,m_previousLocation1:null,m_beganLocation:null,m_touchDownClickWhenTouchBegan:!1,m_bTouchEnabled:!1,ctor:function(){this._super();this.m_previousLocation=ccp(0,0);this.m_previousLocation1=ccp(0,0);this.m_beganLocation=ccp(0,0)},initView:function(){this.m_dis=30;this.setContainer(cc.Node.create());this.setTouchEnabled(!0)},setTouchEnabled:function(a){this.m_bTouchEnabled!=
a&&(this.m_bTouchEnabled=a,this.isRunning()&&(a?Utils.registerTouch(this,0,!this.m_isMoveNotSwallowTouch):Utils.unregisterTouch(this)))},onEnter:function(){this.m_bTouchEnabled&&Utils.registerTouch(this,0,!this.m_isMoveNotSwallowTouch);this._super()},onExit:function(){this.m_bTouchEnabled&&Utils.unregisterTouch(this);this._super()},setContainer:function(a){this.m_bgNode&&(this.m_bgNode.removeFromParent(),this.m_bgNode=null);a&&(this.m_bgNode=a,this.addChild(this.m_bgNode));this.updateContainerPos()},
getContainer:function(){return this.m_bgNode},setContentSize:function(a){this._super(a);this.updateContainerPos()},update:function(a){this._super(a);this.m_curtime+=a},setDirection:function(a){this.m_direction!=a&&(this.m_direction=a,this.updateContainerPos())},setMoveNotSwallowTouch:function(a){this.m_isMoveNotSwallowTouch=a},moveToPercent:function(a,c){var d=this.getContentSize();this.m_bgNode.stopAllActions();if(this.m_direction==kScrollHorizontal){var e=this.m_bgNode.getContentSize().width*this.m_bgNode.getScaleX(),
f=a*e-0.5*d.width;f>e-d.width&&(f=e-d.width);0>f&&(f=0);0<c?(d=cc.moveTo(c,ccp(-f,this.m_bgNode.getPositionY())),e=cc.callFunc(this.slideToRightPosition,this),this.m_bgNode.runAction(cc.sequence(d,e))):(this.m_bgNode.setPositionX(-f),this.slideToRightPosition())}else e=this.m_bgNode.getContentSize().height*this.m_bgNode.getScaleY(),f=a*e+0.5*d.height,f>e&&(f=e),f<d.height&&(f=d.height),0<c?(d=cc.moveTo(c,ccp(this.m_bgNode.getPositionX(),f)),e=cc.callFunc(this.slideToRightPosition,this),this.m_bgNode.runAction(cc.sequence(d,
e))):(this.m_bgNode.setPositionY(f),this.slideToRightPosition())},moveToWorldXY:function(a,c,d){a=this.m_bgNode.convertToNodeSpace(ccp(a,c));this.m_direction==kScrollHorizontal?this.moveToPercent(a.x/this.m_bgNode.getContentWidth(),d):this.moveToPercent(1-a.y/this.m_bgNode.getContentHeight(),d)},getPercent:function(){var a=0,c=0,a=this.getContentSize(),c=this.m_bgNode.getContentSize();if(this.m_direction==kScrollHorizontal)var d=c.width*this.m_bgNode.getScaleX(),c=d/a.width,a=1>=c?0:-this.m_bgNode.getPositionX()/
(d-a.width);else d=c.height*this.m_bgNode.getScaleY(),c=d/a.height,a=1>=c?0:(this.m_bgNode.getPositionY()-a.height)/(d-a.height);return[a,c]},moveByPage:function(a){this.m_bgNode.stopAllActions();var c=2500*this.m_aFactor,d=0,d=0;this.m_direction==kScrollHorizontal?(d=this.getContentSize().height*Math.abs(a),d=Math.sqrt(2*c*d),0<a&&(d=-d)):(d=this.getContentSize().width*Math.abs(a),d=Math.sqrt(2*c*d),0>a&&(d=-d));this.accelerate(d)},setMoveMaxDis:function(a){this.m_dis=a},setSpeedFactor:function(a){this.m_aFactor=
a},updateContainerPos:function(){if(this.m_bgNode){var a=this.getContentSize(),c=this.m_bgNode.getContentSize();this.m_direction==kScrollHorizontal?(0<c.height&&this.m_bgNode.setScale(a.height/c.height),this.m_bgNode.ignoreAnchorPointForPosition(!1),this.m_bgNode.setAnchorPoint(ccp(0,0)),this.m_bgNode.setPosition(0,0)):(0<c.width&&this.m_bgNode.setScale(a.width/c.width),this.m_bgNode.ignoreAnchorPointForPosition(!1),this.m_bgNode.setAnchorPoint(ccp(0,1)),this.m_bgNode.setPosition(0,a.height))}},ccTouchBegan:function(a,
c){var d=this.convertToNodeSpace(a.getLocation());if(!this.isVisibleInParents(d)||0<=this.m_curTouchId)return!1;this.m_curTouchId=a.getID();this.m_bgNode.stopAllActions();if(this.isInRect(d)){if(ButtonHelper.isTouchDownClick())return this.processClickOperation(a),this.m_touchDownClickWhenTouchBegan=!0;this.m_touchDownClickWhenTouchBegan=!1;this.m_beganLocation=this.m_previousLocation=this.m_previousLocation1=d;this.m_t=this.m_curtime;return!0}this.m_curTouchId=-1;return!1},ccTouchMoved:function(a,
c){if(a.getID()==this.m_curTouchId&&!ButtonHelper.isTouchDownClick()&&!this.m_touchDownClickWhenTouchBegan){var d=this.getContentSize(),e=this.convertToNodeSpace(a.getLocation());if(this.m_direction==kScrollHorizontal){var f=e.x-this.m_previousLocation.x,f=this.m_bgNode.getPositionX()+f;if(f>this.m_dis)f=this.m_dis;else{var g=this.m_bgNode.getContentSize().width*this.m_bgNode.getScaleX();g>=d.width?f<d.width-g-this.m_dis&&(f=d.width-g-this.m_dis):f<-this.m_dis&&(f=-this.m_dis)}this.m_bgNode.setPositionX(f)}else f=
e.y-this.m_previousLocation.y,f=this.m_bgNode.getPositionY()+f,f<d.height-this.m_dis?f=d.height-this.m_dis:(g=this.m_bgNode.getContentSize().height*this.m_bgNode.getScaleY(),g>=d.height?f>g+this.m_dis&&(f=g+this.m_dis):f>this.m_dis+d.height&&(f=this.m_dis+d.height)),this.m_bgNode.setPositionY(f);this.m_previousLocation1=this.m_previousLocation;this.m_previousLocation=e;this.m_t!=this.m_curtime&&(this.m_t1=this.m_t,this.m_t=this.m_curtime)}},ccTouchEnded:function(a,c){if(a.getID()==this.m_curTouchId&&
(this.m_curTouchId=-1,!ButtonHelper.isTouchDownClick()&&!this.m_touchDownClickWhenTouchBegan)){var d=this.getContentSize(),e=this.convertToNodeSpace(a.getLocation());if(10>=cc.pDistance(e,this.m_beganLocation))this.processClickOperation(a);else if(this.m_direction==kScrollHorizontal){var f=e.x-this.m_previousLocation1.x,g=this.m_curtime-this.m_t1,e=0;0!=g&&(e=f/g);DebugFlag||(2500<e?e=2500:-2500>e&&(e=-2500));g=this.m_bgNode.getContentSize().width*this.m_bgNode.getScaleX();0<this.m_bgNode.getPosition().x?
this.slideToRightPosition():this.m_bgNode.getPosition().x+g<d.width?this.slideToRightPosition():this.accelerate(e)}else f=e.y-this.m_previousLocation1.y,g=this.m_curtime-this.m_t1,e=0,0!=g&&(e=f/g),DebugFlag||(2500<e?e=2500:-2500>e&&(e=-2500)),g=this.m_bgNode.getContentSize().height*this.m_bgNode.getScaleY(),this.m_bgNode.getPosition().y<d.height?this.slideToRightPosition():this.m_bgNode.getPosition().y>g?this.slideToRightPosition():this.accelerate(e)}},ccTouchCancelled:function(a,c){this.ccTouchEnded(a,
c)},processClickOperation:function(a){this.slideToRightPosition()},slideToRightPosition:function(){this.m_bgNode.stopAllActions();var a=this.getContentSize();if(this.m_direction==kScrollHorizontal){var c=this.m_bgNode.getContentSize().width*this.m_bgNode.getScaleX();0<this.m_bgNode.getPosition().x?(a=cc.moveTo(0.2,ccp(0,this.m_bgNode.getPosition().y)),this.m_bgNode.runAction(a)):this.m_bgNode.getPosition().x+c<a.width&&c>a.width?(a=cc.moveTo(0.2,ccp(a.width-c,this.m_bgNode.getPosition().y)),this.m_bgNode.runAction(a)):
this.m_bgNode.getPosition().x+c<a.width&&c<=a.width&&(a=cc.moveTo(0.2,ccp(0,this.m_bgNode.getPosition().y)),this.m_bgNode.runAction(a))}else c=this.m_bgNode.getContentSize().height*this.m_bgNode.getScaleY(),this.m_bgNode.getPosition().y<a.height?(a=cc.moveTo(0.2,ccp(this.m_bgNode.getPosition().x,a.height)),this.m_bgNode.runAction(a)):this.m_bgNode.getPosition().y>c&&c>a.height?(a=cc.moveTo(0.2,ccp(this.m_bgNode.getPosition().x,c)),this.m_bgNode.runAction(a)):this.m_bgNode.getPosition().y>a.height&&
c<=a.height&&(a=cc.moveTo(0.2,ccp(this.m_bgNode.getPosition().x,a.height)),this.m_bgNode.runAction(a))},accelerate:function(a){var c=this.getContentSize(),d=1200*this.m_aFactor,e=Math.abs(a)/Math.abs(d);if(this.m_direction==kScrollHorizontal){var f=this.m_bgNode.getContentSize().width*this.m_bgNode.getScaleX(),g=0,h=this.m_dis;f>=c.width?g=c.width-f-this.m_dis:f<=c.width&&(g=-this.m_dis);c=0;c=0>a?this.m_bgNode.getPosition().x-g:h-this.m_bgNode.getPosition().x;c=e*e-2*c/Math.abs(d);0<c&&(e-=Math.sqrt(c),
0>e&&(e=0));d=CEMoveAccelerateX.create(e,a,d,g,h)}else f=this.m_bgNode.getContentSize().height*this.m_bgNode.getScaleY(),g=c.height-this.m_dis,h=0,f>=c.height?h=f+this.m_dis:f<=c.height&&(h=c.height+this.m_dis),c=0>a?this.m_bgNode.getPosition().y-g:h-this.m_bgNode.getPosition().y,c=e*e-2*c/Math.abs(d),0<c&&(e-=Math.sqrt(c),0>e&&(e=0)),d=CEMoveAccelerateY.create(e,a,d,g,h);a=cc.callFunc(this.slideToRightPosition,this);a=cc.sequence(d,a);this.m_bgNode.runAction(a)},isInRect:function(a){var c=this.getContentSize(),
c=cc.rect(0,0,c.width,c.height);return cc.rectContainsPoint(c,a)?!0:!1},calculateV:function(a,c,d,e,f,g){a-=d;if(0>=a)return 0;e=(e-g)/a;2E3<e?e=2E3+0.5*(e-2E3):-2E3>e&&(e=-2E3+0.5*(e+2E3));3E3<e?e=3E3:-3E3>e&&(e=-3E3);return e}});ClipScrollView.create=function(){var a=new ClipScrollView;a.init();a.initView();return a};kScrollVertical=0;kScrollHorizontal=1;
var LoopScrollView=ClipScrollView.extend({m_firstNodeIdx:0,getNearestWorldXY:function(a,c){var d=ccp(0,0),e=this.m_bgNode.getContentSize();e.width*=this.m_bgNode.getScale();e.height*=this.m_bgNode.getScale();if(this.m_direction==kScrollHorizontal){var f=0.5*e.width,g=0.5*DisplayHelper.sharedInstance().getWindowWidth(),g=a-g;d.x=g>f?a-e.width:g<-f?a+e.width:a;d.y=c}else f=0.5*e.height,g=0.5*DisplayHelper.sharedInstance().getWindowHeight(),g=c-g,d.y=g>f?c-e.height:g<-f?c+e.height:c,d.x=a;return d},
ccTouchMoved:function(a,c){if(a.getID()==this.m_curTouchId&&!ButtonHelper.isTouchDownClick()&&!this.m_touchDownClickWhenTouchBegan){this.getContentSize();var d=this.convertToNodeSpace(a.getLocation());if(this.m_direction==kScrollHorizontal){var e=d.x-this.m_previousLocation.x,e=this.m_bgNode.getPositionX()+e;this.m_bgNode.setPositionX(e)}else e=d.y-this.m_previousLocation.y,e=this.m_bgNode.getPositionY()+e,this.m_bgNode.setPositionY(e);this.m_previousLocation1=this.m_previousLocation;this.m_previousLocation=
d;this.m_t!=this.m_curtime&&(this.m_t1=this.m_t,this.m_t=this.m_curtime)}},ccTouchEnded:function(a,c){if(a.getID()==this.m_curTouchId&&(this.m_curTouchId=-1,!ButtonHelper.isTouchDownClick()&&!this.m_touchDownClickWhenTouchBegan)){this.getContentSize();var d=this.convertToNodeSpace(a.getLocation());if(this.m_direction==kScrollHorizontal)var e=d.x-this.m_previousLocation1.x,d=this.m_curtime-this.m_t1,f=0;else e=d.y-this.m_previousLocation1.y,d=this.m_curtime-this.m_t1,f=0;0!=d&&(f=e/d);this.accelerate(f)}},
accelerate:function(a){this.getContentSize();var c=1200*this.m_aFactor;a=this.m_direction==kScrollHorizontal?CEMoveAccelerateX.create2(a,c,-999999,999999):CEMoveAccelerateY.create2(a,c,-999999,999999);this.m_bgNode.runAction(a)},moveToPercent:function(a,c){var d=this.getContentSize();this.m_bgNode.stopAllActions();if(this.m_direction==kScrollHorizontal){var e=this.m_bgNode.getContentSize().width*this.m_bgNode.getScaleX(),d=a*e-0.5*d.width;0<c?(d=cc.moveTo(c,ccp(-d,this.m_bgNode.getPositionY())),this.m_bgNode.runAction(d)):
this.m_bgNode.setPositionX(-d)}else 0<c?(d=cc.moveTo(c,ccp(this.m_bgNode.getPositionX(),y)),this.m_bgNode.runAction(d)):this.m_bgNode.setPositionY(y)},update:function(a){this._super(a);a=this.getContentSize();var c=this.m_bgNode.getChildrenCount(),d=this.m_firstNodeIdx,e=this.m_firstNodeIdx+c-1;e>=c&&(e-=c);d=this.m_bgNode.getChildByIdx(d);e=this.m_bgNode.getChildByIdx(e);if(this.m_direction==kScrollHorizontal){var f=d.getPositionX()-d.getAnchorPoint().x*d.getContentWidth();0<f+this.m_bgNode.getPositionX()?
(e.setPositionX(f-(e.getContentWidth()-e.getAnchorPoint().x*e.getContentWidth())),this.m_firstNodeIdx-=1,0>this.m_firstNodeIdx&&(this.m_firstNodeIdx=c-1)):(e=e.getPositionX()+e.getContentWidth()-e.getAnchorPoint().x*e.getContentWidth(),e+this.m_bgNode.getPositionX()<a.width&&(d.setPositionX(e+d.getAnchorPoint().x*d.getContentWidth()),this.m_firstNodeIdx+=1,this.m_firstNodeIdx>=c&&(this.m_firstNodeIdx=0)))}}});LoopScrollView.create=function(){var a=new LoopScrollView;a.init();a.initView();return a};ListGridView=ClipScrollView.extend({m_countPerRow:1,m_selectIndex:1,m_maxItem:0,m_nScriptListener:null,m_owner:null,m_touchIndex:0,m_rowPosYList:null,m_rowHeightList:null,m_preloadPage:-1,m_preloadDt:0,m_preloadInteval:0,m_nPreloadListener:0,ctor:function(){this._super();this.m_rowPosYList=[];this.m_rowHeightList=[]},setContentSize:function(a){this.m_bgNode.setContentSize(a);this._super(a);this.m_direction==kScrollHorizontal?this.m_bgNode.setPosition(0,0):this.m_bgNode.setPosition(0,a.height);this.updateItemPosAndSlideRightPos()},
update:function(a){this._super(a);0>this.m_preloadPage||(this.m_preloadDt+=a,this.m_preloadDt>=this.m_preloadInteval&&(this.m_preloadDt=0,this.checkPreloadPage(this.m_preloadPage)))},checkPreloadPage:function(a){var c=this.getContentSize(),d=this.m_bgNode.getContentSize();if(this.m_direction==kScrollHorizontal){var e=this.m_bgNode.getPositionX()+this.m_bgNode.getContentWidth()*this.m_bgNode.getScaleX();a=c.width*(1+a)-e;if(0<a)return this.callBackPreload(a),this.m_bgNode.getContentWidth()>d.width}else if(a=
this.m_bgNode.getPositionY()-this.m_bgNode.getContentHeight()*this.m_bgNode.getScaleY()+c.height*a,0<a)return this.callBackPreload(a),this.m_bgNode.getContentHeight()>d.height;return!1},setCountPerRow:function(a){this.m_countPerRow=a},updateItemPosAndSlideRightPos:function(){this.updateItemPos();this.slideToRightPosition()},updateItemPos:function(){var a=this.getContentSize(),c=this.m_rowPosYList.length;if(this.m_bgNode&&0<c)if(this.m_direction==kScrollHorizontal){for(var d=this.m_rowPosYList[c-1]+
this.m_rowHeightList[c-1],e=a.height/this.m_countPerRow,a=this.m_bgNode.getChildren(),c=0;c<a.length;++c){var f=a[c],g=this.m_countPerRow-c%this.m_countPerRow-1;f.setPosition(ccp(this.m_rowPosYList[c],(g+0.5)*e))}this.m_bgNode.setContentSize(cc.size(d,this.m_bgNode.getContentSize().height))}else{d=this.m_rowPosYList[c-1]+this.m_rowHeightList[c-1];e=a.width/this.m_countPerRow;a=this.m_bgNode.getChildren();for(c=0;c<a.length;++c){var f=a[c],h=this.m_rowPosYList[c],g=c%this.m_countPerRow;f.setPosition(ccp((g+
0.5)*e,d-h))}this.m_bgNode.setContentSize(cc.size(this.m_bgNode.getContentSize().width,d))}},addItem:function(a){this.m_maxItem++;var c=this.getContentSize(),d=a.getContentSize();a.ignoreAnchorPointForPosition(!1);this.m_direction==kScrollHorizontal?(a.setScale(c.height/(d.height*this.m_countPerRow)),c=0,this.m_rowPosYList.length>=this.m_countPerRow&&(c=this.m_rowPosYList.length,c=this.m_rowPosYList[c-this.m_countPerRow]+this.m_rowHeightList[c-this.m_countPerRow]),this.m_rowPosYList.push(c),this.m_rowHeightList.push(d.width*
a.getScaleX()),a.setAnchorPoint(ccp(0,0.5))):(a.setScale(c.width/(d.width*this.m_countPerRow)),c=0,this.m_rowPosYList.length>=this.m_countPerRow&&(c=this.m_rowPosYList.length,c=this.m_rowPosYList[c-this.m_countPerRow]+this.m_rowHeightList[c-this.m_countPerRow]),this.m_rowPosYList.push(c),this.m_rowHeightList.push(d.height*a.getScaleY()),a.setAnchorPoint(ccp(0.5,1)));this.m_bgNode.addChild(a);this.updateItemPos()},removeAllItems:function(a){if(a)for(a=this.m_bgNode.getChildrenCount();0<a;a--)this.removeItem(a,
!0);else this.m_bgNode.removeAllChildren();this.m_maxItem=0;this.m_selectIndex=1;this.m_rowPosYList=[];this.m_rowHeightList=[];this.m_bgNode.stopAllActions();this.m_direction==kScrollHorizontal?(this.m_bgNode.setPosition(ccp(0,0)),this.m_bgNode.setContentWidth(0)):(this.m_bgNode.setPosition(ccp(0,this.getContentSize().height)),this.m_bgNode.setContentHeight(0))},removeItem:function(a,c){if(!(0>=a||a>this.m_bgNode.getChildrenCount())){var d=this.m_bgNode.getChildren()[a-1];a<this.m_selectIndex?this.m_selectIndex-=
1:a==this.m_selectIndex&&(this.m_selectIndex=1);this.m_bgNode.removeChild(d);this.m_maxItem--;this.updatePosAndHeightList();if(c){var e=this.getContentSize(),f=this.m_bgNode.getContentSize(),d=this.m_bgNode.getChildren(),g=this.m_bgNode.getChildrenCount()-1;if(this.m_direction==kScrollHorizontal)for(f=e.height/this.m_countPerRow,e=0;e<d.length;++e){var h=d[e],m=this.m_rowPosYList[e],n=e%this.m_countPerRow;h.stopAllActions();var r=cc.delayTime(0.2),n=cc.moveTo(0.2,ccp(m,(n+0.5)*f));if(e==g){var s=
cc.callFunc(this.updateItemPosAndSlideRightPos,this),r=cc.sequence(r,n,s);h.runAction(r)}else h.runAction(cc.sequence(r,n))}else for(m=e.width/this.m_countPerRow,e=0;e<d.length;++e)h=d[e],s=this.m_rowPosYList[e],n=e%this.m_countPerRow,h.stopAllActions(),r=cc.delayTime(0.2),n=cc.moveTo(0.2,ccp((n+0.5)*m,f.height-s)),e==g?(s=cc.callFunc(this.updateItemPosAndSlideRightPos,this),r=cc.sequence(r,n,s),h.runAction(r)):h.runAction(cc.sequence(r,n))}else this.updateItemPosAndSlideRightPos()}},getItemCount:function(){return this.m_maxItem},
getPositionByNode:function(a){return 1+CCNodeUtils.getChildIdxOfNode(this.m_bgNode,a)},updatePosAndHeightList:function(){this.m_rowPosYList=[];this.m_rowHeightList=[];for(var a=this.m_bgNode.getChildren(),c=0;c<a.length;++c){var d=a[c],e=d.getContentSize();c>=this.m_countPerRow?this.m_rowPosYList.push(this.m_rowPosYList[c-this.m_countPerRow]+this.m_rowHeightList[c-this.m_countPerRow]):this.m_rowPosYList.push(0);this.m_direction==kScrollHorizontal?this.m_rowHeightList.push(e.width*d.getScaleX()):this.m_rowHeightList.push(e.height*
d.getScaleY())}},getTouchItem:function(a){var c=this.m_bgNode.getPosition();if(this.m_direction==kScrollHorizontal){var d=this.getContentSize().height/this.m_countPerRow,e=a.x-c.x,c=this.getContentSize().height-a.y,f=this.m_rowPosYList.length;if(0<f)for(var g=0;g<f;g++){var h=g%this.m_countPerRow;if(e>=this.m_rowPosYList[g]&&e<this.m_rowPosYList[g]+this.m_rowHeightList[g]&&c>=h*d&&c<(h+1)*d)return g}}else if(d=this.getContentSize().width/this.m_countPerRow,c=c.y-a.y,f=this.m_rowPosYList.length,0<
f)for(g=0;g<f;g++)if(h=g%this.m_countPerRow,c>=this.m_rowPosYList[g]&&c<this.m_rowPosYList[g]+this.m_rowHeightList[g]&&a.x>=h*d&&a.x<(h+1)*d)return g;return-1},processClickOperation:function(a){this._super(a);a=this.convertToNodeSpace(a.getLocation());this.callBackItem(this.getTouchItem(a))},updateNodeVisible:function(a,c){for(var d=this.getContentSize(),e=this.m_bgNode.getPosition(),f=this.m_bgNode.getChildren(),g=0;g<f.length;++g){var h=f[g];if(this.m_direction==kScrollHorizontal){var m=this.m_rowPosYList[g]+
e.x,n=this.m_gapWidth*this.m_rowHeightList[g];m+this.m_rowHeightList[g]<-n||m>d.width+n?h.setVisible(!1):h.setVisible(!0)}else{var m=-this.m_rowPosYList[g]+e.y,r=m-this.m_rowHeightList[g],n=this.m_gapHeight*this.m_rowHeightList[g];m<-n||r>d.height+n?h.setVisible(!1):h.setVisible(!0)}}},registerScriptListener:function(a,c){this.unregisterScriptListener();this.m_nScriptListener=a;this.m_owner=c},unregisterScriptListener:function(){this.m_owner=this.m_nScriptListener=null},registerPreloadListener:function(a,
c,d){this.m_preloadPage=a;this.m_preloadInteval=c;this.unregisterPreloadListener();this.m_nPreloadListener=d},unregisterPreloadListener:function(){this.m_nPreloadListener=null},callBackItem:function(a){if(0<=a&&a<this.m_bgNode.getChildrenCount()){var c=this.m_selectIndex;this.m_selectIndex=a;if(this.m_nScriptListener){var d=this.m_bgNode.getChildren()[a].getTag();this.m_nScriptListener.call(this.m_owner,a,d,c)}}},callBackPreload:function(a){this.m_nPreloadListener&&this.m_nPreloadListener(a)},setSelect:function(a){0<
a&&a<=this.m_maxItem&&(this.m_selectIndex=this.m_touchIndex=a,this.callBackItem(this.m_selectIndex))},getSelect:function(){return this.m_selectIndex},getSelectNode:function(){return this.getListItem(this.m_selectIndex)},getListItem:function(a){return 0>=a||a>this.m_bgNode.getChildrenCount()?null:this.m_bgNode.getChildren()[a-1]},moveListItemTo:function(a,c){if(!(0>=a)){for(var d=null;!(d=this.getListItem(a))&&this.checkPreloadPage(99999999););if(d){for(var e=this.getContentSize(),e=cc.size(0.5*e.width,
0.5*e.height),f=this.m_bgNode.getContentSize();this.checkPreloadPage(99999999);)if(this.m_direction==kScrollHorizontal){if(this.m_bgNode.getContentWidth()-f.width>=e.width)break}else if(this.m_bgNode.getContentHeight()-f.height>=e.height)break;e=0;e=this.m_direction==kScrollHorizontal?(d.getPositionX()+d.getContentSize().width*d.getScaleX()*0.5)/this.m_bgNode.getContentSize().width:1-(d.getPositionY()-d.getContentSize().height*d.getScaleY()*0.5)/this.m_bgNode.getContentSize().height;this.moveToPercent(e,
c)}}}});ListGridView.create=function(){var a=new ListGridView;a.init();a.initView();return a};ListGridReuseView=ClipScrollView.extend({m_countPerRow:1,m_rowHeight:0,m_totalCount:0,m_nScriptListener:0,m_nPreloadListener:0,m_cellStartIdx:-1,m_reusedNodeList:null,m_cellNodeIdxList:null,ctor:function(){this._super();this.m_cellNodeIdxList=[];this.m_reusedNodeList=[]},initView:function(){this._super()},setContentSize:function(a){this._super(a);this.m_direction==kScrollHorizontal?(this.m_bgNode.setPosition(0,0),this.m_bgNode.setContentSize(cc.size(0,a.height))):(this.m_bgNode.setContentSize(cc.size(a.width,
0)),this.m_bgNode.setPosition(0,a.height))},update:function(a){this._super(a);this.checkPreloadPage()},checkPreloadPage:function(){if(!(0>=this.m_rowHeight)){this.getContentSize();var a=this.getVisibleItemRange(),c=a[0],d=a[1],e=this.m_cellStartIdx,a=this.m_cellStartIdx+a[2]-1;0>a&&(a=0);a>=this.m_totalCount&&(a=this.m_totalCount-1);if(!(0>c)){for(var f=c;f<=d;f++)if(0>e||f<e||f>a){var g=-1,h=null,m=e-2;0>m&&(m=0);var n=a+2;n>=this.m_totalCount&&(n=this.m_totalCount-1);if(0<=this.m_cellNodeIdxList[f])g=
this.m_cellNodeIdxList[f],h=this.m_reusedNodeList[g];else if(0<=e)for(;m<=n;m++)if((m<c||m>d)&&0<=this.m_cellNodeIdxList[m]){g=this.m_cellNodeIdxList[m];h=this.m_reusedNodeList[g];this.m_cellNodeIdxList[m]=-1;this.m_cellNodeIdxList[f]=g;break}this.callBackPreload(f,g,h);if(0>g){g=this.m_reusedNodeList.length-1;if(0>g){printf("list reuse idx is -1");return}h=this.m_reusedNodeList[g]}this.m_direction==kScrollHorizontal?(g=(f/this.m_countPerRow+0.5)*this.m_rowHeight,n=(this.m_countPerRow-1-f%this.m_countPerRow+
0.5)*this.m_bgNode.getContentHeight()/this.m_countPerRow):(g=(f%this.m_countPerRow+0.5)*this.m_bgNode.getContentWidth()/this.m_countPerRow,n=this.m_bgNode.getContentHeight()-(f/this.m_countPerRow+0.5)*this.m_rowHeight);h.setPosition(g,n)}this.m_cellStartIdx=c}}},getVisibleItemRange:function(a,c,d){c=this.getContentSize();a=d=0;this.m_direction==kScrollHorizontal?(a=parseInt(parseInt(c.width)/parseInt(this.m_rowHeight)+2)*this.m_countPerRow,c=this.m_bgNode.getPositionX(),d=parseInt(parseInt(-c)/parseInt(this.m_rowHeight))*
this.m_countPerRow):(a=parseInt(parseInt(c.height)/parseInt(this.m_rowHeight)+2)*this.m_countPerRow,d=this.m_bgNode.getPositionY(),d=parseInt(parseInt(d-c.height)/parseInt(this.m_rowHeight))*this.m_countPerRow);c=d+a-1;0>d&&(d=0);d>=this.m_totalCount&&(d=this.m_totalCount-1);0>c&&(c=0);c>=this.m_totalCount&&(c=this.m_totalCount-1);return[d,c,a]},addItem:function(a,c){this.m_reusedNodeList.push(c);this.m_cellNodeIdxList[a-1]=this.m_reusedNodeList.length-1;c.ignoreAnchorPointForPosition(!1);c.setAnchorPoint(ccp(0.5,
0.5));this.m_bgNode.addChild(c)},refreshItem:function(a){a-=1;if(!(a>=this.m_totalCount)){var c=this.getVisibleItemRange(),d=c[0],c=c[1];if(0<=a){if(!(a<d||a>c)&&(d=this.m_cellNodeIdxList[a],0<=d)){var e=this.m_reusedNodeList[d];this.callBackPreload(a,d,e)}}else for(a=d;a<=c;a++)d=this.m_cellNodeIdxList[a],0<=d&&(e=this.m_reusedNodeList[d],this.callBackPreload(a,d,e))}},getReuseIdx:function(a){a-=1;if(a>=this.m_totalCount)return 0;var c=this.getVisibleItemRange(),d=c[0],c=c[1];return 0<=a?a<d||a>
c?0:this.m_cellNodeIdxList[a]+1:0},setRowHeight:function(a){this.m_rowHeight=a;a=(this.m_totalCount+this.m_countPerRow-1)/this.m_countPerRow;this.m_direction==kScrollHorizontal?this.m_bgNode.setContentWidth(this.m_rowHeight*a):this.m_bgNode.setContentHeight(this.m_rowHeight*a)},setCountPerRow:function(a){this.m_countPerRow=a},setTotalCount:function(a){this.m_totalCount=a;var c=this.m_cellNodeIdxList.length;for(this.m_cellNodeIdxList.length=a;c<a;++c)this.m_cellNodeIdxList[c]=-1;this.setRowHeight(this.m_rowHeight)},
getPositionByNode:function(a){return 1+CCNodeUtils.getChildIdxOfNode(this.m_bgNode,a)},processClickOperation:function(a){this._super(a)},updateNodeVisible:function(a,c){},registerPreloadListener:function(a){this.unregisterPreloadListener();this.m_nPreloadListener=a},unregisterPreloadListener:function(){this.m_nPreloadListener&&(this.m_nPreloadListener=null)},callBackPreload:function(a,c,d){this.m_nPreloadListener&&this.m_nPreloadListener(a+1,c+1,d)},getListItem:function(a){a=this.getReuseIdx(a);return 0>=
a?null:this.m_reusedNodeList[a-1]},moveListItemTo:function(a,c){var d=0,d=this.m_direction==kScrollHorizontal?a/this.m_countPerRow*this.m_rowHeight/this.m_bgNode.getContentWidth():a/this.m_countPerRow*this.m_rowHeight/this.m_bgNode.getContentHeight();this.moveToPercent(d,c)}});ListGridReuseView.create=function(){var a=new ListGridReuseView;a.init();a.initView();return a};ListSelectView=ClipScrollView.extend({m_isNotifyWhenSlideStop:!1,m_iCurrent:1,m_rowHeight:0,m_idxWhenSlideStop:1,m_nScriptListener:null,m_galleryEnable:!1,m_galleryMode:0,m_galleryScaleStep:0.5,m_galleryLastPos:ccp(0.123456,-0.654321),ctor:function(){this._super();this.m_galleryLastPos=ccp(0.123456,-0.654321)},setContentSize:function(a){this.m_bgNode.setContentSize(a);this._super(a);this.m_direction==kScrollHorizontal?this.m_bgNode.setPosition(0,0):this.m_bgNode.setPosition(0,a.height);this.updateItemPos()},
getSelect:function(){return this.m_iCurrent},getPositionByNode:function(a){return 1+CCNodeUtils.getChildIdxOfNode(this.m_bgNode,a)},getSelectNode:function(){return this.getListItem(this.m_iCurrent)},getListItem:function(a){return 0>=a||a>this.m_bgNode.getChildrenCount()?null:this.m_bgNode.getChildren()[a-1]},setRowHeight:function(a){this.m_rowHeight=a;this.updateItemPos()},updateItemPos:function(){var a=this.getContentSize();if(this.m_bgNode)if(this.m_direction==kScrollHorizontal){var c=this.m_rowHeight*
(this.m_bgNode.getChildrenCount()-1)+a.width,d=0.5*a.width;this.m_bgNode.setContentSize(cc.size(c,this.m_bgNode.getContentSize().height));for(var c=this.m_bgNode.getChildren(),e=0;e<c.length;++e){var f=c[e];f.setPosition(ccp(d+this.m_rowHeight*e,a.height/2))}}else{var g=this.m_rowHeight*(this.m_bgNode.getChildrenCount()-1)+a.height,d=0.5*a.height;this.m_bgNode.setContentSize(cc.size(this.m_bgNode.getContentSize().width,g));c=this.m_bgNode.getChildren();for(e=0;e<c.length;++e)f=c[e],f.setPosition(ccp(a.width/
2,g-d-this.m_rowHeight*e))}},addItem:function(a){this.getContentSize();0>=this.m_rowHeight&&(this.m_rowHeight=this.m_direction==kScrollHorizontal?a.getContentSize().width*a.getScaleX():a.getContentSize().height*a.getScaleY());a.ignoreAnchorPointForPosition(!1);a.setAnchorPoint(ccp(0.5,0.5));this.m_bgNode.addChild(a);this.updateItemPos()},removeAllItems:function(){this.m_rowHeight=0;this.m_bgNode.removeAllChildren();this.m_direction==kScrollHorizontal?this.m_bgNode.setPositionX(0):this.m_bgNode.setPositionY(this.getContentSize().height)},
removeItem:function(a){0>=a||a>this.m_bgNode.getChildrenCount()||(a=this.m_bgNode.getChildren()[a-1],this.m_bgNode.removeChild(a),this.updateItemPos(),this.slideToRightPosition())},getItemCount:function(){return this.m_bgNode.getChildrenCount()},moveToPre:function(){this.moveListItemTo(this.m_iCurrent-1,0.5)},moveToNext:function(){this.moveListItemTo(this.m_iCurrent+1,0.5)},moveListItemTo:function(a,c){var d=this.getContentSize(),e=this.m_bgNode.getContentSize(),f=0,f=this.m_direction==kScrollHorizontal?
((a-1)*this.m_rowHeight+0.5*d.width)/e.width:((a-1)*this.m_rowHeight+0.5*d.height)/e.height;this.moveToPercent(f,c);this.m_isNotifyWhenSlideStop?(this.m_idxWhenSlideStop=a,this.m_bgNode.runAction(cc.sequence([cc.delayTime(c),cc.callFunc(this.moveActionEnd,this)]))):this.callBackItem(a)},moveActionEnd:function(){this.m_isNotifyWhenSlideStop&&this.callBackItem(this.m_idxWhenSlideStop)},slideToRightPosition:function(){if(!(0>=this.m_rowHeight)){var a=this.getContentSize(),c=0;if(this.m_direction==kScrollHorizontal){var a=
-this.m_bgNode.getPosition().x,c=Math.floor(a/this.m_rowHeight)+1,d=a-(c-1)*this.m_rowHeight,c=d>this.m_rowHeight/2?c+1:c;c>this.getItemCount()&&(c=this.getItemCount());1>c&&(c=1);a=ccp(this.m_rowHeight*(1-c),this.m_bgNode.getPosition().y)}else d=this.m_bgNode.getPosition().y-a.height,c=Math.floor(d/this.m_rowHeight)+1,d-=(c-1)*this.m_rowHeight,c=d>this.m_rowHeight/2?c+1:c,c>this.getItemCount()&&(c=this.getItemCount()),1>c&&(c=1),a=ccp(this.m_bgNode.getPosition().x,a.height+this.m_rowHeight*(c-1));
this.m_bgNode.stopAllActions();a=cc.moveTo(0.2,a);c!=this.m_iCurrent?this.m_isNotifyWhenSlideStop?(this.m_idxWhenSlideStop=c,this.m_bgNode.runAction(cc.sequence([a,cc.delayTime(0.1),cc.callFunc(this.moveActionEnd,this)]))):(this.m_bgNode.runAction(a),this.callBackItem(c)):this.m_bgNode.runAction(a)}},updateNodeVisible:function(a,c){var d=this.getContentSize(),e=this.m_bgNode.getPosition(),f=!1;if(this.m_galleryMode){if(this.m_galleryLastPos.x!=e.x||this.m_galleryLastPos.y!=e.y)f=!0;this.m_galleryLastPos=
e}for(var g=this.m_bgNode.getChildren(),h=0;h<g.length;++h){var m=g[h];if(this.m_direction==kScrollHorizontal){var n=(h-0.5)*this.m_rowHeight+e.x+0.5*d.width,r=this.m_gapWidth*this.m_rowHeight;if(n+this.m_rowHeight<-r||n>d.width+r)m.setVisible(!1);else if(m.setVisible(!0),f)if(r=0.5*d.width,n=Math.abs(e.x+m.getPositionX()-r),2==this.m_galleryMode){var s=1+Math.sin(n/r*Math.PI/2-Math.PI/2);m.setScale(1-this.m_galleryScaleStep+this.m_galleryScaleStep*(r-n)/r);m.setAnchorPoint(ccp(0.5,0.5+s))}else m.setScale(1-
this.m_galleryScaleStep+this.m_galleryScaleStep*(r-n)/r),m.setAnchorPoint(ccp(0.5,0.5+0.2*n/r))}else n=(0.5-h)*this.m_rowHeight+e.y-0.5*d.height,s=n-this.m_rowHeight,r=this.m_gapHeight*this.m_rowHeight,n<-r||s>d.height+r?m.setVisible(!1):(m.setVisible(!0),f&&(r=0.5*d.height,n=Math.abs(e.y-this.m_bgNode.getContentSize().height+m.getPositionY()-r),m.setScale(1-this.m_galleryScaleStep+this.m_galleryScaleStep*(r-n)/r)))}},registerScriptListener:function(a){this.unregisterScriptListener();this.m_nScriptListener=
a},unregisterScriptListener:function(){this.m_nScriptListener&&(this.m_nScriptListener=null)},processClickOperation:function(a){if(0>=this.m_bgNode.getChildrenCount())this.slideToRightPosition();else{a=this.m_bgNode.convertToNodeSpace(a.getLocation());for(var c=0,d=this.m_bgNode.getChildren(),e=0;e<d.length;++e){var f=d[e],g=f.getPosition(),h=f.getContentSize(),m=f.getAnchorPoint();m.x*=h.width;m.y*=h.height;var f=g.x-m.x,n=f+h.width,g=g.y-m.y,h=g+h.height;if(a.x>f&&a.x<n&&a.y>g&&a.y<h){c=e+1;break}}0<
c&&c!=this.m_iCurrent?this.moveListItemTo(c,0.5):this.slideToRightPosition()}},setNotifyWhenSlideStop:function(a){this.m_isNotifyWhenSlideStop=a},setGalleryMode:function(a){this.m_galleryMode=a},setGalleryScaleStep:function(a){this.m_galleryScaleStep=a},callBackItem:function(a){if(0<a&&a<=this.m_bgNode.getChildrenCount()){var c=this.m_iCurrent;this.m_iCurrent=a;if(this.m_nScriptListener){var d=this.m_bgNode.getChildren()[a-1].getTag();this.m_nScriptListener(a,d,c)}}}});
ListSelectView.create=function(){var a=new ListSelectView;a.init();a.initView();return a};ListBoxView=ListGridView.extend({addItem:function(a,c){var d=cc.Node.create(),e=a.getContentSize(),f=c.getContentSize(),g=e.width*a.getScaleX(),e=e.height*a.getScaleY(),f=+f.height*c.getScaleY();d.setContentSize(cc.size(g,e+f));d.addChild(a);d.addChild(c);a.setAnchorPoint(ccp(0,0));c.setAnchorPoint(ccp(0,0));a.setPositionY(f);this._super(d)},getSelectTitleNode:function(){return this.getListTitleItem(this.m_selectIndex)},getSelectContentNode:function(){return this.getListContentItem(this.m_selectIndex)},
getListTitleItem:function(a){return 0>=a||a>this.m_bgNode.getChildrenCount()?null:this.m_bgNode.getChildren()[a-1].getChildren()[0]},getListContentItem:function(a){return 0>=a||a>this.m_bgNode.getChildrenCount()?null:this.m_bgNode.getChildren()[a-1].getChildren()[1]},switchItemExpand:function(a){this.setItemExpand(a,!this.isItemExpand(a))},setAllItemExpand:function(a){for(var c=this.m_bgNode.getChildrenCount(),d=0;d<c;d++){var e=this.m_bgNode.getChildren()[d],f=e.getChildren()[0],g=e.getChildren()[1],
h=f.getContentSize(),m=g.getContentSize(),h=h.height*f.getScaleY(),m=m.height*g.getScaleY();a?(f.setPositionY(m),e.setContentSize(cc.size(e.getContentSize().width,h+m))):(f.setPositionY(0),e.setContentSize(cc.size(e.getContentSize().width,h)));g.setVisible(a)}this.updatePosAndHeightList();this.updateItemPosAndSlideRightPos()},setItemExpand:function(a,c){if(!(0>=a||a>this.m_bgNode.getChildrenCount())){var d=this.m_bgNode.getChildren()[a-1],e=d.getChildren()[0],f=d.getChildren()[1],g=e.getContentSize(),
h=f.getContentSize(),g=g.height*e.getScaleY(),h=h.height*f.getScaleY();c?(e.setPositionY(h),d.setContentSize(cc.size(d.getContentSize().width,g+h))):(e.setPositionY(0),d.setContentSize(cc.size(d.getContentSize().width,g)));f.setVisible(c);this.updatePosAndHeightList();this.updateItemPosAndSlideRightPos()}},isItemExpand:function(a){return 0>=a||a>this.m_bgNode.getChildrenCount()?!1:this.m_bgNode.getChildren()[a-1].getChildren()[1].isVisible()}});
ListBoxView.create=function(){var a=new ListBoxView;a.init();a.initView();return a};ListSpinView=ClipView.extend({m_nScriptListener:null,m_bgNode:null,m_itemHeight:0,m_showCount:0,m_resultArray:[],m_scrollCount:0,m_randomMode:!1,m_speedFactor:0,m_spriteArray:[],m_stopMoreCount:0,m_endScrollCount:0,m_isStartPlay:!1,m_isScrolling:!1,m_isStopping:!1,initView:function(){this.m_nScriptListener=0;this.m_showCount=1;this.m_resultArray=[];this.m_spriteArray=[];this.m_scrollCount=0;this.m_randomMode=!0;this.m_speedFactor=1;this.m_gapHeight=this.m_itemHeight=0;this.m_stopMoreCount=10;this.m_endScrollCount=
0;this.m_isStopping=this.m_isScrolling=this.m_isStartPlay=!1;this.m_bgNode=cc.Node.create();this.m_bgNode.setAnchorPoint(ccp(0.5,1));this.addChild(this.m_bgNode);this.schedule(this.tick)},setContentSize:function(a){this._super(a);this.m_bgNode.setContentSize(cc.size(a.width,0));this.m_bgNode.setPosition(0.5*a.width,0)},addSprite:function(a,c){0>=this.m_itemHeight&&(this.m_itemHeight=a.getContentSize().height*a.getScaleY(),this.m_gapHeight=this.m_itemHeight*c,this.m_itemHeight+=this.m_gapHeight);a.setAnchorPoint(ccp(0.5,
1));this.m_spriteArray.push(a)},addSpriteFrameName:function(a,c){this.addSprite(cc.Sprite.createWithSpriteFrameName(a),c)},addSpriteFrameFile:function(a,c){this.addSprite(cc.Sprite.create(a),c)},setResultIdx:function(a,c){c=c||0;c>=this.m_showCount&&(c=0);this.m_resultArray.length<this.m_showCount&&(this.m_resultArray.length=this.m_showCount);this.m_resultArray[c]=a},removeAllSprite:function(){this.m_spriteArray=[];this.m_bgNode.removeAllChildren();this.m_bgNode.setPositionY(0)},reset:function(){this.m_endScrollCount=
this.m_scrollCount=0;this.m_isStopping=!1;this.m_bgNode.removeAllChildren();this.m_bgNode.setPositionY(0);this.fillTailSprites()},start:function(){if(!this.m_isScrolling){this.m_isScrolling=!0;this.m_bgNode.stopAllActions();var a=this.getContentSize().height*this.m_speedFactor,c=0.15*a+this.m_bgNode.getPositionY(),a=CEMoveAccelerateY.create(2*c/a,0,-(a*a*0.5/c),-999999,999999),c=cc.callFunc(this.moveStartCallback,this),a=cc.sequence(a,c);this.m_bgNode.runAction(a);this.m_isStartPlay=!0}},moveStartCallback:function(){var a=
-this.getContentSize().height*this.m_speedFactor,a=cc.repeatForever(cc.moveBy(1,ccp(0,a)));this.m_bgNode.runAction(a)},stop:function(){if(!this.m_isStopping&&this.m_isStartPlay){this.m_isStopping=!0;this.m_isStartPlay=!1;this.m_bgNode.stopAllActions();this.m_endScrollCount=this.m_scrollCount+this.m_stopMoreCount;var a=this.getContentSize().height*this.m_speedFactor,c=this.m_endScrollCount*this.m_itemHeight+0.5*this.m_gapHeight+this.m_bgNode.getPositionY(),a=CEMoveAccelerateY.create(2*c/a,-a,a*a*0.5/
c,-999999,999999),c=cc.callFunc(this.moveEndCallback,this),a=cc.sequence(a,c);this.m_bgNode.runAction(a)}},moveEndCallback:function(){this.m_isScrolling=this.m_isStopping=!1;if(this.m_nScriptListener){for(var a=this.m_resultArray.length,c=[],d=0;d<a;d++)c.push(this.m_resultArray[d]);this.m_nScriptListener(c)}},fillTailSprites:function(){var a=this.getContentSize(),c=0;do{var d=this.getNextSprite(),c=0.5*(a.height-(this.m_showCount-2)*this.m_itemHeight)+this.m_scrollCount*this.m_itemHeight;d.setPosition(ccp(a.width/
2,c));this.m_bgNode.addChild(d);this.m_scrollCount++}while(c+this.m_bgNode.getPositionY()<a.height)},removeHeadSprites:function(){this.getContentSize();for(var a=this.m_bgNode.getChildren();!(0>=a.length);){var c=a[0];if(0>c.getPositionY()+this.m_bgNode.getPositionY())c.removeFromParent();else break}},getNextSprite:function(){if(0>=this.m_spriteArray.length)return null;var a=null,c=!1;0<this.m_endScrollCount&&this.m_scrollCount>=this.m_endScrollCount&&this.m_scrollCount<this.m_endScrollCount+this.m_showCount&&
(c=this.m_resultArray[this.m_scrollCount-this.m_endScrollCount],0<c&&(a=this.m_spriteArray[c-1]),c=!0);if(!a){var d=0,d=this.m_randomMode?Math.random2(0,this.m_spriteArray.length):this.m_scrollCount%this.m_spriteArray.length,a=this.m_spriteArray[d];c&&(this.m_resultArray[this.m_scrollCount-this.m_endScrollCount]=d)}c=cc.Sprite.createWithSpriteFrame(a.displayFrame());c.setAnchorPoint(a.getAnchorPoint());c.setTag(a.getTag());c.setScale(a.getScale());c.setColor(a.getColor());return c},tick:function(a){a=
this.getContentSize();var c=this.m_bgNode.getPositionY(),d=this.m_bgNode.getChildren();d&&0<d.length&&(d[d.length-1].getPositionY()+c<=a.height&&this.fillTailSprites(),0>d[0].getPositionY()+c&&this.removeHeadSprites())},registerScriptListener:function(a){this.unregisterScriptListener();this.m_nScriptListener=a},unregisterScriptListener:function(){this.m_nScriptListener&&(this.m_nScriptListener=null)},setShowCount:function(a){this.m_showCount=a;this.m_resultArray.length=a},getShowCount:function(){return this.m_showCount},
setRandomMode:function(a){this.m_randomMode=a},isRandomMode:function(){return this.m_randomMode},setSpeedFactor:function(a){this.m_speedFactor=a},getSpeedFactor:function(){return this.m_speedFactor}});ListSpinView.create=function(){var a=new ListSpinView;a.init();a.initView();return a};EventCallBackInfo=cc.Class.extend({clickRect:cc.rect(0,0,0,0),eventId:"",sendBackInfo:[],ctor:function(){this.clickRect=cc.rect(0,0,0,0);this.sendBackInfo=[]}});UnitWordInfo=cc.Class.extend({fontSize:0,fontColor:cc.color(255,255,255),ishref:!1,isSprite:!1,eventCallBackInfo:null,lineIndex:0,startPositionX:0,lineBreakPos:[],content:"",ctor:function(){this.fontSize=0;this.fontColor=cc.color(255,255,255);this.isSprite=this.ishref=!1;this.eventCallBackInfo=null;this.startPositionX=this.lineIndex=0}});
MultiLabelTTF=cc.Node.extend({dimensionWidth:0,lua_handler:0,distance_lines:0,m_fontSizeScale:1,beginPos:ccp(0,0),m_fontName:MainFont,m_text:"",m_lastLabelIdx:0,m_lastLabelWidth:0,m_talkSpeed:1,m_isTalking:!1,allWordsInfo:[],lastIndexOfSpace:function(a,c){c>=a.length()&&(c=a.length()-1);if(0>c)return-1;for(var d=c;0<=d&&a.isAsciiChar(d);d--)if(" "==a.getAsciiChar(a.getAsciiIndex(d)))return d;return-1},clearAllWordsInfo:function(){this.allWordsInfo=[]},setString:function(a){null==a?printf("MultiLabelTTF.setString null"):
this.m_text!=a&&(this.m_text=a,this.parseXmlInfo(a.replace(/<br\/>/g,"\n")),this.calcPositionInfo(),this.clearNode(),0<this.allWordsInfo.length?this.makeNode():0<a.length&&(this.setContentWidth(this.dimensionWidth),a=cc.LabelTTF.create(a,MainFont,MainFontSize*this.m_fontSizeScale,cc.size(this.dimensionWidth,0),cc.TEXT_ALIGNMENT_LEFT),a.setAnchorPoint(ccp(0,1)),a.setPosition(ccp(0,this.getContentHeight())),this.addChild(a)))},getString:function(){return this.m_text},parseXmlInfo:function(a){this.clearAllWordsInfo();
a=this.parse(a);for(var c=0;c<a.length;c++){var d=a[c],e=d[1];if("a"==e){var e=new UnitWordInfo,f=d.indexOf("\x3e",2),g=d.indexOf("color");if(0<=g&&g<f){var g=d.indexOf("#",g),h=d.indexOf(" ",g);if(0>h||h>f)h=f;h=d.substr(g+1,h-g-1);h=parseInt(h,16);e.fontColor.r=(16711680&h)>>16;e.fontColor.g=(65280&h)>>8;e.fontColor.b=255&h}e.fontSize=MainFontSize;g=d.indexOf("size");if(0<=g&&g<f){g=d.indexOf("#",g);h=d.indexOf(" ",g);if(0>h||h>f)h=f;var h=d.substr(g+1,h-g-1),m=0,m=parseInt(h);e.fontSize=m}g=d.indexOf("eventId");
if(0<=g&&g<f){null==e.eventCallBackInfo&&(e.eventCallBackInfo=new EventCallBackInfo,e.ishref=!0);g=d.indexOf("#",g);h=d.indexOf(" ",g);if(0>h||h>f)h=f;h=d.substr(g+1,h-g-1);e.eventCallBackInfo.eventId=h}g=d.indexOf("backInfo");if(0<=g&&g<f){null==e.eventCallBackInfo&&(e.eventCallBackInfo=new EventCallBackInfo,e.ishref=!0);null==e.eventCallBackInfo.sendBackInfo&&(e.eventCallBackInfo.sendBackInfo=[]);m=!1;g=d.indexOf("#",g);h=d.indexOf(" ",g);if(0>h||h>f)h=f,m=!0;g=d.substr(g+1,h-g-1);for(e.eventCallBackInfo.sendBackInfo.push(g);!m;)if(g=
d.indexOf("backInfo",h),0<=g&&g<f){g=d.indexOf("#",g);h=d.indexOf(" ",g);if(0>h||h>f)h=f,m=!0;g=d.substr(g+1,h-g-1);e.eventCallBackInfo.sendBackInfo.push(g)}else m=!0}h=d.indexOf("\x3c/",f+1);0<=h&&(d=d.substr(f+1,h-f-1),e.content=d);this.allWordsInfo.push(e)}else if("b"==e){e=new UnitWordInfo;f=d.indexOf("\x3e",2);g=d.indexOf("color");if(0<=g&&g<f){g=d.indexOf("#",g);h=d.indexOf(" ",g);if(0>h||h>f)h=f;h=d.substr(g+1,h-g-1);h=parseInt(h,16);e.fontColor.r=(16711680&h)>>16;e.fontColor.g=(65280&h)>>
8;e.fontColor.b=255&h}e.fontSize=MainFontSize;g=d.indexOf("size");if(0<=g&&g<f){g=d.indexOf("#",g);h=d.indexOf(" ",g);if(0>h||h>f)h=f;h=d.substr(g+1,h-g-1);m=parseInt(h);e.fontSize=m}h=d.indexOf("\x3c/",f+1);0<=h&&(d=d.substr(f+1,h-f-1),e.content=d);this.allWordsInfo.push(e)}else if("s"==e){e=new UnitWordInfo;printf(e.fontColor.r,e.fontColor.g,e.fontColor.b);f=d.indexOf("\x3e",2);g=d.indexOf("color");if(0<=g&&g<f){g=d.indexOf("#",g);h=d.indexOf(" ",g);if(0>h||h>f)h=f;h=d.substr(g+1,h-g-1);h=parseInt(h,
16);e.fontColor.r=(16711680&h)>>16;e.fontColor.g=(65280&h)>>8;e.fontColor.b=255&h}e.fontSize=MainFontSize;g=d.indexOf("size");if(0<=g&&g<f){g=d.indexOf("#",g);h=d.indexOf(" ",g);if(0>h||h>f)h=f;h=d.substr(g+1,h-g-1);m=parseInt(h);e.fontSize=m}h=d.indexOf("\x3c/",f+1);0<=h&&(d=d.substr(f+1,h-f-1),e.content=d,0<e.content.length&&(e.isSprite=!0));this.allWordsInfo.push(e)}}},calcPositionInfo:function(){for(var a=1,c=0,d=0;d<this.allWordsInfo.length;d++){var e=this.allWordsInfo[d];if(e.isSprite){var f=
cc.spriteFrameCache.getSpriteFrame(e.content);if(f){var f=f.getRect(),g=f.width,g=e.fontSize*this.m_fontSizeScale/f.height*g;e.lineBreakPos=[];e.lineBreakPos.push(0);!(0>=this.dimensionWidth)&&g+c>this.dimensionWidth&&(c=0,a++);e.lineIndex=a;e.startPositionX=c;c+=g}else e.lineIndex=a,e.startPositionX=c}else if(f=CCLabelTTFUtils.calculateStringSize(e.content,this.m_fontName,e.fontSize*this.m_fontSizeScale),e.lineBreakPos=[],e.lineBreakPos.push(0),0>=this.dimensionWidth)if(1024<=f.width){f=0;e.lineIndex=
a;e.startPositionX=c;for(var g=0,h=new Utf8String(e.content),m=h.length(),n=0;n<m;){var r=h.substr(f,n-f+1),r=CCLabelTTFUtils.calculateStringSize(r,this.m_fontName,e.fontSize*this.m_fontSizeScale),s=h.getAsciiIndex(n);"\n"==h.getAsciiChar(s)?(g=c=0,a++,f=n+1,s<h.getAsciiLength()-1&&e.lineBreakPos.push(h.getAsciiIndex(n+1)),n=f):1024<=r.width?(c+=g,g=0,0==n?(e.lineIndex=a,e.startPositionX=c,n++):(f=n,e.lineBreakPos.push(h.getAsciiIndex(n)))):(g=r.width,n++)}c+=g}else e.lineIndex=a,e.startPositionX=
c,c+=f.width;else if(e.ishref)f.width+c>this.dimensionWidth&&0<c?(c=0,a++,e.lineIndex=a,e.startPositionX=c,c=CCLabelTTFUtils.calculateStringSize(e.content,this.m_fontName,e.fontSize*this.m_fontSizeScale).width):(e.lineIndex=a,e.startPositionX=c,c+=f.width);else{c>=this.dimensionWidth&&(c=0,a++);f=0;e.lineIndex=a;e.startPositionX=c;g=0;h=new Utf8String(e.content);m=h.length();for(n=0;n<m;)r=h.substr(f,n-f+1),r=CCLabelTTFUtils.calculateStringSize(r,this.m_fontName,e.fontSize*this.m_fontSizeScale),s=
h.getAsciiIndex(n),"\n"==h.getAsciiChar(s)?(g=c=0,a++,f=n+1,s<h.getAsciiLength()-1&&e.lineBreakPos.push(h.getAsciiIndex(n+1)),n=f):r.width+c>this.dimensionWidth?(g=c=0,a++,0==n?(e.lineIndex=a,e.startPositionX=c,n++):(r=this.lastIndexOfSpace(h,n),r>f&&r<h.length()-1?n=f=r+1:f=n,e.lineBreakPos.push(h.getAsciiIndex(f)))):(g=r.width,n++);c+=g}}},makeNode:function(){var a=0,c=0;if(0>=this.dimensionWidth)c=1;else for(var d=0;d<this.allWordsInfo.length;d++){var e=this.allWordsInfo[d];0>=a&&(a=CCLabelTTFUtils.calculateStringSize("a",
this.m_fontName,e.fontSize*this.m_fontSizeScale).height);var f=e.lineIndex+e.lineBreakPos.length-1;f>c&&(c=f)}for(var f=0,g=this.distance_lines*this.m_fontSizeScale,d=0;d<this.allWordsInfo.length;d++)if(e=this.allWordsInfo[d],e.isSprite){var f=e.startPositionX,h=e.lineIndex,m;cc.spriteFrameCache.getSpriteFrame(e.content)?(m=cc.Sprite.createWithSpriteFrameName(e.content),m.setScale(e.fontSize*this.m_fontSizeScale/m.getContentSize().height)):m=cc.Sprite.create(e.content);m.setAnchorPoint(ccp(0,0.5));
m.setPosition(ccp(f,(c-h)*(a+g)+a/2));m.setColor(e.fontColor);this.addChild(m);f+=m.getContentSize().width*m.getScaleX()}else if(e.ishref){m=cc.LabelTTF.create(e.content,this.m_fontName,e.fontSize*this.m_fontSizeScale);m.setAnchorPoint(ccp(0,0.5));m.setPosition(ccp(e.startPositionX,(c-e.lineIndex)*(a+g)+a/2));m.setColor(e.fontColor);this.addChild(m);var f=e.startPositionX,h=m.getContentSize(),n=m.getPosition(),r=cc.LayerColor.create(cc.color(e.fontColor.r,e.fontColor.g,e.fontColor.b,255),h.width,
e.fontSize*this.m_fontSizeScale*0.1);r.setAnchorPoint(ccp(0,1));r.setPosition(n.x,n.y-0.5*h.height);this.addChild(r);e.eventCallBackInfo.clickRect=cc.rect(0,0,0,0);e.eventCallBackInfo.clickRect.width=m.getContentSize().width;e.eventCallBackInfo.clickRect.height=m.getContentSize().height;e.eventCallBackInfo.clickRect.x=m.getPosition().x;e.eventCallBackInfo.clickRect.y=m.getPosition().y;e.eventCallBackInfo.clickRect.y-=m.getContentSize().height/2;f+=m.getContentSize().width}else for(n=0;n<e.lineBreakPos.length;n++)h=
e.lineBreakPos[n],m="",m=n==e.lineBreakPos.length-1?e.content.substr(h):e.content.substr(h,e.lineBreakPos[n+1]-h),0<m.length&&("\n"==m[m.length-1]||" "==m[m.length-1])&&(m=m.substr(0,m.length-1)),0==n?f=e.startPositionX:0<this.dimensionWidth&&(f=0),h=e.lineIndex+n,m=cc.LabelTTF.create(m,this.m_fontName,e.fontSize*this.m_fontSizeScale),m.setAnchorPoint(ccp(0,0.5)),m.setPosition(ccp(f,(c-h)*(a+g)+a/2)),m.setColor(e.fontColor),this.addChild(m),f+=m.getContentSize().width;d=this.dimensionWidth;0>=d&&
(d=f);this.setContentSize(cc.size(d,c*(a+g)))},clearNode:function(){this.removeAllChildren()},registerClickBack:function(a,c){this.unregisterClickBack();this.lua_handler=a;this.owner=c},unregisterClickBack:function(){this.owner=this.lua_handler=null},parse:function(a){for(var c=[],d=0,e=0,e=0;e<a.length;){d=a.indexOf("\x3c",e);if(0>d)break;e=a.indexOf("\x3c/",e);if(0>e)break;e+=3;d=a.substr(d,e-d+1);c.push(d);e+=1}return c},ccTouchBegan:function(a,c){this.beginPos=a.getLocation();var d=this.convertTouchToNodeSpace(a);
if(!this.isVisibleInParents(d))return!1;var e=this.getContentSize(),e=cc.rect(0,0,e.width,e.height);return cc.rectContainsPoint(e,d)?!0:!1},ccTouchEnded:function(a,c){var d=a.getLocation();if(!(10<Math.abs(d.x-this.beginPos.x)||10<Math.abs(d.y-this.beginPos.y))){var d=this.convertTouchToNodeSpace(a),e=this.getContentSize(),e=cc.rect(0,0,e.width,e.height);if(cc.rectContainsPoint(e,d)&&this.lua_handler)for(e=0;e<this.allWordsInfo.length;e++){var f=this.allWordsInfo[e];if(f.ishref&&cc.rectContainsPoint(f.eventCallBackInfo.clickRect,
d)&&this.dealToLuaData(f.eventCallBackInfo))break}}},dealToLuaData:function(a){var c=[];if(a.sendBackInfo)for(var d=a.sendBackInfo,e=0;e<d.length;e++)c.push(d[e]);this.lua_handler(a.eventId,c);return!0},onEnter:function(){this._super();Utils.registerTouch(this,0,!1)},onExit:function(){Utils.unregisterTouch(this);this._super()},update:function(a){this.m_isTalking=!0;if(this.m_lastLabelIdx>=this.getChildrenCount())this.unscheduleUpdate(),this.m_isTalking=!1;else{var c=this.getChildren()[this.m_lastLabelIdx];
if(c instanceof cc.Sprite){var d=c.getTextureRect(),e=c.getIntUserData();this.m_lastLabelWidth+=100*a*this.m_talkSpeed/c.getScaleX();c.setIsCanSetRect(!0);this.m_lastLabelWidth>=e?(d.width=e,c.setTextureRect(d,c.isTextureRectRotated(),cc.size(d.width,d.height)),this.m_lastLabelIdx++,this.m_lastLabelWidth=0):(d.width=this.m_lastLabelWidth,c.setTextureRect(d,c.isTextureRectRotated(),cc.size(d.width,d.height)));c.setIsCanSetRect(!1)}else this.m_lastLabelIdx++}},startTalk:function(){this.m_lastLabelWidth=
this.m_lastLabelIdx=0;this.setTalkState();this.unscheduleUpdate();this.scheduleUpdate()},setTalkState:function(){for(var a=this.getChildren(),c=0;c<a.length;++c){var d=a[c];if(d instanceof cc.Sprite){var e=d.getTextureRect();d.setIntUserData(e.width);e.width=0;d.setTextureRect(e,d.isTextureRectRotated(),cc.size(e.width,e.height));d.setIsCanSetRect(!1)}}},setTalkSpeed:function(a){this.m_talkSpeed=a},setFontName:function(a){this.m_fontName=a},getFontName:function(){return this.m_fontName},setDimensionWidth:function(a){this.dimensionWidth=
a},getDimensionWidth:function(){return this.dimensionWidth},setIntervalLen:function(a){this.distance_lines=a},getIntervalLen:function(){return this.distance_lines},setFontScale:function(a){this.m_fontSizeScale=a},getFontScale:function(){return this.m_fontSizeScale}});MultiLabelTTF.create=function(a,c,d,e){a=a||"";c=c||0;d=d||0;e=e||1;var f=new MultiLabelTTF;f.dimensionWidth=c;f.distance_lines=d;f.m_fontSizeScale=e;f.setString(a);return f};PAGE_MOVE_ACT_TAG=8E3;
PageView=ClipView.extend({pageSize:0,curPage:0,callBackPage:0,beganLocation:ccp(0,0),preLocation:ccp(0,0),preNode:null,curNode:null,nextNode:null,isMoved:!1,isScroll:!1,isLoopScroll:!1,m_nScriptListener:null,m_owner:null,m_moveInterval:0,curtime:0,preMoveTime:0,touchTime:0,m_curTouchId:0,m_bTouchEnabled:!0,ctor:function(){this._super();this.callBackPage=this.curPage=this.pageSize=0;this.nextNode=this.curNode=this.preNode=null;this.isScroll=this.isMoved=!1;this.m_nScriptListener=0;this.isLoopScroll=
!1;this.touchTime=this.preMoveTime=this.m_moveInterval=this.curtime=0;this.m_curTouchId=-1;this.m_bTouchEnabled=!0},initView:function(){this.callBackPage=this.curPage=this.pageSize=0;this.m_moveInterval=0.2},onEnter:function(){this.m_bTouchEnabled&&Utils.registerTouch(this,0,!0);this._super()},onExit:function(){this.m_bTouchEnabled&&Utils.unregisterTouch(this);this._super()},update:function(a){this._super(a);this.curtime+=a},setPageSize:function(a){this.pageSize=a},setPageView:function(a,c){if(0>=
c||c>this.pageSize)return!1;this.removeChildByTag(c);this.addChild(a);a.setTag(c);a.setVisible(!1);a.ignoreAnchorPointForPosition(!1);a.setAnchorPoint(ccp(0.5,0.5));return!0},removeAllView:function(){this.removeAllChildren();this.callBackPage=this.curPage=this.pageSize=0},getCurPage:function(){return this.curPage},getNextPage:function(){var a=0;return a=this.curPage==this.pageSize?this.isLoopScroll?1:0:this.curPage+1},getPageSize:function(){return this.pageSize},getPrePage:function(){var a=0;return a=
1==this.curPage?this.isLoopScroll?this.pageSize:0:this.curPage-1},delayCallback:function(){this.scheduleOnce(this.prepareUpdateView,0)},ensurePageExist:function(a){null==this.getChildByTag(a)&&this.m_nScriptListener&&this.m_nScriptListener.call(this.owner,"page",a);return this.getChildByTag(a)},prepareUpdateView:function(a){this.updateView()},updateView:function(){this.isScroll=!1;var a=this.getContentSize(),c=this.getPrePage();0<c?(c=this.ensurePageExist(c),null!=c&&(c.stopActionByTag(PAGE_MOVE_ACT_TAG),
c.setPosition(ccp(-0.5*a.width,a.height/2))),this.preNode=c):this.preNode=null;c=this.ensurePageExist(this.curPage);null!=c&&(c.stopActionByTag(PAGE_MOVE_ACT_TAG),c.setPosition(ccp(0.5*a.width,a.height/2)));this.curNode=c;c=this.getNextPage();0<c?(c=this.ensurePageExist(c),null!=c&&(c.stopActionByTag(PAGE_MOVE_ACT_TAG),c.setPosition(ccp(1.5*a.width,a.height/2))),this.nextNode=c):this.nextNode=null;for(a=0;a<this.getChildrenCount();a++)c=this.getChildren()[a],c.getTag()!=this.curPage?c.setVisible(!1):
c.setVisible(!0);this.m_nScriptListener&&this.callBackPage!=this.curPage&&(this.callBackPage=this.curPage,this.m_nScriptListener.call(this.owner,"select",this.curPage))},moveToPage:function(a,c){if(!(0>=a||a>this.pageSize))if(c=0,0>=c||0>this.curPage)this.curPage=a,this.updateView();else if(!this.isScroll&&!this.isMoved&&this.curPage!=a){var d=this.getContentSize(),e=-0.5*d.width,f=1.5*d.width;a<this.curPage&&(e=1.5*d.width,f=-0.5*d.width);var g=cc.moveTo(this.m_moveInterval,ccp(e,d.height/2)).easing(cc.easeIn(c)),
e=cc.moveTo(this.m_moveInterval,ccp(0.5*d.width,d.height/2)).easing(cc.easeIn(c));if(this.curNode){var h=cc.callFunc(this.delayCallback,this),g=cc.sequence(g,h);g.setTag(PAGE_MOVE_ACT_TAG);this.curNode.runAction(g)}if(g=this.ensurePageExist(a))g.setPosition(f,d.height/2),e.setTag(PAGE_MOVE_ACT_TAG),g.runAction(e),g.setVisible(!0);this.curPage=a;this.isScroll=!0}},moveBackLeft:function(){var a=this.getContentSize(),c=cc.moveTo(this.m_moveInterval,ccp(0.5*a.width,a.height/2)).easing(cc.easeIn(0.8)),
a=cc.moveTo(this.m_moveInterval,ccp(-0.5*a.width,a.height/2)).easing(cc.easeIn(0.8)),d=cc.callFunc(this.delayCallback,this),c=cc.sequence(c,d);a.setTag(PAGE_MOVE_ACT_TAG);c.setTag(PAGE_MOVE_ACT_TAG);this.preNode&&this.preNode.runAction(a);this.curNode.runAction(c);this.isScroll=!0},moveBackRight:function(){var a=this.getContentSize(),c=cc.moveTo(this.m_moveInterval,ccp(0.5*a.width,a.height/2)).easing(cc.easeIn(0.8)),a=cc.moveTo(this.m_moveInterval,ccp(1.5*a.width,a.height/2)).easing(cc.easeIn(0.8)),
d=cc.callFunc(this.delayCallback,this),c=cc.sequence(c,d);a.setTag(PAGE_MOVE_ACT_TAG);c.setTag(PAGE_MOVE_ACT_TAG);this.curNode.runAction(c);this.nextNode&&this.nextNode.runAction(a);this.isScroll=!0},moveToNext:function(){if(!this.isScroll&&!this.isMoved){var a=this.getNextPage();if(!(0>=a)){var c=this.getContentSize(),d=cc.moveTo(this.m_moveInterval,ccp(-0.5*c.width,c.height/2)).easing(cc.easeIn(0.8)),c=cc.moveTo(this.m_moveInterval,ccp(0.5*c.width,c.height/2)).easing(cc.easeIn(0.8));if(this.curNode){var e=
cc.callFunc(this.delayCallback,this),d=cc.sequence(d,e);d.setTag(PAGE_MOVE_ACT_TAG);this.curNode.runAction(d)}this.nextNode&&(c.setTag(PAGE_MOVE_ACT_TAG),this.nextNode.runAction(c),this.nextNode.setVisible(!0));this.curPage=a;this.isScroll=!0}}},moveToPre:function(){if(!this.isScroll&&!this.isMoved){var a=this.getPrePage();if(!(0>=a)){var c=this.getContentSize(),d=cc.moveTo(this.m_moveInterval,ccp(0.5*c.width,c.height/2)).easing(cc.easeIn(0.8)),c=cc.moveTo(this.m_moveInterval,ccp(1.5*c.width,c.height/
2)).easing(cc.easeIn(0.8));if(this.curNode){var e=cc.callFunc(this.delayCallback,this),c=cc.sequence(c,e);c.setTag(PAGE_MOVE_ACT_TAG);this.curNode.runAction(c)}this.preNode&&(d.setTag(PAGE_MOVE_ACT_TAG),this.preNode.runAction(d),this.preNode.setVisible(!0));this.curPage=a;this.isScroll=!0}}},isInRect:function(a){var c=this.getContentSize(),c=cc.rect(0,0,c.width,c.height);return cc.rectContainsPoint(c,a)?!0:!1},isTouchEnabled:function(){return this.m_bTouchEnabled},setTouchEnabled:function(a){this.m_bTouchEnabled!=
a&&(this.m_bTouchEnabled=a,this._running&&(a?Utils.registerTouch(this,0,!0):Utils.unregisterTouch(this)))},ccTouchBegan:function(a,c){var d=this.convertToNodeSpace(a.getLocation());if(!this.isVisibleInParents(d)||1>=this.pageSize||this.isScroll||0<=this.m_curTouchId)return!1;this.m_curTouchId=a.getID();this.isMoved=!1;return this.isInRect(d)?(this.touchTime=this.preMoveTime=this.curtime,this.preNode&&this.preNode.stopActionByTag(PAGE_MOVE_ACT_TAG),this.nextNode&&this.nextNode.stopActionByTag(PAGE_MOVE_ACT_TAG),
this.curNode.stopActionByTag(PAGE_MOVE_ACT_TAG),this.beganLocation=this.preLocation=d,!0):!1},ccTouchMoved:function(a,c){if(!(1>=this.pageSize)&&a.getID()==this.m_curTouchId){var d=this.getContentSize(),e=this.convertToNodeSpace(a.getLocation());if(this.isInRect(e)){var f=e.x-this.beganLocation.x;this.isLoopScroll||(1==this.curPage&&0<f?f=0:this.curPage==this.pageSize&&0>f&&(f=0));this.curNode.setPositionX(0.5*d.width+f);this.preNode!=this.nextNode?(this.preNode&&this.preNode.setPositionX(-0.5*d.width+
f),this.nextNode&&this.nextNode.setPositionX(1.5*d.width+f)):this.preNode&&(0<f?this.preNode.setPositionX(-0.5*d.width+f):this.preNode.setPositionX(1.5*d.width+f));this.preNode&&(f=this.preNode.getPositionX(),this.preNode.setVisible(f<1.5*d.width&&f>-0.5*d.width));this.nextNode&&(f=this.nextNode.getPositionX(),this.nextNode.setVisible(f<1.5*d.width&&f>-0.5*d.width));this.isMoved=!0;this.preMoveTime!=this.curtime&&(0.1<this.curtime-this.preMoveTime&&(this.touchTime=this.curtime),this.preMoveTime=this.curtime,
this.preLocation=e)}}},ccTouchEnded:function(a,c){if(a.getID()==this.m_curTouchId){this.m_curTouchId=-1;var d=this.getContentSize();if(!(1>=this.pageSize))if(this.isMoved){this.isMoved=!1;var e=this.preLocation.x-this.beganLocation.x,f=this.preMoveTime-this.touchTime,g=0;0!=f&&(g=e/f);1E3<g||this.preLocation.x-this.beganLocation.x>d.width/4?this.preNode&&this.moveToPre():-1E3>g||this.preLocation.x-this.beganLocation.x<d.width/-4?this.nextNode&&this.moveToNext():0<this.preLocation.x-this.beganLocation.x?
this.moveBackLeft():this.moveBackRight()}else this.updateView()}},ccTouchCancelled:function(a,c){this.ccTouchEnded(a,c)},registerScriptListener:function(a,c){this.unregisterScriptListener();this.m_nScriptListener=a;this.m_owner=c},unregisterScriptListener:function(){this.m_owner=this.m_nScriptListener=null},getPageNode:function(a){return this.getChildByTag(a)},updateNodeVisible:function(a,c){},setLoopScroll:function(a){this.isLoopScroll=a}});
PageView.create=function(){var a=new PageView;a.init();a.initView();return a};ProgressBar=cc.Scale9Sprite.extend({m_maxSize:null,m_percent:0,ctor:function(){this._super();this.m_percent=0;this.setAnchorPoint(0,0)},setMaxPreferSize:function(a){this.m_maxSize=a;var c=this.getOriginalSize();this.setPreferredSize(cc.size(c.width+(this.m_maxSize.width-c.width)*this.m_percent*0.01,a.height))},setPercentage:function(a,c){c=c||0;0>a&&(a=0);100<a&&(a=100);this.m_percent=a;this.stopAllActions();var d=this.getOriginalSize(),d=cc.size(d.width+(this.m_maxSize.width-d.width)*this.m_percent*
0.01,this.m_maxSize.height);0<c?this.runAction(cc.sizeTo(c,d.width,d.height)):this.setPreferredSize(d)},getPercentage:function(){return this.m_percent}});ProgressBar.create=function(a){var c=new ProgressBar;a?c.initWithFile(a):c.init();return c};ProgressBar.createWithSpriteFrameName=function(a){var c=new ProgressBar;c.initWithSpriteFrameName(a);return c};ScrollBar=cc.Node.extend({m_sprite:null,m_curTouchId:-1,m_targetScrollView:null,m_lastPercent:0,m_delayFadeTime:0,m_delayFadeInterval:0.4,m_bTouchMode:0,m_bTouchRangeScale:1,initView:function(){this.m_sprite=cc.Scale9Sprite.create();this.m_sprite.setVisible(!1);this.m_sprite.ignoreAnchorPointForPosition(!1);this.m_sprite.setAnchorPoint(ccp(0.5,0));this.addChild(this.m_sprite);this.schedule(this.tick)},setTouchMode:function(a){!!this.m_bTouchMode!=!!a&&this.isRunning()&&(this.value?Utils.registerTouch(this,
0,!this.m_isMoveNotSwallowTouch):Utils.unregisterTouch(this));this.m_bTouchMode=a},setTouchRangeScale:function(a){this.m_bTouchRangeScale=a},setDelayFadeInterval:function(a){this.m_delayFadeInterval=a;0>a&&(this.m_lastPercent=-1)},onEnter:function(){this.m_bTouchMode&&Utils.registerTouch(this,0,!0);this._super()},onExit:function(){this.m_bTouchMode&&Utils.unregisterTouch(this);this._super()},setContentSize:function(a,c){cc.Node.prototype.setContentSize.call(this,a,c);this.m_sprite.setPositionX(0.5*
this.getContentWidth())},tick:function(a){if(this.m_targetScrollView){var c=this.m_sprite.getOriginalSize(),d=this.m_targetScrollView.getPercent(),e=d[0],f=d[1];if(1>=f)this.m_sprite.setVisible(!1);else{d=this.getContentHeight();f=d/f;if(1E-4<Math.abs(this.m_lastPercent-e)){this.m_sprite.setVisible(!0);var g=1-e;if(0>g){this.m_sprite.setPositionY(0);g=f+(d-f)*g;if(g<c.height||3==this.m_bTouchMode)g=c.height;this.m_sprite.setContentHeight(g)}else if(1<g){this.m_sprite.setPositionY(g*(d-f));g=f+(d-
f)*e;if(g<c.height||3==this.m_bTouchMode)g=c.height;this.m_sprite.setContentHeight(g)}else this.m_sprite.setPositionY(g*(d-f)),g=f,g<c.height&&(g=c.height),3==this.m_bTouchMode?(f=this.m_sprite.getPositionY()*d/(d-f)-0.5*c.height,0>f&&(f=0),f>d-c.height&&(f=d-c.height),this.m_sprite.setPositionY(f)):this.m_sprite.getContentHeight()!=g&&this.m_sprite.setContentHeight(g);this.m_lastPercent=e;this.m_sprite.stopAllActions();255!=this.m_sprite.getOpacity()&&this.m_sprite.setOpacity(255);this.m_delayFadeTime=
0}else this.m_delayFadeTime<this.m_delayFadeInterval&&this.m_delayFadeTime+a>=this.m_delayFadeInterval&&this.m_sprite.runAction(cc.sequence(cc.fadeTo(0.5,0),cc.hide()));this.m_delayFadeTime+=a}}},movePercentToTouchPoint:function(a,c){if(c){var d=this.getContentHeight(),e=this.m_sprite.getContentHeight(),f=a.y-0.5*e;0>f?f=0:f>d-e&&(f=d-e);this.m_sprite.setPositionY(f)}else d=a.y/this.getContentHeight(),0>d?d=0:1<d&&(d=1),this.m_targetScrollView.moveToPercent(1-d)},ccTouchBegan:function(a,c){var d=
this.convertToNodeSpace(a.getLocation());if(!this.isVisibleInParents(d)||0<=this.m_curTouchId)return!1;this.m_curTouchId=a.getID();this.m_sprite.stopAllActions();if(this.isInRect(d)){if(3==this.m_bTouchMode){var e=this.getContentHeight(),f=e/this.m_targetScrollView.getPercent()[1];d.y=d.y/e*(e-f)+0.5*f}this.movePercentToTouchPoint(d);return!0}this.m_curTouchId=-1;return!1},ccTouchMoved:function(a,c){if(a.getID()==this.m_curTouchId){var d=this.convertToNodeSpace(a.getLocation()),e=this.m_bTouchMode;
1==e?this.movePercentToTouchPoint(d):2!=e&&3!=e||this.movePercentToTouchPoint(d,!0)}},ccTouchEnded:function(a,c){if(a.getID()==this.m_curTouchId){var d=this.convertToNodeSpace(a.getLocation());if(2==this.m_bTouchMode)this.movePercentToTouchPoint(d);else if(3==this.m_bTouchMode){var e=this.getContentHeight(),f=e/this.m_targetScrollView.getPercent()[1];d.y=d.y/e*(e-f)+0.5*f;this.movePercentToTouchPoint(d)}this.m_curTouchId=-1}},ccTouchCancelled:function(a,c){this.ccTouchEnded(a,c)},isInRect:function(a){var c=
this.getContentSize(),c=cc.rect(0-(this.m_bTouchRangeScale-1)*c.width*0.5,0,c.width*this.m_bTouchRangeScale,c.height);return cc.rectContainsPoint(c,a)?!0:!1},bindScrollView:function(a){this.m_targetScrollView=a},setSpriteFrame:function(a){this.m_sprite.setSpriteFrame(a)},setSpriteFrameName:function(a){(a=cc.spriteFrameCache.getSpriteFrame(a))&&this.setSpriteFrame(a)}});ScrollBar.create=function(){var a=new ScrollBar;a.init();a.initView();return a};ShortLabel=cc.LabelTTF.extend({m_content:"",getContent:function(){return this.m_content},setDimensions:function(a){this._super(a);0<this.m_content.length&&this.setString(this.getShortText(this.m_content,this.getFontName(),this.getFontSize(),a.width))},setString:function(a){this.m_content=a;cc.LabelTTF.prototype.setString.call(this,this.getShortText(a,this.getFontName(),this.getFontSize(),this.getDimensions().width))},getShortText:function(a,c,d,e){if(0>=e)return a;var f=new Utf8String(a);if(CCLabelTTFUtils.calculateStringSize(a,
c,d).width<=e||2>=f.length())return a;a=CCLabelTTFUtils.calculateStringSize("...",c,d);if(a.width>=e)return"...";for(var g=f.length(),h="",m=0;m<g;m++){var n=f.substr(0,m+1);if(CCLabelTTFUtils.calculateStringSize(n,c,d).width>e-a.width){h=f.substr(0,m);break}}return h+"..."}});ShortLabel.create=function(a,c,d){a=a||"";c=c||MainFont;d=d||MainFontSize;var e=new ShortLabel;e.initWithString(a,c,d,cc.size(0,0),cc.TEXT_ALIGNMENT_CENTER,cc.VERTICAL_TEXT_ALIGNMENT_TOP);return e};SimpleButton=ButtonNode.extend({m_pNormalImage:null,m_pSelectedImage:null,m_pTitleLabel:null,m_fontSize:MainFontSize,m_fontColor:cc.color(255,255,255),ctor:function(){this._super();this.m_fontColor=cc.color(255,255,255)},selected:function(a){a&&!this.m_bSelected?(this.m_bSelected=!0,this.m_pNormalImage&&this.m_pSelectedImage?(this.m_pNormalImage.setVisible(!1),this.m_pSelectedImage.setVisible(!0)):0==this.m_bTouchDownType?(this.stopAllActions(),this.setScale(1),a=cc.scaleTo(0.1,BUTTON_ZOOM_IN_SCALE),
this.runAction(a)):1==this.m_bTouchDownType?(this.stopAllActions(),this.setScale(1),a=cc.scaleTo(0.1,BUTTON_ZOOM_OUT_SCALE),this.runAction(a)):2==this.m_bTouchDownType&&(this.stopAllActions(),this.setColor(cc.color(255,255,255)),a=cc.tintTo(0.1,BUTTON_DIM_COLOR,BUTTON_DIM_COLOR,BUTTON_DIM_COLOR),this.runAction(a))):!a&&this.m_bSelected&&(this.m_bSelected=!1,this.m_pNormalImage&&this.m_pSelectedImage?(this.m_pNormalImage.setVisible(!0),this.m_pSelectedImage.setVisible(!1)):0==this.m_bTouchDownType?
(this.stopAllActions(),a=cc.scaleTo(0.1,1,1),this.runAction(a)):1==this.m_bTouchDownType?(this.stopAllActions(),a=cc.scaleTo(0.1,1,1),this.runAction(a)):2==this.m_bTouchDownType&&(this.stopAllActions(),a=cc.tintTo(0.1,255,255,255),this.runAction(a)))},setEnabled:function(a,c){if(this.m_bEnabled!=a){var d=this.m_pNormalImage;d instanceof cc.Sprite&&(a?d.setShaderProgramByKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR):d.setShaderProgramByKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR_GRAY))}this._super(a,
c)},getNormalImage:function(){return this.m_pNormalImage},setNormalImage:function(a){a!=this.m_pNormalImage&&(a&&this.addChild(a),this.m_pNormalImage&&this.removeChild(this.m_pNormalImage,!0),this.m_pNormalImage=a,this.updateViews())},getSelectedImage:function(){return this.m_pSelectedImage},setSelectedImage:function(a){a!=this.m_pSelectedImage&&(a&&this.addChild(a),this.m_pSelectedImage&&this.removeChild(this.m_pSelectedImage,!0),this.m_pSelectedImage=a,this.m_pSelectedImage.setVisible(!1),this.updateViews())},
setString:function(a){null!=a&&0<a.length?(a=cc.LabelTTF.create(a,MainFont,this.m_fontSize),this.addChild(a,1),this.m_pTitleLabel&&this.removeChild(this.m_pTitleLabel,!0),this.m_pTitleLabel=a,this.updateViews()):(this.m_pTitleLabel&&this.removeChild(this.m_pTitleLabel,!0),this.m_pTitleLabel=null)},updateViews:function(){if(this.m_pNormalImage){var a=this.m_pNormalImage.getContentSize();if(0==a.width||0==a.height)a=this.getContentSize();var c=this.m_pNormalImage.getScaleX(),d=this.m_pNormalImage.getScaleY();
this.m_pNormalImage.setAnchorPoint(ccp(0,0));this.m_pNormalImage.setPosition(ccp(0,0));a.width*=c;a.height*=d;this.setContentSize(a);this.m_pSelectedImage&&(this.m_pSelectedImage.setAnchorPoint(ccp(0,0)),this.m_pSelectedImage.setPosition(ccp(0,0)),this.m_pSelectedImage.setScaleX(c),this.m_pSelectedImage.setScaleY(d))}this.m_pTitleLabel&&(a=this.getContentSize(),this.m_pTitleLabel.setAnchorPoint(ccp(0.5,0.5)),this.m_pTitleLabel.setPosition(ccp(a.width/2,a.height/2)),this.m_pTitleLabel.setColor(this.m_fontColor))},
setFontSize:function(a){this.m_fontSize=a},setFontColor:function(a){this.m_fontColor=a},setNodeScale:function(a,c){this.getNormalImage().setScaleX(a);this.getNormalImage().setScaleY(c);this.setScale(1);this.updateViews()},setNormalSpriteFrame:function(a){a=cc.Sprite.createWithSpriteFrame(a);this.setNormalImage(a)},setSelectedSpriteFrame:function(a){a=cc.Sprite.createWithSpriteFrame(a);this.setSelectedImage(a)},setOpacity:function(a){this._super(a);this.m_pNormalImage&&this.m_pNormalImage.setOpacity(a);
this.m_pSelectedImage&&this.m_pSelectedImage.setOpacity(a);this.m_pTitleLabel&&this.m_pTitleLabel.setOpacity(a)},updateDisplayedOpacity:function(a){this._super(a);this.m_pNormalImage&&this.m_pNormalImage.updateDisplayedOpacity(a);this.m_pSelectedImage&&this.m_pSelectedImage.updateDisplayedOpacity(a);this.m_pTitleLabel&&this.m_pTitleLabel.updateDisplayedOpacity(a)},setColor:function(a){this._super(a);this.m_pNormalImage&&this.m_pNormalImage.setColor(a);this.m_pSelectedImage&&this.m_pSelectedImage.setColor(a);
this.m_pTitleLabel&&this.m_pTitleLabel.setColor(a)},setLabelColor:function(a){this.m_pTitleLabel&&this.m_pTitleLabel.setColor(a)},updateDisplayedColor:function(a){this._super(a);this.m_pNormalImage&&this.m_pNormalImage.updateDisplayedColor(a);this.m_pSelectedImage&&this.m_pSelectedImage.updateDisplayedColor(a);this.m_pTitleLabel&&this.m_pTitleLabel.updateDisplayedColor(a)},setFlipX:function(a){this.m_pNormalImage&&this.m_pNormalImage.setFlipX(a);this.m_pSelectedImage&&this.m_pSelectedImage.setFlipX(a)},
setFlipY:function(a){this.m_pNormalImage&&this.m_pNormalImage.setFlipY(a);this.m_pSelectedImage&&this.m_pSelectedImage.setFlipY(a)}});SimpleButton.create=function(){var a=new SimpleButton;a.initWithTarget();return a};SwitchButtonSprite=ButtonDelegateSprite.extend({m_nScriptTapHandler:null,m_owner:null,m_lockOtherTouch:!1,m_touchDownClickWhenTouchBegan:!1,m_isTouchCancel:!1,m_baseScaleX:1,m_baseScaleY:1,m_pNormalFrame:null,m_pSelectedFrame:null,m_isPressDown:!1,initWithTarget:function(){this.ignoreAnchorPointForPosition(!1);this.setAnchorPoint(ccp(0.5,0.5));this.setSelected(!1);this.setEnabled(!0);this.setTouchEnabled(!0);return!0},onEnter:function(){this.m_bTouchEnabled&&Utils.registerTouch(this,0,!this.m_isMoveNotSwallowTouch);
this._super()},onExit:function(){this.m_bTouchEnabled&&Utils.unregisterTouch(this);this.m_lockOtherTouch&&(ButtonHelper.s_hasButtonTouched=this.m_lockOtherTouch=!1);this._super()},setTouchEnabled:function(a){this.m_bTouchEnabled!=a&&(this.m_bTouchEnabled=a,this._running&&(a?Utils.registerTouch(this,0,!this.m_isMoveNotSwallowTouch):Utils.unregisterTouch(this)))},selected:function(a){a&&!this.m_bSelected?(this.m_bSelected=!0,0==this.m_bTouchDownType?(a=cc.scaleTo(0.1,this.m_baseScaleX*BUTTON_ZOOM_IN_SCALE,
this.m_baseScaleY*BUTTON_ZOOM_IN_SCALE),a.setTag(BUTTON_ACTION_TAG),this.runAction(a)):1==this.m_bTouchDownType?(a=cc.scaleTo(0.1,this.m_baseScaleX*BUTTON_ZOOM_OUT_SCALE,this.m_baseScaleY*BUTTON_ZOOM_OUT_SCALE),a.setTag(BUTTON_ACTION_TAG),this.runAction(a)):2==this.m_bTouchDownType&&(a=CETreeTintTo.create(0.1,BUTTON_DIM_COLOR,BUTTON_DIM_COLOR,BUTTON_DIM_COLOR),a.setTag(BUTTON_ACTION_TAG),this.runAction(a))):!a&&this.m_bSelected&&(this.m_bSelected=!1,0==this.m_bTouchDownType?(a=cc.scaleTo(0.1,this.m_baseScaleX,
this.m_baseScaleY),a.setTag(BUTTON_ACTION_TAG),this.runAction(a)):1==this.m_bTouchDownType?(a=cc.scaleTo(0.1,this.m_baseScaleX,this.m_baseScaleY),a.setTag(BUTTON_ACTION_TAG),this.runAction(a)):2==this.m_bTouchDownType&&(a=CETreeTintTo.create(0.1,255,255,255),a.setTag(BUTTON_ACTION_TAG),this.runAction(a)),!this.m_isPressDown&&this.m_pNormalFrame?this.setSpriteFrame(this.m_pNormalFrame):this.m_isPressDown&&this.m_pSelectedFrame&&this.setSpriteFrame(this.m_pSelectedFrame))},selectedShow:function(a){ButtonHelper.s_curButtonMask&&
ButtonHelper.s_curButtonMask.removeFromParent();this.stopActionByTag(BUTTON_ACTION_TAG);this.setScaleX(this.m_baseScaleX);this.setScaleY(this.m_baseScaleY);var c=ButtonHelper.s_tvTouchType;if(1==c){var d=ButtonHelper.s_curButtonMask;if(null==d){var e=GetAssetsPath("bg_tv_rect.png");0<e.size()&&(d=cc.Scale9Sprite.create(e))?(d.retain(),d.setAnchorPoint(ccp(0.5,0.5)),d.setZOrder(-1E3),d.setColor(ButtonHelper.s_tvTouchColor),ButtonHelper.s_curButtonMask=d):c=0}d&&a&&(e=this.getContentSize(),d.setPosition(ccp(0.5*
e.width,0.5*e.height)),d.setPreferredSize(cc.size(e.width+30,e.height+30)),this.addChild(d))}else 2==c&&this.selected(a);0==c&&a&&(a=cc.scaleTo(0.4,1.2*this.m_baseScaleX,1.2*this.m_baseScaleY),c=cc.scaleTo(0.4,this.m_baseScaleX,this.m_baseScaleY),a=cc.sequence(a,c),a=cc.repeatForever(a),a.setTag(BUTTON_ACTION_TAG),this.runAction(a))},setCallback:function(a,c){this.callcelCallback();this.m_nScriptTapHandler=a;this.owner=c},callcelCallback:function(){this.owner=this.m_nScriptTapHandler=null},activate:function(a){this.m_bEnabled?
this.m_nScriptTapHandler&&this.m_nScriptTapHandler.call(this.owner,this.m_isPressDown,this.getTag(),this):this.m_tips&&ButtonHelper.notifyButtonDisabled(this,this.m_tips)},rect:function(){return cc.rect(this._position.x-this._contentSize.width*this._anchorPoint.x,this._position.y-this._contentSize.height*this._anchorPoint.y,this._contentSize.width,this._contentSize.height)},isInRect:function(a){a=this.convertTouchToNodeSpace(a);var c=this.rect();c.x=0;c.y=0;return cc.rectContainsPoint(c,a)},setNodeScale:function(a,
c){this.m_baseScaleX=a;this.m_baseScaleY=c;this.setScale(a,c)},setNormalSpriteFrame:function(a){this.m_pNormalFrame=a;this.setSpriteFrame(this.m_pNormalFrame)},setSelectedSpriteFrame:function(a){this.m_pSelectedFrame=a},ccTouchBegan:function(a,c){if(ButtonHelper.s_hasButtonTouched)return!1;var d=this.convertToNodeSpace(a.getLocation());if(!this.isVisibleInParents(d))return!1;if(this.isInRect(a)){if(this.isEnabled()){if(ButtonHelper.isTouchDownClick())return this.activate(),this.m_touchDownClickWhenTouchBegan=
!0;this.m_touchDownClickWhenTouchBegan=!1;this.selected(!0)}ButtonHelper.s_hasButtonTouched=this.m_lockOtherTouch=!0;this.m_isTouchCancel=!1;this.m_startTouchScreenPoint=a.getLocationInView();return!0}return!1},ccTouchMoved:function(a,c){if(!this.m_isTouchCancel&&!ButtonHelper.isTouchDownClick()&&!this.m_touchDownClickWhenTouchBegan&&this.isEnabled()){var d=a.getLocationInView();this.m_isMoveNotSwallowTouch&&10<cc.pDistance(this.m_startTouchScreenPoint,d)?(this.m_isTouchCancel=!0,this.selected(!1)):
this.isInRect(a)?this.selected(!0):this.selected(!1)}},ccTouchEnded:function(a,c){ButtonHelper.s_hasButtonTouched=this.m_lockOtherTouch=!1;this.m_isTouchCancel||(this.isInRect(a)&&this.isVisible()&&this.m_bEnabled&&!ButtonHelper.isTouchDownClick()&&!this.m_touchDownClickWhenTouchBegan&&(this.m_isPressDown=!this.m_isPressDown,this.activate("click")),this.selected(!1))},ccTouchCancelled:function(a,c){ButtonHelper.s_hasButtonTouched=this.m_lockOtherTouch=!1;this.selected(!1)},setMoveNotSwallowTouch:function(a){ButtonDelegate.setMoveNotSwallowTouch(a);
this.setTouchEnabled(!1);this.setTouchEnabled(!0)},setPressDown:function(a,c){this.m_isPressDown=a;c&&this.activate("click");this.m_bSelected=!0;this.selected(!1)}});SwitchButtonSprite.create=function(){var a=new SwitchButtonSprite;a.initWithTarget();return a};UrlCachedSprite=cc.Sprite.extend({m_nScriptListener:null,m_owner:null,m_isForce:!1,m_url:"",m_defaultSpritePath:"",m_cachPath:"",m_originSize:null,initWithUrl:function(a){a&&(0==a.indexOf("https://wx.qlogo.cn")?this.m_url=a.substr(0,a.length-1)+"96":this.m_url=a);this.m_cachPath="cach_img"},setOriginContentSize:function(a,c){this.m_originSize=cc.size(a,c)},setUrl:function(a){a?0==a.indexOf("https://wx.qlogo.cn")?this.m_url=a.substr(0,a.length-1)+"96":this.m_url=a:this.m_url=""},startLoad:function(a){this.m_url&&
0<this.m_url.length&&(this.m_isForce=a,cc.textureCache.addImage(this.m_url,function(a){a instanceof cc.Texture2D&&(this.initWithFile(this.m_url),this.m_originSize&&(this.setScaleX(this.m_originSize.width/this.getContentWidth()),this.setScaleY(this.m_originSize.height/this.getContentHeight())))},this))},startLoadWhenVisible:function(a){this.m_isForce=a;this.scheduleUpdate()},update:function(a){this.isVisibleInParents()&&(this.unscheduleUpdate(),this.startLoad(this.m_isForce))},registerScriptListener:function(a,
c){this.unregisterScriptListener();this.m_nScriptListener=a;this.m_owner=c},unregisterScriptListener:function(){this.owner=this.m_nScriptListener=null},setDisplayFrame:function(a){var c=this.getContentSize(),d=this.getScaleX(),e=this.getScaleY();this._super(a);var f=a.getOriginalSize();a.isRotated()?(a=c.width*d/f.height,c=c.height*e/f.width):(a=c.width*d/f.width,c=c.height*e/f.height);this.setScaleX(a);this.setScaleY(c)},setDisplayFrameFile:function(a){var c=this.getContentSize(),d=this.getScaleX(),
e=this.getScaleY();this._super(a);a=this.getContentSize();e=c.height*e/a.height;this.setScaleX(c.width*d/a.width);this.setScaleY(e)}});UrlCachedSprite.create=function(a){var c=new UrlCachedSprite;c.init();c.initWithUrl(a);return c};SortNode=cw.Class({nodeList:null,dir:0,space:0,point:null,ctor:function(a,c){this.nodeList=[];this.dir=a||0;this.space=c||0;this.point=ccp(0,0)},addNode:function(a){this.nodeList.push({item:a,pos:a.getPosition()})},addNodeByList:function(a){for(var c=0;c<a.length;++c)this.addNode(a[c])},addNodeByParent:function(a){a=a.getChildren();this.addNodeByList(a)},sort:function(){0==this.dir?this.sort1():this.sort2()},sort1:function(){for(var a=0,c=0;c<this.nodeList.length;++c){var d=this.nodeList[c].item;
d.isVisible()&&d.setPosition(this.nodeList[a++].pos)}},sort2:function(){for(var a=0,c=this.ratioByDir(),d=this.point,e=0;e<this.nodeList.length;++e){var f=this.nodeList[e];f.item.isVisible()&&(f.item.setPosition(d.x+c.x*a*this.space,d.y+c.y*a*this.space),a+=1)}},ratioByDir:function(){return 1==this.dir?ccp(0,1):2==this.dir?ccp(0,-1):3==this.dir?ccp(-1,0):4==this.dir?ccp(1,0):ccp(0,0)},setPosition:function(a){this.point=ccp(a.x,a.y)}});SortNode.create=function(a,c){return new SortNode(a,c)};Cocos2dxPlatformUtils={getExternalDirPath:function(){return"/"},getPlatformCategoryName:function(){return""},getVersionName:function(){return"2.5.1"},getVersionCode:function(){return 20501},getLanguageName:function(){return this.language||"zh"},getLocationName:function(){return this.location||"CN"},getRegionLanguageName:function(){return this.getLanguageName()+"_"+this.getLocationName()},setRegionLanguageName:function(a){a&&(a=a.replace("-","_"),a=a.split("_"),this.language=(a[0]||"en").toLowerCase(),
this.location=(a[1]||"US").toUpperCase(),DeviceLan=this.language,DeviceRegion=this.location,DeviceRegionLan=this.getRegionLanguageName())},getMacAddress:function(){return"undefined"!=typeof DeviceUDID?DeviceUDID:"000000000000"},getIpAddress:function(){return"0.0.0.0"},getUDID:function(){return"undefined"!=typeof DeviceUDID?DeviceUDID:"pc"+this.getMacAddress()},getUUID:function(){return"pc"+this.getMacAddress()},getDeviceName:function(){return cc.sys.os==cc.sys.OS_ANDROID?1:cc.sys.os==cc.sys.OS_IOS?
0:2},getOsVersion:function(){return"unknown"},getCpuAbi:function(){return"x86"},isJailbreak:function(){return!1},getSimNetworkType:function(){return"unknown"},getSimPhoneType:function(){return"unknown"},getPlatformName:function(){return cc.sys.os.toLowerCase()},getChannelName:function(){return"h5"},getSchemeUrl:function(){return""},getProxyHost:function(){return""},getProxyPort:function(){return 0},validateGameApp:function(){return!0}};GameInitManager=cw.Class({});GameInitManager.startGame=function(){DcHelper.initAccount();cc.spriteFrameCache.addSpriteFrames(GetAssetsPath("mainui.plist"));cc.spriteFrameCache.addSpriteFrames(GetAssetsPath("common.plist"));StartMenuController.show();ButtonHelper.registerButtonDisabledListener(function(a){TipDialogController.showTip(a)})};GameInitManager.md5Name=function(a,c){var d=a.split(".");return 2<=d.length?(d="."+d[d.length-1],a.replace(d,"."+c+d)):a+"."+c};
GameInitManager.initResMd5=function(a){var c=wxConfig.configMd5;cc.res_url=wxConfig.cdnUrl;if(c&&""!=c){var d=this,e=function(c){for(var e={},h=0;h<c.length;++h){var m=c[h];e[m.file]=d.md5Name(m.file,m.md5);wxfileUtil.resMd5[m.file]=m.md5}cc.loader.registerAliases(e);a()};wxConfig.useCodeCacheRes?(0==wxConfig.qualityLevel?(cc.static_config=cc.static_config_low,console.warn("load static_config_low from preCache, ")):(cc.static_config=cc.static_config_high,console.warn("load static_config_high from preCache, ")),
e(cc.static_config),cc.static_config_low=null,cc.static_config_high=null,cc.static_config=null):(c="static_config."+c+".json",cc.res_url&&(c=cc.res_url+c),console.log(c),cc.loader.loadJson(c,function(c,d){c?a():e(d)}))}else a()};
GameInitManager.initSystem=function(a){DCManager.initDC();QAManager.init();ModelManager.loadLocalDataModel();Cocos2dxPlatformUtils.setRegionLanguageName("zh_CN");DeviceUDID=TalkingData.getDeviceId();TencentSdkManager.initServer();XCXManager.initServer();DcHelper.freshManAction(1);TencentSdkManager.init();XCXManager.init();GameInitManager.initResMd5(function(){a()})};
GameInitManager.initGame=function(){this.initGlobal();cc.addTimePoint("initMeta");this.initMeta();this.initUnionRes();cc.addTimePoint("startGame");this.startGame();cc.addTimePoint("startGameEnd")};GameInitManager.initLanguage=function(){};
GameInitManager.initLoadResList=function(){this.initLanguage();cc.game.config.unionMini?(cw.addA2A(["res/image/720x1280/union_mini.json"],g_resources),cw.addA2A(["res/image/720x1280/union_mini.ccba"],g_resources),cw.addA2A(["res/image/720x1280/startmenu.png"],g_resources)):(cw.addA2A(ResourcesManager.minRes,g_resources),cw.addA2A(ResourcesManager.xcxRes,g_resources));var a=ResourcesManager.retainedTextureRes,c;for(c in a)cc.textureCache.setTextureRetain(a[c]);this.logLoadResCount()};
GameInitManager.logLoadResCount=function(){for(var a={},c=0;c<g_resources.length;c++){var d=g_resources[c].split(".");2<=d.length&&(a[d[d.length-1]]=a[d[d.length-1]]?a[d[d.length-1]]+1:1)}cc.log("-------------loading count",g_resources.length);for(c in a)cc.log("-------------loading "+c,a[c])};
GameInitManager.initGlobal=function(){this.cc=cc;DebugFlag=0<cc.game.config[cc.game.CONFIG_KEY.debugMode];OsPlatform=Cocos2dxPlatformUtils.getPlatformName();ChanelName=SnsHelper.checkSNSLogin()||Cocos2dxPlatformUtils.getChannelName();cw.init();GameTutorialConfigInit();GameStoryConfigInit();QAManager.initFPS();CCBUILoaderHelper.initCCBLoaders();cc.BuilderReader.setResourcePath("res/image/720x1280/")};
GameInitManager.initMeta=function(){var a=cc.loader.getRes("res/data/meta.json");ModelManager.loadLocalConfigModel(a);DataHelper.onInit();cc.loader.release("res/data/meta.json")};GameInitManager.loadingNeedRes=function(a){if(this.isNeedLoading()){var c=this.getNeedRes(),d=this;cc.loader.load(c,function(c,f){c?a(!1):(d.needResOK=!0,d.initUnionRes(),a(!0))})}else a(!0)};GameInitManager.isNeedLoading=function(){return this.needResOK?!1:!0};
GameInitManager.isResCache=function(a){for(var c=cc.loader.cache,d=0;d<a.length;++d)if(!c[a[d]])return!1;return!0};
GameInitManager.getNeedRes=function(){if(!this.needResList){var a=[];cc.game.config.unionCCB?(cw.addA2A(["res/image/720x1280/union_ccb.json"],a),cw.addA2A(["res/image/720x1280/union_ccb.ccba"],a)):cw.addA2A(ResourcesManager.ccbiRes,a);cc.game.config.unionJson?(cw.addA2A(["res/image/720x1280/union_json.json"],a),cw.addA2A(["res/image/720x1280/union_atlas.json"],a)):cw.addA2A(ResourcesManager.spineRes,a);cc.game.config.unionFnt?cw.addA2A(["res/image/720x1280/union_fnt.json"],a):cw.addA2A(ResourcesManager.fontRes,
a);cc.game.config.unionPlist?cw.addA2A(["res/image/720x1280/union_plist.json"],a):cw.addA2A(ResourcesManager.plistRes,a);"undefined"==typeof TileBoardView&&cw.addA2A(["res/js/game.part.js"],a);this.needResList=a}return this.needResList};
GameInitManager.initUnionRes=function(){Utils.printCostTime("loading",!0);this.initCCB();Utils.printCostTime("loading");this.initJson();Utils.printCostTime("loading");this.initAtlas();Utils.printCostTime("loading");this.initFont();Utils.printCostTime("loading");this.initPlist();Utils.printCostTime("loading");this.initMini();Utils.printCostTime("loading")};GameInitManager.str2Uint8Array=function(a,c,d){return a?new Uint8Array(a.buffer,c,d):null};
GameInitManager.initCCB=function(){var a=cc.loader.getRes("res/image/720x1280/union_ccb.json"),c=cc.loader.getRes("res/image/720x1280/union_ccb.ccba");if(a&&c){for(var d in a){var e=a[d];cc.loader.cache["res/image/720x1280/"+d]=this.str2Uint8Array(c,e[0],e[1])}cc.loader.release("res/image/720x1280/union_ccb.json");cc.loader.release("res/image/720x1280/union_ccb.ccba")}};
GameInitManager.initJson=function(){var a=cc.loader.getRes("res/image/720x1280/union_json.json");if(a){for(var c in a)cc.loader.cache["res/image/720x1280/"+c]=a[c];cc.loader.release("res/image/720x1280/union_json.json")}};GameInitManager.initAtlas=function(){var a=cc.loader.getRes("res/image/720x1280/union_atlas.json");if(a){for(var c in a)cc.loader.cache["res/image/720x1280/"+c]=a[c];cc.loader.release("res/image/720x1280/union_atlas.json")}};
GameInitManager.initFont=function(){var a=cc.loader.getRes("res/image/720x1280/union_fnt.json");if(a){for(var c in a){var d="res/image/720x1280/"+c;cc.loader.cache[d]=_fntLoader.parseFnt(a[c],d)}cc.loader.release("res/image/720x1280/union_fnt.json")}};GameInitManager.initPlist=function(){var a=cc.loader.getRes("res/image/720x1280/union_plist.json");if(a){for(var c in a)cc.loader.cache["res/image/720x1280/"+c]=cc.plistParser.parse(a[c]);cc.loader.release("res/image/720x1280/union_plist.json")}};
GameInitManager.initMini=function(){var a=cc.loader.getRes("res/image/720x1280/union_mini.json"),c=cc.loader.getRes("res/image/720x1280/union_mini.ccba");if(a&&c){for(var d in a){var e="res/image/720x1280/"+d,f=a[d];0<=d.lastIndexOf(".plist")?cc.loader.cache[e]=cc.plistParser.parse(f):0<=d.lastIndexOf(".ccbi")?cc.loader.cache["res/image/720x1280/"+d]=this.str2Uint8Array(c,f[0],f[1]):0<=d.lastIndexOf(".fnt")?cc.loader.cache[e]=_fntLoader.parseFnt(f,e):cc.loader.cache[e]=f}cc.loader.release("res/image/720x1280/union_mini.json");
cc.loader.release("res/image/720x1280/union_mini.ccba")}};GameInitManager.preloadNeedRes=function(a){cc.loader.load(g_resources,function(c,d){a(c)})};GameInitManager.preLoadError=function(){var a=this,c=function(c){c?a.preLoadError():a.initGame()};wx.showModal({title:"\u7f51\u7edc\u5f02\u5e38\uff01",content:"\u7f51\u7edc\u597d\u50cf\u4e0d\u592a\u7ed9\u529b\uff0c\u91cd\u65b0\u5c1d\u8bd5\u4e0b\u5427~",success:function(d){d.confirm?a.preloadNeedRes(c):wx.exitMiniProgram()},fail:function(a){wx.exitMiniProgram()}})};GameMusicType={kKeyboard:"res/sound/music_swap_fruit.mp3",kIceBreak:"res/sound/music_eliminate_ice.mp3",kStoneBreak:"res/sound/music_eliminate_stone.mp3",kSlide:"res/sound/music_drop_fruit.mp3",kDrop:"res/sound/music_drop_fruit.mp3",kEliminateTip:"res/sound/music_swap_fruit.mp3",kGiftBoxBreak:"res/sound/music_eliminate_giftbox.mp3",kLockBreak:"res/sound/music_eliminate_lock.mp3",kHelmetBreak:"res/sound/music_eliminate_helmet.mp3",kCreateSix:"res/sound/music_create_six.mp3",kCreateFive:"res/sound/music_create_five.mp3",
kCreateLine:"res/sound/music_create_line.mp3",kCreateBomb:"res/sound/music_create_boom.mp3",kCreateCross:"res/sound/music_create_cross.mp3",kEliminateSix:"res/sound/music_eliminate_six.mp3",kEliminateSixStep:"res/sound/music_eliminate_six_step.mp3",kEliminateSixFruit:"res/sound/music_eliminate_six_eliminate.mp3",kEliminateFive:"res/sound/music_eliminate_five.mp3",kEliminateFive2:"res/sound/music_eliminate_five_2.mp3",kEliminateBomb:"res/sound/music_eliminate_boom.mp3",kEliminateLine:"res/sound/music_eliminate_line.mp3",
kEliminateCross:"res/sound/music_eliminate_cross.mp3",kEliminateCrossBomb:"res/sound/music_eliminate_cross_bomb.mp3",kEliminateCrossFly:"res/sound/music_eliminate_cross_flying.mp3",kEliminate:"res/sound/music_eliminate_fruit_%d.mp3",kEliminate20001:"res/sound/music_eliminate_20001.mp3",kEliminate20002_1:"res/sound/music_eliminate_20002_1.mp3",kEliminate20002_2:"res/sound/music_eliminate_20002_2.mp3",kEliminate20003_1:"res/sound/music_eliminate_20003_1.mp3",kEliminate20003_2:"res/sound/music_eliminate_20003_2.mp3",
kEliminate20004_1:"res/sound/music_eliminate_20004_1.mp3",kEliminate20004_2:"res/sound/music_eliminate_20004_%d.mp3",kEliminate20005_1:"res/sound/music_eliminate_20005_1.mp3",kEliminate20005_2:"res/sound/music_eliminate_20005_2.mp3",kSwap:"res/sound/music_swap_fruit.mp3",kSwapFun:"res/sound/music_swap_error.mp3",kSwapSixSix:"res/sound/music_swap_six_six.mp3",kSwapSixFive:"res/sound/music_swap_six_five.mp3",kSwapSixBoom:"res/sound/music_swap_six_boom.mp3",kSwapSixLine:"res/sound/music_swap_six_line.mp3",
kSwapFiveFive:"res/sound/music_swap_five_five.mp3",kSwapFiveBomb:"res/sound/music_swap_five_boom.mp3",kSwapFiveLine:"res/sound/music_swap_five_line.mp3",kSwapBombBomb:"res/sound/music_swap_boom_boom.mp3",kSwapBombLine:"res/sound/music_swap_boom_line.mp3",kSwapBombCross:"res/sound/music_swap_bomb_cross.mp3",kSwapLineLine:"res/sound/music_swap_line_line.mp3",kSwapLineCross:"res/sound/music_swap_line_cross.mp3",kSwapCrossCross:"res/sound/music_swap_cross_cross.mp3",kRefresh:"res/sound/music_refresh.mp3",
kButtonClick:"res/sound/button_click.mp3",kPopupClose:"res/sound/music_panel_close.mp3",kPopupOpen:"res/sound/music_panel_open.mp3",kCameraClick:"res/sound/camera_click.mp3",kBossFire:"res/sound/music_boss_fire.mp3",kBossMove:"res/sound/music_boss_move.mp3",kBossMoveJump:"res/sound/music_boss_move_jump.mp3",kBossMoveDown:"res/sound/music_boss_move_down.mp3",kPeanutOut:"res/sound/music_peanut_out.mp3",kBonusStepToLine:"res/sound/music_step_to_line.mp3",kAddCoin:"res/sound/music_add_coin.mp3",kAddDiamond:"res/sound/music_add_diamond.mp3",
kAddItem:"res/sound/music_add_item.mp3",kAddEnergy:"res/sound/music_add_energy.mp3",kUseEnergy:"res/sound/music_use_energy.mp3",kPassLevelTime:"res/sound/music_success_pass.mp3",kPassLevelStarFly:"res/sound/music_star.mp3",kPassLevelStarFly2:"res/sound/music_star_2.mp3",kPassLevelStarFly3:"res/sound/music_star_3.mp3",kGetCoconut:"res/sound/music_get_coconut.mp3",kWatermelonUpgrade:"",kNewStarLevel:"",kLoadingSceneBGM:"res/sound/music_loadingscene_bgm.mp3",kWorldSceneBGM:"res/sound/music_worldscene_bgm.mp3",
kGameSceneBGM:"res/sound/music_gamescene_bgm.mp3",kSuccessPanel:"res/sound/music_success_panel.mp3",kFailedPanel:"res/sound/music_failed_panel.mp3",kShakePlate:"res/sound/music_shake_plate.mp3",kPetLevelUp:"res/sound/music_pet_levelup.mp3",kPetCastSkill:"res/sound/pet_cast_skill.mp3",kMonsterAppear:"res/sound/monster_appear.mp3",kSwitchTransfer:"res/sound/switch_transfer.mp3",kComboTip:"res/sound/combo_%d_%d.mp3",kPetMood:"res/sound/pet_%d_%d.mp3"};GameMusicManager=cw.Class({});
GameMusicManager.instance=null;GameMusicManager.getInstance=function(){null==GameMusicManager.instance&&(GameMusicManager.instance=new GameMusicManager);return GameMusicManager.instance};GameMusicManager.playEffect=function(a,c){function d(){e.effectLifeCycle[a]=!1}if(null==a||""==a)return null;var e=this;null==this.effectLifeCycle&&(this.effectLifeCycle={});if(!this.effectLifeCycle[a])return this.effectLifeCycle[a]=!0,Utils.delayCall(d,1),audio.playEffect(a)};
GameMusicManager.stopEffect=function(a){a&&audio.pauseEffect(a)};GameMusicManager.playEffectLoop=function(a,c){};PoolManager=cw.Class({name:null,pool:null,cls:null,func:null,ctor:function(a,c,d){this.name=a;this.cls=c;this.func=d;this.pool=[]},create:function(){return 0==this.pool.length?this.cls?new this.cls:this.func.apply(this,arguments):this.pool.shift()},recover:function(a){return this.pool.push(a)}});PoolManager.list={};PoolManager.create=function(a,c,d){c=new PoolManager(a,c,d);return this.list[a]=c};PoolManager.print=function(){for(var a in this.list){var c=this.list[a];cc.log(c.name,c.pool.length)}};ResourcesManager=cw.Class({});ResourcesManager.addSpriteFrames=function(a){for(var c in a){var d=a[c];0<d.lastIndexOf(".plist")&&cc.spriteFrameCache.addSpriteFrames(d)}};ResourcesManager.loadPlist=function(a,c,d){a instanceof Array||(a=[a]);if(d){d=a.length;for(var e=0;e<d;++e){var f=a[e];0<f.lastIndexOf(".plist")&&a.push(f.replace(".plist",".png"))}}cc.loader.load(a,function(a,c,d){},function(){c&&(ResourcesManager.addSpriteFrames(a),c())})};
ResourcesManager.loadLevelConfig=function(a,c){var d=LevelDataManager.getInstance().getLevelConfigByID(a).getLevelNeedImages(),e=UserManager.getMainPetId();d.push("res/image/elements/pet_"+e+"_bomb.plist");d.push("res/image/720x1280/level_target.plist");d.push("res/image/720x1280/bg_scene_down1.jpg");d.push("res/image/720x1280/tools_image.png");d.push("res/image/720x1280/gamebg.plist");table.append(d,ResourcesManager.res);WaitingDialogController.show();this.loadPlist(d,function(){WaitingDialogController.hide();
c()},!0)};ResourcesManager.releaseLevelConfig=function(a){if(null!=a){a=LevelDataManager.getInstance().getLevelConfigByID(a).getLevelNeedImages();for(var c=0;c<a.length;++c){var d=a[c];0<d.lastIndexOf(".plist")&&(d=d.replace(".plist",".png"));cc.textureCache.removeTextureByName(d)}}};ResourcesManager.getCountryLanguangeFileName=function(a){return ResourcesManager.getSuffixFileName(a,Cocos2dxPlatformUtils.getRegionLanguageName())};
ResourcesManager.getLanguangeFileName=function(a){return ResourcesManager.getSuffixFileName(a,Cocos2dxPlatformUtils.getLanguageName())};ResourcesManager.getSuffixFileName=function(a,c){var d,e=a.lastIndexOf(".");-1==e?(d=a+"_",d+=c):(d=a.substr(0,e),e=a.substr(e),d+="_",d+=c,d+=e);return d};
ResourcesManager.getLocalizedSpriteFrameName=function(a){var c=cc.spriteFrameCache,d=ResourcesManager.getCountryLanguangeFileName(a);if(c.getSpriteFrame(d))return d;d=ResourcesManager.getLanguangeFileName(a);return c.getSpriteFrame(d)?d:a};ResourcesManager.getLocalizedFilePathByFileName=function(a){var c=this.zhRes;if(c[a]){var d=ResourcesManager.getCountryLanguangeFileName(a);if(c[d])return d;d=ResourcesManager.getLanguangeFileName(a);if(c[d])return d}return a};
ResourcesManager.removeUnusedRes=function(){cc.textureCache.removeUnusedTextures();audio.resetAudioPool();wx.triggerGC();console.log("wx.triggerGC")};ResourcesManager.zhRes={};cw.addA2O([],ResourcesManager.zhRes,!0);ResourcesManager.minRes="res/image/720x1280/WaitingDialog.ccbi res/image/720x1280/TipDialog.ccbi res/image/720x1280/StartMenu.ccbi res/image/720x1280/WorldMap.ccbi res/image/720x1280/WorldMapUI.ccbi res/image/720x1280/WorldMapItem.ccbi res/image/720x1280/WorldMapItemCell_1.ccbi res/image/720x1280/WorldMapItemCell_2.ccbi res/image/720x1280/WorldMapItemCell_3.ccbi res/image/720x1280/WorldMapHead.ccbi res/image/720x1280/CloudDialog.ccbi res/image/720x1280/WorldMapLevelItem.ccbi res/image/720x1280/WorldMapLevelLock.ccbi res/image/720x1280/mainui.plist res/image/720x1280/mainui.png res/image/720x1280/common.plist res/image/720x1280/startmenu.plist res/image/720x1280/startmenu.png res/image/720x1280/button.plist res/image/720x1280/panels.plist res/image/720x1280/gamemap.plist res/image/720x1280/prop.plist res/image/720x1280/num_score_white.fnt res/image/720x1280/num_score_white2.fnt res/image/720x1280/num_score_white3.fnt res/image/720x1280/font_letter105.fnt res/image/720x1280/groupranknew.plist res/image/720x1280/groupranknew.png res/image/720x1280/gRank_Bg.png res/image/720x1280/map1_FountainPool.json res/image/720x1280/map4_windmill.json res/image/720x1280/map5_catfisher.json res/image/720x1280/map_anim.atlas".split(" ");
ResourcesManager.retainedTextureRes="res/image/720x1280/mainui.png res/image/720x1280/panels.png res/image/720x1280/prop.png res/image/720x1280/button.png res/image/tileBaseItem.png res/image/tileMapItem.png res/image/720x1280/gameclear.png".split(" ");ResourcesManager.xcxRetainedTextureRes=[];cc.sys.os===cc.sys.OS_ANDROID&&cw.addA2A(ResourcesManager.xcxRetainedTextureRes,ResourcesManager.retainedTextureRes);ResourcesManager.xcxRes="res/image/720x1280/WorldMapItemCell_4.ccbi res/image/720x1280/WorldMapItemCell_5.ccbi res/image/720x1280/WorldMapItemCell_6.ccbi res/image/720x1280/redpack.plist res/image/720x1280/groupranknew.plist res/image/720x1280/WorldMapOpt.ccbi res/image/720x1280/ReloginDialog.ccbi".split(" ");
ResourcesManager.res="res/image/elements/five_ext.plist res/image/elements/line_bomb.plist res/image/elements/fruit_destroy.plist res/image/tileMapItem.plist res/image/tileBaseItem.plist res/image/tile_select.plist res/image/tile_cutypet.plist res/image/game_effects.plist".split(" ");ResourcesManager.petRes=["res/image/elements/pet_20001_bomb.plist","res/image/elements/pet_20002_bomb.plist","res/image/elements/pet_20003_bomb.plist","res/image/elements/pet_20004_bomb.plist","res/image/elements/pet_20005_bomb.plist"];
ResourcesManager.spineRes="res/image/720x1280/anim20001.json res/image/720x1280/anim20001.atlas res/image/720x1280/anim20002.json res/image/720x1280/anim20002.atlas res/image/720x1280/anim20003.json res/image/720x1280/anim20003.atlas res/image/720x1280/anim20004.json res/image/720x1280/anim20004.atlas res/image/720x1280/anim20005.json res/image/720x1280/anim20005.atlas res/image/720x1280/customer_1.json res/image/720x1280/customer_1.atlas res/image/720x1280/customer_2.json res/image/720x1280/customer_2.atlas res/image/720x1280/customer_3.json res/image/720x1280/customer_3.atlas res/image/720x1280/customer_4.json res/image/720x1280/customer_4.atlas res/image/720x1280/customer_5.json res/image/720x1280/customer_5.atlas res/image/720x1280/customer_6.json res/image/720x1280/customer_6.atlas res/image/720x1280/customer_7.json res/image/720x1280/customer_7.atlas res/image/720x1280/customer_8.json res/image/720x1280/customer_8.atlas res/image/720x1280/customer_9.json res/image/720x1280/customer_9.atlas res/image/720x1280/customer_10.json res/image/720x1280/customer_10.atlas res/image/720x1280/customer_11.json res/image/720x1280/customer_11.atlas res/image/720x1280/get_pet_animation.json res/image/720x1280/get_pet_animation.atlas res/image/720x1280/target_plate.json res/image/720x1280/target_plate.atlas res/image/720x1280/empty.json res/image/720x1280/empty.atlas res/image/720x1280/cooker_pan.json res/image/720x1280/cooker_pan.atlas res/image/720x1280/cloud.json res/image/720x1280/cloud.atlas res/image/720x1280/guide.json res/image/720x1280/guide.atlas res/image/720x1280/loading.json res/image/720x1280/loading.atlas res/image/720x1280/open.json res/image/720x1280/open.atlas res/image/720x1280/high_light.atlas res/image/720x1280/high_light.json res/image/720x1280/skills.atlas res/image/720x1280/skills.json res/image/720x1280/gift_levelup.atlas res/image/720x1280/gift_levelup.json res/image/720x1280/start2.json res/image/720x1280/start2.atlas res/image/720x1280/start_cloud.json res/image/720x1280/start_cloud.atlas res/image/720x1280/tools_image.atlas res/image/720x1280/tools_prop_11002.json res/image/720x1280/tools_prop_11003.json res/image/720x1280/tools_prop_11004.json res/image/720x1280/tools_prop_11012.json res/image/720x1280/add5step.json res/image/720x1280/add5step.atlas res/image/720x1280/BG1.json res/image/720x1280/BG1.atlas res/image/720x1280/kit.json res/image/720x1280/kit.atlas res/image/720x1280/pet_hall_stage_skel.json res/image/720x1280/pet_hall_stage_skel.atlas res/image/720x1280/niudan.json res/image/720x1280/niudan.atlas res/image/720x1280/map1_FountainPool.json res/image/720x1280/map4_windmill.json res/image/720x1280/map5_catfisher.json res/image/720x1280/map_anim.atlas res/image/720x1280/guide_1.atlas res/image/720x1280/guide_1.json res/image/720x1280/guide_2.atlas res/image/720x1280/guide_2.json res/image/720x1280/guide_3.atlas res/image/720x1280/guide_3.json res/image/720x1280/guide_4.atlas res/image/720x1280/guide_4.json res/image/720x1280/guide_5.atlas res/image/720x1280/guide_5.json res/image/720x1280/guide_9.atlas res/image/720x1280/guide_9.json res/image/720x1280/guide_13.atlas res/image/720x1280/guide_13.json res/image/720x1280/guide_15.atlas res/image/720x1280/guide_15.json res/image/720x1280/guide_19.atlas res/image/720x1280/guide_19.json res/image/720x1280/guide_21.atlas res/image/720x1280/guide_21.json res/image/720x1280/guide_22.atlas res/image/720x1280/guide_22.json res/image/720x1280/guide_23.atlas res/image/720x1280/guide_23.json res/image/720x1280/guide_36.atlas res/image/720x1280/guide_36.json res/image/720x1280/guide_91.atlas res/image/720x1280/guide_91.json".split(" ");
ResourcesManager.fontRes="res/image/720x1280/font_letter105.fnt res/image/720x1280/font_txt_start.fnt res/image/720x1280/font_number1.fnt res/image/720x1280/font_number104.fnt res/image/720x1280/num_blue_score.fnt res/image/720x1280/num_paragraph_white.fnt res/image/720x1280/num_score_white.fnt res/image/720x1280/num_score_white2.fnt res/image/720x1280/num_score_white3.fnt res/image/720x1280/num_orange_ligtht.fnt res/image/720x1280/font_word_white.fnt res/image/720x1280/num_kitchen_blue.fnt res/image/720x1280/num_greenbutton.fnt res/image/720x1280/num_jianbianblue.fnt res/image/720x1280/num_jianbianyellow.fnt res/image/720x1280/num_lianjishuzi.fnt res/image/720x1280/num_scoreyellow.fnt res/image/720x1280/num_shuliang.fnt res/image/720x1280/num_tongyongwuxiaoguo.fnt res/image/720x1280/num_zonghebutton.fnt res/image/720x1280/btn_num_white.fnt res/image/720x1280/score_num_purple.fnt res/image/720x1280/num_feed_yellow.fnt".split(" ");
ResourcesManager.jsonRes=["res/data/meta.json"];ResourcesManager.pngRes=["res/image/720x1280/game_logo.png","res/image/720x1280/bg_startmenu.jpg","res/image/720x1280/gRank_Bg.png"];ResourcesManager.plistRes="res/image/720x1280/falling_paper.plist res/image/720x1280/falling_star.plist res/image/720x1280/falling_star2.plist res/image/720x1280/rain_effect.plist res/image/720x1280/star_boom.plist res/image/720x1280/star_flying.plist res/image/720x1280/star_flying3.plist res/image/720x1280/star_flying4.plist res/image/720x1280/star_flying5.plist res/image/720x1280/victory_bg.plist res/image/720x1280/SmallParticle.plist res/image/720x1280/activity.plist res/image/720x1280/button.plist res/image/720x1280/common.plist res/image/720x1280/energy.plist res/image/720x1280/equipments.plist res/image/720x1280/friends.plist res/image/720x1280/gamebg.plist res/image/720x1280/gameclear.plist res/image/720x1280/gamemap.plist res/image/720x1280/kitchengod.plist res/image/720x1280/level_target.plist res/image/720x1280/lottery.plist res/image/720x1280/lottery_b2.plist res/image/720x1280/mail.plist res/image/720x1280/mainui.plist res/image/720x1280/panels.plist res/image/720x1280/petadoption.plist res/image/720x1280/petEquipUI.plist res/image/720x1280/pets.plist res/image/720x1280/popcorn.plist res/image/720x1280/popcorn2.plist res/image/720x1280/prop.plist res/image/720x1280/request.plist res/image/720x1280/shop.plist res/image/720x1280/qqVip.plist res/image/720x1280/SignIn.plist res/image/720x1280/startmenu.plist res/image/720x1280/task.plist res/image/720x1280/timelevel.plist res/image/720x1280/novice.plist res/image/720x1280/redpack.plist res/image/720x1280/activity_10001.plist res/image/720x1280/activity_10003.plist res/image/720x1280/activity_10006.plist res/image/720x1280/light_dot.plist res/image/720x1280/shareKit.plist res/image/720x1280/sharerank.plist res/image/720x1280/huskyActivity.plist res/image/720x1280/groupranknew.plist".split(" ");
ResourcesManager.ccbiRes=[];ResourcesManager.releaseRes="res/image/elements/five_ext.png res/image/elements/line_bomb.png res/image/elements/fruit_destroy.png res/image/elements/pet_20001_bomb.png res/image/elements/pet_20002_bomb.png res/image/elements/pet_20003_bomb.png res/image/elements/pet_20004_bomb.png res/image/elements/pet_20005_bomb.png res/image/game_effects.png res/image/720x1280/customer_1.png res/image/720x1280/customer_2.png res/image/720x1280/customer_3.png res/image/720x1280/customer_4.png res/image/720x1280/customer_5.png res/image/720x1280/customer_6.png res/image/720x1280/customer_7.png res/image/720x1280/customer_8.png res/image/720x1280/customer_9.png res/image/720x1280/customer_10.png res/image/720x1280/get_pet_animation.png res/image/720x1280/target_plate.png res/image/720x1280/cooker_pan.png res/image/720x1280/guide.png res/image/720x1280/open.png res/image/720x1280/high_light.png res/image/720x1280/skills.png res/image/720x1280/gift_levelup.png res/image/720x1280/tools_image.png res/image/720x1280/add5step.png res/image/720x1280/BG1.png res/image/720x1280/kit.png res/image/720x1280/pet_hall_stage_skel.png res/image/720x1280/energy.png res/image/720x1280/kitchengod.png res/image/720x1280/lottery.png res/image/720x1280/petadoption.png res/image/720x1280/petEquipUI.png res/image/720x1280/pets.png res/image/720x1280/popcorn.png res/image/720x1280/popcorn2.png res/image/720x1280/request.png res/image/720x1280/qqVip.png res/image/720x1280/SignIn.png res/image/720x1280/startmenu.png res/image/720x1280/activity.png res/image/720x1280/sharerank.png res/image/720x1280/bg_pet_house.jpg res/image/720x1280/pet_cushion.png res/image/720x1280/Pet_Hall_Popcorn.png res/image/720x1280/pet_dialog_fg.png res/image/720x1280/PetHall_BG_1.jpg res/image/720x1280/PetHall_BG_2.jpg res/image/720x1280/PetHall_BG_3.jpg res/image/720x1280/Pet_Hall_Pet0.png res/image/720x1280/Pet_Hall_Pet1.png res/image/720x1280/Pet_Hall_Lock.png res/image/720x1280/activity_10001.png res/image/720x1280/activity_10002.png res/image/720x1280/game_logo.png res/image/720x1280/bg_startmenu.jpg res/image/720x1280/gRank_Bg.png res/image/720x1280/sm_title_start.png res/image/720x1280/sm_title_facebook.png res/image/720x1280/sm_titile_guest.png res/image/720x1280/title_skill_20001.png res/image/720x1280/title_skill_20002.png res/image/720x1280/title_skill_20003.png res/image/720x1280/title_skill_20004.png res/image/720x1280/title_skill_20005.png res/image/720x1280/guide_1.png res/image/720x1280/guide_2.png res/image/720x1280/guide_3.png res/image/720x1280/guide_4.png res/image/720x1280/guide_5.png res/image/720x1280/guide_9.png res/image/720x1280/guide_13.png res/image/720x1280/guide_15.png res/image/720x1280/guide_19.png res/image/720x1280/guide_21.png res/image/720x1280/guide_22.png res/image/720x1280/guide_23.png res/image/720x1280/guide_36.png res/image/720x1280/guide_91.png res/image/720x1280/btnFront_shareToFriend.png res/image/720x1280/feed_flag.png res/image/720x1280/feed1001.png res/image/720x1280/feed1002.png res/image/720x1280/feed1003.png res/image/720x1280/feed1004.png res/image/720x1280/feed1005.png res/image/720x1280/feed1006.png res/image/720x1280/feed1007.png res/image/720x1280/feed1008.png res/image/720x1280/feed1009.png res/image/720x1280/feed1010.png res/image/720x1280/feed1011.png res/image/720x1280/feed1012.png res/image/720x1280/feed1013.png res/image/720x1280/feed1014_1.png res/image/720x1280/feed1014_2.png res/image/720x1280/feed1015_1.png res/image/720x1280/feed1015_2.png res/image/720x1280/feed1016.png res/image/720x1280/feed1017.png res/image/720x1280/feed1020.png res/image/720x1280/share_car_30002.png res/image/720x1280/share_car_30003.png res/image/720x1280/share_car_30004.png res/image/720x1280/share_car_30005.png res/image/720x1280/share_car_30006.png res/image/720x1280/share_car_30007.png res/image/720x1280/share_car_30008.png res/image/720x1280/share_car_30009.png res/image/720x1280/share_car_30010.png res/image/720x1280/share_car_30011.png res/image/720x1280/share_car_30012.png res/image/720x1280/share_dialog_3.png res/image/720x1280/share_dialog_4.png res/image/720x1280/share_dialog_5.png res/image/720x1280/share_dialog_6.png res/image/720x1280/share_pet_20001.png res/image/720x1280/share_pet_20002.png res/image/720x1280/share_pet_20003.png res/image/720x1280/share_pet_20004.png res/image/720x1280/share_pet_20005.png res/image/720x1280/mapBgOpt.jpg res/image/720x1280/redpack.png res/image/720x1280/shareKit.png".split(" ");
var g_resources=g_resources||[];cw.addA2A(ResourcesManager.jsonRes,g_resources);FreLoginManager={loginFailure:function(a){a=this.getTypeName(a);var c=persist.getObject(a);c||(c={count:0,time:0});c.count+=1;6<c.count&&(c.count=1);c.time=(new Date).getTime();persist.setObject(a,c)},loginSuccess:function(a){a=this.getTypeName(a);persist.setObject(a,{count:0,time:0})},login:function(a,c){c?this.loginSuccess(a):this.loginFailure(a)},getTypeName:function(a){return"fre_login_"+a},isCanLogin:function(a,c){a=this.getTypeName(a);var d=persist.getObject(a);return d&&(d=1E3*this.getNeedTime(d.count)+
d.time-(new Date).getTime(),0<d)?(c&&(d=Utils.formatSecToHHMMSS(d/1E3),d=string.expand(TextTable.t_ecode200279,{time:d}),TipDialogController.showTip(d)),!1):!0},getLastTime:function(a){a=this.getTypeName(a);return(a=persist.getObject(a))?(a=1E3*this.getNeedTime(a.count)+a.time-(new Date).getTime(),0<=a?a:0):0},getNeedTime:function(a){return 6<=a?300:3<=a?10:0}};EVENTS={Exit:"Event_Exit",Error:"Event_Error",Start:"Event_Start",Enter:"Event_Enter",Cancel:"Event_Cancel",Dispose:"Event_Dispose",Progress:"Event_Progress",Complete:"Event_Complete"};GLOBAL_EVENTS={SyncComplete:"GEvent_Sync_Complete",LoginComplete:"GEvent_Login_Complete",UpdateButton:"GEvent_Update_Button"};DISPLAY_EVENTS={TouchBegan:"DEvent_Touch_Began",TouchEnded:"DEvent_Touch_Ended",TouchMoved:"DEvent_Touch_Moved",TouchTapped:"DEvent_Touch_Tapped"};
CWEvent=cw.Class({ctor:function(a,c,d){this.name=a;this.data=c;this.target=d},dispose:function(){this.context=this.target=this.data=this.name=null}});var EventDispatcher=cw.Class({ctor:function(){this.receivers={}},addEventListener:function(a,c,d){if(a&&c&&!this.hasEventListener(a,c)){var e=this.receivers[a];e||(e=[],this.receivers[a]=e);e.push({context:d,listener:c})}},dispatchEvent:function(a){if(a.name){var c=this.receivers[a.name];if(c){for(var d=[],e=0;e<c.length;++e){var f=c[e];d.push(f)}a.context=null;for(e=0;e<d.length;++e)f=d[e],a.context=f.context,f.listener(a);a.context=null}}},hasEventListener:function(a,c){if(!a)return!1;var d=this.receivers[a];
if(!d)return!1;for(var e=0;e<d.length;++e)if(d[e].listener==c)return!0;return!1},getEventListenerIndex:function(a,c){if(!a)return null;var d=this.receivers[a];if(!d)return null;for(var e=0;e<d.length;++e)if(d[e].listener==c)return k;return null},hasEventListenerByName:function(a){return a?(a=this.receivers[a])&&0<a.length:!1},removeEventListener:function(a,c){if(a&&c){var d=this.getEventListenerIndex(a,c);d&&ArrayUtils.remove(this.receivers[a],d)}},removeEventListenerByName:function(a){a&&(this.receivers[a]=
null)},removeAllEventListeners:function(){this.receivers={}},dp:function(){return this.dispatchEvent.apply(this,arguments)},he:function(){return this.hasEventListener.apply(this,arguments)},ad:function(){return this.addEventListener.apply(this,arguments)},rm:function(){return this.removeEventListener.apply(this,arguments)},hen:function(){return this.hasEventListenerByName.apply(this,arguments)},rma:function(){return this.removeAllEventListeners.apply(this,arguments)}});var kHitAreaObjectTag=-100,CocosNode=cw.Class.extend(EventDispatcher,{ctor:function(a){this._super();this.parent=null;this.touchEnabled=!0;this.list=[];this.name=null;this.setRefObject(a);this.isDisposed=!1;this.className="CocosNode"},dispose:function(){this.rma();this.refObject&&!this.isRefObjectReleased&&(this.refObject.stopAllActions(),this.refObject.release(),this.refObject=null);if(this.list)for(var a=0;a<this.list.length;++a)this.list[a].dispose();this.name=this.refObject=this.parent=this.list=
null;this.isDisposed=!0},releaseCocosObj:function(){if(!this.isRefObjectReleased&&(this.isRefObjectReleased=!0,this.refObject&&this.refObject.release(),this.list))for(var a=0;a<this.list.length;++a)this.list[a].releaseCocosObj()},setRefObject:function(a){this.refObject!=a&&(this.refObject&&(this.refObject.release(),this.refObject=null),(this.refObject=a)&&this.refObject.retain())},cleanup:function(){this.refObject.cleanup()},draw:function(){this.refObject.draw()},visit:function(){this.refObject.visit()},
transform:function(){this.refObject.transform()},scheduleUpdate:function(){this.refObject.scheduleUpdate()},unscheduleUpdate:function(){this.refObject.unscheduleUpdate()},scheduleUpdateWithPriority:function(a,c){this.refObject.scheduleUpdateWithPriority(a,c)},setGrid:function(a){this.refObject.setGrid(a)},runAction:function(a){return this.refObject.runAction(a)},stopAllActions:function(){this.refObject.stopAllActions()},stopAction:function(a){this.refObject.stopAction(a)},stopActionByTag:function(a){this.refObject.stopActionByTag(a)},
getActionByTag:function(a){return this.refObject.getActionByTag(a)},numberOfRunningActions:function(){return this.refObject.numberOfRunningActions()},convertToNodeSpace:function(a){return this.refObject.convertToNodeSpace(a)},convertToWorldSpace:function(a){return this.refObject.convertToWorldSpace(a)},convertToNodeSpaceAR:function(a){return this.refObject.convertToNodeSpaceAR(a)},convertToWorldSpaceAR:function(a){return this.refObject.convertToWorldSpaceAR(a)},convertTouchToNodeSpace:function(a){return this.refObject.convertTouchToNodeSpace(a)},
convertTouchToNodeSpaceAR:function(a){return this.refObject.convertTouchToNodeSpaceAR(a)},nodeToParentTransform:function(){return this.refObject.nodeToParentTransform()},parentToNodeTransform:function(){return this.refObject.parentToNodeTransform()},nodeToWorldTransform:function(){return this.refObject.nodeToWorldTransform()},worldToNodeTransform:function(){return this.refObject.worldToNodeTransform()},onAddToStage:function(){},onRemoveFromStage:function(){},onCocosDispose:function(){},getParent:function(){return this.parent},
getCocosRefParent:function(){return this.refObject.getParent()},isRunning:function(){return this.refObject.isRunning()},getZOrder:function(){return this.refObject.getZOrder()},getNumOfChildren:function(){return this.list.length},getRotation:function(){return this.refObject.getRotation()},setRotation:function(a){this.refObject.setRotation(a)},getRotationX:function(){return this.refObject.getRotationX()},setRotationX:function(a){this.refObject.setRotationX(a)},getRotationY:function(){return this.refObject.getRotationY()},
setRotationY:function(a){this.refObject.setRotationY(a)},getScale:function(){return this.refObject.getScale()},setScale:function(a){this.refObject.setScale(a)},getScaleX:function(){return this.refObject.getScaleX()},setScaleX:function(a){this.refObject.setScaleX(a)},getScaleY:function(){return this.refObject.getScaleY()},setScaleY:function(a){this.refObject.setScaleY(a)},getPosition:function(){return ccp(this.refObject.getPosition())},setPosition:function(a){this.refObject&&this.refObject.setPosition(a.x,
a.y)},setPositionXY:function(a,c){this.refObject.setPosition(a,c)},getPositionXY:function(){return this.refObject.getPosition()},getPositionX:function(){return this.refObject.getPositionX()},setPositionX:function(a){this.refObject.setPositionX(a)},getPositionY:function(){return this.refObject.getPositionY()},setPositionY:function(a){this.refObject.setPositionY(a)},getSkewX:function(){return this.refObject.getSkewX()},setSkewX:function(a){this.refObject.setSkewX(a)},getSkewY:function(){return this.refObject.getSkewY()},
setSkewY:function(a){this.refObject.setSkewY(a)},getOpacity:function(){return this.refObject.getOpacity()},setOpacity:function(a){this.refObject.setOpacity(a)},getAlpha:function(){return this.refObject.getOpacity()/255},setAlpha:function(a){this.refObject.setOpacity(Math.floor(255*a+0.5))},isVisible:function(){return this.refObject&&this.refObject.isVisible()||!1},setVisible:function(a){this.refObject&&this.refObject.setVisible(a)},getUserData:function(){return this.refObject.getUserData()},setUserData:function(a){this.refObject.setUserData(a)},
getAnchorPoint:function(){return this.refObject.getAnchorPoint()},setAnchorPoint:function(a){this.refObject.setAnchorPoint(a)},isIgnoreAnchorPointForPosition:function(){return this.refObject.isIgnoreAnchorPointForPosition()},ignoreAnchorPointForPosition:function(a){this.refObject.ignoreAnchorPointForPosition(a)},getContentSize:function(){return this.refObject.getContentSize()},setContentSize:function(a){this.refObject.setContentSize(a)},getTag:function(){return this.refObject.getTag()},setTag:function(a){this.refObject.setTag(a)},
boundingBox:function(){return this.refObject.boundingBox()},boundingBoxInWorld:function(){return this.refObject.boundingBoxInWorld()},setShaderProgramByKey:function(a){return this.refObject.setShaderProgramByKey(a)},addChild:function(a){this.addChildAt(a,this.list.length)},addChildZOrder:function(a,c){a&&a.refObject&&!this.contains(a)&&(this.refObject.addChild(a.refObject,c),this.list.push(a),a.parent=this)},addChildAt:function(a,c){a&&a.refObject&&!this.contains(a)&&(this.refObject.addChild(a.refObject,
c),this.list.splice(c,0,a),a.parent=this)},getChildByName:function(a){for(var c=0;c<this.list.length;++c){var d=this.list[c];if(d&&d.name==a)return d}},getChildIndex:function(a){if(a)for(var c=0;c<this.list.length;++c){var d=this.list[c];if(d&&d==a)return c}return-1},getChildrenList:function(){return this.list},removeFromParentAndCleanup:function(a){this.parent&&this.parent.removeChild(this,a)},removeChild:function(a,c,d){if(a){var e=!0;null!=c&&(e=c);if(c=a.refObject)d||this.refObject.removeChild(c,
e),d=this.getChildIndex(a),0<=d&&(this.list.splice(d,1),a.parent=null),e&&a.dispose()}},removeChildren:function(a){var c=!0;null!=a&&(c=a);this.refObject.removeAllChildren(c);if(c)for(a=0;a<this.list.length;++a)this.list[a].dispose();this.list=[]},removeAllChildren:function(a){if(this.list)for(var c=this.list.length-1;0<=c;--c)this.list[c].removeFromParentAndCleanup(a)},setScaleBy:function(a){this.setScaleXBy(a);this.setScaleYBy(a)},setScaleXBy:function(a){this.setScaleX(this.getScaleX()*a)},setScaleYBy:function(a){this.setScaleY(this.getScaleY()*
a)},getNodePosInthisSpace:function(a){var c=a.getParent();a=a.getPosition();c=c.convertToWorldSpace(ccp(a.x,a.y));return this.convertToNodeSpace(ccp(c.x,c.y))},getPositionInWorldSpace:function(){var a=this.getParent(),c=this.getPosition();return a.convertToWorldSpace(ccp(c.x,c.y))},setChildrenVisible:function(a,c){for(var d=0;d<this.list.length;++d){var e=this.list[d];e.setVisible(a);c&&e.setChildrenVisible(a,!0)}},setAnchorPointCenterWhileStayOrigianlPosition:function(){this.setAnchorPointWhileStayOriginalPosition(ccp(0.5,
0.5))},setToParentCenterHorizontal:function(){var a=this.getParent();cw.assert(a);var a=a.getGroupBounds().size,c=this.getGroupBounds().size,a=(a.width-c.width)/2,c=this.getAnchorPoint();this.setAnchorPointWhileStayOriginalPosition(ccp(0,0));this.setPositionX(a);this.setAnchorPointWhileStayOriginalPosition(ccp(c.x,c.y))},setToParentCenterVertical:function(){var a=this.getParent();cw.assert(a);var a=a.getGroupBounds().size,c=this.getGroupBounds().size,a=(a.height-c.height)/2,c=this.getAnchorPoint();
this.setAnchorPointWhileStayOriginalPosition(ccp(0,1));this.setPositionY(-a);this.setAnchorPointWhileStayOriginalPosition(ccp(c.x,c.y))},setAnchorPointWhileStayOriginalPosition:function(a){cw.assert(a);var c=this.getContentSize(),d=this.getScaleX(),e=this.getRotation(),f=this.getPosition(),g=this.getSkewX(),h=this.getSkewY(),m=Math.cos(e*Math.pi/180),e=Math.sin(e*Math.pi/180),n={};n.x=(a.x-this.getAnchorPoint().x)*c.width*d;n.y=(a.y-this.getAnchorPoint().y)*c.height*d;d={};d.x=n.x*m+n.y*e;d.y=n.y*
m-n.x*e;d.x+=c.height*Math.tan(g*Math.pi/180)/2;d.y+=c.width*Math.tan(h*Math.pi/180)/2;this.setAnchorPoint(ccp(a.x,a.y));this.setPositionXY(f.x+d.x,f.y+d.y)},contains:function(a){if(a)for(var c=0;c<this.list.length;++c)if(this.list[c]==a)return!0;return!1},getBounds:function(a){var c=null;a&&(c=a.refObject);return CCNodeUtils.getNodeBounds(this.refObject,c)},getGroupBounds:function(a){var c=null;a&&(c=a.refObject);return CCNodeUtils.getNodeGroupBounds(this.refObject,c)},registerScriptHandler:function(a){this.refObject.registerScriptHandler(a)},
hitTestPoint:function(a,c){var d=!1;c||(d=c);return this.refObject?CWDisplayUtils.hitTestPoint(this.refObject,a,d,kHitAreaObjectTag):!1}});CocosNode.create=function(){return new CocosNode(new cc.Node)};var ClippingNode=cw.Class.extend(CocosNode,{ctor:function(a){this._super(a);a=this.getGroupBounds().size;a=cc.LayerColor.create(cc.color(255,255,255,255),a.width,a.height);a.setTag(kHitAreaObjectTag);a.setOpacity(0);this.refObject.addChild(a)},getStencil:function(){return this.refobject.getStencil()},setStencil:function(a){this.refobject.setStencil(a)},getAlphaThreshold:function(){return this.refobject.getAlphaThreshold()},setAlphaThreshold:function(a){this.refobject.setAlphaThreshold(a)},isInverted:function(){return this.refobject.isInverted()},
setInverted:function(a){this.refobject.setInverted(a)}});ClippingNode.create=function(a,c){if(a){var d=cc.LayerColor.create(cc.color(255,255,255,255),a.size.width,a.size.height),d=new ClippingNode(cc.ClippingNode.create(d));d.className="ClippingNode";c&&d.addChild(c);return d}};
var SimpleClippingNode=cw.Class.extend(CocosNode,{setContentSize:function(a){this._super(a);this.groupBoundsCocosObj||(a=cc.LayerColor.create(cc.color(255,255,255,255),a.width,a.height),a.setTag(kHitAreaObjectTag),a.setOpacity(0),this.refObject.addChild(a),this.groupBoundsCocosObj=a)}});SimpleClippingNode.create=function(){return new SimpleClippingNode(ClipView.create())};var ScissorClippingNode=cw.Class.extend(CocosNode,{setNodeVisibleDeep:function(a){this.refobject.setNodeVisibleDeep(a)}});
ScissorClippingNode.create=function(a,c){var d=new ScissorClippingNode(ClipView.create());a&&d.setContentSize(cc.size(a.size.width,a.size.height));d.className="ScissorClippingNode";c&&d.addChild(c);return d};Director=cw.Class({ctor:function(){this.cur_scene=null;this.scene_stack=[];this.director=cc.director},init:function(){},onKeypadInvoked:function(){var a=this.getRunningScene();if(a){var c=PopoutManager&&PopoutManager.getTopPanel();if(c&&"function"==typeof c.onKeyBackClicked)c.onKeyBackClicked();else if(--a,"function"==typeof a.onKeyBackClicked)a.onKeyBackClicked()}},exitGame:function(){printf("-----------exit game")},getRunningScene:function(){var a=this.director.getRunningScene();if(!a)return null;
for(var c=0;c<this.scene_stack.length;++c){var d=this.scene_stack[c];if(d&&d.refObject==a)return d}return null},runWithScene:function(a){var c=ArrayUtils.includes(this.scene_stack,a);a&&!c&&(this.scene_stack.push(a),this.director.runWithScene(a.refObject),a.onEnter(),this.cur_scene=a)},pushScene:function(a,c){var d=ArrayUtils.includes(this.scene_stack,a);if(a&&!d){var e=this.getRunningScene();this.scene_stack.push(a);this.director.pushScene(a.refObject);a.onEnter(c);this.cur_scene=a;e&&(Utils.delayCall(function(){a.touchEnabled=
!0;e.touchEnabled=!0},0.36),a.touchEnabled=!1,e.touchEnabled=!1)}},popScene:function(a,c){function d(){e.touchEnabled=!0;f&&(f.touchEnabled=!0)}var e=this.getRunningScene();if(e){ArrayUtils.removeValue(this.scene_stack,e);this.director.popScene();e.onExit();a&&e.dispose();if(this.cur_scene=ArrayUtils.last(this.scene_stack))this.cur_scene.onEnter(c);e.touchEnabled=!1;var f=this.cur_scene;f&&(f.touchEnabled=!1);Utils.delayCall(d,0.36)}},popToRootScene:function(a){for(;1<this.scene_stack.length;){var c=
this.getRunningScene();if(!c)break;ArrayUtils.removeValue(this.scene_stack,c);this.director.popScene();c.onExit();a&&c.dispose();if(this.cur_scene=ArrayUtils.last(this.scene_stack))this.cur_scene.onEnter(params)}},replaceScene:function(a){var c=this.getRunningScene();ArrayUtils.includes(this.scene_stack,a)||(this.scene_stack.push(a),this.director.replaceScene(a.refObject),a.onEnter(),this.cur_scene=a,c&&(c.onExit(),c.dispose(),ArrayUtils.removeValue(this.scene_stack,c)));a.touchEnabled=!1;c&&(c.touchEnabled=
!1);Utils.delayCall(function(){a.touchEnabled=!0;c&&(c.touchEnabled=!0)},0.36)},purgeCachedData:function(){this.director.purgeCachedData()},pause:function(){this.director.pause()},resume:function(){this.director.resume()},isPaused:function(){return this.director.isPaused()},isDisplayStats:function(){return this.director.isDisplayStats()},convertToGL:function(a){return this.director.convertToGL(a)},convertToUI:function(a){return this.director.convertToUI(a)},setProjection:function(a){this.director.setProjection(a)},
setDisplayStats:function(a){this.director.setDisplayStats(a)},setContentScaleFactor:function(a){return this.director.setContentScaleFactor(a)},getZEye:function(){return this.director.getZEye()},getWinSize:function(){return this.director.getWinSize()},getScheduler:function(){return this.director.getScheduler()},getOpenGLView:function(){return this.director.getOpenGLView()},getProjection:function(){return this.director.getProjection()},getTotalFrames:function(){return this.director.getTotalFrames()},
getVisibleSize:function(){return this.director.getVisibleSize()},getActionManager:function(){return this.director.getActionManager()},getAccelerometer:function(){return this.director.getAccelerometer()},getVisibleOrigin:function(){return this.director.getVisibleOrigin()},getWinSizeInPixels:function(){return this.director.getWinSizeInPixels()},getTouchDispatcher:function(){return this.director.getTouchDispatcher()},getKeypadDispatcher:function(){return this.director.getKeypadDispatcher()},getNotificationNode:function(){return this.director.getNotificationNode()},
getAnimationInterval:function(){return this.director.getAnimationInterval()},getContentScaleFactor:function(){return this.director.getContentScaleFactor()}});Director.instance=null;Director.getInstance=function(){Director.instance||(Director.instance=new Director,Director.instance.init());return Director.instance};var LabelBitmap=cw.Class.extend(CocosNode,{getColor:function(){return this.refObject.getColor()},setColor:function(a){this.refObject.setColor(a);return this},setWidth:function(a){this.refObject.setWidth(a);return this},getString:function(){return this.refObject.getString()},setText:function(a){this.refObject.setString(a);return this},getFntFile:function(){return this.refObject.getFntFile()},setFntFile:function(a){this.refObject.setFntFile(a);return this},getOpacity:function(){return this.refObject.getOpacity()},
setOpacity:function(a){this.refObject.setOpacity(a);return this},setLineBreakWithoutSpace:function(a){this.refObject.setLineBreakWithoutSpace(a);return this},getPreferredSize:function(){return cc.size(this.preferredWidth,this.preferredHeight)},setPreferredSize:function(a,c){this.preferredWidth=a;this.preferredHeight=c;return this},setAlignment:function(a){this.alignment=a;this.refObject.setAlignment(a);return this},adjustByData:function(){var a=this.uiAdjustData.rectSize;if(a){var c=this.getContentSize(),
d=a.height/c.height;this.setScale(d);var e={};e.width=c.width*d;e.height=c.height*d;c=this.uiAdjustData.rectPos;d=this.uiAdjustData.hAlignment;d==cc.TEXT_ALIGNMENT_LEFT?this.setPosition(ccp(c.x,c.y)):d==cc.TEXT_ALIGNMENT_RIGHT?this.setPosition(ccp(c.x+a.width-e.width,c.y)):d==cc.TEXT_ALIGNMENT_CENTER&&this.setPosition(ccp(c.x+(a.width-e.width)/2,c.y))}else this.setAlpha(0.4)},adjustByPreferredSize:function(){var a=this.getContentSize(),c=Math.min(this.preferredWidth/a.width,this.preferredHeight/a.height);
this.setScale(c);var d=this.offsetX||0,c=this.getPosition();if(this.alignment==cc.TEXT_ALIGNMENT_RIGHT)this.setPosition(ccp(this.preferredWidth-a.width+d,c.y));else if(this.alignment==cc.TEXT_ALIGNMENT_CENTER){var c=this.offsetY||c.y,d=(width-a.width)/2+d,e=this.getAnchorPoint(),d=d+a.width*e.x,c=c-a.height*(1-e.y);this.setPosition(ccp(d,c))}},setString:function(a){this.setScale(1);this.refObject.setString(a);"for_ui_adjustment"==this.labelType?this.adjustByData():this.adjustByPreferredSize()},parseRichText:function(a,
c){for(var d,e,f={},g=[{text:a,color:c}];0<g.length;){var h;d=string.search(g[g.length-1].text,"%[/#%]");h||(h=g[g.length].text.length+1,d=g[g.length].text.length-1);e=g[g.length-1].text.substr(0,h-1);string.search(e,"%[#([0-9A-Fa-f]-)%]");e=string.sub(g[g.length-1].text,1,h-1);d=string.sub(g[g.length-1].text,d+1,g[g.length-1].text.length);f.push({text:e,color:g[g.length-1].color});ArrayUtils.remove(g,g.length-1);0<g.length&&(g[g.length-1].text=d)}return f},setRichText:function(a,c){var d=this.parseRichText(a,
c),d=table.filter(d,function(a){return 0<a.text.length});a="";for(var e=0,f=[],g=0;g<d.length;++g){var h=d[g],m=string.gfind(h.text,"[%z\u0001-W\u000194-\u00a4][\n8-\u000191]*"),n;for(n in m)"\n"!=m[n]&&f.push({index:e,color:h.color}),e+=1;a+=h.text}this.preferredWidth&&this.preferredHeight?this.setString(a):this.refObject.setString(a);for(g=0;g<f.length;++g)h=f[g],d=this.refObject.getChildByTag(h.index),h.color&&d&&d.setColor(CWDisplayUtils.ccc3FromUInt(tonumber(h.color,16)))}});
LabelBitmap.create=function(a,c,d,e,f){cw.assert(c);a=a||"";d=d||-1;e=e||cc.TEXT_ALIGNMENT_LEFT;f=f||CCPointMake(0,0);a=cc.LabelBMFont.create(a,c,d,e,f);a.alignment=e;return new LabelBitmap(a)};
LabelBitmap.createWithUIAdjustment=function(a,c){var d=c.fntFile;c.removeFromParentAndCleanup(!1);if(!d)return c;var e={};e.hAlignment=c.hAlignment;if(a){var f=a.getParent(),g=a.getPosition(),f=a.getGroupBounds(f).size;e.rectPos={x:g.x,y:g.y};e.rectSize={width:f.width,height:f.height}}c.dispose();d=LabelBitmap.create("",d,-1,cc.TEXT_ALIGNMENT_LEFT);d.setAnchorPoint(ccp(0,1));d.uiAdjustData=e;d.labelType="for_ui_adjustment";d.ignoreAnchorPointForPosition(!1);a.setVisible(!1);return d};var LabelBitmapBatch=cw.Class.extend(CocosNode,{createLabel:function(a){return new Sprite(cc.LabelBMFont.create(a,this.font))}});LabelBitmapBatch.create=function(a,c,d){a=cc.Node.create();a=new LabelBitmapBatch(a);a.font=c;return a};LabelTTF=cw.Class.extend(CocosNode,{getColor:function(){return this.refObject.getColor()},setColor:function(a){this.refObject.setColor(a);return this},getString:function(){return this.refObject.getString()},setString:function(a){this.refObject.setString(a);return this},getFontName:function(){return this.refObject.getFontName()},setFontName:function(a){this.refObject.setFontName(a);return this},getFontSize:function(){return this.refObject.getFontSize()},setFontSize:function(a){this.refObject.setFontSize(a);
return this},getDimensions:function(){return this.refObject.getDimensions()},setDimensions:function(a){this.refObject.setDimensions(a);return this},getVerticalAlignment:function(){return this.refObject.getVerticalAlignment()},setVerticalAlignment:function(a){this.refObject.setVerticalAlignment(a);return this},getHorizontalAlignment:function(){return this.refObject.getHorizontalAlignment()},setHorizontalAlignment:function(a){this.refObject.setHorizontalAlignment(a);return this},enableShadow:function(a,
c,d,e){null==e&&(e=!0);CWDisplayUtils.enableShadow(this.refObject,a,c,d,e)},disableShadow:function(a){null==a&&(a=!0);CWDisplayUtils.disableShadow(this.refObject,a)},setFontFillColor:function(a,c){null==c&&(c=!0);CWDisplayUtils.setFontFillColor(this.refObject,a,c)},addStroke:function(a,c,d,e){e=e||36;d=d||255;var f=this.getParent();a=new CocosNode(CWDisplayUtils.createStroke(this.refObject,c,a,d,e));f&&(d=this.getPosition(),c=this.getContentSize(),e=f.getChildIndex(this),a.setPositionXY(d.x+c.width/
2,d.y-c.height/2),f.addChildAt(a,e));return a}});LabelTTF.create=function(a,c,d,e,f,g){a=a||"";c=c||"Helvetica";d=d||12;e=e||cc.size(0,0);f=f||cc.TEXT_ALIGNMENT_LEFT;g=g||cc.VERTICAL_TEXT_ALIGNMENT_TOP;a=cc.LabelTTF.create(a,c,d,e,f,g);return new LabelTTF(a)};LabelTTF.defaultFont=function(){return __IOS?"PingFangSC":__ANDROID?"DroidSansFallback":__WIN32?"SimHei":"Helvetica"};var Layer=cw.Class.extend(CocosNode,{ctor:function(){this._super();this.isLayerInitialized=!1;this.refObject=null;this.buttomMode=this.touchEnabled=!1;this.className="Layer"},initLayer:function(){this.isLayerInitialized||(this.isLayerInitialized=!0,this.setRefObject(new cc.Layer),this.refObject&&(this.refObject.setAnchorPoint(ccp(0,0)),this.refObject.setContentSize(cc.size(1,1))),this.className="Layer")},changeWidthAndHeight:function(a,c){this.setContentSize(cc.size(a,c))},isTouchEnabled:function(){return this.refObject.isTouchEnabled()},
setBubbleMode:function(a){if(this.bubbleMode!=a){if(a){var c=null;if(this.buttonAnimationFunc)c=this.buttonAnimationFunc();else{var c=this.transformData.scaleX,d=this.transformData.scaleY,e=4/this.transformData.width,f=3/this.transformData.height,g=cc.Array.create();g.addObject(cc.ScaleTo.create(1.2,c+e,d-f));g.addObject(cc.ScaleTo.create(1.2,c,d));c=CCRepeatForever.create(cc.Sequence.create(g))}c.setTag(123654);this.runAction(c)}else this.stopActionByTag(123654);this.bubbleMode=a}},__onButtonTouchBegin:function(a,
c){this.stopActionByTag(123654);if(!this.transformData&&!this.isDisposed){var d=this.transformData.scaleY,e=4/this.transformData.height;this.setScaleX(this.transformData.scaleX-4/this.transformData.width);this.setScaleY(d-e)}},__onButtonTouchEnd:function(a,c){if(!this.transformData&&!this.isDisposed){var d=this.transformData.scaleY;this.setScaleX(this.transformData.scaleX);this.setScaleY(d)}this.bubbleMode&&(this.bubbleMode=!1,this.setBubbleMode(!0))},setTouchEnabled:function(a,c,d,e){function f(a,
c,d){var f=ccp(c,d);if("began"==a){if(g.isDisposed||!g.isVisible()||g.isTouched)return!1;a=!1;return(a=e?e(f):g.hitTestPoint(f,!0))?(g.buttomMode&&g.__onButtonTouchBegin(c,d),g.hasEventListenerByName(DISPLAY_EVENTS.TouchBegan)&&g.dispatchEvent(new DisplayEvent(DISPLAY_EVENTS.TouchBegan,g,f)),g.isTouched=!0,g.canTriggerTapEvent=!0,g.touchedPos=ccp(f.x,f.y),!0):!1}if("moved"==a)30<=cc.pDistance(g.touchedPos,f)&&(g.canTriggerTapEvent=!1),g.hasEventListenerByName(DISPLAY_EVENTS.TouchMoved)&&g.dispatchEvent(new DisplayEvent(DISPLAY_EVENTS.TouchMoved,
g,f));else if("ended"==a||"cancelled"==a)g.buttomMode&&g.__onButtonTouchEnd(c,d),g.hasEventListenerByName(DISPLAY_EVENTS.TouchEnded)&&g.dispatchEvent(new DisplayEvent(DISPLAY_EVENTS.TouchEnded,g,f)),!0==g.isTouched&&g.canTriggerTapEvent&&g.hitTestPoint(f,!0)&&g.hasEventListenerByName(DISPLAY_EVENTS.TouchTapped)&&g.dispatchEvent(new DisplayEvent(DISPLAY_EVENTS.TouchTapped,g,f)),g.isTouched=!1}this.isTouched=!1;this.debugInfo="";var g=this;this.touchEnabled!=a&&(this.touchEnabled&&this.unregisterScriptTouchHandler(),
(this.touchEnabled=a)&&this.registerScriptTouchHandler(f,!1,c,d),this.refObject.setTouchEnabled(a))},getTouchMode:function(){return this.refObject.getTouchMode()},setTouchMode:function(a){this.refObject.setTouchMode(a)},isAccelerometerEnabled:function(){return this.refObject.isAccelerometerEnabled()},setAccelerometerEnabled:function(a){this.refObject.setAccelerometerEnabled(a)},registerScriptAccelerateHandler:function(a){this.refObject.registerScriptAccelerateHandler(a)},unregisterScriptAccelerateHandler:function(){this.refObject.unregisterScriptAccelerateHandler()},
isKeypadEnabled:function(){return this.refObject.isKeypadEnabled()},setKeypadEnabled:function(a){this.refObject.setKeypadEnabled(a)},registerScriptKeypadHandler:function(a){this.refObject.registerScriptKeypadHandler(a)},unregisterScriptKeypadHandler:function(){this.refObject.unregisterScriptKeypadHandler()},unregisterScriptTouchHandler:function(){this.touchListener&&(cc.eventManager.removeListener(this.touchListener),this.touchListener=null)},registerScriptTouchHandler:function(a,c,d,e){var f=!1,
g=!1;c&&(f=c);e&&(g=e);this.registerTouchFunc(a,f,d||0,g)},registerTouchFunc:function(a,c,d,e){var f=function(a){a.getLocation();return a.getLocation()};this.touchListener=cc.eventManager.addListener({event:cc.EventListener.TOUCH_ONE_BY_ONE,swallowTouches:e,onTouchBegan:function(c,d){var e=f(c);return a("began",e.x,e.y)},onTouchMoved:function(c,d){var e=f(c);a("moved",e.x,e.y)},onTouchEnded:function(c,d){var e=f(c);a("ended",e.x,e.y)},onTouchCancelled:function(c,d){var e=f(c);a("cancelled",e.x,e.y)}},
this.refObject)}});Layer.create=function(){var a=new Layer;a.initLayer();return a};
LayerColor=cw.Class.extend(Layer,{initLayer:function(a,c){this.isLayerInitialized||(this.isLayerInitialized=!0,this.setRefObject(cc.LayerColor.create(a||cc.color(0,0,0,255))),c||(this.refObject.setAnchorPoint(ccp(0,0)),this.refObject.setContentSize(cw.ccs(1,1))),this.className="LayerColor")},getColor:function(){return this.refObject.getColor()},setColor:function(a){this.refObject.setColor(a)},getBlendFunc:function(){return this.refObject.getBlendFunc()},setBlendFunc:function(a){this.refObject.setBlendFunc(a)},
changeWidth:function(a){this.refObject.changeWidth(a)},changeHeight:function(a){this.refObject.changeHeight(a)},changeWidthAndHeight:function(a,c){this.refObject.changeWidthAndHeight(a,c)}});LayerColor.create=function(a,c){var d=new LayerColor;d.initLayer(a,c);return d};
var LayerGradient=cw.Class.extend(LayerColor,{initLayer:function(){this.isLayerInitialized||(this.isLayerInitialized=!0,this.setRefObject(cc.LayerGradient.create(cc.color(0,0,0,0),cc.color(0,0,0,0))),this.refObject||(this.refObject.setAnchorPoint(ccp(0,0)),this.refObject.setContentSize(cc.size(1,1))),this.className="LayerGradient")},getStartColor:function(){return this.refObject.getStartColor()},setStartColor:function(a){this.refObject.setStartColor(a)},getEndColor:function(){return this.refObject.getEndColor()},
setEndColor:function(a){this.refObject.setEndColor(a)},getStartOpacity:function(){return this.refObject.getStartOpacity()},setStartOpacity:function(a){this.refObject.setStartOpacity(a)},getEndOpacity:function(){return this.refObject.getEndOpacity()},setEndOpacity:function(a){this.refObject.setEndOpacity(a)},getVector:function(){return this.refObject.getVector()},setVector:function(a){this.refObject.setVector(a)},isCompressedInterpolation:function(){return this.refObject.isCompressedInterpolation()},
setCompressedInterpolation:function(a){this.refObject.setCompressedInterpolation(a)}});LayerGradient.create=function(){var a=new LayerGradient;a.initLayer();return a};var RootLayer=cw.Class.extend(Layer,{ctor:function(){this._super();this.name="root"}});RootLayer.create=function(){var a=new RootLayer;a.initLayer();return a};kParticleDefaultCapacity=400;
ParticleSystem=cw.Class.extend(CocosNode,{ctor:function(a){this._super(a);this.touchEnabled=!1},getTexture:function(){return this.refObject.getTexture()},setTexture:function(a){this.refObject.setTexture(a)},getBlendFunc:function(){return this.refObject.getBlendFunc()},setBlendFunc:function(a){this.refObject.setBlendFunc(a)},isAutoRemoveOnFinish:function(){return this.refObject.isAutoRemoveOnFinish()},setAutoRemoveOnFinish:function(a){this.refObject.setAutoRemoveOnFinish(a)},getDuration:function(){return this.refObject.getDuration()},
setDuration:function(a){this.refObject.setDuration(a)},getAngle:function(){return this.refObject.getAngle()},setAngle:function(a){this.refObject.setAngle(a)},getAngleVar:function(){return this.refObject.getAngleVar()},setAngleVar:function(a){this.refObject.setAngleVar(a)},stopSystem:function(){return this.refObject.stopSystem()},resetSystem:function(){return this.refObject.resetSystem()},onRemoveFromStage:function(){!this.removedFromStage&&this.parent&&this.isAutoRemoveOnFinish()&&(this.removedFromStage=
!0,this.parent.removeChild(this,!0,!0))},setDisplayFrame:function(a){this.refObject.setDisplayFrame(a)},getPosVar:function(){return this.refObject.getPosVar()},setPosVar:function(a){this.refObject.setPosVar(a)},setTextureWithRect:function(a){this.refObject.setTextureWithRect(texture,rect)},setTotalParticles:function(a){this.refObject.setTotalParticles(a)},getTotalParticles:function(a){return this.refObject.getTotalParticles(a)},setPositionType:function(a){return this.refObject.setPositionType(a)}});
ParticleSystem.create=function(a){return a?new ParticleSystem(cc.ParticleSystem.create(a)):null};ParticleSystemQuad=cw.Class.extend(ParticleSystem,{});ParticleSystemQuad.create=function(a){return a?new ParticleSystemQuad(cc.ParticleSystem.create(a)):null};
ParticleBatchNode=cw.Class.extend(CocosNode,{ctor:function(a){this._super(a);this.touchEnabled=!1},getTotalParticles:function(){return this.refObject.getTotalParticles()},getParticleCount:function(){return this.refObject.getParticleCount()},getTexture:function(){return this.refObject.getTexture()},setTexture:function(a){this.refObject.setTexture(a)},getBlendFunc:function(){return this.refObject.getBlendFunc()},setBlendFunc:function(a){this.refObject.setBlendFunc(a)},disableParticle:function(a){this.refObject.disableParticle(a)},
insertChild:function(a){this.refObject.insertChild(pSystem,index)}});ParticleBatchNode.create=function(a,c){c=c||kParticleDefaultCapacity;if(a)return new ParticleBatchNode(cc.ParticleBatchNode.create(a,c))};ParticleBatchNode.createWithTexture=function(a,c){c=c||kParticleDefaultCapacity;if(a)return new ParticleBatchNode(cc.ParticleBatchNode.create(a,c))};var DEFAULT_CAP_INSETS=cc.Rect(0,0,0,0),Scale9Sprite=cw.Class.extend(CocosNode,{getCapInsets:function(){return this.refObject.getCapInsets()},getOriginalSize:function(){return this.refObject.getOriginalSize()},getPreferredSize:function(){return this.refObject.getPreferredSize()},setCapInsets:function(a){this.refObject.setCapInsets(a)},setSpriteFrame:function(a){this.refObject.setSpriteFrame(a)},setPreferredSize:function(a){this.refObject.setPreferredSize(a)},resizableSpriteWithCapInsets:function(a){return this.refObject.resizableSpriteWithCapInsets(a)}});
Scale9Sprite.create=function(a,c){var d=ccui.Scale9Sprite.create(a,c||DEFAULT_CAP_INSETS);return new Scale9Sprite(d)};Scale9Sprite.createWithSpriteFrame=function(a,c){var d=ccui.Scale9Sprite.createWithSpriteFrame(a,c||DEFAULT_CAP_INSETS);return new Scale9Sprite(d)};createWithSpriteFrameName=function(a,c){var d=ccui.Scale9Sprite.createWithSpriteFrameName(a,c||DEFAULT_CAP_INSETS);return new Scale9Sprite(d)};var Scene=cw.Class.extend(CocosNode,{ctor:function(){this._super();this.rootLayer=null;this.touchEnabled=this.isSceneInitialized=!1;var a=cc.winSize;this.screenWidth=a.width;this.screenHeight=a.height;this.setRefObject(cc.Scene.create());this.refObject&&(this.refObject.setAnchorPoint(ccp(0,0)),this.refObject.ignoreAnchorPointForPosition(!0))},initScene:function(){this.isSceneInitialized||(this.isSceneInitialized=!0,this.rootLayer=new RootLayer,this.rootLayer.initLayer(),this.superAddChild(this.rootLayer));
this.setTouchEnabled(!0);this.onInit()},onInit:function(){},onEnter:function(a){},onExit:function(){},onKeyBackClicked:function(){},dispose:function(){this.rootLayer&&(this.rootLayer.dispose(),this.rootLayer=null);this._super()},indexOf:function(a,c){var d=-1;if(a&&c)for(var e=0;e<a.length;++e)if(a[e]==c){d=e;break}return d},setTouchEnabled:function(a){function c(a,c,g){c=ccp(c,g);if("began"==a)return d.hasEventListenerByName(DISPLAY_EVENTS.TouchBegan)&&d.dispatchEvent(new DisplayEvent(DISPLAY_EVENTS.TouchBegan,
d,c)),!0;"moved"==a?d.hasEventListenerByName(DISPLAY_EVENTS.TouchMoved)&&d.dispatchEvent(new DisplayEvent(DISPLAY_EVENTS.TouchMoved,d,c)):"ended"==a?(d.hasEventListenerByName(DISPLAY_EVENTS.TouchEnded)&&d.dispatchEvent(new DisplayEvent(DISPLAY_EVENTS.TouchEnded,d,c)),d.hasEventListenerByName(DISPLAY_EVENTS.TouchTapped)&&d.dispatchEvent(new DisplayEvent(DISPLAY_EVENTS.TouchTapped,d,c))):"cancelled"==a&&d.hasEventListenerByName(DISPLAY_EVENTS.TouchEnded)&&d.dispatchEvent(new DisplayEvent(DISPLAY_EVENTS.TouchEnded,
d,c))}var d=this;this.touchEnabled!=a&&(this.touchEnabled&&this.rootLayer.unregisterScriptTouchHandler(),this.touchEnabled=a,this.rootLayer.setTouchEnabled(a),this.touchEnabled&&this.rootLayer.registerScriptTouchHandler(c,!1,-1,!1))},getNumOfChildren:function(){return this.rootLayer.getNumOfChildren()},addChild:function(a){this.rootLayer.addChild(a)},contains:function(a){return this.rootLayer.contains(a)},getChildIndex:function(a){return this.rootLayer.getChildIndex(a)},removeFromParentAndCleanup:function(a){},
removeChild:function(a,c){this.rootLayer.removeChild(a,c)},removeChildren:function(a){this.rootLayer.removeChildren(a)},isTouchEnabled:function(){return this.touchEnabled}});Scene.create=function(){var a=new Scene;a.initScene();return a};var Sprite=cw.Class.extend(CocosNode,{getBlendFunc:function(){return this.refObject.getBlendFunc()},setBlendFunc:function(a){this.refObject.setBlendFunc(a)},setFlipX:function(a){this.refObject.setFlipX(a)},setFlipY:function(a){this.refObject.setFlipY(a)},isFlipX:function(){return this.refObject.isFlipX()},isFlipY:function(){return this.refObject.isFlipY()},getColor:function(){return this.refObject.getColor()},setColor:function(a){this.refObject.setColor(a)},isFrameDisplayed:function(a){return this.refObject.isFrameDisplayed(a)},
setDisplayFrame:function(a){this.refObject.setDisplayFrame(a)},displayFrame:function(){return this.refObject.displayFrame()},setUserData:function(a){this.refObject.setUserData(a)},setDisplayFrameName:function(a){this.resetFrame=!0;return this.refObject.setDisplayFrameName(a)},getTexture:function(){return this.refObject.getTexture()},setTexture:function(a){this.refObject.setTexture(a)},play:function(a,c,d,e,f){var g=null,h=this,g="number"==typeof d&&0<d?cc.sequence(cc.repeat(a,d),cc.callFunc(function(){e&&
e(h);f&&h.removeFromParentAndCleanup(!0)})):cc.repeatForever(a);"number"==typeof c&&0<c?(this.setVisible(!1),g.retain(),this.runAction(cc.sequence(cc.delayTime(c),cc.callFunc(function(){h.setVisible(!0);h.stopAllActions();h.runAction(g);g.release()})))):this.runAction(g)},clone:function(a){var c=null;this.frameName&&(c=Sprite.createWithSpriteFrameName(this.frameName));a&&c&&(this.getParent()&&this.getParent().addChild(c),c.setPosition(ccp(pos.x,pos.y)));return c},removeFromParentAndCleanup:function(a){a&&
this.parent&&this.frameName&&Sprite.poolList[this.frameName]?(this._super(!1),this.stopAllActions(),this.setOpacity(255),this.resetFrame&&(this.setDisplayFrameName(this.frameName),this.resetFrame=!1),Sprite.poolList[this.frameName].recover(this)):this._super(a)}});
Sprite.createPool=function(){var a=function(a){var c=new Sprite(cc.Sprite.createWithSpriteFrameName(a));c.frameName=a;return c};this.listName="map_fruit_1.png map_fruit_2.png map_fruit_3.png map_fruit_4.png map_fruit_5.png map_fruit_6.png fruit_destroy_1_0.png fruit_destroy_2_0.png fruit_destroy_3_0.png fruit_destroy_4_0.png fruit_destroy_5_0.png fruit_destroy_6_0.png cutypet_destroy_0_0.png pet_20001_bomb_start_0.png pet_20001_bomb_bone_0.png pet_20001_bomb_part_0.png pet_20001_bomb_line.png pet_20002_bomb_start.png pet_20002_bomb_0.png pet_20002_trajectory.png pet_20003_bomb_tail.png pet_20003_bomb_0.png pet_20003_bomb_start_0.png pet_20003_bomb_cross.png pet_20004_bomb_start_0.png pet_20004_bomb_tail.png pet_20005_bomb_fire_0.png pet_20005_bomb_line.png pet_20005_bomb_bomb_0.png pet_20005_bomb_down_line.png sp_line_0 sp_bomb_0 five_gas_0 fly_line_color.png".split(" ");this.poolList=
[];for(var c=0;c<this.listName.length;++c){var d=this.listName[c],e=PoolManager.create(d,null,a);this.poolList[d]=e}};Sprite.createPool();Sprite.createEmpty=function(){return new Sprite(new cc.Sprite)};Sprite.createWithSpriteFrameName=function(a){if(this.poolList[a])return this.poolList[a].create(a);var c=new Sprite(cc.Sprite.createWithSpriteFrameName(a));c.frameName=a;return c};Sprite.createWithSpriteFrame=function(a){return new Sprite(cc.Sprite.createWithSpriteFrame(a))};
Sprite.createWithFileName=function(a){return new Sprite(cc.Sprite.create(a))};Sprite.createWithTexture=function(a){return new Sprite(cc.Sprite.createWithTexture(a))};var SpriteBatchNode=cw.Class.extend(CocosNode,{addChild:function(a){cw.assert(a);return this._super(a)}});SpriteBatchNode.create=function(a,c){cw.assert(a);cw.assert(c);var d=new SpriteBatchNode(cc.SpriteBatchNode.create(a,c));d.className="SpriteBatchNode";return d};SpriteBatchNode.createWithTexture=function(a){cw.assert(a);return new SpriteBatchNode(cc.SpriteBatchNode.createWithTexture(a))};SpriteUtils=cw.Class({});SpriteUtils.LoadedPlistList={};SpriteUtils.setTexturePixelFormat=function(a,c){};SpriteUtils.addSpriteFramesWithFile=function(a,c){a.split(".");if(SpriteUtils.LoadedPlistList[a])return[a,c];cc.SpriteFrameCache.addSpriteFrames(a,c);SpriteUtils.LoadedPlistList[a]=!0;return[a,c]};SpriteUtils.addTextureWithFileAsync=function(a,c){a.split(".");cc.textureCache.addImageAsyncWithScriptHandler(a,c)};
SpriteUtils.removeLoadedPlist=function(a){a&&SpriteUtils.LoadedPlistList[a]&&(SpriteUtils.LoadedPlistList[a]=null)};SpriteUtils.getRealResourceName=function(a){return a};SpriteUtils.buildFrames=function(a,c,d,e){if(a){var f=[];d=c+d;if(e)for(e=d-1;e>=c;--e){var g=cc.formatStr(a,e),h=cc.spriteFrameCache.getSpriteFrame(g);h||printf("invalid frame, name "+g);f.push(h)}else for(e=c;e<d;++e)g=cc.formatStr(a,e),(h=cc.spriteFrameCache.getSpriteFrame(g))||printf("invalid frame, name "+g),f.push(h);return f}printf("build frames fail. no pattern")};
SpriteUtils.buildAnimate=function(a,c){return cc.animate(new cc.Animation(a,c||TileConst_AnimationTime_FPS))};SpriteUtils.buildSpriteWithAnimate=function(a,c,d,e,f,g,h,m){var n=Sprite.createWithSpriteFrameName(string.format(a,m?c+d-1:c));a=SpriteUtils.buildFrames(a,c,d,m);g=SpriteUtils.buildAnimate(a,g);n.play(g,h,e,f);return n};SpriteUtils.playSpriteWithAnimate=function(a,c,d,e,f,g,h,m,n){c=SpriteUtils.buildFrames(c,d,e,n);h=SpriteUtils.buildAnimate(c,h);a.play(h,m,f,g);return a};var TileConfig=cw.Enum({kEmpty:1,kFruit:2,kOutput:3,kNone:4,kBlocker:5,kPortal:6,kPortalEnter:7,kPortalExit:8,kCollector:9,kIce1:10,kIce2:11,kIce3:12,kIce4:13,kIce5:14,kStone1:15,kStone2:16,kStone3:17,kStone4:18,kStone5:19,kHoney1:20,kHoney2:21,kHoney3:22,kAsh1:23,kAsh2:24,kAsh3:25,kHelmet:26,kCutyPet:28,kDiscolor:29,kWood:31,kBriar:32,kBramble:33,kSandstorm:34,kFlame:35,kJumpCat:36,kWorm:38,kOutputColor1:40,kOutputColor2:41,kOutputColor3:42,kOutputColor4:43,kOutputColor5:44,kOutputFruit:45,kOutputTwoBear:46,
kOutputBlock:47,kOutputHelmet:48,kOutputDiscolorFruit:49,kOutputWatermelon:50,kOutputCat:52,kOutputWorm:54,kWoodUp:56,kWoodDown:57,kWoodLeft:58,kWoodRight:59,kBaldStrong0:60,kBaldStrong1:61,kConveyorBelt:64,kCaptain:65,kYellowMan:66,kClayBlock:69,kFruitColor1:70,kFruitColor2:71,kFruitColor3:72,kFruitColor4:73,kFruitColor5:74,kWatermelon:75,kSlideUp:76,kSlideDown:77,kSlideLeft:78,kSlideRight:79,kRandomBlock1:80,kRandomBlock2:81,kRandomBlock3:82,kRandomBlock4:83,kRandomBlock5:84,kOutputStone:87,kOutputIce:88,
kConveyorBeltBrake:89,kConveyorBeltGear:90,kBrakeArea:91,kGearArea:92,kCondiment:93,kCondimentAdd:94,kSand:95,kMaxTile:100,kInvalid:-1,kGiftBox:1E3}),DefaultDirConfig=cw.Enum({kUp:1,kRight:2,kDown:3,kLeft:4}),FruitTypeConfig=cw.List({kNone:-1,kRandom:0,kBlue:1,kGreen:2,kOrange:3,kWhite:4,kRed:5,kYellow:6,kCross:7,kLine:8,kColumn:9,kBomb:10,kCutyPet:11,kBigCross:12,kBigBomb:13,kFive:14,kSix:15,fRandom:0,fBlue:2,fGreen:4,fOrange:8,fPurple:16,fRed:32,fYellow:64,fLine:128,fColumn:256,fWrap:512,fFive:1024,
fCross:2048,fSix:4096});FruitTypeConfig.getType=function(a){if(0===a)return 0;var c=0;return c=0!==bit.band(a,FruitTypeConfig.fBlue)?FruitTypeConfig.kBlue:0!==bit.band(a,FruitTypeConfig.fGreen)?FruitTypeConfig.kGreen:0!==bit.band(a,FruitTypeConfig.fOrange)?FruitTypeConfig.kOrange:0!==bit.band(a,FruitTypeConfig.fPurple)?FruitTypeConfig.kWhite:0!==bit.band(a,FruitTypeConfig.fRed)?FruitTypeConfig.kRed:0!==bit.band(a,FruitTypeConfig.fYellow)?FruitTypeConfig.kYellow:FruitTypeConfig.kRandom};
FruitTypeConfig.getSpecial=function(a){if(0===a)return 0;var c=0;0!==bit.band(a,FruitTypeConfig.fCross)?c=FruitTypeConfig.kCross:0!==bit.band(a,FruitTypeConfig.fLine)?c=FruitTypeConfig.kLine:0!==bit.band(a,FruitTypeConfig.fColumn)?c=FruitTypeConfig.kColumn:0!==bit.band(a,FruitTypeConfig.fWrap)?c=FruitTypeConfig.kBomb:0!==bit.band(a,FruitTypeConfig.fSix)?c=FruitTypeConfig.kSix:0!==bit.band(a,FruitTypeConfig.fFive)&&(c=FruitTypeConfig.kFive);return c};
FruitTypeConfig.isColor=function(a){return a&&a>=FruitTypeConfig.kBlue&&a<=FruitTypeConfig.kYellow};FruitTypeConfig.isSpecial=function(a){return a&&a>=FruitTypeConfig.kCross&&a<=FruitTypeConfig.fSix};FruitTypeConfig.isBeeline=function(a){return a==FruitTypeConfig.kLine||a==FruitTypeConfig.kColumn};FruitTypeConfig.isNotFive=function(a){return FruitTypeConfig.isSpecial(a)&&a!=FruitTypeConfig.kFive};
FruitTypeConfig.isNotFiveAndSix=function(a){return FruitTypeConfig.isSpecial(a)&&a!=FruitTypeConfig.kFive&&a!=FruitTypeConfig.kSix};FruitTypeConfig.isFiveOrSix=function(a){return a==FruitTypeConfig.kFive||a==FruitTypeConfig.kSix};FruitTypeConfig.getColorList=function(){return[FruitTypeConfig.kRed,FruitTypeConfig.kOrange,FruitTypeConfig.kYellow,FruitTypeConfig.kGreen,FruitTypeConfig.kBlue,FruitTypeConfig.kWhite]};var FruitTypeImage=[];FruitTypeImage[FruitTypeConfig.kBlue]="blue";
FruitTypeImage[FruitTypeConfig.kGreen]="green";FruitTypeImage[FruitTypeConfig.kOrange]="brown";FruitTypeImage[FruitTypeConfig.kWhite]="pink";FruitTypeImage[FruitTypeConfig.kRed]="red";FruitTypeImage[FruitTypeConfig.kYellow]="yellow";FruitTypeImage.getColor=function(a){for(var c=FruitTypeConfig.getColorList(),d=0;d<c.length;++d)if(FruitTypeImage[c[d]]==a)return c[d];return FruitTypeConfig.kNone};FruitTypeImage.getImage=function(a){return FruitTypeImage[a]};TileConst_Design_Width=720;TileConst_Design_Height=1280;TileConst_Tile_Height=TileConst_Tile_Width=76;TileConst_Tile_LeftRight=54;TileConst_Tile_Top=360;TileConst_Tile_Bottom=254;TileConst_Tile_ScaleY=TileConst_Tile_ScaleX=TileConst_Tile_Ratio=1;TileConst_Tile_Item_Max=9;
function TileConst_INIT(a){TileConst_Action_FPS=a||60;TileConst_Action_FPS_Time_Scale=TileConst_Action_FPS/60;TileConst_Action_FPS_Time_Scale_F=60/TileConst_Action_FPS;TileConst_AnimationTime_FPS=1/30;gotime=function(a){return a*TileConst_Action_FPS_Time_Scale};gotimef=function(a){return a*TileConst_Action_FPS_Time_Scale_F};TileConst_FallingSpeed_Start=gotimef(4);TileConst_FallingSpeed_Add=gotimef(8);TileConst_FallingSpeed_Max=gotimef(38);TileConst_FallingSpeed_Pass_Start=gotimef(8);TileConst_Falling_LR_Time=
gotime(8);TileConst_Falling_LR_S_X=TileConst_Tile_Width/TileConst_Falling_LR_Time;TileConst_Falling_LR_S_Y=TileConst_Tile_Height/TileConst_Falling_LR_Time;TileConst_Falling_MaxTime=gotime(3E3);TileConst_Viberate_InitY=0.02;TileConst_Viberate_Count=10;TileConst_Viberate_Delay=0;TileConst_Swap_Action_Time=gotime(6);TileConst_Swap_Failed_Action_Time=gotime(8);TileConst_Swap_Fun_Action_Time=gotime(6);TileConst_Swap_Fun_Failed_Action_Time=gotime(6);TileConst_Fruit_Delete_Action_Time=gotime(18);TileConst_Fruit_Delete_Action_Time_View=
gotime(18);TileConst_Block_Delete_Action_Time=gotime(18);TileConst_JumpCat_Delete_Action_Time=gotime(36);TileConst_SpecialBomb_Line_Action_Time=gotime(30);TileConst_SpecialBomb_Column_Action_Time=gotime(30);TileConst_SpecialBomb_Wrap=gotime(30);TileConst_SpecialBomb_WrapWrap=gotime(20);TileConst_SpecialBomb_CutyPet_Action_Time=gotime(300);TileConst_SpecialBomb_20002_Action_Time=gotime(60);TileConst_SpecialBomb_20003_Action_Time=gotime(30);TileConst_SpecialBomb_BigCross_Action_Time=gotime(30);TileConst_SpecialBomb_BigBomb_Action_Time=
gotime(30);TileConst_SpecialBomb_Cross=gotime(30);TileConst_SpecialBomb_CrossCross=gotime(20);TileConst_SpecialBomb_FiveFruit_Time1=gotime(100);TileConst_SpecialBomb_FiveFruit_Time2=gotime(50);TileConst_SpecialBomb_FiveFruit_Time3=gotime(70);TileConst_SpecialBomb_FiveFruit_Shake_Time=gotime(46);TileConst_SpecialBomb_FiveLine_Time1=gotime(3E3);TileConst_SpecialBomb_FiveLine_Time2=gotime(30);TileConst_SpecialBomb_FiveLine_Time3=gotime(30);TileConst_SpecialBomb_FiveLine_Time4=gotime(95);TileConst_SpecialBomb_FiveLine_Time5=
gotime(10);TileConst_SpecialBomb_FiveFive_Time1=gotime(1E4);TileConst_SpecialBomb_FiveFive_Time2=gotime(30);TileConst_SpecialBomb_FiveFive_Time3=gotime(20);TileConst_SpecialBomb_FiveFive_Time4=gotime(30);TileConst_SpecialBomb_FiveFive_Time5=gotime(60);TileConst_Stone_Delete_Action_Time=gotime(18);TileConst_BearGoHome_DropDown_Time=gotime(18);TileConst_BearGoHome_DropDown_ScaleTime=gotime(10);TileConst_BearGoHome_DropDown_CollectTime=gotime(10);TileConst_BearGoHome_DropDown_CollectPos=TileConst_BearGoHome_DropDown_CollectScale=
1;TileConst_Hammer_Action_Time=gotime(10);TileConst_Refresh_Item_Flying_Time=gotime(80);TileConst_MagicWand_Action_Time=gotime(10);TileConst_Back_Action_Time=0.2;TileConst_DetonateBomb_Time=gotime(1E4);TileConst_Score_MatchDeleted_UP_Time=gotime(20);TileConst_Score_MatchDeleted_Stop_Time=gotime(26);TileConst_Score_MatchDeleted_Fly_Time=gotime(20);TileConst_Score_MatchDeleted_Scale=0.6;TileConst_PassLevel_RandomBomb_Time=gotime(10);TileConst_PassLevel_ItemFly_Time=gotime(8);TileConst_PassLevel_ItemBomb_Time=
gotime(30);TileConst_MaxAction_time=gotime(1E5);TileConst_DiscolorFruit_Time=gotime(36);TileConst_Sandstorm_Spread_Time=gotime(1E4);TileConst_JumpCat_Jump_Time=gotime(1E4);TileConst_Watermelon_Replace=gotime(1E3);TileConst_Exchange_color_Fruit_Time=gotime(4);TileConst_ConveyorBelt_Time=22/30;TileConst_CrossProp_Action_Time=gotime(10);TileConst_Worm_Delete_Action_Time=gotime(18);TileConst_Condiment_Spray=gotime(40)};var GameModeType=cw.Enum({kNone:0,KStepMode:1,kTimeMode:2,kBearGoHome:3,kIceClean:4,kOrder:5,kHoney:6,kFindBear:7,kBaldStrong:8,kClayMode:9,kKitchenGod:10}),GameModeName=cw.Enum({None:0,StepMode:1,TimeMode:2,BearGoHome:3,CleanIce:4,Order:5,Honey:6,FindBear:7,BaldStrong:8,ClayMode:9,KitchenGod:10}),ShowModeType=cw.Enum({kNone:0,kFruit:1,kGiftBox:2,kBlock:3,kBearGoHome:4,kHoney:5,kCondiment:6,kSnail:7});
GameModeType.getTypeByName=function(a){var c=GameModeName[a];null===c&&cc.info("modeName error:",a);return c};
GameModeType.getModeShowType=function(a){var c=LevelMapManager.getInstance().getLevelGameMode(a);if(c==GameModeType.kBearGoHome)return ShowModeType.kBearGoHome;if(c==GameModeType.kOrder&&(a=LevelMapManager.getInstance().getMeta(a).gameData.orderList)&&0<a.length){c=a[0].k.split("_");a=tonumber(c[0]);c=tonumber(c[1]);if(4==a)return 6==c?ShowModeType.kSnail:7==c?ShowModeType.kHoney:ShowModeType.kBlock;if(5==a)return ShowModeType.kGiftBox;if(1==a&&1==c)return ShowModeType.kCondiment;if(7==a)return ShowModeType.kHoney}return ShowModeType.kFruit};
GameModeType.getModeStartKey=function(a){a=GameModeType.getModeShowType(a);return["t_Game_Type"+a,"t_Game_Type"+a]};GameModeType.getModeStartFrameName=function(a){return"target_ico_level_"+GameModeType.getModeShowType(a)+".png"};GameModeType.isCanMoveMap=function(a){return a==GameModeType.kBearGoHome||a==GameModeType.kFindBear};var DataUnit=cw.Class({fromData:function(a){if(this.isError(a))return!1;for(var c in a){var d=a[c];"function"!=typeof d&&(this[c]=d)}return!0},decode:function(a){this.fromData(a)},encode:function(){var a={},c;for(c in this){var d=this[c];d&&"function"!=typeof d&&(a[c]=d)}return a},isError:function(a){return a?!1:(printf("lua data is nil"),!0)}});GoodsType={None:0,BuyEnergy:1110,BuySignIn:1120};GoodsMetaManager=cw.Class({init:function(a){this.goods=a},getGoods:function(){return this.goods},getGoodsMeta:function(a){return this.goods&&this.goods[a]}});GoodsMetaManager.instance=null;GoodsMetaManager.getInstance=function(){GoodsMetaManager.instance||(GoodsMetaManager.instance=new GoodsMetaManager);return GoodsMetaManager.instance};var LevelDataManager=cw.Class({ctor:function(){this.levelDatas={}},getLevelConfigByID:function(a){if(!this.levelDatas[a]){var c=LevelMapManager.getInstance().getMeta(a);this.levelDatas[a]=LevelConfig.create(a,c)}assert(this.levelDatas[a]);return this.levelDatas[a]},clearLevelConfigByID:function(a){this.levelDatas[a]=null},getBossType:function(a){return(a=this.getLevelConfigByID(a))?a.bossType:1},clearCaches:function(){this.levelDatas={}}});LevelDataManager.instance=null;
LevelDataManager.getInstance=function(){LevelDataManager.instance||(LevelDataManager.instance=new LevelDataManager);return LevelDataManager.instance};var LevelMapManager=cw.Class({initLevelMeta:function(a){this.levelMap={};for(var c=0;c<a.length;++c){var d=a[c],e=new LevelMapMeta;e.fromData(d);this.levelMap[e.id]=e}},initOneCardByData:function(a,c){var d=JSON.parse(a);if(d.levelId){var e=new LevelMapMeta;e.fromData(d);c=c||e.id;this.levelMap[c]=e;MetaHelper.gameMeta.levels[c]=d;LevelDataManager.getInstance().clearLevelConfigByID(c)}},getMeta:function(a){return this.levelMap[a]},getLevelGameMode:function(a){if(0==a)return 0;if(a=this.getMeta(a))if(a=
a.gameData)return this.getLevelGameModeByName(a.gameModeName);return null},getLevelGameModeByName:function(a){var c=GameModeType.getTypeByName(a);assert(c,"error mmode:"+a);return c},isBossLevel:function(a){return this.getLevelGameMode(a)==GameModeType.kBaldStrong},getLevelTargetScores:function(a){a=this.getMeta(a);assert(a);return a.gameData.starScores},getLevelTargetStarByScore:function(a,c){for(var d=this.getMeta(a).gameData.starScores,e=0;3>e;++e)if(c<d[e])return e;return 3},getLimitPetId:function(a){return(a=
this.getMeta(a))&&a.gameData.petLimitId||0},getRecommendedPetId:function(a){return(a=this.getMeta(a))&&a.gameData.petRecomId||0},getLevelStep:function(a){return(a=this.getMeta(a))&&a.gameData.stepLimit||0},clearCaches:function(){this.levelConfigUpdate=!1}});LevelMapManager.instance=null;LevelMapManager.getInstance=function(){LevelMapManager.instance||(LevelMapManager.instance=new LevelMapManager);return LevelMapManager.instance};var PropType=cw.Enum({None:0,AddStep:1,DetonateBomb:2,ChangeToCross:3,ChangeToBomb:4,Swap:5,ChangeToEffect:6,AddEnergy:7,RandomEffect:8,AddEnergyLimit:9,AddEnergyLimitless:10,RandomFive:11,PetExpr:12}),PropMetaManager=cw.Class({init:function(a){this.props=a},getProp:function(){return this.props},getPropMeta:function(a){return this.props&&this.props[a]},getPropType:function(a){return(a=this.getPropMeta(a))?a.propType:PropType.None},getPropValue:function(a){return(a=this.getPropMeta(a))?a.value:PropType.None},
getPropsByType:function(a){var c=[],d;for(d in this.props){var e=this.props[d];e.propType==a&&c.push(e)}return c},getPropIdByType:function(a){a=this.getPropsByType(a);return 0<a.length?a[0].id:0},getAddStepPropID:function(a){for(var c=this.getPropsByType(PropType.AddStep),d=0;d<c.length;++d){var e=c[d];if(e.value==a)return e.id}return 0},getAddFiveStepPropId:function(){return this.getAddStepPropID(5)},getAddThreeStepPropId:function(){return this.getAddStepPropID(3)},getGoBackPropId:function(){return this.getPropsByType(PropType.GoBack)},
isTimeProp:function(a){return(a=this.getPropMeta(a))?0<a.expireTime:!1},getPropUseLimit:function(a){return(a=this.getPropMeta(a))?a.maxUseTime:0},getGoodsId:function(a){return 1100+a%11E3}});PropMetaManager.instance=null;PropMetaManager.getInstance=function(){PropMetaManager.instance||(PropMetaManager.instance=new PropMetaManager);return PropMetaManager.instance};ScoreType=cw.List({kNone:"none",kBase_Fruit:"base_fruit",kBase_Helmet:"base_helmet",kBase_Discolor:"base_discolor",kBase_Cage:"base_cage",kBase_JumpCat:"base_cate",kBase_Ice:"base_ice",kBase_Stone:"base_stone",kBaseWatermelon:"base_watermelon",kBase_Bear:"base_bear",kBase_Sandstorm:"base_sandstorm",kBase_Flame:"base_flame",kBase_BaldStrong:"base_baldstrong",kBase_BaldStrong_Dead:"base_baldstrong_dead",kBase_FindBear:"base_findbear",kBase_GiftBox:"base_giftbox",kBase_Honey:"base_honey",kBomb_Cross:"bomb_cross",
kBomb_Line:"bomb_line",kBomb_Column:"bomb_column",kBomb_Bomb:"bomb_bomb",kBomb_Five:"bomb_five",kBomb_Six:"bomb_six",kBomb_CutyPet:"bomb_cutypet",kBomb_BigCross:"bomb_bigcross",kBomb_BigBomb:"bomb_bigbomb",kEffect_Cross:"effect_cross",kEffect_Line:"effect_line",kEffect_Column:"effect_column",kEffect_Bomb:"effect_bomb",kEffect_Five:"effect_five",kEffect_Six:"effect_six",kEffect_CutyPet:"effect_cutypet",kEffect_BigCross:"effect_bigcross",kEffect_BigBomb:"effect_bigbomb",kLeft_Step:"left_step"});
ScoreMetaManager={init:function(a){this.scoreMeta=a},getScore:function(a){if(!a)return 0;if(!this.scoreMeta)return 1;var c=this.scoreMeta[a];c||cw.assert(!1,"scoreType error:"+a);return c&&c.score||0}};ConveyorBeltConfig=cw.Class({init:function(a){this.nextTrans=this.prevTrans=null;a=tonumber(a);this.setStart(a);this.setStartType(a);this.setEnd(a);this.setEndType(a);this.setLink(a);this.sign=ccp(this.endItem.x-this.startItem.x,this.endItem.y-this.startItem.y);this.sign.x=0==this.sign.x?0:0<this.sign.x&&1||-1;this.sign.y=0==this.sign.y?0:0<this.sign.y&&1||-1},getCornerType:function(){var a=(this==this.getHeadTrans()?this.getEndTrans():this.getPrevTrans()).getDirection(),c=this.getDirection();if(a==
ConveyorBeltDirection.kUp){if(c==ConveyorBeltDirection.kLeft)return ConveyorBeltType.kCorner_UL;if(c==ConveyorBeltDirection.kRight)return ConveyorBeltType.kCorner_UR;if(c==ConveyorBeltDirection.kUp)return ConveyorBeltType.kRoad;if(c==ConveyorBeltDirection.kDown)return null}else if(a==ConveyorBeltDirection.kDown){if(c==ConveyorBeltDirection.kLeft)return ConveyorBeltType.kCorner_DL;if(c==ConveyorBeltDirection.kRight)return ConveyorBeltType.kCorner_DR;if(c==ConveyorBeltDirection.kDown)return ConveyorBeltType.kRoad;
if(c==ConveyorBeltDirection.kUp)return null}else if(a==ConveyorBeltDirection.kLeft){if(c==ConveyorBeltDirection.kUp)return ConveyorBeltType.kCorner_LU;if(c==ConveyorBeltDirection.kDown)return ConveyorBeltType.kCorner_LD;if(c==ConveyorBeltDirection.kLeft)return ConveyorBeltType.kRoad;if(c==ConveyorBeltDirection.kRight)return null}else if(a==ConveyorBeltDirection.kRight){if(c==ConveyorBeltDirection.kUp)return ConveyorBeltType.kCorner_RU;if(c==ConveyorBeltDirection.kDown)return ConveyorBeltType.kCorner_RD;
if(c==ConveyorBeltDirection.kRight)return ConveyorBeltType.kRoad;if(c==ConveyorBeltDirection.kLeft)return null}},getTransTypeByIndex:function(a){var c=ConveyorBeltType.kRoad;this.hasCircle()?1==a&&(c=this.getCornerType()):this.hasCorner()?this.getHeadTrans()==this?1==a&&(c=ConveyorBeltType.kStart):this.getEndTrans()==this?1==a?c=this.getCornerType():a==this.getTransLength()&&(c=ConveyorBeltType.kEnd):1==a&&(c=this.getCornerType()):1==a?c=ConveyorBeltType.kStart:a==this.getTransLength()&&(c=ConveyorBeltType.kEnd);
return c},getLinkPositionByIndex:function(a){var c=this.getDirection(),d=0,e=0;c==ConveyorBeltDirection.kLeft?e=-1:c==ConveyorBeltDirection.kRight?e=1:d=c==ConveyorBeltDirection.kUp?-1:1;c=this.getStart();d={x:c.x+d*a,y:c.y+e*a};e=this.getLink();return this.hasCircle()?d:this.hasCorner()?this==this.getEndTrans()?a==this.getTransLength()?e:d:d:a==this.getTransLength()?e:d},hasCorner:function(){return this.getHeadTrans()!=this.getEndTrans()},hasCircle:function(){return this._hasCircle},getNextTrans:function(){return this.nextTrans},
getPrevTrans:function(){return this.prevTrans},setPrevTrans:function(a){this.prevTrans=a},setNextTrans:function(a){this.nextTrans=a},getEndTrans:function(){return this.nextTrans?this.nextTrans.getEndTrans():this},isHeadTrans:function(){return null==this.prevTrans},isEndTrans:function(){return null==this.nextTrans},getHeadTrans:function(){return this.prevTrans?this.prevTrans.getHeadTrans():this},setStart:function(a){var c=bit.band(bit.rshift(a,22),15);a=bit.band(bit.rshift(a,18),15);this.startItem=
ccp(c,a)},setStartType:function(a){this.startType=bit.band(bit.rshift(a,26),3)},setEnd:function(a){var c=bit.band(bit.rshift(a,12),15);a=bit.band(bit.rshift(a,8),15);this.endItem=ccp(c,a)},setEndType:function(a){this.endType=bit.band(bit.rshift(a,16),3)},setLink:function(a){var c=bit.band(bit.rshift(a,4),15);a=bit.band(a,15);this.toItem=ccp(c,a)},getStart:function(){return this.startItem},getEnd:function(){return this.endItem},getSign:function(){return this.sign},getLink:function(){return this.toItem},
getTransLength:function(){return this.getEndTrans()!=this||this.hasCircle()?0==this.sign.x?Math.abs(this.startItem.y-this.endItem.y):Math.abs(this.startItem.x-this.endItem.x):0==this.sign.x?Math.abs(this.startItem.y-this.endItem.y)+1:Math.abs(this.startItem.x-this.endItem.x)+1},getDirection:function(){return 0>this.sign.x?ConveyorBeltDirection.kUp:0<this.sign.y?ConveyorBeltDirection.kRight:0>this.sign.y?ConveyorBeltDirection.kLeft:ConveyorBeltDirection.kDown},getStartType:function(){return this.startType},
getEndType:function(){return this.endType}});
ConveyorBeltConfig.create=function(a){var c=string.split(a,",");if(1==c.length)return a=new ConveyorBeltConfig,a.init(c[0]),a;var d=[];for(a=0;a<c.length;++a){var e=c[a],f=ConveyorBeltConfig.create(e);table.insert(d,f)}var g=!0,c=function(a){for(var c=0;c<d.length;++c){var e=d[c].getStart();if(e.x==a.x&&e.y==a.y)return d[c]}return null};for(a=0;a<d.length;++a)if(e=d[a],f=e.getLink(),15!=f.x||15!=f.y)g=!1;f=d[0];for(a=0;a<d.length;++a)e=d[a],e._hasCircle=g;printf("Has Circle:",g);e=f;for(a=c(e.getEnd());null!=
a&&a!=f;)printf("next",a.getStart().x,a.getStart().y),e.setNextTrans(a),a.setPrevTrans(e),e=a,a=c(e.getEnd());f.setPrevTrans(null);e.setNextTrans(null);for(e=f;null!=e;)e=e.getNextTrans();return f};var NeedImageByTileType=cw.ArrayList([TileConfig.kPortalEnter,["res/image/portal.plist"],TileConfig.kPortalExit,["res/image/portal.plist"],TileConfig.kStone1,["res/image/block_stone.plist"],TileConfig.kStone2,["res/image/block_stone.plist"],TileConfig.kStone3,["res/image/block_stone.plist"],TileConfig.kStone4,["res/image/block_stone.plist"],TileConfig.kStone5,["res/image/block_stone.plist"],TileConfig.kWood,["res/image/block_lock.plist"],TileConfig.kIce1,["res/image/block_ice.plist"],TileConfig.kIce2,
["res/image/block_ice.plist"],TileConfig.kIce3,["res/image/block_ice.plist"],TileConfig.kIce4,["res/image/block_ice.plist"],TileConfig.kIce5,["res/image/block_ice.plist"],TileConfig.kHelmet,["res/image/block_helmet.plist"],TileConfig.kJumpCat,["res/image/block_cat.plist"],TileConfig.kWorm,["res/image/block_worm.plist"],TileConfig.kWatermelon,["res/image/watermelon.plist"],TileConfig.kHoney1,["res/image/lawn.plist"],TileConfig.kHoney2,["res/image/lawn.plist"],TileConfig.kHoney3,["res/image/lawn.plist"],
TileConfig.kAsh1,["res/image/block_ash.plist"],TileConfig.kAsh2,["res/image/block_ash.plist"],TileConfig.kAsh3,["res/image/block_ash.plist"],TileConfig.kSandstorm,["res/image/block_sandstorm.plist"],TileConfig.kFlame,["res/image/block_fire.plist","res/image/block_ash.plist"],TileConfig.kBaldStrong0,["res/image/block_fire.plist","res/image/block_ash.plist","res/image/boss_hit_effect.plist"],TileConfig.kBriar,["res/image/block_bear.plist"],TileConfig.kBramble,["res/image/block_bear.plist"],TileConfig.kSlideUp,
["res/image/tile_slide.plist"],TileConfig.kSlideDown,["res/image/tile_slide.plist"],TileConfig.kSlideLeft,["res/image/tile_slide.plist"],TileConfig.kSlideRight,["res/image/tile_slide.plist"],TileConfig.kCondiment,["res/image/condiment.plist"],TileConfig.kConveyorBeltBrake,["res/image/conveyorbelt.plist"],TileConfig.kConveyorBeltGear,["res/image/conveyorbelt.plist"],TileConfig.kSand,["res/image/block_sand.plist"],TileConfig.kRandomBlock1,["res/image/block_stone.plist","res/image/block_worm.plist",
"res/image/block_helmet.plist"],TileConfig.kRandomBlock2,["res/image/block_stone.plist","res/image/block_worm.plist","res/image/block_helmet.plist"],TileConfig.kRandomBlock3,["res/image/block_stone.plist","res/image/block_worm.plist","res/image/block_helmet.plist"],TileConfig.kRandomBlock4,["res/image/block_stone.plist","res/image/block_worm.plist","res/image/block_helmet.plist"],TileConfig.kRandomBlock5,["res/image/block_stone.plist","res/image/block_worm.plist","res/image/block_helmet.plist"],TileConfig.kWoodUp,
[],TileConfig.kWoodDown,[],TileConfig.kWoodLeft,[],TileConfig.kWoodRight,[]]),FrameNameByTileType=cw.ArrayList([TileConfig.kStone1,"block_stone_1.png",TileConfig.kIce1,"target_order_4_5.png",TileConfig.kHelmet,"target_order_4_2.png",TileConfig.kWood,"block_lock.png",TileConfig.kJumpCat,"target_order_4_4.png",TileConfig.kWorm,"target_order_4_6.png",TileConfig.kCondiment,"condiment_bottle_base.png",TileConfig.kBriar,"target_beargohome.png",TileConfig.kConveyorBelt,"ico_tile_belt.png",TileConfig.kConveyorBeltBrake,
"ico_tile_switch1.png",TileConfig.kConveyorBeltGear,"ico_tile_move_switch.png",TileConfig.kGiftBox,"target_order_5_1.png",TileConfig.kSlideUp,"tile_slide_1_3.png",TileConfig.kPortalEnter,"ico_tile_portal.png",TileConfig.kSand,"target_order_4_7.png",TileConfig.kWoodUp,"wood_v.png"]),duplicatedTypeMap=cw.ArrayList([TileConfig.kStone1,TileConfig.kStone1,TileConfig.kStone2,TileConfig.kStone1,TileConfig.kStone3,TileConfig.kStone1,TileConfig.kStone4,TileConfig.kStone1,TileConfig.kStone5,TileConfig.kStone1,
TileConfig.kIce1,TileConfig.kIce1,TileConfig.kIce2,TileConfig.kIce1,TileConfig.kIce3,TileConfig.kIce1,TileConfig.kIce4,TileConfig.kIce1,TileConfig.kIce5,TileConfig.kIce1,TileConfig.kSlideUp,TileConfig.kSlideUp,TileConfig.kSlideDown,TileConfig.kSlideUp,TileConfig.kSlideLeft,TileConfig.kSlideUp,TileConfig.kSlideRight,TileConfig.kSlideUp,TileConfig.kPortalEnter,TileConfig.kPortalEnter,TileConfig.kPortalExit,TileConfig.kPortalEnter,TileConfig.kWoodUp,TileConfig.kWoodUp,TileConfig.kWoodDown,TileConfig.kWoodUp,
TileConfig.kWoodLeft,TileConfig.kWoodUp,TileConfig.kWoodRight,TileConfig.kWoodUp]),LevelBossType=cw.Enum({kBaldStrong:1,kYellowMan:2,kCaptain:3}),LevelConfig=cw.Class({ctor:function(){this.level=1;this.version=0;this.gameMode="";this.tileMap=TileMetaData.getEmptyArray();this.fruitMap=null;this.maxColorNum=6;this.starScores={};this.randomSeed=0;this.outputBuff=this.produceBuff=this.produceRules=null;this.stepLimit=0;this.belt=this.portals=null;this.bossType=0;this.timeLimit=-1;this.orderMap={};this.orderLimit=
1;this.itemCollectNum=0;this.moveTileMap={};this.kitchenGodOrder=this.kitchenGodBlock=this.conveyorBeltSwitchs=this.condimentGuns=null;this.randomBlockRules=[];this.timeCloseLevel=this.timeUnlockLevel=0},loadConfig:function(a,c){this.level=a;this.version=c.version;this.gameMode=c.gameModeName;this.gameType=GameModeType.getTypeByName(this.gameMode);this.maxColorNum=c.maxColorNum;this.tileMap=TileMetaData.createMapByBitMap(c.tileMap);this.starScores=c.starScores;this.version=c.version;this.randomSeed=
c.randomSeed;this.portals=c.portals||{};this.fruitMap=c.fruitMap;this.produceRules=c.produceRules;this.stepLimit=c.stepLimit;this.timeLimit=c.timeLimit;this.belt=c.belt;this.produceBuff=c.produceBuff;this.outputBuff=c.outputBuff||{};this.condimentGuns=c.condimentGuns;this.conveyorBeltSwitchs=c.transSwitch;this.randomBlockRules=c.randomBlockRules||[];this.timeUnlockLevel=c.timeUnlockLevel||0;this.timeCloseLevel=c.timeCloseLevel||0;this.gameType!=GameModeType.kTimeMode&&(this.gameType==GameModeType.kOrder?
(this.orderMap=c.orderList,this.orderLimit=c.orderLimit||1):this.gameType==GameModeType.kBearGoHome?this.itemCollectNum=c.itemCollectNum||2:this.gameType==GameModeType.kFindBear?this.bearList=c.bearList:this.gameType==GameModeType.kHoney?this.honeyModeTarget=c.honeyModeTarget:this.gameType==GameModeType.kBaldStrong?(this.desc=c.desc,this.baldStrongConfig=c.baldStrongConfig||{},this.bossType=this.getBossType()):this.gameType!=GameModeType.kClayMode&&this.gameType==GameModeType.kKitchenGod&&(this.kitchenGodBlock=
c.kitchenGodBlockList,this.kitchenGodOrder=c.kitchenGodOrderList));GameModeType.isCanMoveMap(this.gameType)&&(this.moveTileMap=TileMetaData.createMapByBitMap(c.moveTileMap||{}))},getNeedColorList:function(){var a=[];if(this.orderMap)for(var c=0;c<this.orderMap.length;++c){var d=this.orderMap[c],e;for(e in d){var f=d[e];if("k"==e){var g=f.split("_"),f=parseInt(g[0]),g=parseInt(g[1]);f==TileItemOrderType.kFruit?a.push(g):f==TileItemOrderType.kClayTarget?a.push(g):f==TileItemOrderType.kGiftTarget?a.push(g):
f==TileItemOrderType.kSpecialTarget&&g==TileItemOrderType_ST.kWorm&&a.push(FruitTypeConfig.kGreen)}}}return a},getTileTypeList:function(){var a={},c=function(c){if(c)for(var d=0;d<c.length;++d)for(var e=0;e<c[d].length;++e){var f=c[d][e],g;for(g in NeedImageByTileType)f.hasProperty(g)&&(a[g]=!0)}};c(this.tileMap);c(this.moveTileMap);for(var d in this.produceRules)c=this.produceRules[d],NeedImageByTileType[c.itemId]&&(a[c.itemId]=!0);if(this.orderMap)for(d in this.orderMap){var c=this.orderMap[d],
e;for(e in c){var f=c[e];"k"==e&&(f=f.split("_"),tonumber(f[0])==TileItemOrderType.kGiftTarget&&(a[TileConfig.kGiftBox]=!0))}}this.belt&&(a[TileConfig.kConveyorBelt]=!0);this.gameType==GameModeType.kBearGoHome?a[TileConfig.kBriar]=!0:this.gameType==GameModeType.kKitchenGod&&(a[TileConfig.kIce1]=!0,a[TileConfig.kStone1]=!0,a[TileConfig.kHelmet]=!0,a[TileConfig.kWood]=!0);d=[];for(var g in a)table.insert(d,g);return d},getTileSingleTypeList:function(){for(var a={},c=this.getTileTypeList(),d=0;d<c.length;++d){var e=
c[d];duplicatedTypeMap[e]?a[duplicatedTypeMap[e]]=!0:a[e]=!0}var c=[],f;for(f in a)table.insert(c,f);return c},getLevelNeedImages:function(){function a(a){if(a)for(var d=0;d<a.length;++d)for(var e=0;e<a[d].length;++e){var f=a[d][e],g;for(g in NeedImageByTileType){var h=NeedImageByTileType[g];if(f.hasProperty(g))for(var w in h)c[h[w]]=!0}}}var c={};a(this.tileMap);a(this.moveTileMap);for(var d in this.produceRules){var e=this.produceRules[d];if(NeedImageByTileType[e.itemId])for(var f in NeedImageByTileType[e.itemId])c[NeedImageByTileType[e.itemId][f]]=
!0}if(this.orderMap)for(d in this.orderMap){var e=this.orderMap[d],g;for(g in e)f=e[g],"k"==g&&(f=f.split("_"),f=tonumber(f[0]),f==TileItemOrderType.kClayTarget?c["res/image/block_clay.plist"]=!0:f==TileItemOrderType.kGiftTarget&&(c["res/image/tile_giftbox.plist"]=!0))}this.belt&&(c["res/image/conveyorbelt.plist"]=!0);this.bearList&&(c["res/image/peanut.plist"]=!0);this.gameType==GameModeType.kBearGoHome?c["res/image/block_bear.plist"]=!0:this.gameType==GameModeType.kKitchenGod&&(c["res/image/block_ice.plist"]=
!0,c["res/image/block_stone.plist"]=!0,c["res/image/block_helmet.plist"]=!0,c["res/image/block_lock.plist"]=!0);d=[];for(var h in c)d.push(h);return d},getBossType:function(){for(var a=0;a<this.tileMap.length;++a)for(var c=0;c<this.tileMap[a].length;++c){var d=this.tileMap[a][c];if(d.hasProperty(TileConfig.kCaptain))return LevelBossType.kCaptain;if(d.hasProperty(TileConfig.kYellowMan))return LevelBossType.kYellowMan}return LevelBossType.kBaldStrong}});
LevelConfig.create=function(a,c){var d=new LevelConfig;d.loadConfig(a,c.gameData);return d};LevelConfig.getFrameNameByTileType=function(a){return FrameNameByTileType[a]||""};var LevelGameData=cw.Class.extend(DataUnit,{ctor:function(){this.gameModeName="Order";this.stepLimit=this.randomSeed=0;this.fruitMap={};this.tileMap={};this.moveTileMap={};this.produceRules={};this.maxColorNum=0;this.portals={};this.starScores=[0,0,0];this.produceBuff={}}});var LevelMapMeta=cw.Class({ctor:function(){this.levelId=this.score3=this.score2=this.score1=this.id=0;this.gameData=new LevelGameData},fromData:function(a){if(!a)return!1;for(var c in a){var d=a[c];"gameData"==c?this.gameData.fromData(d):this[c]=d}this.id=this.levelId;this.score1=this.gameData.starScores[0];this.score2=this.gameData.starScores[1];this.score3=this.gameData.starScores[2];return!0},getTotalStarNumber:function(){return this.gameData.starScores.length},getStar:function(a){return a>=this.score3?
3:a>=this.score2?2:a>=this.score1?1:0}});var TileMetaData=cw.Class({ctor:function(){this.y=this.x=0;this.tileProperties=[];for(var a=0;a<TileConfig.kMaxTile;++a)this.tileProperties.push(!1)},hasProperty:function(a){if(a===TileConfig.kInvalid){for(a=0;a<this.tileProperties;a++)if(this.tileProperties[a])return!1;return!0}return this.tileProperties[a]},setProperty:function(a){this.tileProperties[a]=!0},addPropertyByArray:function(a){for(var c=a.length,d=0;d<a.length;++d){var e=a.charAt(d);this.tileProperties[c-d]="0"!=e}0<=a.search("1")?this.removeProperty(TileConfig.kEmpty):
this.setProperty(TileConfig.kEmpty)},removeProperty:function(a){this.tileProperties[a]=!1},toStringInt:function(){for(var a="",c=this.tileProperties.length-1;0<=c;)this.tileProperties[c]&&(a=""===a?""+c:a+"_"+c),c-=1;return a},toBigInt:function(){for(var a="",c=this.tileProperties.length;0<c;)a=this.tileProperties[c]?a+"1":a+"0",c-=1;return BigInt.bigInt2str(BigInt.str2bigInt(a,2,1),10)}});
TileMetaData.createMapByBitMap=function(a){for(var c=[],d=0;d<a.length;++d){var e=[];c.push(e);for(var f=0;f<a[d].length;++f){var g=TileMetaData.createByBitData(a[d][f],f,d);e.push(g)}}return c};TileMetaData.createByBitData=function(a,c,d){var e=TileMetaData.create(c,d),f=BigInt.bigInt2str(BigInt.str2bigInt(a,10,1),2);e.addPropertyByArray(f);printf("-------",c,d,a,e.toStringInt());return e};TileMetaData.create=function(a,c){var d=new TileMetaData;d.x=a;d.y=c;return d};
TileMetaData.getEmptyArray=function(){for(var a=[],c=0;9>c;++c){var d=[];a.push(d);for(var e=0;9>e;++e)d.push(TileMetaData.create(e,c))}return a};handleKeypadDefault=function(a,c,d,e){if("backClicked"==c||"btnBClicked"==c)a.hide();else if("dLeftClicked"==c)ButtonHelper.moveArrowDir(a.layer,-1,0);else if("dRrightClicked"==c)ButtonHelper.moveArrowDir(a.layer,1,0);else if("dUpClicked"==c)ButtonHelper.moveArrowDir(a.layer,0,1);else if("dDownlicked"==c)ButtonHelper.moveArrowDir(a.layer,0,-1);else if("dCenterClicked"==c||"btnAClicked"==c)ButtonHelper.selectArrowButton();else if("motionLClicked"==c)ButtonHelper.moveArrowMotionDir(a.layer,d,-e);else return!1;
return!0};registerTouchAndKeyProcessor=function(a,c,d){d=function(){return!0};"default"==c?a.registerScriptTouchHandler(d,!1,0,!0):"swallow"==c&&a.registerScriptTouchHandler(d,!1,0,!0)};
createController=function(a){var c={name:a,isShowing:!1,showTimes:0,timerList:{},dtimerIdx:100};_G[a]=c;c.showLoading=function(a,e,f){SceneHelper.showWithPreload(c,a,e,f)};c.show=function(a,e){if(c.isShowing)logi(c.name+" is already showing");else{c.param=a;c.isShowing=!0;c.showTimes+=1;c.layer=c.onViewCreate();c.layer.registerScriptHandler(c.onScriptEventHandler);printf(c.name,"onViewOpen");if(null!=c.onViewOpen)c.onViewOpen(e);if(c.isShowing){if(GameDirector.showController(c,e)){if(c.onViewOpened&&
(logTraceFunc(c.name,"onViewOpened"),c.onViewOpened(e)),c.postList&&0<c.postList.length){for(var f=0;f<c.postList.length;++f){var g=c.postList[f];c[g[0]]?c[g[0]].apply(c,g[1]):console.error("try to call ",c.name,":",g[0])}c.postList=null}}else c.hide();notification.postEvent("event.ui.show",c.name)}}};c.hide=function(){if(c.isShowing){printf(c.name,"onViewClose");if(null!=c.onViewClose)c.onViewClose();c.stopAllEvents();GameDirector.removeController(c);c.layer=null;c.isShowing=!1;c.anim=null;if(c._ownerOutletNames){for(var a=
c._ownerOutletNames,e=0,f=a.length;e<f;e++)c[a[e]]=null;c._ownerOutletNames=null}for(var g in c)(a=c[g])&&a[0]&&a[0]._ownerOutletNames&&(c[g]=null);notification.postEvent("event.ui.hide",c.name)}};c.onScriptEventHandler=function(a,e){if("enter"==a){if(null!=c.layer&&e!=c.layer&&loge("error node !\x3d t.layer should never happened"),logTraceFunc(c.name,"onViewEnter"),null!=c.onViewEnter){var f=c.popParam;c.popParam=null;c.onViewEnter(f)}}else if("exit"==a){if(logTraceFunc(c.name,"onViewExit"),null!=
c.onViewExit)c.onViewExit()}else"exitTransitionStart"==a&&"push"!=GameDirector.curSceneChangeType&&c.stopAllEvents()};c.registerEvent=function(a){notification.registerEvent(c.onEvents,a,c)};c.unregisterEvent=function(a){notification.unregisterEvent(c.onEvents,a)};c.registerUpdate=function(a,e,f,g){if(null==a||void 0==a)a=c.dtimerIdx+1,c.dtimerIdx=a;var h=c.timerList;null!=h[a]&&(scheduler.unscheduleGlobal(h[a]),h[a]=null);g&&e.call(c,0);h[a]=scheduler.scheduleGlobal(handler(c,e),f||0);return a};c.unregisterUpdate=
function(a){var e=c.timerList[a];null!=e&&(scheduler.unscheduleGlobal(e),c.timerList[a]=null)};c.performDelay=function(a,e,f){var g;g=c.registerUpdate(f,function(){c.unregisterUpdate(g);a.call(c,e)},e)};c.performInPairs=function(a,e,f,g,h){var m,n,r,s=function(){var f=!1,g;for(g in a)if(null==n){n=g;r=a[n];f=!0;break}else if(n==g)f=!0,n=null;else if(f){n=g;r=a[n];break}null!=n&&f?e(n,r):c.unregisterUpdate(m)};m=c.registerUpdate(g,s,f);h||s()};c.performForLoop=function(a,e,f,g,h,m){var n,r=function(){a>
e?c.unregisterUpdate(n):f(a);a+=1};n=c.registerUpdate(h,r,g);m||r()};c.registerTouch=function(a,e,f){c.unregisterTouch();c.touchListener=cc.eventManager.addListener({event:cc.EventListener.TOUCH_ONE_BY_ONE,swallowTouches:f,onTouchBegan:function(c,e){return a("began",c)},onTouchMoved:function(c,e){return a("moved",c)},onTouchEnded:function(c,e){return a("ended",c)},onTouchCancelled:function(c,e){return a("ended",c)}},c.layer)};c.registerScriptTouchHandler=function(a,e,f,g){c.registerTouch(function(c,
e){return a(c,e.getLocation().x,e.getLocation().y)},f,g)};c.unregisterTouch=function(){c.touchListener&&(cc.eventManager.removeListener(c.touchListener),c.touchListener=null)};c.registerKeypad=function(a,e,f){c.keypadListener=cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,swallowTouches:f,onKeyReleased:function(c,e){return a(c,e)}},c.layer)};c.unregisterKeypad=function(){c.keypadListener&&(cc.eventManager.removeListener(c.keypadListener),c.keypadListener=null)};c.stopAllEvents=function(){var a=
!1,e;for(e in c.timerList)scheduler.unscheduleGlobal(c.timerList[e]),a=!0;a&&(c.timerList={});notification.unregisterEvent(c.onEvents);c.unregisterTouch();c.unregisterKeypad()};c.post=function(a,e,f,g,h,m,n){logTraceFunc(c.name,"post",a,e,f,g);if(c.isShowing)if(c[a])c[a](e,f,g,h,m,n);else console.error("try to call ",c.name,":",a)};c.send=function(a,e,f,g,h,m,n){logTraceFunc(c.name,"send",a,e,f,g);if(c.isShowing)if(c[a])c[a](e,f,g,h,m,n);else console.error("try to call ",c.name,":",a);else c.postList=
c.postList||[],table.insert(c.postList,[a,[e,f,g,h,m,n]])};return c};CmdHelper={eventTable:{},onInit:function(){this.eventTable={};this.eventTable.e_open_market=function(a){};this.eventTable.e_open_browser=function(a){cc.sys.openURL(a)}},onDestroy:function(){},process:function(a,c){var d=this.eventTable[a];null!=d?d(c):logw("CmdHelper event "+a+" ! found")}};CmdHelper.onInit();GameDirector={transitionTime:0.8,sceneControllerTable:{},sceneNameStack:[],isSceneChanging:!1,curSceneChangeType:"run"};
GameDirector.sceneTransitions={crossfade:[cc.TransitionCrossFade],fade:[cc.TransitionFade,cc.color(0,0,0)],fadebl:[cc.TransitionFadeBL],fadedown:[cc.TransitionFadeDown],fadetr:[cc.TransitionFadeTR],fadeup:[cc.TransitionFadeUp],jumpzoom:[cc.TransitionJumpZoom],moveinb:[cc.TransitionMoveInB],moveinl:[cc.TransitionMoveInL],moveinr:[cc.TransitionMoveInR],moveint:[cc.TransitionMoveInT],pageturn:[cc.TransitionPageTurn,!1],rotozoom:[cc.TransitionRotoZoom],shrinkgrow:[cc.TransitionShrinkGrow],slideinb:[cc.TransitionSlideInB],
slideinl:[cc.TransitionSlideInL],slideinr:[cc.TransitionSlideInR],slideint:[cc.TransitionSlideInT],splitcols:[cc.TransitionSplitCols],splitrows:[cc.TransitionSplitRows],turnofftiles:[cc.TransitionTurnOffTiles],zoomflipangular:[cc.TransitionZoomFlipAngular]};GameDirector.getControllerList=function(a){a=a||this.getCurrentSceneName();return this.sceneControllerTable[a]||[]};
GameDirector.showController=function(a,c){var d=c;null==d&&(d=this.getCurrentOrNextScene());var e=d.getNodeName();if("transition"==e)return!1;d.addChild(a.layer);null==this.sceneControllerTable[e]&&(this.sceneControllerTable[e]=[]);a.sceneName=e;table.insert(this.sceneControllerTable[e],a);return!0};
GameDirector.removeController=function(a,c){if(null!=a.sceneName){!0!=c&&a.layer.removeFromParentAndCleanup(!0);var d=this.sceneControllerTable[a.sceneName];if(null!=d)for(var e=d.length-1;0<=e;e--)if(d[e]==a){table.remove(d,e);break}a.sceneName=null}};
GameDirector.removeAllContoller=function(a,c){if(null!=this.sceneControllerTable[a]){for(var d=[],e=0;e<this.sceneControllerTable[a].length;++e){var f=this.sceneControllerTable[a][e];table.insert(d,f)}for(e=0;e<d.length;++e)f=d[e],f.hide(c);this.sceneControllerTable[a]=null}};GameDirector.createSceneByName=function(a){var c=new cc.Scene;c.setNodeName(a);return c};GameDirector.getCurrentSceneName=function(){var a=this.getCurrentOrNextScene();return null!=a?a.getNodeName():""};
GameDirector.getCurrentOrNextScene=function(){var a=cc.director.getRunningOrNextScene();return"transition"==a.getNodeName()?a.getInScene():a};GameDirector.getRunningScene=function(){return cc.director.getRunningScene()};
GameDirector.wrapSceneWithTransition=function(a,c,d,e,f){"random"==c&&(c=table.keys(this.sceneTransitions),c=c[Math.floor(Math.random()*(c.length-1))]);if(this.sceneTransitions[c]){var g=this.sceneTransitions[c];c=g[0];var h=g[1],g=g[2];d=d||0.8;a=null!=g?c.create(d,a,e||h,f||g):null!=h?c.create(d,a,e||h):c.create(d,a)}return a};
GameDirector.replaceNewScene=function(a,c,d,e,f){logTraceFunc("GameDirector","replaceNewScene",a,c,d,e);this.curSceneChangeType="replace";var g=this.getCurrentSceneName();if(null!=e&&a==g)return this.getCurrentOrNextScene();f||this.popAllBelowScene();var h=f=this.createSceneByName(a),m=this;null!=e?(this.setTouchAndKeypadEnable(!1),h=this.wrapSceneWithTransition(f,e,this.transitionTime),h.setNodeName("transition"),this.isSceneChanging=!0,h.registerScriptListener(function(){m.removeAllContoller(g);
m.isSceneChanging=!1})):this.removeAllContoller(g);for(e=0;e<c.length;++e)c[e].show(d,f);null==cc.director.getRunningScene()?(cc.director.runScene(h),0<this.sceneNameStack.length&&(loge("Should never happend: sceneNameStack \x3e 0"),this.sceneNameStack=[]),table.insert(this.sceneNameStack,a)):(cc.director.runScene(h),0>=this.sceneNameStack.length?table.insert(this.sceneNameStack,a):this.sceneNameStack[this.sceneNameStack.length-1]=a);return f};
GameDirector.pushNewScene=function(a,c,d,e){logTraceFunc("GameDirector","pushNewScene",a,c,d,e);this.curSceneChangeType="push";var f=this.createSceneByName(a),g=f,h=this;null!=e?(this.setTouchAndKeypadEnable(!1),g=this.wrapSceneWithTransition(f,e,this.transitionTime),g.setNodeName("transition"),this.isSceneChanging=!0,g.registerScriptListener(function(){h.isSceneChanging=!1})):(this.setTouchAndKeypadEnable(!1),scheduler.performWithDelayGlobal(function(){h.setTouchAndKeypadEnable(!0)},0));for(e=0;e<
c.length;++e)c[e].show(d,f);cc.director.pushScene(g);table.insert(this.sceneNameStack,a);logi("Push scene: "+a);return f};
GameDirector.popScene=function(a){logTraceFunc("GameDirector","popScene",a);this.curSceneChangeType="pop";var c=this.sceneNameStack.length;0>=c?loge("Should never happend: pop stack \x3c\x3d 0"):(c=table.remove(this.sceneNameStack),this.removeAllContoller(c),logi("Pop scene: "+c));c=this.sceneNameStack.length;if(0<c&&(c=this.sceneNameStack[c-1],c=this.sceneControllerTable[c],null!=c))for(var d in c)c[d].popParam=a;cc.director.popScene()};
GameDirector.popToScene=function(a,c){logTraceFunc("GameDirector","popToScene",a,c);for(var d=-1,e=this.sceneNameStack,f=e.length;1<=f;--f)if(e[f-1]==a){d=e.length-f;break}if(0<=d){for(f=1;f<=d;++f)this.popScene(c);return!0}return!1};GameDirector.popAllBelowScene=function(){for(var a=0;1<this.sceneNameStack.length;){var c=table.remove(this.sceneNameStack,0);this.removeAllContoller(c);a+=1}0<a&&cc.director.popAllBelowScene();return a};
GameDirector.popToRootScene=function(a){this.curSceneChangeType="pop";for(a=0;1<this.sceneNameStack.length;){var c=table.remove(this.sceneNameStack);this.removeAllContoller(c);a+=1}cc.director.popToRootScene();return a};GameDirector.showLayerOnCurrentScene=function(a){var c=this.getCurrentOrNextScene();null!=c?c.addChild(a):loge("GameDirector.showLayerOnCurrentScene curScene is null")};
GameDirector.getControllerByChildNode=function(a){for(var c in this.sceneControllerTable){var d=this.sceneControllerTable[c];if(d)for(var e=d.length-1;0<=e;e--){var f=d[e];if(f.isShowing)for(;a;){if(a==f.layer)return f;a=a.getParent()}}}};GameDirector.setBelowControllersVisible=function(a,c){for(var d in this.sceneControllerTable){var e=this.sceneControllerTable[d],f=!1;if(e)for(var g=e.length-1;0<=g;g--){var h=e[g];f?h.isShowing&&h.layer.setVisible(c):h==a&&(f=!0)}}};
GameDirector.setBelowControllersVisibleByNode=function(a,c){var d=this.getControllerByChildNode(a);d&&this.setBelowControllersVisible(d,c)};GameDirector.setTimeScale=function(a){logTraceFunc("GameDirector","setTimeScale",a);0.1>a&&(a=0.1);cc.director.getScheduler().setTimeScale(a)};GameDirector.setKeypadEnable=function(a){logTraceFunc("GameDirector","setKeypadEnable",a);cc.eventManager.setEnabled(a)};GameDirector.setTouchEnable=function(a){logTraceFunc("GameDirector","setTouchEnable",a);cc.eventManager.setEnabled(a)};
GameDirector.setTouchAndKeypadEnable=function(a){logTraceFunc("GameDirector","setTouchAndKeypadEnable",a);cc.eventManager.setEnabled(a)};GameDirector.setDirtyFeatureEnable=function(a){logTraceFunc("GameDirector","setDirtyFeatureEnable",a)};GameDirector.quit=function(){cc.director.end()};GameHelper={};var urlParamStr=null;
GameHelper.buildBasicUrlParam=function(){if(!urlParamStr){var a=table.insert,c=[];a(c,"pf\x3d");a(c,string.urlencode(OsPlatform));a(c,"\x26oc\x3d");a(c,string.urlencode(OsCategory));a(c,"\x26v\x3d");a(c,string.urlencode(VerCode));a(c,"\x26chl\x3d");a(c,string.urlencode(ChanelName));a(c,"\x26jb\x3d");a(c,tostring(IsJailBreak));a(c,"\x26udid\x3d");a(c,string.urlencode(DeviceUDID));a(c,"\x26dn\x3d");a(c,string.urlencode(DeviceName));a(c,"\x26ov\x3d");a(c,string.urlencode(OsVersion));a(c,"\x26lan\x3d");
a(c,DeviceRegionLan);urlParamStr=table.concat(c,"")}return urlParamStr};GameHelper.getMoneyStr=function(a,c){c=c||"USD";return"USD"==c?string.format("$%.2f",a):"CNY"==c?string.format("\uffe5%.0f",a):"EUR"==c?string.format("\u20ac%.2f",a):"JPY"==c?string.format("\u00a5%.2f",a):"KRW"==c?string.format("\uc6d0%.2f",a):string.format("$%.2f",a)};GameHelper.getLargeNumberStr=function(a){return 1E4>a?tostring(a):1E8>a?string.format("%.2f\u4e07",a/1E4):string.format("%.2f\u4ebf",a/1E8)};
GameHelper.loadHeadSprite=function(a,c,d){d&&a.setShaderProgramByKey(kCCShaderType_CircleClip);a&&null!=c&&(isNaN(tonumber(c))?a.setUrl(c):a.setUrl(GetAssetsPath("avatar"+c+".png")),a.startLoadWhenVisible(!1))};
GameHelper.checkAndSetHeadBoardSprite=function(a,c,d){var e=UserManager.getKitchenGodLastRank();if(!e||0==e.length)return null;for(var f=1;3>=f;++f){var g=e[f-1];if(g&&g.playerId==a)return c&&c.setDisplayFrameName(d?"kitchen_head_board_square_"+f+".png":"kitchen_head_board_"+f+".png"),["kitchen_head_board_"+f+".png",g]}return null};
GameHelper.openUI=function(a,c){if(HttpHelper.isLogined()){if("get_pet"==a){if(GameDirector.popToScene("WorldMap"))if(20003==c)FristChargeDialogController.showLoading();else{if(20004==c)return ActivityManager.checkAndOpen(10001);if(20005==c)return ActivityManager.checkAndOpen(10005)}}else if("friends"==a)GameDirector.popToScene("WorldMap")&&RankListLayerController.show();else if("pet_hall"==a)GameDirector.popToScene("WorldMap")&&SceneHelper.pushToScene("PetHall",null,c);else if("lottery"==a){if(!LotteryController.isOpen())return;
SceneHelper.pushToScene("Lottery",null,c)||GameDirector.popToScene("Lottery",c)}else if("activity"==a)GameDirector.popToScene("WorldMap")&&ActivityManager.checkAndOpen(c);else if("shop"==a)ShopController.loadAndShow(c);else if("achieve"==a)GameDirector.popToScene("WorldMap")&&(TaskLayerController.isShowing?TaskLayerController.showTabButton(TaskLayerTab.Achievement,c):TaskLayerController.show({tab:TaskLayerTab.Achievement,arg:c}));else if("world_map"==a)GameDirector.popToScene("WorldMap");else if("kitchen_god"==
a)WaitingDialogController.show(),KitchenGodController.checkDataOrRefresh(function(a){WaitingDialogController.hide();a&&GameDirector.popToScene("WorldMap")&&SceneHelper.pushToScene("KitchenGodMap")});else if("time_level"==a){if(GameDirector.popToScene("WorldMap"))if(UserManager.isHaveTimeLevel())TimeLevelController.showLoading();else return TipDialogController.showTip(TextTable.t_TimeLevelTip),!1}else if("time_charge_gift"==a)if(TimeChargeGiftController.isOpen())GameDirector.popToScene("WorldMap")&&
TimeChargeGiftController.showLoading();else return TipDialogController.showTip(TextTable.t_ActivityCloseTip),!1;else if("time_shop_gift"==a)if(TimeShopGiftController.isOpen())GameDirector.popToScene("WorldMap")&&TimeShopGiftController.showLoading();else return TipDialogController.showTip(TextTable.t_ActivityCloseTip),!1;return!0}TipDialogController.showTip(ErrMsg(100340))};
GameHelper.shareSocialNetwork=function(a,c){a||(a=resource.getPhotoDirPath()+"/photo.tmp.png",CCNodeUtils.takePictureFile(a,0,0,0,0,!1));"android"==OsPlatform?this.shareAndroidIntent(a,c):"ios"==OsPlatform?this.shareToAirDrop(a,c):"wp8"==OsPlatform?this.shareWp8Media(a,c):c()};GameHelper.shareAndroidIntent=function(a,c){var d={title:TextTable.t_shareDesc,path:a,url:TencentSdkManager.getShareUrl()};platform.shareAndroidIntent(d,c)};
GameHelper.shareToAirDrop=function(a,c){var d={title:TextTable.t_shareDesc,path:a,url:TencentSdkManager.getShareUrl()};platform.shareToAirDrop(d,c)};GameHelper.shareWp8Media=function(a,c){var d={title:TencentSdkManager.getGameTitle(),path:a,url:TencentSdkManager.getShareUrl()};platform.shareMediaImage(d,c)};GameHelper.goToRate=function(){"android"==OsPlatform?platform.openMarket():"ios"==OsPlatform?platform.openMarket({appid:IosAppId}):"wp8"==OsPlatform&&platform.openMarketRate()};
GameHelper.checkNeedGoToRate=function(){var a=!1,c=persist.getInt("last_rating_time");persist.getBool("has_rate")||(0==c?persist.setInt("last_rating_time",os.time()):86400<os.time()-c&&(a=!0,persist.setInt("last_rating_time",os.time())));return a};GameHelper.notifyHasGotoRate=function(){persist.setBool("has_rate",!0)};GameHelper.syncUserToPlatform=function(){var a={id:UserManager.getUserId()};platform.syncUserToPlatform(a)};
GameHelper.setupGameCenter=function(a){platform.setupGameCenter(null,function(c){null!=a&&a(c)})};GameHelper.showLeaderBoards=function(a){var c="";"android"==OsPlatform?(c=GameCenterLeaderBoardIds.BestScore_Android,string.endswith(ChanelName,"_amz")&&(c=GameCenterLeaderBoardIds.BestScore_IOS)):"ios"==OsPlatform?c=GameCenterLeaderBoardIds.BestScore_IOS:"wp8"==OsPlatform&&(c=GameCenterLeaderBoardIds.BestScore_Wp8);platform.showLeaderBoards(c,function(c){null!=a&&a(c)})};
GameHelper.showAchievement=function(a){platform.showAchievement(null,function(c){null!=a&&a(c)})};GameHelper.submitScore=function(a){var c="";"android"==OsPlatform?(c=GameCenterLeaderBoardIds.BestScore_Android,string.endswith(ChanelName,"_amz")&&(c=GameCenterLeaderBoardIds.BestScore_IOS)):"ios"==OsPlatform?c=GameCenterLeaderBoardIds.BestScore_IOS:"wp8"==OsPlatform&&(c=GameCenterLeaderBoardIds.BestScore_Wp8);platform.submitScore({id:c,score:a},function(a){})};
GameHelper.completeAcht=function(a){var c="";"android"==OsPlatform?c=GameCenterAchtIds["Acht"+a+"_Android"]:"ios"==OsPlatform?c=GameCenterAchtIds["Acht"+a+"_IOS"]:"wp8"==OsPlatform&&(c=GameCenterAchtIds["Acht"+a+"_Wp8"]);platform.completeAchievement({id:c},function(a){})};GameHelper.setupOpenXLive=function(){platform.setupOpenXLive(Wp8OpenXLiveSecretKey,function(a){})};
GameHelper.getConinString=function(a){a=tostring(a);if(9<=a.length){var c="\u4ebf";a=a.slice(0,a.length-8)}else 7<=a.length&&(c="\u4e07",a=a.slice(0,a.length-4));c&&(a+=c);return a};SceneHelper={};var isReloadSelfScene=!1;SceneHelper.notPreloadSceneDict=table.listToMap(["StartMenu","StartStoryMenu","GameMapOpt","WorldMap","GameWorld"]);
SceneHelper.controllerNameListDict={StartMenu:["StartMenuController"],StartStoryMenu:["StartStoryMenuController"],WorldMap:["WorldMapController","WorldMapUIController"],GameWorld:["GameWorldController","GameWorldTargetController","GameWorldPropController","GameWorldFgController","GameWorldUIController"],KitchenGodMap:["KitchenGodController"],KitchenGodGame:["GameWorldController","KitchenGodGameTargetController","GameWorldPropController","GameWorldFgController","KitchenGodGameUIController"],TestWorld:["GameWorldEditController",
"GameWorldEditUIController"],GameEndStory:["GameEndStoryController"],StartTarget:["StartTargetController"],PetHouse:["PetHouseController","PetHouseDetailsController","PetHouseEquipController"],Lottery:["LotteryController"],PetHall:["PetHallController"],Shop:["ShopController"],Test:["TestDialogController"],GameMapOpt:["MapOptController"],Husky:["HuskyMainPageController"],HuskyChess:["HuskyChessController"]};
SceneHelper.getPreloadListBySceneName=function(a){var c=[];if(a=this.controllerNameListDict[a])for(var d=0;d<a.length;++d){var e=this.getControllerResList(a[d]);e&&table.append(c,e)}return c};
SceneHelper.getControllerResList=function(a,c){if(null==c&&"ShareController"==a)return[];var d=CCBResList,e=c||d[a];if(!e)return[];if(e.list)return e.list;for(var f=[],g={},h=0;h<e.length;++h){var m=d[e[h]];if(m)for(var n=0;n<m.length;++n){var r=m[n];g[r]||(g[r]=!0,f.push("res/image/720x1280/"+r))}}return e.list=f};
SceneHelper.jumpToScene=function(a,c,d,e,f){if(!isReloadSelfScene&&!GameDirector.isSceneChanging){if(a==GameDirector.getCurrentSceneName())return this.reloadCurrentScene(d,c,e,f);var g=this.getControllerList(a);return GameDirector.replaceNewScene(a,g,d,c,e,f)}};SceneHelper.pushToScene=function(a,c,d,e){if(!isReloadSelfScene&&!GameDirector.isSceneChanging){var f=this.getControllerList(a);return GameDirector.pushNewScene(a,f,d,c,e)}};
SceneHelper.popScene=function(a){isReloadSelfScene||GameDirector.isSceneChanging||GameDirector.popScene(a)};
SceneHelper.reloadCurrentScene=function(a,c,d,e){if(!isReloadSelfScene&&!GameDirector.isSceneChanging){isReloadSelfScene=!0;var f=GameDirector.getCurrentSceneName();GameDirector.setTouchAndKeypadEnable(!1);var g=CCNodeUtils.takePicture(null,0,0,0,0,!1),h=GameDirector.replaceNewScene("Blank",[],a,null,d);h&&g&&(g.setPosition(0.5*display.width,0.5*display.height),h.addChild(g));var m=this;scheduler.performWithDelayGlobal(function(){var g=m.getControllerList(f);GameDirector.replaceNewScene(f,g,a,c,d,
e);GameDirector.setTouchAndKeypadEnable(!0);isReloadSelfScene=!1},0)}};SceneHelper.getControllerList=function(a){var c=[];if(a=this.controllerNameListDict[a])for(var d=0;d<a.length;++d){var e=_G[a[d]];e&&table.insert(c,e)}return c};SceneHelper.jumpToSceneOld=SceneHelper.jumpToScene;
SceneHelper.jumpToScene=function(a,c,d,e,f){var g=this.getPreloadListBySceneName(a);if((0>=g.length||GameInitManager.isResCache(g))&&!GameInitManager.isNeedLoading()||this.notPreloadSceneDict[a])this.jumpToSceneOld(a,c,d,e,f);else{var h=function(h){h?cc.loader.load(g,function(g,h){WaitingDialogController.hide();g?TipDialogController.showTip(TextTable.t_downloadError):SceneHelper.jumpToSceneOld(a,c,d,e,f)}):(TipDialogController.showTip(TextTable.t_downloadError),WaitingDialogController.hide())};this.notPreloadSceneDict[a]?
h(!0):(WaitingDialogController.show(),GameInitManager.loadingNeedRes(h))}};SceneHelper.pushToSceneOld=SceneHelper.pushToScene;
SceneHelper.pushToScene=function(a,c,d,e){var f=this.getPreloadListBySceneName(a);if((0>=f.length||GameInitManager.isResCache(f))&&!GameInitManager.isNeedLoading()||this.notPreloadSceneDict[a])this.pushToSceneOld(a,c,d,e);else{var g=function(g){g?cc.loader.load(f,function(f,g){WaitingDialogController.hide();f?TipDialogController.showTip(TextTable.t_downloadError):SceneHelper.pushToSceneOld(a,c,d,e)}):(TipDialogController.showTip(TextTable.t_downloadError),WaitingDialogController.hide())};this.notPreloadSceneDict[a]?
g(!0):(WaitingDialogController.show(),GameInitManager.loadingNeedRes(g))}};
SceneHelper.showWithPreload=function(a,c,d,e){var f=this.getControllerResList(a.name,e);(0>=f.length||GameInitManager.isResCache(f))&&!GameInitManager.isNeedLoading()?a.show(c,d):(WaitingDialogController.show(),a.isShowLoading=!0,GameInitManager.loadingNeedRes(function(e){e?cc.loader.load(f,function(e,f){a.isShowLoading=!1;WaitingDialogController.hide();e?TipDialogController.showTip(TextTable.t_downloadError):a.show(c,d)}):(a.isShowLoading=!1,TipDialogController.showTip(TextTable.t_downloadError),
WaitingDialogController.hide())}))};SceneHelper.loadNeedRes=function(a){GameInitManager.isNeedLoading()?(WaitingDialogController.show(),GameInitManager.loadingNeedRes(function(c){WaitingDialogController.hide();c?a(!0):(TipDialogController.showTip(TextTable.t_downloadError),a(!1))})):a(!0)};ServerProxy={};var ERR_ID_OFFSET=1E5;ErrCode={NetworkErr:-1,Ok:0,SessionBroken:108,BanFromLogin:109,TokenInvalid:110,ServerDown:111,TokenExpire:112,MsgDiscard:203,PROP_NOT_ENOUGH:ERR_ID_OFFSET+129,COIN_NOT_ENOUGH:ERR_ID_OFFSET+139,CASH_NOT_ENOUGH:ERR_ID_OFFSET+146,LEVEL_ID_INVALID:ERR_ID_OFFSET+180,SAME_ORDER:ERR_ID_OFFSET+271,ORDER_SERVER_WRONG:ERR_ID_OFFSET+272,ENERGY_ALREADY_FULL:ERR_ID_OFFSET+100100,PET_LEVEL_MAX:ERR_ID_OFFSET+100101};
ItemType={UNKNOWN:0,DIAMOND:1,COIN:2,ENERGY:3,RMB:4,UNLOCK:5,MARK:6,STAR:7,FULL_ENERGY:8,JIGSAW_PUZZLE:9,PET_EXP:10,BELL:11,POPCORN:12,HEAD_BORDER:14,LOTTERY_CARD:15,UNLIMIT_ENERGY:18,ACTIVE:19,HUSKY_TICKET:16,HUSKY_DOG_FOOD:17,HUSKY_BOOM:-101,MEDAL:999,MAX:1E3,PROP:1E4,PET:2E4,CAR:3E4,HUSKY_PIECE:31E3,EQUIP:3E5};
MailType={UNKNOWN:0,SEND_ENERGY:1,ASK_FOR_ENERGY:2,ASK_FOR_UNLOCK:3,ADD_FRIEND:5,GET_REWARD:6,ASK_FOR_POPCORN_DEFENDER:7,ASK_FOR_FRIEND_REQUEST:8,ACCEPT_FRIEND_REQUEST:9,ACTIVITY_REQUEST:10,ASK_UPDATE_POPCORN:11,TIME_LEVEL:12};ErrMsg=function(a){if(0>a)return TextTable.t_networkError;var c=TextTable["t_ecode"+a];return c?c:TextTable.t_ecodeUnknown+a};ServerProxy.getOfflineFunc=function(a){return handler(this,this["off"+a])};ServerProxy.getOnlineFunc=function(a){return handler(this,this["on"+a])};
ServerProxy.isOfflineMsg=function(a){return this.getOfflineFunc(a)?!0:!1};ServerProxy.getGoodsPayType=function(a){return 0<a.diamond?[ItemType.DIAMOND,a.diamond,a.discount]:0<a.rmb?[ItemType.RMB,a.rmb,a.discount]:[ItemType.COIN,a.coin,a.discount]};ServerProxy.addItemListByArray=function(a,c){if(a){c=c||1;for(var d=0;d<a.length;++d){var e=a[d];this.addItem(e[0],e[1]*c,e[2])}}else loge("add item array, list is null")};
ServerProxy.addItemListByIntMap=function(a,c){if(a){c=c||1;for(var d=0;d<a.length;++d){var e=a[d],f=this.addItem(e.itemId,e.value*c,e.count);"object"==typeof f&&(e.itemId2=f[0],e.value2=f[1])}}else loge("add item map, list is null")};ServerProxy.getItemCountByArray=function(a,c,d){for(var e=0,f=0;f<c.length;++f){var g=c[f];g[0]==a&&(e+=g[1])}return e*(d||1)};ServerProxy.getItemCountByIntMap=function(a,c,d){for(var e=0,f=0;f<c.length;++f){var g=c[f];g.itemId==a&&(e+=g.value)}return e*(d||1)};
ServerProxy.playAddSound=function(a,c){if(0!=c){var d=this.getItemType(a);d==ItemType.DIAMOND?audio.playSound(GameMusicType.kAddDiamond):d==ItemType.COIN&&audio.playSound(GameMusicType.kAddCoin)}};
ServerProxy.addItem=function(a,c,d){printf("ServerProxy.addItem",a,c,d);var e=this.getItemType(a);this.playAddSound(a,c);if(e==ItemType.DIAMOND)return UserManager.addDiamond(c);if(e==ItemType.COIN)return UserManager.addCoin(c);if(e==ItemType.PROP)return UserManager.addProp(a,c,d&&d+this.respHead.ts);if(e==ItemType.PET)return(c=UserManager.addPet(a))&&notification.postEvent("event.server.addPet",a),c;if(e==ItemType.PET_EXP)return this.addPetExp(c);if(e==ItemType.ENERGY)return UserManager.addEnergy(c);
if(e==ItemType.MARK){c=UserManager.addFillMark();a=c[0];c=c[1];if(a&&c)for(d=0;d<c.length;++d)e=c[d],this.addItem(e[0],e[1],e[2]);return a}if(e==ItemType.UNLOCK)return UserManager.setTopLevel(UserManager.getTopLevel()+1),!0;if(e==ItemType.EQUIP){if(UserManager.addEquip(a))return!0;if(a=MetaHelper.equipDict[a])return UserManager.addBell(a.bell),[ItemType.BELL,a.bell]}else{if(e==ItemType.CAR)return UserManager.addCar(a);if(e==ItemType.BELL)return UserManager.addBell(c);if(e==ItemType.POPCORN)return UserManager.addPopcorn(c);
if(e==ItemType.LOTTERY_CARD)return UserManager.addLotteryCard(c);if(e==ItemType.HUSKY_PIECE)return HuskyTaskManager.addHuskyPiece(a,c),!0;if(e==ItemType.HUSKY_DOG_FOOD)return HuskyTaskManager.setCurDogFood(HuskyTaskManager.getCurDogFood()+c),!0;if(e==ItemType.HUSKY_TICKET)return HuskyTaskManager.setCurhuskyTicket(HuskyTaskManager.getCurhuskyTicket()+c),!0}return!1};
ServerProxy.addPetExp=function(a,c){c=c||UserManager.getMainPetId();var d=UserManager.getPetExpInfo(c)[0],e=UserManager.addPetExp(a,c);if(e){for(var f=UserManager.getPetExpInfo(c)[0],g=[],h=null,m=d+1;m<=f;++m){var n=MetaHelper.petLevelUpRewardDict[c];if(n&&n[m]){var r=n[m].reward;this.addItemListByArray(r);h=this.getNextRewardLevel(n,n[m].level);table.append(g,r)}}0<g.length&&notification.postEvent("event.server.petLevelUpReward",{petId:c,pre:d,level:f,nextLevel:h,rewards:g})}return e};
ServerProxy.getNextRewardLevel=function(a,c){if(a){for(var d in a){var e=a[d];if(e.level>c)return e.level}return null}};
ServerProxy.subItem=function(a,c){var d=this.getItemType(a);this.playAddSound(a,c);return d==ItemType.DIAMOND?((d=UserManager.subDiamond(c))&&UserManager.addConsumedDiamond(c),d):d==ItemType.COIN?UserManager.subCoin(c):d==ItemType.PROP?UserManager.subProp(a,c):d==ItemType.PET_EXP?UserManager.subPetExp(c):d==ItemType.BELL?UserManager.subBell(c):d==ItemType.POPCORN?UserManager.subPopcorn(c):d==ItemType.EQUIP?UserManager.subEquip(a):d==ItemType.RMB?!0:d==ItemType.LOTTERY_CARD?UserManager.subLotteryCard(c):
d==ItemType.HUSKY_TICKET?(HuskyTaskManager.setCurhuskyTicket(HuskyTaskManager.getCurhuskyTicket()-c),!0):d==ItemType.HUSKY_DOG_FOOD?(HuskyTaskManager.setCurDogFood(HuskyTaskManager.getCurDogFood()-c),!0):!1};ServerProxy.isItemEnough=function(a,c){var d=this.getItemType(a);return d==ItemType.DIAMOND?c<=UserManager.getDiamond():d==ItemType.COIN?c<=UserManager.getCoin():d==ItemType.PROP?(d=UserManager.getPropCount(a)+UserManager.getTimePropCount(a),c<=d):!1};
ServerProxy.isGoodsCanBuy=function(a,c,d){if(!MetaHelper.goodsDict[a])return ErrCode.NetworkErr;a=MetaHelper.getGoodsPrice(a,d);d=a[0];return this.isItemEnough(d,a[1]*c)?ErrCode.Ok:d==ItemType.COIN?ErrCode.COIN_NOT_ENOUGH:d==ItemType.DIAMOND?ErrCode.CASH_NOT_ENOUGH:ErrCode.NetworkErr};
ServerProxy.getItemType=function(a){return a<ItemType.MAX?a:a>=ItemType.EQUIP?ItemType.EQUIP:a>=ItemType.HUSKY_PIECE?ItemType.HUSKY_PIECE:a>=ItemType.CAR?ItemType.CAR:a>=ItemType.PET?ItemType.PET:a>=ItemType.PROP?ItemType.PROP:ItemType.UNKNOWN};ServerProxy.addItemsByProductId=function(a){a=MetaHelper.getProductMetaByProductId(a);var c=a.cash;if(0<c)UserManager.addDiamond(c+a.extraCash);else if(c=MetaHelper.goodsDict[a.id])this.addItemListByArray(c.item),UserManager.addBuyGoodsRecord(a.id,1);return 0};
ServerProxy.buyGoods=function(a,c,d){var e=MetaHelper.goodsDict[a];if(!e)return loge("buy goods meta that ! found"),-1;c=c||1;var f=MetaHelper.getGoodsPrice(a,d);d=f[0];f=f[1];if(!this.subItem(d,f*c))return d==ItemType.COIN?ErrCode.COIN_NOT_ENOUGH:d==ItemType.DIAMOND?ErrCode.CASH_NOT_ENOUGH:-1;if(1110==a)DailyTaskManager.onEvents("event.game.recoveryEnergy",{count:c});d==ItemType.DIAMOND&&DcHelper.buyGoods(a,c,f);this.addItemListByArray(e.item,c);UserManager.addBuyGoodsRecord(a,c);return 0};
ServerProxy.onBuy=function(a){var c=a.goods;return this.buyGoods(c.itemId,c.value,a.goodsExtendId)};
ServerProxy.onUseProps=function(a){for(var c=0;c<a.items.length;++c){var d=a.items[c];if(!UserManager.subProp(d,1,a.expireTime[c]))return ErrCode.PROP_NOT_ENOUGH;DcHelper.onItemUse(d,1,a.levelId);if(PropMetaManager.getInstance().getPropType(d)==PropType.AddEnergy){d=PropMetaManager.getInstance().getPropMeta(d);if(!UserManager.addEnergy(d.value))return ErrCode.ENERGY_ALREADY_FULL;DailyTaskManager.onEvents("event.game.recoveryEnergy",{count:d.value})}}return 0};
ServerProxy.onUseObject=function(a){var c=a.itemId,d=a.expire;if(1>UserManager.getPropCount(c,d))return ErrCode.PROP_NOT_ENOUGH;var e=PropMetaManager.getInstance().getPropType(c);if(e==PropType.AddEnergy){a=PropMetaManager.getInstance().getPropMeta(c);if(!UserManager.addEnergy(a.value))return ErrCode.ENERGY_ALREADY_FULL;DailyTaskManager.onEvents("event.game.recoveryEnergy",{count:a.value})}else if(e==PropType.PetExpr&&(e=a.extra,a=PropMetaManager.getInstance().getPropMeta(c),!this.addPetExp(a.value,
e)))return-1;UserManager.subProp(c,1,d);return 0};ServerProxy.onStartLevel=function(a){if(!UserManager.subEnergy(MetaHelper.global.user_energy_level_consume))return-1;for(var c=0,d=0;d<a.items.length;++d)c+=MetaHelper.goodsDict[a.items[d]].coin;return this.subItem(ItemType.COIN,c)?0:-1};
ServerProxy.onOverLevel=function(a,c){var d=a.levelId,e=a.score,f=a.star,g=UserManager.getTopLevel();if(d>g)return ErrCode.LEVEL_ID_INVALID;g=MetaHelper.levelRewardDict[d];if(!g)return-1;var h=0,m=UserManager.scoreDict[d];m&&(h=m.star);UserManager.updateLevelScore(d,e,f,UserManager.getMainPetId());d=[];0>=f&&(table.append(d,g.failDefaultReward),3>h&&table.append(d,g.failReward));1<=f&&(table.append(d,g.oneStarDefaultReward),1>h&&table.append(d,g.oneStarReward));2<=f&&(table.append(d,g.twoStarDefaultReward),
2>h&&table.append(d,g.twoStarReward));3<=f&&(table.append(d,g.threeStarDefaultReward),3>h&&table.append(d,g.threeStarReward));for(e=f=0;e<d.length;++e)g=d[e],g[0]==ItemType.COIN&&(f+=g[1]);e=0;UserManager.getPetBonus()&&(e=UserManager.getPetBonus()[1]);f=Math.round(f*e);table.insert(d,[ItemType.COIN,f]);this.addItemListByArray(d);c.isLuckyBox&&0<c.isLuckyBox&&(CacheHelper.setLuckyKitDropIdx(c.isLuckyBox||0),CacheHelper.setLuckyKitRewards(c.luckyBoxRewards||[]));return[0,{levelRewards:d,rank:c.rank,
friendList:c.uidData}]};ServerProxy.onUserCommonRewards=function(a,c){for(var d in a.param){var e=a.param[d],f=e.key,e=e.value;2==a.type&&"levelId"==f&&(f=tonumber(e),UserManager.setLevelShared(f,!0))}this.addItemListByIntMap(c.rewards);UserManager.finishCommonReward(a.type);return 0};
ServerProxy.onChangeMainPet=function(a){var c=UserManager.getMainPetId();UserManager.setMainPetId(a.petId);notification.postEvent("event.server.mainPetChanged",{pre:c,cur:a.petId});notification.postEvent("event.game.chefChange");return 0};ServerProxy.onChangePetName=function(a){UserManager.setPetName(a.petId,a.name);return 0};ServerProxy.onChangeProfile=function(a){UserManager.setNickName(a.name);UserManager.setHeadUrl(a.head);return 0};
ServerProxy.onRechargeReciept=function(a){var c=a.productId,d=a.orderId;a=a.channel;var e=MetaHelper.getProductMetaByProductId(c),f=e.price,g=e.cash;0<g&&(g+=e.extraCash);DcHelper.puchaseProduct(c,d,f,"USD",g,a);DcHelper.puchaseProductType(e.id);return this.addItemsByProductId(c)};
ServerProxy.onRechargeRsaSig=function(a){var c=a.productId,d=a.channel,e=MetaHelper.getProductMetaByProductId(c),f=e.price,g=e.cash;0<g&&(g+=e.extraCash);var h;h=(h=a.data)&&h.orderId?h.orderId:"unknown"+TimeUtils.time();DcHelper.puchaseProduct(c,h,f,"USD",g,d);DcHelper.puchaseProductType(e.id);return this.addItemsByProductId(a.productId)};
ServerProxy.onRechargeOrder=function(a){var c=a.productId,d=a.orderId,e=a.channel,f=MetaHelper.getProductMetaByProductId(c),g=f.price,h=f.cash;0<h&&(h+=f.extraCash);DcHelper.puchaseProduct(c,d,g,"USD",h,e);DcHelper.puchaseProductType(f.id);return this.addItemsByProductId(a.productId)};ServerProxy.onDeleteFriend=function(a){for(var c=0;c<a.friends.length;++c)v=a.friends[c],UserManager.deleteFriend(v);return 0};
ServerProxy.onSyncSnsFriends=function(a,c){if(!c.users)return 0;CacheHelper.updateCommonUserInfo(c.users);for(var d=0;d<c.users.length;++d){var e=c.users[d];UserManager.addFriend(e.playerId);UserManager.addSnsFriend(e.playerId)}return 0};ServerProxy.onGetRequestInfos=function(a,c){CacheHelper.updateCommonUserInfo(c.users);return 0};ServerProxy.onGetLevelScoreRank=function(a,c){CacheHelper.updateCommonUserInfo(c.users);return 0};
ServerProxy.onSendFreeGift=function(a,c){1==a.type?UserManager.addDailySendEnergyIds(a.senderIds):2==a.type&&UserManager.addDailyWantEnergyIds(a.senderIds);return 0};
ServerProxy.onHandleMsg=function(a,c,d){if(0==a.type)return 0;c.rewards=c.rewards||[];c.ids=c.ids||[];this.addItemListByIntMap(c.rewards);a=this.getItemCountByIntMap(ItemType.DIAMOND,c.rewards);0<a&&DcHelper.rewardDiamonds(a,"mail");a={};for(var e=0;e<d.length;++e){var f=d[e];a[f.id]=f}for(e=0;e<c.ids.length;++e)f=c.ids[e],(d=a[f])?d.type==MailType.ADD_FRIEND?UserManager.addFriend(d.senderId):d.type==MailType.SEND_ENERGY?UserManager.incDailyRecieveEnergyCount(1):d.type==MailType.ASK_FOR_ENERGY&&UserManager.addDailySendEnergyIds([f]):
logw("mail info ! found "+tostring(f));return 0};ServerProxy.onStarReward=function(a,c){var d=UserManager.getUserData().starRewardIndex,e=MetaHelper.starRewardDict[d];this.addItemListByArray(e.reward);UserManager.getUserData().starRewardIndex=d+1;d=this.getItemCountByArray(ItemType.DIAMOND,e.reward);0<d&&DcHelper.rewardDiamonds(d,"star");return 0};
ServerProxy.onSign=function(a,c){if(c.mark){UserManager.getMarkToday();var d=MetaHelper.getMarkMeta()[c.mark.daySign];d&&d.rewards&&(this.addItemListByArray(d.rewards),d=this.getItemCountByArray(ItemType.DIAMOND,d.rewards),0<d&&DcHelper.rewardDiamonds(d,"sign"));UserManager.setMarkData(c.mark)}return 0};ServerProxy.onUnlockLevelArea=function(a,c){2==a.type?UserManager.addDailyWantUnlockIds(a.friendIds):UserManager.setTopLevel(UserManager.getTopLevel()+1);return 0};
ServerProxy.onGetRequestsNum=function(a,c){UserManager.setRequestNum(c.requestNum);return 0};ServerProxy.onExchangeCodeReward=function(a,c){this.addItemListByIntMap(c.rewards,1);return 0};ServerProxy.onConfirmInviteUser=function(a,c){UserManager.setInviteUser(c.inviteUser);this.addItemListByIntMap(c.rewards,1);return 0};
ServerProxy.onChangeDress=function(a){for(var c=1;c<=a.dresses.length;++c){var d=a.dresses[c-1],e=UserManager.getPetInfo(d.itemId);e?e.equips[d.count-1]=d.value:loge("change dress not found "+tostring(equipMeta.own))}return 0};
ServerProxy.onExchangeDress=function(a){var c=MetaHelper.getEquipById(a.dressId);if(!c)return-1;if(a.exchageType==ItemType.BELL){if(!UserManager.subBell(c.bellCombine))return-1}else if(a.exchageType==ItemType.POPCORN){if(!UserManager.subPopCorn(c.popcornCombine))return-1}else return-1;return UserManager.addEquip(a.dressId)?0:-1};ServerProxy.onGetKitchenGodData=function(a,c){return 0};ServerProxy.onCommonRank=function(a,c){return 0};ServerProxy.onStartKitchenGod=function(a,c){return 0};
ServerProxy.onOverKitchenGod=function(a,c){return 0};ServerProxy.onGetKitchenGodReward=function(a,c){this.addItemListByIntMap(c.rewards,1);return 0};ServerProxy.onPetSet=function(a,c){var d=a.pets;if(!d)return-1;for(var e in d){var f=d[e],g=tonumber(f.itemId),h=tonumber(f.value);null!=g&&null!=h&&(f=UserManager.getPetInfo(g))&&(f.visible=h)}return 0};
ServerProxy.onPetLove=function(a,c,d){c=[];c=UserManager.getLovePetFriendCount();var e=MetaHelper.getCommonRewardByID(9),f=MetaHelper.getCommonRewardByID(10);if(c<e.condition)c=e.rewards;else if(c<f.condition)c=f.rewards;else return[-1,{}];var e=[],g;for(g in c)f=c[g],f[0]!=ItemType.POPCORN?table.insert(e,f):d&&UserManager.hasInitPopcorn()&&table.insert(e,f);c=e;UserManager.addLovePetFriend(a.friendId);a=[];for(g in c){d=c[g];var e=d[0],f=d[1],h=ServerProxy.addItem(d[0],d[1],d[2]);d[0]==ItemType.POPCORN&&
h&&(f=h);table.insert(a,[e,f])}return[0,{rewards:a}]};ServerProxy.onPayCallback=function(a,c){c.goodsId&&this.buyGoods(c.goodsId);UserManager.addRechargeDiamond(c.balance-UserManager.getDiamond());UserManager.setDiamond(c.balance)};
ServerProxy.onUpgratePopcorn=function(a,c,d){a=null;1==d?(a=UserManager.getPopcornReservesLevel()+1,a=MetaHelper.getPopcornReservesMetaByLevel(a)):2==d&&(a=UserManager.getPopcornOutputLevel()+1,a=MetaHelper.getPopcornOutputMetaByLevel(a));if(a){for(var e in a.upNeed)c=a.upNeed[e],ServerProxy.subItem(c[0],c[1]);e=1E3*TimeUtils.time()+1E3*a.upTime;UserManager.setPopcornState(d,e)}return 0};
ServerProxy.onPopcornBuy=function(a,c,d){if(1==d.type)a=UserManager.getPopcornState()[0],1==a?UserManager.increasePopcornReservesLevel():2==a&&UserManager.increasePopcornOutputLevel(),UserManager.setPopcornState(0,1E3*TimeUtils.time()),ServerProxy.subItem(ItemType.DIAMOND,d.gem);else if(2==d.type)ServerProxy.subItem(ItemType.DIAMOND,MetaHelper.getPopcornSpyDiamond());else if(3==d.type)ServerProxy.subItem(ItemType.DIAMOND,d.gem),UserManager.popcornBuyPetCD(d.petId);else if(4<=d.type&&7>=d.type){d=
MetaHelper.getPopcornShellMetaByType(d.type);if(!d||!d.time||!d.diamond)return;UserManager.increasePopcornShellTime(1E3*d.time);ServerProxy.subItem(ItemType.DIAMOND,d.diamond)}return 0};
ServerProxy.onUpdateLevelData=function(a,c){var d=PopcornHelper.getChallengeData();0<d.coin&&this.subItem(ItemType.COIN,d.coin);0<d.diamond&&this.subItem(ItemType.DIAMOND,d.diamond);if(PopcornHelper.isLevelExpired(UserManager.getPopcornLastEditTime())){var e=MetaHelper.getPopcornUpdateLevelReward();this.addItem(e[0],e[1],e[2])}e={};e.score=d.finalScore;e.bossLife=d.bossHP;e.levelData=d.levelInfo;e.pet={id:UserManager.getMainPetId()};UserManager.resetPopcornLevelData(e);UserManager.resetPopcornLastEditTime();
return 0};ServerProxy.onUpdateLevelUseProp=function(a,c){var d=0,e;for(e in a.itemIds)d+=MetaHelper.goodsDict[a.itemIds[e]].coin;return this.subItem(ItemType.COIN,d)?0:-1};ServerProxy.onStartPopcornLevel=function(a,c){4==a.gameType||2!=a.gameType&&1!=a.gameType||(UserManager.reducePopcornShell(),UserManager.setPopcornPetCD(a.petId));var d=0,e;for(e in a.itemIds)d+=MetaHelper.goodsDict[a.itemIds[e]].coin;this.subItem(ItemType.COIN,d);return 0};
ServerProxy.onOverPopcornLevel=function(a,c,d){var e=!1;4==a.gameType?e=UserManager.setPopcornScore(a.score,a.petId):(3==a.gameType&&(e=!0,UserManager.becomePopcornDefender()),a.success&&d&&ServerProxy.addItem(ItemType.POPCORN,d));return[0,{defenderChanged:e,resp:c}]};ServerProxy.onRepair=function(a,c,d){UserManager.popcornRepair();this.subItem(ItemType.COIN,d);return 0};ServerProxy.onGetPlayerPopcorn=function(a,c){0==a.fid&&this.subItem(ItemType.COIN,PopcornHelper.getChallengeCoin());return 0};
ServerProxy.onGetPopcornData=function(a,c){UserManager.syncPopcornData(c);return 0};ServerProxy.onThanksPopcorn=function(a,c){return 0};ServerProxy.onAcquireProtectCoins=function(a,c){this.addItem(ItemType.COIN,c.coins);return 0};ServerProxy.onGetFriendsRequestData=function(a,c){return 0};ServerProxy.onGetFriendsRequestItem=function(a,c){return 0};ServerProxy.onInviteFriendsRequest=function(a,c){return 0};
ServerProxy.onGetFriendsRequestReward=function(a,c){this.addItemListByIntMap(c.rewards);var d=this.getItemCountByIntMap(ItemType.DIAMOND,c.rewards);0<d&&DcHelper.rewardDiamonds(d,"friendsrequest");return 0};ServerProxy.onNotify=function(a,c){return 0};ServerProxy.onAdsenseAd=function(a,c){printf("--------------",a,c)};ServerProxy.onGetCash=function(a,c){};
ServerProxy.onRewardAchieves=function(a,c){for(var d=c.sucessIds,e=0;e<d.length;e++){var f=d[e];UserManager.completeAchieve(f);(f=MetaHelper.getAchieveMeta(f))&&this.addItemListByArray(f.rewards)}return 0};ServerProxy.onSetting=function(a,c){UserManager.setMainCar(a.car);notification.postEvent("event.server.mainCarChanged");return 0};ServerProxy.onGetTimeLevelInfo=function(a,c){CacheHelper.updateCommonUserInfo(c.users);return 0};
ServerProxy.onHeart=function(a,c){var d=c.roomInfo;d&&UserManager.resetMyRoom(d);return 0};ServerProxy.onStartTimeLevel=function(a){if(!UserManager.subEnergy(MetaHelper.global.time_level_decry_energy))return-1;for(var c=0,d=0;d<a.items.length;++d)c+=MetaHelper.goodsDict[a.items[d]].coin;return this.subItem(ItemType.COIN,c)?0:-1};
ServerProxy.onOverTimeLevel=function(a,c){var d=[],e=a.star,f=c.roomInfo;if(f){if(0<e)for(e=1;e<=f.rewards.length;e++){var g=f.rewards[e-1];table.insert(d,[g.itemId,g.value,g.count])}this.addItemListByArray(d);UserManager.resetRoomInfo(f)}c.isLuckyBox&&0<c.isLuckyBox&&(CacheHelper.setLuckyKitDropIdx(c.isLuckyBox||0),CacheHelper.setLuckyKitRewards(c.luckyBoxRewards||[]));return[0,{levelRewards:d}]};
ServerProxy.onFinishTimeLevelRewards=function(a,c){var d=a.roomId;if(d&&(d=UserManager.getRoomInfo(d))){for(var e=[],f=1;f<=d.finishRewards.length;f++){var g=d.finishRewards[f-1];table.insert(e,[g.itemId,g.value,g.count])}this.addItemListByArray(e)}return 0};ServerProxy.onNewUserReward=function(a,c){this.addItemListByArray(MetaHelper.getCommonRewardByID(6).rewards);UserManager.setUnlimitStrengthTimestamp(1E3*(60*MetaHelper.global.not_consume_energy+DataHelper.getSimulatorTs()))};
ServerProxy.onDrawLottery=function(a,c){if(0==a.type){var d=1E3*DataHelper.getSimulatorTs()+1E3*(MetaHelper.global.free_draw_time||86400);UserManager.setLotteryFreeTime(d);UserManager.addLotterySpecialCount(1)}else 1==a.type?(UserManager.subLotteryCard(1),UserManager.addLotterySpecialCount(1)):2==a.type&&(UserManager.subLotteryCard(10),UserManager.addLotterySpecialCount(10));this.addItemListByIntMap(c.rewards)};
ServerProxy.onDonateDress=function(a,c){0>=a.count?UserManager.subEquip(a.dressId):this.subItem(ItemType.BELL,a.count)};ServerProxy.onInviteStarReward=function(a,c){this.addItemListByArray(MetaHelper.shareKitRewardDic[a.id].reward);return 0};ServerProxy.onGetInviteInfo=function(a,c){CacheHelper.updateCommonUserInfo(c.users);return 0};ServerProxy.onReplaceTask=function(a,c){DailyTaskManager.setTaskList(c.task);UserManager.addChangeTaskTimes(1)};
ServerProxy.onRewardTask=function(a,c){if(c.id)for(var d in c.id){var e=c.id[d],f=MetaHelper.taskDict[e],g=MetaHelper.taskTypeDict[f.taskType].active;f.rewards&&this.addItemListByArray(f.rewards);UserManager.addAccomplishTask(e);e=UserManager.addActiveNum(g);UserManager.addWeekActiveValue(e)}};
ServerProxy.onRewardTaskBoxMsg=function(a,c){var d=a.boxId,e=a.boxType;this.addItemListByArray(e==BoxType.Daily?MetaHelper.taskBoxDict[d].rewards:MetaHelper.weekBoxDict[d].rewards);e==BoxType.Daily?UserManager.addRecieveTaskBox(d):UserManager.addRecieveWeekBox(d)};
ServerProxy.onGetTask=function(a,c){UserManager.setActiveNum(c.activeNum);DailyTaskManager.setTaskList(c.task);UserManager.setAccomplishTask(c.accomplished);UserManager.setRecieveTaskBox(c.boxList);UserManager.setChangeTaskTimes(c.replaceTaskNum);UserManager.setRecieveWeekBox(c.weekBoxList);UserManager.setWeekActiveValue(c.activeWeekNum)};ServerProxy.onGetHuskyTask=function(a,c){HuskyTaskManager.setCurTask(c.actTask);HuskyTaskManager.setCurTaskRepalceLimitCount(c.replaceTaskNum)};
ServerProxy.onReplaceHuskyTask=function(a,c){HuskyTaskManager.setCurTask(c.task);HuskyTaskManager.setCurTaskRepalceLimitCount(c.replaceTaskNum)};ServerProxy.onCompleteHuskyTask=function(a,c){this.addItemListByArray(MetaHelper.huskyTaskDict[a.id].rewards);HuskyTaskManager.setCurTask(c.task)};ServerProxy.onGetHusky=function(a,c){HuskyTaskManager.setCurDogFood(c.dogFod?c.dogFod:0);HuskyTaskManager.setCurHuskyPieceList(c.dogParts?c.dogParts:0);HuskyTaskManager.setCurhuskyTicket(c.ticket?c.ticket:0)};
ServerProxy.onReceiveHuskyChessboard=function(a,c){};ServerProxy.onRefreshHuskyReward=function(a,c){HuskyTaskManager.setHuskyChessItemList(c.rewards?c.rewards:{})};ServerProxy.onCompleteHuskyShare=function(a,c){notification.postEvent("event.ui.updateHuskyMainUI")};ServerProxy.onBeginHuskyGame=function(a,c){HuskyTaskManager.setHuskyChessItemList(c.rewards?c.rewards:{});HuskyTaskManager.setCurDogFood(c.dogFod?c.dogFod:0);HuskyTaskManager.setCurhuskyTicket(c.ticket?c.ticket:0)};
ServerProxy.onReceiveHusky=function(a,c){};ServerProxy.onluckyBox=function(a,c){2==a.type&&this.addItemListByIntMap(CacheHelper.getLuckyKitRewards());this.addItemListByIntMap(CacheHelper.getLuckyKitRewards())};DcHelper={initAccount:function(){var a={accountId:DeviceUDID,accountType:0,accountName:tostring(UserManager.getUserId()),level:UserManager.getTopLevel(),gender:0,age:0,gameServer:"default"};DCManager.setTDAcount(a)},loadingTime:function(a){DCManager.setLoadingTime({time:a})},startLevel:function(a,c){c=c||UserManager.getMainPetId();DCManager.onTDBegin(a,c);dc.send(109,{level_id:a,petId:c})},exitGame:function(a,c,d,e,f,g){d=d||UserManager.getMainPetId();a={roundTime:a,stepLeft:c,petId:d,levelId:e,overType:1,
roundStar:f,score:g};TencentSdkManager.isOpen()?(a.imei=TencentSdkManager.DeviceInfo.qimei,a.wechatVersion=TencentSdkManager.DeviceInfo.QQVersion):a.wechatVersion=XCXManager.version;dc.send(200,a)},restartGame:function(a,c,d,e,f,g){d=d||UserManager.getMainPetId();a={roundTime:a,stepLeft:c,petId:d,levelId:e,overType:2,roundStar:f,score:g};TencentSdkManager.isOpen()?(a.imei=TencentSdkManager.DeviceInfo.qimei,a.wechatVersion=TencentSdkManager.DeviceInfo.QQVersion):a.wechatVersion=XCXManager.version;
dc.send(200,a)},random_udid:"",getRandomUUID:function(){return 0<this.random_udid.length?this.random_udid:this.random_udid="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var c=16*Math.random()|0;return("x"==a?c:c&3|8).toString(16)})},freshManAction:function(a){var c=persist.getString("freshManAction");c&&parseInt(c)>=a||(c={uuid:this.getRandomUUID(),guideId:a},dc.send(201,c),persist.setString("freshManAction",a))},sendtoDesktop:function(a){dc.send(202,{optionType:a})},shareAction:function(a,
c){dc.send(203,{shareType:a,shareResult:c})},overLevel:function(a,c,d,e,f,g,h,m){var n=LevelDataManager.getInstance().getLevelConfigByID(a);dc.send(110,{level_id:a,quit:c,pass:d,left_step:e,score:f,use_prop:g,version:n.version||0,percent:h,pet_id:m});if(d)DCManager.onTDComplete(a,m);else if(c)if(c=GameTutorialHelper.stepId,0<c)DCManager.onTDFailed(tostring(a),m,"exit"+c);else DCManager.onTDFailed(tostring(a),m,"exit");else DCManager.onTDFailed(tostring(a),m,"failed")},puchaseProduct:function(a,c,
d,e,f,g){a={iapId:a,orderId:c,price:d,currency:e,count:f,payType:g};DCManager.onTDChargeRequst(a);DCManager.onTDChargeSuccess(a)},puchaseProductType:function(a){DCManager.onTDEvent("puchase",{metaId:a})},rewardDiamonds:function(a,c){DCManager.onTDReward(a,c)},buyGoods:function(a,c,d){DCManager.onTDPurchase(a,c,d)},onLogin:function(){DCManager.onTDEvent("onLogin",{userId:UserManager.getUserId()})},onActivityClick:function(a){DCManager.onTDEvent("onActivityClick",{userId:UserManager.getUserId(),id:a})},
onFeedShow:function(a){DCManager.onTDEvent("onFeedShow",{userId:UserManager.getUserId(),event:a})},onFeedSend:function(a){DCManager.onTDEvent("onFeedSend",{userId:UserManager.getUserId(),event:a})},onFeedReturn:function(a){DCManager.onTDEvent("onFeedReturn",{userId:UserManager.getUserId(),event:a})},onEnergySend:function(a){DCManager.onTDEvent("onEnergySend",{userId:UserManager.getUserId(),count:a})},onEnergyReturn:function(a){DCManager.onTDEvent("onEnergyReturn",{userId:UserManager.getUserId(),count:a})},
onItemUse:function(a,c,d){DCManager.onItemUse(a,c,d)},onFBInit:function(){DCManager.onTDEvent("onFBInit",{})}};HttpHelper={loginParam:null,isLogining:!1,token:"",st:0,msgQueue:[],msgBusy:!1,lazyMsgQueueAfterLogin:[],onDestroy:function(){},checkAndGetMeta:function(a){var c=this;this.getRemoteConfig(function(d){var e=ModelManager.gameMeta.metaVer||0,f=ModelManager.remoteCfg.metaVer||0;printf("Remote meta ver: "+f);d?f>e?(d=GAME_SERVER_URL+"/meta?uuid\x3d"+CryptoJS.MD5(DeviceUDID).toString(),c.getMeta(d,a)):(printf("No need download meta!"),a(!1)):a(!1)})},getRemoteConfig:function(a){var c=RmtHelper.getVerList(),
c=table.concat(c,","),d=CryptoJS.MD5(DeviceUDID).toString(),c=table.concat([GAME_SERVER_VERSION,"/configInfo?uuid\x3d",d,"\x26version\x3d",c,"\x26channel\x3d",ChanelName,"\x26client\x3d",OsPlatform,"\x26v\x3d",VerCode,"\x26lang\x3d",DeviceRegionLan],"");console.log("Get remote cfg: "+c);network.beginGet(c,function(c,d){c?(printf("Get remote cfg success"),ModelManager.updateRemoteCfg(d),a&&a(!0)):(printf("Get remote cfg failed"),a&&a(!1))})},getAccountConfig:function(a,c){var d=RmtHelper.getVerList();
table.concat(d,",");CryptoJS.MD5(DeviceUDID);d=table.concat([GAME_SERVER_VERSION,"/userInfo.jsp?openId\x3d",TencentSdkManager.PlayerInfo.openid,"\x26device\x3d",a],"");console.log("Get Account cfg: "+d);network.beginGet(d,function(a,c){console.log("get Account cfg success",a,c);if(a&&c)try{var d=JSON.parse(c);console.log("Get Account cfg: "+d)}catch(h){}})},getVersionConfig:function(a){if(HttpHelper.isVersionRequest)a&&a();else{var c=table.concat([GAME_SERVER_VERSION,"/version?version\x3d",VerCode],
"");console.log("get version cfg: ",c);network.beginGet(c,function(c,e){console.log("get version cfg success",c,e);if(c&&e)try{var f=JSON.parse(e);f&&0==f.isOnline&&(GAME_SERVER_URL=f.url)}catch(g){}HttpHelper.isVersionRequest=!0;a&&a()})}},buildReqHead:function(a,c){this.st+=1;var d=2;cc.sys.os===cc.sys.OS_IOS?d=0:cc.sys.os===cc.sys.OS_ANDROID&&(d=1);var e={};console.log("openid-\x3e"+wxCode);"Login"==a?(e=JSON.stringify(XCXManager.extra00),e={method:a,uid:UserManager.getUserId(),v:VerCode,rv:resource.getResVerCode(),
mv:MetaHelper.getMetaVer(),ct:d,uuid:wxCode,lang:DeviceRegionLan,channel:ChanelName,token:this.token,st:this.st,extra:e}):e={method:a,uid:UserManager.getUserId(),v:VerCode,rv:resource.getResVerCode(),mv:MetaHelper.getMetaVer(),ct:d,uuid:wxCode,lang:DeviceRegionLan,channel:ChanelName,token:this.token,st:this.st};c&&(e.datas=DataHelper.getOfflineReqList(),e.offSt=DataHelper.getOffSt()+1);return e},processRespHead:function(a,c,d){DataHelper.setServerTs(c.ts);if(c.retCode==ErrCode.TokenInvalid)return this.clearAll(),
notification.postEvent("event.http.tokenInvalid"),!1;if(c.retCode==ErrCode.SessionBroken)return this.clearAll(),notification.postEvent("event.http.sessionBroken"),!1;if(c.retCode==ErrCode.BanFromLogin)return this.clearAll(),notification.postEvent("event.http.banFromLogin",c.msg),!1;if(c.retCode==ErrCode.TokenExpire)return this.clearAll(),notification.postEvent("event.http.tokenExpire"),!1;if(c.retCode==ErrCode.ServerDown)return this.clearAll(),notification.postEvent("event.http.serverDown"),!1;if(d&&
(0<c.offSt&&DataHelper.setOffSt(c.offSt),!DataHelper.processOfflineReqList(c.datas)))if("Login"==a)notification.postEvent("event.http.dataRefresh");else return this.clearAll(),ModelManager.saveLocalData(),notification.postEvent("event.http.dataInvalid"),!1;AchievementManager.processRespAchieves(c.achieves);return!0},putMsgToLazyQueueAfterLogin:function(a,c,d,e){logTraceFunc("HttpHelper","putMsgToLazyQueue",a);10<this.lazyMsgQueueAfterLogin.length&&logw("http lazy msg queue overflow!!!");table.insert(this.lazyMsgQueueAfterLogin,
{name:a,body:c,listener:d,extra:e})},sendLazyMsgAfterLogin:function(a,c,d,e){logTraceFunc("HttpHelper","sendLazyMsgAfterLogin",a);this.isLogined()?this.sendPbMsg(a,c,d,e):this.putMsgToLazyQueueAfterLogin(a,c,d,e)},sendPbMsg:function(a,c,d,e,f){logTraceFunc("HttpHelper","sendPbMsg",a);f||ServerProxy.isOfflineMsg(a)?this.beginPbMsg(a,c,d,e,f):(10<this.msgQueue.length&&logw("http msg queue overflow!!!"),table.insert(this.msgQueue,{name:a,body:c,listener:d,extra:e}),this.processNextQueueMsg())},processNextQueueMsg:function(){if(!this.msgBusy){var a=
this;if(0<this.msgQueue.length){this.msgBusy=!0;var c=table.remove(this.msgQueue,0);this.beginPbMsg(c.name,c.body,function(d,e,f){a.msgBusy=!1;c.listener(d,e,f);a.processNextQueueMsg()},c.extra)}else 0<this.lazyMsgQueueAfterLogin.length&&this.isLogined()&&(this.msgBusy=!0,c=table.remove(this.lazyMsgQueueAfterLogin,0),this.beginPbMsg(c.name,c.body,function(d,e,f){a.msgBusy=!1;c.listener&&c.listener(d,e,f);a.processNextQueueMsg()},c.extra))}},clearQueueMsg:function(){this.msgBusy=!1;this.msgQueue=[];
this.lazyMsgQueueAfterLogin={}},clearAll:function(){this.token="";this.loginParam=null;this.clearQueueMsg()},beginPbMsg:function(a,c,d,e,f){logTraceFunc("HttpHelper","beginPbMsg",a);var g=this,h=a+"Req",m=a+"Resp",n={};n.body=c||{};var r=ServerProxy.getOfflineFunc(a);if(r)ServerProxy.reqHead=null,ServerProxy.respHead=null,f=r(c,null,e),DebugFlag&&(dump({offlineReq:c,extra:e}),dump({offlineResp:{retCode:void 0,retBody:f}})),d(void 0,f);else{var s=this.buildReqHead(a,!1);n.head=s;DebugFlag&&dump(n);
n=JSON.stringify(n);null==n?loge("beginPbMsg protobuf.encode failed: head"):(r=GAME_SERVER_URL+"/h5protocol?uid\x3d"+s.uid,"Activity"==a&&(r+="\x26act\x3dtrue"),network.beginEncryptPost(r,n,function(f,n,r){if(f)if(0>=n.length)loge("beginPbMsg return empty serialRespHead!!!"),d(-1);else if(r=JSON.parse(n)){if(DebugFlag&&(printf("Dump http "+m),dump(r)),f=r.head,g.jumpRespHead||g.processRespHead(a,f,!1)){ServerProxy.reqHead=s;ServerProxy.respHead=f;var z=ServerProxy.getOnlineFunc(a);n=r.body;z&&0==
f.retCode&&(r=z(c,r.body,e),r instanceof Array&&(n=r[1]));d(f.retCode,n,f)}}else loge("beginPbMsg protobuf.decode failed: resp body"),d(-1);else logi("network send failed: "+h+", code: "+r),d(-1)},f))}},sendPbMsgWithCtlr:function(a,c,d,e,f,g){var h=a&&a.showTimes;this.sendPbMsg(c,d,function(d,f,g){!a||a.isShowing&&a.showTimes==h?e&&e(d,f,g):logw("Drop http msg "+c)},f,g)},callWithDelay:function(a,c,d){var e=Array.prototype.slice.apply(arguments).slice(3),f=e.length,g=e[f-1],h=2,m=null,n=a&&a.showTimes;
e[f-1]=function(){h-=1;0<h?m=arguments:g.apply(null,arguments)};a&&e.unshift(a);this[d].apply(this,e);scheduler.performWithDelayGlobal(function(){h-=1;0>=h&&(!a||a.isShowing&&a.showTimes==n?g.apply(null,m):logw("Drop delay http msg"))},c)},login:function(){var a=arguments;HttpHelper.getVersionConfig(function(){HttpHelper.loginNew.apply(HttpHelper,a)})},loginNew:function(a,c,d,e,f,g,h){if(FreLoginManager.isCanLogin("game")){this.isLogining=!0;var m="",n="",r="",s=0,t="",u="",w="",z="",A="",B=0,C="",
E=0,H=0,F="0",D=-1,K=0,G="";TencentSdkManager.isOpen()&&(m=TencentSdkManager.getShareOpenid(),1<m.length||(m=TencentSdkManager.GetQueryString("senderOpenId")),n=TencentSdkManager.GetQueryString("inviteOpenId"),F=TencentSdkManager.GetQueryString("h5channel"),1>F.length&&(F="10027561"),(n=TencentSdkManager.GetQueryString("shareStatus"))&&(D=parseInt(n)),(n=TencentSdkManager.GetQueryString("feedID"))&&(K=parseInt(n)),r=TencentSdkManager.PlayerInfo.paytoken,s=tonumber(TencentSdkManager.PlayerInfo.sex),
t=TencentSdkManager.DeviceInfo.systemName,u=TencentSdkManager.DeviceInfo.systemVersion,w=TencentSdkManager.DeviceInfo.model,z=TencentSdkManager.DeviceInfo.modelVersion,A=TencentSdkManager.DeviceInfo.identifier,B=TencentSdkManager.DeviceInfo.totalMemory,C=TencentSdkManager.DeviceInfo.network,E=TencentSdkManager.DeviceInfo.screenWidth,H=TencentSdkManager.DeviceInfo.screenHight,G=TencentSdkManager.getPf(),TencentSdkManager.txsdkLog("H5jssdk\u6e38\u620f\u767b\u9646 "+c+" "+d+" "+e+" "+f+" "+g+" "+DeviceUDID+
" "+m+" "+r),TencentSdkManager.txsdkLog("H5jssdk\u7cfb\u7edf\u4fe1\u606f "+t+" "+u+" "+w+" "+z));n=XCXManager.inviteOpenid;m=XCXManager.senderOpenId;this.loginParam={loginType:c||"",snsToken:d||"",snsUid:e||"",snsHeadUrl:f||"",snsName:g||"",udid:DeviceUDID,sex:s,payToken:r,senderOpenId:m,inviteOpenId:n,h5Channel:F,systemName:t,systemVersion:u,model:w,modelVersion:z,identifier:A,totalMemory:B,network:C,screenWidth:E,screenHight:H,shareStatus:D,feedID:K,pf:G,metaReq:{gv:0,gev:1,mv:1},giftId:0};this.loginParam.loginType=
"pro";this.loginParam.udid=wxCode;var I=this;I.jumpRespHead=h;FreLoginManager.login("game",!1);this.sendPbMsgWithCtlr(null,"Login",this.loginParam,function(c,d,e){I.jumpRespHead=!1;I.isLogining=!1;0==c&&(TencentSdkManager.reportQZoneLogin(),h||I.initLoginData(d,e));a&&a(c,d,e);0==c&&FreLoginManager.login("game",!0)})}else a(200279)},initLoginData:function(a,c){console.log("initLoginData",a);this.token=c.token;this.st=c.st;a.userData&&(ModelManager.updateUserModel(a.userData),wxCode=a.userData.uuid,
XCXManager.xcx_roleId=wxCode,wx.gameLoginReport({data:{gameVersion:XCXManager.xcx_gameVersion,roleName:XCXManager.xcx_roleName,roleId:XCXManager.xcx_roleId},success:function(a){console.log("\u6210\u529f",a)},fail:function(a){console.log("\u5931\u8d25",a)}}),console.log("wxCode \x3d body.userData.uuid: "+wxCode));a.metas&&MetaHelper.initLoginMetas(a.metas);a.isNewUser?(TencentSdkManager.reportQZoneRegister(),XCXManager.isNewUser=!0):a.isNewUser||DataHelper.clearOfflineReqList();ModelManager.saveLocalData();
DcHelper.onLogin()},isLogined:function(){return""!=this.token},getSnsLoginType:function(){return this.param&&this.param.loginType||""},sendReqWithLogin:function(a,c,d,e,f,g){TencentSdkManager.txsdkLog("HttpHelper sendReqWithLogin "+c);var h=this;if(this.isLogined()||ServerProxy.isOfflineMsg(c)||this.isLogining)this.sendPbMsgWithCtlr(a,c,d,e,f,g);else if(this.loginParam){var m=a&&a.showTimes;this.login(function(n){!a||a.isShowing&&a.showTimes==m?0==n?h.sendPbMsgWithCtlr(a,c,d,e,f,g):e&&e(n):logw("Drop logining http msg "+
c)},this.loginParam.loginType,this.loginParam.snsToken,this.loginParam.snsUid,this.loginParam.snsHeadUrl,this.loginParam.snsNick)}else loge("sendReq need login param"),e&&e(-1)},heartBeat:function(a){this.sendReqWithLogin(null,"Heart",null,a)},logout:function(a,c){this.sendReqWithLogin(a,"Logout",null,c)},syncSnsFriends:function(a,c,d){this.sendReqWithLogin(null,"SyncSnsFriends",{friendOpenids:a,pform:c},d)},getActivityList:function(a,c){this.sendReqWithLogin(a,"ActivityList",null,c)},sendActivity:function(a,
c,d,e,f){c={actId:tonumber(c),method:d,data:JSON.stringify(e)};this.sendReqWithLogin(a,"Activity",c,function(a,c,d){f&&(0==a?f(a,JSON.parse(c.data),d):f(a))})},buy:function(a,c,d,e,f,g){var h=ServerProxy.isGoodsCanBuy(c,d,g);0!=h&&e?e(h):(c={goods:{itemId:c,value:d||1},levelId:f,goodsExtendId:g,reqTime:1E3*TimeUtils.time()},this.sendReqWithLogin(a,"Buy",c,e))},useProp:function(a,c,d,e,f,g){c={type:2,levelId:c,gameType:d,items:[e],requestTime:1E3*TimeUtils.time(),expireTime:[UserManager.getNextPropExpireTs(e,
f)]};this.sendReqWithLogin(a,"UseProps",c,g)},useObject:function(a,c,d,e,f){PropMetaManager.getInstance().getPropType(c)==PropType.AddEnergy&&UserManager.isEnergyFull()?e&&e(ErrCode.ENERGY_ALREADY_FULL):(c={itemId:c,extra:d,expire:f||UserManager.getNextPropExpireTs(c)},this.sendReqWithLogin(a,"UseObject",c,e))},getFriendInfos:function(a,c,d){var e="",f="";TencentSdkManager.isOpen()&&(e=TencentSdkManager.getShareOpenid(),1<e.length||TencentSdkManager.GetQueryString("senderOpenId"),TencentSdkManager.GetQueryString("inviteOpenId"));
f=XCXManager.inviteOpenid;e=XCXManager.senderOpenId;this.sendReqWithLogin(a,"Friend",{friends:c,senderOpenId:e,inviteOpenId:f},d)},inviteCodeAddFriend:function(a,c,d){this.sendReqWithLogin(a,"InviteCodeAddFriend",{inviteCodes:c},d)},deleteFriends:function(a,c,d){this.sendReqWithLogin(a,"DeleteFriend",{friends:c},d)},recommendFriend:function(a,c){this.sendReqWithLogin(a,"FriendRecommend",null,c)},startLevel:function(a,c,d,e,f,g,h){e={mode:GameModeType.getModeShowType(c),step:LevelMapManager.getInstance().getLevelStep(c)};
c={levelId:c,gameType:d,energyBuff:UserManager.getUnlimitStrengthTimestamp()>1E3*DataHelper.getSimulatorTs(),items:f,requestTime:1E3*TimeUtils.time(),anaData:JSON.stringify(e)};h&&(c.roomId=h);this.sendReqWithLogin(a,h?"StartTimeLevel":"StartLevel",c,g)},overLevel:function(a,c,d,e,f,g,h,m,n,r){var s={levelId:c,score:d,star:e,useTime:f,log:g,reqTime:1E3*TimeUtils.time(),anaData:n,friends:r};m&&(s.roomId=m);var t=m?"OverTimeLevel":"OverLevel";WaitingDialogController.show();var u=this,w=function(c,d){WaitingDialogController.hide();
0<=c&&100341!=c?h(c,d):QueryDialogController.show({text:"\u7f51\u7edc\u5f02\u5e38\uff01\u662f\u5426\u91cd\u65b0\u53d1\u9001\u6570\u636e\uff1f",listener:function(c){c?(WaitingDialogController.show(),u.sendReqWithLogin(a,t,s,w)):SceneHelper.popScene()}})};this.sendReqWithLogin(a,t,s,w)},getCommonRewards:function(a,c,d,e){c={type:c,param:d};TencentSdkManager.txsdkLog("UserCommonRewards type:"+c.type+" param:"+JSON.stringify(c.param));this.sendReqWithLogin(a,"UserCommonRewards",c,e)},getLevelConfigByLevelId:function(a,
c,d){this.sendReqWithLogin(a,"GetLevelConfigByLevelId",{levelId:c},d)},getLevelFriendsInfo:function(a,c,d){this.sendReqWithLogin(a,"GetLevelFriends",{levelId:c},d)},getLevelWorldRankInfo:function(a,c,d,e,f){this.sendReqWithLogin(a,"GetLevelScoreRank",{levelId:c,start:d,end:d+e-1},f)},changeMainPet:function(a,c,d){this.sendReqWithLogin(a,"ChangeMainPet",{petId:c},d)},changePetName:function(a,c,d,e){this.sendReqWithLogin(a,"ChangePetName",{petId:c,name:d},e)},changeProfile:function(a,c,d,e){this.sendReqWithLogin(a,
"ChangeProfile",{name:c,head:d},e)},rechargeIos:function(a,c,d,e){this.sendLazyMsgAfterLogin("RechargeReciept",{productId:a,channel:"ios",orderId:c,reciept:d},e)},rechargeGooglePlayV3:function(a,c,d,e){this.sendReqWithLogin(nil,"RechargeRsaSig",{productId:a,data:c,sig:d,channel:"googleplay"},e)},rechargeOrder:function(a,c,d,e,f){this.sendReqWithLogin(null,"PayOrder",{productId:a,channel:c,orderId:d,price:0,type:e&&1||0},f)},getRequestInfos:function(a,c){this.sendReqWithLogin(a,"GetRequestInfos",null,
c)},replyRequest:function(a,c,d,e,f){if(e){for(var g=0,h=0;h<c.length;++h)for(var m=0;m<e.length;++m){var n=e[m];if(n.id==c[h]){n.type==MailType.ASK_FOR_ENERGY&&g++;break}}if(0<g)DcHelper.onEnergyReturn(g)}this.sendReqWithLogin(a,"HandleMsg",{ids:c,type:d&&1||0},f,e)},sendFreeGift:function(a,c,d,e){this.sendReqWithLogin(a,"SendFreeGift",{senderIds:c,type:d?1:2},e)},sendGetStarReward:function(a,c){this.sendReqWithLogin(a,"StarReward",null,c)},sendSign:function(a,c){this.sendReqWithLogin(a,"Sign",null,
c)},sendUnlockLevelArea:function(a,c,d,e,f){this.sendReqWithLogin(a,"UnlockLevelArea",{type:c,areaId:d,friendIds:e},f)},sendStartUnlockLevelArea:function(a){this.sendReqWithLogin(null,"StartUnlockLevel",{levelAreaId:a},null)},sendGetRequestNum:function(a,c,d,e,f){this.sendReqWithLogin(a,"GetRequestsNum",e&&0<e.length?{curMd5:"curMd5",process:c,tasks:d,activeTasks:e}:{curMd5:"curMd5",process:c,tasks:d},f)},sendExchangeCodeReward:function(a,c,d){this.sendReqWithLogin(a,"ExchangeCodeReward",{exchangeCode:c},
d)},sendConfirmInviteUser:function(a,c,d,e){this.sendReqWithLogin(a,"ConfirmInviteUser",{inviteId:c,confirm:d},e)},drawLottery:function(a,c,d){this.sendReqWithLogin(a,"DrawLottery",{goodsId:c},d)},sendGetKitchenGodData:function(a,c){this.sendReqWithLogin(a,"GetKitchenGodData",null,c)},sendGetKitchenGodRank:function(a,c,d){this.sendReqWithLogin(a,"CommonRank",{rankType:1,subType:c,levelId:0},d)},sendGetWorldRank:function(a,c,d,e){this.sendReqWithLogin(a,"CommonRank",{rankType:2,subType:0,levelId:0,
start:c,end:c+d-1},e)},sendStartKitchenGod:function(a,c,d,e,f){c={levelId:c,gameType:d,requestTime:1E3*TimeUtils.time()};this.sendReqWithLogin(a,"StartKitchenGod",c,f)},sendOverKitchenGod:function(a,c,d,e,f,g,h){c={levelId:c,score:d,star:e,honey:f,petId:g,requestTime:1E3*TimeUtils.time()};this.sendReqWithLogin(a,"OverKitchenGod",c,h)},sendGetKitchenGodReward:function(a,c,d){c={id:c,requestTime:1E3*TimeUtils.time()};this.sendReqWithLogin(a,"GetKitchenGodReward",c,d)},changeDress:function(a,c,d){this.sendReqWithLogin(a,
"ChangeDress",{dresses:c},d)},putOnDress:function(a,c,d){for(var e=[],f=1;f<=c.length;++f){var g=c[f-1],h=MetaHelper.equipDict[g];h&&table.insert(e,{itemId:h.own,count:h.pos,value:g})}this.changeDress(a,e,d)},exchangeDress:function(a,c,d,e){this.sendReqWithLogin(a,"ExchangeDress",{dressId:c,exchageType:d},e)},petSet:function(a,c,d){this.sendReqWithLogin(a,"PetSet",{pets:c},d)},getFriendInfo:function(a,c,d){this.sendReqWithLogin(a,"GetFriendInfo",{friendId:c},d)},love:function(a,c,d,e,f){this.sendReqWithLogin(a,
"PetLove",{friendId:c,petId:d},f,e)},upgratePopcorn:function(a,c,d){var e={};e.type=c;this.sendReqWithLogin(a,"UpgratePopcorn",e,d,c)},popcornBuy:function(a,c,d){var e={};e.type=c.type;c.petId&&(e.petId=c.petId);this.sendReqWithLogin(a,"PopcornBuy",e,d,c)},updateLevelData:function(a,c,d){var e={},f=PopcornHelper.getChallengeData();e.petId=c;e.score=f.finalScore;e.hinders=f.blocks;e.levelInfo=f.levelInfo;0<f.bossHp&&(e.bossLife=f.bossHp);this.sendReqWithLogin(a,"UpdateLevelData",e,d)},updateLevelUseProp:function(a,
c,d,e){var f={};f.itemIds=c;f.gameMode=d;this.sendReqWithLogin(a,"UpdateLevelUseProp",f,e)},startPopcornLevel:function(a,c,d){var e={},f=PopcornHelper.getChallengeData();e.itemIds=c;e.gameType=f.gameType;e.petId=f.petId;e.otherId=f.otherId;0<c.length&&(e.gameMode=f.gameMode);this.sendReqWithLogin(a,"StartPopcornLevel",e,d)},overPopcornLevel:function(a,c,d){var e={},f=PopcornHelper.getChallengeData();e.petExpr=0;e.success=c;e.petId=f.petId;e.petExpr=f.petExpr;e.otherId=f.otherId;e.gameType=f.gameType;
e.score=f.finalScore;f.historyId&&(e.historyId=f.historyId);f.serverTime&&(e.serverTime=f.serverTime);this.sendReqWithLogin(a,"OverPopcornLevel",e,d,PopcornHelper.getReward())},getPlayerPopcorn:function(a,c,d){this.sendReqWithLogin(a,"GetPlayerPopcorn",{fid:c},d)},repair:function(a,c,d,e){this.sendReqWithLogin(a,"Repair",{hinderId:c},d,e)},inviteAddProtectors:function(a,c,d){this.sendReqWithLogin(a,"InviteAddProtectors",{fids:c},d)},getPopcornData:function(a,c,d){this.sendReqWithLogin(a,"GetPopcornData",
null,d)},getPopcornHistory:function(a,c,d){this.sendReqWithLogin(a,"GetPopcornHistory",null,d)},thanksPopcorn:function(a,c,d,e){var f={};f.id=c;f.type=d;this.sendReqWithLogin(a,"ThanksPopcorn",f,e)},acquireProtectCoins:function(a,c,d){this.sendReqWithLogin(a,"AcquireProtectCoins",{fid:c},d)},remindUpdatelevelReq:function(a,c,d){this.sendReqWithLogin(a,"RemindUpdatelevel",{fid:c},d)},sendFriendRequestData:function(a,c){this.sendReqWithLogin(a,"GetFriendsRequestData",null,c)},sendFriendRequestDropItem:function(a,
c,d){c={items:c,requestTime:1E3*TimeUtils.time()};this.sendReqWithLogin(a,"GetFriendsRequestItem",c,d)},sendFriendRequestInvite:function(a,c,d,e){this.sendReqWithLogin(a,"InviteFriendsRequest",{itemId:c,fids:d},e)},sendFriendRequestGetReward:function(a,c,d){this.sendReqWithLogin(a,"GetFriendsRequestReward",{id:c},d)},sendAdsenseAd:function(a,c,d){c={id:c};this.sendReqWithLogin(a,"AdsenseAd",c,d)},sendGetCash:function(a,c){this.sendReqWithLogin(a,"GetCash",null,c)},notifyReq:function(a,c,d,e,f){var g=
{};g.type=c;g.extra=e;g.otherIds=d;this.sendReqWithLogin(a,"Notify",g,f)},syncAchieveProcess:function(a,c,d){this.sendReqWithLogin(a,"SyncAchieveProcess",{process:c},d)},rewardAchieves:function(a,c,d){this.sendReqWithLogin(a,"RewardAchieves",{achieveId:c},d)},setMainCar:function(a,c,d){this.sendReqWithLogin(a,"Setting",{set:0,car:c},d)},addLike:function(a,c,d){this.sendReqWithLogin(a,"Love",{friendId:c},d)},getTimeLevelInfo:function(a,c,d){this.sendReqWithLogin(a,"GetTimeLevelInfo",{roomId:c},d)},
sendGetRoomInfo:function(a,c,d){this.sendReqWithLogin(a,"GetRoomInfo",{roomId:c},d)},sendTimeLevelReward:function(a,c,d){this.sendReqWithLogin(a,"FinishTimeLevelRewards",{roomId:c},d)},sendGiveUpRoom:function(a,c,d){this.sendReqWithLogin(a,"GiveupRoom",{roomId:c},d)},sendTimeLevelInvite:function(a,c,d,e){this.sendReqWithLogin(a,"TimeLevelInvite",{roomId:c,friendId:d},e)},sendShareRedPacInfo:function(a,c,d){this.sendReqWithLogin(a,"ShareRedPacInfo",{car:c},d)},sendGetRedPacInfo:function(a,c,d){this.sendReqWithLogin(a,
"GetRedPacInfo",{redPacId:c},d)},sendShareRank:function(a,c,d,e,f,g){this.sendReqWithLogin(a,"ShareRank",{wxData:c,proEnvVersion:d,param:e,iv:f},g)},sendGetTimeLevelRoom:function(a,c,d,e){this.sendReqWithLogin(a,"GetTimeLevelRoom",{roomId:c,isNewUser:d},e)},sendRechargeFinish:function(a,c){this.sendReqWithLogin(a,"PayCallback",null,c)},sendGetNovice:function(a,c){var d={requestTime:1E3*TimeUtils.time()};this.sendReqWithLogin(a,"NewUserReward",d,c)},sendFreeOneLottery:function(a,c){this.sendReqWithLogin(a,
"DrawLottery",{type:0},c)},sendOneLottery:function(a,c){this.sendReqWithLogin(a,"DrawLottery",{type:1},c)},sendTenLottery:function(a,c){this.sendReqWithLogin(a,"DrawLottery",{type:2},c)},sendFriendDress:function(a,c,d,e){this.sendReqWithLogin(a,"DonateDress",{receiveId:c,dressId:d.itemId,count:d.value2||0},e)},getShareKitInfo:function(a,c){this.sendReqWithLogin(a,"GetInviteInfo",null,c)},sendGetShareKitWithIndex:function(a,c,d){this.sendReqWithLogin(a,"InviteStarReward",{id:c},d)},finishDailyTask:function(a,
c,d){this.sendReqWithLogin(a,"RewardTask",{id:c},d)},changeDailyTask:function(a,c,d){this.sendReqWithLogin(a,"ReplaceTask",{taskId:c},d)},finishDailyTaskBox:function(a,c,d,e){this.sendReqWithLogin(a,"RewardTaskBoxMsg",{boxId:c,boxType:d},e)},getDailyTask:function(a,c){this.sendReqWithLogin(a,"GetTask",null,c)},SendQzoneBuyRmb:function(a,c,d){c={productId:""+c};TencentSdkManager.txsdkLog("HttpHelper SendQzoneBuyRmb");this.sendReqWithLogin(a,"QzonePay",c,d)},getHuskyTask:function(a,c){WaitingDialogController.show();
var d=this,e=function(f,g){WaitingDialogController.hide();0==f?c(f,g):-1==f?QueryDialogController.show({text:"\u7f51\u7edc\u5f02\u5e38\uff01\u662f\u5426\u91cd\u65b0\u53d1\u9001\u6570\u636e\uff1f",listener:function(c){c?(WaitingDialogController.show(),d.sendReqWithLogin(a,"GetHuskyTask",null,e)):SceneHelper.popScene()}}):c(f,g)};this.sendReqWithLogin(a,"GetHuskyTask",null,e)},replaceHuskyTask:function(a,c,d){this.sendReqWithLogin(a,"ReplaceHuskyTask",{id:c},d)},getHuskyTaskReward:function(a,c,d,e){this.sendReqWithLogin(a,
"CompleteHuskyTask",{id:c,type:d},e)},getHuskyMainInfo:function(a,c){WaitingDialogController.show();var d=this,e=function(f,g){WaitingDialogController.hide();0==f?c(f,g):-1==f?QueryDialogController.show({text:"\u7f51\u7edc\u5f02\u5e38\uff01\u662f\u5426\u91cd\u65b0\u53d1\u9001\u6570\u636e\uff1f",listener:function(c){c?(WaitingDialogController.show(),d.sendReqWithLogin(a,"GetHusky",null,e)):SceneHelper.popScene()}}):c(f,g)};this.sendReqWithLogin(a,"GetHusky",null,e)},getHuskyChessReward:function(a,
c,d){var e={rewardNum:c};WaitingDialogController.show();var f=this,g=function(c,m){WaitingDialogController.hide();GameDirector.setTouchAndKeypadEnable(!0);0==c?d(c):-1==c?QueryDialogController.show({text:"\u7f51\u7edc\u5f02\u5e38\uff01\u662f\u5426\u91cd\u65b0\u53d1\u9001\u6570\u636e\uff1f",listener:function(c){c?(WaitingDialogController.show(),f.sendReqWithLogin(a,"ReceiveHuskyChessboard",e,g)):SceneHelper.popScene()}}):d(c,m)};this.sendReqWithLogin(a,"ReceiveHuskyChessboard",e,g)},refreshHuskyChess:function(a,
c){this.sendReqWithLogin(a,"RefreshHuskyReward",null,c)},postHuskyShareType:function(a,c,d){var e={id:c};WaitingDialogController.show();var f=this,g=function(c){WaitingDialogController.hide();0==c?d(c):-1==c?QueryDialogController.show({text:"\u7f51\u7edc\u5f02\u5e38\uff01\u662f\u5426\u91cd\u65b0\u53d1\u9001\u6570\u636e\uff1f",listener:function(c){c?(WaitingDialogController.show(),f.sendReqWithLogin(a,"CompleteHuskyShare",e,g)):SceneHelper.popScene()}}):d(c)};this.sendReqWithLogin(a,"CompleteHuskyShare",
e,g)},beginHuskyChessGame:function(a,c){this.sendReqWithLogin(a,"BeginHuskyGame",null,c)},getHuskyPet:function(a,c){this.sendReqWithLogin(a,"ReceiveHusky",null,c)},sendGetWXGameInfo:function(a,c){this.sendReqWithLogin(a,"GetWxGameInfo",null,c)},sendShareLuckyKit:function(a,c,d){var e={sequence:CacheHelper.getLuckyKitDropIdx(),type:c};WaitingDialogController.show();var f=this,g=function(c){WaitingDialogController.hide();0==c?d(c):-1==c?QueryDialogController.show({text:"\u7f51\u7edc\u5f02\u5e38\uff01\u662f\u5426\u91cd\u65b0\u53d1\u9001\u6570\u636e\uff1f",
listener:function(m){m?(WaitingDialogController.show(),f.sendReqWithLogin(a,"luckyBox",e,g)):d(c)}}):d(c)};this.sendReqWithLogin(a,"luckyBox",e,g)}};PayHelper={purchaseListener:null,isPriceInit:!1,isPriceDownloading:!1,productDetailList:[],enterBgTs:0,onInit:function(){var a=a||"win32";"ios"==a?platform.registerIosInPurchaseListener(null,this.onPaymentTransaction):"wp8"==a&&platform.registerWp8InPurchaseListener(null,this.onMsTransaction);cc.eventManager.addCustomListener(cc.game.EVENT_HIDE,function(){cc.log("\u6e38\u620f\u8fdb\u5165\u540e\u53f0");PayHelper.enterBgTs=TimeUtils.time();notification.postEvent("event.runtime.enterBg")});cc.eventManager.addCustomListener(cc.game.EVENT_SHOW,
function(){cc.log("\u91cd\u65b0\u8fd4\u56de\u6e38\u620f");var a=0;PayHelper.enterBgTs&&(a=TimeUtils.time()-PayHelper.enterBgTs,0>a&&(a=0),PayHelper.enterBgTs=0);var d={duration:a,scheme:""};scheduler.performWithDelayGlobal(function(){notification.postEvent("event.runtime.enterFg",d)},0)})},initPrice:function(a){logTraceFunc("PayHelper","initPrice",a);if(this.isPriceInit)null!=a&&a(!0);else if(this.isPriceDownloading)null!=a&&a();else{var c=MetaHelper.getAllProductIdList();this.isPriceDownloading=
!0;var d=this;"ios"==OsPlatform?this.loadIosInPurchaseProducts(c,function(c){d.isPriceDownloading=!1;c=c.products;if(null!=c){d.productDetailList=[];for(var f=0;f<c.length;++f){var g=c[f];table.insert(d.productDetailList,{productId:g.productIdentifier,priceText:g.formattedPrice})}d.isPriceInit=!0;null!=a&&a(!0)}else null!=a&&a(!1)}):"wp8"==OsPlatform?this.loadMsInPurchaseProducts(c,function(c){d.isPriceDownloading=!1;null!=c.products?(d.isPriceInit=!0,null!=a&&a(!0)):null!=a&&a(!1)}):"android"==OsPlatform?
PayHelper.startGooglePlaySetup(c,function(c){d.isPriceDownloading=!1;c&&(d.isPriceInit=!0);null!=a&&a(c)}):(this.isPriceDownloading=!1,this.isPriceInit=!0,null!=a&&a(!0))}},getPriceTextByProductId:function(a,c){for(var d=0;d<this.productDetailList.length;++d)if(v.productId==a)return[v.priceText];var e=MetaHelper.getProductMetaByProductId(a),d=GameHelper.getMoneyStr(e.price,"CNY");return c?(e=GameHelper.getMoneyStr(e.price/c,"CNY"),[d,e]):[d]},onPaymentTransaction:function(a){"purchased"==a.state?
(logi("payment success"),HttpHelper.rechargeIos(a.productIdentifier,a.transactionIdentifier,json.encode(a),function(c){c!=ErrCode.ORDER_SERVER_WRONG&&this.finishIosInPurchaseTransaction(a.transactionIdentifier);null!=this.purchaseListener&&(this.purchaseListener(0==c),this.purchaseListener=null)})):("failed"==a.state?loge("payment failed, error: "+a.errorString):"cancelled"==a.state?logi("payment canceled"):logw("unknown payment state: "+a.state),this.finishIosInPurchaseTransaction(a.transactionIdentifier),
null!=this.purchaseListener&&(this.purchaseListener(!1),this.purchaseListener=null))},loadIosInPurchaseProducts:function(a,c){platform.loadIosInPurchaseProducts(a,function(a){null!=c&&c(a)})},canMakePurchases:function(){return platform.canMakePurchases()},purchase:function(a,c){this.purchaseListener=c;var d="false";this.canMakePurchases()&&(d=platform.purchase(a));"false"==d&&null!=this.purchaseListener&&(this.purchaseListener(!1),this.purchaseListener=null)},restore:function(a){this.purchaseListener=
a;platform.restore()},finishIosInPurchaseTransaction:function(a){platform.finishIosInPurchaseTransaction(a)},startGooglePlaySetup:function(a,c){var d=this;platform.startGooglePlaySetup("googleplay",function(e){e?platform.queryGooglePlayInventor(a,function(a){if(a){var e=a.product||[],h=a.purchase||[];d.productDetailList=[];for(a=0;a<e.length;++a){var m=e[a];table.insert(d.productDetailList,{productId:m.productId,priceText:m.price})}if(0>=h.length)c(!0);else{var n=function(a){a>h.length?c(!0):d.consumeGooglePlay(h[a],
function(){n(a+1)})};n(1)}}else c(!1)}):c(!1)})},purchaseGooglePlay:function(a,c){var d=tostring(Math.random(100,999))+tostring(TimeUtils.time());platform.purchaseGooglePlay({id:a,payload:d},function(a){a?this.consumeGooglePlay(a,function(a){c(a)}):c(!1)})},consumeGooglePlay:function(a,c){var d=json.decode(a.data).productId;platform.consumeGooglePlay(d,function(e){e?HttpHelper.rechargeGooglePlayV3(d,a.data,a.sig,function(a){0==a&&ModelManager.saveLocalData();c(0==a)}):c(!1)})},onMsTransaction:function(a){var c=
json.decode(a);dump(c);if("purchased"==c.state){logi("payment success");var d=function(a){if(a){var d=c.productIdentifier,e="random"+Math.random(1E6,9E6);this.addItemByProductConfig(d,e);ModelManager.saveLocalData()}this.reportProductFulfillment(c.productIdentifier);null!=this.purchaseListener&&(this.purchaseListener(a),this.purchaseListener=null)};a=this.getProductTableByProductId(c.productIdentifier);if(IapVeriryFromServer||"scroll"==a.item){a={receipt:c.receiptXml,platform:"wp8",uid:DataHelper.getUserId()};
var e=GAME_SERVER_URL+"/verifyiap?"+GameHelper.buildBasicUrlParam();network.beginEncryptPost(e,json.encode(a),function(a,c){if("success"==a){dump(c);var e=json.decode(c);e&&0==e.status?d(!0):e&&77777==e.status?d(!1):null!=this.purchaseListener&&(this.purchaseListener(!1),this.purchaseListener=null)}else null!=this.purchaseListener&&(this.purchaseListener(!1),this.purchaseListener=null)})}else d(!0)}else"failed"==c.state&&(loge("payment failed, error: "+c.errorString),null!=this.purchaseListener&&
(this.purchaseListener(!1),this.purchaseListener=null))},loadMsInPurchaseProducts:function(a,c){platform.loadMsInPurchaseProducts(null,function(a){null!=c&&c(json.decode(a))})},purchaseMs:function(a,c){this.purchaseListener=c;platform.purchaseMs(a)},reportProductFulfillment:function(a){platform.reportProductFulfillment(a)},purchaseCallbackServer:function(a,c){var d=tostring(Math.random(100,999))+tostring(os.time()),d={id:a,payload:d};GameHelper.syncUserToPlatform();d=json.encode(d);platform.purchaseCallbackServer(d,
function(d){"failed"!=d?(d=json.decode(d),printf("purchaseCallbackServer success:"),dump(d),HttpHelper.rechargeOrder(a,d.channel,d.platOrderId,d.cpOrderId,function(a){c(0==a)})):(printf("purchaseCallbackServer failed"),c(!1))})},buy:function(a,c,d){logTraceFunc("PayHelper","buy",a,c,d);var e=0;a&&(e=a.showTimes);!a||a.isShowing&&a.showTimes==e?d&&d():logw("Drop buy msg for "+c)},sendPayCallback:function(a,c){var d=UserManager.getDiamond(),e=this;WaitingDialogController.show();HttpHelper.sendRechargeFinish(null,
function(f,g){if(0==f){var h=g.balance!=d||g.goodsId;0>=c||h?(0>=c&&!h&&TipDialogController.showTip("\u5145\u503c\u6682\u672a\u5230\u8d26\uff0c\u8bf7\u7a0d\u540e\u91cd\u542f\u6e38\u620f\u67e5\u770b"),WaitingDialogController.hide(),a(!0,h,g.goodsId)):Utils.delayCall(function(){e.sendPayCallback(a,c-1)},3)}else WaitingDialogController.hide(),TipDialogController.showTip(ErrMsg(f)),a(!0,!1)})},buyProduct:function(a,c,d,e){var f=this;XCXManager.rechargeGameCurrency(function(){f.sendPayCallback(e,2)},function(){e&&
e(!1)},a,c,d)},freshGetCash:function(){HttpHelper.sendGetCash(null,function(a,c){printf("---------",a,c);0==a&&(UserManager.getDiamond(),UserManager.setDiamond(c.diamond))})}};PayHelper.onInit();GameTutorialHelper={guideId:-1,stepId:-1,event:null,groupIdCache:null,eventGuideIdMap:null,guideTable:null,onInit:function(){},onDestroy:function(){notification.unregisterEvent(this.onEvents);notification.unregisterEvent(this.onFirstEvents)},startGuide:function(a){this.stopGuide();this.guideTable=a;this.groupIdCache=(a=persist.getString("guide_group_ids"))?JSON.parse(a)||{}:{};this.reloadEventGuideIdMap()},hasFirstEvent:function(a){return this.eventGuideIdMap&&this.eventGuideIdMap[a]&&0<this.eventGuideIdMap[a].length?
!0:!1},reloadEventGuideIdMap:function(){notification.unregisterEvent(this.onFirstEvents);notification.unregisterEvent(this.onEvents);this.eventGuideIdMap={};for(var a in this.guideTable){var c=this.guideTable[a];this.groupIdCache[a]||(c=c[0].event,notification.registerEvent(this.onFirstEvents,c,this),this.eventGuideIdMap[c]||(this.eventGuideIdMap[c]=[]),table.insert(this.eventGuideIdMap[c],a))}},onFirstEvents:function(a){if(!(0<=this.guideId)){var c=this.eventGuideIdMap[a][0];null!=c&&(this.guideId=
c,this.stepId=0,this.onEvents(a))}},stopGuide:function(){TutorialLayerController.hide();notification.unregisterEvent(this.onEvents);notification.unregisterEvent(this.onFirstEvents);this.stepId=this.guideId=-1;this.groupIdCache=this.eventGuideIdMap=null},isGuiding:function(){return 0<this.stepId||TutorialLayerController.isShowing},cancelCurGuide:function(a){0<=this.guideId&&(TutorialLayerController.hide(),this.nextGuide(!a))},nextGuide:function(a){a||(this.groupIdCache[this.guideId]=1,persist.setString("guide_group_ids",
JSON.stringify(this.groupIdCache)));this.reloadEventGuideIdMap();this.stepId=this.guideId=-1},prepareStep:function(a){var c=this.guideTable[this.guideId];this.event&&notification.unregisterEvent(this.onEvents,this.event);(c=c[a].event)&&notification.registerEvent(this.onEvents,c,this);this.stepId=a;this.event=c},onEvents:function(a){var c=this.guideTable[this.guideId],d=this.stepId;0==this.guideId&&(0==this.stepId?DcHelper.freshManAction(6):1==this.stepId?DcHelper.freshManAction(7):2==this.stepId&&
DcHelper.freshManAction(8));var e=c[d];a!=e.event&&loge("should never happens, something was wrong!");a=e.triggerEvent||[];for(var f in a){var g=a[f];notification.postEvent(g.name,g.param)}var h=this;f=function(a){if(a&&(TutorialLayerController.hide(),(a=h.guideTable[h.guideId])&&h.stepId<a.length&&null==a[h.stepId].event))h.onEvents()};TutorialLayerController.hide();null!=e.text&&TutorialLayerController.show({stepConfig:e,listener:f});d<c.length-1?(c=e.condition)?c.listener()?this.prepareStep(d+
c.trueJump):this.prepareStep(d+c.falseJump):this.prepareStep(d+1):this.nextGuide()},getRectCfgByRegionCfg:function(a){if(a){var c=a.region,d;if("string"==typeof c[0]){var e=_G[c[0]],f=c[1];if(e&&e.isShowing)if(d=e[f],"function"==typeof d)d=d.call(e,c[2],c[3],c[4],c[5],c[6],c[7]);else if(d instanceof cc.Node){var g=d.boundingBoxInWorld(),e=g.x;d=g.y;var f=g.width,g=g.height,h=c[2],c=null!=c[3]?c[3]:h;"number"==typeof h&&"number"==typeof c&&(e-=h,d-=c,f+=2*h,g+=2*c);d=[e,d,f,g]}else d=cw.clone(d);else loge("tutorial controller not showing:"+
tostring(e&&e.name))}else"number"==typeof c[0]&&4==c.length?d=cw.clone(c):(loge("tutorial region error:"),dump(c));if(d)return d.cfg=a,d}}};PopoutQueue={waitingMap:{},current:null,timer:null,onInit:function(){},onDestroy:function(){this.timer&&(scheduler.unscheduleGlobal(this.timer),this.timer=null);this.clearQueue()},push:function(a,c,d){this.timer||(this.timer=scheduler.scheduleGlobal(handler(this,this.update)));d=d||GameDirector.getCurrentSceneName();null==this.waitingMap[d]&&(this.waitingMap[d]=[]);table.insert(this.waitingMap[d],{controllerName:a,param:c})},pushMutexName:function(a,c,d){var e=this.waitingMap[d];if(d&&e)for(var f in e)e[f].controllerName==
a&&e.splice(f,1);this.push(a,c,d)},removeCurrent:function(){this.current&&(_G[this.current.controllerName].hide(),this.current=null)},removeController:function(a,c){c=c||GameDirector.getCurrentSceneName();var d=this.waitingMap[c];if(d)for(var e=d.length;1<=e;--e)d[e-1].controllerName==a&&table.remove(d,e-1)},clearQueue:function(){this.removeCurrent();this.waitingMap={}},update:function(a){if(this.current){a=_G[this.current.controllerName];if(a.isShowing||a.isShowLoading)return;this.current=null}var c,
d;for(d in this.waitingMap)if(a=this.waitingMap[d])null==c&&(c=GameDirector.getCurrentSceneName()),d==c&&(0<a.length?(this.current=table.remove(a,0),a=_G[this.current.controllerName],a.hide(),a.showLoading(this.current.param)):this.waitingMap[d]=null)}};DeviceHelper={HighDeviceDic:{"OPPO R9S":1,"VIVO X9":1,"OPPO R9M":1,"VIVO X7":1,"OPPO R11":1,"OPPO R9SK":1,"OPPO R9S PLUS":1,"VIVO X7PLUS":1,"OPPO R9TM":1,"OPPO R9 PLUSM A":1,"VIVO X9PLUS":1,"MHA-AL00":1,"VIVO X9I":1,"VIVO X6D":1,"MI 6":1,"BLN-AL10":1,"HUAWEI MLA-AL10":1,"VIVO X6S A":1,"FRD-AL10":1,"DUK-AL20":1,"OPPO R7S":1,"EVA-AL10":1,"PRA-AL00X":1,"SM-G9350":1,"VIVO X9L":1,"VTR-AL00":1,"OPPO R9 PLUSTM A":1,"VIVO X9S":1,"VIVO X6A":1,"STF-AL10":1,"VIVO X9S PLUS":1,"OPPO R9ST":1,"PRA-AL00":1,"OPPO R11 PLUS":1,
"VIVO X6PLUS D":1,"VIVO XPLAY5A":1,"MI 5S PLUS":1,"MI 5X":1,"VIVO XPLAY6":1,"MI MAX 2":1,"VIVO X6SPLUS D":1,"VIE-AL10":1,MX6:1,"OPPO R9KM":1,"SM-C7000":1,"BAC-AL00":1,"BLN-AL20":1,"SM-G9280":1,"LON-AL00":1,"STF-AL00":1,"ONEPLUS A5000":1,"KNT-AL20":1,"VIVO X9PLUS L":1,"SM-G9550":1,"VIVO X9S L":1,"OPPO R11 PLUSKT":1,"VIVO X6PLUS A":1,"OPPO A77":1,"VIVO X9S PLUS L":1,"KNT-AL10":1,GN8003:1,"REDMI PRO":1,"LE X820":1,"EDI-AL10":1,"SM-C9000":1,"SM-G9500":1,"PIC-AL00":1,"1605-A01":1,"ONEPLUS A3010":1,"KNT-UL10":1,
"VIVO X6L":1,"GIONEE S10":1,OD103:1,MIX:1,"PRO 5":1,GN8002S:1,"OPPO A77T":1,"1505-A01":1,NX531J:1,"OPPO R9S PLUST":1,GN9012:1,"SM-G9300":1,"OPPO R9T":1,"1607-A01":1,"PRO 6S":1,"PRO 6 PLUS":1,"ZUK Z2131":1,LEX720:1,"SM-N9200":1,"WAS-TL10":1,MP1602:1,"ONEPLUS A3000":1,"VIVO X7L":1,"GIONEE S10L":1,"OPPO R9SKT":1,LEX626:1,"VIVO X6SPLUS A":1,GN9011:1,NX563J:1,"SM-A9100":1,OD105:1,"VTR-TL00":1,MP1512:1,"ZUK Z2121":1,"VIVO X6PLUS L":1,"BAC-TL00":1,"1505-A02":1,"SM-C7010":1,"BLN-AL30":1,"GIONEE S10C":1,G9280:1,
"GIONEE S10CL":1,"OPPO R7ST":1,"FRD-DL00":1,SM919:1,MP1603:1,W909:1,"STF-TL10":1,"NTS-AL00":1,"PIC-TL00":1,"GIONEE S10B":1,"KNT-TL10":1,"ZTE A2017":1,G0215D:1,M681C:1,"GIONEE S10BL":1,"SM-G9308":1,"SM-G9508":1,"VIVO X7PLUS L":1,"SM-G935F":1,"ZUK Z2151":1,"VIVO X6SPLUS":1,"X800+":1,"XT1650-05":1,LEX722:1,"ONE A2001":1,M2017:1,SM901:1,"SM-G9287":1,"LETV X502":1,M685C:1,"LON-AL00-PD":1,"OPPO R9 PLUST A":1,"SUGAR S9":1,"VIVO XPLAY5S":1,"1509-A00":1,XT1662:1,"SM-G930F":1,"1515-A01":1,"VKY-AL00":1,"WAS-AL00":1,
"TRT-AL00A":1,"OPPO R11 PLUSK":1,"MIX 2":1,"DUK-TL30":1,"SM-N9500":1,"PRO 7-S":1,"1503-M02":1,"SM-A7108":1,"PRO 7 PLUS":1,CPH1607:1,"RNE-AL00":1,"PRO 7-H":1,"VCR-A0":1,"SM-W2017":1,"8848 M3":1,"SM-G955F":1,M6SPLUS:1,"ALP-AL00":1},checkDeviceHigh:function(a){return DeviceHelper.HighDeviceDic[a]?!0:!1},getModel:function(){return TencentSdkManager.isOpen()?TencentSdkManager.DeviceInfo.model:cc.sys.wxSystemInfo.model}};wxConfig.initQualityLevel();dc={send:function(a,c){this.initParam(a,c);this.requestUrl(GAME_SERVER_URL+"/dc/dc_client.jsp",null,JSON.stringify([c]),null)},initParam:function(a,c){c&&(c.ts=(new Date).getTime(),c.lang=Cocos2dxPlatformUtils.getRegionLanguageName(),c.gameversion=Cocos2dxPlatformUtils.getVersionCode(),c.udid=Cocos2dxPlatformUtils.getUDID(),c.mac=Cocos2dxPlatformUtils.getMacAddress(),c.clienttype=Cocos2dxPlatformUtils.getDeviceName(),c.clientversion=Cocos2dxPlatformUtils.getVersionName(),c.clientpixel=DisplayHelper.sharedInstance().getScreenSizeStr(),
c.platform=Cocos2dxPlatformUtils.getChannelName(),c._ac_type=a,c.m_uniq_key=ChanelName,c._user_id=UserManager.userData&&UserManager.getUserId()||0)},getRequestUrl:function(a,c){if(!c)return a;var d="",e;for(e in c){var f=c[e];""!=d&&(d+="\x26");d+=e+"\x3d"+f}return a+"?"+d},requestUrl:function(a,c,d,e){var f=d&&"POST"||"GET";a=this.getRequestUrl(a,c);this.sendRequest(a,f,d,function(a,c,d){e&&e(a,c,d)})},sendRequest:function(a,c,d,e){var f=cc.loader.getXMLHttpRequest();f.open(c,a);f.timeout=5E3;f.setRequestHeader("Content-Type",
"Content-Type:application/octet-stream");f.onload=function(){e(!0,f.responseText,f.status)};f.onerror=function(){e(!1,null,f.status)};f.onabort=function(){e(!1,null,f.status)};f.ontimeout=function(){e(!1,null,f.status)};f.send(d)}};scheduler={getScheduler:function(){return cc.director.getScheduler()},scheduleGlobal:function(a,c){null==c&&(c=0);var d;d=function(c){a(c)};this.getScheduler().schedule(d,cw,c,!1);return d},unscheduleGlobal:function(a){this.getScheduler().unschedule(a,cw)},performWithDelayGlobal:function(a,c){var d;d=function(){scheduler.unscheduleGlobal(d);a()};this.getScheduler().schedule(d,cw,c,!1);return d},performWithDelayFrameGlobal:function(a,c){var d;return d=this.getScheduler().schedule(function(){c-=1;0>=
c&&(scheduler.unscheduleGlobal(d),a())},cw,0,!1)}};display={init:function(){var a=DisplayHelper.sharedInstance();display.screenSize=a.getScreenSize();display.screenWidth=display.screenSize.width;display.screenHeight=display.screenSize.height;display.designHeight=a.getDesignHeight();display.designWidth=a.getDesignWidth();display.height=a.getWindowHeight();display.width=a.getWindowWidth()}};notification={notifiTable:{},tmpCacheTable:{},onInit:function(){},onDestroy:function(){this.unregisterAllEvent()},registerEvent:function(a,c,d){null!=a&&null!=c&&(null==this.notifiTable[c]&&(this.notifiTable[c]=[]),table.insert(this.notifiTable[c],[a,d]))},postEvent:function(a,c){logTraceFunc("notification","postEvent",a,c);var d=this.notifiTable[a];if(null!=d){var e=this.tmpCacheTable[a];null==e&&(e=this.tmpCacheTable[a]=[]);for(var f=-1,g=0;g<d.length;++g)e[g]=d[g],f=g;for(g=0;g<=f;g++)d=e[g],d[0].call(d[1],
a,c)}},unregisterEvent:function(a,c){if(null!=a)if(null==c)for(var d in this.notifiTable)this.unregisterEvent(a,d);else{d=this.notifiTable;var e=d[c];if(null!=e){for(var f=e.length-1;0<=f;f--)e[f][0]==a&&table.remove(e,f);0>=e.length&&(d[c]=null,delete d[c])}}},unregisterAllEvent:function(){this.notifiTable={};this.eventNameTable={}}};var defaultInst;persist={};var _convertKey=function(a){return a.toString()};persist.getBool=function(a){a=wx.getStorageSync(_convertKey(a));return""==a?!1:a};persist.getInt=function(a){a=wx.getStorageSync(_convertKey(a));return""==a?0:a};persist.getFloat=function(a){a=wx.getStorageSync(_convertKey(a));return""==a?0:a};persist.getString=function(a){a=wx.getStorageSync(_convertKey(a));return""==a?null:a};persist.getObject=function(a){a=wx.getStorageSync(_convertKey(a));return""==a?null:a};
persist.setBool=function(a,c){wx.setStorageSync(_convertKey(a),c)};persist.setInt=function(a,c){wx.setStorageSync(_convertKey(a),c)};persist.setFloat=function(a,c){wx.setStorageSync(_convertKey(a),c)};persist.setString=function(a,c){wx.setStorageSync(_convertKey(a),c)};persist.setObject=function(a,c){wx.setStorageSync(_convertKey(a),c)};persist.flush=function(){};
persist.getCrossDayString=function(a){var c=a+"_ts_",d=persist.getString(c),e=os.date("%x",TimeUtils.time());e!=d&&(persist.setString(c,e),persist.setString(a,""));return persist.getString(a)||""};persist.setCrossDayString=function(a,c){var d=a+"_ts_",e=os.date("%x",TimeUtils.time());persist.setString(d,e);persist.setString(a,c)};persist.getCrossDayBool=function(a){var c=a+"_ts_",d=persist.getString(c),e=(new Date).getDate();e!=d&&(persist.setInt(c,e),persist.setBool(a,!1));return persist.getBool(a)};
persist.setCrossDayBool=function(a,c){var d=a+"_ts_",e=(new Date).getDate();persist.setInt(d,e);persist.setBool(a,c)};logi=logv=echo=console.log;logw=console.warn;echoError=loge=console.error;logTraceFunc=function(){};dump=bt=console.log;var sharedEngine;
audio={enableMusic:!0,enableSound:!0,onInit:function(){var a=persist.getBool("music_disable"),c=persist.getBool("sound_disable"),d=persist.getInt("music_volume"),e=persist.getInt("sound_volume");this._soundsVolume=this._musicVolume=0;0<d&&this.setMusicVolume(d/100);0<e&&this.setSoundsVolume(e/100);this.setMusicMute(a);this.setSoundMute(c);this._currentMusicFile=this._currentMusicContext=null;this._isSopMusic=!1;this._maxSoundCount=40;this._audioPool=[];this.tempSoundPool={};this.tempSoundPoolSize=0;
this._handledSound={};audio.prepareAudioPool()},prepareAudioPool:function(){if(audio.enableSound){var a=(new Date).getTime(),c=this._audioPool.length,d=0;if(c<this._maxSoundCount)for(d=this._maxSoundCount-c,c=0;c<d;c++){var e=wx.createInnerAudioContext();e.autoplay=!1;e.loop=!1;this._audioPool.push({context:e,used:!1})}console.warn("creating AudioContext costs ",(new Date).getTime()-a,", count\x3d",d)}},resetAudioPool:function(){if(audio.enableSound){for(var a=this._audioPool.length,c=0;c<a;c++)this._audioPool[c].used=
!1;this._handledSound={}}},getItemFromPool:function(a){for(var c=this._audioPool.length,d=0;d<c;d++){var e=this._audioPool[d];if(e.resUrl==a)return e}return null},getFreeAudioContextItem:function(){for(var a,c=0;c<this._audioPool.length;c++)if(a=this._audioPool[c],!a.used&&""==a.resUrl)return a;for(c=0;c<this._audioPool.length;c++)if(a=this._audioPool[c],!a.used)return a;a=wx.createInnerAudioContext();a.autoplay=!1;a.loop=!1;a={context:a,used:!1,resUrl:""};this._audioPool.push(a);console.warn("Create a new InnerAudioContext! total audio count\x3d",
this._audioPool.length);return a},onDestroy:function(){this._currentMusicContext&&(this._currentMusicContext.destroy(),this._currentMusicContext=null);for(var a=0;a<this._audioPool.length;a++)this._audioPool[a].conext.destroy(),this._audioPool[a]=null;this._audioPool=[];this.tempSoundPool={}}};audio_preload=function(a){"string"==typeof a&&(a=[a]);for(var c in a)this._audio_preload(a[c])};_audio_preload=function(a,c){wxResManager.loadAudio(a,!0,function(a,e,f){c&&c(null,e)})};
audio_loader={load:function(a,c,d,e){_audio_preload(c,e)}};cc.loader.register(["mp3","ogg","wav","mp4","m4a"],audio_loader);audio.getMusicVolume=function(){return this._musicVolume};audio.setMusicVolume=function(a){this._musicVolume=a;0==a?this.stopMusicWX():1==a&&this._currentMusicFile&&this.playMusic(this._currentMusicFile,this._currentMusicLoop)};audio.getSoundsVolume=function(){return this._soundsVolume};audio.setSoundsVolume=function(a){this._soundsVolume=a};audio.preloadMusic=function(a){audio_preload(a)};
audio.preloadMusics=function(a){audio_preload(a)};
audio.playMusic=function(a,c){this._currentMusicFile=a;this._currentMusicLoop=c;if(audio.enableMusic&&!this.isMusicMute()&&a!=this._currentLoadMusic){var d=this;console.log("isSaveToLocalDisk:",!0,cc.sys.os,cc.sys.OS_ANDROID);this._currentLoadMusic=a;wxResManager.loadAudio(a,!0,function(e,f,g){d._currentLoadMusic=null;e==a&&(d._currentMusicContext||(d._currentMusicContext=wx.createInnerAudioContext(),d._currentMusicContext.autoplay=!1),d._currentMusicContext.loop=!!c,d._currentMusicContext.src=f,
d._currentMusicContext.play(),d._isPlayingMusic=!0,d._isSopMusic=!1)})}};audio.stopMusicWX=function(a){this._currentMusicContext&&this._isPlayingMusic&&(this._currentMusicContext.stop(),this._isPlayingMusic=!1);this._isSopMusic=!0};audio.stopMusic=function(a){this.stopMusicWX();this._currentMusicFile=null};audio.pauseMusic=function(){this._currentMusicContext&&this._isPlayingMusic&&(console.log("audio.pauseMusic"),this._currentMusicContext.pause(),this._isPlayingMusic=!1)};
audio.resumeMusic=function(){this._isSopMusic||!this._currentMusicContext||this._isPlayingMusic||(console.log("audio.resumeMusic"),this._currentMusicContext.play(),this._isPlayingMusic=!0)};audio.isMusicPlaying=function(){return this._isPlayingMusic};
audio.playSound=function(a,c){if(this.enableSound&&!this.isSoundMute()){var d=this.getItemFromPool(a);if(d)d.used=!0,d.context.paused&&d.context.play();else if(!this._handledSound[a]){this._handledSound[a]=!0;var e=this;wxResManager.loadAudio(a,!0,function(a,c,d){e._playSound(a,c)})}}};audio._playSound=function(a,c){var d=this.getItemFromPool(a);d?(d.used=!0,d.context.paused&&d.context.play()):(d=this.getFreeAudioContextItem(),d.used=!0,context=d.context,context.src=c,context.play(),d.resUrl=a)};
audio.playEffect=audio.playSound;audio.pauseSound=function(a){console.log(a);console.error("audio.pauseSound")};audio.pauseEffect=audio.pauseSound;audio.pauseAllSounds=function(){console.error("audio.pauseAllSounds")};audio.resumeSound=function(a){console.log(a);console.error("audio.resumeSound")};audio.resumeAllSounds=function(a){console.error("audio.resumeAllSounds")};audio.stopSound=function(a){console.log(a);console.error("audio.stopSound")};audio.stopAllSounds=function(){};
audio.preloadSound=function(a){audio_preload(a)};audio.preloadSounds=function(a){audio_preload(filename)};audio.unloadSound=function(a){console.error("audio.unloadSound : "+a)};audio.setMusicMute=function(a){a?this.setMusicVolume(0):this.setMusicVolume(1)};audio.setSoundMute=function(a){a?this.setSoundsVolume(0):this.setSoundsVolume(1)};audio.isMusicMute=function(){return 0>=this.getMusicVolume()};audio.isSoundMute=function(){return 0>=this.getSoundsVolume()};audio.getCurrentMusicFile=function(){return this._currentMusicFile};
audio.playSoundEx=function(a,c){console.error("audio.playSoundEx")};audio.playMusicEx=function(a,c){console.error("audio.playMusicEx")};audio.setMusicVolumePersist=function(a){this.setMusicVolume(a);persist.setInt("music_volume",100*a)};audio.setSoundsVolumePersist=function(a){this.setSoundsVolume(a);persist.setInt("sound_volume",100*a)};audio.setMusicMutePersist=function(a){this.setMusicMute(a);persist.setBool("music_disable",a)};
audio.setSoundMutePersist=function(a){this.setSoundMute(a);persist.setBool("sound_disable",a)};audio.onInit();network={beginSyncGet:function(a){return networkManager.text31(a)},beginSyncPost:function(a,c){return networkManager.text32(a,c,string.len(c))},beginGet:function(a,c,d){!0!=d&&(d=!1);var e=cc.loader.getXMLHttpRequest();e.open("GET",a);e.setRequestHeader("Content-Type","Content-Type:application/octet-stream");e.timeout=3E4;e.onload=function(){c(!0,e.responseText,e.status)};e.onerror=function(){c(!1,null,e.status)};e.onabort=function(){c(!1,null,e.status)};e.ontimeout=function(){c(!1,null,e.status)};
e.send()},beginPost:function(a,c,d,e){!0!=e&&(e=!1);var f=cc.loader.getXMLHttpRequest();f.open("POST",a);f.setRequestHeader("Content-Type","Content-Type:application/octet-stream");f.timeout=3E4;f.onload=function(){d(!0,f.responseText,f.status)};f.onerror=function(){d(!1,null,f.status)};f.onabort=function(){d(!1,null,f.status)};f.ontimeout=function(){d(!1,null,f.status)};f.send(c)},beginEncryptGet:function(a,c,d){!0!=d&&(d=!1);this.beginGet(a,function(a,d,g){c(a,d&&network.encrypt(d),g)},d)},beginEncryptPost:function(a,
c,d,e){!0!=e&&(e=!1);this.beginPost(a,this.encrypt(c),function(a,c,e){d(a,c&&network.decrypt(c),e)},e)},randomStr:function(a){a=a||32;var c="";for(i=0;i<a;i++)c+="ABCDEFGHIJKMNPQRSTWXYZabcdefhijkmnprstwxyz012345678".charAt(Math.floor(51*Math.random()));return c},decrypt:function(a){var c=String(a).substr(0,16),c=CryptoJS.enc.Utf8.parse(c);a=CryptoJS.AES.decrypt(a.substring(16),c,{mode:CryptoJS.mode.ECB,padding:CryptoJS.pad.Pkcs7});return CryptoJS.enc.Utf8.stringify(a).toString()},encrypt:function(a){var c=
network.randomStr(16);key=CryptoJS.enc.Utf8.parse(c);a=CryptoJS.enc.Utf8.parse(a);a=CryptoJS.AES.encrypt(a,key,{mode:CryptoJS.mode.ECB,padding:CryptoJS.pad.Pkcs7});return c+a.toString()},download:function(a,c,d){this.beginGet(a,function(a,f){if("success"==a){var g=FileSysUtils.writeFileSafely(c,f,!0);d(g)}else d(!1)},!0)},downloadIfNotExist:function(a,c,d){FileSysUtils.isFileExist(c)?d(!0):this.download(a,c,d)},downloadListIfNotExist:function(a,c,d,e){for(var f=[],g=a.length,h=0,m=0,n=function(a){h+=
1;a&&(m+=1);h>=g&&(h==m?d(!0,f):d(!1,{}))},r=0;r<a.length;++r){var s=a[r],t=c+s.match("([^/]+)$");table.insert(f,t);e?this.download(s,t,n):this.downloadIfNotExist(s,t,n)}}};platform={isPlatformFuncExist:function(a,c){return platform[a]?!0:!1},copyToPasteBoard:function(a){}};resource={checkUpdate:function(a){a("ignoreUpdate",0,0)},startUpdate:function(a,c){},startDownload:function(a){},stopDownload:function(){},startSync:function(){},startModuleUpdate:function(a,c){},startModuleDownload:function(a){},stopModuleDownload:function(){},startModuleSync:function(){},removeModuleConfig:function(a){},getWritableDirPath:function(){},getExternalResPath:function(){},getExternalDownloadPath:function(){},getPhotoDirPath:function(){},getResVerCode:function(){return 0}};AchievementManager={achieveProgressDict:{},clientAchieveIdDict:{},onInit:function(){notification.registerEvent(this.onEvents,"event.ui.show",this);notification.registerEvent(this.onEvents,"event.ui.mapScrollTop",this);notification.registerEvent(this.onEvents,"event.ui.destroyFruit",this);notification.registerEvent(this.onEvents,"event.game.passGame",this);notification.registerEvent(this.onEvents,"event.ui.combo",this);notification.registerEvent(this.onEvents,"event.ui.customerEnter",this);notification.registerEvent(this.onEvents,
"event.game.thinkTime",this);notification.registerEvent(this.onEvents,"event.ui.rankInFriend",this);notification.registerEvent(this.onEvents,"event.server.addPet",this);notification.registerEvent(this.onEvents,"event.ui.collectGame",this)},onDestroy:function(){notification.unregisterEvent(this.onEvents)},addAchieveProgress:function(a,c){if(this.isAchieveRewarded(a))return!1;var d=MetaHelper.getAchieveMeta(a);if(!d)return!1;d=d.condition;c>d&&(c=d);var e=this.achieveProgressDict[a]||0;this.achieveProgressDict[a]=
c;c>=d&&e<d&&MetaHelper.isFuncUnlock(MenuItemTag.Menu_Tag_Task)&&(WorldMapUIController.post("showAchievementTip",a),notification.postEvent("event.ui.update"));return c!=e},processRespAchieves:function(a){if(a)for(var c=1;c<=a.length;c++){var d=a[c-1];this.addAchieveProgress(d.itemId,d.value)}},isAchieveRewarded:function(a){return null!=UserManager.achievesDict[a]},getAchieveRewardInfo:function(a){return UserManager.achievesDict[a]},getAchieveReadyCount:function(){var a=MetaHelper.achieveDict,c=0,
d;for(d in this.achieveProgressDict){var e=this.achieveProgressDict[d],f=a[d];f&&!1!=f.isOpen&&e>=f.condition&&!this.isAchieveRewarded(d)&&(c+=1)}return c},getAchieveReadyCountByTab:function(a){var c=MetaHelper.achieveDict,d=0,e;for(e in this.achieveProgressDict){var f=this.achieveProgressDict[e],g=c[e];g&&!1!=g.isOpen&&g.tab==a&&f>=g.condition&&!this.isAchieveRewarded(e)&&(d+=1)}return d},getAchieveProgress:function(a){var c=MetaHelper.getAchieveMeta(a);if(!c)return[0,0];a=this.achieveProgressDict[a];
return[a||0,c.condition]},isAchieveCompleted:function(a){a=this.getAchieveProgress(a);return a[0]>=a[1]},onEvents:function(a,c){var d=this,e=function(a,c,e){if(!d.isAchieveRewarded(a)){var f=!1;(f=e?d.addAchieveProgress(a,c):d.addAchieveProgress(a,(d.achieveProgressDict[a]||0)+c))&&(d.clientAchieveIdDict[a]=!0)}};if("event.ui.show"==a)"ShopController"==c?e(1090,1):"GameTipsController"==c&&e(1091,1);else if("event.game.passGame"==a){0==c.leftMove&&e(1094,1);11==c.level&&e(1092,1);20<=c.level&&5>=c.move&&
e(1093,1);8E4<=c.score&&MetaHelper.global.hardLevel[c.level]&&e(1101,1);var f=UserManager.getTotalStarByLevelRange(1,20);e(1074,f,!0);f=UserManager.getTotalStarByLevelRange(21,40);e(1076,f,!0);f=UserManager.getTotalStarByLevelRange(41,60);e(1078,f,!0);f=UserManager.getTotalStarByLevelRange(61,80);e(1080,f,!0);f=UserManager.getTotalStarByLevelRange(81,100);e(1082,f,!0);f=UserManager.getTotalStarByLevelRange(101,120);e(1084,f,!0);f=UserManager.getTotalStarByLevelRange(121,140);e(1086,f,!0);f=UserManager.getTotalStarByLevelRange(141,
160);e(1087,f,!0);f=UserManager.getTotalStarByLevelRange(161,180);e(1088,f,!0);f=UserManager.getTotalStarByLevelRange(181,200);e(1123,f,!0)}else if("event.ui.combo"==a)10<=c&&e(1095,1),20<=c&&e(1096,1),30<=c&&e(1097,1);else if("event.ui.customerEnter"==a)"penguin"==c&&e(1098,1),"monkey"==c&&e(1099,1);else if("event.game.thinkTime"==a)10<=c&&e(1100,1);else if("event.ui.collectGame"==a)e(1089,1);else if("event.ui.mapScrollTop"==a)e(1025,1);else if("event.ui.rankInFriend"==a)15<=UserManager.getFriendCount()&&
3>=c.rank&&e(1121,1),25<=UserManager.getFriendCount()&&1==c.rank&&e(1122,1);else if("event.ui.destroyFruit"==a){var f=c.subType,g=c.addValue;1==f?(e(1108,g),e(1109,g),e(1110,g)):2==f?(e(1114,g),e(1115,g),e(1116,g)):3==f?(e(1117,g),e(1118,g),e(1119,g)):4==f?(e(1105,g),e(1106,g),e(1107,g)):5==f?(e(1102,g),e(1103,g),e(1104,g)):6==f&&(e(1111,g),e(1112,g),e(1113,g))}else"event.server.addPet"==a&&(f=UserManager.getPetCount(),e(32,f,!0),e(33,f,!0),e(34,f,!0),UserManager.hasPet(20003)&&e(37,1),UserManager.hasPet(20004)&&
e(35,1),UserManager.hasPet(20005)&&e(36,1))},getClientAchieveList:function(){var a=[],c;for(c in this.achieveProgressDict){var d=this.achieveProgressDict[c];this.clientAchieveIdDict[c]&&0<d&&table.insert(a,{itemId:parseInt(c),value:parseInt(d)})}return a},clearClientAchieveList:function(){this.clientAchieveIdDict={}}};AchievementManager.onInit();EffectHelper={};var dialogFadeTime=0.4;EffectHelper.getRelativePos=function(a,c){var d=a.getParent();if(c){if(c instanceof cc.Node){var e=c.getPosition(),e=c.getParent().convertToWorldSpace(e);return d.convertToNodeSpace(e)}return d.convertToNodeSpace(c)}return a.getPosition()};
EffectHelper.dialogPopOut=function(a,c,d){var e=a.nodeDialog,f=a.layerBg;f&&(CCNodeUtils.setSpriteOpacity(f,0),f.runAction(CETreeFadeTo.create(dialogFadeTime,180)));f=e.getScale();e.setScale(0);f=cc.scaleTo(0.2,f).easing(cc.easeBackOut());c&&(f=cc.sequence(f,cc.callFunc(c)));e.runAction(f);!d&&a.back&&a.registerScriptTouchHandler(function(c,d,f){"began"==c&&(e.containWorldPoint(d,f)||a.back());return!0},!1,0,!0)};EffectHelper.dialogPopIn=function(a){a.hide()};
EffectHelper.dialogLeftShow=function(a,c,d){var e=a.nodeDialog,f=a.layerBg;f&&(CCNodeUtils.setSpriteOpacity(f,0),f.runAction(CETreeFadeTo.create(dialogFadeTime,180)));f=e.getPosition();e.setPositionX(0);f=cc.moveTo(dialogFadeTime,f).easing(cc.easeBackOut());c&&(f=cc.sequence(f,cc.callFunc(c)));e.runAction(f);!d&&a.back&&a.registerScriptTouchHandler(function(c,d,f){"began"==c&&(e.containWorldPoint(d,f)||a.back());return!0},!1,0,!0);audio.playSound(GameMusicType.kPopupOpen)};
EffectHelper.dialogLeftHide=function(a){a.hide()};EffectHelper.shakeLightly=function(a){if(a){var c=[];c.push(cc.scaleTo(0.15,0.98,1.04));c.push(cc.scaleTo(0.15,1,1));c.push(cc.scaleTo(0.15,0.98,1.04));c.push(cc.scaleTo(0.15,1*a.getScale(),1*a.getScale()));c=cc.sequence(c);a.runAction(c)}};EffectHelper.setNodeGray=function(a){a&&a.setShaderProgramByKey&&a.setShaderProgramByKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR_GRAY)};
EffectHelper.flyRewardUp=function(a,c,d,e){c=this.getRelativePos(a,c);a.setPosition(c.x,c.y);e=0.6+(e||0);c=cc.moveBy(e,ccp(0,0.95*a.getContentHeight())).easing(cc.easeBackOut());a.runAction(c);c=[];c.push(cc.scaleTo(0.3,1));a.setScale(0);a.runAction(cc.sequence(c));c=[];c.push(cc.fadeIn(0.3));c.push(cc.delayTime(0.5+e-0.3));c.push(cc.fadeOut(0.2));c.push(cc.hide(!0));a.setOpacity(0);a.runAction(cc.sequence(c))};
EffectHelper.flyAndScalAnim=function(a,c,d,e){c=this.getRelativePos(a,c);var f=this.getRelativePos(a,d);d=[];var g=Math.abs(f.x-c.x)/2+Math.min(f.x,c.x);d[0]=ccp(c.x,c.y);d[1]=ccp(g,f.y+100);d[2]=f;a.setPosition(c.x,c.y);c=a.getScale();a.setScale(0.8*c);c=cc.spawn(cc.bezierTo(0.6,d),cc.sequence(cc.scaleTo(0.4,1.2*c),cc.scaleTo(0.2,c)));e?a.runAction(cc.sequence(c,cc.callFunc(e),cc.hide(!0))):a.runAction(cc.sequence(c,cc.hide(!0)))};
EffectHelper.flyAndScalAnim2=function(a,c,d,e){c=this.getRelativePos(a,c);d=this.getRelativePos(a,d);a.setPosition(c.x,c.y);d=cc.moveTo(0.5,d).easing(cc.easeSineOut());a.runAction(cc.scaleTo(0.5,0));e?(c=[],c.push(d),c.push(cc.callFunc(e)),c.push(cc.hide(!0)),a.runAction(cc.sequence(c))):a.runAction(cc.sequence(d,cc.hide(!0)))};
EffectHelper.flyAnim1=function(a,c,d,e){c=this.getRelativePos(a,c);d=this.getRelativePos(a,d);a.setPosition(c.x,c.y);d=cc.moveTo(0.5,d).easing(cc.easeSineOut());e?a.runAction(cc.sequence(d,cc.callFunc(e))):a.runAction(cc.sequence(d,cc.hide(!0)))};
EffectHelper.flyToTargetAnim=function(a,c,d,e){c=this.getRelativePos(a,c);d=this.getRelativePos(a,d);a.setPosition(c.x,c.y);c=[];c.push(cc.delayTime(0.6));c.push(cc.moveTo(0.5,d).easing(cc.easeExponentialOut()));c.push(cc.delayTime(0.2));e&&c.push(cc.callFunc(e));a.runAction(cc.sequence(c));e=cc.moveBy(0.6,ccp(0,0.75*a.getContentHeight())).easing(cc.easeBackOut());a.runAction(e);a.setScale(0);a.runAction(cc.scaleTo(0.3,UI_SCREEN_SCALE))};
EffectHelper.flyRewardAnim=function(a,c,d,e,f){c=this.getRelativePos(a,c);d=this.getRelativePos(a,d);a.setPosition(c.x,c.y);f=0.6+(f||0);c=[];c.push(cc.delayTime(f));c.push(cc.moveTo(0.5,d).easing(cc.easeExponentialOut()));c.push(cc.delayTime(0.2));e&&c.push(cc.callFunc(e));c.push(cc.hide(!0));a.runAction(cc.sequence(c));e=cc.moveBy(f,ccp(0,0.75*a.getContentHeight())).easing(cc.easeBackOut());a.runAction(e);e=a.getScale();c=[];c.push(cc.scaleTo(0.3,e));c.push(cc.delayTime(0.5+f-0.3));c.push(cc.scaleTo(0.2,
0));a.setScale(0);a.runAction(cc.sequence(c));c=[];c.push(cc.fadeIn(0.3));c.push(cc.delayTime(0.5+f-0.3));c.push(cc.fadeOut(0.2));a.setOpacity(0);a.runAction(cc.sequence(c))};
EffectHelper.itemFlyToUIAnim=function(a,c,d,e,f,g,h){var m=GameDirector.getCurrentSceneName();if("WorldMap"==m||"Shop"==m||h){c=GameIconHelper.getIconFrameName(a,c);c=cc.Sprite.createWithSpriteFrameName("#"+c);e=e||GameDirector.getRunningScene();e.addChild(c);a=ServerProxy.getItemType(a);var n;nodeTarget=WorldMapUIController.btnBag;a==ItemType.DIAMOND?nodeTarget=WorldMapUIController.iconGem:a==ItemType.COIN?nodeTarget=WorldMapUIController.iconCoin:a==ItemType.ENERGY||a==ItemType.UNLIMIT_ENERGY?nodeTarget=
WorldMapUIController.iconEnergy:a==ItemType.EQUIP||a==ItemType.BELL||a==ItemType.LOTTERY_CARD?nodeTarget=WorldMapUIController.btnPet:a==ItemType.HEAD_BORDER?nodeTarget=WorldMapUIController.btnFriend:a==ItemType.ACTIVE?nodeTarget=WorldMapUIController.btnTask:n=GameMusicType.kAddItem;d=d||ccp(0.5*display.width,0.5*display.height);this.flyRewardAnim(c,d,h||nodeTarget,function(){n&&audio.playSound(n);f&&f()},g)}else f&&f()};
EffectHelper.itemFlyUp=function(a,c,d,e,f,g){a=GameIconHelper.getIconFrameName(a,c);a=cc.Sprite.createWithSpriteFrameName("#"+a);e=e||GameDirector.getRunningScene();e.addChild(a);audio.playSound(GameMusicType.kAddItem);this.flyRewardUp(a,d,function(){f&&f()},g)};EffectHelper.treeFadeIn=function(a,c){CCNodeUtils.setSpriteOpacity(a,0);var d=CETreeFadeTo.create(0.5,255);c&&(d=cc.sequence(d,cc.callFunc(c)));a.runAction(d)};
EffectHelper.dropItem=function(a,c,d,e,f){var g=Math.random2(-100,100)*display.width*0.001,h=0.1*display.height,m=0.6;d>e&&(m=0.0012*(d-e),0.5>m&&(m=0.5));d=cc.jumpTo(m,ccp(c+g,e),h,1);m=cc.jumpTo(0.4,ccp(c+1.2*g,e),0.6*h,1);c=cc.jumpTo(0.2,ccp(c+1.4*g,e),0.2*h,1);e=[];e.push(d);e.push(m);e.push(c);e.push(cc.delayTime(5));f&&e.push(cc.callFunc(f));a.runAction(cc.sequence(e))};
EffectHelper.turnOver=function(a,c,d){var e=[];e.push(cc.delayTime(0.2));e.push(cc.show());e.push(cc.orbitCamera(0.2,1,0,270,90,0,0));d&&e.push(cc.callFunc(d));d=[];d.push(cc.orbitCamera(0.2,1,0,0,90,0,0));d.push(cc.hide());d.push(cc.delayTime(0.2));a.runAction(cc.sequence(e));c.runAction(cc.sequence(d))};
EffectHelper.jellyShake=function(a,c,d,e,f){if(a){c=c||1;d=d||1;var g=null,g=1.1*c,h=0.93*c,m=[];if(f&&0<f){for(var n=1;n<=f;++n)m.push(cc.delayTime(d)),m.push(cc.scaleTo(0.15,g,h)),m.push(cc.scaleTo(0.15,c,c)),m.push(cc.scaleTo(0.15,g,h)),m.push(cc.scaleTo(0.15,c,c));m.push(cc.callFunc(e));g=cc.sequence(m)}else m.push(cc.delayTime(d)),m.push(cc.scaleTo(0.15,g,h)),m.push(cc.scaleTo(0.15,c,c)),m.push(cc.scaleTo(0.15,g,h)),m.push(cc.scaleTo(0.15,c,c)),g=cc.repeatForever(cc.sequence(m));a.runAction(g)}};
EffectHelper.jellyShakeSlow=function(a,c,d,e,f){if(a){c=c?ccp(c,c):ccp(a.getScaleX()||1,a.getScaleY()||1);d=d||1;var g=null,g=[];if(f&&0<f){for(var h=1;h<=f;++h)g.push(cc.delayTime(d)),g.push(cc.scaleTo(0.4,1.02*c.x,1.02*c.y)),g.push(cc.scaleTo(0.43,1.04*c.x,c.y)),g.push(cc.scaleTo(0.43,1.02*c.x,0.98*c.y)),g.push(cc.scaleTo(0.4,c.x,c.y));g.push(cc.callFunc(e));g=cc.sequence(g)}else g.push(cc.delayTime(d)),g.push(cc.scaleTo(0.4,1.02*c.x,1.02*c.y)),g.push(cc.scaleTo(0.43,1.04*c.x,c.y)),g.push(cc.scaleTo(0.43,
1.02*c.x,0.98*c.y)),g.push(cc.scaleTo(0.4,c.x,c.y)),g=cc.repeatForever(cc.sequence(g));a.runAction(g)}};EffectHelper.jellyMoveSlow=function(a,c,d,e){if(a){c=c||ccp(0,1);d=d||1;var f=[];f.push(cc.delayTime(void 0===e?1:e));f.push(cc.moveBy(0.4*d,2*c.x,2*c.y));f.push(cc.moveBy(0.43*d,-2*c.x,-2*c.y));f.push(cc.moveBy(0.43*d,2*c.x,2*c.y));f.push(cc.moveBy(0.4*d,-2*c.x,-2*c.y));c=cc.repeatForever(cc.sequence(f));a.runAction(c)}};
EffectHelper.jellyJump=function(a,c){var d=a.getPosition(),e=d.x,d=d.y,f=[],g=c?c.x||c:1,h=c?c.y||c:1;f.push(cc.scaleTo(0,1*g,1*h));f.push(cc.scaleTo(0.1,1.09*g,0.68*h));f.push(cc.scaleTo(0.07,1.09*g,0.75*h));f.push(cc.scaleTo(0.03,0.76*g,1.23*h));f.push(cc.scaleTo(0.1,0.83*g,1.17*h));f.push(cc.scaleTo(0.1,1.09*g,0.68*h));f.push(cc.scaleTo(0.1,0.9*g,1.13*h));f.push(cc.scaleTo(0.07,1.05*g,0.96*h));f.push(cc.scaleTo(0.07,0.95*g,1.04*h));f.push(cc.scaleTo(0.07,1*g,1*h));f.push(cc.scaleTo(1.13,1*g,1*
h));g=[];g.push(cc.moveTo(0.2,ccp(e,d)));g.push(cc.moveTo(0.1,ccp(e,d+20.29)));g.push(cc.moveTo(0.1,ccp(e,d)));a.runAction(cc.repeatForever(cc.spawn(cc.sequence(f),cc.sequence(g))))};
EffectHelper.jellyJump2=function(a){var c=a.getPosition(),d=[];d.push(cc.scaleTo(0,1.05,0.97));d.push(cc.scaleTo(0.13,0.96,1.04));d.push(cc.scaleTo(0.13,1.05,0.97));d.push(cc.scaleTo(0.13,0.96,1.04));d.push(cc.scaleTo(0.13,1.06,0.96));d.push(cc.scaleTo(0.23,1,1));d.push(cc.scaleTo(1.23,1,1));var e=[];e.push(cc.moveTo(0,ccp(void 0,c)));e.push(cc.moveTo(0.13,ccp(void 0,c+5.13)));e.push(cc.moveTo(0.13,ccp(void 0,c)));e.push(cc.moveTo(0.13,ccp(void 0,c+5.13)));e.push(cc.moveTo(0.13,ccp(void 0,c)));e.push(cc.moveTo(0.23,
ccp(void 0,c)));a.runAction(cc.repeatForever(cc.spawn(cc.sequence(d),cc.sequence(e))))};EffectHelper.paperShake=function(a,c){if(a){var d=[];d.push(cc.delayTime(1+3*(c||0)));d.push(cc.scaleTo(0.15,0.98,1.04));d.push(cc.scaleTo(0.15,1,1));d.push(cc.scaleTo(0.15,0.98,1.04));d.push(cc.scaleTo(0.15,1,1));d.push(cc.delayTime(4-3*(c||0)));d=cc.repeatForever(cc.sequence(d));a.runAction(d)}};
EffectHelper.buttonCloseShow=function(a,c,d){var e=1/30,f=[];0<c&&f.push(cc.delayTime(c));f.push(cc.scaleTo(0,0.3,0.4));f.push(cc.scaleTo(3*e,1.45,1.03));f.push(cc.scaleTo(2*e,0.85,0.95));f.push(cc.scaleTo(2*e,1.1,1.05));f.push(cc.scaleTo(2*e,0.9,1));f.push(cc.scaleTo(2*e,1,1));d&&f.push(cc.callFunc(d));a.runAction(cc.sequence(f))};
EffectHelper.buttonStartShow=function(a,c,d){var e=1/30,f=[];0<c&&f.push(cc.delayTime(c));f.push(cc.scaleTo(0,0.25,0.77));f.push(cc.scaleTo(4*e,1.22,0.91));f.push(cc.scaleTo(2*e,0.95,0.97));f.push(cc.scaleTo(2*e,1.1,1.02));f.push(cc.scaleTo(2*e,0.96,0.98));f.push(cc.scaleTo(2*e,1,1));f.push(cc.callFunc(function(){d&&d();EffectHelper.jellyShakeSlow(a,1,0)}));a.runAction(cc.sequence(f))};
EffectHelper.starFalling=function(a,c,d,e,f){c=this.getRelativePos(a,c);d&&a.setPositionY(c.y+d);e?a.runAction(cc.sequence(cc.delayTime(e),cc.moveTo(0.2,c))):a.runAction(cc.moveTo(0.2,c));d=[];e&&d.push(cc.delayTime(e));d.push(cc.scaleTo(0.2,1,1.2));d.push(cc.scaleTo(0.1,1,0.9));d.push(cc.scaleTo(0.1,1,1.2));d.push(cc.scaleTo(0.1,1,1));f&&d.push(cc.callFunc(f));a.runAction(cc.sequence(d))};
EffectHelper.starFalling2=function(a,c,d){var e=[];c&&(e.push(cc.delayTime(c)),a.setVisible(!1));a.setScale(4);e.push(cc.show());e.push(cc.scaleTo(0.15,1));e.push(cc.scaleTo(0.1,1.2));e.push(cc.scaleTo(0.2,1));d&&e.push(cc.callFunc(d));a.runAction(cc.sequence(e))};
EffectHelper.starFalling3=function(a,c,d){var e=[];c&&(e.push(cc.delayTime(c)),a.setVisible(!1));a.setScale(2);e.push(cc.show());e.push(cc.scaleTo(0.15,0.5));e.push(cc.scaleTo(0.1,0.7));e.push(cc.scaleTo(0.2,0.5));d&&e.push(cc.callFunc(d));a.runAction(cc.sequence(e))};
EffectHelper.boomShake=function(a,c){c=c||1;var d=a.getPositionX(),e=a.getPositionY(),f=[];f.push(cc.moveTo(0.04,d+8*c,e+2*c));f.push(cc.moveTo(0.04,d-3*c,e+6*c));f.push(cc.moveTo(0.04,d+5*c,e+4*c));f.push(cc.moveTo(0.04,d+3*c,e-3*c));f.push(cc.moveTo(0.04,d-3*c,e+5*c));f.push(cc.moveTo(0.04,d-7*c,e-4*c));f.push(cc.moveTo(0.04,d+5*c,e-7*c));f.push(cc.moveTo(0.04,d,e));d=cc.sequence(f);a.runAction(d)};
EffectHelper.rotateSelf=function(a,c,d,e){var f=[];d=d||1;c&&f.push(cc.delayTime(c));f.push(cc.rotateTo(0.25,15*d));f.push(cc.rotateTo(0.25,-13*d));f.push(cc.rotateTo(0.25,0));e&&f.push(e);a.runAction(cc.sequence(f))};
EffectHelper.buildRingsEffectNode=function(){var a=cc.Node.create(),c=cc.Sprite.createWithSpriteFrameName("cmn_white_ring.png"),d=cc.Sprite.createWithSpriteFrameName("cmn_white_ring.png");a.addChild(c);a.addChild(d);var e=function(a,c){a.runAction(cc.repeatForever(cc.sequence(cc.delayTime(c),cc.fadeTo(0,255),cc.fadeTo(0.6,0).easing(cc.easeSineIn()),cc.delayTime(1-c))));a.runAction(cc.repeatForever(cc.sequence(cc.delayTime(c),cc.scaleTo(0,1),cc.scaleTo(0.6,2.5).easing(cc.easeSineIn()),cc.delayTime(1-
c))))};e(c,0);e(d,0.23);return a};EffectHelper.starAction=function(a){var c=Math.random(),d=[],e=cc.spawn(cc.fadeOut(1+c),cc.scaleTo(1+c,1.06)),c=cc.spawn(cc.fadeIn(1+c),cc.scaleTo(1+c,1));d.push(e);d.push(c);a.runAction(cc.repeatForever(cc.sequence(d)))};SnsHelper={};var FBInstantManager=FBInstantManager||{},GoMoManager=GoMoManager||{};FBInstantManager.isOpen=GoMoManager.isOpen=function(){return!1};SnsHelper.onInit=function(){};SnsHelper.checkSNSLogin=function(){return FBInstantManager.isOpen()?"fb_h5":GoMoManager.isOpen()?"fb_go":TencentSdkManager.isOpen()?TencentSdkManager.getLoginType():"pro"};SnsHelper.loginSNS=function(a,c){GoMoManager.isOpen()?GoMoManager.fbLogin():c&&c(!1)};SnsHelper.logoutSNS=function(a){a&&a(!1)};
SnsHelper.getToken=function(){return TencentSdkManager.isOpen()?TencentSdkManager.getToken():GoMoManager.isOpen()?GoMoManager.getToken():null};SnsHelper.getOpenId=function(){return TencentSdkManager.isOpen()?TencentSdkManager.getOpenId():GoMoManager.isOpen()?GoMoManager.getOpenId():FBInstantManager.isOpen()?FBInstantManager.getOpenId():null};
SnsHelper.getSNSNick=function(){return TencentSdkManager.isOpen()?TencentSdkManager.getNickName():FBInstantManager.isOpen()?FBInstantManager.getName():GoMoManager.isOpen()?GoMoManager.getName():null};SnsHelper.getSNSHeadUrl=function(){return TencentSdkManager.isOpen()?TencentSdkManager.getHeadUrl():FBInstantManager.isOpen()?FBInstantManager.getPhoto():GoMoManager.isOpen()?GoMoManager.getPhoto():null};SnsHelper.shareSNSFeed=function(a,c,d,e){};SnsHelper.shareSNSPhoto=function(a){};
SnsHelper.inviteQQFriend=function(a){TencentSdkManager.txsdkLog("SnsHelper.inviteQQFriend")};SnsHelper.inviteFriend=function(a,c,d){};SnsHelper.getFeedbackEmail=function(){return FBInstantManager.isOpen()?"Email:\nyummymsg@gmail.com\nFans Page:\nhttp://facebook.com/yummygame":GoMoManager.isOpen()?"Email:\nyohoclotdev@gmail.com":null};SnsHelper.isClosePay=function(){return MetaHelper.isEnable("closePay")||!TencentSdkManager.isOpen()&&(FBInstantManager.isOpen()||GoMoManager.isOpen())?!0:!1};
SnsHelper.clearLoginInfo=function(){TencentSdkManager.isOpen()&&TencentSdkManager.failCheckLoginCallback()};DebugFlag=!1;OsPlatform=Cocos2dxPlatformUtils.getPlatformName();OsCategory=Cocos2dxPlatformUtils.getPlatformCategoryName();VerCode=Cocos2dxPlatformUtils.getVersionCode();VerName=Cocos2dxPlatformUtils.getVersionName();ChanelName=Cocos2dxPlatformUtils.getChannelName();IsJailBreak=Cocos2dxPlatformUtils.isJailbreak();DeviceUDID=Cocos2dxPlatformUtils.getUDID();DeviceName=Cocos2dxPlatformUtils.getDeviceName();OsVersion=Cocos2dxPlatformUtils.getOsVersion();DeviceLan=Cocos2dxPlatformUtils.getLanguageName();
DeviceRegion=Cocos2dxPlatformUtils.getLocationName();DeviceRegionLan=Cocos2dxPlatformUtils.getRegionLanguageName();ProjectName="unknown";var param=window.__ciparam;param&&param.prj&&(ProjectName=param.prj);LayerZOrderTable={QueryLayer:1040,TipLayer:1050,TutorialLayer:1060,TargetLayer:1061,WaitingLayer:1070,ReloginLayer:1080,FlashLayer:1090,ResUpdateLayer:1100,PageAdLayer:1110};
GAME_SERVER_VERSION_QQ=GAME_SERVER_VERSION_XCX=GAME_SERVER_SDK_QQ=GAME_SERVER_SDK_XCX=GAME_SERVER_VERSION=GAME_SERVER_URL="http://192.168.2.185:9090";GAME_SERVER_PLATFORM=null;ModelManager={gameMeta:null,gameData:null,remoteCfg:{},configLoadListener:[],remoteCfgLoadListener:[],dataLoadListener:[],dataSaveListener:[],loadLocalModel:function(){return this.loadLocalConfigModel()&&this.loadLocalDataModel()?!0:!1},saveLocalData:function(){},loadLocalModelById:function(){var a=this.gameData.userData.uid;if(a){if(a=persist.getObject(a))this.gameData.taskLocal=a.taskLocal||[],this.gameData.iconTurns=a.iconTurns||[],this.gameData.kitchenGodLevels=a.kitchenGodLevels||[],this.gameData.zeroTime=
a.zeroTime||0;a=MetaHelper.getSecAtZeroOClock();this.gameData.zeroTime&&this.gameData.zeroTime==a||(this.gameData.zeroTime=a,this.gameData.iconTurns=[])}},saveLocalDataById:function(){var a=this.gameData.userData.uid;if(a){var c={};c.taskLocal=this.gameData.taskLocal;c.iconTurns=this.gameData.iconTurns;c.kitchenGodLevels=this.gameData.kitchenGodLevels;c.zeroTime=this.gameData.zeroTime;persist.setObject(a,c)}},loadLocalDataModel:function(){var a=DeviceUDID,a={udid:a,userData:{uid:0,sex:0,uuid:a,topLevelId:1,
uTime:1E3*TimeUtils.time(),coin:0,diamond:0,energy:0,mainPet:20001,pets:[{id:20001}],car:30001,cars:[30001],dailyData:{},mark:{},achieves:[],timeLevelInfo:{}},taskLocal:[],iconTurns:[],kitchenGodLevels:[],serverTs:0,zeroTime:0};this.updateDataModel(a);return!0},loadLocalConfigModel:function(a){if(null==a)return loge("parse meta from package failed!"),!1;logi("package meta ver: "+a.metaVer);logi("load game meta ok");this.updateConfigModel(a);return!0},updateConfigModel:function(a){this.gameMeta=a;
for(a=0;a<this.configLoadListener.length;++a)(0,this.configLoadListener[a])(this.gameMeta)},initDefaultField:function(a){a.popcorn=a.popcorn||0;a.friendIds=a.friendIds||[];a.props=a.props||[];a.timeProps=a.timeProps||[];a.scores=a.scores||[];a.requestInfos=a.requestInfos||[];a.inviteUsers=a.inviteUsers||[];a.unLockFriendInfos=a.unLockFriendInfos||[];a.energyPlusPermanentIds=a.energyPlusPermanentIds||[];a.friendRewards=a.friendRewards||[];a.buyGiftsRecord=a.buyGiftsRecord||[];a.Parts=a.Parts||[];a.pets=
a.pets||[];a.taskList=a.taskList||[];a.equipIds=a.equipIds||[];a.monthGifts=a.monthGifts||[];a.dailyData=a.dailyData||[];a.achieves=a.achieves||[];a.timeLevelInfo=a.timeLevelInfo||{};a.mark.markNums=a.mark.markNums||[];a.dailyData.wantIds=a.dailyData.wantIds||[];a.dailyData.sendIds=a.dailyData.sendIds||[];a.dailyData.buyedGoodsInfo=a.dailyData.buyedGoodsInfo||[];a.dailyData.unLockLevelAreaFriends=a.dailyData.unLockLevelAreaFriends||[];a.dailyData.videoLimits=a.dailyData.videoLimits||[];a.dailyData.lovePetFriends=
a.dailyData.lovePetFriends||[];a.dailyData.receiveGiftCount=a.dailyData.receiveGiftCount||0;a.dailyData.loveFriends=a.dailyData.loveFriends||[];a.cashChangeMap=a.cashChangeMap||[];a.dailyData.inviteShareRewardGeted=a.dailyData.dayShare||0;a.inviteRewardStatus=a.inviteRewardStatus||0},updateDataModel:function(a){this.gameData=a;this.initDefaultField(a.userData);this.remoteCfg=JSON.parse(a.remoteCfg||"{}");for(a=0;a<this.dataLoadListener.length;++a)this.dataLoadListener[a]();for(a=0;a<this.remoteCfgLoadListener.length;++a)this.remoteCfgLoadListener[a](this.remoteCfg)},
updateUserModel:function(a){logTraceFunc("ModelManager","updateUserModel",a);this.initDefaultField(a);this.gameData.userData=a;this.loadLocalModelById();for(a=0;a<this.dataLoadListener.length;++a)this.dataLoadListener[a]()},updateRemoteCfg:function(a){try{var c=a&&JSON.parse(a);if(this.gameData&&c){for(var d in c)this.remoteCfg[d]=c[d];for(a=0;a<this.remoteCfgLoadListener.length;++a)this.remoteCfgLoadListener[a](this.remoteCfg)}else loge("updateRemoteCfg failed")}catch(e){loge("updateRemoteCfg failed!")}},
syncDataModel:function(){for(var a=0;a<this.dataSaveListener.length;++a)this.dataSaveListener[a]()},saveLocalDataModel:function(){logTraceFunc("ModelManager","saveLocalDataModel")},deleteLocalDataModel:function(){logTraceFunc("ModelManager","deleteLocalDataModel")},deleteAndReloadLocalDataModel:function(){this.deleteLocalDataModel();this.loadLocalDataModel()},saveLocalConfig:function(a){logTraceFunc("ModelManager","saveLocalConfig")},registerConfigLoadListener:function(a){table.insert(this.configLoadListener,
a)},registerRemoteCfgLoadListener:function(a){table.insert(this.remoteCfgLoadListener,a)},registerDataLoadListener:function(a){table.insert(this.dataLoadListener,a)},registerDataSaveListener:function(a){table.insert(this.dataSaveListener,a)},unregisterConfigLoadListener:function(a){table.removeValue(this.configLoadListener,a)},unregisterRemoteCfgLoadListener:function(a){table.removeValue(this.remoteCfgLoadListener,a)},unregisterDataLoadListener:function(a){table.removeValue(this.dataLoadListener,
a)},unregisterDataSaveListener:function(a){table.removeValue(this.dataSaveListener,a)}};CacheHelper={levelFailedTimes:{},cacheLevelTime:3600,lastCacheLevelTs:0,levelFriends:[],worldRankRange:100,lastCacheWorldRankTs:0,levelWorldRank:[],levelWorldMaxRank:[],levelWorldPostMap:[],needUpdateWorldRankMap:{},myLevelWorldRankDic:{},cacheUserTime:1800,lastCacheUserTs:0,userInfoMap:{},friendInfoListByLevel:[],cacheAssistBoardUserTime:1800,lastCacheAssistBoardUserTs:0,restRewardCount:0,assistBoardFriendIds:{},assistBoardUserInfoList:{},shareKitGetedIds:{},assistBoardUserInfoMap:{},assistBoardFriendInfoListByLevel:{},
inviteRewardNUm:0,cacheActivityTime:900,lastCacheActivityTs:0,activityInfo:null,luckyKitDropIdx:0,luckyKitRewards:[],addLevelFailedTimes:function(a,c){this.levelFailedTimes[a]=(this.levelFailedTimes[a]||0)+(c||1)},clearLevelFailedTimes:function(a){this.levelFailedTimes[a]=null},getLevelFailedTimes:function(a){return this.levelFailedTimes[a]||0},isCacheAssistBoardUserInfo:function(){return os.time()-this.lastCacheAssistBoardUserTs<this.cacheAssistBoardUserTime?!0:!1},getAssistBoardUserInfo:function(a){if(this.isCacheAssistBoardUserInfo())return this.assistBoardUserInfoMap[a]},
getAssistBoardUserInfoList:function(){return this.assistBoardUserInfoList},getAssistBoardFriendCount:function(){return 30<this.assistBoardUserInfoList.length?30:this.assistBoardUserInfoList.length},getRestRewardTicketCount:function(){return this.restRewardCount},setRestRewardTicketCount:function(){this.restRewardCount-=1},getShareKitGetedIds:function(){return this.shareKitGetedIds},getInviteRewardNum:function(){if(30<this.assistBoardUserInfoList.length)return 0;for(var a=0,c=0;c<this.assistBoardUserInfoList.length;c++)1==
(this.assistBoardUserInfoList[c]||[]).status&&a++;return 0<a?a:this.inviteRewardNUm},getAndCacheAssistBoardFiendsInfo:function(a,c,d){this.isCacheAssistBoardUserInfo()&&!d?c(0,this.assistBoardFriendInfoListByLevel):this.requestAssistBoardFiends(a,c)},requestAssistBoardFiends:function(a,c){var d=this;HttpHelper.getShareKitInfo(a,function(a,f){if(0==a){d.lastCacheAssistBoardUserTs=os.time();d.restRewardCount=f.restInviteCount;d.assistBoardFriendIds=f.fids||[];d.shareKitGetedIds=f.rewardIds||[];d.assistBoardUserInfoList=
[];for(var g=0;g<d.assistBoardFriendIds.length;g++){var h=CacheHelper.getUserInfoWithDefault(d.assistBoardFriendIds[g]);h.status=f.rstatus[g]||2;table.insert(d.assistBoardUserInfoList,h)}d.assistBoardUserInfoMap=[];d.assistBoardUserInfoMap=table.listToMap(d.assistBoardUserInfoList,"playerId");d.assistBoardFriendInfoListByLevel=[];for(g=0;g<d.assistBoardUserInfoList.length;g++)d.assistBoardFriendInfoListByLevel[g]=d.assistBoardUserInfoList[g];table.sort(d.assistBoardFriendInfoListByLevel,function(a,
c){return a.status<c.status});c(a,d.assistBoardUserInfoList)}else c(a)})},isCacheUserInfo:function(){return TimeUtils.time()-this.lastCacheUserTs<this.cacheUserTime?!0:!1},getUserInfo:function(a){if(this.isCacheUserInfo())return this.userInfoMap[a]},getUserNick:function(a){if(this.isCacheUserInfo()){var c=this.userInfoMap[a];if(c)return c.name}return tostring(a)},getUserInfoWithDefault:function(a){if(UserManager.getPlayerId()==a)return{playerId:a,name:TextTable.t_me,headUrl:UserManager.getHeadUrl(),
star:UserManager.getUserData().star,topLevelId:UserManager.getTopLevel(),car:UserManager.getMainCar(),sex:UserManager.getSex()};if(this.isCacheUserInfo()){var c=this.userInfoMap[a];if(c)return c}return{playerId:a,name:tostring(a),headUrl:"0",star:0,topLevelId:0,car:0,sex:0}},getAndCacheFiendsInfo:function(a,c,d){if(this.isCacheUserInfo()&&!d){a=UserManager.getFriendIds();d=[];for(var e=0;e<a.length;++e){var f=a[e];this.userInfoMap[f]&&table.insert(d,this.userInfoMap[f])}c(0,d)}else this.requestFiends(a,
c)},requestFiends:function(a,c){var d=UserManager.getFriendIds(),e=this;HttpHelper.getFriendInfos(a,d,function(a,d){if(0==a){e.lastCacheUserTs=TimeUtils.time();var h=d.users||[];e.updateBasicUserInfo(h);e.friendInfoListByLevel=[];for(var m=0;m<h.length;++m)e.friendInfoListByLevel[m]=h[m];table.sort(e.friendInfoListByLevel,function(a,c){return a.topLevelId>c.topLevelId});c(a,h)}else c(a)})},updateBasicUserInfo:function(a){for(var c=0;c<a.length;++c){var d=a[c];this.userInfoMap[d.playerId]=d}},updateCommonUserInfo:function(a){a=
a||[];for(var c=0;c<a.length;++c){var d=a[c],e=this.userInfoMap[d.playerId];e?(e.headUrl=d.headUrl,e.name=d.name,e.star=d.star,e.topLevelId=d.topLevelId):this.userInfoMap[d.playerId]=d}},getRandomFiendInfoLevelBlowMe:function(){for(var a=UserManager.getTopLevel(),c=[],d=[],e=0;e<this.friendInfoListByLevel.length;++e){var f=this.friendInfoListByLevel[e];f.topLevelId<a&&(UserManager.snsFidDict[f.playerId]?d.push(f):c.push(f))}return 0<d.length?d[MathUtils.random(0,d.length-1)]:0<c.length?c[MathUtils.random(0,
c.length-1)]:null},getCurLevelFriendScoreBlowMe:function(a){var c=0,d=UserManager.getPlayerId();a=this.levelFriends[a];for(var e=0;e<a.length;++e){var f=a[e];if(f.playerId==d){c=e;break}}d=[];e=[];for(c+=1;c<a.length;++c)f=a[c],UserManager.snsFidDict[f.playerId]?e.push(f):d.push(f);return 0<e.length?e[MathUtils.random(0,e.length-1)]:0<d.length?d[MathUtils.random(0,d.length-1)]:null}};var sortScoreCallback=function(a,c){return a.score>c.score};
CacheHelper.isCacheLevelFriend=function(a){return TimeUtils.time()-this.lastCacheLevelTs<this.cacheLevelTime&&this.levelFriends[a]?!0:!1};CacheHelper.getMyRank=function(a){if(this.isCacheLevelFriend(a))for(var c=UserManager.getPlayerId(),d=0;d<this.levelFriends[a].length;++d)if(this.levelFriends[a][d].playerId==c)return d+1;return 0};CacheHelper.getFriendLevelScoreCached=function(a){return this.levelFriends[a]||[]};
CacheHelper.getCurLvPlayerFriendRank=function(a,c){if(this.isCacheLevelFriend(c))for(var d=UserManager.getPlayerId(),e=0;e<this.levelFriends[c].length;++e){var f=this.levelFriends[c][e];if(f.playerId==d||a>f.score)return e+1}return 1};
CacheHelper.getLevelFiendInfo=function(a,c,d){if(this.isCacheLevelFriend(c)){var e=UserManager.getPlayerId(),f=UserManager.scoreDict[c];if(f)for(var g=f.score,f=f.petId,h=0;h<this.levelFriends[c].length;++h){var m=this.levelFriends[c][h];if(m.playerId==e&&g>m.score){m.score=g;m.petId=f;table.sort(this.levelFriends[c],sortScoreCallback);break}}d(0,this.levelFriends[c])}else{var n=this;HttpHelper.getLevelFriendsInfo(a,c,function(e,f){if(0==e){var h=f.scores||[];n.myLevelWorldRankDic[c]=f.rank||0;table.sort(h,
sortScoreCallback);n.getAndCacheFiendsInfo(a,function(a){if(0==a){a=!1;for(var e=UserManager.getPlayerId(),f=0;f<h.length;++f){var m=h[f],r=n.getUserInfoWithDefault(m.playerId);m.name=r.name;m.headUrl=r.headUrl;m.playerId==e&&(a=!0)}a||(a=CacheHelper.getUserInfoWithDefault(e),a.score=g||0,a.petId=0,table.insert(h,a));n.lastCacheLevelTs=TimeUtils.time();n.levelFriends[c]=h;d(0,h,g)}else d(a)})}else d(e)})}};CacheHelper.getMyLevelWorldRank=function(a){return this.myLevelWorldRankDic[a]};
CacheHelper.getStartRankRange=function(a){var c=this.worldRankRange;return[Math.floor((a-1)/c)*c+1,c]};CacheHelper.isCacheWorldRank=function(a,c){if(this.levelWorldRank[a]){var d=this.getStartRankRange(c)[0];if(this.levelWorldRank[a][d])return!0}return!1};CacheHelper.getCacheWorldRank=function(a,c){var d=this.levelWorldRank[a];if(!d)return[];var e=this.getStartRankRange(c)[0];return d[e]?[d[e][c-e],!0]:[]};
CacheHelper.clearLevelWorldRankInfo=function(a){this.levelWorldRank[a]=[];this.levelWorldMaxRank[a]=0};
CacheHelper.getLevelWorldRankInfo=function(a,c,d,e){e=e||1;if(this.isCacheWorldRank(c,e))d(0,this.levelWorldRank[c][e],this.levelWorldMaxRank[c]);else{e=this.getStartRankRange(e);var f=e[0];e=e[1];if(!this.levelWorldPostMap[f]){this.levelWorldPostMap[f]=!0;var g=this;HttpHelper.getLevelWorldRankInfo(a,c,f,e,function(a,e){g.levelWorldPostMap[f]=null;if(0==a){var n=e.ranks||[],r=e.maxRank;UserManager.getPlayerId();for(var s=1;s<=n.length;s++){var t=n[s-1],u=g.getUserInfoWithDefault(t.playerId);t.name=
u.name;t.headUrl=u.headUrl}g.levelWorldRank[c]=g.levelWorldRank[c]||{};g.levelWorldRank[c][f]=n;g.levelWorldMaxRank[c]=r;d(0,n,r)}else d(a)})}}};CacheHelper.isCacheActivity=function(){return TimeUtils.time()-this.lastCacheActivityTs<this.cacheActivityTime&&this.activityInfo?!0:!1};
CacheHelper.getActivityInfo=function(a,c){if(this.isCacheActivity())c(0,this.activityInfo);else{var d=this;HttpHelper.getActivityList(a,function(a,f){0==a?(d.activityInfo=f,d.lastCacheActivityTs=TimeUtils.time(),c(0,f)):c(a)})}};CacheHelper.getLuckyKitDropIdx=function(){return this.luckyKitDropIdx};CacheHelper.setLuckyKitDropIdx=function(a){this.luckyKitDropIdx=a};CacheHelper.getLuckyKitRewards=function(){return this.luckyKitRewards||[]};
CacheHelper.setLuckyKitRewards=function(a){this.luckyKitRewards=[];for(var c in a)this.luckyKitRewards.push(a[c])};DataHelper={serverTsAfterBoot:0,nextDayListenerList:[],onInit:function(){this.timer=scheduler.scheduleGlobal(this.tickServerTs,1)},onDestroy:function(){scheduler.unscheduleGlobal(this.timer)},clearAndReloadGameData:function(){ModelManager.deleteLocalDataModel();ModelManager.loadLocalDataModel()},getSimulatorTs:function(){var a=ModelManager.gameData.serverTs;0>=a&&(a=TimeUtils.time());return a},getServerTs:function(){return ModelManager.gameData.serverTs},getServerTsAfterBoot:function(){return 0<this.serverTsAfterBoot?
this.serverTsAfterBoot:TimeUtils.time()},setServerTs:function(a){ModelManager.gameData.serverTs=a-1;this.serverTsAfterBoot=a-1},tickServerTs:function(a){0<this.serverTsAfterBoot&&(this.serverTsAfterBoot+=1);var c=ModelManager.gameData;if(c){var d=c.serverTs;0<d&&(a=d+a,c.serverTs=a,DataHelper.notifyNextDayListener(d,a))}},registerNextDayListener:function(a,c){this.nextDayListenerList.push([c||0,a])},unregisterNextDayListener:function(a){for(var c=this.nextDayListenerList,d=0,e=c.length;d<e;d++)if(c[d][1]==
a){table.remove(c,d);break}},notifyNextDayListener:function(a,c){for(var d=this.nextDayListenerList,e=0,f=d.length;e<f;e++){var g=d[e],h=MetaHelper.getSecAtZeroOClock(c,g[0]);h>a&&h<=c&&(g=g[1])&&g(h)}},pushOfflineReq:function(a,c){table.insert(ModelManager.gameData.offReqs,{method:a,data:c})},getOfflineReqList:function(){return ModelManager.gameData.offReqs},processOfflineReqList:function(a){if(0>=a.length)return!0;for(var c=ModelManager.gameData.offReqs,d=0;d<a.length;++d){var e=a[d];if(0!=e.retCode&&
e.retCode!=ErrCode.MsgDiscard)return this.clearOfflineReqList(),!1}d=a.length;a=c.length;a<d&&(logw("offline req list size %d \x3c reponse list size %d"),d=a);for(e=[];d<a;d++)table.insert(e,c[d]);ModelManager.gameData.offReqs=e;return!0},clearOfflineReqList:function(){ModelManager.gameData.offReqs=[]},setOffSt:function(a){ModelManager.gameData.offSt=a},getOffSt:function(){return ModelManager.gameData.offSt}};MetaHelper={};MenuItemTag={Menu_Tag_Mark:101,Menu_Tag_Lottery:102,Menu_Tag_Task:103,Menu_Tag_InviteReward:104,Menu_Tag_KitchenGod:105,Menu_Tag_ActivityIcon:106,Menu_Tag_FriendRequest:110,Menu_Tag_DailyTask:111,Menu_Tag_Husky:112,Menu_Tag_Activity:1E4};CommonRewardType={kConsumeDiamond:4,kRechargeDiamond:5};CommonRewardTab={kTimeRechargeDiamond:1};CommonRewardID={kRechargeDiamondFor20003:5,kRechargeDiamondFor20003_2:15};MetaHelper.onInit=function(){ModelManager.registerConfigLoadListener(this.onModelLoad)};
MetaHelper.onDestroy=function(){ModelManager.unregisterConfigLoadListener(this.onModelLoad)};
MetaHelper.onModelLoad=function(a){var c=MetaHelper;c.gameMeta=a;c.global=a.global;c.global.hideHeadLevel=table.listToMap(c.global.hideHeadLevel);c.global.newFeatureLevel=table.listToMap(c.global.newFeatureLevel);c.global.hardLevel=table.listToMap(c.global.hardLevel);c.priorityDict=table.listToMap(a.priority,"id");c.propDict=table.listToMap(a.prop,"id");c.scoreDict=table.listToMap(a.score,"id");c.petDict=table.listToMap(a.pet,"id");c.levelRewardDict=table.listToMap(a.levelReward,"id");c.starRewardDict=
table.listToMap(a.starReward,"id");c.goodsList=c.filterMetaByChannel(a.goods);c.goodsDict=table.listToMap(c.goodsList,"id");c.productList=c.filterMetaByChannel(a.product);c.productDict=table.listToMap(c.productList,"id");c.markDict=table.listToMap(a.mark,"id");c.levelAreaDict=table.listToMap(a.levelArea,"minLevel");c.videoAdRewardDict=table.listToMap(a.videoAdReward,"id");c.equipList=c.filterMetaByChannel(a.dress);c.equipDict=table.listToMap(c.equipList,"id");for(var d in c.equipDict){var e=c.equipDict[d];
e.level=e.id%100;e.pos=(e.id%1E3-e.level)/100}c.suitDict=table.listToMap(a.suit,"id");c.commonRewardList=c.filterMetaByChannel(a.commonReward);c.commonRewardDict=table.listToMap(c.commonRewardList,"id");c.petLevelUpRewardDict=table.listToMap(a.petLevelUpReward,"petId","level");c.taskList=c.filterMetaByChannel(a.task);c.taskDict=table.listToMap(c.taskList,"id");c.taskTypeDict=table.listToMap(a.taskType,"id");c.taskBoxDict=table.listToMap(a.taskBox,"id");c.weekBoxDict=table.listToMap(a.weekTaskBox,
"id");c.functions=table.listToMap(a.functions,"id");c.kitchenGod=a.kitchenGod;c.kitchenGod.rewards=table.listToMap(c.kitchenGod.rewards,"id");c.friendsRequest=a.friendsRequest;c.achieveList=c.filterMetaByChannel(a.achieve);c.achieveDict=table.listToMap(c.achieveList,"id");c.carDict=table.listToMap(a.car,"id");c.shareKitRewardDic=table.listToMap(a.shareKitReward,"id");HuskyTaskManager.bOpen&&(c.huskyTaskDict=table.listToMap(a.huskyTask,"id"),c.huskyChessDatasDic=table.listToMap(a.huskyChessDatas,"id"),
c.huskyShareRewardDic=table.listToMap(a.huskyShareRewards,"id"),c.huskyDailyRewardDic=a.huskyDailyRewards);c.initPopcorn(a);c.rank=a.rank;c.maintenanceDict={};c.goodsExtendDict={};c.goodsExtendIds={};PropMetaManager.getInstance().init(c.propDict);ScoreMetaManager.init(c.scoreDict);LevelMapManager.getInstance().initLevelMeta(a.levels)};MetaHelper.getSecAtZeroOClock=function(a,c){null==a&&(a=TimeUtils.time());null==c&&(c=0);return a-(a-3600*(24+c-(this.global?this.global.timezone:8)))%86400};
MetaHelper.filterMetaByChannel=function(a,c,d){c=c||"channel";d=d||"client";for(var e=ChanelName,f=OsPlatform,g=[],h=0;h<a.length;++h){var m=a[h],n=!0,r=!0;m[c]&&(n=m[c].split(","),n=table.includes(n,e)||table.includes(n,"default"));m[d]&&(r=m[d].split(","),r=table.includes(r,f)||table.includes(r,"default"));n&&r&&table.insert(g,m)}return g};MetaHelper.getMetaVer=function(){return ModelManager.gameMeta?ModelManager.gameMeta.metaVer:0};
MetaHelper.getPetLevelByExp=function(a){for(var c=this.gameMeta.petExp,d=0,e=0;e<c.length;++e){var f=c[e];if(a<f.expr)return[e,f.expr-a,f.expr-d];d=f.expr}return[c.length,0,0]};MetaHelper.getPetLevelMax=function(){var a=this.gameMeta.petExp.length;return[a,this.gameMeta.petExp[a-1].expr]};MetaHelper.getPetBonus=function(a,c){var d=this.petDict[a];return[d.scoreBonusBasic+d.scoreBonusGrowth*c,d.coinBonusBasic+d.coinBonusGrowth*c]};
MetaHelper.getPetEquipBonus=function(a){var c=0,d=0;if(a){for(var e=0;e<a.length;++e){var f=this.equipDict[a[e]];f&&(c+=f.coinBonus,d+=f.scoreBonus)}return[d,c]}};MetaHelper.getPetExpByLevel=function(a){var c=this.gameMeta.petExp.length;return a<c?[this.gameMeta.petExp[a-1],c]:[this.gameMeta.petExp[c-1],c]};MetaHelper.getDressHandbookList=function(){return this.global.draw_list};
MetaHelper.getGoodMetaListByTab=function(a){for(var c=[],d=DataHelper.getSimulatorTs(),e=0;e<this.goodsList.length;++e){var f=this.goodsList[e];!f.isOpen||f.tab!=a||f.start&&f.end&&(d<f.start||d>f.end)||f.level&&UserManager.getTopLevel()<f.level||table.insert(c,f)}table.sort(c,function(a,c){return a.rank<c.rank});return c};MetaHelper.getGoodMetaListById=function(a){for(var c=0;c<this.goodsList.length;++c){var d=this.goodsList[c];if(d.isOpen&&d.id==a)return d}return null};
MetaHelper.getAllProductIdList=function(){for(var a=[],c=0;c<this.productList.length;++c)table.insert(a,this.productList[c].productId);return a};MetaHelper.getProductMetaByProductId=function(a){for(var c=0;c<this.productList.length;++c){var d=this.productList[c];if(d.productId==a)return d}};MetaHelper.getTotalAchieveCount=function(){for(var a=0,c=1;c<=this.achieveList.length;c++)!1!=this.achieveList[c-1].isopen&&(a+=1);return a};MetaHelper.getMarkMeta=function(){return this.markDict};
MetaHelper.getLevelArea=function(){return this.levelAreaDict};MetaHelper.getTaskMeta=function(a){return this.taskDict[a]};MetaHelper.getEquipById=function(a){return this.equipDict[a]};MetaHelper.getSuitById=function(a){return this.suitDict[a]};MetaHelper.getPetSuit=function(a){for(var c=-1,d=0;d<a.length;++d){var e=MetaHelper.getEquipById(a[d]);if(null==e){c=0;break}if(0==e.suit_id){c=0;break}else if(-1==c)c=e.suit_id;else if(c!=e.suit_id){c=0;break}}return this.getSuitById(c)};
MetaHelper.getCommonRewardByID=function(a){return this.commonRewardDict[a]};MetaHelper.getValidCommonRewardByType=function(a){for(var c=[],d=this.commonRewardList,e=0;e<d.length;e++){var f=d[e];f.type==a&&this.isCommonRewardValid(f.id)&&c.push(f)}return c};MetaHelper.getValidCommonRewardByTab=function(a){for(var c=[],d=this.commonRewardList,e=0;e<d.length;e++){var f=d[e];f.tab==a&&this.isCommonRewardValid(f.id)&&c.push(f)}return c};
MetaHelper.isCommonRewardValid=function(a){a=this.commonRewardDict[a];if(!a)return!1;if(a.start&&a.end){var c=DataHelper.getSimulatorTs();if(c<a.start||c>a.end)return!1}return a.level&&UserManager.getTopLevel()<a.level||a.condition_id&&!UserManager.isCommonRewardCollected(a.condition_id)?!1:!0};MetaHelper.isFuncUnlock=function(a){a=MetaHelper.getFuncUnlockLevel(a);return UserManager.getTopLevel()>=a};
MetaHelper.getFuncUnlockLevel=function(a){return(a=MetaHelper.functions[a])?a.isOpen?a.unlockLevel||0:99999999:0};MetaHelper.getFuncUnlockInfo=function(a,c){if(c)return null;var d=MetaHelper.functions[a];return d&&d.isOpen?string.expand(TextTable.t_ecode200261,{level:d.unlockLevel}):TextTable.t_ecode200262};
MetaHelper.initPopcorn=function(a){this.popcorn=a.popcorn;this.popcorn.popcornLevels=table.listToMap(this.popcorn.popcornLevels,"level");this.popcorn.hinderPutPrices=table.listToMap(this.popcorn.hinderPutPrices,"id");this.popcorn.popcornStoreLevels=table.listToMap(this.popcorn.popcornStoreLevels,"level")};MetaHelper.getPopcornReservesMeta=function(){return this.popcorn.popcornStoreLevels};MetaHelper.getPopcornReservesMetaByLevel=function(a){return this.popcorn.popcornStoreLevels[a]};
MetaHelper.getPopcornReservesByLevel=function(a){return(a=this.getPopcornReservesMetaByLevel(a))?a.capacity:0};MetaHelper.getPopcornOutputMeta=function(){return this.popcorn.popcornLevels};MetaHelper.getPopcornOutputMetaByLevel=function(a){return this.popcorn.popcornLevels[a]};MetaHelper.getPopcornOutputByLevel=function(a){return(a=this.getPopcornOutputMetaByLevel(a))?a.hourProduce:0};MetaHelper.getPopcornOutputTimeByLevel=function(a){return(a=this.getPopcornOutputMetaByLevel(a))?a.produceTime:null};
MetaHelper.getPopcornFinishUpgradeMeta=function(){return this.popcorn.soonComplete};MetaHelper.getPopcornShellMeta=function(){return this.popcorn.protectTimes};MetaHelper.getPopcornShellMetaByType=function(a){var c=this.getPopcornShellMeta(),d;for(d in c){var e=c[d];if(e.type==a)return e}return null};MetaHelper.getPopcornBossHPMeta=function(){return this.popcorn.bossLifePrices};MetaHelper.getPopcornBlockMeta=function(){return this.popcorn.hinderPutPrices};MetaHelper.getPopcornBlockMetaByID=function(a){return this.popcorn.hinderPutPrices[a]};
MetaHelper.getPopcornBasicHinderNum=function(){return this.popcorn.basicHinderNum};MetaHelper.getPopcornSpyDiamond=function(){return this.popcorn.spyDiamond};MetaHelper.getPopcornChallengeTime=function(){return this.popcorn.challengeTime};MetaHelper.getPopcornFinishPetMeta=function(){return this.popcorn.petTime};MetaHelper.getChallengeCoin=function(){return this.popcorn.challengeCoin};MetaHelper.getPopcornFreeGift=function(){return this.popcorn.freeGift};MetaHelper.getDefenderReward=function(){return this.popcorn.protectReward};
MetaHelper.getBecomeDefendReward=function(){return this.popcorn.firstProtectReward};MetaHelper.getPopcornReduceProtectTime=function(a){var c=string.split(this.popcorn.reduceProtectTime,",");a=Math.min(c.length,a+1);return tonumber(c[a-1])};MetaHelper.getPopcornUpdateLevelReward=function(){return this.popcorn.updateLevelReward};MetaHelper.getWorldRankBadge=function(a){if(0>=a)return 0;for(var c=this.rank.world,d=0;d<c.length;d++){var e=c[d];if(a<=e.rank)return e.score}return 0};
MetaHelper.getAchieveMeta=function(a){if(this.achieveDict&&(a=this.achieveDict[a])&&!1!=a.isopen)return a};MetaHelper.getCarList=function(){for(var a=this.gameMeta.car,c=[],d=0;d<a.length;++d){var e=a[d];e.isopen&&table.insert(c,e)}return c};
MetaHelper.initLoginMetas=function(a){if(a)try{this.goodsExtend=a.ge&&JSON.parse(a.ge);this.maintenance=a.m&&JSON.parse(a.m);this.maintenanceVer=a.mv;this.goodsExtendVer=a.gev;if(this.goodsExtend){this.goodsExtendDict={};for(a=0;a<this.goodsExtend.length;++a){var c=this.goodsExtend[a].goodsId;this.goodsExtendDict[c]||(this.goodsExtendDict[c]=[]);this.goodsExtendDict[c].push(this.goodsExtend[a])}this.goodsExtendIds=table.listToMap(this.goodsExtend,"id")}this.maintenance&&(this.maintenanceDict=table.listToMap(this.maintenance,
"name"))}catch(d){}};MetaHelper.isGoodsTime=function(a){if(!a||!a.startTime||!a.endTime)return!1;var c=DataHelper.getSimulatorTs();return c>=a.startTime&&c<=a.endTime};MetaHelper.getDiscountInfo=function(a,c){if(c&&this.goodsExtendIds&&this.goodsExtendIds[c])return this.goodsExtendIds[c];if(this.goodsDict[a]&&this.goodsExtendDict&&this.goodsExtendDict[a])for(var d=this.goodsExtendDict[a],e=0;e<d.length;++e){var f=d[e];if(this.isGoodsTime(f))return f}return null};
MetaHelper.getGoodsPrice=function(a,c){var d=this.getDiscountInfo(a,c);if(d){var e=ServerProxy.getGoodsPayType(d);e.push(d.id);return e}return ServerProxy.getGoodsPayType(this.goodsDict[a])};MetaHelper.isEnable=function(a){return this.maintenanceDict[a]&&this.maintenanceDict[a].enable?!0:!1};MetaHelper.onInit();DailyTaskType={NONE:0,DES_FRUIT:1,DES_BLOCK:2,PASS_DIFF_PET:3,TRIGGER_EFFECT:4,GET_STAR:5,WEEK_RANK_RACE:6,FRIEND_REQUEST:7,TURN_TABLE:8,ENERGY_BOTTLE:9,SHARE_GAME:10,SEND_ENERGY:11,TIME_LEVEL:12,RECOVER_ENERGY:13,USE_PROP:14,USE_PRE_PROP:15,PET_EXP:16,PASS_WITH_PET:17,USE_COIN:18,LOGIN:19,INVITE_SNS:20,SHARE_GROUP:31};TaskBlockType={TaskBlockType_None:0,TaskBlockType_Ice:1,TaskBlockType_Snow:2,TaskBlockType_Can:3,TaskBlockType_Lock:4};
FruitName=cw.ArrayList([FruitTypeConfig.kBlue,"\u9c7c",FruitTypeConfig.kGreen,"\u6811\u53f6",FruitTypeConfig.kOrange,"\u677e\u5b50",FruitTypeConfig.kWhite,"\u9aa8\u5934",FruitTypeConfig.kRed,"\u80e1\u841d\u535c",FruitTypeConfig.kYellow,"\u7389\u7c73"]);BlockName=cw.ArrayList([TaskBlockType.TaskBlockType_Ice,"\u51b0\u5757",TaskBlockType.TaskBlockType_Snow,"\u96ea\u5757",TaskBlockType.TaskBlockType_Can,"\u7f50\u5934",TaskBlockType.TaskBlockType_Lock,"\u7f51\u7f69"]);
DailyTaskManager={dailyTaskProgress:{},taskNeedUploadMap:{},onInit:function(){notification.registerEvent(this.onEvents,"event.ui.destroyFruit",this);notification.registerEvent(this.onEvents,"event.ui.destroyBlock",this);notification.registerEvent(this.onEvents,"event.game.passGame",this);notification.registerEvent(this.onEvents,"event.game.petExp",this);notification.registerEvent(this.onEvents,"event.game.timeLevel",this);notification.registerEvent(this.onEvents,"event.game.shareSuccess",this);notification.registerEvent(this.onEvents,
"event.game.receiveEnergy",this);notification.registerEvent(this.onEvents,"event.game.usePreProp",this);notification.registerEvent(this.onEvents,"event.game.useCoin",this);notification.registerEvent(this.onEvents,"event.ui.petEffect",this);notification.registerEvent(this.onEvents,"event.game.turnTable",this)},onDestroy:function(){notification.unregisterEvent(this.onEvents)},onEvents:function(a,c){var d=[];switch(a){case "event.game.passGame":d.push({deltaProgress:c.star,taskType:DailyTaskType.GET_STAR});
d.push({taskType:DailyTaskType.PASS_DIFF_PET,petId:UserManager.getMainPetId()});d.push({taskType:DailyTaskType.PASS_WITH_PET,condition:UserManager.getMainPetId()});break;case "event.game.timeLevel":d.push({taskType:DailyTaskType.TIME_LEVEL});d.push({taskType:DailyTaskType.PASS_DIFF_PET,petId:UserManager.getMainPetId()});d.push({taskType:DailyTaskType.PASS_WITH_PET,condition:UserManager.getMainPetId()});break;case "event.ui.destroyFruit":d.push({taskType:DailyTaskType.DES_FRUIT,condition:c.subType,
deltaProgress:c.addValue,needSynch:!0});break;case "event.ui.destroyBlock":d.push({taskType:DailyTaskType.DES_BLOCK,condition:c.subType,deltaProgress:c.addValue,needSynch:!0});break;case "event.ui.petEffect":d.push({taskType:DailyTaskType.TRIGGER_EFFECT,deltaProgress:c.addValue,needSynch:!0});break;case "event.game.petExp":d.push({taskType:DailyTaskType.PET_EXP,deltaProgress:c.curExp-c.preExp});break;case "event.game.useProp":d.push({taskType:DailyTaskType.USE_PROP});break;case "event.game.usePreProp":for(var e in c.propIdList)d.push({taskType:DailyTaskType.USE_PRE_PROP,
condition:c.propIdList[e]});break;case "event.game.shareSuccess":d.push({taskType:DailyTaskType.SHARE_GAME,needSynch:!0});3100!=c&&3101!=c||d.push({taskType:DailyTaskType.SHARE_GROUP,needSynch:!0});break;case "event.game.turnTable":d.push({taskType:DailyTaskType.TURN_TABLE});break;case "event.game.sendEnergy":d.push({taskType:DailyTaskType.SEND_ENERGY,deltaProgress:c.count||1});break;case "event.game.recoveryEnergy":d.push({taskType:DailyTaskType.RECOVER_ENERGY,deltaProgress:c.count||1});break;case "event.game.receiveEnergy":d.push({taskType:DailyTaskType.ENERGY_BOTTLE,
deltaProgress:c.count||1});break;case "event.game.useCoin":d.push({taskType:DailyTaskType.USE_COIN,deltaProgress:c.count})}if(0!=d.length)for(e in d)this.addProgress(d[e])},isMatchTask:function(a,c,d){if(a.taskType==c&&this.isAdditionalDataOk(a,d))if(a.condition&&d.condition){if(a.condition==d.condition)return!0}else if(!d.condition&&!a.condition)return!0;return!1},isAdditionalDataOk:function(a,c){var d=!0;switch(a.taskType){case DailyTaskType.PASS_DIFF_PET:d=null===table.keyOf(c.passedPets,a.petId)}return d},
addProgress:function(a){for(var c in this.dailyTaskProgress){var d=MetaHelper.taskDict[c].type,e=this.dailyTaskProgress[c];e.progress>=e.target||!this.isMatchTask(a,d,e)||(a.deltaProgress=Math.abs(a.deltaProgress||1),e.progress=a.isSet?a.deltaProgress:e.progress+a.deltaProgress,e.progress=Math.min(e.progress,e.target),this.addAdditionalData(a,e),a.needSynch&&(this.taskNeedUploadMap[c]=e.progress))}},addAdditionalData:function(a,c){switch(a.taskType){case DailyTaskType.PASS_DIFF_PET:c.passedPets.push(a.petId)}},
setTaskList:function(a){DailyTaskManager.clearTaskList();for(var c in a){var d=a[c];MetaHelper.taskDict[d.taskId]&&(this.dailyTaskProgress[d.taskId]={id:d.taskId,progress:d.num,target:d.target},d.condition&&(this.dailyTaskProgress[d.taskId].condition=d.condition),d.replaceTask&&(this.dailyTaskProgress[d.taskId].replaceTask=d.replaceTask),this.setAdditionalData(d.taskId,d,this.dailyTaskProgress[d.taskId]))}},setAdditionalData:function(a,c,d){switch(MetaHelper.taskDict[a].type){case DailyTaskType.PASS_DIFF_PET:d.passedPets=
c.attached?c.attached.split(","):[]}},getReadyTaskCount:function(){if(!MetaHelper.isFuncUnlock(MenuItemTag.Menu_Tag_DailyTask))return 0;var a=0,c;for(c in this.dailyTaskProgress)var d=this.dailyTaskProgress[c],a=a+(d.progress>=d.target&&!UserManager.isTaskAccomplished(c)?1:0);return a},getCacheUploadList:function(){var a=[],c;for(c in this.taskNeedUploadMap){var d=this.taskNeedUploadMap[c];d&&0<d&&table.insert(a,{itemId:parseInt(c),value:parseInt(d)})}return a},getTaskDesc:function(a){var c=MetaHelper.taskDict[a.id],
d={num:a.target};switch(c.type){case DailyTaskType.DES_FRUIT:d.name=FruitName[a.condition];break;case DailyTaskType.DES_BLOCK:d.name=BlockName[a.condition];break;case DailyTaskType.USE_PROP:case DailyTaskType.USE_PRE_PROP:a=MetaHelper.propDict[a.condition];d.name=a?a.desc:"\u4efb\u610f";break;case DailyTaskType.PASS_WITH_PET:d.name=MetaHelper.petDict[a.condition].desc}return string.expand(TextTable["t_Daily_Task_Desc_"+c.type],d)},clearTaskList:function(){this.taskNeedUploadMap={};this.dailyTaskProgress=
{}},clearCacheUploadMap:function(){this.taskNeedUploadMap={}}};DailyTaskManager.onInit();UserManager={onInit:function(){ModelManager.registerDataLoadListener(this.onModelLoad)},onDestroy:function(){ModelManager.unregisterDataLoadListener(this.onModelLoad)},onModelLoad:function(){logTraceFunc("UserManager","onModelLoad");UserManager.reloadUserDict()},reloadUserDict:function(){var a=ModelManager.gameData.userData;this.userData=a;this.scoreDict=table.listToMap(a.scores,"levelId");this.petDict=table.listToMap(a.pets,"id");this.friendIdDict=table.listToMap(a.friendIds);this.snsFidDict=table.listToMap(a.snsFids);
this.inviteUsersDict=table.listToMap(a.inviteUsers,"playerId");this.equipDict=table.listToMap(a.equipIds);this.buyGiftsRecordDict=table.listToMap(a.buyGiftsRecord,"itemId");this.monthGiftsDict=table.listToMap(a.monthGifts,"itemId");this.lovePetFriendsDict=table.listToMap(a.dailyData.lovePetFriends);this.sendEnergyIdsDict=table.listToMap(a.dailyData.sendIds);this.wantEnergyIdsDict=table.listToMap(a.dailyData.wantIds);this.dailyBuyedGoodsInfoDict=table.listToMap(a.dailyData.buyedGoodsInfo,"itemId");
this.loveFriendsDict=table.listToMap(a.dailyData.loveFriends);this.achievesDict=table.listToMap(a.achieves,"itemId");this.carsDict=table.listToMap(a.cars);this.cashChangeMapDict=table.listToMap(a.cashChangeMap,"itemId");this.taskBoxDict=table.listToMap(a.boxList);this.accomplishTaskDict=table.listToMap(a.accomplished);this.setRecieveWeekBox(a.weekBoxList);this.resetTimeLevel(this.userData.timeLevelInfo);this.inviteShareRewardGeted=1==a.dailyData.inviteShareRewardGeted;DailyTaskManager.setTaskList(this.getTaskList());
HuskyTaskManager.bOpen&&HuskyTaskManager.setCurTask(this.getHuskyTaskData());CacheHelper.inviteRewardNUm=a.inviteRewardStatus},getUserData:function(){return this.userData},getUserId:function(){return this.userData.uid},getPlayerId:function(){return this.userData.playerId},getHeadUrl:function(){return this.userData.headUrl},getSex:function(){return this.userData.sex},setSex:function(a){},setHeadUrl:function(a){this.userData.headUrl=a||"1"},getUUID:function(){return this.userData.uuid},getNickName:function(){return this.userData.nick&&
""!=this.userData.nick?this.userData.nick:tostring(this.userData.playerId)},haveGetNovice:function(){return 5<this.getTopLevel()?!0:this.userData.newUserEnergyStatus},setGetNovice:function(){this.userData.newUserEnergyStatus=!0},setNickName:function(a){this.userData.nick=a||tostring(this.userData.playerId)},getCoin:function(){return this.userData.coin},addCoin:function(a){var c=this.userData;a=c.coin+a;0>a&&(a=0);a<c.coin&&notification.postEvent("event.game.useCoin",{count:a-c.coin});c.coin=a},subCoin:function(a){var c=
this.userData;a=c.coin-a;if(0>a)return!1;a<c.coin&&notification.postEvent("event.game.useCoin",{count:a-c.coin});c.coin=a;return!0},setDiamond:function(a){this.userData.diamond=a},getDiamond:function(){return this.userData.diamond},addDiamond:function(a){var c=this.userData;a=c.diamond+a;0>a&&(a=0);c.diamond=a},subDiamond:function(a){var c=this.userData;a=c.diamond-a;if(0>a)return!1;c.diamond=a;return!0},addConsumedDiamond:function(a){var c=this.userData,d=c.consumeDiamond+a;0>d&&(d=0);c.consumeDiamond=
d;this.addDiamondRecord(a,CommonRewardType.kConsumeDiamond)},getConsumedDiamond:function(){return this.userData.consumeDiamond},addRechargeDiamond:function(a){this.addDiamondRecord(a,CommonRewardType.kRechargeDiamond)},getRechargeDiamond:function(a){var c=this.cashChangeMapDict[a];return c&&c[a]?c[a].value:0},addDiamondRecord:function(a,c){for(var d=MetaHelper.getValidCommonRewardByType(c),e=0;e<d.length;e++){var f=d[e].id;if(null==this.cashChangeMapDict[f]){var g={itemId:f,value:0};this.userData.cashChangeMap.push(g);
this.cashChangeMapDict[f]=g}0<=this.cashChangeMapDict[f].value&&(this.cashChangeMapDict[f].value+=a)}},finishCommonReward:function(a){this.cashChangeMapDict[a]&&(this.cashChangeMapDict[a].value=-1)},isCommonRewardCompleted:function(a){var c=MetaHelper.commonRewardDict[a];if(!c)return!1;var d=0;this.cashChangeMapDict[a]&&(d=this.cashChangeMapDict[a].value);return d>=c.condition},isCommonRewardCollected:function(a){return MetaHelper.commonRewardDict[a]?this.cashChangeMapDict[a]?0>this.cashChangeMapDict[a].value:
!1:!0},getBell:function(){return this.userData.bell},getLotteryCard:function(){return this.userData.drawCard},addLotteryCard:function(a){var c=this.userData;a=c.drawCard+a;0>a&&(a=0);c.drawCard=a},subLotteryCard:function(a){this.addLotteryCard(-a)},getLotteryFreeTime:function(){return this.userData.drawTime},setLotteryFreeTime:function(a){this.userData.drawTime=a},getLotterySpecialCount:function(){return this.userData.drawLotteryTimes%LotterySpecialCount},addLotterySpecialCount:function(a){0>=a||
(this.userData.drawLotteryTimes+=a)},getLotteryPetInfo:function(){return this.userData.showDrawPet},addBell:function(a){var c=this.userData;a=c.bell+a;0>a&&(a=0);c.bell=a},subBell:function(a){var c=this.userData;a=c.bell-a;if(0>a)return!1;c.bell=a;return!0},getUnlimitStrengthTimestamp:function(){return this.userData.notConsumeEnergyBuff||0},setUnlimitStrengthTimestamp:function(a){this.userData.notConsumeEnergyBuff=a},getDailyData:function(){return this.userData.dailyData},getDailyWantUnlockIds:function(){return this.userData.dailyData.unLockLevelAreaFriends||
[]},addDailyWantUnlockIds:function(a){null==this.userData.dailyData.unLockLevelAreaFriends&&(this.userData.dailyData.unLockLevelAreaFriends=[]);table.append(this.userData.dailyData.unLockLevelAreaFriends,a)},getDailyWantEnergyIds:function(){return this.userData.dailyData.wantIds||[]},addDailyWantEnergyIds:function(a){this.userData.dailyData.wantIds||(this.userData.dailyData.wantIds=[]);for(var c=0;c<a.length;++c){var d=a[c];this.wantEnergyIdsDict[d]||(this.wantEnergyIdsDict[d]=d,table.insert(this.userData.dailyData.wantIds,
d))}},addDailySendEnergyIds:function(a){this.userData.dailyData.sendIds||(this.userData.dailyData.sendIds=[]);for(var c=0;c<a.length;++c){var d=a[c];this.sendEnergyIdsDict[d]||(this.sendEnergyIdsDict[d]=d,table.insert(this.userData.dailyData.sendIds,d))}},getDailyWantEnergyLeftTimes:function(){return MetaHelper.global.free_gift_day_limit-this.userData.dailyData.wantIds.length},incDailyRecieveEnergyCount:function(a){var c=this.userData.dailyData;c.receiveGiftCount+=a||1},getDailyRecieveEnergyLeftTimes:function(){return MetaHelper.global.daily_max_receive_gift_count-
this.userData.dailyData.receiveGiftCount},getDailySendEnergyLeftTimes:function(){return MetaHelper.global.daily_max_send_gift_count-this.userData.dailyData.sendIds.length},getBuyGiftsRecord:function(){return this.userData.buyGiftsRecord},addBuyGoodsRecord:function(a,c){var d=MetaHelper.goodsDict[a];if(d.lifeLimit&&0<d.lifeLimit){var e=this.buyGiftsRecordDict[a];e?e.value+=c:(e={itemId:a,value:c},table.insert(this.userData.buyGiftsRecord,e),this.buyGiftsRecordDict[a]=e)}d.monthLimit&&0<d.monthLimit&&
((e=this.monthGiftsDict[a])?e.value=29:(e={itemId:a,value:29},table.insert(this.userData.monthGifts,e),this.monthGiftsDict[a]=e));(e=this.dailyBuyedGoodsInfoDict[a])?e.value+=c:(e={itemId:a,value:c},this.userData.dailyData.buyedGoodsInfo=this.userData.dailyData.buyedGoodsInfo||[],table.insert(this.userData.dailyData.buyedGoodsInfo,e),this.dailyBuyedGoodsInfoDict[a]=e)},getLifeLimitLeftCount:function(a){var c=MetaHelper.goodsDict[a];if(!c)return 0;c=c.lifeLimit||0;return 0>=c?99999999:(a=this.buyGiftsRecordDict[a])?
c-a.value:c},getMonthLeftDay:function(a){var c=MetaHelper.goodsDict[a];return!c||0>=(c.monthLimit||0)?0:(a=this.monthGiftsDict[a])?a.value:0},getDailyLimitLeftCount:function(a){var c=MetaHelper.goodsDict[a];if(!c)return 0;c=c.limit||0;return 0>=c?99999999:(a=this.dailyBuyedGoodsInfoDict[a])?c-a.value:c},getNonTimePropList:function(){return this.userData.props},getTimePropList:function(){for(var a=DataHelper.getSimulatorTs(),c=[],d=this.userData.timeProps,e=0;e<d.length;++e){var f=d[e];a<=f.value&&
c.push(f)}return c},getNonTimePropCount:function(a){for(var c=0,d=this.userData.props,e=0;e<d.length;++e){var f=d[e];f.itemId==a&&(c+=f.value)}return c},getTimePropCount:function(a,c,d){d=d||DataHelper.getSimulatorTs();for(var e=0,f=this.userData.timeProps,g=0;g<f.length;++g){var h=f[g];h.itemId==a&&(c?c==h.value&&(e+=1):d<=h.value&&(e+=1))}return e},getPropCount:function(a,c){return c?this.getTimePropCount(a,c):this.getNonTimePropCount(a)},getAllPropCount:function(a){return this.getNonTimePropCount(a)+
this.getTimePropCount(a)},getNextPropExpireTs:function(a,c){c=c||DataHelper.getSimulatorTs();for(var d=this.userData.timeProps,e=0;e<d.length;++e){var f=d[e];if(f.itemId==a&&c<=f.value)return f.value}return 0},addProp:function(a,c,d){if(d){for(e=0;e<c;e++)table.insert(this.userData.timeProps,{itemId:a,value:d});table.sort(this.userData.timeProps,function(a,c){return a.value<c.value})}else{d=null;for(var e=0;e<this.userData.props.length;++e){var f=this.userData.props[e];if(f.itemId==a){d=f;break}}null==
d&&(d={itemId:a,value:0},table.insert(this.userData.props,d));d.value+=c}},subTimeProp:function(a,c,d){var e=this.getTimePropCount(a,d);if(c>e)return!1;for(var e=this.userData.timeProps,f=e.length-1;0<=f&&!(0>=c);f--){var g=e[f];g.itemId==a&&d==g.value&&(table.remove(e,f),c--)}return!0},subNonTimeProp:function(a,c){var d=this.getPropCount(a);if(c>d)return!1;for(var d=c,e=this.userData.props,f=e.length-1;0<=f;f--){var g=e[f];if(g.itemId==a)if(g.value>d){g.value-=d;break}else if(g.value==d){g.value=
0;table.remove(e,f);break}else d-=g.value,g.value=0,table.remove(e,f)}return!0},subProp:function(a,c,d){return d?this.subTimeProp(a,c,d):this.subNonTimeProp(a,c)},setShareRewardBool:function(a){this.userData.shareReward=a},getShareRewardBool:function(){return this.userData.shareReward},getTopLevel:function(){return this.userData.topLevelId},setTopLevel:function(a){this.userData.topLevelId=a},getLeveleScore:function(a){return this.scoreDict[a]},updateLevelScore:function(a,c,d,e){var f=this.userData.topLevelId,
g=this.scoreDict[a],h=-1;a==f&&(0<d?(h=this.userData.topLevelFailCount,this.userData.topLevelFailCount=0):this.userData.topLevelFailCount+=1);if(!g)if(a==f)g={levelId:a,score:0,share:!1,star:0,petId:e,fail:0,combo:0},table.insert(this.userData.scores,g),this.scoreDict[a]=g;else return;0<=h&&(g.fail=h);c>g.score&&0<d&&(g.score=c);d>g.star&&(0==g.star&&a==f&&(MetaHelper.getLevelArea()[a+1]||this.setTopLevel(a+1)),g.star=d,this.updateStar());return g},updateStar:function(){for(var a=0,c=0;c<this.userData.scores.length;++c)a+=
this.userData.scores[c].star;this.userData.star=a},getTotalStar:function(){return this.userData.star},getTotalStarByLevelRange:function(a,c){var d=0,e=this.userData.scores,f=e.length;if(a>f)return 0;c>f&&(c=f);for(f=a;f<=c;++f)d+=e[f-1].star;return d},setLevelShared:function(a,c){var d=this.scoreDict[a];if(!d)return!1;d.share=c;return!0},getTopLevelFailCount:function(){return this.userData.topLevelFailCount},addEnergy:function(a){var c=MetaHelper.global.user_energy_max_count;this.refreshEnergy();
if(this.userData.energy>=c)return!1;this.userData.energy+=a;this.userData.energy>c&&(this.userData.energy=c);return!0},subEnergy:function(a){if(this.getUnlimitStrengthTimestamp()>1E3*DataHelper.getSimulatorTs())return!0;this.refreshEnergy();var c=this.userData.energy;if(c<a)return!1;this.userData.energy=c-a;return!0},getEnergy:function(){return this.refreshEnergy()},isEnergyCanPlay:function(a){var c=this.refreshEnergy()[0],d=null,d=a?MetaHelper.global.time_level_decry_energy:MetaHelper.global.user_energy_level_consume;
return c>=d},isEnergyFull:function(){return this.refreshEnergy()[0]>=MetaHelper.gameMeta.global.user_energy_max_count},refreshEnergy:function(){var a=this.userData,c=MetaHelper.global,d=c.user_energy_max_count,c=c.user_energy_recover_time_unit,e=a.energy,f=1E3*TimeUtils.time();if(e<d){var g=f-a.uTime,h=Math.floor(g/c);if(0<h){a.uTime=f;f=e+h;if(f>=d)return a.energy=d,[e,-1,-1];a.energy=f;return[e,(c-(g-h*c))/1E3,(c-g+c*(d-e-1))/1E3]}return[e,(c-g)/1E3,(c-g+c*(d-e-1))/1E3]}a.uTime=f;return[e,-1,-1]},
getPetInfos:function(){return this.userData.pets},getPetCount:function(){return this.userData.pets.length},getMainPetId:function(){return this.userData.mainPet},getPetInfo:function(a){a=a||this.userData.mainPet;return this.petDict[a]},setMainPetId:function(a){this.petDict[a]&&(this.userData.mainPet=a)},hasPet:function(a){return null!=this.petDict[a]},setPetName:function(a,c){var d=this.petDict[a];d&&(d.name=c)},getPetName:function(a){var c=this.petDict[a];return c&&""!=c.name?c.name:TextTable["t_name"+
a]},addPet:function(a){if(null!=this.petDict[a])return!0;var c={id:a,name:"",exp:0,visible:1,equips:[]};this.petDict[a]=c;table.insert(this.userData.pets,c);return!0},addPetExp:function(a,c){c=c||this.userData.mainPet;var d=this.petDict[c];if(!d)return!1;d.exp+=a;var e=MetaHelper.getPetLevelMax()[1];d.exp>e&&(d.exp=e);return!0},subPetExp:function(a,c){c=c||this.userData.mainPet;var d=this.petDict[c];if(!d)return!1;d=d.exp-a;if(0>d)return!1;petinfo.exp=d;return!0},getPetExpInfo:function(a){a=MetaHelper.getPetLevelByExp(this.petDict[a||
this.userData.mainPet].exp);var c=a[2];return[a[0],c-a[1],c]},getPetBonus:function(a){var c=this.getPetLevelBonus(a),d=c[0],e=c[1],c=this.getPetEquipBonus(a);return[d+c[0],e+c[1]]},getPetLevelBonus:function(a){a=a||this.userData.mainPet;var c=MetaHelper.getPetLevelByExp(this.petDict[a].exp)[0];return MetaHelper.getPetBonus(a,c)},getPetEquipBonus:function(a){return MetaHelper.getPetEquipBonus(this.petDict[a||this.userData.mainPet].equips)},getPetSuit:function(a){a=a||this.userData.mainPet;return(a=
this.petDict[a])&&a.equips?MetaHelper.getPetSuit(a.equips):null},addEquip:function(a){if(this.equipDict[a])return!1;this.equipDict[a]=a;table.insert(this.userData.equipIds,a);return!0},hasEquip:function(a){return null!=this.equipDict[a]},subEquip:function(a){if(!this.equipDict[a])return!1;this.equipDict[a]=null;table.removeValue(this.userData.equipIds,a);return!0},getEquipCount:function(){return this.userData.equipIds.length},addCar:function(a){this.carsDict[a]||(this.carsDict[a]=a,table.insert(this.userData.cars,
a))},hasCar:function(a){return null!=this.carsDict[a]},getCarCount:function(){return this.userData.cars.length},setMainCar:function(a){0<a&&(this.userData.car=a)},getMainCar:function(){return this.userData.car},getFriendIds:function(){return this.userData.friendIds},getFriendCount:function(){return this.userData.friendIds.length},addFriend:function(a){this.friendIdDict[a]||(this.friendIdDict[a]=a,table.insert(this.userData.friendIds,a))},hasFriend:function(a){return null!=this.friendIdDict[a]},deleteFriend:function(a){this.friendIdDict[a]=
null;for(var c=0;c<this.userData.friendIds.length;++c)if(this.userData.friendIds[c]==a){table.remove(this.userData.friendIds,c);break}},addSnsFriend:function(a){this.snsFidDict[a]||(this.snsFidDict[a]=a,this.userData.snsFids=this.userData.snsFids||[],table.insert(this.userData.snsFids,a))},setMarkData:function(a){this.userData.mark=a},getMarkData:function(){return this.userData.mark},getMarkToday:function(){var a=TimeUtils.time(),a=MetaHelper.getSecAtZeroOClock(a),c=MetaHelper.getSecAtZeroOClock(Math.floor(this.userData.mark.createTime/
1E3)||0),a=(a-c)/86400+1;return a>this.userData.mark.daySign&&28>a?a:0==this.userData.mark.daySign?1:this.userData.mark.daySign},getFirstFillMarkDay:function(){var a=this.getMarkToday();if(1==a)return 0;for(var a=table.create(0,a-1),c=0;c<this.userData.mark.markNums.length;++c)a[this.userData.mark.markNums[c]-1]=1;for(c=0;c<a.length;++c)if(0==a[c])return c+1;return 0},addFillMark:function(){var a=this.getFirstFillMarkDay();return 0<a?this.setMarkDay(a):[!1]},setMarkDay:function(a){if(table.exist(this.userData.mark.markNums,
a))return[!1];var c=MetaHelper.getMarkMeta()[a];if(!c||!c.rewards)return[!1];table.insert(this.userData.mark.markNums,a);table.sort(this.userData.mark.markNums,function(a,c){return a<c});return[!0,c.rewards]},getUnlockFriendData:function(a){for(var c in this.userData.unLockFriendInfos){var d=this.userData.unLockFriendInfos[c];if(d.areaId==a)return d.friendIds}return null},getVideoLimits:function(){return this.userData.dailyData.videoLimits},getRequestNum:function(){return this.userData.requestNum||
0},setRequestNum:function(a){this.userData.requestNum=a;0>a&&(this.userData.requestNum=0)},getInviteUser:function(){if(this.userData.inviteId){this.userData.inviteUsers=this.userData.inviteUsers||[];for(var a in this.userData.inviteUsers){var c=this.userData.inviteUsers[a];if(c.playerId==this.userData.inviteId)return[this.userData.inviteId,c]}return[this.userData.inviteId,null]}return[0,null]},setInviteUser:function(a){if(!a)return!1;this.userData.inviteId=a.playerId;table.insert(this.userData.inviteUsers,
a)},getInviteFriendList:function(){var a=[];if(this.userData.friendRewards&&0<this.userData.friendRewards.length)for(var c in this.userData.friendRewards){var d=this.inviteUsersDict[this.userData.friendRewards[c]];d&&table.insert(a,d)}return a},addDrawLotteryTimes:function(a){this.userData.drawLotteryTimes+=a},getTaskList:function(){return this.userData.taskList},getActiveNum:function(){return this.userData.activeNum||0},addActiveNum:function(a){var c=MetaHelper.gameMeta.taskBox,c=c[c.length-1].active;
a+this.userData.activeNum>c&&(a=c-this.userData.activeNum);this.userData.activeNum=a+this.userData.activeNum;return a},setActiveNum:function(a){this.userData.activeNum=a},getRecieveTaskBoxDict:function(){return this.taskBoxDict},isTaskBoxRecieved:function(a){return this.taskBoxDict[a]||!1},addRecieveTaskBox:function(a){this.taskBoxDict[a]=!0},setRecieveTaskBox:function(a){this.taskBoxDict=table.listToMap(a)},getChangeTaskTimes:function(){return this.userData.replaceTaskNum||0},setChangeTaskTimes:function(a){return this.userData.replaceTaskNum=
a},addChangeTaskTimes:function(a){this.userData.replaceTaskNum+=a},getAccomplishTaskDict:function(){return this.accomplishTaskDict},addAccomplishTask:function(a){this.accomplishTaskDict[a]=!0},setAccomplishTask:function(a){this.accomplishTaskDict=table.listToMap(a)},isTaskAccomplished:function(a){return this.accomplishTaskDict[a]||!1},setWeekActiveValue:function(a){this.userData.activeWeekNum=a},getWeekActiveValue:function(){return this.userData.activeWeekNum||0},addWeekActiveValue:function(a){this.userData.activeWeekNum=
this.getWeekActiveValue()+a},setRecieveWeekBox:function(a){this.weekBoxDict=table.listToMap(a)},addRecieveWeekBox:function(a){this.weekBoxDict[a]=!0},isWeekBoxRecieved:function(a){return this.weekBoxDict[a]||!1},isFuncUnlock:function(a){return this.getTopLevel()>=MetaHelper.getFuncUnlockLevel(a)},isLoveFriend:function(a){return this.loveFriendsDict[a]},addLoveFriend:function(a){this.loveFriendsDict[a]=!0;table.insert(this.userData.dailyData.loveFriends,a)},getLovePetFriendByID:function(a){return this.lovePetFriendsDict[a]},
addLovePetFriend:function(a){this.lovePetFriendsDict[a]=!0;table.insert(this.userData.dailyData.lovePetFriends,a)},getLovePetFriendCount:function(){return this.userData.dailyData.lovePetFriends?this.userData.dailyData.lovePetFriends.length:0},completeAchieve:function(a){if(!this.achievesDict[a]){var c={itemId:a,value:TimeUtils.time()};this.achievesDict[a]=c;table.insert(this.userData.achieves,c)}},getTotalAchievePoint:function(){for(var a=MetaHelper.achieveDict,c=0,d=1;d<=this.userData.achieves.length;d++){var e=
a[this.userData.achieves[d-1].itemId];e&&!1!=e.isOpen&&(c+=e.achieveNum)}return c},getAchieveCount:function(){return this.userData.achieves.length},isHaveTimeLevel:function(){var a=this.userData.timeLevelInfo;return a&&a.rooms&&0<a.rooms.length?!0:!1},resetTimeLevel:function(a){if(a){a.rooms=a.rooms||[];this.userData.timeLevelInfo=a;this.roomMap=table.listToMap(a.rooms,"roomId");for(var c=1;c<=a.rooms.length;c++){var d=a.rooms[c-1];d.completeFriend=d.completeFriend||[]}}},resetRoomInfo:function(a){var c=
this.getRoomInfo(a.roomId);c&&(c.completeFriend=a.completeFriend||[])},resetMyRoom:function(a){if(!this.roomMap[a.roomId]&&0!=a.roomId){var c=this.userData.timeLevelInfo;c.rooms=c.rooms||[];0<c.myroom&&this.removeRoom(c.myroom);c.myroom=a.roomId;table.insert(c.rooms,a);this.roomMap[a.roomId]=a;this.isNewRoom=!0}},removeRoom:function(a){for(var c=this.userData.timeLevelInfo.rooms,d=1;d<=c.length;d++)if(c[d-1].roomId==a){table.remove(c,d-1);break}this.roomMap[a]=null},getMyRoom:function(){var a=this.getMyRoomId();
return this.getRoomInfo(a)},resetRoomId:function(){this.userData.timeLevelInfo.myroom=0},getMyRoomId:function(){return this.userData.timeLevelInfo.myroom},getRoomInfo:function(a){return this.roomMap[a]},getFriendRooms:function(){var a=this.userData.timeLevelInfo;if(!a)return[];for(var c=this.getMyRoomId(),d=[],a=a.rooms,e=1;e<=a.length;e++){var f=a[e-1];f.roomId!=c&&table.insert(d,f)}var g=this.getPlayerId();table.sort(d,function(a,c){return a.completeFriend&&(table.includes(a.completeFriend,g)||
3<=a.completeFriend.length||2==a.completeFriend.length&&a.ownId!=g&&!table.includes(a.completeFriend,a.ownId))?!1:a.overTime>c.overTime});return d},hasInitPopcorn:function(){return 0!=this.userData.popcorn.popcornLevelData.levelEditTime},updatePopcorn:function(){var a=this.userData.popcorn.popcornData,c=1E3*TimeUtils.time(),d=a.changeType,e=a.updateTime;0!=d&&c>=e&&(1==d?a.capacityLevel+=1:2==d&&(a.produceLevel+=1),d=0,a.changeType=0);0==d&&(this.hasInitPopcorn()?(d=this.getPopcornData(),d[0]>=d[1]?
a.updateTime=c:(d=c-e,c=MetaHelper.getPopcornOutputTimeByLevel(a.produceLevel),d=math.floor(d/(1E3*c)),0<d&&(this.addPopcorn(d),a.updateTime=e+d*c*1E3))):a.updateTime=c)},getPopcornData:function(){var a=this.userData.popcorn.popcornData,c=a.popcorn,d=a.changeType,a=a.updateTime,e=this.getPopcornReserves();return[c,e,d,a]},getPopcorn:function(){return[0,0,0,0]},getPopcornState:function(){var a=this.userData.popcorn.popcornData;return[a.changeType,a.updateTime]},setPopcornState:function(a,c){var d=
this.userData.popcorn.popcornData;d.updateTime=c;d.changeType=a},getPopcornReservesLevel:function(){return this.userData.popcorn.popcornData.capacityLevel},getPopcornReserves:function(){var a=this.getPopcornReservesLevel();return[MetaHelper.getPopcornReservesByLevel(a),a]},increasePopcornReservesLevel:function(){var a=this.userData.popcorn.popcornData,c=this.getPopcornReservesLevel()+1,d=MetaHelper.getPopcornReservesMeta().length;a.capacityLevel=Math.min(d,c)},getPopcornOutputLevel:function(){return this.userData.popcorn.popcornData.produceLevel},
getPopcornOutput:function(){var a=this.getPopcornOutputLevel();return[MetaHelper.getPopcornOutputByLevel(a),a]},increasePopcornOutputLevel:function(){var a=this.userData.popcorn.popcornData,c=this.getPopcornOutputLevel()+1,d=MetaHelper.getPopcornOutputMeta().length;a.produceLevel=Math.min(d,c)},addPopcorn:function(a){var c=this.userData.popcorn.popcornData,d=this.getPopcornData(),e=d[0];a=Math.min(d[1],Math.max(0,e+a));c.popcorn=a;return Math.max(0,a-e)},subPopcorn:function(a){var c=this.userData.popcorn.popcornData;
a=this.getPopcorn()[0]-a;if(0>a)return!1;c.popcorn=a;return!0},getPopcornShellRemain:function(){var a=this.userData.popcorn.popcornData,c=a.protectTime;if(!c||0==c)return a.playCount=0;c=a.protectTime-1E3*TimeUtils.time();0>=c&&(a.playCount=0);return Math.max(0,c)},getPopcornShellReduce:function(){return MetaHelper.getPopcornReduceProtectTime(this.userData.popcorn.popcornData.playCount)},reducePopcornShell:function(){var a=this.userData.popcorn.popcornData,c=this.getPopcornShellReduce(),d=a.protectTime;
!d||0==d||d<=1E3*os.time()||(a.playCount+=1,a.protectTime-=36E5*c,a.protectTime<=1E3*os.time()&&(a.playCount=0,a.protectTime=0))},increasePopcornShellTime:function(a){var c=this.userData.popcorn.popcornData,d=c.protectTime;!d||0==d||d<1E3*TimeUtils.time()?c.protectTime=1E3*TimeUtils.time()+a:c.protectTime+=a},getPopcornLevelIDS:function(){var a=this.userData.popcorn,c=[],d;for(d in a.levelIds)table.insert(c,a.levelIds[d]);table.sort(c,function(a,c){return a<c});return c},getPopcornLevel:function(){return-1},
resetPopcornLevelData:function(a){a.destroyHinders={};this.setPopcornLevelData(a)},getPopcornLevelData:function(){return this.userData.popcorn.popcornLevelData},setPopcornLevelData:function(a){this.userData.popcorn.popcornLevelData=a},getPopcornScore:function(){return this.userData.popcorn.popcornLevelData.score},setPopcornScore:function(a,c){var d=!1,e=this.userData.popcorn.popcornLevelData;a>=e.score&&(e.score=a,e.pet.id=c);e.friendId&&0<e.friendId&&a>=e.friendScore&&(e.friendId=0,e.friendScore=
0,d=!0);return d},getPopcornBlockNumber:function(){var a=this.getTotalStar(),c=MetaHelper.starRewardDict,d=MetaHelper.getPopcornBasicHinderNum(),e;for(e in c){var f=c[e];if(a<f.star)break;f.hinder&&(d+=f.hinder)}return d},popcornRepair:function(){this.userData.popcorn.popcornLevelData.destroyHinders={}},updatePopcornPet:function(){var a=this.userData.popcorn.popcornData,c=[],d=[],e={},f=1E3*TimeUtils.time(),g=1E3*MetaHelper.getPopcornChallengeTime(),h;for(h in a.petIds){var m=a.petIds[h],n=a.petPlayTime[h],
r=n+g-f;0<r&&(e[m]=r,table.insert(c,m),table.insert(d,n))}a.petIds=c;a.petPlayTime=d;return e},getPopcornChallengeTimes:function(){var a=this.userData.popcorn.popcornData;this.updatePopcornPet();var a=a.petIds.length,c=UserManager.getPetInfos().length;return[a,c]},setPopcornPetCD:function(a){var c=this.userData.popcorn.popcornData;table.insert(c.petIds,a);table.insert(c.petPlayTime,1E3*TimeUtils.time()+1E3*MetaHelper.getPopcornChallengeTime())},getPopcornBuyPetCDGem:function(a){a=this.updatePopcornPet()[petId]||
0;a=1E3*MetaHelper.getPopcornChallengeTime()-a;var c=MetaHelper.getPopcornFinishPetMeta();return Math.ceil(a/(1E3*c.time))*c.gem},popcornBuyPetCD:function(a){var c=this.userData.popcorn.popcornData,d=null,e;for(e in c.petIds)if(c.petIds[e]==a){d=e;break}d&&(table.remove(c.petIds,d),table.remove(c.petPlayTime,d))},syncPopcornData:function(a){var c={};c.levelIds=a.levelIds;c.popcornData=a.popcornData;c.popcornLevelData=a.popcornLevelData;this.userData.popcorn=c},getPopcornDefenderReward:function(a){var c=
MetaHelper.getDefenderReward(),d=Math.floor(a/c.time);return[d*c.coin,a-d*c.time]},getPopcornLastEditTime:function(){return Math.ceil(this.userData.popcorn.popcornLevelData.levelEditTime/1E3)},resetPopcornLastEditTime:function(){this.userData.popcorn.popcornLevelData.levelEditTime=1E3*DataHelper.getSimulatorTs()},getKitchenGodLastRank:function(){return this.userData.kitchenGods},getPopUpMessage:function(){return this.userData.popUpMessage},clearPopUpMessage:function(){this.userData.popUpMessage=null},
getHuskyTaskData:function(){return this.userData.actTask},getHuskyTaskReplaceLimit:function(){return this.userData.actReplaceTaskNum}};UserManager.onInit();GoodsManager={checkGoodsTime:function(a){a=MetaHelper.getGoodMetaListById(a);if(!a)return!1;if(!a.start||!a.end)return!0;var c=DataHelper.getSimulatorTs(),d=a.end;return!(c<a.start||c>d)},isGoodsOpen:function(a){return 0<GoodsManager.getLimitCount(a)[0]?this.checkGoodsTime(a):!1},isGoods2101Open:function(){if(!SnsHelper.isClosePay()){if(10>=UserManager.getTopLevel())return!1;if(TencentSdkManager.isOpen()){if(!TencentSdkManager.isDevicePlatformAndroid())return!1}else if(cc.sys.os!==cc.sys.OS_ANDROID)return!1;
return this.isGoodsOpen(2101)}},checkGoodsDailyBuy:function(a){return 0<GoodsManager.getDailyLimitCount(a)},checkGoodsLifeBuy:function(a){return 0<GoodsManager.getLifeLimitCount(a)},getLimitCount:function(a){if(!MetaHelper.getGoodMetaListById(a))return[0];var c=this.getDailyLimitCount(a);a=this.getLifeLimitCount(a);return[Math.min(c,a),c,a]},getDailyLimitCount:function(a){var c=MetaHelper.getGoodMetaListById(a);if(!c)return 0;if(0==c.limit)return 99999999;var d=0,e=UserManager.getDailyData();if(e&&
e.buyedGoodsInfo)for(var f in e.buyedGoodsInfo){var g=e.buyedGoodsInfo[f];g.itemId==a&&(d=g.value)}else d=0;return c.limit-d},getLifeLimitCount:function(a){var c=MetaHelper.getGoodMetaListById(a);if(!c)return 0;if(0==c.lifeLimit)return 99999999;var d=0,e=UserManager.getBuyGiftsRecord();if(e&&e.length)for(var f=0;f<e.length;++f)if(e[f].itemId==a){d=e[f].value;break}return c.lifeLimit-d}};VideoAdManager={};VideoAdType={UNKNOWN:"None",VAD_Vungle:"Vungle",VAD_Adsense:"Adsense"};VideoAdRewardType={UNKNOWN:0,VAD_Reward_AddMove:1,VAD_Reward_Gem:2,VAD_Reward_Energy:3,VAD_Reward_Resign:4,VAD_Reward_Task:5};VideoAdManager.getMeta=function(a){return(a=MetaHelper.videoAdRewardDict[a])&&a.isOpen&&0<a.adtype.length?a:null};VideoAdManager.isOpenByChannel=function(a){return this.getMeta(a)?GoogleAds.isOpen():!1};
VideoAdManager.checkMaxDayLimit=function(a){var c=this.getMeta(a);return c?this.getDayLimit(a)<c.limit:!1};VideoAdManager.getDayLimit=function(a){var c=UserManager.getVideoLimits(),d;for(d in c){var e=c[d];if(e.itemId==a)return e.value}return 0};VideoAdManager.addDayLimit=function(a){var c=UserManager.getVideoLimits(),d;for(d in c){var e=c[d];if(e.itemId==a){e.value+=1;return}}table.insert(c,{itemId:a,value:1})};
VideoAdManager.canPlayAd=function(a){a=this.getMeta(a);if(!a)return!1;for(var c in a.adtype)if(this.canPlayAdByType(a.adtype[c]))return!0;return!1};VideoAdManager.playAd=function(a,c,d,e){var f=this.getMeta(c);if(!f)return d&&d(!1,0),!1;for(e||(e=0);e<f.adtype.length;++e){var g=f.adtype[e];if(this.canPlayAdByType(g))return this.callback=d,this.controller=a,this.rewardType=c,this.adIndex=e,this.playAdByType(g),this.lastShowTimes=0,a&&(this.lastShowTimes=a.showTimes),!0}d&&d(!1,0);return!1};
VideoAdManager.canPlayAdByType=function(a){return a==VideoAdType.VAD_Adsense?GoogleAds.isOpen():!1};VideoAdManager.playAdByType=function(a){if(a==VideoAdType.VAD_Adsense){var c=this;GoogleAds.playAdWithReward(this.rewardType,function(a){c.playCallback(a);audio.resumeMusic()});audio.pauseMusic()}};
VideoAdManager.playCallback=function(a){a?(a=this.getMeta(this.rewardType),ServerProxy.addItemListByArray(a.item),this.addDayLimit(this.rewardType),this.rewardType==VideoAdRewardType.VAD_Reward_AddMove&&(this.hasAddMove=!0),notification.postEvent("event.ui.addTaskValue",{taskType:TaskType.TaskType_Video_Ad,subType:0}),(!this.controller||this.controller.isShowing&&this.controller.showTimes==this.lastShowTimes)&&this.callback&&this.callback(!0)):!1==a?(!this.controller||this.controller.isShowing&&this.controller.showTimes==
this.lastShowTimes)&&this.callback&&this.callback(!1,1):(!this.controller||this.controller.isShowing&&this.controller.showTimes==this.lastShowTimes)&&this.playAd(this.controller,this.rewardType,this.callback,this.adIndex+1)};
VideoAdManager.setLevelFailed=function(a){this.hasAddMove=!1;if(0==a)this.levelFailed=this.curLevel=0;else{var c=UserManager.getLeveleScore(a);c&&0<c.star?(this.levelFailed=this.curLevel=0,persist.setInt("LevelFailed_"+tostring(UserManager.getUserId()),0),persist.setInt("LevelFailedCount_"+tostring(UserManager.getUserId()),0)):(this.curLevel||(this.curLevel=persist.getInt("LevelFailed_"+tostring(UserManager.getUserId())),this.levelFailed=persist.getInt("LevelFailedCount_"+tostring(UserManager.getUserId()))),
this.curLevel&&this.curLevel==a?this.levelFailed+=1:(this.curLevel=a,this.levelFailed=1),persist.setInt("LevelFailed_"+tostring(UserManager.getUserId()),this.curLevel),persist.setInt("LevelFailedCount_"+tostring(UserManager.getUserId()),this.levelFailed))}};
VideoAdManager.canShowLevelVideo=function(a){this.curLevel&&this.levelFailed||(this.curLevel=persist.getInt("LevelFailed_"+tostring(UserManager.getUserId())),this.levelFailed=persist.getInt("LevelFailedCount_"+tostring(UserManager.getUserId())));printf("\x3e\x3e\x3e\x3e\x3e\x3e\x3e\x3e\x3e\x3e\x3e\x3e\x3e\x3ecanShowLevelVideo curLevel level LevelFailedCount hasAddMove",this.curLevel,a,this.levelFailed,this.hasAddMove);var c=UserManager.getLeveleScore(a);if(c&&0<c.star||!this.canPlayAd(VideoAdRewardType.VAD_Reward_AddMove)||
!this.checkMaxDayLimit(VideoAdRewardType.VAD_Reward_AddMove))return!1;this.curLevel||(this.curLevel=persist.getInt("LevelFailed_"+tostring(UserManager.getUserId())),this.levelFailed=persist.getInt("LevelFailedCount_"+tostring(UserManager.getUserId())));if(this.curLevel==a){a=this.getMeta(VideoAdRewardType.VAD_Reward_AddMove);if(!a)return!1;if(this.levelFailed+1==a.param1&&!this.hasAddMove||this.levelFailed+1>=a.param2&&this.levelFailed<a.param2+a.param3)return!0}return!1};RmtHelper={onInit:function(){ModelManager.registerRemoteCfgLoadListener(handler(this,this.onModelLoad))},onDestroy:function(){ModelManager.unregisterRemoteCfgLoadListener(this.onModelLoad)},onModelLoad:function(a){this.remoteCfg=a;this.announcementVer=0;this.announcementList=[];this.announcementDict={};a.announce_client&&(this.announcementVer=a.announce_client.version,this.announcementList=a.announce_client.announcement,this.announcementDict=table.listToMap(this.announcementList,"id"))},isDateValid:function(a){var c=
a.beginTime;a=a.endTime;var d=TimeUtils.time();return d>=c&&d<=a?!0:!1},isAnnouceValid:function(a){var c=!1;"default"==a.platform?c=!0:a.platform.match(ChanelName)&&(c=!0);return a.enable&&tonumber(a.version)<=VerCode&&c&&this.isDateValid(a)?!0:!1},getAnnoucementList:function(a){a=a||0;for(var c=[],d=0,e=this.announcementList.length;d<e;d++){var f=this.announcementList[d];f.type==a&&this.isAnnouceValid(f)&&c.push(f)}return c},getAnnoucementCount:function(a){a=a||0;for(var c=0,d=0,e=this.announcementList.length;d<
e;d++){var f=this.announcementList[d];f.type==a&&this.isAnnouceValid(f)&&c++}return c},getVerList:function(){return[1E4,this.announcementVer]}};RmtHelper.onInit();HusKyTaskType={NONE:0,DES_FRUIT:1,DES_BLOCK:2,PASS_DIFF_PET:3,TRIGGER_EFFECT:4,GET_STAR:5,WEEK_RANK_RACE:6,FRIEND_REQUEST:7,TURN_TABLE:8,ENERGY_BOTTLE:9,SHARE_GAME:10,SEND_ENERGY:11,TIME_LEVEL:12,RECOVER_ENERGY:13,USE_PROP:14,USE_PRE_PROP:15,PET_EXP:16,PASS_WITH_PET:17,USE_COIN:18,LOGIN:19,INVITE_SNS:20,GAME_COIN:21,USE_PROP_ANY:22,LEVEL_PASS_COUNT:23,USE_PROP_SP:24,LEVEL_PASS_SP:25,CHEF_CHANGE:26,LOTTERY_GO:27,PAGE_OPEN:28,CLEAR_MUL:29,WHEEL_HELP:30};
HuskyFeedType={MAIN_SHARE:101,CHESS_SHARE:1002,CHESS_SHARE_TOT:1003};HuskyTaskPageIndex=cw.ArrayList([1,"\u5546\u5e97",2,"\u6392\u884c\u699c",3,"\u80cc\u5305",4,"\u6d3b\u52a8",5,"\u4efb\u52a1",6,"\u5ba0\u7269"]);
HuskyTaskManager={bOpen:!0,curTaskData:{},taskNeedUploadMap:{},curTaskReplaceLimitCount:0,curDogFood:0,curHuskyTicket:0,curHuskyPieceList:{},huskyChessItemList:{},onInit:function(){HuskyTaskManager.bOpen&&(notification.registerEvent(this.onEvents,"event.ui.destroyFruit",this),notification.registerEvent(this.onEvents,"event.ui.destroyBlock",this),notification.registerEvent(this.onEvents,"event.game.passGame",this),notification.registerEvent(this.onEvents,"event.game.petExp",this),notification.registerEvent(this.onEvents,
"event.game.timeLevel",this),notification.registerEvent(this.onEvents,"event.game.shareSuccess",this),notification.registerEvent(this.onEvents,"event.game.receiveEnergy",this),notification.registerEvent(this.onEvents,"event.game.usePreProp",this),notification.registerEvent(this.onEvents,"event.game.useProp",this),notification.registerEvent(this.onEvents,"event.game.useCoin",this),notification.registerEvent(this.onEvents,"event.ui.petEffect",this),notification.registerEvent(this.onEvents,"event.ui.pageOpen",
this),notification.registerEvent(this.onEvents,"event.ui.combo",this),notification.registerEvent(this.onEvents,"event.game.turnTable",this))},onDestroy:function(){notification.unregisterEvent(this.onEvents)},onEvents:function(a,c){var d=this.getCurTask().taskId;if(d&&(d=MetaHelper.huskyTaskDict[d],"event.ui.pageOpen"!=a||d.condition==c.pageIndex)){var e=[];switch(a){case "event.game.passGame":e.push({deltaProgress:c.star,taskType:HusKyTaskType.GET_STAR});e.push({taskType:HusKyTaskType.PASS_DIFF_PET,
petId:UserManager.getMainPetId()});e.push({taskType:HusKyTaskType.PASS_WITH_PET,condition:UserManager.getMainPetId()});break;case "event.game.timeLevel":e.push({taskType:HusKyTaskType.TIME_LEVEL});e.push({taskType:HusKyTaskType.PASS_DIFF_PET,petId:UserManager.getMainPetId()});e.push({taskType:HusKyTaskType.PASS_WITH_PET,condition:UserManager.getMainPetId()});break;case "event.ui.destroyFruit":c.subType==d.condition&&e.push({taskType:HusKyTaskType.DES_FRUIT,condition:c.subType,deltaProgress:c.addValue,
needSynch:!0});break;case "event.ui.destroyBlock":c.subType==d.condition&&e.push({taskType:HusKyTaskType.DES_BLOCK,condition:c.subType,deltaProgress:c.addValue,needSynch:!0});break;case "event.ui.petEffect":c.subType==d.condition&&e.push({taskType:HusKyTaskType.TRIGGER_EFFECT,condition:c.subType,deltaProgress:c.addValue,needSynch:!0});break;case "event.game.petExp":e.push({taskType:HusKyTaskType.PET_EXP,deltaProgress:c.curExp-c.preExp});break;case "event.game.useProp":e.push({taskType:HusKyTaskType.USE_PROP});
e.push({taskType:HusKyTaskType.USE_PROP_ANY,deltaProgress:c.count});d.condition==c.propId&&e.push({taskType:HusKyTaskType.USE_PROP_SP,deltaProgress:c.count});break;case "event.game.usePreProp":for(var f in c.propIdList)e.push({taskType:HusKyTaskType.USE_PRE_PROP,condition:c.propIdList[f]});for(f in c.propIdList)e.push({taskType:HusKyTaskType.USE_PROP_ANY,condition:c.propIdList[f]});for(f in c.propIdList)d.condition==f&&e.push({taskType:HusKyTaskType.USE_PROP_SP,condition:c.propIdList[f]});break;case "event.game.shareSuccess":e.push({taskType:HusKyTaskType.SHARE_GAME});
break;case "event.game.turnTable":e.push({taskType:HusKyTaskType.TURN_TABLE});break;case "event.game.sendEnergy":e.push({taskType:HusKyTaskType.SEND_ENERGY,deltaProgress:c.count||1});break;case "event.game.recoveryEnergy":e.push({taskType:HusKyTaskType.RECOVER_ENERGY,deltaProgress:c.count||1});break;case "event.game.receiveEnergy":e.push({taskType:HusKyTaskType.ENERGY_BOTTLE,deltaProgress:c.count||1});break;case "event.game.useCoin":e.push({taskType:HusKyTaskType.USE_COIN,deltaProgress:c.count});
break;case "event.game.gameCoin":e.push({taskType:HusKyTaskType.GAME_COIN,deltaProgress:c.count});break;case "event.game.levelPassCount":e.push({taskType:HusKyTaskType.LEVEL_PASS_COUNT,deltaProgress:c.count});break;case "event.game.chefChange":e.push({taskType:HusKyTaskType.CHEF_CHANGE,deltaProgress:c.count});break;case "event.game.lotteryGo":e.push({taskType:HusKyTaskType.LOTTERY_GO,deltaProgress:c.count});break;case "event.ui.pageOpen":e.push({taskType:HusKyTaskType.PAGE_OPEN,deltaProgress:c.addValue,
needSynch:!0});break;case "event.ui.combo":d.condition<=c&&e.push({taskType:HusKyTaskType.CLEAR_MUL,deltaProgress:1,needSynch:!0})}if(0!=e.length)for(f in e)d.type==e[f].taskType&&this.addProgress(e[f])}},addProgress:function(a){!this.curTaskData||this.curTaskData.num>=this.curTaskData.target||(a.deltaProgress=Math.abs(a.deltaProgress||1),this.curTaskData.num+=a.deltaProgress,this.curTaskData.num=Math.min(this.curTaskData.num,this.curTaskData.target),a.needSynch&&(this.taskNeedUploadMap[this.curTaskData.taskId]=
(this.taskNeedUploadMap[this.curTaskData.taskId]?this.taskNeedUploadMap[this.curTaskData.taskId]:0)+a.deltaProgress))},getCacheUploadMap:function(){var a=[],c;for(c in this.taskNeedUploadMap){var d=this.taskNeedUploadMap[c];d&&0<d&&table.insert(a,{itemId:parseInt(c),value:parseInt(d)})}return a},getTaskDesc:function(a){return MetaHelper.huskyTaskDict[a.taskId].name},clearTask:function(){this.taskNeedUploadMap={};this.curTaskData={};this.curTaskReplaceLimitCount=0},setCurTask:function(a){this.curTaskData=
a},getCurTask:function(){return this.curTaskData||{}},setCurTaskRepalceLimitCount:function(a){this.curTaskReplaceLimitCount=a},getCurTaskRepalceLimitCount:function(){return this.curTaskReplaceLimitCount},setCurDogFood:function(a){this.curDogFood=a},getCurDogFood:function(){return this.curDogFood},setCurHuskyPieceList:function(a){this.curHuskyPieceList=[];for(var c=0;c<a.length;++c)this.curHuskyPieceList.push(a[c])},addHuskyPiece:function(a,c){for(var d=!0,e=0;e<this.curHuskyPieceList.length;++e){var f=
this.curHuskyPieceList[e];if(f.itemId==a){d=!1;f.value+=c;break}}e=[];e.itemId=a;e.value=c;d&&this.curHuskyPieceList.push(e)},getCurHuskyPieceCount:function(){for(var a=0,c=0;c<this.curHuskyPieceList.length;c++)a+=this.curHuskyPieceList[c].value;return a},getCurHuskyPiece:function(){return this.curHuskyPieceList.length},setCurhuskyTicket:function(a){this.curHuskyTicket=a},getCurhuskyTicket:function(){return this.curHuskyTicket},setHuskyChessItemList:function(a){this.huskyChessItemList={};for(var c=
0;c<a.length;++c)this.huskyChessItemList[c]=MetaHelper.huskyChessDatasDic[a[c]]},clearCacheUploadMap:function(){this.taskNeedUploadMap={}}};HuskyTaskManager.onInit();QAManager={init:function(){this.initServerByPlatform();this.initServerByParam();this.initCode()},getQueryString:function(a){return null},initServerByPlatform:function(a){a="online";"qa"==a?(GAME_SERVER_SDK_XCX="https://test.hlxxx.qq.com:10031",GAME_SERVER_SDK_QQ="https://test.hlxxx.qq.com:10021",GAME_SERVER_VERSION_XCX=GAME_SERVER_SDK_XCX,GAME_SERVER_VERSION_QQ=GAME_SERVER_SDK_QQ,GAME_SERVER_PLATFORM="qa"):"online"==a?(GAME_SERVER_SDK_XCX="https://h5game.hlxxx.qq.com",GAME_SERVER_SDK_QQ="https://game.hlxxx.qq.com:10022",
GAME_SERVER_VERSION_XCX="https://h5version.hlxxx.qq.com",GAME_SERVER_VERSION_QQ="https://client.hlxxx.qq.com:10021",GAME_SERVER_PLATFORM="online"):"pre"==a?(GAME_SERVER_SDK_XCX="https://pre.hlxxx.qq.com:10031",GAME_SERVER_SDK_QQ="https://pre.hlxxx.qq.com:10021",GAME_SERVER_VERSION_XCX=GAME_SERVER_SDK_XCX,GAME_SERVER_VERSION_QQ=GAME_SERVER_SDK_QQ,GAME_SERVER_PLATFORM="pre"):"dev"==a&&(GAME_SERVER_VERSION_QQ=GAME_SERVER_VERSION_XCX=GAME_SERVER_SDK_QQ=GAME_SERVER_SDK_XCX="http://139.129.194.33:9290")},
initServerByParam:function(){var a=this.getQueryString("server");a&&(GAME_SERVER_VERSION_QQ=GAME_SERVER_VERSION_XCX=GAME_SERVER_SDK_QQ=GAME_SERVER_SDK_XCX=GAME_SERVER_VERSION=GAME_SERVER_URL=a)},initFPS:function(a){a=a||(persist.getBool("Smooth")?60:30);a=parseInt(a);cc.director.setAnimationInterval(1/a);cc.game.setFrameRate(a);TileConst_INIT(a)},initCode:function(){var a=this.getQueryString("js");if(a)try{GAME_SERVER_PLATFORM||(printf("-------------",a),eval(a))}catch(c){printf(c)}}};var TencentSdkManager={isLoginSuc:0,QQAppID:"1106414102",QQAppKey:"Jy7m7joMkeokTJbJ",WXAppID:"wxe36b37561bda63e9",WXAppKey:"40e80650943ab385448bdc38c4e5810d",GameVersionType:{Publish:0,Appointment:1,Experience:2,Test:3},RechargeVersionType:{Publish:0,Test:1},PlayerInfo:{nickname:"",platid:"",openid:"",accesstoken:"",paytoken:"",sex:2,headimgurl:"",pf:""},onInit:function(){GAME_VERSION_TYPE=TencentSdkManager.GameVersionType.Publish;RECHARGE_VERSION_TYPE=TencentSdkManager.RechargeVersionType.Publish;
GAME_EXIT_TIMES=0;this.isOpen()&&(this.isForQZone()||window.mqq&&mqq.invoke("ui","closeWebViews"))},initServer:function(){this.isOpen()&&(this.isH5WXPlatform()?GAME_SERVER_VERSION=GAME_SERVER_URL="http://139.129.194.33:9390":this.isForQZone()?GAME_SERVER_VERSION=GAME_SERVER_URL="https://qzone.oss.bear.candyworks.cn":(GAME_SERVER_URL=GAME_SERVER_SDK_QQ,GAME_SERVER_VERSION=GAME_SERVER_VERSION_QQ))},checkGameOpen:function(){if(!this.isOpen())return!0;if(GAME_VERSION_TYPE==TencentSdkManager.GameVersionType.Experience){if(TencentSdkManager.isDevicePlatformiOS()&&
GAME_SERVER_PLATFORM||TencentSdkManager.isH5WXPlatform())return!1}else if(TencentSdkManager.isH5WXPlatform())return!1;return!0},showH5SDKAbilityDialog:function(){if(!this.isOpen())return TipDialogController.showTip("\u670d\u52a1\u5668\u672a\u54cd\u5e94\uff0c\u8bf7\u4f7f\u7528\u6700\u65b0\u624b\u673aQQ\u83b7\u5f97\u6700\u4f73\u4f53\u9a8c\u54e6~"),!0;if(TencentSdkManager.isDevicePlatformiOS()||TencentSdkManager.isDevicePlatformAndroid())return!1;TipDialogController.showTip("\u5f53\u524d\u7248\u672c\u4e0d\u53ef\u7528\uff0c\u8bf7\u4f7f\u7528\u6700\u65b0\u624b\u673aQQ\u83b7\u5f97\u6700\u4f73\u4f53\u9a8c\u54e6~");
return!0},getGameTitle:function(a){if(a){if(1==a)return"\u6b22\u4e50\u6d88\u6d88\u6d88-\u70b9\u51fb\u5373\u73a9";if(2==a)return"\u6b22\u4e50\u6d88\u6d88\u6d88-\u626b\u7801\u79d2\u73a9"}return"\u6b22\u4e50\u6d88\u6d88\u6d88"},getPf:function(){var a="";TencentSdkManager.isH5QQPlatform()?(a=TencentSdkManager.isDevicePlatformiOS()?a+"qq_m_qq-hlxxx-iap-qqh5":a+"qq_m_qq-hlxxx-android-qqh5",a+="-qq"):(a=TencentSdkManager.isDevicePlatformiOS()?a+"wechat_wx-hlxxx-iap-wxh5":a+"wechat_wx-hlxxx-android-wxh5",
a+="-wx");a+="-"+TencentSdkManager.QQAppID+"-"+TencentSdkManager.PlayerInfo.openid+"-1";return a=TencentSdkManager.isDevicePlatformiOS()?a+"-iap":a+"-android"},getQRSpr:function(){return GAME_VERSION_TYPE==TencentSdkManager.GameVersionType.Experience?"ceshi_QRCode_100.png":"publish_QRCode_100.png"},getDesktopIcon:function(){return GAME_VERSION_TYPE==TencentSdkManager.GameVersionType.Experience?"http://shareicon-1254339902.cossh.myqcloud.com/ceshi_100_square_171101.png":"http://shareicon-1254339902.cossh.myqcloud.com/publish_100_square_171101.png"},
getBaseUrl:function(){var a=window.location.href.split("?");return decodeURI(a[0])},isForQZone:function(){return this.isOpen()?0<TencentSdkManager.GetQueryString("qzone").length||0<=decodeURI(window.location.host).indexOf(TencentSdkManager.QQAppID+".urlshare.cn")?!0:!1:!1},reportQZoneLogin:function(){TencentSdkManager.isForQZone()&&window.reportLogin()},reportQZoneRegister:function(){TencentSdkManager.isForQZone()&&window.reportRegister()},getShareUrl:function(a){var c=this.getBaseUrl()+"?_wv\x3d181008\x26_wwv\x3d2052";
a&&a.feedID&&(c+="\x26feedID\x3d"+a.feedID);return c},getImageUrl:function(){return GAME_VERSION_TYPE==TencentSdkManager.GameVersionType.Experience?"http://shareicon-1254339902.cossh.myqcloud.com/ceshi_100_square_171101.png":"http://shareicon-1254339902.cossh.myqcloud.com/publish_100_square_171101.png"},init:function(){this.isLoginSuc=0;if(this.isOpen()){this.txsdkLog("TencentSdkManager.init");var a=this;H5jssdk.init({qqappid:this.QQAppID,wxappid:this.WXAppID,enbaleRightDragToGoBackParams:!1,isNeedPayToken:!0,
isNeeduserInfo:!0,wxscope:["snsapi_userinfo","snsapi_friend","snsapi_message"],gameVersion:"V1.00.00",isDebug:!1},function(){a.txsdkLog("TencentSdkManager.init success");a.checkLogin(a.initLoginCallback);a.initGame()})}},initGame:function(){this.isOpen()&&this.initGameAbility()},initWhenLogin:function(){this.isNoLogin()||(DcHelper.freshManAction(2),DeviceUDID=this.PlayerInfo.openid,this.startGameLogin())},initLoginCallback:function(){TencentSdkManager.initWhenLogin()},initGameAbility:function(){this.share();
this.onGameVisibilityChange();this.setCloseWindowConfirmDialogInfo();this.getDeviceInfo()},startGameLogin:function(){var a=this,c=SnsHelper.getToken(),d=SnsHelper.getOpenId(),e=SnsHelper.getSNSNick(),f=SnsHelper.getSNSHeadUrl();this.gameLoginData=null;this.gameLoginState=1;HttpHelper.login(function(c,d,e){a.gameLoginState=0;0==c?(cc.addTimePoint("TGLoginEnd"),a.gameLoginCallback?(HttpHelper.initLoginData(d,e),AchievementManager.processRespAchieves(e.achieves),a.gameLoginCallback(c),a.gameLoginCallback=
null):a.gameLoginData={body:d,head:e}):a.gameLoginCallback&&(a.gameLoginCallback(c),a.gameLoginCallback=null)},this.PlayerInfo.platid,c,d,f,e,!0)},checkGameLogin:function(a){var c=this.gameLoginData;1==this.gameLoginState?this.gameLoginCallback=a:c?(HttpHelper.initLoginData(c.body,c.head),AchievementManager.processRespAchieves(c.head.achieves),this.gameLoginData=null,a(0)):a(-100)},isLogin:function(){return this.isOpen()?1==this.isLoginSuc:!1},isNoLogin:function(){return this.isOpen()?0==this.isLoginSuc:
!1},getLoginType:function(){return this.isForQZone()?"qzone":this.isH5WXPlatform()?"wx":"qq"},checkLogin:function(a,c){if(this.isOpen()&&!this._isLogining)if(!FreLoginManager.isCanLogin(SnsHelper.checkSNSLogin()))c&&c();else if(TencentSdkManager.checkGameOpen()){this.isLoginSuc=0;var d=this;d._isLogining=!0;cc.addTimePoint("QQLoginStart");H5jssdk.checkLogin(function(c){cc.addTimePoint("QQLoginEnd");d._isLogining=!1;d.successCheckLoginCallback(c);"function"==typeof eval(a)&&a(c);notification.postEvent("event.login.sdklogin",
{isSuccess:!0,errMsg:"success"});FreLoginManager.login(SnsHelper.checkSNSLogin(),!0)},function(){d._isLogining=!1;d.failCheckLoginCallback();"function"==typeof eval(c)&&c();notification.postEvent("event.login.sdklogin",{isSuccess:!1,errMsg:"failed"});FreLoginManager.login(SnsHelper.checkSNSLogin(),!1)})}},successCheckLoginCallback:function(a){this.isLoginSuc=1;this.PlayerInfo.nickname=a.nickname;this.PlayerInfo.platid=a.platid;this.PlayerInfo.sex="\u7537"==a.sex?1:2;this.PlayerInfo.headimgurl=a.headimgurl;
this.PlayerInfo.openid=a.openid;this.isForQZone()?window.getOpenKey(function(a){TencentSdkManager.txsdkLog("window.getOpenKey "+JSON.stringify(a));TencentSdkManager.PlayerInfo.openid=a.data.openid;TencentSdkManager.PlayerInfo.accesstoken=a.data.openkey}):(this.PlayerInfo.accesstoken=this.getCookie("h5game_accesstoken"),this.PlayerInfo.paytoken=this.getCookie("h5game_paytoken"));DeviceUDID=this.PlayerInfo.openid},failCheckLoginCallback:function(){this.isLoginSuc=0},QQLogin:function(a,c){if(this.isOpen()){this.txsdkLog("TencentSdkManager.QQLogin");
var d=this;H5jssdk.QQLogin(function(c){"function"==typeof eval(a)&&a(c);d.successQQLoginCallback(c)},function(){d.failQQLoginCallback();"function"==typeof eval(c)&&c()})}},successQQLoginCallback:function(a){this.txsdkLog("TencentSdkManager.successQQLoginCallback "+("\u6635\u79f0:"+a.nickname+" openid:"+a.openid+" \u6027\u522b:"+a.sex+" \u5934\u50cfurl:"+a.headimgurl));this.successCheckLoginCallback(a)},failQQLoginCallback:function(){this.txsdkLog("TencentSdkManager.failQQLoginCallback");this.failCheckLoginCallback()},
share:function(a,c){var d={feedID:3001},e="\u6b22\u4e50\u6d88\u6d88\u6d88 \u6b22\u4e50\u6d88\u6d88\u6d88 \u5feb\u6765\u966a\u6211\u73a9\u6e38\u620f! \u63a8\u8350\u4f60\u4e00\u4e2a\u597d\u4e1c\u897f \u4e00\u79d2\u949f\u6d4b\u8bd5\u4f60\u7684\u667a\u5546 \u544a\u8bc9\u4f60\u4e00\u4e2a\u5c0f\u79d8\u5bc6".split(" "),f=MathUtils.random(1,e.length),e=e[f-1],g="\u817e\u8baf\u9996\u6b3e\u840c\u5ba0\u6d88\u9664\u6e38\u620f,\u65e0\u9700\u4e0b\u8f7d,\u70b9\u5f00\u5373\u73a9 \u817e\u8baf\u9996\u6b3e\u840c\u5ba0\u6d88\u9664\u6e38\u620f,\u957f\u5f97\u597d\u770b\u7684\u4eba\u90fd\u5728\u73a9 \u4e0d\u561b\u4e0d\u561b,\u6211\u5c31\u662f\u8981\u8ba9\u4f60\u966a\u6211\u73a9\u6b22\u4e50\u6d88\u6d88\u6d88 \u597d\u73a9\u7684\u6e38\u620f\u5c31\u662f\u8981\u5206\u4eab\u7ed9\u597d\u770b\u7684\u4eba \u5feb\u6765\u6d4b\u4e00\u6d4b\u4f60\u6709\u591a\u806a\u660e \u627e\u5bf9\u8c61\u4e4b\u524d\u4e00\u5b9a\u8981\u5148\u505a\u8fd9\u4ef6\u4e8b".split(" ")[f-
1];console.log("TencentSdkManager.share "+f);console.log("TencentSdkManager.share "+e);console.log("TencentSdkManager.share "+g);e&&g||(e="\u5feb\u8fdb\u6765\uff0c\u6211\u6559\u4f60\u6d88\u9664\u7edd\u5b66",g="\u817e\u8baf\u9996\u6b3e\u7f6e\u6362\u6d88\u9664\u6e38\u620f\uff0c\u65e0\u9700\u4e0b\u8f7d\uff0c\u8fdb\u5165\u5373\u643a\u4f17\u591a\u840c\u5ba0\u9177\u723d\u6d88\u9664\uff01");if(this.isOpen()){var h={feedID:d.feedID,image_url:this.getImageUrl(),title:e,sourceName:this.getGameTitle(1),wx_share_url:this.getShareUrl(d)+
"\x26senderOpenId\x3d"+this.PlayerInfo.openid,desc:g,wxappid:this.WXAppID,share_url:this.getShareUrl(d)+"\x26senderOpenId\x3d"+this.PlayerInfo.openid,params:{extra:""}};this.txsdkLog("TencentSdkManager share : "+h.title+" desc "+h.desc+" share_url "+h.share_url+" wx_share_url "+h.wx_share_url);var m=this;H5jssdk.share(h,function(){m.successShareCallback(h);"function"==typeof eval(a)&&a(h)},function(){m.failShareCallback(h);"function"==typeof eval(c)&&c()})}},successShareCallback:function(a){notification.postEvent("event.game.shareSuccess");
this.txsdkLog("TencentSdkManager.successShareCallback");DcHelper.shareAction(a.feedID,1)},failShareCallback:function(a){this.txsdkLog("TencentSdkManager.failShareCallback");DcHelper.shareAction(a.feedID,0)},getWXShareParams:function(){return H5jssdk.getWXShareParams()},getShareChannel:function(){return H5jssdk.getShareChannel()},sendMessageToFriend:function(a,c,d){if(this.isOpen()){var e=a.title,f=a.description,g=this.getShareUrl(a)+"\x26senderOpenId\x3d"+this.PlayerInfo.openid;a.inviteType&&1==a.inviteType&&
(g=this.getShareUrl(a)+"\x26inviteOpenId\x3d"+this.PlayerInfo.openid);var e={feedID:a.feedID,fopenid:a.openId,thumb_url:this.getImageUrl(),title:e,description:f,url:g,game_tag:a.game_tag},h=this;H5jssdk.sendMessageToFriend(e,function(d){h.successSendMessageToFriendCallback(a);"function"==typeof eval(c)&&c()},function(c){h.failSendMessageToFriendCallback(a);"function"==typeof eval(d)&&d()})}},successSendMessageToFriendCallback:function(a){notification.postEvent("event.game.shareSuccess");this.txsdkLog("TencentSdkManager.successSendMessageToFriendCallback : "+
JSON.stringify(a));DcHelper.shareAction(a.feedID,1)},failSendMessageToFriendCallback:function(a){this.txsdkLog("TencentSdkManager.failSendMessageToFriendCallback : "+JSON.stringify(a));DcHelper.shareAction(a.feedID,0)},shareMessage:function(a,c,d){if(!TencentSdkManager.showH5SDKAbilityDialog()&&this.isH5QQPlatform()){this.txsdkLog("TencentSdkManager.shareMessage");var e=a.title,f=a.desc,g=this.getShareUrl(a)+"\x26senderOpenId\x3d"+this.PlayerInfo.openid;a.inviteType&&1==a.inviteType&&(g=this.getShareUrl(a)+
"\x26inviteOpenId\x3d"+this.PlayerInfo.openid);var h=0;a.shareType&&(h=a.shareType);var e={title:e,desc:f,share_type:h,sourceName:this.getGameTitle(1),share_url:g,iconUrl:this.getDesktopIcon(),image_url:this.getImageUrl(),cusTxt:"",toApp:1},m=this;H5jssdk.shareMessage(e,function(){m.successShareMessageCallback(a);c&&c()},function(){m.failShareMessageCallback(a);d&&d()})}},successShareMessageCallback:function(a){notification.postEvent("event.game.shareSuccess");this.txsdkLog("TencentSdkManager.successShareMessageCallback");
DcHelper.shareAction(a.feedID,1)},failShareMessageCallback:function(a){this.txsdkLog("TencentSdkManager.failShareMessageCallback");DcHelper.shareAction(a.feedID,0)},setWXBasicReport:function(){H5jssdk.setWXBasicReport({game_version:"0.1.0",role_id:"12345678",role_name:"xiaoming",zone_id:1,server_id:1,user_level:100})},setWXReport:function(a){a?H5jssdk.setWXReport({type:"login"}):H5jssdk.setWXReport({type:"logout",online_time:20,logout_reason:1})},relation:function(a,c){if(this.isOpen()){this.txsdkLog("TencentSdkManager.relation");
var d=this;H5jssdk.relation({wxappid:this.WXAppID,qqappid:this.QQAppID},function(c){d.successRelationCallback(c);"function"==typeof eval(a)&&a(c)},function(a){d.failRelationCallback(a);"function"==typeof eval(c)&&c(a)})}},successRelationCallback:function(a){a=a.list;this.txsdkLog("successRelationCallback friend count : "+a.length);for(var c=0;c<a.length;c++){var d=a[c];this.txsdkLog(c+" : "+("friend info:"+d.nickName+" "+d.gender+" "+d.picture+" "+d.openid))}},failRelationCallback:function(a){this.txsdkLog("TencentSdkManager.failRelationCallback "+
a.sMsg)},setQQScoreBatch:function(a,c){var d=this;H5jssdk.setQQScoreBatch({qqappid:d.QQAppID,qqscorelist:[{type:3,bcover:1,data:"999",expires:"0"},{type:2,bcover:1,data:"1999",expires:"0"}]},function(c){d.successSetQQScoreBatchCallback(c);"function"==typeof eval(a)&&a(c)},function(a){d.failSetQQScoreBatchCallback(a);"function"==typeof eval(c)&&c(a)})},successSetQQScoreBatchCallback:function(a){this.txsdkLog("TencentSdkManager.successSetQQScoreBatchCallback "+a.sMsg)},failSetQQScoreBatchCallback:function(a){this.txsdkLog("TencentSdkManager.failRelationCallback "+
a.sMsg)},setWXScoreBatch:function(a,c){var d=this;H5jssdk.setWXScoreBatch({wxappid:this.WXAppID,wxscorelist:{baseinfo:{gamename:"\u5168\u6c11\u98de\u673a\u5927\u6218",platid:0,partitionid:"9",roleid:"wongcai",level:2},battleinfo:{score:4288625,iswin:!0},userdefined:{goldcoin:{name:"\u91d1\u5e01",value:358267},power:{name:"\u4f53\u529b",value:86542},plane:{name:"\u6218\u673a",value:"\u70bd\u5929\u4f7f"}}}},function(c){d.successSetWXScoreBatchCallback(c);"function"==typeof eval(a)&&a(c)},function(a){d.failSetWXScoreBatchCallback(a);
"function"==typeof eval(c)&&c(a)})},successSetWXScoreBatchCallback:function(a){this.txsdkLog("TencentSdkManager.successSetQQScoreBatchCallback "+a.sMsg)},failSetWXScoreBatchCallback:function(a){this.txsdkLog("TencentSdkManager.failRelationCallback "+a.sMsg)},getNewworkType:function(){if(!this.isOpen())return"";var a="";H5jssdk.getNetworkInfo(function(c){c=c.type;TencentSdkManager.txsdkLog("TencentSdkManager.getNetworkInfo "+c);a=1==c?"WIFI":2==c?"2G":3==c?"3G":4==c?"4G":"\u6ca1\u7f51"});return a},
getNetworkInfo:function(){if(!this.isOpen())return"";var a=this;H5jssdk.getNetworkInfo(function(c){a.txsdkLog("\u7f51\u7edc\u4fe1\u606f:"+c.type+" "+c.radio+" "+c.carriertype)})},sendDesktop:function(){if(this.isOpen()&&!TencentSdkManager.isH5WXPlatform()&&!TencentSdkManager.isDevicePlatformiOS()){this.txsdkLog("TencentSdkManager.sendDesktop");var a={title:this.getGameTitle(0),icon:this.getDesktopIcon(),url:this.getShareUrl()},c=this;H5jssdk.sendDesktop(a,function(){c.txsdkLog("TencentSdkManager.sendDesktop success");
DcHelper.sendtoDesktop(1);DcHelper.sendtoDesktop(2);c.isLogin()&&notification.postEvent("event.ui.collectGame")},function(){c.txsdkLog("TencentSdkManager.sendDesktop failure");DcHelper.sendtoDesktop(1)})}},addQQGameShortcut:function(a,c,d){if(!TencentSdkManager.showH5SDKAbilityDialog()){var e={title:this.getGameTitle(0),icon:this.getDesktopIcon(),url:this.getShareUrl()},f=this;H5jssdk.addQQGameShortcut(e,function(d){f.txsdkLog("addQQGameShortcut suc");DcHelper.sendtoDesktop(2);"function"==typeof eval(c)&&
c(a)},function(){f.txsdkLog("addQQGameShortcut fail");"function"==typeof eval(d)&&d(a)})}},closeGame:function(){this.isOpen()&&H5jssdk.popBack()},setCloseWindowConfirmDialogInfo:function(){this.isOpen()&&(this.isH5QQPlatform()&&this.isDevicePlatformAndroid()&&H5jssdk.setOnCloseHandler(function(){var a=!0;UserManager.getShareRewardBool()?a=!0:0<GAME_EXIT_TIMES?a=!0:(a=!1,TencentSdkManager.OpenSendDesktopController(!1),GAME_EXIT_TIMES=1);a&&window.confirm("\u786e\u8ba4\u9000\u51fa\u6e38\u620f\u5417\uff1f")&&
H5jssdk.popBack()}),this.isH5QQPlatform()||this.isDevicePlatformiOS()||H5jssdk.setCloseWindowConfirmDialogInfo({"switch":"true",title_cn:"\u6e29\u99a8\u63d0\u793a\uff1a\u662f\u5426\u9000\u51fa\u6b22\u4e50\u6d88\u6d88\u6d88",title_eng:"tips",ok_cn:"\u786e\u5b9a",ok_eng:"comfirm",cancel_cn:"\u53d6\u6d88",cancel_eng:"cancel"},function(a){}))},openUrlWithExtraWebview:function(a,c){TencentSdkManager.showH5SDKAbilityDialog()||H5jssdk.openUrlWithExtraWebview({url:a,openType:c||1})},closeWindow:function(){this.isOpen()&&
H5jssdk.closeWindow(function(a){})},onGameVisibilityChange:function(){var a=this;H5jssdk.onGameVisibilityChange(function(c){c?(a.txsdkLog("TencentSdkManager.onGameVisibilityChange true"),cc.game.resume()):(a.txsdkLog("TencentSdkManager.onGameVisibilityChange false"),cc.game.pause())})},postX5GamePlayerMessage4QBT:function(){H5jssdk.postX5GamePlayerMessage4QBT(function(a){TencentSdkManager.txsdkLog("TencentSdkManager.postX5GamePlayerMessage4QBT "+a.type)})},addQQFriend:function(a,c){if(!TencentSdkManager.showH5SDKAbilityDialog()){var d=
{openId:a.openId,appId:this.QQAppID,nickName:a.nickName,msg:string.expand(TextTable.t_sharefeed2005,{level:UserManager.getTopLevel(),id:UserManager.getPlayerId()}),sourceId:"46"};TencentSdkManager.txsdkLog("TencentSdkManager addQQFriend openId:"+d.openId+" appId:"+d.appId+" nickName:"+d.nickName+" msg:"+d.msg+" sourceId:"+d.sourceId);H5jssdk.addQQFriend(d,function(a){a&&a.result?TipDialogController.showTip("\u6dfb\u52a0\u6210\u529f~"):TipDialogController.showTip("\u6dfb\u52a0\u6210\u529f!");"function"==
typeof eval(c)&&c()})}},isCanShareScreenshot:function(){return this.isOpen()?H5jssdk.isQQApp()&&window.mqq&&0<=mqq.compare("7.1")?!0:!1:!1},shareScreenshot:function(a,c,d){this.isOpen()&&!TencentSdkManager.showH5SDKAbilityDialog()&&(a={briefMsg:a.title,appName:this.getGameTitle(2),iconUrl:this.getDesktopIcon(),actionUrl:this.getShareUrl(a)+"\x26senderOpenId\x3d"+this.PlayerInfo.openid},H5jssdk.shareScreenshot(a,function(a){}),c&&c(!0),notification.postEvent("event.game.shareSuccess"))},switchToMsgList:function(){if(!TencentSdkManager.showH5SDKAbilityDialog()){var a=
{title:"\u8fd4\u56de \u6b22\u4e50\u6d88\u6d88\u6d88",icon:this.getDesktopIcon()};this.txsdkLog("TencentSdkManager.switchToMsgList");H5jssdk.switchToMsgList(a,function(a){TencentSdkManager.txsdkLog("TencentSdkManager.switchToMsgList "+JSON.stringify(a))})}},disableQQLongPress:function(){H5jssdk.disableQQLongPress()},disableQQWebviewLongPress:function(){H5jssdk.disableQQWebviewLongPress()},setQQClipboard:function(){H5jssdk.setQQClipboard(content,function(){},function(){})},getWXListSubscribe:function(){this.isOpen()&&
H5jssdk.getWXListSubscribe(function(a){var c=a.subscribelist;TencentSdkManager.txsdkLog("\u8ba2\u9605\u5217\u8868\u6210\u529f : "+a.more+" "+a.sMsg);for(a=0;a<c.length;a++){var d=c[a];TencentSdkManager.txsdkLog(a+" : "+("\u6d88\u606f\u8ba2\u9605:"+d.id+" "+d.title+" "+d.status))}},function(a){TencentSdkManager.txsdkLog("\u8ba2\u9605\u5217\u8868\u5931\u8d25 "+a.iRet+" "+a.sMsg)})},setWXListSubscribe:function(){this.isOpen()&&H5jssdk.setWXListSubscribe({subscribeId:[77],subscribeType:1},function(){TencentSdkManager.txsdkLog("\u8ba2\u9605\u5217\u8868\u6210\u529f "+
data.ret+" "+data.msg)},function(){TencentSdkManager.txsdkLog("\u8ba2\u9605\u5217\u8868\u5931\u8d25 "+data.ret+" "+data.msg)})},getBosomFriendsFromCache:function(a,c){if(!this.isOpen())return null;H5jssdk.getBosomFriendsFromCache({count:a},function(a){var e=JSON.stringify(a);TencentSdkManager.txsdkLog(e);a=a.list;for(var e=[],f=0;f<a.length;f++){var g=a[f];g&&e.push({openId:g.openid,name:g.nick_name,headUrl:g.head_img_url})}"function"==typeof eval(c)&&c(e)},function(a){a=JSON.stringify(a);TencentSdkManager.txsdkLog(a);
TipDialogController.showTip(a);"function"==typeof eval(c)&&c(null)})},getBosomFriends:function(a,c){if(!this.isOpen())return null;H5jssdk.getBosomFriends({count:a},function(a){var e=JSON.stringify(a);TencentSdkManager.txsdkLog(e);a=a.list;for(var e=[],f=0;f<a.length;f++){var g=a[f];g&&e.push({openId:g.openid,name:g.nick_name,headUrl:g.head_img_url})}"function"==typeof eval(c)&&c(e)},function(a){a=JSON.stringify(a);TencentSdkManager.txsdkLog(a);TipDialogController.showTip(a);"function"==typeof eval(c)&&
c(null)})},txsdkLog:function(a){DebugFlag&&!GAME_SERVER_PLATFORM&&this.isOpen()&&cc.log(a)},isOpen:function(){return"undefined"!=typeof H5jssdk?!0:!1},getCookie:function(a){var c;return(c=document.cookie.match(RegExp("(^| )"+a+"\x3d([^;]*)(;|$)")))?unescape(c[2]):null},GetQueryString:function(a){a=RegExp("(^|\x26)"+a+"\x3d([^\x26]*)(\x26|$)");a=window.location.search.substr(1).match(a);return null!=a?decodeURI(a[2]):""},isH5QQPlatform:function(){return this.isOpen()?!H5jssdk.isWxApp():!1},isH5WXPlatform:function(){return this.isOpen()?
H5jssdk.isWxApp():!1},isDevicePlatformAndroid:function(){return this.isOpen()?H5jssdk.isAndroidSystem():!1},isDevicePlatformiOS:function(){return this.isOpen()?H5jssdk.isIOSSystem():!1},getShareOpenid:function(){return this.isOpen()?H5jssdk.getShareOpenid()||"":""},getToken:function(){return this.PlayerInfo.accesstoken},getOpenId:function(){return this.PlayerInfo.openid},getNickName:function(){return this.PlayerInfo.nickname},getHeadUrl:function(){return this.PlayerInfo.headimgurl},lastRechargeAction:{successCallback:null,
failCallback:null,cash:0,extraCash:0,productid:""},rechargeGameCurrency:function(a,c,d,e,f){if(this.isOpen()){TencentSdkManager.lastRechargeAction.successCallback=a;TencentSdkManager.lastRechargeAction.failCallback=c;TencentSdkManager.lastRechargeAction.cash=d;TencentSdkManager.lastRechargeAction.extraCash=e;TencentSdkManager.lastRechargeAction.productid=f;var g=TencentSdkManager.getPf();TencentSdkManager.txsdkLog("\u652f\u4ed8pf\u503c "+g);this.isForQZone()?HttpHelper.SendQzoneBuyRmb(null,""+f,function(d,
e){if(0==d)if(0>=e.result)"function"==typeof eval(a)&&a();else{var f=e.result;TencentSdkManager.txsdkLog("QZone : \u8d2d\u4e70\u5dee"+f+"\u661f\u5e01");window.popPayTips({defaultScore:f,appid:TencentSdkManager.QQAppID})}else TipDialogController.showTip("\u83b7\u53d6\u661f\u5e01\u5931\u8d25"),"function"==typeof eval(c)&&c()}):this.isDevicePlatformiOS()&&this.isH5QQPlatform()?(this.txsdkLog("iOS qq \u652f\u4ed8 isDevicePlatformiOS"),mqq.pay.pay({app_id:"1450013174",pf:g,pfkey:"pfkey",product_id:f,product_type:0,
pay_item:d+e,quantity:1,is_deposit_game_coin:1,var_item:""},function(d,e){0==d?(TencentSdkManager.txsdkLog("iOS qq \u652f\u4ed8 onSuccess"),TipDialogController.showTip("\u652f\u4ed8\u6210\u529f"),"function"==typeof eval(a)&&a()):(TencentSdkManager.txsdkLog("iOS qq \u652f\u4ed8 onClose"),TipDialogController.showTip(d+" "+e),"function"==typeof eval(c)&&c())})):this.isDevicePlatformAndroid()&&this.isH5QQPlatform()&&(this.txsdkLog("Android qq \u652f\u4ed8 isDevicePlatformAndroid"),RECHARGE_VERSION_TYPE==
TencentSdkManager.RechargeVersionType.Publish&&"qa"!=GAME_SERVER_PLATFORM?Midas.rechargeGameCurrency({appid:"1450013173",pf:g,zoneid:"1",n:d,as:1,account:"qq",openid:this.PlayerInfo.openid,openkey:this.PlayerInfo.paytoken,sessionid:"openid",sessiontype:"kp_actoken",onSuccess:function(){TipDialogController.showTip("\u652f\u4ed8\u6210\u529f");TencentSdkManager.txsdkLog("Android qq \u652f\u4ed8 onSuccess");"function"==typeof eval(a)&&a()},onClose:function(){TencentSdkManager.txsdkLog("Android qq \u652f\u4ed8 onClose");
1>arguments.length||TipDialogController.showTip("\u652f\u4ed8\u53d6\u6d88 "+arguments.length);"function"==typeof eval(c)&&c()}}):Midas.rechargeGameCurrency({appid:"1450013173",pf:g,zoneid:"1",n:d,as:1,account:"qq",sandbox:1,openid:this.PlayerInfo.openid,openkey:this.PlayerInfo.paytoken,sessionid:"openid",sessiontype:"kp_actoken",onSuccess:function(){TipDialogController.showTip("\u652f\u4ed8\u6210\u529f");TencentSdkManager.txsdkLog("Android qq \u652f\u4ed8 onSuccess");"function"==typeof eval(a)&&a()},
onClose:function(){TencentSdkManager.txsdkLog("Android qq \u652f\u4ed8 onClose");1>arguments.length||TipDialogController.showTip("\u652f\u4ed8\u53d6\u6d88 "+arguments.length);"function"==typeof eval(c)&&c()}}))}}};
window.__paySuccess=function(){TipDialogController.showTip("\u652f\u4ed8\u6210\u529f");TencentSdkManager.txsdkLog("QZone : \u652f\u4ed8\u6210\u529f");TencentSdkManager.lastRechargeAction.successCallback=successCallback;TencentSdkManager.lastRechargeAction.failCallback=failCallback;TencentSdkManager.lastRechargeAction.cash=cash;TencentSdkManager.lastRechargeAction.extraCash=extraCash;TencentSdkManager.lastRechargeAction.productid=productid;TencentSdkManager.rechargeGameCurrency(TencentSdkManager.lastRechargeAction.successCallback,
TencentSdkManager.lastRechargeAction.failCallback,TencentSdkManager.lastRechargeAction.cash,TencentSdkManager.lastRechargeAction.extraCash,TencentSdkManager.lastRechargeAction.productid)};window.__payError=function(){TipDialogController.showTip("\u652f\u4ed8\u5931\u8d25");TencentSdkManager.txsdkLog("QZone : \u652f\u4ed8\u5931\u8d25")};window.__payClose=function(){TipDialogController.showTip("\u652f\u4ed8\u53d6\u6d88");TencentSdkManager.txsdkLog("QZone : \u652f\u4ed8\u53d6\u6d88")};
TencentSdkManager.getTimeinterval=function(a,c){var d=(new Date).getTime(),d="\u5f53\u524d\u64cd\u4f5c:"+c+" | \u65f6\u95f4\u6233:"+d;a?cc._logToWebPage(d):cc.log(d)};TencentSdkManager.insertParam=function(a,c,d,e){var f=(d||document.location.href).split("#");d=f[0];f=f[1];e&&(a=encodeURIComponent(a),c=encodeURIComponent(c));c=a+"\x3d"+c;a=RegExp("(\x26|\\?)("+a+"\x3d[^\x26]*)","g");d=d.replace(a,"$1"+c);a.test(c)||(d=-1<d.indexOf("?")?d.replace("?","?"+c+"\x26"):d+("?"+c));return d+(f?"#"+f:"")};
TencentSdkManager.DeviceInfo={systemName:"",systemVersion:"",model:"",qimei:"",modelVersion:"",identifier:"",totalMemory:0,network:"",screenWidth:0,screenHight:0,QQVersion:""};
TencentSdkManager.getDeviceInfo=function(){H5jssdk.getDeviceInfo(function(a){TencentSdkManager.txsdkLog("\u673a\u578b\u4fe1\u606f");var c=a.systemName,d=a.systemVersion,e=a.model,f=a.modelVersion,g=a.identifier,h=a.incremental,m=a.qimei;a=a.totalMemory;TencentSdkManager.txsdkLog("systemName:"+c);TencentSdkManager.txsdkLog("systemVersion:"+d);TencentSdkManager.txsdkLog("model:"+e);TencentSdkManager.txsdkLog("modelVersion:"+f);TencentSdkManager.txsdkLog("identifier:"+g);TencentSdkManager.txsdkLog("incremental:"+
h);TencentSdkManager.txsdkLog("qimei:"+m);TencentSdkManager.txsdkLog("totalMemory:"+a);TencentSdkManager.isDevicePlatformiOS()&&a?1500<parseFloat(a)&&persist.setBool("Smooth",!0):TencentSdkManager.isDevicePlatformAndroid()?(a&&(a=a/1024/1024),e&&(h=e.toUpperCase(),TencentSdkManager.txsdkLog("\u68c0\u6d4b\u673a\u578b:"+h),DeviceHelper.checkDeviceHigh(h)&&(TencentSdkManager.txsdkLog("\u68c0\u6d4b\u673a\u578b\u6210\u529f:"+h),persist.setBool("Smooth",!0)))):persist.setBool("Smooth",!0);c&&(TencentSdkManager.DeviceInfo.systemName=
c);d&&(TencentSdkManager.DeviceInfo.systemVersion=d);e&&(TencentSdkManager.DeviceInfo.model=e);f&&(TencentSdkManager.DeviceInfo.modelVersion=f);g&&(TencentSdkManager.DeviceInfo.identifier=g);a&&(TencentSdkManager.DeviceInfo.totalMemory=parseInt(a));m&&(TencentSdkManager.DeviceInfo.qimei=m);window.mqq&&mqq.QQVersion&&(TencentSdkManager.DeviceInfo.QQVersion=mqq.QQVersion);TencentSdkManager.DeviceInfo.network=TencentSdkManager.getNewworkType();TencentSdkManager.DeviceInfo.screenWidth=720;TencentSdkManager.DeviceInfo.screenHight=
1280})};TencentSdkManager.OpenSendDesktopController=function(a){!a||!a&&UserManager.getShareRewardBool()||(cc.sys.os==cc.sys.OS_ANDROID?PopoutQueue.push("SendDesktopController",{shareType:"std_xcx_android"}):PopoutQueue.push("SendDesktopController",{shareType:"std_xcx_ios"}))};TencentSdkManager.onInit();XCXManager={isMiniGameSticky:!1,isMiniGameNewUser:!1,showWelfareLayer:!1,showGroupRankLayer:!1,showGroupRankSign:!1,showFriendPKLayer:!1,showFriendPKTab:2};wxCode="";XCXManager.redPacId="";XCXManager.roomid=0;XCXManager.inviteOpenid="";XCXManager.senderOpenId="";XCXManager.extra00={rawData:"",signature:"",encryptedData:"",iv:""};XCXManager.xcx_gameVersion=1031;XCXManager.xcx_roleName="zim";XCXManager.xcx_roleId="10000";XCXManager.isOpen=function(){return!0};
XCXManager.initServer=function(){this.isOpen()&&(cc.sys.isNotPrompt=!0,wxConfig&&wxConfig.isTestServer?GAME_SERVER_VERSION=GAME_SERVER_URL="https://pro.oss.bear.candyworks.cn":(GAME_SERVER_URL=GAME_SERVER_SDK_XCX,GAME_SERVER_VERSION=GAME_SERVER_VERSION_XCX))};XCXManager.init=function(){this.isOpen()&&this.login(!0)};XCXManager.isLogin=function(){return this.isOpen()?this.isLoginState:!1};XCXManager.isNoLogin=function(){return this.isOpen()?!this.isLoginState:!1};
XCXManager.loginWX=function(a){var c=0;wx.login({success:function(d){c++;a.success&&1>=c&&a.success(d)},fail:function(d){c++;a.fail&&1>=c&&a.fail(d)}});setTimeout(function(){c++;a.fail&&1>=c&&a.fail({errMsg:"timeout"})},6E4)};XCXManager.getUserInfoWX=function(a){var c=0;wx.getUserInfo({success:function(d){console.log(d);c++;a.success&&1>=c&&a.success(d)},fail:function(d){c++;a.fail&&1>=c&&a.fail(d)}});setTimeout(function(){c++;a.fail&&1>=c&&a.fail({errMsg:"timeout"})},3E4)};
XCXManager.login=function(a){console.warn("XCXManager.login");if(this.isOpen()&&!this._isLogining){this.isLoginState=!1;this._isLogining=!0;var c=this;this.loginWX({success:function(d){d.code?(wxCode=d.code,console.log("wscode:"+wxCode),c.getUserInfoWX({success:function(d){c.loginSuccess(d,a)},fail:function(a){c.loginFailed(a)}})):c.loginFailed(d)},fail:function(a){c.loginFailed(a)}})}};
XCXManager.loginSuccess=function(a,c){var d=a.userInfo;XCXManager.xcx_roleName=d.nickName;this.extra00.rawData=a.rawData;this.extra00.signature=a.signature;this.extra00.encryptedData=a.encryptedData;this.extra00.iv=a.iv;this.isLoginState=!0;this._isLogining=!1;c&&this.startGameLogin();notification.postEvent("event.login.sdklogin",{isSuccess:!0,errMsg:"success"});this.postMessage({id:98,data:{nickName:d.nickName,avatarUrl:d.avatarUrl}})};
XCXManager.loginFailed=function(a){this._isLogining=this.isLoginState=!1;notification.postEvent("event.login.sdklogin",{isSuccess:!1,errMsg:a.errMsg});console.log("\u83b7\u53d6\u7528\u6237\u767b\u5f55\u6001\u5931\u8d25\uff01"+a.errMsg)};
XCXManager.startGameLogin=function(){console.warn("XCXManager.startGameLogin");var a=this,c=SnsHelper.getToken(),d=SnsHelper.getOpenId(),e=SnsHelper.getSNSNick(),f=SnsHelper.getSNSHeadUrl(),g=SnsHelper.checkSNSLogin();this.gameLoginData=null;this.gameLoginState=1;HttpHelper.login(function(c,d,e){a.gameLoginState=0;0==c?(cc.addTimePoint("XCXLoginEnd"),a.gameLoginCallback?(HttpHelper.initLoginData(d,e),AchievementManager.processRespAchieves(e.achieves),a.gameLoginCallback(c),a.gameLoginCallback=null):
a.gameLoginData={body:d,head:e}):a.gameLoginCallback&&(a.gameLoginCallback(c),a.gameLoginCallback=null)},g,c,d,f,e,!0)};XCXManager.checkGameLogin=function(a){var c=this.gameLoginData;1==this.gameLoginState?this.gameLoginCallback=a:c?(HttpHelper.initLoginData(c.body,c.head),AchievementManager.processRespAchieves(c.head.achieves),this.gameLoginData=null,a(0)):a(-100)};XCXManager.isGameLoginState=function(){return this.isOpen()?this.gameLoginState||this.gameLoginData?!0:!1:!1};
XCXManager.initFrom=function(){if(this.isOpen()){var a=wx.getLaunchOptionsSync();a&&a.query&&(this.senderOpenId=a.query.inviteopenid,"invite"==a.query.from?this.inviteOpenid=a.query.inviteopenid:"welfare"==a.query.from?(this.showWelfareLayer=!0,this.redPacId=a.query.redpacid):"timelevel"==a.query.from?this.roomid=parseInt(a.query.roomid):"grouprank"==a.query.from?1007==a.scene?(this.showFriendPKLayer=!0,this.showFriendPKTab=2):this.showGroupRankSign=this.showGroupRankLayer=!0:"friendrank"==a.query.from&&
(1007==a.scene?(this.showFriendPKLayer=!0,this.showFriendPKTab=a.query.tab||2):this.showGroupRankSign=this.showGroupRankLayer=!0));this.isMiniGameSticky=!1;console.log("options:",a);a&&a.isSticky&&(this.isMiniGameSticky=!0)}};
XCXManager.logicFrom=function(a){if(this.isOpen()){if(this.roomid){var c=this,d=this.roomid;TimeLevelController.openWithRequest(null,d,!1,null,function(e,f){console.log("\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d",e,f,UserManager.getMyRoomId(),d);if(0==e){if(!f.errorcode){if(c.isNewUser){a(d);return}}else if(d==UserManager.getMyRoomId()){TimeLevelController.setAutoOpen(1,0);a();return}TimeLevelController.setAutoOpen(2,f.errorcode)}a()});this.roomid=null;return!0}return this.showWelfareLayer?(this.showWelfareLayer=
!1,RedPackLayerController.showLoading(),StartMenuController.showAllButtons(),!0):this.showFriendPKLayer&&this.senderOpenId&&this.senderOpenId!=wxCode?(this.showFriendPKLayer=!1,FriendPKLayerController.showLoading(this.showFriendPKTab),StartMenuController.showAllButtons(),!0):!1}};
XCXManager.logicMiniGameUser=function(){if(!this.isOpen()||!this.isMiniGameNewUser)return!1;var a=this;PetGetDialogController.showLoading({petId:20001,listener:function(){a.isMiniGameNewUser=!1;SceneHelper.jumpToScene("WorldMap","fade")},autoOpen:!0});return!0};
XCXManager.onInit=function(){this.isOpen()&&(this.initFrom(),this.initWxEvent(),notification.registerEvent(this.onEvents,"event.game.startgame",this),notification.registerEvent(this.onEvents,"event.game.passGame",this),this.version=cc.sys.wxSystemInfo.version,this.postMessage({id:97,scale:wxConfig.projectConfig.contentScaleFactor}))};XCXManager.onEvents=function(a,c){this.isOpen()&&("event.game.startgame"==a?console.warn("event.game.startgame"):"event.game.passGame"==a&&console.warn("event.game.passGame"))};
XCXManager.rechargeGameCurrency=function(a,c,d,e,f){cc.sys.os==cc.sys.OS_IOS?TipDialogController.showTip("iOS\u652f\u4ed8\u6682\u672a\u5f00\u542f"):(console.log("XCXManager.rechargeGameCurrency"+d),wx.requestMidasPayment({mode:"game",env:0,offerId:"1450013235",buyQuantity:d,zoneId:1,currencyType:"CNY",platform:"android",success:function(){TipDialogController.showTip("\u652f\u4ed8\u6210\u529f");a()},fail:function(a){a.errCode?1==a.errCode?TipDialogController.showTip("\u652f\u4ed8\u5931\u8d25"):2==
a.errCode?TipDialogController.showTip("\u652f\u4ed8\u53d6\u6d88"):1E3==a.errCode?TipDialogController.showTip("\u53c2\u6570\u9519\u8bef"):-1==a.errCode?TipDialogController.showTip("\u5f00\u53d1\u5de5\u5177\u4e0d\u53ef\u652f\u4ed8"):TipDialogController.showTip("\u652f\u4ed8\u5931\u8d25 "+a.errCode+" "+a.errMsg):TipDialogController.showTip("\u652f\u4ed8\u5931\u8d25 "+a.errCode+" "+a.errMsg)}}))};XCXManager.messages=[];
XCXManager.logicMessage=function(){var a=XCXManager.messages;if(0<a.length)if(a=a[0],!a.isPost)a.isPost=!0,XCXManager.sendMessage(a),XCXManager.oneMessage();else if(101==a.id){if(a.time+=1,5<a.time)XCXManager.oneMessage()}else if(100==a.id&&(a.time+=1,200<a.time))XCXManager.oneMessage()};XCXManager.oneMessage=function(a){var c=XCXManager.messages;0<c.length&&(c=c.shift(),c.callback&&c.callback(c,a))};
XCXManager.getCacheRes=function(a){for(var c={},d=0;d<a.length;++d)c[a[d]]=cc.loader.getRes(a[d]);return c};XCXManager.getResPath=function(a){if(!this.isOpen())return{};for(var c={},d=0;d<a.length;++d)c[a[d]]=wxfileUtil.getWxFilePath(a[d]);return c};
XCXManager.createNode=function(a){console.log("...node",a.id,sharedCanvas.width,sharedCanvas.height,a.size);var c=a.node,d=new cc.Texture2D;d.initWithElement(sharedCanvas);d.handleLoadedTexture();c.setTexture(d);100==a.id&&c.setTextureRect(cc.rect(0,0,a.size.width,a.size.height))};
XCXManager.sendMessage=function(a){if(100==a.id||101==a.id)a.size=a.node.getContentSize(),a.callback=this.createNode,a.time=0,sharedCanvas.setAttribute("width",a.size.width),sharedCanvas.setAttribute("height",a.size.height);wx.postMessage(a)};XCXManager.runSubLoop=function(){wx.postMessage({id:90})};XCXManager.postMessage=function(a,c){this.isOpen()&&(console.log("postMessage",a),this.messages.push(a),a.callback=c)};
XCXManager.closeOtherSubUI=function(){GroupRankNewController.isShowing&&GroupRankNewController.hide();FriendRankLayerController.isShowing&&FriendRankLayerController.hide();FriendPKLayerController.isShowing&&FriendPKLayerController.hide()};
XCXManager.onShowEvent=function(a){this.isLogin()&&a&&a.query&&("grouprank"==a.query.from?(this.senderOpenId=a.query.inviteopenid,this.closeOtherSubUI(),1007==a.scene?this.senderOpenId&&this.senderOpenId!=wxCode&&FriendPKLayerController.showLoading(a.query.tab||2):GroupRankNewController.showLoading()):"friendrank"==a.query.from?(this.senderOpenId=a.query.inviteopenid,this.closeOtherSubUI(),1007==a.scene?this.senderOpenId&&this.senderOpenId!=wxCode&&FriendPKLayerController.showLoading(a.query.tab||
2):GroupRankNewController.showLoading()):"timelevel"==a.query.from&&HttpHelper.isLogined()&&(a=parseInt(a.query.roomid),TimeLevelController.openWithRequest(null,a,!1,null,function(a,d){})))};
XCXManager.initWxEvent=function(){if(this.isOpen()){setInterval(this.logicMessage,15);var a=this;wx.onMessage(function(a){console.log("\u6536\u5230\u5b50\u57df\u6d88\u606f",a);XCXManager.oneMessage(a.action)});wx.showShareMenu({withShareTicket:!0});var c={feedID:3001},d="\u6b22\u4e50\u6d88\u6d88\u6d88 \u6b22\u4e50\u6d88\u6d88\u6d88 \u5feb\u6765\u966a\u6211\u73a9\u6e38\u620f! \u63a8\u8350\u4f60\u4e00\u4e2a\u597d\u4e1c\u897f \u4e00\u79d2\u949f\u6d4b\u8bd5\u4f60\u7684\u667a\u5546 \u544a\u8bc9\u4f60\u4e00\u4e2a\u5c0f\u79d8\u5bc6".split(" "),e=
MathUtils.random(1,d.length),d=d[e-1],f="\u817e\u8baf\u9996\u6b3e\u840c\u5ba0\u6d88\u9664\u6e38\u620f,\u65e0\u9700\u4e0b\u8f7d,\u70b9\u5f00\u5373\u73a9 \u817e\u8baf\u9996\u6b3e\u840c\u5ba0\u6d88\u9664\u6e38\u620f,\u957f\u5f97\u597d\u770b\u7684\u4eba\u90fd\u5728\u73a9 \u4e0d\u561b\u4e0d\u561b,\u6211\u5c31\u662f\u8981\u8ba9\u4f60\u966a\u6211\u73a9\u6b22\u4e50\u6d88\u6d88\u6d88 \u597d\u73a9\u7684\u6e38\u620f\u5c31\u662f\u8981\u5206\u4eab\u7ed9\u597d\u770b\u7684\u4eba \u5feb\u6765\u6d4b\u4e00\u6d4b\u4f60\u6709\u591a\u806a\u660e \u627e\u5bf9\u8c61\u4e4b\u524d\u4e00\u5b9a\u8981\u5148\u505a\u8fd9\u4ef6\u4e8b".split(" ")[e-
1];console.log("TencentSdkManager.share "+e);console.log("TencentSdkManager.share "+d);console.log("TencentSdkManager.share "+f);d&&f||(d="\u5feb\u8fdb\u6765\uff0c\u6211\u6559\u4f60\u6d88\u9664\u7edd\u5b66",f="\u817e\u8baf\u9996\u6b3e\u7f6e\u6362\u6d88\u9664\u6e38\u620f\uff0c\u65e0\u9700\u4e0b\u8f7d\uff0c\u8fdb\u5165\u5373\u643a\u4f17\u591a\u840c\u5ba0\u9177\u723d\u6d88\u9664\uff01");wx.onShareAppMessage(function(){return{title:f,imageUrl:a.getShareUrl(),success:function(d){a.shareMessageSuccess(c)},
fail:function(d){a.shareMessageFailed(c)}}});wx.onHide&&wx.onHide(function(){console.log("-------onHide");audio.pauseMusic();wx.gameLogoutReport({data:{gameVersion:XCXManager.xcx_gameVersion,roleName:XCXManager.xcx_roleName,roleId:XCXManager.xcx_roleId},success:function(a){console.log("wx.gameLogoutReport succeed")},fail:function(a){console.error("wx.gameLogoutReport fail : ",a.errMsg)}});cc.eventManager&&cc.game._eventHide&&cc.eventManager.dispatchEvent(cc.game._eventHide)});wx.onShow&&wx.onShow(function(c){console.log("onShow",
c);a.onShowEvent(c);c&&c.scene&&(1022==c.scene?(XCXManager.isMiniGameSticky=!0,"undefined"!=typeof SendDesktopController&&(console.log("wx.gameLogoutReport succeed"),SendDesktopController.isShowing&&SendDesktopController.refreshGuideDone())):(XCXManager.isMiniGameSticky=!1,SendDesktopController.isShowing&&"undefined"!=typeof SendDesktopController&&(console.log("wx.gameLogoutReport succeed"),SendDesktopController.openMsgTopGuide(!1))));audio.resumeMusic();""!=wxCode&&wx.gameLoginReport({data:{gameVersion:XCXManager.xcx_gameVersion,
roleName:XCXManager.xcx_roleName,roleId:XCXManager.xcx_roleId},success:function(a){console.log("wx.gameLoginReport succeed")},fail:function(a){console.error("wx.gameLoginReport fail : ",a.errMsg)}});cc.eventManager&&cc.game._eventShow&&cc.eventManager.dispatchEvent(cc.game._eventShow)});wx.setTopBarText({text:"\u6b22\u4e50\u6d88\u6d88\u6d88-\u840c\u5ba0\u6765\u88ad"})}};
XCXManager.xcxShare=function(a,c,d){if(this.isOpen()){if(ShareController.isShowing){var e=ShareController.getXcxScreenShotRect();e&&(a.rect=e)}this.share(a,c,d)}};XCXManager.getShareUrl=function(){return cc.loader.urlByAliases(GetAssetsPath("share_pic.jpg"))};XCXManager.share=function(a,c,d){a.rect?this.shareScreenShot(a,c,d):this.shareMessage(a,c,d)};
XCXManager.shareMessage=function(a,c,d){if(this.isOpen()){a.query=a.query||"from\x3dnormal";a.query+="\x26inviteopenid\x3d"+wxCode;var e=this;wx.shareAppMessage({title:a.desc,imageUrl:a.shareUrl||this.getShareUrl(),query:a.query,withShareTicket:a.withShareTicket||!1,success:function(){c&&c();e.shareMessageSuccess(a)},fail:function(){d&&d();e.shareMessageFailed(a)}})}};
XCXManager.shareMessageSuccess=function(a){a&&a.feedID&&(DcHelper.shareAction(a.feedID,1),notification.postEvent("event.game.shareSuccess",a.feedID))};XCXManager.shareMessageFailed=function(a){a&&a.feedID&&DcHelper.shareAction(a.feedID,0)};
XCXManager.shareScreenShot=function(a,c,d){var e=a.rect,f=window.canvas.width,g=window.canvas.height,h=f/display.width,m=g/display.height;console.log("share_rect",e,f,g,h,m);if(wxConfig.isSpecialModel)this.shareMessage(a,c,d);else{var n=this;window.canvas.toTempFilePath({x:0<e.x*h?e.x*h:0,y:0<e.y*m+0?e.y*m+0:0,width:e.width*h,height:e.height*m,success:function(e){a.shareUrl=e.tempFilePath;n.shareMessage(a,c,d)},fail:function(a){console.log(a);d&&d()}})}};
XCXManager.accessOfficialAccout=function(a,c){window.canvas.toTempFilePath({x:0,y:0,width:window.canvas.width,height:window.canvas.height,success:function(d){wx.previewImage({current:"",urls:[d.tempFilePath],success:a,fail:c})},fail:function(a){c&&c()}})};
XCXManager.downloadAndSaveImageToLocalPath=function(a){wx.downloadFile({url:a,success:function(a){console.log(a);wx.saveImageToPhotosAlbum({filePath:a.tempFilePath,success:function(a){console.log(a)},fail:function(a){console.log(a);"saveImageToPhotosAlbum:fail auth deny"===a.errMsg&&(console.log("\u7528\u6237\u4e00\u5f00\u59cb\u62d2\u7edd\u4e86\uff0c\u6211\u4eec\u60f3\u518d\u6b21\u53d1\u8d77\u6388\u6743"),console.log("\u6253\u5f00\u8bbe\u7f6e\u7a97\u53e3"),wx.openSetting({success:function(a){console.log(a);
a.authSetting["scope.writePhotosAlbum"]?console.log("\u83b7\u53d6\u6743\u9650\u6210\u529f\uff0c\u7ed9\u51fa\u518d\u6b21\u70b9\u51fb\u56fe\u7247\u4fdd\u5b58\u5230\u76f8\u518c\u7684\u63d0\u793a\u3002"):console.log("\u83b7\u53d6\u6743\u9650\u5931\u8d25\uff0c\u7ed9\u51fa\u4e0d\u7ed9\u6743\u9650\u5c31\u65e0\u6cd5\u6b63\u5e38\u4f7f\u7528\u7684\u63d0\u793a")}}))}})}})};
XCXManager.saveImageToLocalPath=function(a){wx.saveImageToPhotosAlbum({filePath:a,success:function(a){console.log(a)},fail:function(a){console.log(a);"saveImageToPhotosAlbum:fail auth deny"===a.errMsg&&(console.log("\u7528\u6237\u4e00\u5f00\u59cb\u62d2\u7edd\u4e86\uff0c\u6211\u4eec\u60f3\u518d\u6b21\u53d1\u8d77\u6388\u6743"),console.log("\u6253\u5f00\u8bbe\u7f6e\u7a97\u53e3"),wx.openSetting({success:function(a){console.log(a);a.authSetting["scope.writePhotosAlbum"]?console.log("\u83b7\u53d6\u6743\u9650\u6210\u529f\uff0c\u7ed9\u51fa\u518d\u6b21\u70b9\u51fb\u56fe\u7247\u4fdd\u5b58\u5230\u76f8\u518c\u7684\u63d0\u793a\u3002"):
console.log("\u83b7\u53d6\u6743\u9650\u5931\u8d25\uff0c\u7ed9\u51fa\u4e0d\u7ed9\u6743\u9650\u5c31\u65e0\u6cd5\u6b63\u5e38\u4f7f\u7528\u7684\u63d0\u793a")}}))}})};XCXManager.onInit();BagLayerController=createController("BagLayerController");BagLayerController.onViewCreate=function(){return loadccb(GetAssetsPath("BagLayer.ccbi"),this)};BagLayerController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);HuskyTaskManager.onEvents("event.ui.pageOpen",{pageIndex:3});this.registerEvent("event.ui.update");this.reset();EffectHelper.dialogLeftShow(this)};BagLayerController.onViewEnter=function(){this.updateUI()};
BagLayerController.onEvents=function(a,c){"event.ui.update"==a&&this.updateUI()};BagLayerController.reset=function(){this.listBag.registerScriptListener(this.onListItemClick,this)};BagLayerController.updateUI=function(){this.updateBagList()};
BagLayerController.updateBagList=function(){this.listBagHolder=[];this.listBag.removeAllItems();var a=UserManager.getTimePropList(),c={itemId:0,value:1,time:0},d;for(d in a){var e=a[d];c.itemId=e.itemId;c.time=e.value;this.addItem(c)}a=UserManager.getNonTimePropList();table.sort(a,function(a,c){return a.itemId<c.itemId});for(d in a)e=a[d],this.addItem(e)};
BagLayerController.addItem=function(a,c){if(0<a.value){var d={},e=loadccb(GetAssetsPath("BagListItem.ccbi"),d,this);d.itemId=a.itemId;d.time=a.time;d.spriteIcon.setDisplayFrameName(GameIconHelper.getIconFrameName(a.itemId));d.timeMark.setVisible(!!a.time);99<a.value?d.labelCount.setString("x99+"):d.labelCount.setString("x"+a.value);this.listBagHolder[this.listBagHolder.length]=d;this.listBag.addItem(e)}};
BagLayerController.shake=function(a,c){if(a){var d=[];d.push(cc.delayTime(c||0));d.push(cc.scaleTo(0.15,1.04));d.push(cc.scaleTo(0.15,1));d.push(cc.scaleTo(0.15,0.98));d.push(cc.scaleTo(0.15,1));d.push(cc.scaleTo(0.15,0.98));d.push(cc.scaleTo(0.15,1));d=cc.sequence(d);a.stopAllActions();a.runAction(d)}};
BagLayerController.onListItemClick=function(a){audio.playSound(GameMusicType.kButtonClick);var c=this.listBagHolder[a],d=c.spriteIcon.getParent();this.shake(d,0.01);var e=c.spriteIcon.getPosition(),d=d.convertToWorldSpace(e);this.listBag.getParent().convertToNodeSpace(d);a={canUse:!0,propId:c.itemId,itemIdx:a,pos:d,time:1E3*c.time,useCallback:handler(this,this.onItemUse)};ItemTipController.show(a)};
BagLayerController.onItemUse=function(a,c){audio.playSound(GameMusicType.kButtonClick);if(11005==a||11006==a)this.back(),PetDetailsController.showLoading();else{var d=this;WaitingDialogController.show();HttpHelper.useObject(this,a,null,function(e){WaitingDialogController.hide();0==e?d.energyFlyAnimation(a,c):TipDialogController.showTip(ErrMsg(e))},this.listBagHolder[c].time)}};
BagLayerController.energyFlyAnimation=function(a,c){EffectHelper.itemFlyToUIAnim(ItemType.ENERGY,1,this.listBagHolder[c].spriteIcon,this.layer,function(){notification.postEvent("event.ui.update")})};BagLayerController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};BagLayerController.back=function(){EffectHelper.dialogLeftHide(this)};CheckedQueryDialogController=createController("CheckedQueryDialogController");CheckedQueryDialogController.onViewCreate=function(){return loadccb(GetAssetsPath("CheckedQueryDialog.ccbi"),this)};CheckedQueryDialogController.onViewOpen=function(){this.layer.setZOrder(LayerZOrderTable.QueryLayer);registerTouchAndKeyProcessor(this,"default",this.back);EffectHelper.dialogPopOut(this,null,!0);this.reset()};
CheckedQueryDialogController.reset=function(){null!=this.param&&(this.labelTitle.setString(this.param.text),this.labelTip.setString(this.param.tip||TextTable.t_EmailTips_txt2),this.spriteCheckMark.setVisible(!1))};CheckedQueryDialogController.getPersistKey=function(a){return(a=a||this.param&&this.param.key)?"lqy"+a+"_day":"lqy_default_day"};
CheckedQueryDialogController.onButtonOk=function(){audio.playSound(GameMusicType.kButtonClick);this.spriteCheckMark.isVisible()&&persist.setInt(this.getPersistKey(),tonumber((new Date).getDate()));this.hide();var a=this.param.listener;null!=a&&a(!0)};CheckedQueryDialogController.onButtonCancel=function(){audio.playSound(GameMusicType.kButtonClick);this.spriteCheckMark.isVisible()&&persist.setInt(this.getPersistKey(),tonumber((new Date).getDate()));this.back()};
CheckedQueryDialogController.onButtonCheck=function(){this.spriteCheckMark.setVisible(!this.spriteCheckMark.isVisible())};CheckedQueryDialogController.canShow=function(a){a=persist.getInt(this.getPersistKey(a));return tonumber((new Date).getDate())!=a};CheckedQueryDialogController.back=function(){this.hide();var a=this.param.listener;null!=a&&a(!1,this.param)};CloudDialogController=createController("CloudDialogController");CloudDialogController.onViewCreate=function(){return loadccb(GetAssetsPath("CloudDialog.ccbi"),this)};CloudDialogController.onViewOpen=function(){this.layer.setZOrder(LayerZOrderTable.CloudLayer);this.registerTouch(function(a,c){return!0},0,!0);this.reset()};
CloudDialogController.reset=function(){this.param&&this.param.open?(this.skelBg.setAnimation(0,"open",!1),this.skelBg.update(0)):this.skelBg.setAnimation(0,"cover",!1);var a=this;this.performDelay(function(){a.hide();a.param&&a.param.listener&&a.param.listener()},1)};ConfirmDialogController=createController("ConfirmDialogController");ConfirmDialogController.onViewCreate=function(){return this.param&&this.param.big?loadccb(GetAssetsPath("ConfirmDialogBig.ccbi"),this):loadccb(GetAssetsPath("ConfirmDialog.ccbi"),this)};ConfirmDialogController.onViewOpen=function(){this.layer.setZOrder(LayerZOrderTable.QueryLayer);registerTouchAndKeyProcessor(this,"default",this.back);EffectHelper.dialogPopOut(this,null,!0);this.reset()};
ConfirmDialogController.reset=function(){if(null!=this.param){this.labelTitle.setString(this.param.text);null!=this.param.textOk&&this.txtOk.setString(this.param.textOk);this.txtOk.enableStroke(cc.color(121,167,71),2);if(this.skelPet&&!this.skelPet._skeleton){var a=cc.Sprite.createWithSpriteFrameName("ico_time_level.png");a.setAnchorPoint(ccp(0.5,0));a.setScale(1.3);this.skelPet.addChild(a)}this.param.size&&this.labelTitle.setFontSize(this.param.size)}};
ConfirmDialogController.onButtonOk=function(){audio.playSound(GameMusicType.kButtonClick);this.back()};ConfirmDialogController.back=function(){if(!this.param.lock){var a=this.param.listener;null!=a&&a(!0,this.param);this.hide()}};DarkLayerController=createController("DarkLayerController");DarkLayerController.onViewCreate=function(){return cc.LayerColor.create(cc.color(255,255,255,255))};
DarkLayerController.onViewOpen=function(){this.layer.setZOrder(LayerZOrderTable.FlashLayer);this.registerTouch(function(a,c){return!0},0,!0);var a=this,c=function(c){a.hide()};this.layer.setOpacity(0);var d=cc.callFunc(function(d){d=a.param.cb1;null!=d&&d();a.performDelay(function(d){a.performDelay(function(d){d=a.param.cb2;null!=d&&d();d=cc.fadeOut(0.6);var e=cc.callFunc(c);a.layer.runAction(cc.sequence(d,e))},0)},0)}),e=cc.fadeIn(0.4);this.layer.runAction(cc.sequence(e,d))};InviteFriendListLayerController=createController("InviteFriendListLayerController");InviteFriendListLayerController.onViewCreate=function(){return loadccb(GetAssetsPath("InviteFriendListLayer.ccbi"),this)};InviteFriendListLayerController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.registerEvent("event.ui.update");this.reset();EffectHelper.dialogLeftShow(this)};InviteFriendListLayerController.onViewEnter=function(){};
InviteFriendListLayerController.onEvents=function(a,c){};InviteFriendListLayerController.reset=function(){this.param&&(this.friendList=this.param.friendList,this.callback=this.param.callback,this.isNoNpc=this.param.isNoNpc,this.isShare=this.param.isShare);null!=this.friendList&&(this.removeNpc(),this.updateFriendListUI())};
InviteFriendListLayerController.removeNpc=function(){if(this.friendList&&this.isNoNpc)for(var a=this.friendList.length-1;0<=a;--a)this.friendList[a].isNpc&&table.remove(this.friendList,a)};InviteFriendListLayerController.updateButton=function(){for(var a=1;a<=this.listFriendHolder.length;a++)if(this.listFriendHolder[a-1].spriteCheckMark.isVisible()){this.btnSend.setEnabled(!0);return}this.btnSend.setEnabled(!1)};
InviteFriendListLayerController.updateFriendListUI=function(){this.btnInviteFriend.setVisible(this.isShare&&(TencentSdkManager.isH5QQPlatform()||!0));this.spriteQQ.setVisible(!1);this.spriteWX.setVisible(!0);if(this.friendList&&0!=this.friendList.length){this.btnSend.setVisible(!0);this.listFriendHolder=[];this.listFriend.removeAllItems();this.sendPanel.setVisible(!0);this.listFriend.registerScriptListener(this.onListItemClick,this);for(var a=this,c=0,d=function(d){if(!(c>=a.friendList.length)){c++;
d=a.friendList[c-1];var e={},h=loadccb(GetAssetsPath("InviteFriendItem.ccbi"),e,a);e.playerId=d.playerId;e.labelName.setString(d.name);e.labelLevel.setString(string.expand(TextTable.t_level,{num:d.topLevelId}));e.labelScore.setString(tostring(d.star));e.btnHead.setTouchEnabled(!1);e.btnSelect.setTouchEnabled(!1);e.spriteCheckMark.setVisible(a.spriteSelectAll.isVisible());GameHelper.loadHeadSprite(e.spriteHead,d.headUrl,!0);a.listFriendHolder[c-1]=e;a.listFriend.addItem(h)}},e=1;7>=e;++e)d();this.listFriend.unregisterPreloadListener();
7<this.friendList.length&&this.listFriend.registerPreloadListener(0.1,0.05,d)}else this.btnSend.setVisible(!1),this.btnAddFriend.setVisible(!0),this.labelNofriend.setVisible(!0)};InviteFriendListLayerController.onListItemClick=function(a){audio.playSound(GameMusicType.kButtonClick);a=this.listFriendHolder[a];var c=!a.spriteCheckMark.isVisible();a.spriteCheckMark.setVisible(c);this.updateButton()};
InviteFriendListLayerController.onButtonSend=function(){audio.playSound(GameMusicType.kButtonClick);for(var a=[],c=1;c<=this.friendList.length;c++){var d=this.friendList[c-1],e=this.listFriendHolder[c-1];(null==e&&this.spriteSelectAll.isVisible()||e&&e.spriteCheckMark.isVisible())&&table.insert(a,d.playerId)}this.callback&&this.callback(a);this.back()};
InviteFriendListLayerController.onButtonInvite=function(){audio.playSound(GameMusicType.kButtonClick);var a=MathUtils.random(1,6);XCXManager.shareMessage({feedID:3003,title:TextTable["t_sharetitle3003_"+a],desc:TextTable["t_sharefeed3003_"+a]})};InviteFriendListLayerController.onButtonHead=function(){};InviteFriendListLayerController.onButtonSelect=function(){};InviteFriendListLayerController.onButtonAdd=function(){this.back();FriendAddLayerController.show()};
InviteFriendListLayerController.onButtonSelectAll=function(){if(this.listFriendHolder){for(var a=!this.spriteSelectAll.isVisible(),c=1;c<=this.listFriendHolder.length;c++)this.listFriendHolder[c-1].spriteCheckMark.setVisible(a);this.spriteSelectAll.setVisible(a);this.updateButton()}};InviteFriendListLayerController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};InviteFriendListLayerController.back=function(){EffectHelper.dialogLeftHide(this)};ItemSourceDialogController=createController("ItemSourceDialogController");SOURCE_WAY={kPopcorn:1,kBell:2,kThomas:3,kWeek:4,kPetLevel:5,kActivity:6,kAchieve:7,kTimeLevel:8,kWXBetaReward:9,kMallReward:10,kTimeChargeGift:11,kTimeShopGift:12};ItemSourceDialogController.onViewCreate=function(){return loadccb(GetAssetsPath("ItemSourceDialog.ccbi"),this)};ItemSourceDialogController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.reset();EffectHelper.dialogLeftShow(this)};
ItemSourceDialogController.reset=function(){var a=this.param,c=this.getItemName(a),d=this.getItemSourceCfgList(a);this.labelName.setString(c);this.spriteItem.setDisplayFrameName(GameIconHelper.getIconFrameName(a));a="";d?(this.sourceCfg=d[0],7==(this.sourceCfg&&this.sourceCfg[0])&&(d=MetaHelper.getAchieveMeta(this.sourceCfg[1]))&&(a=string.expand(TextTable.t_itemSourceGet,{name:d.name}))):this.sourceCfg=null;this.labelDesc.setString(a);this.btnGoto.setVisible(null!=this.sourceCfg)};
ItemSourceDialogController.getItemName=function(a){var c=ServerProxy.getItemType(a),d="unknown";c==ItemType.EQUIP?(a=MetaHelper.equipDict[a])&&(d=TextTable["t_Petclothes_"+a.id]):c==ItemType.CAR&&(a=MetaHelper.carDict[a])&&(d=a.name);return d};ItemSourceDialogController.getItemSourceCfgList=function(a){var c=ServerProxy.getItemType(a),d;c==ItemType.EQUIP?(a=MetaHelper.equipDict[a])&&(d=a.showType):c==ItemType.CAR&&(a=MetaHelper.carDict[a])&&(d=a.showType);return d};
ItemSourceDialogController.jumpBySourceId=function(a){var c=a[0];a=a[1];if(c!=SOURCE_WAY.kPopcorn){if(c==SOURCE_WAY.kThomas)return GameHelper.openUI("lottery");if(c==SOURCE_WAY.kBell)return GameHelper.openUI("world_map");if(c==SOURCE_WAY.kWeek)return GameHelper.openUI("kitchen_god");if(c==SOURCE_WAY.kPetLevel)return GameHelper.openUI("world_map");if(c==SOURCE_WAY.kActivity)return GameHelper.openUI("activity",a);if(c==SOURCE_WAY.kAchieve)return GameHelper.openUI("achieve",a);if(c==SOURCE_WAY.kTimeLevel)return GameHelper.openUI("time_level");
if(c==SOURCE_WAY.kTimeChargeGift)return GameHelper.openUI("time_charge_gift");if(c==SOURCE_WAY.kTimeShopGift)return GameHelper.openUI("time_shop_gift");if(c==SOURCE_WAY.kMallReward)return GameHelper.openUI("shop")}return!1};ItemSourceDialogController.onButtonGoto=function(a){audio.playSound(GameMusicType.kButtonClick);this.back();this.sourceCfg&&this.jumpBySourceId(this.sourceCfg)};ItemSourceDialogController.onButtonBack=function(){this.back()};ItemSourceDialogController.back=function(){this.hide()};ItemTipController=createController("ItemTipController");ItemTipController.onViewCreate=function(){var a=this.param.canUse,c=this.isUseProp(this.param.propId);return a&&c?loadccb(GetAssetsPath("ItemTipUse.ccbi"),this):loadccb(GetAssetsPath("ItemTipCommon.ccbi"),this)};ItemTipController.onViewOpen=function(){var a=this;this.registerTouch(function(c,d){var e=d.getLocation().x,f=d.getLocation().y;return a.nodeDialog.containWorldPoint(e,f)?!0:(a.hide(),!1)},0,!0);this.reset()};
ItemTipController.showWithButton=function(a,c,d,e){a&&c&&d&&(a={propId:a,amount:c,timeLimitExtra:e,pos:this.getPosByButton(d)},this.show(a))};ItemTipController.getPosByButton=function(a){if(!a)return ccp(0,0);a=a.boundingBoxInWorld();return ccp(a.x+0.5*a.width,a.y+0.8*a.height)};
ItemTipController.reset=function(){if(null!=this.param){var a=this.param.pos,c=this.param.propId,d=this.param.amount,e=PropMetaManager.getInstance().getPropUseLimit(c),f=this.param.text,g=this.param.name;if(!f||!g){var h=ServerProxy.getItemType(c);if(h==ItemType.CAR)g=MetaHelper.carDict[c],f="\u5e05\u6c14\u7684\u9910\u8f66\uff1a"+g.name,g=g.name;else if(h==ItemType.EQUIP){if(d=MetaHelper.equipDict[c])d=MetaHelper.petDict[d.own],g=TextTable["t_Petclothes_"+c],f=d.desc+"\u7684\u65f6\u88c5\uff1a"+g}else h==
ItemType.PET?(d=MetaHelper.petDict[c],f="\u4e00\u4f4d\u53ef\u7231\u7684"+d.desc+"\u4e3b\u53a8",g=d.desc):2E4<c?(f=TextTable["t_Ablt_Desc_"+c],g=TextTable["t_name"+c]):0<e?(f=string.expand(TextTable["t_Prop_Desc_"+c],{limit:e}),g=TextTable["t_Prop_"+c]):h==ItemType.MEDAL?(f=TextTable.t_topCardMedal2_tips,g=TextTable.t_topCardMedal1_tips):(f=string.expand(TextTable["t_Prop_Desc_"+c],{amount:d}),g=TextTable["t_Prop_"+c]);this.param.time?(c=this.param.time,f+="\n"+os.format("yyyy/MM/dd hh:mm",c)+"\u5230\u671f"):
this.param.timeLimitExtra&&(c=parseInt(this.param.timeLimitExtra),f+=string.expand(TextTable.t_prop_time_limit,{num:c/3600}))}c=this.param.propId;this.param.canUse&&this.isUseProp(c)&&!this.isEnableUse(c)&&this.btnUse.setEnabled(!1,TextTable.t_ecode200273);this.labelTipDesc.setString(f);this.labelTipName.setString(g);this.nodeDialog.setPosition(a.x,a.y+15);this.playOutAnim()}};ItemTipController.playOutAnim=function(){this.nodeDialog.setScale(0);this.nodeDialog.runAction(cc.scaleTo(0.2,1).easing(cc.easeBackOut()))};
ItemTipController.isEnableUse=function(a){return!0};ItemTipController.isUseProp=function(a){return 11009==a||11010==a||11011==a||11005==a||11006==a};ItemTipController.onButtonUse=function(){this.param.useCallback&&this.param.useCallback(this.param.propId,this.param.itemIdx);this.hide()};ItemTipController.onButtonBack=function(){this.back()};ItemTipController.back=function(){this.hide()};QueryDialogController=createController("QueryDialogController");QueryDialogController.checkAndUseDiamond=function(a,c){var d=UserManager.getDiamond();a>d?(TipDialogController.showTip(ErrMsg(100146)),ShopController.loadAndShow(3)):(d={},d.listener=c,d.text=string.expand(TextTable.t_ecode200276,{num:a||0}),d.textOk=TextTable.t_ok,d.textCancel=TextTable.t_cancel,d.multiText=!0,QueryDialogController.show(d,null,!0))};
QueryDialogController.onViewCreate=function(){return loadccb(GetAssetsPath("QueryDialog.ccbi"),this)};QueryDialogController.onViewOpen=function(){this.layer.setZOrder(LayerZOrderTable.QueryLayer);registerTouchAndKeyProcessor(this,"default",this.back);EffectHelper.dialogPopOut(this);this.reset()};
QueryDialogController.reset=function(){if(null!=this.param){this.param.multiText?(this.labelMultiTitle.setString(this.param.text),this.labelTitle.setVisible(!1),this.labelMultiTitle.setVisible(!0)):(this.labelTitle.setString(this.param.text),this.labelTitle.setVisible(!0),this.labelMultiTitle.setVisible(!1));null!=this.param.textOk&&this.txtOk.setString(this.param.textOk);null!=this.param.textCancel&&this.txtCancel.setString(this.param.textCancel);this.txtOk.enableStroke(cc.color(121,167,71),2);this.txtCancel.enableStroke(cc.color(167,
39,58),2);if(!this.skelPet._skeleton){var a=cc.Sprite.createWithSpriteFrameName("ico_time_level.png");a.setAnchorPoint(ccp(0.5,0));a.setScale(1.3);this.skelPet.addChild(a)}this.param.size&&this.labelTitle.setFontSize(this.param.size)}};QueryDialogController.onButtonOk=function(){audio.playSound(GameMusicType.kButtonClick);var a=this.param.listener,c=this.param.disableAutoHide;null!=a&&a(!0,this.param);!0!=c&&this.hide()};
QueryDialogController.onButtonCancel=function(){audio.playSound(GameMusicType.kButtonClick);this.back()};QueryDialogController.back=function(){var a=this.param.listener,c=this.param.disableAutoHide;null!=a&&a(!1,this.param);!0!=c&&this.hide()};ReloginDialogController=createController("ReloginDialogController");
ReloginDialogController.onInit=function(){notification.registerEvent(this.onDataInvalidEvents,"event.http.dataInvalid",this);notification.registerEvent(this.onDataNotSyncEvents,"event.http.dataNotSync");notification.registerEvent(this.onTokenInvalidEvents,"event.http.tokenInvalid",this);notification.registerEvent(this.onTokenExpireEvents,"event.http.tokenExpire",this);notification.registerEvent(this.onSessionBrokenEvents,"event.http.sessionBroken",this);notification.registerEvent(this.onEnterFg,"event.runtime.enterFg",
this);notification.registerEvent(this.onExceptionRaise,"event.runtime.exceptionRaise",this);notification.registerEvent(this.onBanFromLoginEvents,"event.http.banFromLogin",this);notification.registerEvent(this.onServerDownEvents,"event.http.serverDown",this)};
ReloginDialogController.onDestroy=function(){notification.unregisterEvent(this.onDataInvalidEvents);notification.unregisterEvent(this.onDataNotSyncEvents);notification.unregisterEvent(this.onTokenInvalidEvents);notification.unregisterEvent(this.onTokenExpireEvents);notification.unregisterEvent(this.onSessionBrokenEvents);notification.unregisterEvent(this.onEnterFg);notification.unregisterEvent(this.onExceptionRaise);notification.unregisterEvent(this.onBanFromLoginEvents);notification.unregisterEvent(this.onServerDownEvents)};
ReloginDialogController.onViewCreate=function(){return loadccb(GetAssetsPath("ReloginDialog.ccbi"),this)};ReloginDialogController.onViewOpen=function(){this.layer.setZOrder(LayerZOrderTable.ReloginLayer);registerTouchAndKeyProcessor(this,"default",this.back);EffectHelper.dialogPopOut(this);this.param&&this.param.text&&this.labelTitle.setString(this.param.text);if(!this.skelPet._skeleton){var a=cc.Sprite.createWithSpriteFrameName("ico_time_level.png");a.setAnchorPoint(ccp(0.5,0));a.setScale(1.3);this.skelPet.addChild(a)}ButtonHelper.setTouchDownClick(!0)};
ReloginDialogController.onBanFromLoginEvents=function(a,c){c||(c=TextTable.t_ecode109);this.show({text:c})};ReloginDialogController.onDataInvalidEvents=function(a,c){this.show({text:TextTable.t_dataInvalid})};ReloginDialogController.onDataNotSyncEvents=function(a,c){this.show({text:TextTable.t_dataNotSync})};ReloginDialogController.onTokenInvalidEvents=function(a,c){this.show({text:TextTable.t_tokenInvalid})};ReloginDialogController.onTokenExpireEvents=function(a,c){SnsHelper.clearLoginInfo();this.show({text:TextTable.t_ecode112})};
ReloginDialogController.onSessionBrokenEvents=function(a,c){this.show({text:TextTable.t_sessionBroken});ModelManager.deleteAndReloadLocalDataModel()};ReloginDialogController.onServerDownEvents=function(a,c){this.show({text:TextTable.t_ecode111,ecode:ErrCode.ServerDown})};ReloginDialogController.onEnterFg=function(a,c){c&&18E3<c.duration&&(XCXManager.login(),SceneHelper.jumpToScene("StartMenu"))};ReloginDialogController.onExceptionRaise=function(a,c){this.show({text:c,restart:!0})};
ReloginDialogController.onButtonOk=function(){audio.playSound(GameMusicType.kButtonClick);ButtonHelper.setTouchDownClick(!1);this.param&&this.param.restart?(GameDirector.replaceNewScene("RestartLayer",[]),scheduler.performWithDelayFrameGlobal(function(){restartGame()},3)):(XCXManager.login(),SceneHelper.jumpToScene("StartMenu",null,{ecode:this.param.ecode}))};ReloginDialogController.onInit();SelectFriendListLayerController=createController("SelectFriendListLayerController");SelectFriendListLayerController.onViewCreate=function(){return loadccb(GetAssetsPath("SelectFriendListLayer.ccbi"),this)};SelectFriendListLayerController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.registerEvent("event.ui.update");this.reset();EffectHelper.dialogLeftShow(this)};SelectFriendListLayerController.onViewEnter=function(){};
SelectFriendListLayerController.onEvents=function(a,c){};SelectFriendListLayerController.reset=function(){this.param&&(this.friendList=this.param.friendList,this.callback=this.param.callback);null==this.friendList&&(this.friendList=[]);this.updateFriendListUI()};
SelectFriendListLayerController.updateFriendListUI=function(){if(this.friendList&&0!=this.friendList){this.btnAddFriend.setVisible(!1);this.btnSend.setVisible(!0);this.listFriendHolder=[];this.listFriend.removeAllItems();this.sendPanel.setVisible(!0);this.listFriend.registerScriptListener(this.onListItemClick,this);var a=this;this.performForLoop(1,this.friendList.length,function(c){var d=a.friendList[c-1],e={},f=loadccb(GetAssetsPath("SelectFriendItem.ccbi"),e,a);e.playerId=d.playerId;e.labelName.setString(d.name);
12>=c?e.spriteCheckMark.setVisible(!0):e.spriteCheckMark.setVisible(!1);GameHelper.loadHeadSprite(e.spriteHead,d.headUrl,!0);a.listFriendHolder[c-1]=e;a.listFriend.addItem(f)},0.05,"update_friends")}else this.btnAddFriend.setVisible(!0),this.btnSend.setVisible(!1)};SelectFriendListLayerController.onListItemClick=function(a){audio.playSound(GameMusicType.kButtonClick);a=this.listFriendHolder[a];a.spriteCheckMark.setVisible(!a.spriteCheckMark.isVisible())};
SelectFriendListLayerController.onButtonSend=function(){audio.playSound(GameMusicType.kButtonClick);var a=[];if(this.listFriendHolder)for(var c in this.listFriendHolder){var d=this.listFriendHolder[c];d.spriteCheckMark.isVisible()&&table.insert(a,d.playerId)}this.callback&&this.callback(a);this.back()};SelectFriendListLayerController.onButtonAdd=function(){audio.playSound(GameMusicType.kButtonClick);this.hide();AddFriendLayerController.show()};
SelectFriendListLayerController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};SelectFriendListLayerController.back=function(){EffectHelper.dialogLeftHide(this)};TestDialogController=createController("TestDialogController");TestDialogController.testFuncs={};TestDialogController.onViewCreate=function(){return loadccb(GetAssetsPath("TestDialog.ccbi"),this)};
TestDialogController.onViewOpen=function(){for(var a in this.testFuncs){var c=this.testFuncs[a],d=CCNode.create();d.setContentSize(CCSizeMake(300,100));var e=CCLayerColor.create(ccc4(0,0,0,100),296,96);d.addChild(e);e=ButtonNode.create();e.setPosition(150,50);e.setContentSize(CCSizeMake(200,100));d.addChild(e);var f=CCLabelTTF.create(c.name,"Arial",40);e.addChild(f);e.registerScriptTapListener(c.func);f.setPosition(100,50);this.listTest.addItem(d)}};TipDialogController=createController("TipDialogController");TipDialogController.onViewCreate=function(){return loadccb(GetAssetsPath("TipDialog.ccbi"),this)};TipDialogController.onViewOpen=function(){this.layer.setZOrder(LayerZOrderTable.TipLayer);var a=this;this.registerTouch(function(c,d){a.back();return!1},0,!0);this.head.setDisplayFrameName("head"+UserManager.getMainPetId()+".png")};
TipDialogController.showTip=function(a,c){this.isShowing||this.show();this.labelTitle.setString(a);var d=cc.spriteFrameCache.getSpriteFrame("panel_pad_24.png");if(d&&!d.textureLoaded()&&!this.nodeDialog.bg){var d=this.nodeDialog.getContentSize(),e=cc.Scale9Sprite.create("dot_num_blue.png");e.setPreferredSize(cc.size(480,100));e.setAnchorPoint(0.5,0.5);e.setPosition(d.width/2,d.height/2);this.nodeDialog.addChild(e,-1);this.nodeDialog.bg=e}c&&this.head.setDisplayFrameName("head"+c+".png");this.nodeDialog.stopAllActions();
this.nodeDialog.setScale(0);this.nodeDialog.runAction(cc.scaleTo(0.2,1).easing(cc.easeBackOut()));this.nodeDialog.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(this.back,this)))};TipDialogController.back=function(){this.nodeDialog.runAction(cc.sequence(cc.scaleTo(0.2,0).easing(cc.easeBackIn()),cc.callFunc(this.hide,this)))};WaitingDialogController=createController("WaitingDialogController");WaitingDialogController.onViewCreate=function(){return loadccb(GetAssetsPath("WaitingDialog.ccbi"),this)};
WaitingDialogController.onViewOpen=function(){this.layer.setZOrder(LayerZOrderTable.WaitingLayer);this.registerTouch(function(a,d){return!0},0,!0);this.canHide=!1;this.btnBack.setVisible(!1);if(this.param&&0<this.param){var a=this;this.performDelay(function(){a.canHide=!0;a.btnBack.setVisible(!0);a.btnBack.setOpacity(0);a.btnBack.runAction(cc.fadeIn(0.5))},this.param)}else this.param&&0>this.param&&this.layer.setVisible(!1);this.reset()};
WaitingDialogController.reset=function(){CCNodeUtils.setSpriteOpacity(this.layerBg,0);this.layerBg.runAction(CETreeFadeTo.create(0.2,180))};WaitingDialogController.onButtonBack=function(){this.back()};WaitingDialogController.back=function(){this.hide()};NumberInputController=createController("NumberInputController");NumberInputController.onViewCreate=function(){return loadccb(GetAssetsPath("NumberInput.ccbi"),this)};
NumberInputController.onViewOpen=function(){this.layer.setZOrder(LayerZOrderTable.TipLayer);var a=this;this.registerTouch(function(c,d){if("began"==c){var e=d.getLocation().x,f=d.getLocation().y;a.layerBg.containWorldPoint(e,f)||a.back()}return!0},0,!0);this.layerBg.setPositionY(-this.layerBg.getContentHeight());this.layerBg.stopAllActions();this.layerBg.runAction(cc.moveTo(0.2,ccp(0,0)));this.numList=[];this.param.text&&(this.numList=this.param.text.split(""));this.limitNum=this.param.limitNum||
16;this.eventCallback("attach")};NumberInputController.eventCallback=function(a){this.param.event&&this.param.event(a)};NumberInputController.processCallback=function(){this.param.listener&&this.param.listener(table.concat(this.numList,""))};NumberInputController.onButtonNumber=function(a){this.numList.length>=this.limitNum||(audio.playSound(GameMusicType.kButtonClick),table.insert(this.numList,a),this.processCallback())};
NumberInputController.onButtonEnter=function(){audio.playSound(GameMusicType.kButtonClick);this.back()};NumberInputController.onButtonBack=function(){audio.playSound(GameMusicType.kButtonClick);table.remove(this.numList);this.processCallback()};NumberInputController.back=function(){this.isShowing&&(this.eventCallback("detach"),this.layerBg.stopAllActions(),this.layerBg.runAction(cc.moveTo(0.2,ccp(0,-this.layerBg.getContentHeight()))),this.performDelay(function(){this.hide()},0.25))};EquipTipController=createController("EquipTipController");EquipTipController.onViewCreate=function(){return loadccb(GetAssetsPath("EquipTip.ccbi"),this)};EquipTipController.onViewOpen=function(){var a=this;this.registerScriptTouchHandler(function(c,d,e){return a.nodeDialog.containWorldPoint(d,e)?!0:(this.hide(),!1)},!1,0,!0);this.reset()};
EquipTipController.reset=function(){if(null!=this.param){var a=this.param.wx,c=this.param.wy,d=this.param.equipId,e=0,f="???",g="???",h=MetaHelper.equipDict[d];h&&(e=h.rarity,f=UserManager.getPetName(h.own),g=TextTable["t_Petclothes_"+d]);this.labelTitle.setString(g);this.labelOwner.setString(f);for(d=e+1;5>=d;++d)this["spriteHeart"+d].setVisible(!1);this.nodeDialog.setPosition(a,c);EffectHelper.dialogPopOut(this)}};
EquipTipController.onButtonBack=function(){audio.playSound(GameMusicType.kButtonClick);this.back()};EquipTipController.back=function(){this.hide()};FadeLayerController=createController("FadeLayerController");FadeLayerController.onViewCreate=function(){return cc.LayerColor.create(cc.color(255,255,255,255))};
FadeLayerController.onViewOpen=function(){this.layer.setZOrder(LayerZOrderTable.FlashLayer);this.registerScriptTouchHandler(function(a,c,d){return!0},!1,0,!0);var a=this,c=function(){a.hide();var c=a.param&&a.param.cb3;null!=c&&c()};this.param&&this.param.color&&this.layer.setColor(this.param.color);this.layer.setOpacity(0);var d=cc.callFunc(function(){var d=a.param&&a.param.cb1;null!=d&&d();a.performDelay(function(d){a.performDelay(function(d){d=this.param&&a.param.cb2;null!=d&&d();d=cc.fadeOut(0.2);
var e=cc.callFunc(c);a.layer.runAction(cc.sequence(d,e))},0)},0)}),e=cc.fadeIn(0.2);this.layer.runAction(cc.sequence(e,d))};DiamondNotEnoughDialogController=createController("DiamondNotEnoughDialogController");DiamondNotEnoughDialogController.onViewCreate=function(){return loadccb(GetAssetsPath("DiamondNotEnoughDialog.ccbi"),this)};DiamondNotEnoughDialogController.onViewOpen=function(){this.layer.setZOrder(LayerZOrderTable.QueryLayer);registerTouchAndKeyProcessor(this,"default",this.back);EffectHelper.dialogPopOut(this);this.reset()};DiamondNotEnoughDialogController.reset=function(){};
DiamondNotEnoughDialogController.onButtonOk=function(){audio.playSound(GameMusicType.kButtonClick);LotteryController.isShowing&&LotteryController.back();if(ShopController.isShowing)ShopController.onButtonTag3();else ShopController.loadAndShow(3);this.hide()};DiamondNotEnoughDialogController.onButtonBack=function(){audio.playSound(GameMusicType.kButtonClick);this.hide()};NoviceGiftPackController=createController("NoviceGiftPackController");NoviceGiftPackController.onViewCreate=function(){return cc.Layer.create()};NoviceGiftPackController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"swallow");var a=this;WaitingDialogController.show();HttpHelper.sendGetNovice(a,function(c){WaitingDialogController.hide();0==c?(UserManager.setGetNovice(),a.reset(),a.performDelay(function(){a.hide()},3)):a.hide()})};
NoviceGiftPackController.reset=function(){EffectHelper.itemFlyToUIAnim(ItemType.UNLIMIT_ENERGY,1,ccp(0.5*display.width,0.5*display.height),null,function(){WorldMapUIController.updateUI();if(WorldMapUIController.unlimitEnergyNode){var a=loadccb(GetAssetsPath("NoviceTipDialog.ccbi"),this),c=WorldMapUIController.labelEnergyTime.convertToWorldSpace(ccp(0,0));a.setPosition(WorldMapUIController.rootLayer.convertToNodeSpace(c));WorldMapUIController.rootLayer.addChild(a);a.setScale(0.1);c=[];c.push(cc.scaleTo(0.2,
1.1));c.push(cc.scaleTo(0.1,1));c.push(cc.scaleTo(0.1,1));c.push(cc.delayTime(4));c.push(cc.scaleTo(0.2,0.1));c.push(cc.removeSelf(!0));a.runAction(cc.sequence(c))}});for(var a=MetaHelper.getCommonRewardByID(6).rewards,c=0;c<a.length;++c)EffectHelper.itemFlyToUIAnim(a[c][0],a[c][1],ccp(0.5*display.width,0.5*display.height),null,null)};OneGiftPackController=createController("OneGiftPackController");OneGiftPackController.onViewCreate=function(){return loadccb(GetAssetsPath("OneGiftPack.ccbi"),this,null,null,null,["spLight"])};OneGiftPackController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.registerEvent("event.ui.update");this.reset();EffectHelper.dialogLeftShow(this)};OneGiftPackController.onViewEnter=function(){};
OneGiftPackController.reset=function(){this.goodsId=2101;if(this.goodsMeta=MetaHelper.getGoodMetaListById(this.goodsId)){this.limit=GoodsManager.getLimitCount(this.goodsId)[0];this.itemMeta=this.goodsMeta.item;if(this.goodsMeta.end){var a=os.format("yyyy.MM.dd hh:mm",1E3*this.goodsMeta.end);this.labelTime.setString(string.expand(TextTable.t_1YuanDiamond_txt2,{time:a}))}else this.labelTime.setVisible(!1);for(var a=2,c=1;3>=c;++c){var d=this.itemMeta[c-1];if(d){var e=d[0],d=d[1],f=GameIconHelper.getIconFrameName(e);
e==ItemType.DIAMOND?this.itemCount1.setString("x110"):(this["itemSprite"+a].setDisplayFrameName(f),this["itemCount"+a].setString("x"+d),a++)}this.spLight[c-1].runAction(cc.repeatForever(cc.rotateBy(10,360)))}this.buyCount=1}};OneGiftPackController.isPet=function(a){return ServerProxy.getItemType(a)==ItemType.PET};
OneGiftPackController.playBuyRewardAnim=function(){for(var a=0;a<this.itemMeta.length;++a){var c=this.itemMeta[a],d=c[0];GameIconHelper.getIconFrameName(d);this.isPet(d)?PetGetDialogController.show({petId:d,share:!0}):EffectHelper.itemFlyToUIAnim(d,c[1],this["itemCount"+(a+1)])}};
OneGiftPackController.onButtonBuy=function(){audio.playSound(GameMusicType.kButtonClick);if(GoodsManager.isGoods2101Open())if(SnsHelper.isClosePay())TipDialogController.showTip(ErrMsg(200262));else{var a=MetaHelper.productDict[this.goodsId],c=this;PayHelper.buyProduct(a.cash,a.extraCash,a.productId,function(a,e,f){a&&(e&&f?c.playBuyRewardAnim(f):UserManager.addBuyGoodsRecord(2101,1),notification.postEvent("event.ui.update"),c.back())})}else this.back()};
OneGiftPackController.onButtonItem=function(a){var c=this["itemSprite"+a];a=this.itemMeta[a-1];if(!(11001>a[0]||2E4<a[0])){var d=c.getParent(),c=c.getPosition(),c=d.convertToWorldSpace(c);ItemTipController.show({canUse:!1,propId:a[0],pos:c})}};OneGiftPackController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};OneGiftPackController.back=function(){EffectHelper.dialogLeftHide(this)};EnergyDialogController=createController("EnergyDialogController");EnergyDialogController.onViewCreate=function(){return loadccb(GetAssetsPath("EnergyDialog.ccbi"),this)};EnergyDialogController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.registerEvent("event.ui.update");this.registerEvent("event.ui.openAddFriend");this.registerUpdate("clock",this.updateUI,1);this.reset();EffectHelper.dialogLeftShow(this)};EnergyDialogController.onViewEnter=function(){};
EnergyDialogController.reset=function(){this.diamondPrice=MetaHelper.goodsDict[GoodsType.BuyEnergy].diamond;var a=UserManager.getEnergy()[2];this.nodeBuyEnergy.setVisible(0<a);this.nodeFullEnergy.setVisible(0>=a);this.propList=[11009,11010,11011];this.goodsList=[0,1107,1108];for(a=1;3>=a;++a)this.initItem(a);this.updateProps();this.updateUI();if(VideoAdManager.isOpenByChannel(VideoAdRewardType.VAD_Reward_Energy)){var a=VideoAdManager.canPlayAd(VideoAdRewardType.VAD_Reward_Energy),c=VideoAdManager.checkMaxDayLimit(VideoAdRewardType.VAD_Reward_Energy);
VideoAdManager.getDayLimit(VideoAdRewardType.VAD_Reward_Energy);this.btnVideoAd.setEnabled(a&&c)}this.btnVideoAd.setVisible(!1)};EnergyDialogController.initItem=function(a){var c=this.propList[a-1],c=PropMetaManager.getInstance().getPropMeta(c),c=GameIconHelper.getIconFrameName(c.id);this["spItemIcon_"+a].setDisplayFrameName(c)};EnergyDialogController.onEvents=function(a,c){"event.ui.update"==a?(this.updateUI(),this.updateProps()):"event.ui.openAddFriend"==a&&this.hide()};
EnergyDialogController.updateUI=function(){if(VideoAdManager.isOpenByChannel(VideoAdRewardType.VAD_Reward_Energy)){var a=VideoAdManager.canPlayAd(VideoAdRewardType.VAD_Reward_Energy),c=VideoAdManager.checkMaxDayLimit(VideoAdRewardType.VAD_Reward_Energy);VideoAdManager.getDayLimit(VideoAdRewardType.VAD_Reward_Energy);this.btnVideoAd.setEnabled(a&&c)}var a=MetaHelper.global.user_energy_max_count,d=UserManager.getEnergy(),c=d[0],d=d[2];this.lbCurEnergy.setString(tostring(c)+"/"+tostring(a));if(0<d){var e=
"";3600<d?(e=Math.floor(d/3600),d-=3600*e,e=string.format("%02d:%02d:%02d",e,d/60,d%60)):e=string.format("%02d:%02d",Math.floor(d/60),d%60);"en"==DeviceLan?(this.lbTime_en.setString(tostring(e)),this.lbAddEnergy_en.setString(tostring(a))):(this.lbTime.setString(tostring(e)),this.lbAddEnergy.setString(tostring(a)));this.lbGemPrice.setString("x"+tostring(this.diamondPrice*(a-c)));d=null!=this.param;c>=a||d&&UserManager.isEnergyCanPlay(this.param.roomId)?(this.buyEnergyBtn.setVisible(!1),this.enoughEnergyBtn.setVisible(!0)):
(this.buyEnergyBtn.setVisible(!0),this.enoughEnergyBtn.setVisible(!1))}else this.buyEnergyBtn.setVisible(!1),this.enoughEnergyBtn.setVisible(!0),this.nodeBuyEnergy.setVisible(!1),this.nodeFullEnergy.setVisible(!0),this.unregisterUpdate("clock")};
EnergyDialogController.updateProps=function(){for(var a=1;3>=a;++a){var c=this.propList[a-1],c=UserManager.getPropCount(c)+UserManager.getTimePropCount(c);this["spNumBG_"+a].setVisible(0<c);this["lbNum_"+a].setString(tostring(99<c?"99+":c));1!=a&&(c=MetaHelper.getGoodsPrice(this.goodsList[a-1]),this["lbItemCoin_"+a].setString("x"+tostring(c[1])))}};
EnergyDialogController.onVideoAd=function(){audio.playSound(GameMusicType.kButtonClick);WaitingDialogController.show();var a=this;VideoAdManager.playAd(this,VideoAdRewardType.VAD_Reward_Energy,function(c,d){WaitingDialogController.hide();c&&(notification.postEvent("event.ui.update"),a.updateProps(),EffectHelper.itemFlyToUIAnim(11009,1,a.btnVideoAd,a.btnItem_1))})};
EnergyDialogController.onButtonBuy=function(){audio.playSound(GameMusicType.kButtonClick);var a=MetaHelper.global.user_energy_max_count,c=UserManager.getEnergy()[0];if(!(c>=a))if(UserManager.getDiamond()<this.diamondPrice*(a-c))SnsHelper.isClosePay()?TipDialogController.showTip(ErrMsg(ErrCode.CASH_NOT_ENOUGH)):DiamondNotEnoughDialogController.show();else{var d=this;WaitingDialogController.show();HttpHelper.buy(this,GoodsType.BuyEnergy,a-c,function(a){WaitingDialogController.hide();0==a?(TipDialogController.showTip(TextTable.t_buySuccess),
notification.postEvent("event.ui.update")):(TipDialogController.showTip(ErrMsg(a)),a==ErrCode.CASH_NOT_ENOUGH&&(a=cc.sequence([cc.delayTime(0.5),cc.callFunc(ShopController.loadAndShow,3)]),d.buyEnergyBtn.runAction(a)))})}};EnergyDialogController.onButtonContinue=function(){this.back();null!=this.param&&(this.param.roomId?TimeLevelController.showLoading():StartGameController.show(this.param))};EnergyDialogController.onButtonBuyItem=function(a){if(1==a)this.onFreeGet();else this.onBuyItem(a)};
EnergyDialogController.onButtonUseItem=function(a){var c=this.propList[a-1];if(0<UserManager.getPropCount(c)+UserManager.getTimePropCount(c))this.onUseItem(a);else this.onButtonBuyItem(a)};EnergyDialogController.onFreeGet=function(){audio.playSound(GameMusicType.kButtonClick);AskForEnergyController.show()};
EnergyDialogController.onUseItem=function(a){audio.playSound(GameMusicType.kButtonClick);if(0>=UserManager.getEnergy()[1])TipDialogController.showTip(TextTable.t_fullEnergy);else{var c=this.propList[a-1],d=this;WaitingDialogController.show();HttpHelper.useObject(this,c,null,function(c){WaitingDialogController.hide();0==c?d.energyFlyAnimation(a):TipDialogController.showTip(ErrMsg(c))})}};
EnergyDialogController.energyFlyAnimation=function(a){GameDirector.getRunningScene();a=this["spItemIcon_"+a];var c=this.spEnergyIcon,d=cc.Sprite.createWithSpriteFrameName("#ico_energy.png");this.nodeDialog.addChild(d);var e=this;EffectHelper.flyAnim1(d,a,c,function(){d.removeFromParent(!0);notification.postEvent("event.ui.update");e.updateProps()})};
EnergyDialogController.onBuyItem=function(a){audio.playSound(GameMusicType.kButtonClick);ShopItemBuyDialogController.showLoading({goodsId:this.goodsList[a-1],isOnlyTip:!0})};EnergyDialogController.onButtonBack=function(){this.back()};EnergyDialogController.back=function(){audio.playSound(GameMusicType.kPopupClose);EffectHelper.dialogLeftHide(this)};RankListLayerController=createController("RankListLayerController");var worldRankRange=100;RankListLayerController.onViewCreate=function(){return loadccb(GetAssetsPath("RankListLayer.ccbi"),this)};RankListLayerController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.reset();EffectHelper.dialogLeftShow(this)};RankListLayerController.onViewEnter=function(){};
RankListLayerController.reset=function(){notification.postEvent("event.ui.RankListGuide");HuskyTaskManager.onEvents("event.ui.pageOpen",{pageIndex:2});var a=this.param||1,c=this;this.maxWorldRank=this.myWorldRank=this.myRank=0;this.pageLayer.setTouchEnabled(!1);this.pageLayer.setPageSize(2);this.pageLayer.registerScriptListener(function(a,e){"page"==a?1==e?c.pageLayer.setPageView(c.buildFriendPage(),e):2==e&&c.pageLayer.setPageView(c.buildWorldPage(),e):"select"==a&&c.showTabButton(e)});this.pageLayer.moveToPage(a);
this.worldRankCache={};this.levelWorldPostMap={};this.hasRefreshWorldPage=!1;this.btnAddFriendQQ.setVisible(!1);this.scrollBar.bindScrollView(this.listWorld);this.scrollBar.setTouchMode(3);this.scrollBar.setDelayFadeInterval(-1);this.scrollBar.setTouchRangeScale(3);this.addWXSpr.setVisible(!0);this.addQQSpr.setVisible(!1);this.refreshFriendPage();this.addQQSpr2.setVisible(!1);this.btnSnsFriend.setVisible(!1);this.btnSnsFriend2.setVisible(!1);this.btnFriendPK.setVisible(!0);this.btnFriendPK2.setVisible(!0)};
RankListLayerController.buildFriendPage=function(){return loadccb(GetAssetsPath("RankListFriendLayer.ccbi"),this)};RankListLayerController.buildWorldPage=function(){return loadccb(GetAssetsPath("RankListWorldLayer.ccbi"),this,null,null,null,["spriteWHead","spriteWGoal","spriteWSex","labelWName","labelWBadge"])};
RankListLayerController.refreshFriendPage=function(){var a=this;if(!persist.getBool("RankTipPopKey")){a.tipRankHelpNode.setVisible(!0);a.tipRankHelpNode.setScale(0.1);var c=[];c.push(cc.delayTime(3.5));c.push(cc.scaleTo(0.3,1.1));c.push(cc.scaleTo(0.25,0.92));c.push(cc.scaleTo(0.3,1));c.push(cc.callFunc(function(){EffectHelper.jellyMoveSlow(a.tipRankHelpNode,ccp(0,5),2,0)}));c.push(cc.delayTime(5));c.push(cc.scaleTo(0.3,0.92));c.push(cc.scaleTo(0.25,1));c.push(cc.scaleTo(0.3,0.3));c.push(cc.hide());
a.tipRankHelpNode.runAction(cc.sequence(c));persist.setBool("RankTipPopKey",!0)}this.listFriendHolder=null;this.listFriend.registerScriptListener(this.onListItemClick,this);CacheHelper.getAndCacheFiendsInfo(this,function(c,e){if(0==c){var f=CacheHelper.getUserInfoWithDefault(UserManager.getPlayerId());table.insert(e,f);table.sort(e,function(a,c){return a.topLevelId==c.topLevelId?a.star==c.star?a.playerId<c.playerId:a.star>c.star:a.topLevelId>c.topLevelId});a.updateFriendListUI(e)}else TipDialogController.showTip(ErrMsg(c))})};
RankListLayerController.refreshWorldPage=function(){var a=this;WaitingDialogController.show();this.getWorldRankList(1,function(c,d,e,f){WaitingDialogController.hide();0==c?(0==d?a.labelWNo.setVisible(!0):a.nodeRankStage.setVisible(!0),a.updateWorldListUI(d,e,f)):(a.labelWNo.setVisible(!0),TipDialogController.showTip(ErrMsg(c)))})};RankListLayerController.getStartRankRange=function(a){var c=worldRankRange;return[Math.floor((a-1)/c)*c+1,c]};
RankListLayerController.isCacheWorldRank=function(a){a=this.getStartRankRange(a)[0];return this.worldRankCache[a]?!0:!1};RankListLayerController.getCacheWorldRank=function(a){var c=this.getStartRankRange(a)[0];return this.worldRankCache[c]?[this.worldRankCache[c][a-c],!0]:[]};
RankListLayerController.getWorldRankList=function(a,c){a=a||1;if(this.isCacheWorldRank(a))c(0,100,0,0);else{var d=this.getStartRankRange(a),e=d[0],d=d[1];if(!this.levelWorldPostMap[e]){this.levelWorldPostMap[e]=!0;var f=this;HttpHelper.sendGetWorldRank(this,e,d,function(a,d){f.levelWorldPostMap[e]=null;if(0==a){var m=d.ranks||[],n=Math.min(d.maxRank,1E4),r=d.rank,s=d.value,t=table.listToMap(d.users,"playerId");f.mergeRankUser(m,t);f.worldRankCache[e]=m;c(0,n,r,s)}else c(a)})}}};
RankListLayerController.mergeRankUser=function(a,c){for(var d=1;d<=a.length;d++){var e=a[d-1],f=c[e.playerId];f&&(e.name=f.name,e.headUrl=f.headUrl,e.topLevelId=f.topLevelId,e.star=f.star,e.isNpc=!0,e.sex=f.sex)}};
RankListLayerController.updateRank=function(a,c,d,e){3>=c?(a.labelRank.setVisible(!1),a.spriteRank.setVisible(!0),a.spriteRank.setDisplayFrameName(string.format("frd_rank_%d.png",c))):(a.labelRank.setVisible(!0),a.spriteRank.setVisible(!1),a.labelRank.setString(""+c));a.playerId==d?(e||(this.myRank=c,this.labelMyRank.setString(TextTable.t_topWorldMy_title+c)),a.spriteBG.setColor(cc.color(255,255,160))):a.spriteBG.setColor(cc.color(255,255,255))};
RankListLayerController.updateFriendListUI=function(a){this.listFriendHolder=[];this.listFriend.removeAllItems();var c=UserManager.getPlayerId(),d=this;this.btnAllSend.setEnabled(!1);for(var e=0;e<a.length;e++)a[e].playerId==c&&(this.myRank=e+1,this.labelMyRank.setString(TextTable.t_topWorldMy_title+this.myRank));for(var f=0,e=function(){if(!(f>=a.length)){f++;var e=a[f-1],g={},n=loadccb(GetAssetsPath("RankListFriendItem.ccbi"),g,d);g.playerId=e.playerId;g.isNpc=e.isNpc;g.labelName.setString(e.name);
g.spriteLoading.setVisible(!1);g.data=e;g.openId=e.openId;g.node=n;g.isNpc||g.playerId==c||0>=UserManager.getDailySendEnergyLeftTimes()?g.btnSend.setVisible(!1):UserManager.sendEnergyIdsDict[g.playerId]?g.btnSend.setEnabled(!1):d.btnAllSend.setEnabled(!0);g.spriteSex.setDisplayFrameName(2==e.sex?"frd_sex_female.png":"frd_sex_male.png");g.labelScore.setString(string.expand(TextTable.t_level,{num:e.topLevelId}));d.updateRank(g,f,c);GameHelper.loadHeadSprite(g.spriteHead,e.headUrl,!0);d.listFriendHolder[f-
1]=g;d.listFriend.addItem(n)}},g=1;8>=g;++g)e();this.listFriend.unregisterPreloadListener();8<a.length&&this.listFriend.registerPreloadListener(0.1,0.05,e)};RankListLayerController.onButtonFriendTag=function(){var a=this.spriteFriendTag.isVisible();this.spriteFriendTag.setVisible(!a)};RankListLayerController.onFriendRuleClicked=function(){this.btnFriend.m_isPressDown?FriendRuleController.show():FriendRuleController.show({isWorld:!0})};RankListLayerController.onListItemClick=function(a){FriendInfoController.show({data:this.listFriendHolder[a].data})};
RankListLayerController.onButtonWHead1=function(){this.wRandData1&&FriendInfoController.show({data:this.wRandData1})};RankListLayerController.onButtonWHead2=function(){this.wRandData2&&FriendInfoController.show({data:this.wRandData2})};RankListLayerController.onButtonWHead3=function(){this.wRandData3&&FriendInfoController.show({data:this.wRandData3})};RankListLayerController.onButtonItem=function(a){0<a&&(a=this.getCacheWorldRank(a)[0])&&FriendInfoController.show({data:a})};
RankListLayerController.updateWorldListUI=function(a,c,d){this.myWorldRank=c;this.maxWorldRank=a;this.labelWMyRank.setString(TextTable.t_topWorldMy_title+c);this.labelWMyBadge.setString(TextTable.t_topWorldMyMedal_title+d);this.labelRankNum1.setString(4);this.labelRankNum2.setString(Math.floor(0.318*(a-3))+3);this.labelRankNum3.setString(Math.floor(0.657*(a-3))+3);this.labelRankNum4.setString(a);this.nodeScrollBar.setVisible(!0);for(c=1;3>=c;++c)if(d=this.getCacheWorldRank(c)[0])GameHelper.loadHeadSprite(this.spriteWHead[c-
1],d.headUrl,!0),this.labelWBadge[c-1].setString(d.score),this.labelWName[c-1].setString(d.name),this.spriteWSex[c-1].setDisplayFrameName(2==d.sex?"frd_sex_female.png":"frd_sex_male.png"),this["wRandData"+c]=d;a=Math.max(a-3,0);this.listWorldRankHolder=[];this.listWorld.setRowHeight(90);this.listWorld.setTotalCount(a);this.listWorld.setSpeedFactor(4);var e=this,f=UserManager.getPlayerId();this.listWorld.registerPreloadListener(function(a,c){var d;if(0>=c){d={};var n=loadccb(GetAssetsPath("RankListWorldItem.ccbi"),
d,e);e.listWorld.addItem(a,n);d.node=n;table.insert(e.listWorldRankHolder,d)}else d=e.listWorldRankHolder[c-1];var n=a+3,r=e.getCacheWorldRank(n),s=r[0],r=r[1];s?(d.playerId=s.playerId,d.labelScore.setString(s.score),d.labelName.setString(s.name),d.labelRank.setString(n),d.btnItem.setTag(n),d.spriteSex.setDisplayFrameName(2==s.sex?"frd_sex_female.png":"frd_sex_male.png"),d.spriteBG.setColor(f==s.playerId?cc.color(246,250,197):cc.color(255,255,255)),GameHelper.loadHeadSprite(d.spriteHead,s.headUrl,
!0)):(d.btnItem.setTag(-1),r||e.getWorldRankList(n,function(a){0==a&&e.performDelay(function(){e.listWorld.refreshItem(-1)},1,"refresh_rank")},n))})};
RankListLayerController.showTabButton=function(a){this.btnFriend.setPressDown(!1);this.btnWorld.setPressDown(!1);this.tagFriend1.setVisible(!1);this.tagFriend2.setVisible(!1);this.tagWorld1.setVisible(!1);this.tagWorld2.setVisible(!1);1==a?(this.tagFriend1.setVisible(!0),this.tagWorld2.setVisible(!0),this.btnFriend.setPressDown(!0)):2==a&&(this.tagFriend2.setVisible(!0),this.tagWorld1.setVisible(!0),this.btnWorld.setPressDown(!0))};
RankListLayerController.onButtonAllSend=function(){var a=UserManager.getDailySendEnergyLeftTimes();if(0<a){for(var c=[],d=1;d<=this.listFriendHolder.length;d++){var e=this.listFriendHolder[d-1];e.btnSend.isVisible()&&e.btnSend.isEnabled()&&(table.insert(c,e.playerId),a-=1,e.btnSend.setEnabled(!1));if(0>=a)break}if(0<c.length){WaitingDialogController.show();var f=this;HttpHelper.sendFreeGift(this,c,!0,function(a){WaitingDialogController.hide();0==a?(TipDialogController.showTip(TextTable.t_FriendEnergy_Tips),
f.checkAndDisableAllSendButton(),f.btnAllSend.setEnabled(!1),notification.postEvent("event.game.sendEnergy",{count:c.length})):TipDialogController.showTip(ErrMsg(a))})}}else this.btnAllSend.setEnabled(!1)};
RankListLayerController.onButtonSend=function(a,c){TencentSdkManager.txsdkLog("RankListLayerController onButtonSend");audio.playSound(GameMusicType.kButtonClick);var d=this.listFriend.getPositionByNode(c),e=this.listFriendHolder[d-1],f=e.playerId;e.btnSend.setVisible(!1);e.spriteLoading.setVisible(!0);e.spriteLoading.runAction(cc.repeatForever(cc.rotateBy(5,360)));var g=this;HttpHelper.sendFreeGift(this,[f],!0,function(a){e.spriteLoading.setVisible(!1);e.spriteLoading.stopAllActions();e.btnSend.setVisible(!0);
0==a?(e.btnSend.setEnabled(!1),g.checkIsInviteFriend(f,e.openId),g.checkAndEnableAllSendButton(),notification.postEvent("event.game.sendEnergy",{count:1})):(e.btnSend.setEnabled(!0),TipDialogController.showTip(ErrMsg(a)))})};
RankListLayerController.checkIsInviteFriend=function(a,c){var d=function(a){a&&TencentSdkManager.sendMessageToFriend({openId:c,feedID:2004,title:TextTable.t_sharetitle2004,description:TextTable.t_sharefeed2004,game_tag:3},function(){TipDialogController.showTip(TextTable.t_FriendEnergy_Tips)},function(){TipDialogController.showTip("\u53d1\u9001\u5931\u8d25")})};CheckedQueryDialogController.canShow()&&UserManager.snsFidDict[a]?CheckedQueryDialogController.show({text:TextTable.t_EmailTips_txt1,listener:d}):
TipDialogController.showTip(TextTable.t_FriendEnergy_Tips);this.checkAndDisableAllSendButton()};RankListLayerController.checkAndDisableAllSendButton=function(){if(0>=UserManager.getDailySendEnergyLeftTimes())for(var a=1;a<=this.listFriendHolder.length;a++)this.listFriendHolder[a-1].btnSend.setEnabled(!1)};
RankListLayerController.checkAndEnableAllSendButton=function(){for(var a=!1,c=1;c<=this.listFriendHolder.length;c++){var d=this.listFriendHolder[c-1];if(d.btnSend.isEnabled()&&d.btnSend.isVisible()){a=!0;break}}this.btnAllSend.setEnabled(a)};
RankListLayerController.onDeleteFriend=function(a){for(var c=1;c<=this.listFriendHolder.length;c++){var d=this.listFriendHolder[c-1];if(d.playerId==a){this.listFriend.removeItem(c,!0);table.remove(this.listFriendHolder,c-1);break}}a=UserManager.getPlayerId();for(c=1;c<=this.listFriendHolder.length;c++)d=this.listFriendHolder[c-1],this.updateRank(d,c,a)};RankListLayerController.onButtonAddFriend=function(){this.hide();FriendAddLayerController.show()};
RankListLayerController.onButtonAddFriendWorld=function(){this.hide();FriendAddLayerController.show()};RankListLayerController.onButtonFriend=function(){audio.playSound(GameMusicType.kButtonClick);this.showTabButton(1);this.pageLayer.moveToPage(1,0.5)};
RankListLayerController.onButtonMyRankInFrend=function(){audio.playSound(GameMusicType.kButtonClick);if(0!=this.myRank){this.listFriend.moveListItemTo(this.myRank,0);var a=this,c=[];c.push(cc.delayTime(0.25));c.push(cc.callFunc(function(){for(var c=0;c<a.listFriendHolder.length;c++){var e=a.listFriendHolder[c];UserManager.getPlayerId()==e.playerId&&EffectHelper.shakeLightly(e.node)}}));a.btnAllSend.runAction(cc.sequence(c))}};
RankListLayerController.onButtonMyRankInWorld=function(){audio.playSound(GameMusicType.kButtonClick);if(3<this.myWorldRank&&this.myWorldRank<=this.maxWorldRank){this.listWorld.moveListItemTo(this.myWorldRank-3,0);var a=this,c=[];c.push(cc.delayTime(0.25));c.push(cc.callFunc(function(){for(var c=0;c<a.listWorldRankHolder.length;c++){var e=a.listWorldRankHolder[c];UserManager.getPlayerId()==e.playerId&&EffectHelper.shakeLightly(e.node)}}));a.btnAllSend.runAction(cc.sequence(c))}};
RankListLayerController.onButtonWorld=function(){audio.playSound(GameMusicType.kButtonClick);this.showTabButton(2);this.pageLayer.moveToPage(2,0.5);this.hasRefreshWorldPage||(this.hasRefreshWorldPage=!0,this.nodeRankStage.setVisible(!1),this.labelWNo.setVisible(!1),this.performDelay(function(){this.refreshWorldPage()},0.4))};RankListLayerController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};
RankListLayerController.onButtonSnsFriend=function(){audio.playSound(GameMusicType.kButtonClick);var a=MathUtils.random(1,6);XCXManager.shareMessage({feedID:3004,title:TextTable["t_sharetitle3004_"+a],desc:TextTable["t_sharefeed3004_"+a],query:"from\x3dinvite"})};RankListLayerController.onButtonFriendPK=function(){audio.playSound(GameMusicType.kButtonClick);this.back();FriendRankLayerController.showLoading()};RankListLayerController.onButtonShareRank=function(){};RankListLayerController.back=function(){EffectHelper.dialogLeftHide(this)};GameTipsController=createController("GameTipsController");GameTipsController.onViewCreate=function(){return loadccb(GetAssetsPath("GameTips.ccbi"),this)};GameTipsController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.registerEvent("event.ui.update");this.reset();EffectHelper.dialogLeftShow(this)};GameTipsController.reset=function(){this.listTipHolder=null;this.scrollBar.bindScrollView(this.listTip);this.updateAnnouceListUI(this.param||1)};
GameTipsController.supportTypeMap=cw.ArrayList([TileConfig.kStone1,"tips_block_stone.png",TileConfig.kIce1,"tips_block_ice.png",TileConfig.kBriar,"tips_block_coco.png",TileConfig.kHelmet,"tips_block_helmet.png",TileConfig.kWood,"tips_block_wood.png",TileConfig.kConveyorBelt,"tips_belt.png",TileConfig.kGiftBox,"tips_block_lock.png",TileConfig.kCondiment,"tips_block_gun.png",TileConfig.kConveyorBeltBrake,"tips_belt_dir_switch.png",TileConfig.kConveyorBeltGear,"tips_belt_start_switch.png",TileConfig.kWorm,
"tips_block_worm.png",TileConfig.kSlideUp,"tips_slide.png",TileConfig.kPortalEnter,"tips_portal.png",TileConfig.kSand,"tips_tile_sand.png",TileConfig.kWoodUp,"tips_tile_wood.png"]);
GameTipsController.updateAnnouceListUI=function(a){a=LevelDataManager.getInstance().getLevelConfigByID(a).getTileSingleTypeList();var c=this.supportTypeMap;this.listTipHolder=[];this.listTip.removeAllItems();for(var d in a){var e=a[d];if(c[e]){var f={},g=loadccb(GetAssetsPath("GameTipsCommonItem.ccbi"),f,this);f.labelTitle.setDisplayFrameFile(GetAssetsPath(c[e]));f.labelDesc.setString(TextTable["t_GuideTips_txt1_"+e]);f.spriteTarget.setDisplayFrameName(LevelConfig.getFrameNameByTileType(e));this.listTipHolder[d]=
f;this.listTip.addItem(g)}}var h=this;this.performForLoop(1,5,function(a){var c={};a=loadccb(GetAssetsPath("GameTipsItem"+a+".ccbi"),c,this);table.insert(h.listTipHolder,c);h.listTip.addItem(a)},0.05,"update_list")};GameTipsController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};GameTipsController.back=function(){EffectHelper.dialogLeftHide(this)};GameTipsPropController=createController("GameTipsPropController");GameTipsPropController.onViewCreate=function(){return loadccb(GetAssetsPath("GameTipsItem0.ccbi"),this)};GameTipsPropController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.registerEvent("event.ui.update");this.reset();EffectHelper.dialogLeftShow(this)};
GameTipsPropController.reset=function(){this.labelText1.setString(TextTable.t_PropStart_Tips);this.labelText2.setString(TextTable.t_Prop_Desc_11007);this.labelText3.setString(TextTable.t_Prop_Desc_11008)};GameTipsPropController.updateAnnouceListUI=function(a){};GameTipsPropController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};GameTipsPropController.back=function(){EffectHelper.dialogLeftHide(this)};StartGameController=createController("StartGameController");var propGoodId1=3101,propGoodId2=3102,propId1=11007,propId2=11008,defaultPetId=20001;StartGameController.onViewCreate=function(){return loadccb(GetAssetsPath("StartGame.ccbi"),this)};
StartGameController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"keypad",this.back);this.registerEvent("event.ui.addFrontPropTutorial");this.baseChangeBtnScale=this.btnChangePet.getScale();this.baseChangeBtnPos=this.btnChangePet.getPosition();var a=MetaHelper.global.open_max_level;this.param.level>a&&(this.param=cw.clone(this.param),this.param.level=a);this.reset();var c=this.param.level;EffectHelper.dialogLeftShow(this,function(){notification.postEvent("event.game.willLevel"+c)},!0);
this.spWorldRankBg.setVisible(!1);GameRankController.show(this.param)};StartGameController.onEvents=function(a,c){"event.ui.addFrontPropTutorial"==a&&this.setPropPriceFree(c.propIdx)};StartGameController.setPropPriceFree=function(a){this.freePricePropIdx=a;this.nodePropPrice1.setVisible(!1);a=cc.Sprite.createWithSpriteFrameName("gc_prop_free.png");a.setPosition(55,-20);this.btnProp1.addChild(a)};
StartGameController.playShowProp=function(a,c,d,e){var f=1/30,g=[];0<c&&g.push(cc.delayTime(c));g.push(cc.scaleTo(0,0.53,0.36));g.push(cc.scaleTo(4*f,1.04,1.1));g.push(cc.scaleTo(2*f,0.9,0.8));g.push(cc.scaleTo(2*f,1.02,1.07));g.push(cc.scaleTo(2*f,0.97,0.95));g.push(cc.scaleTo(2*f,1,1));g.push(cc.callFunc(function(){d&&d();EffectHelper.paperShake(a)}));a.runAction(cc.sequence(g));e.runAction(cc.sequence(cc.delayTime(8*f),cc.show()))};
StartGameController.reset=function(){if(null!=this.param){var a=this.param.level;this.changePetId=0;this.freePricePropIdx=null;var c=MetaHelper.goodsDict[propGoodId2].coin;this.labelPropPrice1.setString(MetaHelper.goodsDict[propGoodId1].coin);this.labelPropPrice2.setString(c);this.spritePropCheck1.setVisible(!1);this.spritePropCheck2.setVisible(!1);if(c=UserManager.scoreDict[a])for(var c=c.star,d=1;d<=c;++d)this["spriteStar"+d].setVisible(!0);c=this.getLimitPetId();d=LevelMapManager.getInstance().getRecommendedPetId(a);
0<c?(this.spriteRecmdPet.setDisplayFrameName("head"+c+".png"),this.btnChangePet.setEnabled(!1,ErrMsg(200260)),this.updatePetInfo(c)):(0<d&&this.spriteRecmdPet.setDisplayFrameName("head"+d+".png"),this.btnChangePet.setEnabled(!0),this.updatePetInfo());this.canUseProp(propId1)?this.icoPropLock1.setVisible(!1):this.nodePropPrice1.setVisible(!1);this.canUseProp(propId2)?this.icoPropLock2.setVisible(!1):this.nodePropPrice2.setVisible(!1);LevelMapManager.getInstance().getMeta(a)&&(c=GameModeType.getModeStartKey(a),
d=GameModeType.getModeStartFrameName(a),this.spriteTarget.setDisplayFrameName(d),this.labelTitle.setString(TextTable[c[0]]));this.param.petId&&0<this.param.petId&&this.choosePetForGame(this.param.petId);this.labelLevel.setString(string.expand(TextTable.t_level,{num:a}));this.spriteLevelHard.setVisible(!1);EffectHelper.jellyShakeSlow(this.btnStart);this.shakeProps();this.addGuideHand();this.updateButtonChangePet();6==this.param.level&&(this.changePetId=20001,this.choosePetForGame(this.changePetId),
this.updateButtonChangePet());audio.playSound(GameMusicType.kPopupOpen)}};StartGameController.shakeProps=function(){for(var a=1;3>a;++a){var c=this["btnProp"+a];c&&!this["icoPropLock"+a].isVisible()&&EffectHelper.rotateSelf(c,0.15*a,0.6,cc.callFunc(EffectHelper.jellyShakeSlow,c))}};
StartGameController.addGuideHand=function(){if(!(5<this.param.level||this.param.level!=UserManager.getTopLevel()||GameTutorialHelper.hasFirstEvent("event.game.willLevel"+this.param.level))){var a=sp.SkeletonAnimation.create(GetAssetsPath("guide.json")),c=this.btnStart.getContentSize();a.setAnimation(0,"click",!0);a.setPosition(ccp(0.8*c.width,c.height/2));"zh_TW"==DeviceRegionLan?a.setAttachment("click_cn","click_tw"):"zh"==DeviceLan&&a.setAttachment("click_cn","click_cn");this.btnStart.addChild(a)}};
StartGameController.updatePetInfo=function(a){a=a||UserManager.getMainPetId();var c=MetaHelper.getPetLevelMax(a),d=c[0],c=UserManager.getPetExpInfo(a),e=c[0],f=c[1],c=c[2];e==d?(this.labelPetExp.setString(TextTable.t_Pet_Maxexp),this.progPetExp.setPercentage(100)):(this.labelPetExp.setString(f+"/"+c),this.progPetExp.setPercentage(100*f/c));this.labelPetLevel.setString(tostring(e));this.skelPet.reloadWithCache(GetAssetsPath("anim"+a+".json"));this.skelPet.setAnimation(0,"stand",!0);PetHelper.setPetEquipByPetID(this.skelPet,
a)};
StartGameController.startPlayGame=function(){var a=UserManager.getMainPetId(),c=this.getLimitPetId();0<c&&c!=a?(HttpHelper.changeMainPet(this,c),WorldMapController.petIdAfterGame=a):0<this.changePetId&&this.changePetId!=UserManager.getMainPetId()&&HttpHelper.changeMainPet(this,this.changePetId);var d=this.param.level,a=[],e=[];this.spritePropCheck1.isVisible()&&(1!=this.freePricePropIdx&&table.insert(a,propGoodId1),table.insert(e,MetaHelper.goodsDict[propGoodId1].item[0][0]));this.spritePropCheck2.isVisible()&&(table.insert(a,
propGoodId2),table.insert(e,MetaHelper.goodsDict[propGoodId2].item[0][0]));var f=LevelMapManager.getInstance().getLevelGameMode(d),g=this;this.btnStart.setTouchEnabled(!1);WaitingDialogController.show();HttpHelper.startLevel(this,d,f,!1,a,function(a){WaitingDialogController.hide();g.btnStart.setTouchEnabled(!0);0==a?(ModelManager.saveLocalData(),g.hideAll(),1!=g.freePricePropIdx&&notification.postEvent("event.game.usePreProp",{propIdList:e}),ResourcesManager.loadLevelConfig(d,function(){"WorldMap"==
GameDirector.getCurrentSceneName()?SceneHelper.pushToScene("GameWorld",null,{level:d,propIds:e}):SceneHelper.jumpToScene("GameWorld",null,{level:d,propIds:e},!0);DcHelper.startLevel(d,c);if(g.param.restart){var a=GameWorldController.getState();DcHelper.restartGame(g.param.timeTotalUsed,a[0],a[6],d,a[7],a[1])}})):TipDialogController.showTip(ErrMsg(a))})};
StartGameController.canUseProp=function(a){var c=this.param.level;return MetaHelper.propDict[a].unlock>c||GameTutorialHelper.hasFirstEvent("event.game.startLevel"+c)?!1:!0};StartGameController.getLimitPetId=function(){var a=this.param.level,a=LevelMapManager.getInstance().getLimitPetId(a);return 0<a&&UserManager.hasPet(a)?a:0};
StartGameController.onButtonStart=function(a,c){audio.playSound(GameMusicType.kButtonClick);if(UserManager.isEnergyCanPlay()){WaitingDialogController.show();var d=cc.Sprite.createWithSpriteFrameName("#ico_energy.png"),e;e=WorldMapUIController.isShowing?WorldMapUIController.iconEnergy:ccp(0,display.height);var f=this.btnStart.boundingBoxInWorld(),f=ccp(f.x+0.75*f.width,f.y+0.5*f.height);this.layer.addChild(d);var g=this;c.setTouchEnabled(!1);EffectHelper.flyAnim1(d,e,f,function(){DebugFlag?HttpHelper.getLevelConfigByLevelId(g,
g.param.level,function(a,d){c.setTouchEnabled(!0);0==a?LevelMapManager.getInstance().initOneCardByData(d.config):logw("update level config failed!");g.startPlayGame()}):(c.setTouchEnabled(!0),g.startPlayGame())})}else this.back(),EnergyDialogController.show({level:this.param.level,petId:this.changePetId,restart:this.param.restart})};
StartGameController.onButtonChangePet=function(){audio.playSound(GameMusicType.kButtonClick);var a=this;ChoosePetController.showLoading({listener:function(c){var d=a.changePetId;0>=d&&(d=UserManager.getMainPetId());d!=c&&(a.choosePetForGame(c),TipDialogController.showTip(TextTable.t_Pet_Chefchange,c),a.updateButtonChangePet())},level:this.param.level,petId:this.changePetId})};
StartGameController.updateButtonChangePet=function(){if(this.btnChangePet.isEnabled()){this.btnChangePet.stopAllActions();this.btnChangePet.setScale(this.baseChangeBtnScale);this.btnChangePet.setPosition(this.baseChangeBtnPos);var a=LevelMapManager.getInstance().getRecommendedPetId(this.param.level);(a=UserManager.hasPet(a)?a:20001)&&(this.changePetId||UserManager.getMainPetId())!=a&&EffectHelper.jellyJump(this.btnChangePet,this.btnChangePet.getScale())}};
StartGameController.choosePetForGame=function(a){this.changePetId=a;this.updatePetInfo(a)};StartGameController.onButtonPetInfo=function(){PetInfoDialogController.show()};
StartGameController.onButtonProp1=function(){audio.playSound(GameMusicType.kAddCoin);if(1==this.freePricePropIdx)this.spritePropCheck1.isVisible()?(this.spritePropCheck1.setVisible(!1),this.nodePropPrice1.setVisible(!0)):(this.spritePropCheck1.setVisible(!0),this.nodePropPrice1.setVisible(!1));else{var a=MetaHelper.propDict[propId1].unlock;a>this.param.level?TipDialogController.showTip(string.expand(ErrMsg(200261),{level:a})):this.canUseProp(propId1)?(this.spritePropCheck1.isVisible()?(this.spritePropCheck1.setVisible(!1),
this.nodePropPrice1.setVisible(!0)):(this.spritePropCheck1.setVisible(!0),this.nodePropPrice1.setVisible(!1)),a=this.getPropTotalCoin(),UserManager.getCoin()<a?(this.spritePropCheck1.setVisible(!1),this.nodePropPrice1.setVisible(!0),TipDialogController.showTip(ErrMsg(100139))):WorldMapUIController.updateCoin(-a)):TipDialogController.showTip(ErrMsg(200259))}};
StartGameController.onButtonProp2=function(){audio.playSound(GameMusicType.kAddCoin);var a=MetaHelper.propDict[propId2].unlock;a>this.param.level?TipDialogController.showTip(string.expand(ErrMsg(200261),{level:a})):this.canUseProp(propId2)?(this.spritePropCheck2.isVisible()?(this.spritePropCheck2.setVisible(!1),this.nodePropPrice2.setVisible(!0)):(this.spritePropCheck2.setVisible(!0),this.nodePropPrice2.setVisible(!1)),a=this.getPropTotalCoin(),UserManager.getCoin()<a?(this.spritePropCheck2.setVisible(!1),
this.nodePropPrice2.setVisible(!0),TipDialogController.showTip(ErrMsg(100139))):WorldMapUIController.updateCoin(-a)):TipDialogController.showTip(ErrMsg(200259))};StartGameController.getPropTotalCoin=function(){var a=0,c=MetaHelper.goodsDict[propGoodId1].coin,d=MetaHelper.goodsDict[propGoodId2].coin;this.spritePropCheck1.isVisible()&&(a+=c);this.spritePropCheck2.isVisible()&&(a+=d);return a};
StartGameController.playMoveEffect=function(a){var c=this.nodeDialog.getPositionX();a?this.nodeDialog.runAction(cc.moveTo(0.1,ccp(c,0.66*display.height))):this.nodeDialog.runAction(cc.moveTo(0.1,ccp(c,0.56*display.height)))};StartGameController.onButtonTip=function(){GameTipsPropController.show()};StartGameController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};
StartGameController.back=function(){WorldMapUIController.updateCoin(0);"GameWorld"==GameDirector.getCurrentSceneName()?GameWorldController.isGameOver()?(this.hideAll(),SceneHelper.popScene()):this.hideAll():this.hideAll()};StartGameController.hideAll=function(){this.hide();GameRankController.hide()};MailCenterController=createController("MailCenterController");MailCenterController.lookedInoperableNum=0;MailCenterController.onViewCreate=function(){return loadccb(GetAssetsPath("MailCenterLayer.ccbi"),this,null,null,null,["nodeTag","btnMsg","tagBG1","tagBG2"])};
MailCenterController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);cc.spriteFrameCache.addSpriteFrames(GetAssetsPath("prop.plist"));cc.spriteFrameCache.addSpriteFrames(GetAssetsPath("equipments.plist"));this.mergeList=[MailType.SEND_ENERGY,MailType.ASK_FOR_ENERGY,MailType.ASK_FOR_UNLOCK,MailType.ASK_FOR_FRIEND_REQUEST,MailType.ACCEPT_FRIEND_REQUEST,MailType.ACTIVITY_REQUEST];this.reset();EffectHelper.dialogLeftShow(this)};
MailCenterController.reset=function(){var a=this.param||1;this.mailInfoList=null;this.listFriendHolder=[];this.listSystemHolder=[];this.listNoticeHolder=[];this.lookedInoperableNum=0;var c=this;this.pageLayer.setTouchEnabled(!1);this.pageLayer.setPageSize(3);this.pageLayer.setPageView(this.buildFriendMsgPage(),1);this.pageLayer.setPageView(this.buildUnlockMsgPage(),2);this.pageLayer.setPageView(this.buildOtherMsgPage(),3);this.pageLayer.registerScriptListener(function(a,e){"select"==a&&c.showTabButton(e)});
this.pageLayer.moveToPage(a);3==a&&(this.mailInfoList=[],this.closeTabButton(1),this.closeTabButton(2));this.refreshAllMsgPage()};MailCenterController.buildFriendMsgPage=function(){return loadccb(GetAssetsPath("MailFriendMsg.ccbi"),this)};MailCenterController.buildUnlockMsgPage=function(){return loadccb(GetAssetsPath("MailSystemMsg.ccbi"),this)};MailCenterController.buildOtherMsgPage=function(){return loadccb(GetAssetsPath("MailNoticeMsg.ccbi"),this)};
MailCenterController.refreshMailIfNotExist=function(){null==this.listFriendHolder&&this.refreshAllMsgPage()};MailCenterController.sortMsg=function(a){table.sort(a,function(a,d){return a.id<d.id})};MailCenterController.isInMergeList=function(a){return table.includes(this.mergeList,a)};
MailCenterController.splitMsg=function(a,c){for(var d=[],e=[],f={},g=a.length;1<=g;--g){var h=a[g-1];h.senderIds=[];h.mailIds=[];f[h.type]||(f[h.type]=[]);table.insert(f[h.type],h)}var m=function(a,c,d){var e=f[c];if(e&&0<e.length)if(d)table.append(a,f[c]);else{c=e[0];d=[];for(var g=[],h=1;h<=e.length;h++){var m=e[h-1];table.insert(d,m.senderId);table.insert(g,m.id)}c.senderIds=d;c.mailIds=g;table.insert(a,c)}};if(c)m(d,c);else{for(g=1;g<=this.mergeList.length;g++)h=this.mergeList[g-1],m(d,h);m(d,
MailType.ADD_FRIEND,!0);m(d,MailType.TIME_LEVEL,!0);m(e,MailType.GET_REWARD,!0)}return[d,e]};MailCenterController.hasNews=function(){for(var a=0,c=!1,d=RmtHelper.getAnnoucementList(),e=1;e<=d.length;e++){var f=d[e-1],c=!0;!0==f.new&&(a+=1)}return c?[!0,a]:[!1,a]};MailCenterController.isDateValid=function(a){var c=a.beginTime;a=a.endTime;var d=TimeUtils.time();return d>=c&&d<=a?!0:!1};
MailCenterController.createNoticeItem=function(a){var c={},d=loadccb(GetAssetsPath("MailNoticeMsgItem.ccbi"),c,this);c.icoMsgType.setVisible(!0==a.new);c.labelTitle.setColor(cc.color(255,255,255));c.labelTitle.setString(a.title);c.labelTime.setString(a.date);c.labelContent.setString(a.content);c.labelContent.registerClickBack(function(a,c){MailCenterController.hide();"openui"==a&&GameHelper.openUI(c[0],parseInt(c[1]))},this);a=c.labelContent.getContentHeight();if(80<a){a-=80;var e=c.spriteBg.getContentSize();
e.height+=a/c.spriteBg.getScaleY();c.spriteBg.setPreferredSize(e);c.nodeContent.setPositionY(a);d.setContentHeight(d.getContentHeight()+a)}return[c,d]};MailCenterController.createMsgItem=function(a,c){var d={},e=loadccb(GetAssetsPath(c),d,this);this.updateMsgItem(a,d);return[d,e]};
MailCenterController.createMsgHeadList=function(a,c){if(!c||0==c.length)return!1;for(var d=1;d<=c.length;d++){var e=c[d-1],f={},g=loadccb(GetAssetsPath("MailFriendHeadItem.ccbi"),f,this),e=CacheHelper.getUserInfoWithDefault(e);GameHelper.loadHeadSprite(f.spriteHead,e.headUrl,!0);a.addItem(g)}return!0};
MailCenterController.createMsgItemList=function(a,c){if(!c||0==c.length)return!1;for(var d=1;d<=c.length;d++){var e=c[d-1],f={},g=loadccb(GetAssetsPath("MailSystemRewardItem.ccbi"),f,this),h=GameIconHelper.getIconFrameName(e.itemId,e.value),m=GameIconHelper.getItemScale(e.itemId,e.value);f.spriteItem.setDisplayFrameName(h);f.spriteItem.setScale(m);f.labelNum.setString("x"+e.value);a.addItem(g)}return!0};function tomsg(a,c,d){c=TextTable[1<a?c:c+"_1"];return string.expand(c,d)}
MailCenterController.updateMsgItem=function(a,c){c.spriteLoading.setVisible(!1);c.mailId=a.id;c.mailType=a.type;c.btnAccept.setTag(a.id);c.btnRefuse.setTag(a.id);c.btnAccept.setVisible(!0);c.txtAgree.setVisible(!this.isGetReward(a.type));c.txtGetReward.setVisible(!c.txtAgree.isVisible());c.btnRefuse.setVisible(this.canRefuse(a.type));for(var d=[],e=1;e<=a.senderIds.length;e++){for(var f=0,g=a.senderIds[e-1],h=0;h<d.length;h++)if(g==d[h]){f=1;break}0==f&&table.insert(d,g)}e=CacheHelper.getUserNick(a.senderId);
a.type==MailType.SEND_ENERGY?c.labelTitle.setString(tomsg(d.length,"t_EmailFriend_test5",{name:e,num1:d.length-1,num2:a.senderIds.length,item:TextTable.t_Prop_11009})):a.type==MailType.ASK_FOR_ENERGY?c.labelTitle.setString(tomsg(a.senderIds.length,"t_EmailFriend_test4",{name:e,num1:a.senderIds.length-1,num2:1,item:TextTable.t_Prop_11009})):a.type==MailType.ASK_FOR_UNLOCK?c.labelTitle.setString(tomsg(a.senderIds.length,"t_EmailFriend_test3",{name:e,num:a.senderIds.length-1})):a.type==MailType.ADD_FRIEND?
c.labelTitle.setString(string.expand(TextTable.t_EmailFriend_test2,{name:e})):a.type==MailType.ASK_FOR_FRIEND_REQUEST?c.labelTitle.setString(string.expand(TextTable.t_EmailFriend_test2,{name:e})):a.type==MailType.ACCEPT_FRIEND_REQUEST?c.labelTitle.setString(string.expand(TextTable.t_EmailFriend_test2,{name:e})):a.type==MailType.ACTIVITY_REQUEST?c.labelTitle.setString(tomsg(a.senderIds.length,"t_EmailFriend_test6",{name:e,num1:a.senderIds.length-1})):a.type==MailType.GET_REWARD?(f=a.message,e=TextTable[f]?
string.expand(TextTable[f],{name:e}):f,c.labelTitle.setString(e)):a.type==MailType.TIME_LEVEL&&c.labelTitle.setString(string.expand(TextTable.t_EmailFriend_test1,{name:e}));c.icoMsgType.setDisplayFrameName("msg_ico_type_"+a.type+".png");a.type==MailType.SEND_ENERGY&&0>=UserManager.getDailyRecieveEnergyLeftTimes()&&(c.btnAccept.setEnabled(!1,string.expand(TextTable.t_Email_Message_Tips2,{amount:MetaHelper.global.daily_max_receive_gift_count})),c.btnRefuse.setEnabled(!1));a.type==MailType.ASK_FOR_ENERGY&&
0>=UserManager.getDailySendEnergyLeftTimes()&&c.btnAccept.setEnabled(!1,string.expand(TextTable.t_Email_Message_Tips3,{amount:MetaHelper.global.daily_max_send_gift_count}));c.listItem.removeAllItems();a.type==MailType.SEND_ENERGY&&this.createMsgHeadList(c.listItem,d)?(c.spriteHead.setVisible(!1),c.spriteGoal.setVisible(!1)):a.type!=MailType.SEND_ENERGY&&this.createMsgHeadList(c.listItem,a.senderIds)?(c.spriteHead.setVisible(!1),c.spriteGoal.setVisible(!1)):this.createMsgItemList(c.listItem,a.type==
MailType.GET_REWARD&&a.rewards)?(c.spriteHead.setVisible(!1),c.spriteGoal.setVisible(!1)):(d=CacheHelper.getUserInfoWithDefault(a.senderId),GameHelper.loadHeadSprite(c.spriteHead,d.headUrl,!0),c.listItem.setVisible(!1))};
MailCenterController.refreshAllMsgPage=function(){this.listFriend&&(this.listFriend.removeAllItems(),this.listFriendHolder=[]);this.listSystem&&(this.listSystem.removeAllItems(),this.listSystemHolder=[]);this.listNotice&&(this.listNotice.removeAllItems(),this.listNoticeHolder=[]);var a=this;this.getMailInfoListIfNotExist(function(c,d){if(0==c){a.sortMsg(d);var e=a.splitMsg(d),f=e[0],g=e[1],h=RmtHelper.getAnnoucementList();dump(f);dump(g);a.hasNews()[0]?(a.pageLayer.moveToPage(3),a.showTabButton(3,
!0)):0!=g.length?(a.pageLayer.moveToPage(2),a.showTabButton(2,!0)):0!=f.length?a.showTabButton(1,!0):(a.pageLayer.moveToPage(3),a.showTabButton(3,!0));a.performForLoop(1,f.length,function(c){var d=a.createMsgItem(f[c-1],"MailFriendMsgItem.ccbi"),e=d[0];a.listFriend.addItem(d[1]);a.listFriendHolder[c-1]=e},0.05,"refresh_friend_page");a.performForLoop(1,g.length,function(c){var d=a.createMsgItem(g[c-1],"MailFriendMsgItem.ccbi"),e=d[0];a.listSystem.addItem(d[1]);a.listSystemHolder[c-1]=e},0.05,"refresh_system_page");
a.performForLoop(1,h.length,function(c){var d=a.createNoticeItem(h[c-1]),e=d[0];a.listNotice.addItem(d[1]);a.listNoticeHolder[c-1]=e},0.05,"refresh_notice_page")}else TipDialogController.showTip(ErrMsg(c))})};
MailCenterController.updateMailUI=function(a){var c=this.pageLayer.getCurPage(),d=this.getCanAcceptMailList(c),e=d[0],f=d[2],g=d[3];this.btnRefuseAll.setVisible(0<d[1].length);this.btnAcceptAll.setVisible(0<e.length);if(1==c){var d=UserManager.getDailyRecieveEnergyLeftTimes(),e=UserManager.getDailySendEnergyLeftTimes(),h=this.getListHolder();this.lookedInoperableNum=0;if(h)for(var m=1;m<=h.length;m++){var n=h[m-1];n.mailType==MailType.SEND_ENERGY&&0>=d?(n.btnAccept.setEnabled(!1,string.expand(TextTable.t_Email_Message_Tips2,
{amount:MetaHelper.global.daily_max_receive_gift_count})),n.btnRefuse.setEnabled(!1),++this.lookedInoperableNum):n.mailType==MailType.ASK_FOR_ENERGY&&0>=e&&(n.btnAccept.setEnabled(!1,string.expand(TextTable.t_Email_Message_Tips3,{amount:MetaHelper.global.daily_max_send_gift_count})),++this.lookedInoperableNum)}WorldMapUIController.updateMailTip()}this.mailInfoList?(this.nodeFriendNoMsg.setVisible(0>=f),this.nodeSystemNoMsg.setVisible(0>=g)):(this.nodeFriendNoMsg.setVisible(!1),this.nodeSystemNoMsg.setVisible(!1));
d=!this.hasNews()[0];this.nodeNoticeNoMsg.setVisible(d);this.updateRedDot(c-1,f,g,0);a&&(UserManager.setRequestNum(f+g),notification.postEvent("event.ui.update"))};MailCenterController.updateRedDot=function(a,c,d,e){c=[c,d,e];c[a]=0;for(a=1;4>a;++a)this["spRed"+a].setVisible(0<c[a-1])};MailCenterController.canRefuse=function(a){return a!=MailType.GET_REWARD&&a!=MailType.SEND_ENERGY&&a!=MailType.ACCEPT_FRIEND_REQUEST?!0:!1};
MailCenterController.isGetReward=function(a){return a==MailType.GET_REWARD||a==MailType.SEND_ENERGY};MailCenterController.getMailInfoListIfNotExist=function(a){if(this.mailInfoList)a(0,this.mailInfoList);else{var c=this;HttpHelper.getRequestInfos(this,function(d,e){0==d?(c.mailInfoList=e?e.requests||[]:[],UserManager.setRequestNum(c.mailInfoList.length)):c.mailInfoList=null;a(d,c.mailInfoList)})}};
MailCenterController.closeTabButton=function(a){this.nodeTag[a-1].setVisible(!1);for(var c=a=1;c<=this.btnMsg.length;c++)this.nodeTag[c-1].isVisible()&&(this.nodeTag[c-1].setPosition(this.nodeTag[a-1].getPosition()),a+=1)};MailCenterController.showTabButton=function(a,c){for(var d=1;d<=this.btnMsg.length;d++)this.btnMsg[d-1].setPressDown(a==d),this.tagBG1[d-1].setVisible(a==d),this.tagBG2[d-1].setVisible(a!=d);this.labelMessageTip.setVisible(3!=a);this.updateMailUI(c)};
MailCenterController.getCanAcceptMailList=function(a){if(!this.mailInfoList)return[[],[],0,0,0];for(var c=[],d=[],e=0,f=0,g={},h=UserManager.getDailyRecieveEnergyLeftTimes(),m=UserManager.getDailySendEnergyLeftTimes(),n=1;n<=this.mailInfoList.length;n++){var r=this.mailInfoList[n-1];if(2==a&&r.type==MailType.GET_REWARD)table.insert(c,r.id);else if(1==a&&r.type!=MailType.GET_REWARD){if(r.type==MailType.ASK_FOR_FRIEND_REQUEST){var s;r.rewards&&0<r.rewards.length&&(s=r.rewards[0].itemId);0<FriendRequestLayerController.getItemCount(s)&&
table.insert(c,r.id)}else r.type!=MailType.ASK_FOR_POPCORN_DEFENDER&&r.type!=MailType.ASK_UPDATE_POPCORN&&(r.type==MailType.SEND_ENERGY?0<h&&(h-=1,table.insert(c,r.id)):r.type==MailType.ASK_FOR_ENERGY?0<m&&(m-=1,table.insert(c,r.id)):r.type!=MailType.TIME_LEVEL&&table.insert(c,r.id));this.canRefuse(r.type)&&table.insert(d,r.id)}r.type==MailType.GET_REWARD?f+=1:this.isInMergeList(r.type)?g[r.type]||(g[r.type]=!0,e+=1):e+=1}return[c,d,e,f,1==a?e:f]};
MailCenterController.removeMailInfoListByType=function(a,c){for(var d=table.listToMap(a),e=[],f=this.mailInfoList,g=f.length;1<=g;--g)d[f[g-1].id]&&table.insert(e,table.remove(f,g-1));return e};MailCenterController.removeMailInfoListById=function(a){for(var c=1;c<=this.mailInfoList.length;c++)if(this.mailInfoList[c-1].id==a)return table.remove(this.mailInfoList,c-1)};MailCenterController.getListNode=function(){var a=this.pageLayer.getCurPage();if(1==a)return this.listFriend;if(2==a)return this.listSystem};
MailCenterController.getListHolder=function(){var a=this.pageLayer.getCurPage();if(1==a)return this.listFriendHolder;if(2==a)return this.listSystemHolder};
MailCenterController.removeItemFromList=function(a,c){if(a.mailType==MailType.SEND_ENERGY||a.mailType==MailType.ASK_FOR_ENERGY){var d=this.splitMsg(this.mailInfoList,a.mailType)[0];if(0<d.length){this.updateMsgItem(d[0],a);return}}a.spriteLoading.setDisplayFrameName("ico_right2.png");var d=this.getListNode(),e=this.getListHolder();d.removeItem(c,!0);table.remove(e,c-1)};
MailCenterController.removeItemsFromList=function(a){a=table.listToMap(a);for(var c=this.getListHolder(),d=c.length;1<=d;--d){var e=c[d-1];a[e.mailId]&&this.removeItemFromList(e,d)}};
MailCenterController.replyFriendRequest=function(a,c,d){this.unregisterUpdate("refresh_friend_page");var e=this.getListHolder(),f=e[d-1];if(this.isInMergeList(f.mailType)&&(d=this.splitMsg(this.mailInfoList,f.mailType),0<d.length)){this.replyAllRequest(1,a,d[0][0].mailIds);return}f.btnAccept.setVisible(!1);f.btnRefuse.setVisible(!1);f.spriteLoading.setVisible(!0);f.spriteLoading.runAction(cc.repeatForever(cc.rotateBy(5,360)));var g=this;HttpHelper.replyRequest(this,[c],a,this.mailInfoList,function(d,
m){var n=table.indexOf(e,f);if(null!=n)if(n+=1,f.spriteLoading.stopAllActions(),f.spriteLoading.setRotation(0),0==d){var r=g.removeMailInfoListById(c);a&&(g.playGetOneRewardEffect(f,m.rewards),r.type==MailType.SEND_ENERGY?(g.checkIfNeedReplyEnergy(r),notification.postEvent("event.game.receiveEnergy",{count:1})):r.type==MailType.ASK_FOR_POPCORN_DEFENDER?GameHelper.openUI("pet_hall",{playerId:r.senderId}):r.type==MailType.ASK_UPDATE_POPCORN?GameHelper.openUI("pet_hall",{updateLevel:!0}):r.type==MailType.TIME_LEVEL&&
TimeLevelController.openWithRequest(g,0,!0,2));g.removeItemFromList(f,n);g.updateMailUI(!0)}else f.btnAccept.setVisible(!0),f.btnRefuse.setVisible(!0),f.spriteLoading.setVisible(!1),TipDialogController.showTip(ErrMsg(d))})};
MailCenterController.replyAllRequest=function(a,c,d){audio.playSound(GameMusicType.kButtonClick);var e=this.getCanAcceptMailList(a),f=e[0],e=e[1];d=d||c&&f||e;if(!(0>=d.length)){1==a?this.unregisterUpdate("refresh_friend_page"):2==a&&this.unregisterUpdate("refresh_system_page");WaitingDialogController.show(3);var g=this;HttpHelper.replyRequest(WaitingDialogController,d,c,this.mailInfoList,function(d,e){WaitingDialogController.hide();if(0==d){var f=g.removeMailInfoListByType(e.ids,c);g.postNotifyByMailType(f);
c&&g.playGetAllRewardEffect(e.rewards);g.removeItemsFromList(e.ids,a);g.updateMailUI(!0)}else TipDialogController.showTip(ErrMsg(d))})}};MailCenterController.postNotifyByMailType=function(a){var c=0,d;for(d in a)a[d].type==MailType.SEND_ENERGY&&++c;0<c&&notification.postEvent("event.game.receiveEnergy",{count:c})};MailCenterController.checkIfNeedReplyEnergy=function(a){this.checkIfNeedReplyAllEnergy([a])};MailCenterController.checkIfNeedReplyAllEnergy=function(a){};
MailCenterController.playGetOneRewardEffect=function(a,c){if(WorldMapUIController.isShowing&&c){var d=a.spriteHead.convertToWorldSpace(a.spriteHead.getAnchorPointInPoints()),e=this;this.performInPairs(c,function(a,c){EffectHelper.itemFlyToUIAnim(c.itemId,c.value,d,e.layer)},0.3)}};
MailCenterController.playGetAllRewardEffect=function(a){if(WorldMapUIController.isShowing){var c=this;this.performInPairs(a,function(a,e){EffectHelper.itemFlyToUIAnim(e.itemId,e.value,ccp(0.5*display.width,0.5*display.height),c.layer)},0.3)}};MailCenterController.onButtonMsg1=function(){audio.playSound(GameMusicType.kButtonClick);this.showTabButton(1,!1);this.pageLayer.moveToPage(1,0.5)};
MailCenterController.onButtonMsg2=function(){audio.playSound(GameMusicType.kButtonClick);this.showTabButton(2,!1);this.pageLayer.moveToPage(2,0.5)};MailCenterController.onButtonMsg3=function(){audio.playSound(GameMusicType.kButtonClick);this.showTabButton(3,!1);this.pageLayer.moveToPage(3,0.5)};MailCenterController.onButtonAcceptAll=function(a,c){audio.playSound(GameMusicType.kButtonClick);var d=this.pageLayer.getCurPage();this.replyAllRequest(d,!0)};
MailCenterController.onButtonRefuseAll=function(a,c){audio.playSound(GameMusicType.kButtonClick);var d=this.pageLayer.getCurPage();this.replyAllRequest(d,!1)};MailCenterController.onButtonAcceptFriend=function(a,c){audio.playSound(GameMusicType.kButtonClick);var d=this.getListNode().getPositionByNode(c);this.replyFriendRequest(!0,a,d)};
MailCenterController.onButtonRefuseFriend=function(a,c){audio.playSound(GameMusicType.kButtonClick);var d=this.getListNode().getPositionByNode(c);this.replyFriendRequest(!1,a,d)};
MailCenterController.onButtonAcceptOther=function(a,c){for(var d=null,e=1;e<=this.mailInfoList.length;e++){var f=this.mailInfoList[e-1];if(f.id==a){d=f;break}}if(d&&d.type==MailType.ASK_FOR_POPCORN_DEFENDER){if(!PopcornHelper.isPopcornEnabled()){d=PopcornHelper.getOpenLevel();audio.playSound(GameMusicType.kPopupClose);TipDialogController.showTip(string.expand(TextTable.t_Pet_Wardrobe_tips6,{num:d}));return}if(!UserManager.hasFriend(d.senderId)){TipDialogController.showTip(TextTable.t_PopcornFight_text_8);
this.onButtonRefuseOther(a,c);return}}audio.playSound(GameMusicType.kButtonClick);d=this.listOtherMsg.getPositionByNode(c);this.replyOtherRequest(!0,a,d)};MailCenterController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};MailCenterController.back=function(){EffectHelper.dialogLeftHide(this)};PopcornHelper={LEVEL_ID:20199,GAME_MODE:8,CHALLENGE_MODE:{Self:1,Friend:2,Challenge:3,Edit:4},EVENTS:{Update:"popcorn_update",LevelSaved:"popcorn_level_saved",BackToHall:"popcorn_back_to_hall",ChallengeNext:"popcorn_challenge_next",HandleHistory:"popcorn_handle_history",DefenderChanged:"popcorn_defender_changed",UpgradeCompleted:"popcorn_upgrade_completed"},ENEMY_TYPE:{CHALLENGE:1,REVANGE:2},THANK_TYPE:{Thank:0,Share:1},getOpenLevel:function(){return MetaHelper.getFuncUnlockLevel(MenuItemTag.Menu_Tag_Popcorn)},
isPopcornEnabled:function(a){if(!this.isPopcornOpen())return!1;var c=this.getOpenLevel(),d=UserManager.getTopLevel()>=c;(a=tonumber(a))&&(d=d&&a>=c);return d},challengeData:{},isPopcornOpen:function(){return!1},setChallengeData:function(a){this.challengeData=a},setChallengeDataByLevelData:function(a,c,d){this.challengeData={};this.challengeData.mode=c;this.challengeData.serverTime=d;this.challengeData.petId=a.petId;this.challengeData.score=a.score;this.challengeData.bossLife=a.bossLife;this.challengeData.friendId=
a.friendId;this.challengeData.friendScore=a.friendScore;this.challengeData.friendPetId=a.friendPetId;this.challengeData.level=PopcornHelper.LEVEL_ID;this.challengeData.destroyHinders=a.destroyHinders;this.challengeData.destroyHindersIDS={};for(var e in this.challengeData.destroyHinders)this.challengeData.destroyHindersIDS[this.challengeData.destroyHinders[e]]=!0;this.challengeData.stars=[];this.challengeData.stars=[1,a.score];a.friendId&&0!=a.friendId?table.insert(this.challengeData.stars,a.friendScore):
c!=PopcornHelper.CHALLENGE_MODE.Self&&table.insert(this.challengeData.stars,a.score);c=LevelMapManager.getInstance();c.initOneCardByData(a.levelData,PopcornHelper.LEVEL_ID);c.getMeta(PopcornHelper.LEVEL_ID).gameData.starScores=this.challengeData.stars;this.challengeData.levelConfig=LevelDataManager.getInstance().getLevelConfigByID(PopcornHelper.LEVEL_ID);this.setEnemyBlocks()},setChallengeScore:function(a,c){this.challengeData.star=c;this.challengeData.score=a},setChallengeInfo:function(a,c,d,e){this.challengeData.petId=
a;this.challengeData.otherId=c;this.challengeData.gameType=d;this.challengeData.historyId=e;this.challengeData.gameMode=PopcornHelper.GAME_MODE;this.challengeData.petExpr=UserManager.getPetBonus(a)[0]},setChallengePlayer:function(a,c){this.challengeData.id=a;this.challengeData.name=c},getPlayerId:function(){return this.challengeData.id},setChallengeEnemyData:function(a,c,d){this.challengeData.enemyType=a;this.challengeData.popcorn=c;this.challengeData.historyId=d},getReward:function(){if(this.challengeData.mode==
PopcornHelper.CHALLENGE_MODE.Challenge){if(this.challengeData.popcorn)return this.challengeData.popcorn[this.challengeData.star]}else if(this.challengeData.mode==PopcornHelper.CHALLENGE_MODE.Friend&&this.challengeData.friendId!=UserManager.getPlayerId())return MetaHelper.getBecomeDefendReward();return null},setMainPetAfter:function(a){this.challengeData.mainPetID=a},getMainPetAfter:function(){return this.challengeData.mainPetID},getChallengeData:function(){return this.challengeData},setBlocksRepaired:function(a){var c=
{},d=PopcornHelper.getChallengeData();if(d.mode!=PopcornHelper.CHALLENGE_MODE.Self||!d.destroyHinders||1>d.destroyHinders.length)return c;for(var e=0,f=function(a){e+=1;return d.destroyHindersIDS[e]?a.popcornRepair=!0:!1},g=0;g<a.tileItemMap.length;++g)for(var h=0;h<a.tileItemMap[g].length;++h){var m=a.tileItemMap[g][h];!0==m.isUsed&&(m.tileItemType==TileItemType.kStone?f(m)&&table.insert(c,TileConfig.kStone1+m.stoneLevel-1):m.tileItemType==TileItemType.kHelmet&&f(m)&&table.insert(c,TileConfig.kHelmet),
0<m.cardboardLevel&&f(m)&&table.insert(c,TileConfig.kWood))}return c},setEnemyBlocks:function(){var a=[{id:TileConfig.kWood,block:!1},{id:TileConfig.kStone1,block:!0},{id:TileConfig.kStone2,block:!0},{id:TileConfig.kStone3,block:!0},{id:TileConfig.kStone4,block:!0},{id:TileConfig.kStone5,block:!0},{id:TileConfig.kHelmet,block:!0}],c=PopcornHelper.getChallengeData();if(c.mode==PopcornHelper.CHALLENGE_MODE.Challenge){var d=0,d=0,e=this.challengeData.levelConfig,f;for(f in e.tileMap){var g=e.tileMap[f];
for(f in g){var h=g[f],m=void 0;for(m in a){var n=a[m];h.hasProperty(n.id)&&(d+=1,c.destroyHindersIDS[d]&&(h.removeProperty(n.id),n.block&&(h.removeProperty(TileConfig.kBlocker),h.setProperty(TileConfig.kFruit))))}}}}},getChallengeCoin:function(){return MetaHelper.getChallengeCoin()},setDetectionID:function(a){this.detection=this.detection||{};this.detection[a]=!0},isDetection:function(a){this.detection=this.detection||{};return null!=this.detection[a]},getTimeStr:function(a,c){var d=math.floor(a%
60),e=math.floor(a/86400),f=math.floor(a/3600)%24,g=math.floor(a/60)%60,d=[e,f,g,d],e=[TextTable.t_PopcornFight_text_1,TextTable.t_PopcornFight_text_2,TextTable.t_PopcornFight_text_3,TextTable.t_PopcornFight_text_4],f=0,g="";c=c||e.length;for(var h in d){var m=d[h];0<m&&(f+=1,g=g+tostring(m)+e[h]);if(f>=c)break}0==f&&(g="0\u79d2");return g}};ShareController=createController("ShareController");ShareController.showLoading=function(a,c,d){if(table.keyOf("first_in_friend rank_in_1000 pass_after_many_failed new_feature_level score_beyond_friend level_beyond_friend share_level_combo".split(" "),a.shareType)){if(persist.getBool("LAST_POP")){persist.setBool("LAST_POP",!1);return}persist.setBool("LAST_POP",!0)}SceneHelper.showWithPreload(this,a,c,d)};
ShareController.onViewCreate=function(){var a,c=this.param.shareType;this.feedID=0;if("lucky_pass_level"==c)this.feedID=1003,a=loadccb(GetAssetsPath("LuckyPassLevelDialog.ccbi"),this);else if("in_5_pass_level"==c)this.feedID=1005,a=loadccb(GetAssetsPath("In5PassLevelDialog.ccbi"),this);else if("all_star_pass_level"==c)this.feedID=1009,a=loadccb(GetAssetsPath("AllStarPassLevelDialog.ccbi"),this);else if("pet_level_up_10"==c){this.feedID=1015;a=loadccb(GetAssetsPath("PetLevelUp10Dialog.ccbi"),this);
var d=this.param.petId,c=this.param.petName;this.spritePet.setDisplayFrameFile(GetAssetsPath("share_pet_"+d+".png"));this.labPet.setString(c);d=parseInt(c.length);c=40*d;d=this.labPet.getPosition().x-c/2-10;c=this.labPet.getPosition().x+c/2+10;this.leftDesc.setPositionX(d);this.rightDesc.setPositionX(c)}else if("pass_after_many_failed"==c){this.feedID=1004;a=loadccb(GetAssetsPath("ShareLayer1004.ccbi"),this);GameHelper.loadHeadSprite(this.spriteHead1,UserManager.getHeadUrl());c=this.param.friends||
[];for(d=0;d<c.length&&3>=d;++d){var e=c[d];this["spFrame"+(d+1)].setVisible(!0);this["labelName"+(d+1)].setString(e.name);this["labelDesc"+(d+1)].setString(tostring(e.fail?e.fail:1)+TextTable.t_sharefeed1004_level_pass);GameHelper.loadHeadSprite(this["spriteHead"+(d+1)],e.headUrl)}this.labelLevel.setString(TextTable.t_sharefeed1004_level_di+tostring(this.param.level)+TextTable.t_sharefeed1004_level_guan)}else if("pass_15_levels"==c)this.feedID=1006,a=loadccb(GetAssetsPath("Pass15LevelsDialog.ccbi"),
this);else if("get_new_pet"==c)this.feedID=1016,a=loadccb(GetAssetsPath("ShareLayer1016.ccbi"),this),d=this.param.petId||ItemType.PET+MathUtils.random(3,5),this.initPet(d),c=MetaHelper.petDict[d],this.labelPetName.setString(c.desc),this.labelPetText.setString(TextTable["t_sharetips1016_"+d]),d=this.getFeedTitleAndContent(1016,MathUtils.random(1,6)),this.labelNewsTitle.setString(d[0]),this.labelNewsText.setString(d[1]);else if("share_pass_level"==c)this.feedID=2001,a=loadccb(GetAssetsPath("ShareLayer1016.ccbi"),
this),c=cc.Sprite.create(GetAssetsPath("bg_share_1.png")),c.setAnchorPoint(ccp(0.5,0.12)),c.setScale(0.85),this.skelPet.addChild(c),c=MetaHelper.petDict[d],d=MathUtils.random(60,99),d=this.getFeedTitleAndContent(2001,MathUtils.random(1,5),{level:this.param.level},{num:d+"%"},["t_sharetitleMed","t_sharefeedMed"]),this.labelPetName2.setString(d[0]),this.labelPetText.setString(d[1]),d=this.getFeedTitleAndContent(2001,MathUtils.random(1,5)),this.labelNewsTitle.setString(d[0]),this.labelNewsText.setString(d[1]),
this.spBlack.setVisible(!0);else if("signin_all_days"==c)this.feedID=1013,a=loadccb(GetAssetsPath("SigninAllDaysDialog.ccbi"),this);else if("no1_in_friends"==c)this.feedID=1014,c=this.param.petName,a=loadccb(GetAssetsPath("No1InFriendsDialog.ccbi"),this),d=this.param.petId,c=this.param.petName,this.spritePet.setDisplayFrameFile(GetAssetsPath("share_pet_"+d+".png")),this.labPet.setString(c),d=parseInt(c.length),c=40*d,d=this.labPet.getPosition().x-c/2-10,c=this.labPet.getPosition().x+c/2+10,this.leftDesc.setPositionX(d),
this.rightDesc.setPositionX(c);else if("unlock_new_level"==c)this.feedID=1007,a=loadccb(GetAssetsPath("UnlockNewLevelDialog.ccbi"),this);else if("new_feature_level"==c)for(this.feedID=1017,a=loadccb(GetAssetsPath("ShareLayer1017.ccbi"),this,null,null,null,["rateLabel"]),d=this.getFeedTitleAndContent(1017,MathUtils.random(1,6)),this.shareTitleLabel.setString(d[0]),this.shareTxtLabel.setString(d[1]),d=this.param.playerParam.level,d=LevelDataManager.getInstance().getLevelConfigByID(d).getTileSingleTypeList(),
d=LevelConfig.getFrameNameByTileType(d[d.length-1]),this.newIcon.setDisplayFrameName(d),d=[300,399,200,299,100,199],c=0;c<this.rateLabel.length;++c)e=MathUtils.random(d[2*c],d[2*c+1])/10,this.rateLabel[c].setString(e+"%");else if("level_beyond_friend"==c){this.feedID=1012;a=loadccb(GetAssetsPath("LevelBeyondFriendDialog.ccbi"),this);var d=this.param.friendHeadUrl,c=this.param.friendNick,e=UserManager.getHeadUrl(),f=UserManager.getNickName(),g=this.param.friendTopLv,h=UserManager.getTopLevel();this.labelNickMe.setString(f);
this.labelNickFriend.setString(c);this.labelScoreMe.setString("\u7b2c"+h+"\u5173");this.labelScoreFriend.setString("\u7b2c"+g+"\u5173");GameHelper.loadHeadSprite(this.spriteHeadMe,e);GameHelper.loadHeadSprite(this.spriteHeadFriend,d);c={level:h};this.getFeedTitleAndContent(1012,MathUtils.random(1,6),c,c);d=persist.getCrossDayString("count_level_beyond");persist.setCrossDayString("count_level_beyond",tonumber(d||0)+1)}else if("beyond_million_people"==c)this.feedID=1001,a=loadccb(GetAssetsPath("PassLevelBeyondMillionDialog.ccbi"),
this);else if("rank_in_1000"==c)this.feedID=1002,a=loadccb(GetAssetsPath("RankinWorld1000Dialog.ccbi"),this),c=this.param.playerParam.level,e=this.param.playerParam.rank,this.levelNum.setString(c),this.rankNum.setString(e),this.initPet(),this.QRSpr.setDisplayFrameFile(GetAssetsPath(TencentSdkManager.getQRSpr())),d=MathUtils.random(1,6),this.getFeedTitleAndContent(1002,d,{level:c,num:e},{level:c,num:e});else if("speed_in_1000"==c)this.feedID=1008,a=loadccb(GetAssetsPath("SpeedinWorld1000Dialog.ccbi"),
this);else if("first_in_friend"==c){this.feedID=1010;a=loadccb(GetAssetsPath("ShareLayer1010.ccbi"),this);GameHelper.loadHeadSprite(this.spriteHead1,UserManager.getHeadUrl());c=this.param.friends||[];f=[];g=[];for(d=1;d<c.length&&5>g.length;++d)e=c[d],UserManager.snsFidDict[e.playerId]?g.push(e):f.push(e);c=g.length;for(d=0;d<5-c&&d<f.length;++d)g.push(f[d]);table.sort(g,function(a,c){return a.score>c.score});for(d=0;5>d&&d<g.length;++d)e=g[d],this["labelName"+(d+2)].setString(e.name),GameHelper.loadHeadSprite(this["spriteHead"+
(d+2)],e.headUrl);this.labelLevel.setString(tostring(this.param.level));this.labelName1.setString(UserManager.getNickName());d=MathUtils.random(1,6);this.getFeedTitleAndContent(1010,d,{level:this.param.level},{level:this.param.level})}else if("score_beyond_friend"==c)this.feedID=1011,a=loadccb(GetAssetsPath("ScoreBeyondFriendDialog.ccbi"),this),d=this.param.friendHeadUrl,e=UserManager.getHeadUrl(),c=this.param.friendNick,f=UserManager.getNickName(),g=this.param.playerParam.score,h=0,this.param.friendScore&&
(h=this.param.friendScore),this.labelNickMe.setString(f),this.labelScoreMe.setString("\u5206\u6570\uff1a"+g),this.labelNickFriend.setString(c),this.labelScoreFriend.setString("\u5206\u6570\uff1a"+h),this.normalTitle.setString("\u7b2c"+this.param.playerParam.level+"\u5173"),this.shotTitle.setString(this.normalTitle.getString()),GameHelper.loadHeadSprite(this.spriteHeadMe,e),GameHelper.loadHeadSprite(this.spriteHeadFriend,d),c={level:this.param.playerParam.level},this.getFeedTitleAndContent(1011,MathUtils.random(1,
6),c,c),d=persist.getCrossDayString("count_score_beyond"),persist.setCrossDayString("count_score_beyond",tonumber(d||0)+1);else if("get_new_car"==c)this.feedID=1020,a=loadccb(GetAssetsPath("ShareNewCarDialog.ccbi"),this),this.spritePet.setDisplayFrameFile(GetAssetsPath("share_car_"+this.param.carId+".png")),this.QRSpr.setDisplayFrameFile(GetAssetsPath(TencentSdkManager.getQRSpr()));else if("pet_level_up_reward"==c)this.feedID=1021,a=loadccb(GetAssetsPath("PetLevelUpRewardXcx.ccbi"),this),this.initPet();
else if("time_level_reward"==c)this.feedID=1019,a=loadccb(GetAssetsPath("TimeLevelRewardXcx.ccbi"),this);else if("pet_shot_cloth"==c)this.feedID=this.param.feedId,a=loadccb(GetAssetsPath("ShareLayer2008.ccbi"),this),this.spXyxTxt.setDisplayFrameFile(GetAssetsPath("txt_feed2008_0"+(this.param.txtIdx||1)+".png")),this.initPet(this.param.petId);else if("share_level_combo"==c){this.feedID=1023;a=loadccb(GetAssetsPath("ShareLayer1023.ccbi"),this);c=this.param.friends||[];f=this.param.combo||0;for(d=2;d<=
c.length&&5>=d;++d)e=c[d-1],g=e.combo||Math.random2(2*(6-d),2*(6-d)+3),this["labelName"+d].setString(e.name),this["labelScore"+d].setString(""+g),GameHelper.loadHeadSprite(this["spriteHead"+d],e.headUrl);this.labelName1.setString(UserManager.getNickName());this.labelScore1.setString(""+f);this.labelName6.setString(UserManager.getNickName());this.labelScore6.setString(""+f);GameHelper.loadHeadSprite(this.spriteHead1,UserManager.getHeadUrl());d=MathUtils.random(1,6);c={level:this.param.level,num:f};
this.getFeedTitleAndContent(1023,d,c,c)}this.RefreshPlayerInfo(this.param.playerParam);this.btnShare2&&(this.btnShare2.setVisible(!1),this.btnShare&&this.btnShare.setPositionX(0));this.feedID&&DcHelper.shareAction(this.feedID,2);return a};
ShareController.getFeedTitleAndContent=function(a,c,d,e,f){f=f||["t_sharetitle","t_sharefeed"];2001<a&&3100>a?(f[0]+=a,f[1]+=a):(f[0]=f[0]+a+"_"+c,f[1]=f[1]+a+"_"+c);f[0]=string.expand(TextTable[f[0]],d);f[1]=string.expand(TextTable[f[1]],e);this.feedTitle=f[0];this.feedDesc=f[1];return f};
ShareController.initPet=function(a){a=a||UserManager.getMainPetId();this.skelPet.reloadWithCache(GetAssetsPath("anim"+a+".json"));this.skelPet.setAnimation(0,"stand",!0);PetHelper.setPetEquipByPetID(this.skelPet,a)};ShareController.canShowPlayerInfo=function(){return 2001==this.feedID||1016==this.feedID||1020==this.feedID};ShareController.RefreshPlayerInfo=function(a){this.PlayerNode&&(this.gameIcon&&this.gameIcon.setVisible(!0),this.PlayerNode.setVisible(!1))};
ShareController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.shareSuccess=!1};ShareController.onButtonBack=function(){audio.playSound(GameMusicType.kButtonClick);this.param.listener&&this.param.listener(this.shareSuccess);this.back()};ShareController.onButtonSave=function(){TipDialogController.showTip("\u529f\u80fd\u6682\u672a\u5f00\u542f")};ShareController.onButtonOk=function(){this.onShareEvent(0)};ShareController.onButtonOk2=function(){this.onShareEvent(1)};
ShareController.onShareEvent=function(a){audio.playSound(GameMusicType.kButtonClick);var c=this.param.shareType;"lucky_pass_level"==c?this.shareLuckyPassLevel(a):"in_5_pass_level"==c?this.shareIn5PassLevel(a):"all_star_pass_level"==c?this.shareAllStarPassLevel(a,this.param.level):"pet_level_up_10"==c?(c=this.param.petName,this.sharePetLevelUp10(a,c)):"pass_after_many_failed"==c?this.sharePassAfterManyFailed(a):"pass_15_levels"==c?this.sharePass15Levels(a):"get_new_pet"==c?this.shareGetNewPet(a):"signin_all_days"==
c?this.shareSigninAllDays(a):"no1_in_friends"==c?(c=this.param.petName,this.shareNo1InFriends(a,c)):"unlock_new_level"==c?this.shareUnlockNewLevel(a):"new_feature_level"==c?this.shareNewFeatureLevel(a):"level_beyond_friend"==c?this.shareLevelBeyondFriend(a,this.param.friendHeadUrl):"beyond_million_people"==c?this.sharePassLevelBeyondMillion(a):"rank_in_1000"==c?this.shareRankinWorld1000(a,this.param.playerParam.level,this.param.playerParam.rank):"speed_in_1000"==c?this.shareSpeedinWorld1000(a):"first_in_friend"==
c?this.shareFirstLevelNumInFriend(a):"score_beyond_friend"==c?this.shareScoreBeyondFriend(a):"get_new_car"==c?this.shareGetNewCar(a):"share_pass_level"==c?this.sharePassLevel(a):"pet_shot_cloth"==c?this.sharePetWithCloth(a):"share_level_combo"==c&&this.shareLevelCombo(a)};ShareController.getXcxScreenShotRect=function(a){return(a=a||this.screenShotNode)?(a=a.getBoundingBoxToWorld(),cc.rect(a.x,display.height-a.y-a.height,a.width,a.height)):null};ShareController.back=function(){this.hide()};
ShareController.updateHeadAndQr=function(a,c){var d=UserManager.getHeadUrl();tonumber(d)?a.spriteHead.setDisplayFrameFile(GetAssetsPath("avatar"+d+".png")):(a.spriteHead.setUrl(d),a.spriteHead.isCached()&&a.spriteHead.startLoad(!1));d=CCNodeUtils.generatorQRNode(c,200,1);d.setZOrder(-1);a.nodeHead.addChild(d)};
ShareController.sharePhotoNode=function(a,c){var d=resource.getPhotoDirPath()+"/photo.tmp.png";CCNodeUtils.takePictureFile(d,a,a.getContentWidth()*a.getScaleX(),a.getContentHeight()*a.getScaleY());SnsHelper.shareSNSPhoto(d,c)};
ShareController.shareLevels=function(a,c,d){var e={},f=loadccb(GetAssetsPath("ShareLevel.ccbi"),e);this.updateHeadAndQr(e,c);e.labelLevel.setString(tostring(a));"zh"==DeviceLan&&e.labelLevel.setPositionX(268);a=e.labelLevel.getContentWidth();100<a&&e.labelLevel.setScale(100/a);this.sharePhotoNode(f,d)};ShareController.shareLuckyPassLevel=function(a,c){this.shareByData({feedID:1003,title:TextTable.t_sharetitle1003,shareType:a,desc:TextTable.t_sharefeed1003})};
ShareController.shareIn5PassLevel=function(a,c){this.shareByData({feedID:1005,title:TextTable.t_sharetitle1005,shareType:a,desc:TextTable.t_sharefeed1005})};ShareController.shareAllStarPassLevel=function(a,c,d){this.shareByData({feedID:1009,title:TextTable.t_sharetitle1009,shareType:a,desc:TextTable.t_sharefeed1009})};ShareController.sharePetLevelUp10=function(a,c,d){a={feedID:1015,title:TextTable.t_sharetitle1015,shareType:a,desc:string.expand(TextTable.t_sharefeed1015,{name:c})};this.shareByData(a)};
ShareController.sharePassAfterManyFailed=function(a,c){var d=MathUtils.random(1,6),d={feedID:1004,title:TextTable["t_sharetitle1004_"+d]||TextTable.t_sharetitle1004,shareType:a,desc:TextTable["t_sharefeed1004_"+d]||string.expand(TextTable.t_sharefeed1004,{num:tostring(this.param.day)})};this.shareScreenShotByData(d)};ShareController.sharePass15Levels=function(a,c){this.shareByData({feedID:1006,title:TextTable.t_sharetitle1006,shareType:a,desc:TextTable.t_sharefeed1006})};
ShareController.shareGetNewPet=function(a,c){this.shareScreenShotByData({feedID:1016,title:this.feedTitle||TextTable.t_sharetitle1016,shareType:a,desc:this.feedDesc||TextTable.t_sharefeed1016})};ShareController.shareGetNewCar=function(a,c){var d=MathUtils.random(1,6);this.shareByData({feedID:1020,title:TextTable["t_sharetitle1020_"+d]||TextTable.t_sharetitle1020,shareType:a,desc:TextTable["t_sharefeed1020_"+d]||TextTable.t_sharefeed1020,carId:this.param.carId,shareUrl:""},!0)};
ShareController.shareSigninAllDays=function(a,c){this.shareByData({feedID:1013,title:TextTable.t_sharetitle1013,shareType:a,desc:TextTable.t_sharefeed1013})};ShareController.shareNo1InFriends=function(a,c,d){a={feedID:1014,title:TextTable.t_sharetitle1014,shareType:a,desc:string.expand(TextTable.t_sharefeed1014,{name:c})};this.shareByData(a)};
ShareController.shareUnlockNewLevel=function(a,c){var d={feedID:1007,title:TextTable.t_sharetitle1007,shareType:a,desc:string.expand(TextTable.t_sharefeed1007)};this.shareByData(d)};ShareController.shareNewFeatureLevel=function(a,c){var d=MathUtils.random(1,6),d={feedID:1017,title:string.expand(TextTable["t_sharetitle1017new_"+d],{num:this.param.level}),shareType:a,desc:string.expand(TextTable["t_sharefeed1017new_"+d],{num:this.param.level})};this.shareByData(d,!0)};
ShareController.shareLevelBeyondFriend=function(a,c,d){this.shareByData({feedID:1012,title:this.feedTitle||TextTable.t_sharetitle1012,shareType:a,desc:this.feedDesc||TextTable.t_sharefeed1012},!0)};ShareController.sharePassLevelBeyondMillion=function(a,c){this.shareByData({feedID:1001,title:TextTable.t_sharetitle1001,shareType:a,desc:TextTable.t_sharefeed1001})};
ShareController.shareRankinWorld1000=function(a,c,d,e){c=string.expand(TextTable.t_sharefeed1002,{level:c,num:d});this.shareScreenShotByData({feedID:1002,title:this.feedTitle||TextTable.t_sharetitle1002,shareType:a,desc:this.feedDesc||c})};ShareController.shareSpeedinWorld1000=function(a,c){this.shareByData({feedID:1008,title:TextTable.t_sharetitle1008,shareType:a,desc:TextTable.t_sharefeed1008})};
ShareController.shareFirstLevelNumInFriend=function(a,c){this.shareScreenShotByData({feedID:1010,title:this.feedTitle||TextTable.t_sharetitle1010,shareType:a,desc:this.feedDesc||TextTable.t_sharefeed1010})};ShareController.shareScoreBeyondFriend=function(a,c){this.shareScreenShotByData({feedID:1011,title:this.feedTitle||TextTable.t_sharetitle1011,shareType:a,desc:this.feedDesc||TextTable.t_sharefeed1011})};
ShareController.sharePassLevel=function(a,c){this.shareByData({feedID:2001,title:this.feedTitle||TextTable.t_sharetitle2001,shareType:a,desc:this.feedDesc||TextTable.t_sharefeed2001},!0)};
ShareController.sharePetWithCloth=function(a,c){var d=this.param.feedId,e=this.param.txtIdx||1;this.shareScreenShotByData(1016==d?{feedID:d,title:TextTable["t_sharetitle1016_"+e],shareType:a,desc:TextTable["t_sharefeed1016_"+e]}:{feedID:d,title:TextTable["t_sharetitle2008_"+e],shareType:a,desc:TextTable["t_sharefeed2008_"+e]})};
ShareController.shareLevelCombo=function(a,c){this.shareByData({feedID:1023,title:this.feedTitle||TextTable.t_sharetitle2001,shareType:a,desc:this.feedDesc||TextTable.t_sharefeed2001},!0)};
ShareController.shareDirectly=function(a,c,d){var e=this;e.shareSuccess=!1;c=Math.random2(1,c);this.feedID=a;var f="lucky_kit",g=a;switch(a){case 2006:case 2007:f="husky_activity";g=2006;break;case 2010:f="lucky_kit";break;case 2011:f="jump_house";break;case 2012:case 2013:f="xmas_tree";break;default:f="default"}a={feedID:a,title:TextTable["t_sharetitle"+tostring(g)+"_"+c],shareType:f,desc:TextTable["t_sharefeed"+tostring(g)+"_"+c]};c=function(){e.shareSuccess=!0;d&&d(e.shareSuccess)};TencentSdkManager.isOpen()?
TencentSdkManager.shareMessage(a,c):XCXManager.xcxShare(a,c)};ShareController.shareByData=function(a,c){var d=this;d.shareSuccess=!1;var e=function(){d.shareSuccess=!0};a.shareTypeStr=this.param.shareType;TencentSdkManager.isOpen()?TencentSdkManager.shareMessage(a,e):c?this.shareScreenShotByData(a):XCXManager.xcxShare(a,e)};
ShareController.shareScreenShotByData=function(a){var c=this;c.shareSuccess=!1;var d=function(){c.shareSuccess=!0},e=function(){TencentSdkManager.shareScreenshot(a,d)},f=function(){XCXManager.xcxShare(a,d)};a.shareTypeStr=this.param.shareType;TencentSdkManager.isOpen()?1!=a.shareType&&TencentSdkManager.isCanShareScreenshot()?this.shareScreenShotStart(e):TencentSdkManager.shareMessage(a,d):this.shareScreenShotStart(f)};
ShareController.shareScreenShotStart=function(a){var c=this;this.setScreenShotState(!1);this.performDelay(function(){a.call(c)},0.1);this.performDelay(function(){c.setScreenShotState(!0)},0.5)};ShareController.setScreenShotState=function(a){this.shareBtnNode.setVisible(a);this.backBtn.setVisible(a);this.qrcodeSpr&&this.qrcodeSpr.setVisible(!a);this.normalTitle&&this.shotTitle&&(this.normalTitle.setVisible(a),this.shotTitle.setVisible(!a))};ShareController.isOpen=function(){return!0};ShareWorldRankController=createController("ShareWorldRankController");ShareWorldRankController.onViewCreate=function(){return loadccb(GetAssetsPath("ShareLayer1002.ccbi"),this,null,null,null,"infoNode labelScore labelRank labelName spriteSex spriteHead spriteStar unGotScoreLabel unGotRankLabel".split(" "))};ShareWorldRankController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back)};
ShareWorldRankController.onViewOpened=function(a){this.reset();DcHelper.shareAction(1002,2)};
ShareWorldRankController.reset=function(){var a=this.param.friendInfos||[],c="t_sharefeed1002_"+MathUtils.random(1,6);this.shareTxt=string.expand(TextTable[c],{level:this.param.level,num:this.param.rank});this.levelLabel.setString(this.param.level);this.labelScore[0].setString(this.param.score);this.labelRank[0].setString(this.param.rank);this.labelName[0].setString(UserManager.getNickName());this.spriteSex[0].setDisplayFrameName(2==UserManager.getSex()?"frd_sex_female.png":"frd_sex_male.png");this.shareTxtLabel.setString(this.shareTxt);
this.idLab.setString("ID:"+UserManager.getPlayerId());this.nameLab.setString(UserManager.getNickName());this.titleRankLabel.setString(this.param.rank);GameHelper.loadHeadSprite(this.spriteHead[0],UserManager.getHeadUrl(),!0);GameHelper.loadHeadSprite(this.qrHead,UserManager.getHeadUrl(),!0);var d=this;CacheHelper.getAndCacheFiendsInfo(this,function(c){if(0==c)for(c=1;c<d.infoNode.length;++c){var f=a[c-1];d.infoNode[c].setVisible(!!f);if(f){var g=CacheHelper.getUserInfoWithDefault(f.uid);f.score?d.labelScore[c].setString(f.score):
(d.unGotScoreLabel[c].setString("\u672a\u901a\u5173"),d.labelScore[c].setVisible(!1));f.value?d.labelRank[c].setString(f.value):(d.unGotRankLabel[c].setString("\u672a\u4e0a\u699c"),d.labelRank[c].setVisible(!1));d.labelName[c].setString(g.name);d.spriteSex[c].setDisplayFrameName(2==g.sex?"frd_sex_female.png":"frd_sex_male.png");GameHelper.loadHeadSprite(d.spriteHead[c],g.headUrl,!0)}}else TipDialogController.showTip(ErrMsg(c))});this.playAction();this.PlayerNode&&this.PlayerNode.setVisible(!1);this.btnShare2&&
(this.btnShare2.setVisible(!1),this.btnShare&&this.btnShare.setPositionX(0))};ShareWorldRankController.playAction=function(){for(var a=this.spriteStar,c=1;c<=a.length;c++)EffectHelper.starAction(a[c-1]);this.nodeLight.runAction(cc.repeatForever(cc.rotateBy(5,360)))};ShareWorldRankController.share=function(a){a={feedID:1002,title:this.shareTxt,desc:this.shareTxt,shareType:a,rect:ShareController.getXcxScreenShotRect(this.screenShotNode)};XCXManager.xcxShare(a)};
ShareWorldRankController.shareScreenShotStart=function(a){var c=this;this.setScreenShotState(!1);this.performDelay(function(){a.call(c)},0.1);this.performDelay(function(){c.setScreenShotState(!0)},0.5)};ShareWorldRankController.setScreenShotState=function(a){this.shareBtnNode.setVisible(a);this.backBtn.setVisible(a);this.qrcodeSpr&&this.qrcodeSpr.setVisible(!a)};ShareWorldRankController.onButtonOk=function(){this.share(0)};ShareWorldRankController.onButtonOk2=function(){this.share(1)};
ShareWorldRankController.back=function(){this.onButtonBack()};ShareWorldRankController.onButtonBack=function(){this.hide()};ShopController=createController("ShopController");ShopController.onViewCreate=function(){return loadccb(GetAssetsPath("Shop.ccbi"),this,null,null,null,["nodeTag","btnTag","tagBG1","tagBG2"])};ShopController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.registerEvent("event.ui.update");this.reset()};ShopController.onViewEnter=function(){this.updateUI();this.performDelay(function(){notification.postEvent("event.ui.lotteryGuiddShop")})};
ShopController.onEvents=function(a,c){"event.ui.update"==a&&this.updateUI()};
ShopController.reset=function(){var a=this;HuskyTaskManager.onEvents("event.ui.pageOpen",{pageIndex:1});this.listPropHolder=[];this.listKitHolder=[];this.listGemHolder=[];var c=this.param.tabIdx||1,a=this;SnsHelper.isClosePay()?(this.pageShop.setPageSize(2),this.closeTabButton(3),c=3==c?1:c):this.pageShop.setPageSize(3);this.pageShop.registerScriptListener(function(c,e){"page"==c?1==e?a.pageShop.setPageView(a.buildDressPage(),e):2==e?a.pageShop.setPageView(a.buildPropPage(),e):a.pageShop.setPageView(a.buildGemPage(),
e):"select"==c&&a.showTabButton(e)});this.pageShop.moveToPage(c);this.pageShop.setTouchEnabled(!1);this.registerUpdate("banner",function(){if(this.listKitHolder&&0<this.listKitHolder.length&&2==this.pageShop.getCurPage()){var a=this.listKit.getItemCount();(1>=a||this.listKit.getSelect()==a-1)&&this.unregisterUpdate("banner");this.listKit.moveToNext()}},5)};
ShopController.buildDressPage=function(){var a=ListGridView.create();a.setContentSize(this.pageShop.getContentSize());var c=MetaHelper.getGoodMetaListByTab(3),d=0;this.listDressHolder=[];for(var e in c){var f=c[e],g=f.id,h=MetaHelper.productDict[g];if(!SnsHelper.isClosePay()||!h){var m={};e=loadccb(GetAssetsPath("ShopDressItem.ccbi"),m,this,null,null,"nodeStars spriteStar1 spriteStar2 spriteStar3 spriteStar4 spriteStar5".split(" "));a.addItem(e);m.btnDressBuy.setTag(g);this.listDressHolder[d]=m;m.id=
g;m.node=e;h?(e=PayHelper.getPriceTextByProductId(h.productId,f.discount)[0],m.labelPrice.setString(e)):m.labelPrice.setString(tostring(f.diamond));g=0;h=f.item.length;for(e=0;4>e;e++)if(e<h){var n=f.item[e][0];m["spriteIcon"+(e+1)].setDisplayFrameName(GameIconHelper.getIconFrameName(n));(n=MetaHelper.equipDict[n])&&(g=n.own);for(var r=1;5>=r;++r)m["spriteStar"+r][e].setVisible(r<=n.rarity);m.nodeStars[e].setPositionX(9*(5-n.rarity))}else m["btnDressItem"+(e+1)].setVisible(!1);1==h?(m.nodeDress2.setVisible(!1),
m.nodeDress1.setPositionY(-70),m.btnDressItem1.setPositionX(0.5*(m.btnDressItem1.getPositionX()+m.btnDressItem2.getPositionX()))):2==h?(m.nodeDress2.setVisible(!1),m.nodeDress1.setPositionY(-70)):3==h&&m.btnDressItem3.setPositionX(0.5*(m.btnDressItem3.getPositionX()+m.btnDressItem4.getPositionX()));0<g?(m.labelName.setString(TextTable["t_pet_own"+g]),m.skelPet.reloadWithCache(GetAssetsPath("anim"+g+".json")),m.skelPet.setAnimation(0,"stand",!0),PetHelper.setPetEquipByItemsMeta(m.skelPet,f.item)):
m.spName.setVisible(!1);m.labelTip.setString(string.format("%f\u6298",10*f.discount));d++}}this.listDress=a;this.updateLisDressUI();return a};ShopController.shakeKitItems=function(a){if(a)for(var c=1;a["btnKitItem"+c];)EffectHelper.jellyShakeSlow(a["btnKitItem"+c++])};
ShopController.buildPropPage=function(){var a=loadccb(GetAssetsPath("ShopProp.ccbi"),this);this.buildPropList();this.buildKitPage();var c=this;this.listKit.registerScriptListener(function(a){c.labelKitPage.setString(a+"/"+c.listKit.getItemCount())});return a};
ShopController.buildPropList=function(){var a=this.listProp;this.listPropHolder=[];var c=MetaHelper.getGoodMetaListByTab(2),d;for(d in c){var e=c[d],f=MetaHelper.getGoodsPrice(e.id),g=f[1],f=f[2],h={},m=loadccb(GetAssetsPath("ShopPropItem.ccbi"),h,this);a.addItem(m);h.btnPropItem.setTag(e.id);EffectHelper.jellyShakeSlow(h.btnPropItem);h.spriteIcon.setDisplayFrameName(GameIconHelper.getIconFrameName(e.item[0][0]));h.labelPrice.setString(""+g);1>f&&0<f?(h.spOff.setVisible(!0),h.labelOff.setString(string.format("%f\u6298",
10*f))):h.spOff.setVisible(!1);this.listPropHolder[d]=h}return a};
ShopController.buildKitPage=function(){var a=this.listKit,c=MetaHelper.getGoodMetaListByTab(1),d=0;this.listKitHolder=[];for(var e=0;e<c.length;++e){var f=c[e],g=f.id,h=MetaHelper.productDict[g];if(!SnsHelper.isClosePay()||!h){var m={},n=loadccb(GetAssetsPath("ShopKitItem.ccbi"),m,this,null,null,["spItem","labelNum"]);a.addItem(n);m.btnKitItem.setTag(g);m.btnKitItemFrame&&m.btnKitItemFrame.setTag(g);var r=m.spBG.getContentSize(),s=cc.Scale9Sprite.create("shop_box_"+(d%4+1)+".png");s.setPreferredSize(r);
s.setAnchorPoint(0,0);m.spBG.addChild(s);for(r=1;r<=f.item.length&&3>=r;++r)s=f.item[r-1],m.spItem[r-1].setDisplayFrameName(GameIconHelper.getIconFrameName(s[0])),m.labelNum[r-1].setString("x"+s[1]),m["btnKitItem"+r].setZOrder(3-r);m.spTitle.setDisplayFrameFile(GetAssetsPath("prop_title_"+g+".png"));this.shakeKitItems(m);this.listKitHolder[d]=m;m.id=g;m.node=n;h?(f=PayHelper.getPriceTextByProductId(h.productId,f.discount),g=f[1],m.labelPrice.setString(f[0]),m.labelOffPrice.setString(g)):(m.labelPrice.setString(tostring(f.diamond)),
m.labelOff.setString(string.format("%f\u6298",10*f.discount)));d++}}this.updateListKitUI();return a};
ShopController.buildGemPage=function(){var a=ListGridView.create();a.setContentSize(this.pageShop.getContentSize());var c=MetaHelper.productList;this.listGemHolder=[];this.listGemHolderVideo=[];for(var d in c){var e=c[d];if(1==e.show){var f={},g=loadccb(GetAssetsPath("ShopGemItem.ccbi"),f,this);a.addItem(g);f.btnGemItem.setTag(e.id);f.labelFree.setVisible(!1);f.iconVideo.setVisible(!1);f.spGemTip.setVisible(!1);f.labelCount.setString(""+e.cash);3==e.id?(f.spGemTip.setVisible(!0),f.labelGemTip.setString("\u6700\u7545\u9500")):
5==e.id&&(f.spGemTip.setVisible(!0),f.labelGemTip.setString("\u9001\u6700\u591a"));0<e.extraCash?(f.labelExtra.setString("+"+e.extraCash),f.labelTip.setString("\u8d60")):(f.labelTip.setVisible(!1),f.iconTip.setVisible(!1),f.labelExtra.setVisible(!1),f.iconCard.setDisplayFrameName("shop_box_11.png"));300>=e.cash?f.iconGem.setDisplayFrameName("shop_ico_diamond_1.png"):1500>=e.cash?f.iconGem.setDisplayFrameName("shop_ico_diamond_2.png"):f.iconGem.setDisplayFrameName("shop_ico_diamond_3.png");if("Vungle"==
e.productId){f.labelPrice.setVisible(!1);f.labelFree.setVisible(!0);f.iconVideo.setVisible(!0);var g=VideoAdManager.canPlayAd(VideoAdRewardType.VAD_Reward_Gem),h=VideoAdManager.checkMaxDayLimit(VideoAdRewardType.VAD_Reward_Gem);f.btnGemItem.setEnabled(g&&h);this.listGemHolderVideo[e.id]=f}else"MOLPoints"==e.productId?(f.labelPrice.setString("MOL PIN"),f.labelPrice.setScale(0.7),f.labelCount.setVisible(!1)):f.labelPrice.setString(PayHelper.getPriceTextByProductId(e.productId)[0]);this.listGemHolder[d]=
f}}return this.listGem=a};ShopController.updateUI=function(){this.updateListKitUI();this.updateLisDressUI();this.labelOwnGem.setString(GameHelper.getConinString(UserManager.getDiamond()))};
ShopController.updateListKitUI=function(){if(this.listKitHolder&&0<this.listKitHolder.length){for(var a=this.listKitHolder.length;1<=a;--a){var c=this.listKitHolder[a-1];if(c.labelLeftDay){var d=UserManager.getMonthLeftDay(c.id);0<d?(c.nodeAlreadyBuy.setVisible(!0),c.btnKitItem.setVisible(!1),c.labelLeftDay.setString(tostring(d))):(c.nodeAlreadyBuy.setVisible(!1),c.btnKitItem.setTouchEnabled(!0))}if(0>=UserManager.getLifeLimitLeftCount(c.id)||0>=UserManager.getDailyLimitLeftCount(c.id))table.remove(this.listKitHolder,
a-1),this.listKit.removeItem(a,!1)}this.labelKitPage.setString(this.listKit.getSelect()+"/"+this.listKit.getItemCount())}};ShopController.updateLisDressUI=function(){if(this.listDressHolder&&0<this.listDressHolder.length)for(var a=this.listDressHolder.length;1<=a;--a){var c=this.listDressHolder[a-1];if(0>=UserManager.getLifeLimitLeftCount(c.id)||0>=UserManager.getDailyLimitLeftCount(c.id))table.remove(this.listDressHolder,a-1),this.listDress.removeItem(a,!1)}};
ShopController.closeTabButton=function(a){this.nodeTag[a-1].setVisible(!1);for(var c=a=1;c<=this.btnTag.length;c++)this.nodeTag[c-1].isVisible()&&(this.nodeTag[c-1].setPosition(this.nodeTag[a-1].getPosition()),a+=1)};ShopController.showTabButton=function(a){for(var c=1;c<=this.btnTag.length;++c)this.btnTag[c-1].setPressDown(a==c),this.tagBG1[c-1].setVisible(a!=c),this.tagBG2[c-1].setVisible(a==c)};
ShopController.onButtonTag1=function(){audio.playSound(GameMusicType.kButtonClick);this.showTabButton(1);this.pageShop.moveToPage(1)};ShopController.onButtonTag2=function(){audio.playSound(GameMusicType.kButtonClick);this.showTabButton(2);this.pageShop.moveToPage(2)};ShopController.onButtonTag3=function(){audio.playSound(GameMusicType.kButtonClick);this.showTabButton(3);this.pageShop.moveToPage(3)};ShopController.isPet=function(a){return ServerProxy.getItemType(a)==ItemType.PET};
ShopController.playBuyRewardAnim=function(a){a=MetaHelper.getGoodMetaListById(a).item;var c=this;this.performInPairs(a,function(a,e){var f=e[0];GameIconHelper.getIconFrameName(f);c.isPet(f)?PetGetDialogController.show({petId:f,share:!0}):EffectHelper.itemFlyToUIAnim(f,e[1],c.spIcon,c.layer.getParent())},0.3)};ShopController.onButtonDressBuy=function(a){this.onButtonKitItem(a)};
ShopController.onButtonKitItem=function(a){audio.playSound(GameMusicType.kButtonClick);var c=MetaHelper.productDict[a];if(c&&SnsHelper.isClosePay())TipDialogController.showTip(ErrMsg(200262));else{var d=this;c?PayHelper.buyProduct(c.cash,c.extraCash,c.productId,function(a,c,g){a?c&&g&&(notification.postEvent("event.ui.update"),d.playBuyRewardAnim(g)):TipDialogController.showTip(TextTable.t_buyFailed)}):(WaitingDialogController.show(),HttpHelper.buy(this,a,1,function(a){WaitingDialogController.hide();
0==a?(notification.postEvent("event.ui.update"),TipDialogController.showTip(TextTable.t_buySuccess)):TipDialogController.showTip(ErrMsg(a))}))}};ShopController.onButtonPropItem=function(a){audio.playSound(GameMusicType.kButtonClick);ShopItemBuyDialogController.showLoading({goodsId:a})};
ShopController.onButtonGemItem=function(a){audio.playSound(GameMusicType.kButtonClick);var c=MetaHelper.productDict[a],d=c.productId,e=this;if("Vungle"==d)WaitingDialogController.show(),VideoAdManager.playAd(this,VideoAdRewardType.VAD_Reward_Gem,function(c,d){WaitingDialogController.hide();if(c){var f=VideoAdManager.canPlayAd(VideoAdRewardType.VAD_Reward_Gem),g=VideoAdManager.checkMaxDayLimit(VideoAdRewardType.VAD_Reward_Gem),s;for(s in e.listGemHolderVideo)e.listGemHolderVideo[s].btnGemItem.setEnabled(f&&
g);EffectHelper.itemFlyToUIAnim(ItemType.DIAMOND,null,e.listGemHolderVideo[a].iconGem,e.layer);notification.postEvent("event.ui.update")}});else if("MOLPoints"==d)SnsHelper.isClosePay()?TipDialogController.showTip(ErrMsg(200262)):QueryDialogController.show({text:"Point card payment: $1 for 60 diamonds",listener:function(a){a&&PayHelper.buy(this,d,function(a){a?(TipDialogController.showTip(TextTable.t_buySuccess),notification.postEvent("event.ui.update")):TipDialogController.showTip(TextTable.t_buyFailed)})}});
else{var f=c.cash,g=c.extraCash,d=c.productId;SnsHelper.isClosePay()?TipDialogController.showTip(ErrMsg(200262)):PayHelper.buyProduct(f,g,d,function(a,c,d){a?c&&notification.postEvent("event.ui.update"):TipDialogController.showTip(TextTable.t_buyFailed)})}};
ShopController.onButtonDressItem=function(a,c){audio.playSound(GameMusicType.kButtonClick);var d=this.listDress.getPositionByNode(c);(d=MetaHelper.getGoodMetaListById(this.listDressHolder[d-1].id))&&(d=d.item[a-1])&&ItemTipController.showWithButton(d[0],d[1],c,d[2])};
ShopController.onButtonItem=function(a,c){audio.playSound(GameMusicType.kButtonClick);var d=this.listKit.getPositionByNode(c);(d=MetaHelper.getGoodMetaListById(this.listKitHolder[d-1].id))&&(d=d.item[a-1])&&ItemTipController.showWithButton(d[0],d[1],c,d[2])};ShopController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};ShopController.back=function(){SceneHelper.popScene()};
ShopController.loadAndShow=function(a,c){SnsHelper.isClosePay()&&3==a||SceneHelper.pushToScene("Shop",null,{tabIdx:a,isShowOthers:c})};SignInDialogController=createController("SignInDialogController");SignInDialogController.onViewCreate=function(){return loadccb(GetAssetsPath("SignInDialog.ccbi"),this)};SignInDialogController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.registerEvent("event.ui.update");this.reset();EffectHelper.dialogLeftShow(this);this.btnHasReSignSpr.setShaderProgramByKey(kCCShaderType_Gray);this.btnHasSignSpr.setShaderProgramByKey(kCCShaderType_Gray)};
SignInDialogController.onViewClose=function(){this.nodePages=null};SignInDialogController.setReSignBtnEnabled=function(a){this.btnReSign.setEnabled(a,TextTable.t_ecode200273);this.btnReSignNode.setVisible(a);this.btnHasReSignSpr.setVisible(!a)};SignInDialogController.setSignBtnEnabled=function(a){this.btnSign.setEnabled(a,TextTable.t_ecode200273);this.btnSignSpr.setVisible(a);this.btnHasSignSpr.setVisible(!a)};
SignInDialogController.updateUI=function(){this.todayIdx=this.getTodayIdx();this.reSignDay&&this.hasSignIn(this.reSignDay)&&this.listItemHolder[this.reSignDay-1].lableDay.setString("\u5df2\u9886\u53d6");this.reSignDay=this.getResignInIdx();this.setReSignBtnEnabled(0<this.reSignDay);this.setSignBtnEnabled(this.canSingInToday());0>=this.reSignDay&&(this.btnReSign.setVisible(!1),this.btnSign.setPositionX(328))};SignInDialogController.onViewEnter=function(){this.updateUI()};
SignInDialogController.onEvents=function(a,c){"event.ui.update"==a&&this.updateUI()};
SignInDialogController.reset=function(){this.todayIdx=this.getTodayIdx();this.reSignDay=this.getResignInIdx();this.markMetas=MetaHelper.getMarkMeta();this.listItemHolder={};this.nodePages={};var a=this;this.pageItem.setPageSize(4);this.pageItem.registerScriptListener(function(c,d){"page"==c?a.pageItem.setPageView(a.buildPage(d),d):"select"==c&&a.labelPageNum.setString(d+"/4")});this.setReSignBtnEnabled(0<this.reSignDay);this.canSingInToday()?(this.pageItem.moveToPage(this.getPageIdxByDay(this.todayIdx)),
this.setSignBtnEnabled(!0)):(this.setSignBtnEnabled(!1),0<this.reSignDay?this.pageItem.moveToPage(this.getPageIdxByDay(this.reSignDay)):this.pageItem.moveToPage(this.getPageIdxByDay(this.todayIdx)));this.goodsMeta=MetaHelper.getGoodMetaListById(GoodsType.BuySignIn);this.labelReSignPrice.setString("x"+tostring(this.goodsMeta.diamond))};
SignInDialogController.buildPage=function(a){var c=cc.Node.create();c.setContentSize(this.pageItem.getContentSize());for(var d=1;7>=d;++d){var e=d+7*(a-1),f={},g=loadccb(GetAssetsPath("SignItem.ccbi"),f,this);4>d?(g.setPositionX(68+125*(d-1)),g.setPositionY(160)):(g.setPositionX(125*(d-4)),g.setPositionY(0));c.addChild(g);var g=this.hasSignIn(e),h=this.markMetas[e].rewards[0],m=GameIconHelper.getIconFrameName(h[0]);h[0]==ItemType.COIN&&99<h[1]?(m="item_icon_coin_much.png",f.goldLab.setString(tostring(h[1])),
f.lableRewardNum.setString("1")):(f.goldNode.setVisible(!1),f.goldLab.setVisible(!1),f.lableRewardNum.setString(tostring(h[1])));f.iconReward.setDisplayFrameName(m);f.spPad.setTag(e);g?(f.okSpr.setVisible(!0),f.todayBg.setVisible(!1),f.dailyBg.setVisible(!1),f.finishBg.setVisible(!0)):(f.okSpr.setVisible(!1),e==this.todayIdx?(f.todayBg.setVisible(!0),f.dailyBg.setVisible(!1)):(f.todayBg.setVisible(!1),f.dailyBg.setVisible(!0)),f.finishBg.setVisible(!1));g||5!=d&&7!=d?f.skelLight.setVisible(!1):(f.skelLight.setVisible(!0),
h=cc.repeatForever(cc.rotateBy(10,360)),f.skelLight.runAction(h));g?f.lableDay.setString("\u5df2\u9886\u53d6"):(g=e<this.todayIdx?TextTable.t_DailyFill_tips:string.expand(TextTable.t_sign_day,{num:e}),f.lableDay.setString(g));this.listItemHolder[e-1]=f}return this.nodePages[a]=c};SignInDialogController.getPageIdxByDay=function(a){var c=parseInt(a/7)+1;0==a%7&&(c-=1);return c};
SignInDialogController.onButtonReSign=function(){audio.playSound(GameMusicType.kButtonClick);if(UserManager.getDiamond()<this.goodsMeta.diamond)SnsHelper.isClosePay()?TipDialogController.showTip(ErrMsg(ErrCode.CASH_NOT_ENOUGH)):DiamondNotEnoughDialogController.show();else{this.reSignDay=this.getResignInIdx();this.pageItem.moveToPage(this.getPageIdxByDay(this.reSignDay));this.setReSignBtnEnabled(!1);this.setSignBtnEnabled(!1);var a=this;HttpHelper.buy(this,GoodsType.BuySignIn,1,function(c){0==c?(a.playGetReward(a.reSignDay,
function(){notification.postEvent("event.ui.update")}),ShareController.isOpen()&&UserManager.getMarkData()):(notification.postEvent("event.ui.update"),TipDialogController.showTip(ErrMsg(c)))})}};
SignInDialogController.onButtonSign=function(){audio.playSound(GameMusicType.kButtonClick);var a=this;this.pageItem.moveToPage(this.getPageIdxByDay(this.todayIdx));WaitingDialogController.show(3);HttpHelper.sendSign(this,function(c,d){WaitingDialogController.hide();if(0==c){a.todayIdx!=d.mark.daySign&&(a.todayIdx=d.mark.daySign);a.pageItem.moveToPage(a.getPageIdxByDay(a.todayIdx));a.playGetReward(a.todayIdx);notification.postEvent("event.ui.update");var e=!1,f;for(f in ModelManager.gameData.iconTurns)ModelManager.gameData.iconTurns[f]==
MenuItemTag.Menu_Tag_Mark&&(e=!0);e||(table.insert(ModelManager.gameData.iconTurns,MenuItemTag.Menu_Tag_Mark),notification.postEvent("event.ui.resetTaketurns"));a.back();notification.postEvent("event.ui.activity");ShareController.isOpen()&&UserManager.getMarkData()}else TipDialogController.showTip(ErrMsg(c))})};SignInDialogController.onItemClicked=function(a,c){var d=this.markMetas[a].rewards[0];ItemTipController.showWithButton(d[0],d[1],c,d[2])};
SignInDialogController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};SignInDialogController.back=function(){EffectHelper.dialogLeftHide(this)};SignInDialogController.playGetReward=function(a,c){var d=this.listItemHolder[a-1],e=this.markMetas[a].rewards[0];EffectHelper.itemFlyToUIAnim(e[0],e[1],d.iconReward,null,c);d.okSpr.setVisible(!0);d.todayBg.setVisible(!1);d.dailyBg.setVisible(!1);d.finishBg.setVisible(!0);d.skelLight.setVisible(!1)};
SignInDialogController.hasSignIn=function(a){var c=UserManager.getMarkData(),d;for(d in c.markNums)if(c.markNums[d]==a)return!0;return!1};SignInDialogController.canSingInToday=function(){var a=this.getTodayIdx();return!this.hasSignIn(a)};SignInDialogController.getTodayIdx=function(){return UserManager.getMarkToday()};SignInDialogController.getResignInIdx=function(){return UserManager.getFirstFillMarkDay()};GameLoaderScene=cc.LoaderScene.extend({init:function(){var a=this,c=cc.winSize.height,d=a._bgLayer=new cc.Layer;a.addChild(d,0);var e=0.35*-c;cc._loaderImage="res/image/720x1280/bg_startmenu.jpg";cc._loaderImage&&cc.loader.load(cc._loaderImage,function(d){d=cc.textureCache.addImage(cc._loaderImage);d.getContentSize();c=d.getContentSize().height;a._initStage(d,cc.visibleRect.center)});var f=a._label=new cc.LabelTTF("Loading... 0%","Arial",30);f.setPosition(cc.pAdd(cc.visibleRect.center,cc.p(0,e)));
f.setColor(cc.color(0,0,0));d.addChild(this._label,10);return!0},_initStage:function(a,c){var d=this._logo=new cc.Sprite(a);d.x=c.x;d.y=c.y;this._bgLayer.addChild(d,0)},onExit:function(){this.removeAllChildren();cc.Node.prototype.onExit.call(this)},setPercent:function(a){}});GameLoaderScene.preload=function(a,c,d){var e=new GameLoaderScene;e.init();e.initWithResources(a,c,d);cc.director.runScene(e);return e};StartMenuController=createController("StartMenuController");StartMenuController.onViewCreate=function(){return loadccb(GetAssetsPath("StartMenu.ccbi"),this)};StartMenuController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.reset();this.registerEvent("event.login.sdklogin")};
StartMenuController.onEvents=function(a,c){console.warn("StartMenuController.onEvents",a,c);"event.login.sdklogin"==a&&(c&&c.isSuccess?this.doCheckTxLogin():(WaitingDialogController.hide(),"timeout"==c.errMsg?TipDialogController.showTip(TextTable.t_networkError):(TipDialogController.showTip("\u9700\u8981\u8bbe\u7f6e\u5f00\u542f\u5fae\u4fe1\u8bbf\u95ee\u4fe1\u606f\u6743\u9650"),setTimeout(function(){wx.openSetting({success:function(a){}})},2E3))))};
StartMenuController.showAnnoucement=function(){var a=this,c=function(c){a.performDelay(function(){c?0<RmtHelper.getAnnoucementCount()&&MailCenterController.showLoading(3):TipDialogController.showTip(TextTable.t_networkError);a.showAllButtons()})};0>=RmtHelper.getAnnoucementCount()?(WaitingDialogController.show(),HttpHelper.getRemoteConfig(function(a){WaitingDialogController.hide();c(a)})):c(!0)};
StartMenuController.showGameOpenConfirm=function(){ConfirmDialogController.show({text:"\u5f53\u524d\u7248\u672c\u4e3aQQ\u7248\u672c\uff0c\u8bf7\u4f7f\u7528\u624bQ\u8fdb\u884c\u4f53\u9a8c\u54e6~",listener:function(){TencentSdkManager.closeGame()}})};StartMenuController.showSDKFailedConfirm=function(){ConfirmDialogController.show({text:"\u54ce\u5440\uff01\u7f51\u7edc\u8fde\u63a5\u5f02\u5e38\u5566\uff0c\u8bf7\u91cd\u65b0\u542f\u52a8\u6e38\u620f\u54e6~",listener:function(){TencentSdkManager.closeGame()}})};
StartMenuController.doCheckTxLogin=function(){if(TencentSdkManager.checkGameOpen())if(this.param&&this.param.ecode==ErrCode.ServerDown)this.showAnnoucement();else{var a=this,c=function(c){cc.addTimePoint("GameLoginEnd");0==c?a.enterGame():-100==c?(a.showAllButtons(),a.onButtonStart()):a.showAnnoucement()};TencentSdkManager.isOpen()?TencentSdkManager.isLogin()?(cc.addTimePoint("GameLoginStart"),this.hideAllButtons(),this.lastLoginType=SnsHelper.checkSNSLogin(),TencentSdkManager.checkGameLogin(c)):
TencentSdkManager.checkLogin():XCXManager.isOpen()&&(XCXManager.showGroupRankSign?(XCXManager.showGroupRankSign=!1,GroupRankNewController.showLoading()):GroupRankNewController.isShowing||GroupRankNewController.isShowLoading||!XCXManager.isLogin()||(cc.addTimePoint("GameLoginStart"),this.hideAllButtons(),this.lastLoginType=SnsHelper.checkSNSLogin(),XCXManager.checkGameLogin(c)))}else this.showGameOpenConfirm()};
StartMenuController.reset=function(){cc.addTimePoint("StartMenuReset");this.lastLoginType=null;this.showAllButtons(!0);TencentSdkManager.isForQZone()||this.doCheckTxLogin()};
StartMenuController.showAllButtons=function(a){(this.lastLoginType=SnsHelper.checkSNSLogin())?(this.btnFb.setVisible(!1),this.btnGuest.setVisible(!1),this.btnStart.setVisible(!0),EffectHelper.jellyShakeSlow(this.btnStart)):(this.btnFb.setVisible(!0),this.btnGuest.setVisible(!0),this.btnStart.setVisible(!1),EffectHelper.jellyShakeSlow(this.btnGuest),EffectHelper.jellyShakeSlow(this.btnFb))};StartMenuController.hideAllButtons=function(a){this.btnFb.setVisible(!1);this.btnGuest.setVisible(!1);this.btnStart.setVisible(!1)};
StartMenuController.startLogin=function(a){if(FreLoginManager.isCanLogin("game",!0)){this.hideAllButtons();WaitingDialogController.show();var c=this,d=function(a){WaitingDialogController.hide();0==a?c.enterGame():-1==a?c.showAnnoucement():(c.showAllButtons(),TipDialogController.showTip(ErrMsg(a)))};if(a){var e=SnsHelper.getToken(),f=SnsHelper.getOpenId(),g=SnsHelper.getSNSNick(),h=SnsHelper.getSNSHeadUrl();HttpHelper.login(function(a){d(a)},f&&a,e,f,h,g)}else HttpHelper.login(function(a){d(a)})}else this.showAllButtons()};
StartMenuController.enterGame=function(){cc.addTimePoint("enterGame");DcHelper.freshManAction(3);var a=this,c=function(c){c?a.openLevel(20300,c):a.goGame()};XCXManager.logicFrom(c)||c()};StartMenuController.goGame=function(){1<UserManager.getTopLevel()?(this.hide(),cc.addTimePoint("WorldMap"),SceneHelper.jumpToScene("WorldMap")):(cc.addTimePoint("GameMapOpt"),this.hide(),SceneHelper.jumpToScene("GameMapOpt",null))};
StartMenuController.openLevel=function(a,c){var d=[],e=[],f=LevelMapManager.getInstance().getLevelGameMode(a),g=this,h=function(a,d){ResourcesManager.loadLevelConfig(a,function(){g.hide();SceneHelper.jumpToScene("WorldMap");SceneHelper.pushToScene("GameWorld",null,{level:a,propIds:e,closeProp:d,demoLevel:d,roomId:c});DcHelper.startLevel(a)})};SceneHelper.loadNeedRes(function(){HttpHelper.startLevel(g,a,f,!1,d,function(c){0==c?h(a):(g.showAllButtons(),TipDialogController.showTip(ErrMsg(c)))},c)})};
StartMenuController.onButtonFb=function(){this.hideAllButtons();var a=this;SnsHelper.loginSNS("fb",function(c){c?a.startLogin("fb"):(TipDialogController.showTip(ErrMsg(100268)),a.showAllButtons())})};StartMenuController.onButtonGuest=function(){this.startLogin()};
StartMenuController.onButtonStart=function(){TencentSdkManager.isNoLogin()?FreLoginManager.isCanLogin(SnsHelper.checkSNSLogin(),!0)&&(WaitingDialogController.show(10),TencentSdkManager.checkLogin()):XCXManager.isNoLogin()?FreLoginManager.isCanLogin(SnsHelper.checkSNSLogin(),!0)&&(WaitingDialogController.show(10),XCXManager.login()):XCXManager.isGameLoginState()?this.doCheckTxLogin():this.startLogin(this.lastLoginType)};
StartMenuController.back=function(){QueryDialogController.show({text:TextTable.t_quitQuery,listener:function(a){a&&GameDirector.quit()}})};StoryLayerController=createController("StoryLayerController");StoryLayerController.onViewCreate=function(){return loadccb(GetAssetsPath("StoryLayer.ccbi"),this)};
StoryLayerController.onViewOpen=function(){var a=this;this.registerTouch(function(c,d,e){if("began"==c){if(!a.canTouch)return!0;a.playNextStory();return!0}},0,!0);this.canTouch=!1;this.performDelay(function(){a.canTouch=!0},0.5);a.param&&(this.initUI(),this.talkIdx=0,this.playNextStory(),this.layerBg.setOpacity(0),this.layerBg.runAction(CETreeFadeTo.create(0.5,180)))};
StoryLayerController.initUI=function(){var a=[],c;for(c in this.param.config.roles){var d=sp.SkeletonAnimation.create(GetAssetsPath(this.param.config.roles[c]));PetHelper.clearPetEquip(d);this.layer.addChild(d);a[c]=d}this.npcHolder=a;this.btnSkip.setPositionX(this.btnSkip.getPositionX()-110)};
StoryLayerController.playNextStory=function(){var a=this.param.config.talk;if(this.talkIdx>=a.length)this.talkIdx=0,this.back();else{a=a[this.talkIdx];this.talkIdx+=1;if(a.pose)for(var c in a.pose){var d=a.pose[c],e=this.npcHolder[c-1],f=d.anim;if("string"==typeof f)e.setAnimation(0,d.anim,!0);else if(f instanceof Array)if(1==f.length)e.setAnimation(0,f[0],!0);else if(1<f.length)for(e.setAnimation(0,f[0],!1),c=1;c<f.length;++c)e.addAnimation(0,f[c],c==f.length-1);null!=d.x&&e.setPositionX(d.x*display.width*
0.01);null!=d.y&&e.setPositionY(d.y*display.height*0.01);null!=d.flip&&e.setScaleX(d.flip&&-1||1);null!=d.hide&&e.setVisible(!d.hide)}for(c in this.npcHolder)d=this.npcHolder[c],c==a.role-1?(d.setColor(cc.color(255,255,255)),e=d.getPosition(),this.nodeTips.setPosition(e.x,e.y+240),0<d.getScaleX()?(this.spriteTips.setScaleX(-1),this.nodeTips.setAnchorPoint(ccp(0.86,0))):(this.spriteTips.setScaleX(1),this.nodeTips.setAnchorPoint(ccp(0.14,0)))):d.setColor(cc.color(128,128,128));a.padding&&this.labelTitle.setIntervalLen(a.padding);
this.labelTitle.setString(a.text);this.labelTitle.setTalkSpeed(5);this.labelTitle.startTalk();this.nodeTips.setScale(0);this.nodeTips.runAction(cc.scaleTo(0.4,1).easing(cc.easeBackOut()))}};StoryLayerController.onButtonSkip=function(){this.back()};StoryLayerController.back=function(){this.hide();this.param.listener&&this.param.listener(this.talkIdx)};TutorialLayerController=createController("TutorialLayerController");TutorialLayerController.timer=null;TutorialLayerController.onViewCreate=function(){return loadccb(GetAssetsPath("TutorialLayer.ccbi"),this)};
TutorialLayerController.onViewOpen=function(){this.layer.setZOrder(LayerZOrderTable.TutorialLayer);registerTouchAndKeyProcessor(this,"swallow");var a=this.param;if(a){var c=this;this.performDelay(function(){c.layer.setZOrder(LayerZOrderTable.TutorialLayer)});var d=a.stepConfig,e=a.listener;this.touchRect=null;this.canTouch=!1;this.registerScriptTouchHandler(function(a,d,h){if("began"==a){if(!c.canTouch)return!0;var m=c.touchRect;if(null!=m){a=m[0];var n=m[1],r=m[2],s=m[3];if(d>a&&d<a+r&&h>n&&h<n+
s)return null!=e&&e(!0),!1}else c.performDelay(function(){null!=e&&e(null==m)},0),c.canTouch=!1;return!0}},!1,0,!0);(a=d.delay)?(this.layer.setVisible(!1),this.performDelay(function(){c.initAll();c.layer.setVisible(!0);c.playEnterEffect()},a),this.performDelay(function(){c.canTouch=!0},0.5+a)):(this.initAll(),this.playEnterEffect(),this.performDelay(function(){c.canTouch=!0},0.5))}};
TutorialLayerController.onViewEnter=function(){this.timer&&(scheduler.unscheduleGlobal(this.timer),this.timer=null);ButtonHelper.setTouchDownClick(!0)};TutorialLayerController.onViewClose=function(){this.timer&&(scheduler.unscheduleGlobal(this.timer),this.timer=null);var a=this;this.timer=scheduler.performWithDelayGlobal(function(){a.timer=null;ButtonHelper.setTouchDownClick(!1)},0)};
TutorialLayerController.initAll=function(){var a=this.param.stepConfig,c=GameTutorialHelper.getRectCfgByRegionCfg(a.touchRegion),d=[];if(a.holeRegionList)for(var e=1;e<=a.holeRegionList.length;++e){var f=GameTutorialHelper.getRectCfgByRegionCfg(a.holeRegionList[e-1]);f&&table.insert(d,f)}0>=d.length&&c&&table.insert(d,c);if(c)if(e=c[0]+0.5*c[2],f=c[1]+0.5*c[3],0>=e||e>=display.width||0>=f||f>=display.height)loge("tutorial region out of screen"),c=null;else if(4>c[2]||4>c[3])loge("tutorial region range is too small"),
c=null;this.initArrow(c,a.arrowDir);this.initArrowPointer(d);this.initMask(d);this.initTips(a.text,a.tipPos,a.textPadding);this.initExtra(a,d);this.labelContinue.setVisible(!c);a.continueLeft&&(this.labelContinue.setPositionX(0),this.labelContinue.setAnchorPoint(ccp(0,0.5)));var g,h;a.petInfo?(d=a.petInfo.id||UserManager.getMainPetId(),g=a.petInfo.name,h=a.petInfo.equips):(d=UserManager.getMainPetId(),20001==d?(g=TextTable.t_GuideNPC_txt20001,h=[301102,301202,301302,301402]):20002==d&&(g=TextTable.t_GuideNPC_txt20002,
h=[302101,302201,302301,302401]));this.skelNpc.reloadWithCache(GetAssetsPath("anim"+d+".json"));h?PetHelper.setPetEquip(this.skelNpc,h):PetHelper.setPetEquipByPetID(this.skelNpc,d);g&&this.labelNpcName.setString(g);this.skelNpc.setAnimation(0,"stand",!0);this.touchRect=c};
TutorialLayerController.initArrowPointer=function(a){for(var c=1;c<=a.length;++c){var d=a[c-1],e=d.cfg.arrow;if(e){var f=0,g=0,h=0,m=d[0]+0.5*d[2],n=d[1]+0.5*d[3],r=cc.Node.create();this.layer.addChild(r);for(var s=1;2>=s;++s){var t=cc.Sprite.createWithSpriteFrameName("page_view_arrow.png");t.setPositionX((s-1)*t.getContentSize().width);r.addChild(t)}"up"==e?(h=-90,g=30,n=n+0.5*d[3]+10):"down"==e?(h=90,g=-30,n=n-0.5*d[3]-10):"right"==e?(f=30,m=m+0.5*d[2]+10):"left"==e&&(h=180,f=-30,m=m-0.5*d[2]-10);
r.setRotation(h);r.setPosition(m,n);d=cc.moveBy(0.5,ccp(f,g));f=cc.moveBy(0.5,ccp(-f,-g));f=cc.sequence(d,f);f=cc.repeatForever(f);r.runAction(f)}}};
TutorialLayerController.initArrow=function(a,c){if(null!=a){"zh_TW"==DeviceRegionLan?this.spriteArrow.setAttachment("click_cn","click_tw"):"zh"==DeviceLan&&this.spriteArrow.setAttachment("click_cn","click_cn");var d=this;this.spriteArrow.getScaleX();this.spriteArrow.getContentSize();this.spriteArrow.stopAllActions();if(null==c)this.spriteArrow.setVisible(!1);else{var e=a[0]+0.5*a[2],f=a[1]+0.5*a[3];"left"==c?this.spriteArrow.setRotation(270):"right"==c?this.spriteArrow.setRotation(90):"down"==c&&
this.spriteArrow.setRotation(180);this.spriteArrow.setPosition(e,f);e>0.85*display.width?(this.spriteArrow.setBoneX("bg",-70),this.spriteArrow.update(0)):this.spriteArrow.setBoneX("bg",90);this.spriteArrow.setVisible(!1);this.performDelay(function(){d.spriteArrow.setVisible(!0)},0.5)}}else this.spriteArrow.setVisible(!1)};
TutorialLayerController.initMask=function(a){if(null!=a){for(var c=new cc.BlendFunc(cc.ZERO,cc.ONE_MINUS_SRC_ALPHA),d=[],e=1;e<=a.length;++e){var f=a[e-1],g=f.cfg.shape;if("tilerect"==g)table.insert(d,f);else{if("circle"==g){var g=cc.Sprite.createWithSpriteFrameName("#ico_white_dot2.png"),h=g.getContentSize();g.setScaleX(f[2]/h.width*1.2);g.setScaleY(f[3]/h.height*1.2);g.setPosition(f[0]+0.5*f[2],f[1]+0.5*f[3])}else"circle2"==g?(g=cc.Sprite.createWithSpriteFrameName("#ico_white_dot2.png"),h=g.getContentSize(),
g.setScaleX(f[2]/h.width*1.7),g.setScaleY(f[3]/h.height*1.7),g.setPosition(f[0]+0.5*f[2],f[1]+0.5*f[3])):(g=cc.LayerColor.create(cc.color(255,255,255,255),f[2],f[3]),g.setPosition(f[0],f[1]));g.setBlendFunc(c);this.nodeBg.addChild(g)}}0<d.length&&(a=cc.SpriteBatchNode.create(GetAssetsPath("common.png"),16),a.setBlendFunc(c),this.nodeBg.addChild(a),g=this.getBoardMapByRectList(d),c=g[0],d=g[1],e=g[2],f=g[3],g=g[4],TileBoardHelper.paintBorderByData(a,ccp(0,0),c,"cmn_tile"),a.setScaleX(f/64),a.setScaleY(g/
64),a.setPosition(d,e));c=CCNodeUtils.takePicture(this.nodeBg,0.5*display.width,0.5*display.height,0,0,!1);c.setPosition(0.5*display.width,0.5*display.height);c.setScaleX(2*c.getScaleX());c.setScaleY(2*c.getScaleY());this.nodeBg.removeAllChildrenWithCleanup(!0);this.nodeBg.addChild(c)}};
TutorialLayerController.initTips=function(a,c,d){""!=a?(this.labelTitle.setIntervalLen(d||10),this.labelTitle.setString(a),this.labelTitle.setTalkSpeed(7)):(this.nodeTips.setVisible(!1),this.skelNpc.setVisible(!1));c&&this.nodeTips.setPositionY(c*display.height*0.01)};
TutorialLayerController.initExtra=function(a,c){var d=a.extra;if(d)for(var e=0,f=d.length;e<f;e++){var g=d[e];if("add_arrow"==g.name){var h=c[g.param[0]-1],m=c[g.param[1]-1],g=h[0]+0.5*h[2],h=h[1]+0.5*h[3],n=m[0]+0.5*m[2],m=m[1]+0.5*m[3],r=cc.Sprite.create(GetAssetsPath("guide_s_arrow.png"));r.setPosition(g+0.55*(n-g),h+0.55*(m-h));r.setRotation(Math.atan2(m-h,n-g)*(-180/3.1415926));this.layer.addChild(r)}else"custom_tip"==g.name?(this.skelNpc.setVisible(!0),this.nodeDialog.setVisible(!0),this.spriteDialog.setVisible(!1),
this.labelTitle.setVisible(!1),g=loadccb(GetLanAssetsPath(g.param),this),this.nodeDialog.addChild(g)):"click_aim"==g.name&&(r=cc.Sprite.create(GetAssetsPath("bg_icon_aim.png")),this.spriteArrow.addChild(r),r.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(0.5,1.2),cc.scaleTo(0.5,1)))))}};
TutorialLayerController.getBoardMapByRectList=function(a){if(0>=a.length)return[[],0,0];var c=a[0][2],d=a[0][3],e=999999,f=999999,g=0,h=0,m;for(m in a){var n=a[m];n[0]<e&&(e=n[0]);n[0]>g&&(g=n[0]);n[1]<f&&(f=n[1]);n[1]>h&&(h=n[1])}n=Math.round((g+c-e)/c);h=Math.round((h+d-f)/d);g=table.create(0,h,n);for(m in a)n=a[m],g[h-(n[1]+d-f)/d+1][(n[0]+c-e)/c]=1;return[g,e,f,c,d]};
TutorialLayerController.playEnterEffect=function(){EffectHelper.treeFadeIn(this.nodeBg);this.nodeDialog.setScale(0);this.nodeDialog.runAction(cc.scaleTo(0.4,1).easing(cc.easeBackOut()));this.labelTitle.startTalk()};TutorialLayerController.back=function(){};TutorialTipController=createController("TutorialTipController");TutorialTipController.onViewCreate=function(){return cc.Layer.create()};TutorialTipController.onViewOpen=function(){this.param&&(registerTouchAndKeyProcessor(this,"swallow"),this.levelInDC=this.stepId=0,this.guideLevelMap=table.listToMap([1,2,5,9,11,13,21,37,53,67,103]),this.tryToShowNextTip())};
TutorialTipController.tryToShowNextTip=function(){this.stepId+=1;var a=this.param.levelId;this.levelInDC=a;this.skelScene=this.skelHand=null;var c=GetAssetsPath("TutorialTip_"+a+"_"+this.stepId+".ccbi");""!=c&&1==this.stepId&&this.guideLevelMap[a]?(c=loadccb(c,this),this.layer.removeAllChildrenWithCleanup(!0),this.layer.addChild(c),this.resetDialog(a,this.stepId)):(this.hide(),(a=this.param.listener)&&a())};
TutorialTipController.resetDialog=function(a,c){var d=this.layerBg.getOpacity();this.layerBg.setOpacity(0);this.layerBg.runAction(cc.fadeTo(0.4,d));this.nodeDialog.setScale(0);this.nodeDialog.runAction(cc.scaleTo(0.4,1).easing(cc.easeBackOut()));var e,f,d=UserManager.getMainPetId();20001==d?(e=TextTable.t_GuideNPC_txt20001,f=[301102,301202,301302,301402]):20002==d&&(e=TextTable.t_GuideNPC_txt20002,f=[302101,302201,302301,302401]);this.skelPet.reloadWithCache(GetAssetsPath("anim"+d+".json"));f?PetHelper.setPetEquip(this.skelPet,
f):PetHelper.setPetEquipByPetID(this.skelPet,d);e&&this.labelPetName&&this.labelPetName.setString(e);this.skelPet.setAnimation(0,"stand",!0);e=5;1==a&&(e=3);this.knowBtn&&GameTutorialHelper.hasFirstEvent("event.game.startLevel"+a)&&(this.knowBtn.setEnabled(!1),this.performDelay(function(){this.knowBtn.setEnabled(!0)},e-2));var g=this;this.registerUpdate("play",function(){g.labelTitle.setIntervalLen(10);g.labelTitle.setString(TextTable["t_BasicGuide_"+a]);g.skelScene.setToSetupPose();g.skelScene.setAnimation(0,
"default",!1);g.skelHand&&(g.skelHand.setVisible(!0),g.skelHand.setToSetupPose(),g.skelHand.setAnimation(0,"click",!1),g.skelHand.runAction(cc.sequence(cc.delayTime(1),cc.hide())),"zh_TW"==DeviceRegionLan?g.skelHand.setAttachment("click_cn","click_tw"):"zh"==DeviceLan&&g.skelHand.setAttachment("click_cn","click_cn"))},e,!0)};TutorialTipController.onButtonOk=function(){1==this.stepId&&1==this.levelInDC&&DcHelper.freshManAction(5);this.tryToShowNextTip()};ActivityLayerController=createController("ActivityLayerController");ActivityLayerController.onViewCreate=function(){return loadccb(GetAssetsPath("ActivityLayer.ccbi"),this)};ActivityLayerController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.registerEvent("event.ui.update");this.reset();EffectHelper.dialogLeftShow(this)};ActivityLayerController.showActivity=function(){var a=this,c=function(){a.showLoading()};SceneHelper.loadNeedRes(function(a){a&&ActivityManager.loadActivitys(c)})};
ActivityLayerController.onViewEnter=function(){};ActivityLayerController.onEvents=function(a,c){"event.ui.update"==a&&this.updateUI()};
ActivityLayerController.buildTab=function(a){var c=-1;this.listTabHolder=[];for(var d=0;d<a.length;d++){var e=d,f=a[e],g=[],h=loadccb(GetAssetsPath("ActivityTabItem.ccbi"),g,this);g.actId=f.actId;g.bigIcoImg=f.icon;var m=this.checkOrShowActivityTips(g.actId);f.actId>MenuItemTag.Menu_Tag_Activity?g.spTabItem.setDisplayFrameFile(f.title):g.spTabItem.setDisplayFrameFile(GetLanAssetsPath(f.title));g.spChoosen.setVisible(!1);g.btnTab.setTag(e);g.spTipDot.setVisible(m);this.listTabHolder[e]=g;this.listTab.addItem(h);
m&&-1==c&&(c=e)}this.curTabIndex=0<=c?c:0;this.switchTab(this.curTabIndex)};
ActivityLayerController.switchTab=function(a){this.listTabHolder[this.curTabIndex].spChoosen.setVisible(!1);this.curTabIndex=a;this.listTabHolder[this.curTabIndex].spChoosen.setVisible(!0);var c=this.listTabHolder[this.curTabIndex];c.actId>MenuItemTag.Menu_Tag_Activity?this.spBigIco.setDisplayFrameFile(c.bigIcoImg):this.spBigIco.setDisplayFrameFile(GetAssetsPath(c.bigIcoImg));this.performDelay(function(){this.listTab.moveListItemTo(a+1,0.2)});var d=ActivityManager.isOpen(c.actId)||c.actId<=MenuItemTag.Menu_Tag_Activity;
this.btnGo.setShaderProgramByKey(d?cc.SHADER_SPRITE_POSITION_TEXTURECOLOR:cc.SHADER_SPRITE_POSITION_TEXTURECOLOR_GRAY);c.spTipDot.setVisible(!1);this.hideActivityNews(c.actId);notification.postEvent("event.ui.activity");HuskyTaskManager.onEvents("event.ui.pageOpen",{pageIndex:4})};
ActivityLayerController.reset=function(){ActivityManager.isOpen(10005)&&!UserManager.hasPet(20005)&&notification.postEvent("event.ui.huskyGuide");this.defaultList=[{actId:MenuItemTag.Menu_Tag_Mark,icon:"ico_big_mark.png",title:"txt_big_sign.png",callback:ActivityLayerController.onItemMark,pos:100},{actId:MenuItemTag.Menu_Tag_Lottery,icon:"ico_big_lottery.png",title:"txt_big_lottery.png",callback:ActivityLayerController.onItemLottery,pos:99}];this.defaultList=table.listToMap(this.defaultList,"actId");
var a=UserManager.getTopLevel(),c=[],d;for(d in MetaHelper.functions){var e=MetaHelper.functions[d],f=this.defaultList[e.id];f&&(f.priority=f.pos,f.level=e.unlockLevel||MetaHelper.getFuncUnlockLevel(e.id),a<f.level?f.isLock=!0:e.id==MenuItemTag.Menu_Tag_FriendRequest?FriendRequestLayerController.isOpenFunc()&&table.insert(c,f):table.insert(c,f))}this.activityList=ActivityManager.getReadyList();for(d in this.activityList)e=this.activityList[d],e=cw.clone(e),a<e.level&&(e.isLock=!0),table.insert(c,
e);table.sort(c,function(a,c){if(!a.isLock&&c.isLock)return!0;if(!a.isLock||c.isLock)if(a.isLock&&c.isLock)if(a.level==c.level){if(a.pos==c.pos)return a.priority<c.priority;if(a.pos<c.pos)return!0}else return a.level<c.level;else{if(a.pos==c.pos)return a.priority<c.priority;if(a.pos<c.pos)return!0}return!1});this.scrollBar.bindScrollView(this.listView);this.listViewItems={};this.buildTab(c)};
ActivityLayerController.getGuideBtnRect=function(){for(var a=0,c=0;c<this.listTabHolder.length;c++)if(10005==this.listTabHolder[c].actId){a=c;break}a=this.listTabHolder[a].btnTab.boundingBoxInWorld();return[a.x,a.y,a.width,a.height]};ActivityLayerController.updateUI=function(){};
ActivityLayerController.hasMsgTips=function(){if(SignInDialogController.canSingInToday()||0>=LotteryController.getFreeLeftTime())return!0;this.activityList=ActivityManager.getReadyList();for(var a in this.activityList)if(this.checkOrShowActivityTips(this.activityList[a].actId))return!0;return!1};
ActivityLayerController.checkOrShowActivityTips=function(a){if(a==MenuItemTag.Menu_Tag_Mark)return SignInDialogController.canSingInToday();if(a==MenuItemTag.Menu_Tag_Lottery)return 0>=LotteryController.getFreeLeftTime();if(ActivityManager.hasRemindTip(a))return!0;var c=persist.getCrossDayString("act_news_show"),c=string.split(c,","),d=!1,e;for(e in c)if(c[e]==tostring(a)){d=!0;break}return!d};
ActivityLayerController.hideActivityNews=function(a){var c=persist.getCrossDayString("act_news_show"),d=string.split(c,","),e=!1,f;for(f in d)d[f]==tostring(a)&&(e=!0);e||(c=""==c?tostring(a):c+","+tostring(a),persist.setCrossDayString("act_news_show",c));ActivityManager.clearRemindTip(a)};ActivityLayerController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};ActivityLayerController.back=function(){EffectHelper.dialogLeftHide(this)};
ActivityLayerController.onItemClicked=function(a){if(a>MenuItemTag.Menu_Tag_Activity)ActivityManager.checkAndOpen(a),this.back();else{var c=this.defaultList[a];c&&(c.callback(),a==MenuItemTag.Menu_Tag_KitchenGod?this.hide():this.back())}};ActivityLayerController.onItemMark=function(){audio.playSound(GameMusicType.kButtonClick);SignInDialogController.showLoading()};ActivityLayerController.onItemLottery=function(){audio.playSound(GameMusicType.kButtonClick);SceneHelper.pushToScene("Lottery")};
ActivityLayerController.onItemKitchenGod=function(){audio.playSound(GameMusicType.kButtonClick);WaitingDialogController.show();KitchenGodController.checkDataOrRefresh(function(a){WaitingDialogController.hide();a&&SceneHelper.pushToScene("KitchenGodMap")})};ActivityLayerController.onButtonTabItem=function(a){this.curTabIndex!=a&&this.switchTab(a)};
ActivityLayerController.onButtonGo=function(){var a=this.listTabHolder[this.curTabIndex].actId;if(a>MenuItemTag.Menu_Tag_Activity)ActivityManager.checkAndOpen(a)&&this.back();else{var c=this.defaultList[a];c&&(c.callback(),a==MenuItemTag.Menu_Tag_KitchenGod?this.hide():this.back())}};ActivityLayerController.onButtonFriendRequest=function(){audio.playSound(GameMusicType.kButtonClick);FriendRequestLayerController.showLoading()};ExchangeCodeDialogController=createController("ExchangeCodeDialogController");ExchangeCodeDialogController.onViewCreate=function(){return loadccb(GetAssetsPath("ExchangeCodeDialog.ccbi"),this)};ExchangeCodeDialogController.onViewOpen=function(){this.registerTouch(function(a,c){return!0},0,!0);EffectHelper.dialogPopOut(this);this.reset()};ExchangeCodeDialogController.reset=function(){};
ExchangeCodeDialogController.onButtonGetReward=function(){audio.playSound(GameMusicType.kButtonClick);var a=this.labelInput.getString();this.labelInput.detachWithIME();var c=this;WaitingDialogController.show();HttpHelper.sendExchangeCodeReward(this,a,function(a,e){WaitingDialogController.hide();0==a?(c.labelInput.setString(""),e.rewards&&GetRewardDialogController.show({rewards:e.rewards,tip:TextTable.t_Tip_Exchange_Code3})):TipDialogController.showTip(ErrMsg(a))})};
ExchangeCodeDialogController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};ExchangeCodeDialogController.back=function(){EffectHelper.dialogPopIn(this)};GameSettingDialogController=createController("GameSettingDialogController");GameSettingDialogController.onViewCreate=function(){return loadccb(GetAssetsPath("GameSettingDialog.ccbi"),this)};GameSettingDialogController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);EffectHelper.dialogLeftShow(this);this.reset()};
GameSettingDialogController.reset=function(){this.setSoundState(audio.isSoundMute());this.setMusicState(audio.isMusicMute());var a=persist.getBool("Smooth");this.setEnergyState(a);this.labelVersion.setString("1."+VerName);this.btnP1.setVisible(!1);this.btnP2.setVisible(!1);this.btnP3.setVisible(!1)};GameSettingDialogController.setSoundState=function(a){this.btnSound.setPressDown(!a)};GameSettingDialogController.setMusicState=function(a){this.btnMusic.setPressDown(!a)};
GameSettingDialogController.setEnergyState=function(a){this.btnEnergy.setPressDown(a)};GameSettingDialogController.onButtonSound=function(){audio.playSound(GameMusicType.kButtonClick);var a=!audio.isSoundMute();audio.setSoundMutePersist(a);this.setSoundState(a)};GameSettingDialogController.onButtonMusic=function(){audio.playSound(GameMusicType.kButtonClick);var a=!audio.isMusicMute();audio.setMusicMutePersist(a);this.setMusicState(a)};
GameSettingDialogController.onButtonEnergy=function(){audio.playSound(GameMusicType.kButtonClick);var a=!persist.getBool("Smooth");GameSettingDialogController.setSmoothPersist(a);this.setEnergyState(a)};GameSettingDialogController.setSmoothPersist=function(a){var c=30;a&&(c=60);QAManager.initFPS(c);persist.setBool("Smooth",a)};GameSettingDialogController.onButtonStrange=function(){audio.playSound(GameMusicType.kButtonClick);TipDialogController.showTip(ErrMsg(200262));this.btnStrange.setPressDown(!1)};
GameSettingDialogController.openPolicy=function(){TencentSdkManager.isOpen()?TencentSdkManager.openUrlWithExtraWebview("http://game.qq.com/contract.shtml"):cc.sys.openURL("http://game.qq.com/contract.shtml")};GameSettingDialogController.onButtonContent=function(){audio.playSound(GameMusicType.kButtonClick);this.openPolicy()};GameSettingDialogController.onButtonPolicy=function(){audio.playSound(GameMusicType.kButtonClick);this.openPolicy()};
GameSettingDialogController.onButtonProtocol=function(){audio.playSound(GameMusicType.kButtonClick);this.openPolicy()};GameSettingDialogController.onButtonBack=function(){this.back()};GameSettingDialogController.back=function(){audio.playSound(GameMusicType.kPopupClose);EffectHelper.dialogLeftHide(this)};GetRewardDialogController=createController("GetRewardDialogController");var Item_PosX=[[431],[381,481],[341,431,521],[251,341,431,521],[251,341,431,521,611]];GetRewardDialogController.onViewCreate=function(){return loadccb(GetAssetsPath("GetRewardDialog.ccbi"),this)};GetRewardDialogController.onViewOpen=function(){this.registerTouch(function(a,c){return!0},0,!0);EffectHelper.dialogPopOut(this);this.reset()};
GetRewardDialogController.reset=function(){if(null!=this.param){var a=this,c=this.param.rewards,d=c.length,e=Item_PosX[d-1];this.labelTips.setString(this.param.tip);for(var f=1;5>=f;++f)if(f<=d){var g=c[f-1];this["nodeItem_"+f].setVisible(!0);this["nodeItem_"+f].setPositionX(e[f-1]);this["labelNum_"+f].setString("x"+tostring(g.value));var h=GameIconHelper.getIconFrameName(g.itemId);this["icon_"+f].setDisplayFrameName(h);h=this["nodeItem_"+f].getPosition();EffectHelper.itemFlyToUIAnim(g.itemId,g.value,
h,a.layer,function(){a.skelNpc.runAction(cc.sequence(cc.delayTime(1.5),cc.callFunc(function(){a.back()})))})}else this["nodeItem_"+f].setVisible(!1);c=UserManager.getMainPetId();this.skelNpc.reloadWithCache(GetAssetsPath("anim"+c+".json"));PetHelper.setPetEquipByPetID(this.skelNpc,c);this.skelNpc.setAnimation(0,"stand",!0);notification.postEvent("event.ui.update")}};GetRewardDialogController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};
GetRewardDialogController.back=function(){EffectHelper.dialogPopIn(this)};WorldMapController=createController("WorldMapController");WorldMapController.topDistance=200;for(var ccbLevelCountList=[7,8,9,7,7,8,8,9,7,7,8,8,9,7,7,8,8,9,7,7,8,8,9,7,7,8,8,9,7,7,8,8,9,7,7,8,8,9,7,7,8,8,9,7,7,8,8,9,7,7,8,8,9,7,7,8,8,9,7,7,8,8,9,7,7,8,8,9,7,7,8,8,9,7,7,8],ccbLevelMaxCountList=[],tmpCount=0,i=0;i<ccbLevelCountList.length;i++)tmpCount+=ccbLevelCountList[i],table.insert(ccbLevelMaxCountList,tmpCount);
WorldMapController.onViewCreate=function(){return loadccb(GetAssetsPath("WorldMap.ccbi"),this)};WorldMapController.onViewOpened=function(){cc.addTimePoint("WorldMapControllerOpen")};
WorldMapController.onViewOpen=function(){var a=this;this.registerTouch(function(c,e){if("began"==c&&a.openHeadList){var f=a.headHolders[a.openHeadList],g=e.getLocation().x,h=e.getLocation().y;if(f&&!f.rootNode.containWorldPoint(g,h))a.onHeadListAnim(a.openHeadList,!1);else a.onClickedHead(f,g,h)}return!0},0,!0);this.registerEvent("event.server.mainCarChanged");this.registerEvent("event.ui.update");this.btnLevels=[];this.labelLevels=[];this.iconStar_1=[];this.iconStar_2=[];this.iconStar_3=[];this.reset();
var c=EffectHelper.buildRingsEffectNode();c.setScale(1.9,1.55);this.nodeCellLight.addChild(c);this.spriteCellEffect.setVisible(!1)};
WorldMapController.onViewEnter=function(a){ResourcesManager.releaseLevelConfig(a&&a.level);ResourcesManager.removeUnusedRes();audio.getCurrentMusicFile()!=GameMusicType.kWorldSceneBGM&&audio.playMusic(GameMusicType.kWorldSceneBGM,!0);var c=function(a){!UserManager.haveGetNovice()&&1<UserManager.getTopLevel()&&PopoutQueue.push("NoviceGiftPackController");if(TimeLevelController.isAutoOpen())return!0;if(7==UserManager.getTopLevel()&&6==a&&FristChargeDialogController.isOpen())return PopoutQueue.push("FristChargeDialogController"),
!0;if(TimeChargeGiftController.isOpen()&&!persist.getCrossDayString("pop_time_chargegift"))return persist.setCrossDayString("pop_time_chargegift","1"),PopoutQueue.push("TimeChargeGiftController"),!0;if(TimeShopGiftController.isOpen()&&!persist.getCrossDayString("pop_time_shopgift"))return persist.setCrossDayString("pop_time_shopgift","1"),PopoutQueue.push("TimeShopGiftController"),!0;UserManager.getPopUpMessage()&&(PopoutQueue.push("ConfirmDialogController",{text:UserManager.getPopUpMessage(),big:!0}),
UserManager.clearPopUpMessage());0<CacheHelper.getLuckyKitDropIdx()&&PopoutQueue.push("LuckyKitDialogController");return UserManager.isNewRoom?(UserManager.isNewRoom=!1,TimeLevelNewController.showLoading(),!0):!1};if(a)if(this.checkAndChangePet(),this.checkLotteryGuide())this.onNextLevel(a.level,a.notAnimated,function(a){},a.bNewStarGet);else if("clear"==a.reason)this.onNextLevel(a.level,a.notAnimated,function(d){c(a.level)||(a.autoNext&&d?(2!=a.level&&15!=a.level&&30!=a.level||TencentSdkManager.OpenSendDesktopController(!1),
PopoutQueue.push("StartGameController",{level:a.level+1})):a.autoLevel&&PopoutQueue.push("StartGameController",{level:a.level}))},a.bNewStarGet);else if("timeLevelFailed"==a.reason&&0>=CacheHelper.getLuckyKitDropIdx())WorldMapUIController.onButtonTimeReward();else c();else c();var d=this.getMapTopLevel();d!=this.lastTopLevel&&(printf("reset world map",d,this.lastTopLevel),this.reset());this.updateMainCar()};
WorldMapController.checkLotteryGuide=function(){return GameTutorialHelper.hasFirstEvent("event.ui.lotteryGuide")&&25<UserManager.getTopLevel()?(this.performDelay(function(){notification.postEvent("event.ui.lotteryGuide")}),!0):!1};
WorldMapController.reset=function(){this.headHolders=null;this.clickHeadTimes=0;this.lockNodeList=this.lockHolderList=null;this.petIdAfterGame=0;this.lastCheckUnusedTime=TimeUtils.time();this.nodeRoot.setNodeVisibleDeep(3);this.nodeRoot.setMoveNotSwallowTouch(!0);this.nodeRoot.setSpeedFactor(10);DebugFlag&&this.nodeRoot.setSpeedFactor(1);this.levelAreaMeta=MetaHelper.getLevelArea();var a=MetaHelper.global.open_max_level,c=ccbLevelMaxCountList[ccbLevelMaxCountList.length-1];a>c&&(a=c);this.openMaxLevel=
a;this.lastTopLevel=c=this.getMapTopLevel();var d=this.getLevelBtnWorldPos(a)[1];this.nodeRoot.getContainer().setContentHeight(d+320+this.topDistance);c=1-this.getLevelBtnWorldPos(c)[1]/(d+this.topDistance);this.nodeRoot.moveToPercent(c,0);c=UserManager.getHeadUrl();GameHelper.loadHeadSprite(this.spriteHeadMy,c);var e=this,f=this.nodeRoot.getContainer(),g=1024*f.getScale(),h=this.getCellIdxByLevel(a);this.registerUpdate("load_cell",function(){for(var a=h-Math.ceil(f.getPositionY()/g)+3,c=a-2;c<=a;c++)e.loadCCbCell(c)},
0);this.registerUpdate("check_top",function(){e.nodeMoreLevel.boundingBoxInWorld().y<display.height&&notification.postEvent("event.ui.mapScrollTop")},1);this.spriteIcon20004=null;this.nodeIcons.removeAllChildrenWithCleanup(!0);UserManager.petDict[20004]||(this.spriteIcon20004=ButtonSprite.create(),this.spriteIcon20004.setDisplayFrameName("ico_cat2.png"),this.spriteIcon20004.setAnchorPoint(ccp(0.5,-0.6)),this.nodeIcons.addChild(this.spriteIcon20004),this.spriteIcon20004.setCallback(this.onButtonIcon20004,
this));this.updateOtherItemPos();SnsHelper.checkSNSLogin()&&HttpHelper.syncSnsFriends([],SnsHelper.checkSNSLogin());this.updateFriendUI();GameTutorialHelper.startGuide(GameTutorialConfig)};WorldMapController.updateUI=function(){this.updateMapIcons()};
WorldMapController.loadCCbCell=function(a){if(!(1>a||a>ccbLevelCountList.length)){var c=this.getFirstLevelByCellIdx(a);if(!this.btnLevels[c-1]){var d={},e=a;6<e&&(e=(e-7)%5+2);for(var e=loadccb(GetAssetsPath("WorldMapItemCell_"+e+".ccbi"),d,this,null,null,["btnLevels","labelLevels","iconStar_1","iconStar_2","iconStar_3"]),f=d.btnLevels,g=d.labelLevels,h=d.iconStar_1,m=d.iconStar_2,d=d.iconStar_3,n=this.btnLevels,r=this.labelLevels,s=this.iconStar_1,t=this.iconStar_2,u=this.iconStar_3,w=0;w<f.length;w++){var z=
c+w-1;n[z]=f[w];r[z]=g[w];s[z]=h[w];t[z]=m[w];u[z]=d[w]}this.nodeCells.addChild(e);e.setZOrder(1E4-a);e.setPosition(0,1024*(a-1));printf("load cell",a);this.updateCell(a);this.updateOtherItemPos();this.addTutorialNodeForCell(a)}}};WorldMapController.setStagePointFrameName=function(a,c,d,e){c=GameModeType.getModeShowType(c);6<c&&(c=1);a.setDisplayFrameName(e?"stage_cell_3_"+c+".png":"stage_cell_"+d+"_"+c+".png")};
WorldMapController.updateCell=function(a){var c=this.openMaxLevel,d=this.getMapTopLevel(),e=MetaHelper.global.hardLevel,f=this.getFirstLevelByCellIdx(a);for(a=this.getLevelMaxCountByCellIdx(a);f<=a;f++)if(f<=c){var g=this.btnLevels[f-1];g.setTag(f);this.labelLevels[f-1].setString(f);if(this.isCurrentArea(f))this.setLockLevel(f,g,!0);else{var h=UserManager.getLeveleScore(f);f==d&&null==h?(this.setStagePointFrameName(g,f,1,e[f]),g.setTouchEnabled(!0)):f>d?this.isMinLevelOfArea(f)?this.setLockLevel(f,
g,!1):(this.setStagePointFrameName(g,f,0,e[f]),g.setTouchEnabled(!1)):(this.setStagePointFrameName(g,f,2,e[f]),g.setTouchEnabled(!0));if(h)for(g=1;3>=g;++g){var m=this["iconStar_"+g][f-1];m.setVisible(!0);g<=h.star?m.setDisplayFrameName("map_star_"+(2*g-1)+".png"):m.setDisplayFrameName("map_star_"+2*(g-1)+".png")}else for(g=1;3>=g;++g)m=this["iconStar_"+g][f-1],m.setVisible(!1)}}else this.btnLevels[f-1].setVisible(!1)};
WorldMapController.addTutorialNodeForCell=function(a){var c=this.openMaxLevel,d=this.getMapTopLevel(),e=MetaHelper.global.newFeatureLevel,f=this.getFirstLevelByCellIdx(a);for(a=this.getLevelMaxCountByCellIdx(a);f<=a;f++){if(f<=c){var g=this.btnLevels[f-1];if(GameTutorialLevelMap[f]){var h=cc.Sprite.createWithSpriteFrameName("stage_point_guide.png");g.addChild(h);h.setPosition(97,32)}}f>d&&e[f]&&(g=this.btnLevels[f-1],h=cc.Sprite.createWithSpriteFrameName("world_map_tip_new.png"),g.spriteNewFeature=
h,g.addChild(h),h.setPosition(84,112))}};
WorldMapController.updateOtherItemPos=function(a){var c=this.getLevelBtnWorldPos(this.openMaxLevel);this.nodeMoreLevel.setPositionY(c[1]+40+this.topDistance);var d=this.getMapTopLevel(),c=this.getLevelBtnWorldPos(d);a=c[0];c=c[1];this.nodeCar.stopAllActions();this.nodeCar.setPosition(this.getCarPosByLevelPos(a,c,this.curLockLevel==d));this.nodeCellLight.setPosition(a,c);d<this.openMaxLevel&&(c=this.getLevelBtnWorldPos(d+1),a=c[0],c=this.nodeCar.getPositionX(),this.nodeCar.setScaleX(0<a-c?-1:1));this.updateMapIcons();
if(this.headHolders)for(var e in this.headHolders)d=this.headHolders[e],c=this.getLevelBtnWorldPos(e),a=c[0],c=c[1],d.rootNode.setPosition(a,c+this.getHeadOffsetYByLevel(e))};WorldMapController.updateMapIcons=function(){if(this.spriteIcon20004){var a=this.getMapTopLevel();this.spriteIcon20004.setVisible(3<a);UserManager.petDict[20004]?(this.spriteIcon20004.removeFromParentAndCleanup(!0),this.spriteIcon20004=null):(a=this.getLevelBtnWorldPos(10>a?10:a+2),this.spriteIcon20004.setPosition(a[0],a[1]))}};
WorldMapController.onEvents=function(a,c){"event.server.mainCarChanged"==a?this.updateMainCar():"event.ui.update"==a&&this.updateUI()};WorldMapController.getMapTopLevel=function(){var a=UserManager.getTopLevel();this.isLevelPassed(a)&&(a+=1);a>this.openMaxLevel&&(a=this.openMaxLevel);return a};WorldMapController.getLevelBtn=function(a){return this.btnLevels[a-1]};
WorldMapController.getLevelBtnWorldPos=function(a){var c=this.btnLevels[a-1];if(c){var d=this.getCellIdxByLevel(a);a=c.getPositionX();var e=c.getPositionY();return[a,e+c.getParent().getPositionY()+1024*(d-1)]}d=this.getCellIdxByLevel(a);return 0<d?(c=this.getFirstLevelByCellIdx(d),[0,1024*(d-1+(a-c)/ccbLevelCountList[d-1])]):[0,0]};WorldMapController.getCarPosByLevelPos=function(a,c,d){return d?ccp(a+80,c):ccp(a,c+40)};
WorldMapController.checkAndChangePet=function(){0<this.petIdAfterGame&&(HttpHelper.changeMainPet(this,this.petIdAfterGame),this.petIdAfterGame=0)};
WorldMapController.onNextLevel=function(a,c,d,e){this.updateLevel(a);var f=!0;a+1>this.openMaxLevel?(this.lastTopLevel=this.openMaxLevel,f=!1):a==this.lastTopLevel&&(this.lastTopLevel=a+1);var g=this,h=function(){GameDirector.setTouchAndKeypadEnable(!0);g.updateFriendUI();if(g.isCurrentArea(a+1)){if(!f)return;var c=g.btnLevels[a];g.lastTopLevel==a+1&&g.setLockLevel(a+1,c,!0);c.setTouchEnabled(!0);WorldMapUnlockDialogController.showLoading({level:a+1});f=!1}else c=g.btnLevels[a],g.lastTopLevel==a+
1&&g.setStagePointFrameName(c,a+1,1,MetaHelper.global.hardLevel[a+1]),c.setTouchEnabled(!0),c.spriteNewFeature&&c.spriteNewFeature.setVisible(!1);d&&d(f)},m=function(){WorldMapUIController.checkNewUnlockFeature(h)};GameDirector.setTouchAndKeypadEnable(!1);if(this.lastTopLevel==a+1){this.updateMapIcons();var n=this.getLevelBtnWorldPos(a+1);e=n[0];var n=n[1],r=this.nodeCar.getPositionX();this.nodeCar.setScaleX(0<e-r?-1:1);r=this.getLevelBtnWorldPos(this.openMaxLevel)[1];r=1-n/(r+this.topDistance);this.nodeCellLight.setPosition(e,
n);if(c)s=this.isCurrentArea(a+1)&&this.lastTopLevel==a+1,this.nodeCar.setPosition(this.getCarPosByLevelPos(e,n,s)),this.nodeRoot.moveToPercent(r,0),m();else{c=[];var s=this.isCurrentArea(a+1)&&this.lastTopLevel==a+1;c.push(cc.moveTo(0.5,this.getCarPosByLevelPos(e,n,s)));this.nodeCar.runAction(cc.sequence(c));this.nodeRoot.moveToPercent(r,0.5);this.spriteCellEffect.setPosition(e,n-50);this.spriteCellEffect.setVisible(!0);this.spriteCellEffect.setOpacity(0);this.spriteCellEffect.setScaleY(0);this.spriteCellEffect.runAction(cc.sequence(cc.delayTime(0.4),
cc.fadeTo(0.5,255),cc.fadeTo(0.5,0),cc.hide(),cc.delayTime(0.2),cc.callFunc(m)));this.spriteCellEffect.runAction(cc.sequence(cc.delayTime(0.4),cc.scaleTo(0.5,1,1),cc.scaleTo(0.5,1,0)));this.playStarFallingEffect(a)}}else!c&&e?this.playStarFallingEffect(a,m):m()};
WorldMapController.setLockLevel=function(a,c,d){var e=MetaHelper.getLevelArea()[a],f=UserManager.getUnlockFriendData(e.id),e=0;f&&(e=f.length);this.lockNodeList||(this.lockNodeList=[]);this.lockHolderList||(this.lockHolderList=[]);c.setVisible(!1);var f=c.getParent(),g=c.getPosition();c=g.x;var h=g.y,g=this.lockHolderList[a-1];if(!g){var g=[],m=loadccb(GetAssetsPath("WorldMapLevelLock.ccbi"),g,this);f.addChild(m);m.setPosition(c,h);this.lockNodeList[a-1]=m;this.lockHolderList[a-1]=g}g.btnLevels.setTag(a);
g.btnLevels.setTouchEnabled(d);if(d){for(d=1;3>=d;++d)d<=e?g["iconStar_"+d].setVisible(!0):g["iconStar_"+d].setVisible(!1);g.btnLevels.setDisplayFrameName("unlock_icon_2.png");this.curLockLevel=a}else{for(d=1;3>=d;++d)g["iconStar_"+d].setVisible(!1);g.btnLevels.setDisplayFrameName("unlock_icon_3.png")}};
WorldMapController.playStarFallingEffect=function(a,c){var d=UserManager.getLeveleScore(a),e=0;d&&(e=d.star);for(var f=this,d=function(c){audio.playSound(GameMusicType.kPassLevelStarFly);var d=c.getTag();f["iconStar_"+d][a-1].setDisplayFrameName("map_star_"+(2*d-1)+".png");c.removeFromParent(!0)},g=0.5*(display.width-720),h=[ccp(g+243,1037),ccp(g+357,1062),ccp(g+468,1032)],m=1;m<=e;++m){var n=this["iconStar_"+m][a-1];n.setDisplayFrameName("map_star_"+2*(m-1)+".png");var r=n.boundingBoxInWorld(),n=
cc.Sprite.createWithSpriteFrameName("gc_ico_star"+m+".png");this.layer.addChild(n);n.setTag(m);n.setPosition(h[m-1]);n.runAction(cc.sequence(cc.delayTime(0.2*(m-1)),cc.scaleTo(0.5,0.3).easing(cc.easeBackIn())));var s=[];s[0]=h[m-1];s[1]=ccp(g+360+300*(m-2),1300);s[2]=ccp(r.x+0.5*r.width,r.y+0.5*r.height);r=cc.bezierTo(0.5,s);s=[];s.push(cc.delayTime(0.2*(m-1)));s.push(r);s.push(cc.callFunc(d));m==e&&c&&s.push(cc.callFunc(c));n.runAction(cc.sequence(s))}};
WorldMapController.playTutorialEffect=function(){var a=function(){audio.playSound(GameMusicType.kBonusStepToLine)};this.nodeRoot.moveToPercent(1,0);this.getLevelBtnWorldPos(this.openMaxLevel);var c=this.getLevelBtnWorldPos(1),d=c[0],e=c[1],c=this.getLevelBtnWorldPos(2),f=c[0],g=c[1];this.nodeCar.stopAllActions();this.nodeCar.setPosition(this.getCarPosByLevelPos(d,e,!1));this.nodeCellLight.setPosition(d,e);for(c=1;22>=c;++c)d=this.btnLevels[c-1],d.setScale(0),e=[],e.push(cc.delayTime(0.5*Math.sqrt(c))),
e.push(cc.scaleTo(0.2,1).easing(cc.easeBackOut())),e.push(cc.callFunc(a)),d.runAction(cc.sequence(e));for(c=1;3>=c;++c)this["iconStar_"+c][0].setScale(0);var h=this;this.nodeCar.runAction(cc.sequence(cc.delayTime(2.5),cc.callFunc(function(){h.playStarFallingEffect(1)})));this.nodeCar.runAction(cc.sequence(cc.delayTime(4.6),cc.callFunc(function(){h.nodeCar.runAction(cc.moveTo(0.5,this.getCarPosByLevelPos(f,g,!1)));h.nodeCellLight.setPosition(f,g)})));this.nodeCar.runAction(cc.sequence(cc.delayTime(5.2),
cc.callFunc(function(){StartGameController.showLoading({level:h.getMapTopLevel()})})))};WorldMapController.updateLevel=function(a){var c=UserManager.getLeveleScore(a),d=this.btnLevels[a-1];d.setTouchEnabled(!0);this.setStagePointFrameName(d,a,2,MetaHelper.global.hardLevel[a]);if(c)for(d=1;3>=d;++d){var e=this["iconStar_"+d][a-1];e.setVisible(!0);d<=c.star?e.setDisplayFrameName("map_star_"+(2*d-1)+".png"):e.setDisplayFrameName("map_star_"+2*(d-1)+".png")}};
WorldMapController.onButtonLevel=function(a){audio.playSound(GameMusicType.kButtonClick);StartGameController.showLoading({level:a});if(this.openHeadList)this.onHeadListAnim(this.openHeadList,!1)};WorldMapController.onButtonCar=function(){var a=this.getMapTopLevel();if(!this.isCurrentArea(a))this.onButtonLevel(a)};WorldMapController.onButtonLock=function(a){audio.playSound(GameMusicType.kButtonClick);WorldMapUnlockDialogController.showLoading({level:a})};
WorldMapController.onButtonIcon20004=function(){this.spriteIcon20004&&(this.spriteIcon20004.removeFromParentAndCleanup(!0),this.spriteIcon20004=null,PopoutQueue.push("DailyLoginTipDialogController"))};
WorldMapController.unlockLevel=function(){var a=UserManager.getTopLevel();if(this.hasLevelAreaUnlock(a)){var c=this.btnLevels[a-1];this.labelLevels[a-1].setString(a);c.setVisible(!0);this.setStagePointFrameName(c,a,1,MetaHelper.global.hardLevel[a]);var d=this.getLevelBtnWorldPos(a),c=d[0],d=d[1];this.nodeCar.setPosition(this.getCarPosByLevelPos(c,d,!1));this.nodeCellLight.setPosition(c,d);for(c=1;3>=c;++c)d=this["iconStar_"+c][a-1],d.setVisible(!0),d.setDisplayFrameName("map_star_"+2*(c-1)+".png");
this.lockNodeList&&this.lockNodeList[a-1]&&(this.curLockLevel==a&&(this.curLockLevel=0),this.lockNodeList[a-1].removeFromParentAndCleanup(!0),this.lockHolderList[a-1]=null);StartGameController.showLoading({level:a});if(this.openHeadList)this.onHeadListAnim(this.openHeadList,!1)}};WorldMapController.getLevelAreaById=function(a){var c=MetaHelper.getLevelArea(),d;for(d in c){var e=c[d];if(a==e.id)return e.minLevel}};
WorldMapController.getLevelAreaMin=function(a){var c=MetaHelper.getLevelArea(),d=1,e;for(e in c){var f=c[e];a>=f.minLevel&&(d=f.minLevel)}return d};WorldMapController.isMinLevelOfArea=function(a){return MetaHelper.getLevelArea()[a]?!0:!1};WorldMapController.hasLevelAreaUnlock=function(a){a=this.getLevelAreaMin(a);return UserManager.getTopLevel()>=a};
WorldMapController.isCurrentArea=function(a){if(!this.isMinLevelOfArea(a))return!1;var c=UserManager.getTopLevel();return a==c+1&&(a=UserManager.getLeveleScore(c))&&0<a.star?!0:!1};WorldMapController.isLevelPassed=function(a){return(a=UserManager.getLeveleScore(a))&&0<a.star?!0:!1};WorldMapController.updateFriendUI=function(){var a=this;CacheHelper.getAndCacheFiendsInfo(this,function(c,d){0==c&&a.updateFriendListUI(d)})};
WorldMapController.updateFriendListUI=function(a){this.levelFriends={};var c=MetaHelper.global.open_max_level,d;for(d in a){var e=a[d],f=e.topLevelId;f==c+1&&(f=c);!MetaHelper.global.hideHeadLevel[f]&&f<=c&&(this.levelFriends[f]||(this.levelFriends[f]=[]),table.insert(this.levelFriends[f],e))}for(d in this.levelFriends)if(e=this.levelFriends[d],3<e.length){var g=UserManager.getPlayerId();table.sort(e,function(a,c){return a.playerId==g?!0:c.playerId==g?!1:a.star==c.star?a.playerId<c.playerId:a.star>
c.star})}this.headHolders||(this.headHolders={});for(d in this.headHolders)(e=this.headHolders[d])&&!this.levelFriends[d]&&(e.rootNode.removeFromParentAndCleanup(!0),delete this.headHolders[d]);for(d in this.levelFriends)e=this.levelFriends[d],d<=c&&this.createOrUpdateUserHead(d,e)};
WorldMapController.frameCarAvatarPosMap={30001:ccp(28,55),30002:ccp(0,73),30003:ccp(-20,56),30004:ccp(22,80),30005:ccp(-10,57),30006:ccp(10,71),30007:ccp(10,78),30008:ccp(21,77),30009:ccp(-28,75),30010:ccp(9,84),30011:ccp(31,69),30012:ccp(-19,78)};WorldMapController.updateMainCar=function(){this.updateMainCarPos(UserManager.getMainCar(),this.iconCar,this.spriteHeadMy)};
WorldMapController.updateMainCarPos=function(a,c,d){c.setDisplayFrameFile(GetAssetsPath("frame_car_"+a+".png"));d.setPosition(this.frameCarAvatarPosMap[a]||ccp(28,55))};WorldMapController.getLevelMaxCountByCellIdx=function(a){return ccbLevelMaxCountList[a-1]||0};WorldMapController.getFirstLevelByCellIdx=function(a){return ccbLevelMaxCountList[a-1]-ccbLevelCountList[a-1]+1};
WorldMapController.getCellIdxByLevel=function(a){for(var c=1;c<=ccbLevelMaxCountList.length;c++)if(a<=ccbLevelMaxCountList[c-1])return c;return 0};WorldMapController.getHeadOffsetYByLevel=function(a){return a>UserManager.getTopLevel()?40:70};WorldMapController.getCarOffsetYByLevel=function(a){return a>UserManager.getTopLevel()?36:60};
WorldMapController.createOrUpdateUserHead=function(a,c,d){if(!(0>=this.getCellIdxByLevel(a))){d=this.getLevelBtnWorldPos(a);var e=d[0],f=d[1];d={};if(this.headHolders[a])d=this.headHolders[a];else{var g=loadccb(GetAssetsPath("WorldMapHead.ccbi"),d,this);this.nodeHeads.addChild(g);g.setPosition(e,f+this.getHeadOffsetYByLevel(a));d.btnHead.setTag(a);d.btnArrow.setTag(a);d.rootNode=g;this.headHolders[a]=d}d.rootNode.setVisible(this.lastTopLevel!=a);d.validCnt=Math.min(3,c.length);d.btnArrow.setVisible(1<
d.validCnt);d.btnArrow.setPositionY(101);d.btnArrow.setRotation(180);d.isOpen=!1;for(a=1;3>=a;++a)e=c[a-1],f=d["spInfoBG_"+a],g=d["headNode_"+a],f.setVisible(!1),f.setScaleX(0),e?(g.setPositionY(50+8*(a-1)),g.setVisible(!0),GameHelper.loadHeadSprite(d["spriteHead_"+a],e.headUrl),d["labelName_"+a].setString(tostring(e.name)),d["labelStar_"+a].setString("x"+tostring(e.star)),d["friendId_"+a]=e.playerId):g.setVisible(!1)}};
WorldMapController.onButtonHead=function(a){audio.playSound(GameMusicType.kButtonClick);this.clickHeadTimes+=1;var c=this.headHolders[a];if(1<c.validCnt&&!c.isOpen)this.onHeadListAnim(a,!c.isOpen,this.clickHeadTimes);else FriendInfoController.showLoading({data:CacheHelper.getUserInfoWithDefault(c.friendId_1),isStranger:!1}),this.packupHeadNode(c,a)};
WorldMapController.onHeadListAnim=function(a,c,d){var e=this.headHolders[a],f=e.validCnt;if(c&&!e.isOpen){e.isOpen=!0;if(this.openHeadList&&this.openHeadList!=a)this.onHeadListAnim(this.openHeadList,!1);this.openHeadList=a;1<f&&(e.btnArrow.stopAllActions(),e.btnArrow.runAction(cc.sequence(cc.moveTo(0.2,ccp(50,101+80*(f-1))),cc.rotateTo(0.1,0))));a=[];1<f&&a.push(cc.delayTime(0.2));a.push(cc.show());a.push(cc.scaleTo(0.1,1,1));e.spInfoBG_1.runAction(cc.sequence(a));1<f&&(e.headNode_2.stopAllActions(),
e.headNode_2.runAction(cc.sequence(cc.show(),cc.moveTo(0.2,ccp(50,130)))),a=[],a.push(cc.delayTime(0.2)),a.push(cc.show()),a.push(cc.scaleTo(0.1,1,1)),e.spInfoBG_2.runAction(cc.sequence(a)));3==f&&(e.headNode_3.stopAllActions(),e.headNode_3.runAction(cc.sequence(cc.show(),cc.moveTo(0.2,ccp(50,210)))),a=[],a.push(cc.delayTime(0.2)),a.push(cc.show()),a.push(cc.scaleTo(0.1,1,1)),e.spInfoBG_3.runAction(cc.sequence(a)));d&&e.rootNode.setZOrder(d)}else!c&&e.isOpen&&this.packupHeadNode(e,a)};
WorldMapController.packupHeadNode=function(a,c){a&&(this.openHeadList&&this.openHeadList==c&&(this.openHeadList=null),a.isOpen=!1,1<a.validCnt&&(a.btnArrow.stopAllActions(),a.btnArrow.runAction(cc.sequence(cc.moveTo(0.2,ccp(50,101)),cc.rotateTo(0.1,180)))),a.spInfoBG_1.runAction(cc.sequence(cc.scaleTo(0.1,0,1),cc.hide())),2<=a.validCnt&&(a.headNode_2.stopAllActions(),a.headNode_2.runAction(cc.moveTo(0.2,ccp(50,58))),a.spInfoBG_2.runAction(cc.sequence(cc.scaleTo(0.1,0,1),cc.hide()))),3==a.validCnt&&
(a.headNode_3.stopAllActions(),a.headNode_3.runAction(cc.moveTo(0.2,ccp(50,66))),a.spInfoBG_3.runAction(cc.sequence(cc.scaleTo(0.1,0,1),cc.hide()))))};WorldMapController.onClickedHead=function(a,c,d){if(a)for(var e=1;4>e;++e){if(a.validCnt<e){this.packupHeadNode(a,this.openHeadList);break}if(a["headNode_"+e].containWorldPoint(c,d)){FriendInfoController.showLoading({data:CacheHelper.getUserInfoWithDefault(a["friendId_"+e]),isStranger:!1});this.packupHeadNode(a,this.openHeadList);break}}};
WorldMapController.flyNoviceItem=function(){EffectHelper.itemFlyToUIAnim(ItemType.UNLIMIT_ENERGY,1,ccp(0.5*display.width,0.5*display.height),null,function(){WorldMapUIController.updateUI();if(WorldMapUIController.unlimitEnergyNode){var a=loadccb(GetAssetsPath("NoviceTipDialog.ccbi"),this),c=WorldMapUIController.labelEnergyTime.convertToWorldSpace(ccp(0,0));a.setPosition(WorldMapUIController.rootLayer.convertToNodeSpace(c));WorldMapUIController.rootLayer.addChild(a);a.setScale(0.1);c=[];c.push(cc.scaleTo(0.2,
1.1));c.push(cc.scaleTo(0.1,1));c.push(cc.scaleTo(0.1,1));c.push(cc.delayTime(4));c.push(cc.scaleTo(0.2,0.1));c.push(cc.removeSelf(!0));a.runAction(cc.sequence(c))}});for(var a=MetaHelper.getCommonRewardByID(6).rewards,c=0;c<a.length;++c)EffectHelper.itemFlyToUIAnim(a[c][0],a[c][1],ccp(0.5*display.width,0.5*display.height),null,null)};WorldMapUIController=createController("WorldMapUIController");var petIconVisibleCount=2;TaskType={TaskType_None:0,TaskType_Fruit:1,TaskType_Block:2,TaskType_PetEffect:3,TaskType_Level_Star:4,TaskType_Pass_Level:5,TaskType_Friend:6,TaskType_Video_Ad:7};WorldMapUIController.onViewCreate=function(){return loadccbCheckAd(GetAssetsPath("WorldMapUI.ccbi"),this)};
WorldMapUIController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);var a=this;this.registerScriptTouchHandler(function(c,d,e){if("began"==c)return a.nodeMenuPanel.containWorldPoint(d,e)||a.openMenuPanel(!1,!0),!1},!1,0,!0);this.btnCoin.setTouchEnabled(!1);this.spCoinAdd.setVisible(!1);this.registerEvent("event.ui.update");this.registerEvent("event.ui.activity");this.registerEvent("event.ui.friendsRequest");this.registerEvent("event.runtime.enterFg");this.reset();DataHelper.registerNextDayListener(this.nextDay3Callback,
3)};WorldMapUIController.onViewClose=function(){DataHelper.unregisterNextDayListener(this.nextDay3Callback)};WorldMapUIController.nextDay3Callback=function(){HttpHelper.getDailyTask()};
WorldMapUIController.reset=function(){this.isMenuOpen=null;this.checkMailWhenStart=!1;this.activityList=[];this.collectionIndex=this.lastCheckMailTs=0;this.hasPopSignInDialog=!1;this.lastTimeLevelReward=null;this.refreshMenuBtn();this.nodeMenuPanel.setScale(0);this.openMenuPanel(!1,!1);this.nodeResUpdate.setVisible(!1);this.btnActivity.setVisible(MetaHelper.isFuncUnlock(MenuItemTag.Menu_Tag_ActivityIcon));this.btnPet.setVisible(UserManager.getPetCount()>=petIconVisibleCount);this.btnTask.setVisible(MetaHelper.isFuncUnlock(MenuItemTag.Menu_Tag_Task));
this.nodeGroupRank.setVisible(!0);this.spGroupRankTipDot.setVisible(!persist.getCrossDayBool("group_rank_tip"));this.sendDesktopBtn.setVisible(!0);this.nodeMenuTop.setScale(0.9);this.spActTipDot.setVisible(!1);this.btnOneGift.setVisible(GoodsManager.isGoods2101Open());this.nodeAnnouceTip.setVisible(!1);EffectHelper.jellyShake(this.sendDesktopBtn);var a=this;resource.checkUpdate(function(c,d){"needUpdate"==c&&6<UserManager.getTopLevel()&&a.nodeResUpdate.setVisible(!0)});this.initButtonPoints()};
WorldMapUIController.initButtonPoints=function(){var a=SortNode.create();a.addNodeByParent(this.nodeRight);a.sort();this.sortNodeRight=a;a=SortNode.create();a.addNodeByParent(this.nodeMenuBottom);a.sort();this.sortNodeBottom=a;a=SortNode.create();a.addNodeByParent(this.nodeLeft);a.sort();this.sortNodeLeft=a};
WorldMapUIController.refreshMenuBtn=function(){var a=!0,a=!1,c=[];this.btnBag.setVisible(!0);this.btnClan.setVisible(a);this.btnCommuni.setVisible(a);this.btnSubscribe.setVisible(!a);this.btnGameCircle.setVisible(!1);this.btnQQVip.setVisible(a);this.btnQA.setVisible(a);var d=!0;cc.sys.os==cc.sys.OS_ANDROID||(d=!1);this.btnDesktop.setVisible(d);a?(c.push(this.btnBag),c.push(this.btnClan),c.push(this.btnCommuni),c.push(this.btnQQVip),c.push(this.btnDesktop)):(c.push(this.btnBag),c.push(this.btnSubscribe),
d&&c.push(this.btnDesktop));if(3>=c.length)for(this.menuBgSpr.setVisible(!0),this.menuBgSpr.setPreferredSize(cc.size(100*(c.length+1),234)),a=0;a<c.length;a++){if(d=c[a])d.setPositionX(320-120*(c.length-1-a)),d.setPositionY(173)}else for(this.menuBgSpr.setVisible(!0),this.menuBgSpr.setPreferredSize(cc.size(400,345)),a=0;a<c.length;a++)(d=c[a])&&3>a?(d.setPositionX(320-120*(2-a)),d.setPositionY(285)):(d.setPositionX(320-120*(5-a)),d.setPositionY(173))};
WorldMapUIController.refreshSendDesktopBtn=function(){cc.sys.os==cc.sys.OS_ANDROID?persist.getBool("isSeeDesktop")?this.sendDesktopBtn.setVisible(!1):this.sendDesktopBtn.setVisible(!0):this.sendDesktopBtn.setVisible(!1);this.sortNodeLeft.sort()};
WorldMapUIController.onViewEnter=function(){this.updateUI();CacheHelper.getActivityInfo(this,function(a,c){0==a&&ActivityManager.download(c.downloadUrl,c.actList,function(){notification.postEvent("event.ui.activity")})});var a=TimeUtils.time();if(15<Math.abs(a-this.lastCheckMailTs)){this.lastCheckMailTs=a;var a=AchievementManager.getClientAchieveList(),c=DailyTaskManager.getCacheUploadList();this.requestMailNum(a,c)}this.registerUpdate("clock",this.updateEnergy,1);this.registerUpdate("timeReward",
this.updateTimeReward,1,!0);this.registerUpdate("check_achieve",this.checkAchieveSync,1);SnsHelper.isClosePay()?(this.btnGem.setTouchEnabled(!1),this.spGemAdd.setVisible(!1)):(this.btnGem.setTouchEnabled(!0),this.spGemAdd.setVisible(!0))};WorldMapUIController.onViewExit=function(){this.unregisterUpdate("clock");this.unregisterUpdate("timeReward");this.unregisterUpdate("check_achieve");this.unregisterUpdate("loadRes");this.lastTimeLevelReward=null};
WorldMapUIController.onEvents=function(a,c){var d=this;if("event.ui.update"==a)this.updateUI();else if("event.ui.activity"==a)this.onActivityUIChanged(c),SignInDialogController.canSingInToday()&&10<UserManager.getTopLevel()&&!d.hasPopSignInDialog&&(0==persist.getInt("Activity10001PopupAuto",0)?ActivityManager.dialyPopupPanels(10001,function(a,c){0!=a&&TipDialogController.showTip(ErrMsg(a));persist.setInt("Activity10001PopupAuto",1)}):PopoutQueue.push("SignInDialogController"),d.hasPopSignInDialog=
!0);else if("event.ui.friendsRequest"==a)this.onFriendsRequestChanged();else"event.runtime.enterFg"==a&&this.isShowing&&HttpHelper.heartBeat(function(){d.updateUnlimitLeftCount()})};
WorldMapUIController.requestMailNum=function(a,c,d){var e=this;HttpHelper.sendGetRequestNum(this,a,c,d,function(a,c){if(0==a){AchievementManager.clearClientAchieveList();DailyTaskManager.clearCacheUploadMap();HuskyTaskManager.clearCacheUploadMap();var d=UserManager.getRequestNum();e.checkMailWhenStart||(e.checkMailWhenStart=!0,0<d&&20<UserManager.getTopLevel()&&"WorldMap"==GameDirector.getCurrentSceneName()&&(d=(new Date).getDate(),d!=persist.getInt("lpr_day")&&persist.setInt("lpr_day",d)),HttpHelper.getRemoteConfig(function(){0<
RmtHelper.getAnnoucementCount(1)&&PopoutQueue.push("BigImageAdController");var a=RmtHelper.getAnnoucementList(2);0<a.length&&!persist.getCrossDayString("annouce_tip")&&(persist.setCrossDayString("annouce_tip","1"),e.nodeAnnouceTip.setVisible(!0),e.labelAnnouceTip.setString(a[0].title),EffectHelper.jellyMoveSlow(e.nodeAnnouceTip,ccp(3,0),2,0))}));c&&c.alert&&PayHelper.freshGetCash()}})};WorldMapUIController.showAchievementTip=function(a){PopoutQueue.pushMutexName("AchievementTipController",a,"WorldMap")};
WorldMapUIController.onActivityUIChanged=function(a){this.spActTipDot.setVisible(ActivityLayerController.hasMsgTips())};WorldMapUIController.onFriendsRequestChanged=function(){};WorldMapUIController.onButtonOneGift=function(){GoodsManager.isGoods2101Open()?OneGiftPackController.showLoading():(this.btnOneGift.setVisible(!1),TipDialogController.showTip(TextTable.t_ecode100354))};WorldMapUIController.onButtonTimeReward=function(){TimeLevelController.openWithRequest(this)};
WorldMapUIController.updateUI=function(){this.checkPetAdoption();var a=UserManager.getCoin(),c=UserManager.getDiamond();this.labelCoin.setString(GameHelper.getConinString(a));this.labelDiamond.setString(GameHelper.getConinString(c));this.updateUnlimitLeftCount();this.updateUnlimitEnergyNode();this.updateEnergy();this.updateMailTip();this.updateInviteRewardTip();this.updateTaskTip();this.btnOneGift.setVisible(GoodsManager.isGoods2101Open());this.btnFirstCharge.setVisible(FristChargeDialogController.isOpen());
this.btnTimeCharge.setVisible(TimeChargeGiftController.isOpen());this.spTimeChargeTipDot.setVisible(TimeChargeGiftController.needShowIconTip());this.btnTimeShop.setVisible(TimeShopGiftController.isOpen());this.refreshSendDesktopBtn();this.sortNodeLeft.sort();this.sortNodeRight.sort();this.setTipActivityVisible(10<UserManager.getTopLevel()&&!persist.getBool("mapui_act_tip"))};
WorldMapUIController.updateTaskTip=function(){var a=0<AchievementManager.getAchieveReadyCount()||0<DailyTaskManager.getReadyTaskCount();this.spTaskTipDot.setVisible(a)};WorldMapUIController.updateMailTip=function(){var a=UserManager.getRequestNum()-MailCenterController.lookedInoperableNum;this.spMsgTip.setVisible(0<a);this.labelMsgNum.setString(tostring(a))};WorldMapUIController.updateInviteRewardTip=function(){var a=CacheHelper.getInviteRewardNum();this.spInviteRewardTip.setVisible(0<a);this.labelInviteRewardNum.setString(tostring(a))};
WorldMapUIController.updateUnlimitLeftCount=function(){this.unlimitTimeLeft=Math.ceil(UserManager.getUnlimitStrengthTimestamp()-1E3*DataHelper.getSimulatorTs())/1E3};WorldMapUIController.updateCoin=function(a){var c=UserManager.getCoin();this.labelCoin.setString(GameHelper.getConinString(c+a))};
WorldMapUIController.updateEnergy=function(){var a=0;if(0<=this.unlimitTimeLeft)a=this.unlimitTimeLeft--,0>a&&(this.updateUnlimitLeftCount(),0>=this.unlimitTimeLeft&&this.updateUnlimitEnergyNode());else{var c=MetaHelper.global.user_energy_max_count,a=UserManager.getEnergy(),d=a[0],a=a[1];this.labelEnergy.setString(tostring(d)+"/"+tostring(c));this.barEnergy.setPercentage(d/c*100);this.spGemAdd.isVisible()||SnsHelper.isClosePay()||(this.btnGem.setTouchEnabled(!0),this.spGemAdd.setVisible(!0))}0>=a?
this.labelEnergyTime.setVisible(!1):(this.labelEnergyTime.setVisible(!0),c=Math.floor(a/60),a=string.format("%02d:%02d",Math.floor(99<c?99:c),a%60),this.labelEnergyTime.setString(a))};
WorldMapUIController.updateUnlimitEnergyNode=function(){if(!this.unlimitEnergyNode&&0<this.unlimitTimeLeft){var a=this.btnEnergy.getContentSize();this.unlimitEnergyNode=cc.Node.create();this.unlimitEnergyNode.setPosition(ccp(0.55*a.width,0.55*a.height));a=cc.Sprite.createWithSpriteFrameName("energy_unlimit_bg.png");this.unlimitEnergyNode.addChild(a);var c=cc.Sprite.createWithSpriteFrameName("energy_unlimit_mark.png");this.unlimitEnergyNode.addChild(c);for(var d=a.getContentSize().width,e=a.getContentSize().height,
a=function(a){var c=MathUtils.random(-45,45)/100,f=MathUtils.random(-35,35)/100;a.setPosition(ccp(c*d,f*e))},c=10;0<c--;){var f=cc.Sprite.createWithSpriteFrameName("energy_unlimit_dot.png");a(f);this.unlimitEnergyNode.addChild(f);var g=[];g.push(cc.fadeIn(0.5));g.push(cc.delayTime(3*Math.random()));g.push(cc.fadeOut(0.5));g.push(cc.callFunc(a,f));f.runAction(cc.repeatForever(cc.sequence(g)))}this.btnEnergy.addChild(this.unlimitEnergyNode);this.unlimitEnergyNode.setZOrder(-1);this.barEnergy.setVisible(!1);
this.labelEnergy.setVisible(!1);this.addEnergySprite.setVisible(!1);this.iconEnergy.setDisplayFrameName(GameIconHelper.getIconFrameName(ItemType.UNLIMIT_ENERGY))}else this.unlimitEnergyNode&&0>=this.unlimitTimeLeft&&(this.unregisterUpdate("update_unlimit_shine"),this.unlimitEnergyNode.removeFromParent(),this.unlimitEnergyNode=null,this.barEnergy.setVisible(!0),this.labelEnergy.setVisible(!0),this.addEnergySprite.setVisible(!0),this.iconEnergy.setDisplayFrameName(GameIconHelper.getIconFrameName(ItemType.ENERGY)))};
WorldMapUIController.updateTimeReward=function(){if(UserManager.isHaveTimeLevel()){var a=TimeLevelController.getMiniLeftTime(),c=a[0],a=a[1];0<c?(c=Utils.formatSecToHHMMSS(c/1E3),this.labelTimeReward.setString(c),this.labelTimeReward.setVisible(!0)):this.labelTimeReward.setVisible(!1);this.lastTimeLevelReward!=a&&(0<a?(this.spTimeLevelTip.setVisible(!0),this.labelTimeLevelNum.setString(a)):this.spTimeLevelTip.setVisible(!1),this.lastTimeLevelReward=a)}else this.spTimeLevelTip.setVisible(!1),this.labelTimeReward.setVisible(!1);
TimeChargeGiftController.isOpen()?(this.btnTimeCharge.isVisible()||(this.btnTimeCharge.setVisible(!0),this.sortNodeRight.sort()),c=TimeChargeGiftController.getValidTimeRewardList(),0<c.length&&(c=c[0].end-DataHelper.getSimulatorTs(),0<c?(c=string.format("%02d:%02d:%02d",Math.floor(c/3600),Math.floor(c%3600/60),c%60),this.labelTimeCharge.setString(c),this.labelTimeCharge.setVisible(!0)):this.labelTimeCharge.setVisible(!1))):this.btnTimeCharge.isVisible()&&(this.btnTimeCharge.setVisible(!1),this.sortNodeRight.sort());
TimeShopGiftController.isOpen()?(this.btnTimeShop.isVisible()||(this.btnTimeShop.setVisible(!0),this.sortNodeRight.sort()),c=TimeShopGiftController.getValidGoodsMetaList(),0<c.length&&(c=c[0].end-DataHelper.getSimulatorTs(),0<c?(c=string.format("%02d:%02d:%02d",Math.floor(c/3600),Math.floor(c%3600/60),c%60),this.labelTimeShop.setString(c),this.labelTimeShop.setVisible(!0)):this.labelTimeShop.setVisible(!1))):this.btnTimeShop.isVisible()&&(this.btnTimeShop.setVisible(!1),this.sortNodeRight.sort())};
WorldMapUIController.checkAchieveSync=function(){var a=TimeUtils.time(),c=AchievementManager.getClientAchieveList(),d=DailyTaskManager.getCacheUploadList();if(0<HuskyTaskManager.getCacheUploadMap().length||15<Math.abs(a-this.lastCheckMailTs)&&(0<c.length||0<d.length))this.lastCheckMailTs=a,this.requestMailNum(c,d,HuskyTaskManager.getCacheUploadMap())};WorldMapUIController.checkPetAdoption=function(){};
WorldMapUIController.onButtonEnergy=function(){UserManager.getUnlimitStrengthTimestamp()>1E3*DataHelper.getSimulatorTs()||(this.openMenuPanel(!1,!1),audio.playSound(GameMusicType.kButtonClick),EnergyDialogController.showLoading())};WorldMapUIController.onButtonCoin=function(){this.openMenuPanel(!1,!1);audio.playSound(GameMusicType.kButtonClick);ShopController.loadAndShow(1,!0)};
WorldMapUIController.onButtonDiamond=function(){this.openMenuPanel(!1,!1);audio.playSound(GameMusicType.kButtonClick);ShopController.loadAndShow(3,!0)};WorldMapUIController.onButtonPet=function(){this.openMenuPanel(!1,!1);audio.playSound(GameMusicType.kButtonClick);PetDetailsController.showLoading()};WorldMapUIController.onButtonLeadboard=function(){this.openMenuPanel(!1,!1);audio.playSound(GameMusicType.kButtonClick);RankListLayerController.showLoading()};
WorldMapUIController.onButtonCommuni=function(){audio.playSound(GameMusicType.kButtonClick);TencentSdkManager.openUrlWithExtraWebview("https://youxi.vip.qq.com/m/act/f496f16760_hlxxx_233838.html?_wv\x3d1\x26_wwv\x3d4",1)};
WorldMapUIController.onButtonClan=function(){audio.playSound(GameMusicType.kButtonClick);TencentSdkManager.openUrlWithExtraWebview("https://buluo.qq.com/cgi-bin/bar/qqgame/handle_ticket?redirect_url\x3dhttps%3A%2F%2Fbuluo.qq.com%2Fmobile%2Fbarindex.html%3F%26_wv%3D1027%26from%3Dgameblog_YummyYummy%26bid%3D394326\x26sourcetype\x3d1",1)};WorldMapUIController.onButtonGameCircle=function(){audio.playSound(GameMusicType.kButtonClick);TipDialogController.showTip(ErrMsg(200262))};
WorldMapUIController.onButtonSubscribe=function(){audio.playSound(GameMusicType.kButtonClick);WechatOfficialAccoutController.showLoading()};WorldMapUIController.onButtonShop=function(){this.openMenuPanel(!1,!1);audio.playSound(GameMusicType.kButtonClick);ShopController.loadAndShow(1,!0)};WorldMapUIController.onButtonLottery=function(a,c){audio.playSound(GameMusicType.kButtonClick);SceneHelper.pushToScene("Lottery")};
WorldMapUIController.onButtonMail=function(){this.openMenuPanel(!1,!1);audio.playSound(GameMusicType.kButtonClick);this.nodeAnnouceTip.stopAllActions();this.nodeAnnouceTip.setVisible(!1);MailCenterController.showLoading()};WorldMapUIController.onButtonMark=function(){this.openMenuPanel(!1,!1);audio.playSound(GameMusicType.kButtonClick);SignInDialogController.showLoading()};WorldMapUIController.onButtonBag=function(){this.openMenuPanel(!1,!1);audio.playSound(GameMusicType.kButtonClick);BagLayerController.showLoading()};
WorldMapUIController.onButtonGroupRank=function(){this.openMenuPanel(!1,!1);audio.playSound(GameMusicType.kButtonClick);persist.setCrossDayBool("group_rank_tip",!0);this.spGroupRankTipDot.setVisible(!1);FriendRankInfoController.loadInfo()};WorldMapUIController.onButtonAccount=function(){this.openMenuPanel(!1,!1);audio.playSound(GameMusicType.kButtonClick);var a=CacheHelper.getUserInfoWithDefault(UserManager.getPlayerId());FriendInfoController.showLoading({data:a,isMy:!0})};
WorldMapUIController.onButtonSetting=function(){this.openMenuPanel(!1,!1);audio.playSound(GameMusicType.kButtonClick);GameSettingDialogController.showLoading()};WorldMapUIController.onButtonContact=function(){var a=SnsHelper.getFeedbackEmail();a?ConfirmDialogController.showLoading({text:a,size:18}):TipDialogController.showTip(ErrMsg(200262))};WorldMapUIController.onButtonExchangeCode=function(){this.openMenuPanel(!1,!1);audio.playSound(GameMusicType.kButtonClick);ExchangeCodeDialogController.showLoading()};
WorldMapUIController.onButtonInviteReward=function(){this.openMenuPanel(!1,!1);audio.playSound(GameMusicType.kButtonClick);InviteRewardDialogController.showLoading()};WorldMapUIController.onButtonKitchenGod=function(){audio.playSound(GameMusicType.kButtonClick);this.openMenuPanel(!1,!1);WaitingDialogController.showLoading();KitchenGodController.checkDataOrRefresh(function(a){WaitingDialogController.hide();a&&SceneHelper.pushToScene("KitchenGodMap")})};
WorldMapUIController.onButtonPopcorn=function(){audio.playSound(GameMusicType.kButtonClick);TipDialogController.showTip(ErrMsg(200262))};WorldMapUIController.onButtonResUpdate=function(){audio.playSound(GameMusicType.kButtonClick);this.nodeResUpdate.setVisible(!1);this.openMenuPanel(!1,!1);ResUpdateController.checkAndShow()};WorldMapUIController.onButtonActivity=function(){persist.setBool("mapui_act_tip",!0);this.setTipActivityVisible(!1);this.openMenuPanel(!1,!1);ActivityLayerController.showLoading()};
WorldMapUIController.onButtonTask=function(){notification.postEvent("event.server.addPet");audio.playSound(GameMusicType.kButtonClick);TaskLayerController.showLoading()};WorldMapUIController.onButtonFirstCharge=function(){audio.playSound(GameMusicType.kButtonClick);FristChargeDialogController.showLoading()};WorldMapUIController.onButtonTimeCharge=function(){audio.playSound(GameMusicType.kButtonClick);TimeChargeGiftController.showLoading()};
WorldMapUIController.onButtonTimeShop=function(){audio.playSound(GameMusicType.kButtonClick);TimeShopGiftController.showLoading()};WorldMapUIController.onButtonCollection=function(){TencentSdkManager.OpenSendDesktopController(!0)};WorldMapUIController.onButtonQQVip=function(){audio.playSound(GameMusicType.kButtonClick);TencentSdkManager.openUrlWithExtraWebview("https://post.mp.qq.com/tmpl/default/client/article/html/jump.html?action\x3daccountCard\x26puin\x3d2279606109\x26_wv\x3d1\x26_wwv\x3d4",1)};
WorldMapUIController.onButtonQA=function(){audio.playSound(GameMusicType.kButtonClick);TencentSdkManager.openUrlWithExtraWebview("https://kf.qq.com/touch/scene_product.html?scene_id\x3dkf4465\x26_wv\x3d1\x26_wwv\x3d4",1)};WorldMapUIController.onButtonDesktop=function(){audio.playSound(GameMusicType.kButtonClick);TencentSdkManager.OpenSendDesktopController(!0)};WorldMapUIController.onButtonBack=function(){audio.playSound(GameMusicType.kButtonClick);this.back()};
WorldMapUIController.onButtonMore=function(){this.isMenuAction||(audio.playSound(GameMusicType.kPopupOpen),this.openMenuPanel(!this.isMenuOpen,!0))};WorldMapUIController.onButtonShareKit=function(){this.openMenuPanel(!1,!1);audio.playSound(GameMusicType.kButtonClick);InviteRewardXyxDialogController.showLoading()};
WorldMapUIController.setTipActivityVisible=function(a){if(this.tipNewActivityNode.isVisible()^!!a&&(this.tipNewActivityNode.setVisible(a),a)){this.tipNewActivityNode.setScale(0.1);this.updateTipActivityPosition();a=[];var c=this;a.push(cc.scaleTo(0.3,1.1));a.push(cc.scaleTo(0.25,0.92));a.push(cc.scaleTo(0.3,1));a.push(cc.callFunc(function(){EffectHelper.jellyMoveSlow(c.tipNewActivityNode,ccp(0,3),2,0)}));this.tipNewActivityNode.runAction(cc.sequence(a))}};
WorldMapUIController.updateTipActivityPosition=function(){var a=this.btnActivity.getContentSize();this.tipNewActivityNode.setPosition(this.btnActivity.convertToWorldSpace(ccp(a.width/2,0.85*a.height)))};
WorldMapUIController.openMenuPanel=function(a,c){this.isMenuOpen!=a&&(this.isMenuOpen=a,this.layerFadeBg.setVisible(a),this.btnMore.stopAllActions(),this.nodeMenuPanel.stopAllActions(),c?a?(this.btnMore.runAction(cc.sequence(cc.scaleTo(0.1,0),cc.hide())),this.nodeMenuPanel.setVisible(!0),this.nodeMenuPanel.setScale(0),this.nodeMenuPanel.runAction(cc.scaleTo(0.2,1).easing(cc.easeBackOut()))):(this.nodeMenuPanel.runAction(cc.sequence(cc.scaleTo(0.1,0),cc.hide())),this.btnMore.setVisible(!0),this.btnMore.setScale(0),
this.btnMore.runAction(cc.scaleTo(0.2,1).easing(cc.easeBackOut()))):(this.btnMore.setVisible(!a),this.btnMore.setScale(1),this.nodeMenuPanel.setVisible(a),this.nodeMenuPanel.setScale(a?1:0)))};
WorldMapUIController.checkNewUnlockFeature=function(a){!this.btnPet.isVisible()&&UserManager.getPetCount()>=petIconVisibleCount?(this.btnPet.setVisible(!0),this.sortNodeBottom.sort(),EffectHelper.flyToTargetAnim(this.btnPet,ccp(0.5*display.width,0.5*display.height),this.btnPet,a)):!this.btnActivity.isVisible()&&MetaHelper.isFuncUnlock(MenuItemTag.Menu_Tag_ActivityIcon)?(this.btnActivity.setVisible(!0),this.sortNodeBottom.sort(),EffectHelper.flyToTargetAnim(this.btnActivity,ccp(0.5*display.width,0.5*
display.height),this.btnActivity,a)):!this.btnTask.isVisible()&&MetaHelper.isFuncUnlock(MenuItemTag.Menu_Tag_Task)?(this.btnTask.setVisible(!0),this.sortNodeBottom.sort(),EffectHelper.flyToTargetAnim(this.btnTask,ccp(0.5*display.width,0.5*display.height),this.btnTask,a)):a&&a();this.updateTipActivityPosition()};WorldMapUIController.back=function(){QueryDialogController.showLoading({text:TextTable.t_quitQuery,listener:function(a){a&&GameDirector.quit()}})};WorldMapUnlockDialogController=createController("WorldMapUnlockDialogController");WorldMapUnlockDialogController.onViewCreate=function(){return loadccb(GetAssetsPath("WorldMapUnlockDialog.ccbi"),this)};WorldMapUnlockDialogController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.registerEvent("event.ui.update");this.reset();EffectHelper.dialogLeftShow(this)};WorldMapUnlockDialogController.onViewEnter=function(){this.updateUI()};
WorldMapUnlockDialogController.reset=function(){this.levelId=this.param.level;if(this.areaMeta=MetaHelper.getLevelArea()[this.levelId]){this.goodsMeta=MetaHelper.getGoodMetaListById(this.areaMeta.id);this.nodeAsk.setVisible(!0);this.nodeFriend.setVisible(!1);for(var a=this.areaMeta.star,c=0,d=1;d<=this.levelId;++d){var e=UserManager.getLeveleScore(d);e&&(c+=e.star)}this.labelBarStar.setString(tostring(c)+"/"+tostring(a));this.barStar.setPercentage(100*c/a);this.lableNeedStar.setString(string.expand(TextTable.t_unlock_need_star,
{num:a}));this.lablePrice.setString("x"+tostring(this.goodsMeta.diamond));this.unlockType=0;c>=a&&(this.unlockType=1);this.friendIds=UserManager.getUnlockFriendData(this.areaMeta.id);this.friendIds||(HttpHelper.sendStartUnlockLevelArea(this.areaMeta.id),this.friendIds=[]);3<=this.friendIds.length&&(this.unlockType=3,this.spriteBtnFriend1.setVisible(!1),this.spriteBtnFriend2.setVisible(!0),EffectHelper.jellyShakeSlow(this.btnNextLevel,1,0));for(d=1;3>=d;++d){var c=this.friendIds[d-1],a=this["spriteHead_"+
d],e=this["spEmptyHead_"+d],f=this["spHeadBg_"+d];c?(a.setVisible(!0),f.setVisible(!0),e.setVisible(!1),c=CacheHelper.getUserInfoWithDefault(c),GameHelper.loadHeadSprite(a,c.headUrl,!0)):(a.setVisible(!1),f.setVisible(!1),e.setVisible(!0))}this.btnPay.setVisible(0==this.unlockType);this.btnNextLevel.setVisible(0!=this.unlockType);0!=this.unlockType&&EffectHelper.jellyShakeSlow(this.btnAddFriend,1,0)}};WorldMapUnlockDialogController.updateUI=function(){};
WorldMapUnlockDialogController.onButtonSend=function(){audio.playSound(GameMusicType.kButtonClick);var a=[],c=[];if(this.listFriendHolder)for(var d in this.listFriendHolder){var e=this.listFriendHolder[d];e.spriteCheckMark.isVisible()&&(table.insert(a,e.playerId),table.insert(c,d))}var f=this;0<a.length&&HttpHelper.sendUnlockLevelArea(this,2,this.areaMeta.id,a,function(a){0==a?(f.nodeAsk.setVisible(!0),f.nodeFriend.setVisible(!1),TipDialogController.showTip(TextTable.t_Email_Send_Energy_Already)):
TipDialogController.showTip(ErrMsg(a))})};WorldMapUnlockDialogController.onButtonAddFriend=function(){if(3==this.unlockType)this.onButtonUnlock();else{audio.playSound(GameMusicType.kButtonClick);this.nodeAsk.setVisible(!1);this.nodeFriend.setVisible(!0);this.listFriendHolder=null;this.listFriend.registerScriptListener(this.onListItemClick,this);var a=this;CacheHelper.getAndCacheFiendsInfo(this,function(c,d){0==c?(a.removeResponsedFriend(d),a.friendList=d,a.updateFriendListUI(d)):TipDialogController.showTip(ErrMsg(c))})}};
WorldMapUnlockDialogController.removeResponsedFriend=function(a){if(a.length&&this.friendIds.length)for(var c in a)for(var d in this.friendIds)if(a[c].playerId==this.friendIds[d]){table.remove(a,c);break}};
WorldMapUnlockDialogController.updateFriendListUI=function(){this.listFriendHolder=[];this.listFriend.removeAllItems();var a=UserManager.getDailyWantUnlockIds(),c=[],d;for(d in this.friendList){var e=this.friendList[d];table.keyOf(a,e.playerId)||table.insert(c,e)}if(0==c.length)this.nodeAsk.setVisible(!0),this.nodeFriend.setVisible(!1),a={},a.text=TextTable.t_unlockNoFriend,ConfirmDialogController.show(a);else{var f=this;this.performForLoop(1,c.length,function(a){var d=c[a-1],e=[],n=loadccb(GetAssetsPath("AskForEnergyFriendItem.ccbi"),
e,f);e.playerId=d.playerId;e.labelName.setString(d.name);12>=a?e.spriteCheckMark.setVisible(!0):e.spriteCheckMark.setVisible(!1);GameHelper.loadHeadSprite(e.spriteHead,d.headUrl,!0);f.listFriendHolder[a-1]=e;f.listFriend.addItem(n)},0.05,"update_friends")}};WorldMapUnlockDialogController.onListItemClick=function(a){a=this.listFriendHolder[a];a.spriteCheckMark.setVisible(!a.spriteCheckMark.isVisible())};
WorldMapUnlockDialogController.onButtonUnlock=function(){var a=this;HttpHelper.sendUnlockLevelArea(this,this.unlockType,this.areaMeta.id,[],function(c){0==c?(a.back(),WorldMapController.post("unlockLevel")):TipDialogController.showTip(ErrMsg(c))})};
WorldMapUnlockDialogController.onButtonUnlockPay=function(){var a=this;UserManager.getDiamond()<a.goodsMeta.diamond?SnsHelper.isClosePay()?TipDialogController.showTip(ErrMsg(ErrCode.CASH_NOT_ENOUGH)):DiamondNotEnoughDialogController.show():(WaitingDialogController.show(),HttpHelper.buy(this,this.goodsMeta.id,1,function(c){WaitingDialogController.hide();0==c?(a.back(),WorldMapController.post("unlockLevel"),notification.postEvent("event.ui.update")):TipDialogController.showTip(ErrMsg(c))},this.levelId))};
WorldMapUnlockDialogController.onButtonBack=function(){audio.playSound(GameMusicType.kButtonClick);this.back()};WorldMapUnlockDialogController.back=function(){EffectHelper.dialogLeftHide(this)};MapOptController=createController("MapOptController");MapOptController.onViewCreate=function(){return loadccb(GetAssetsPath("WorldMapOpt.ccbi"),this)};MapOptController.onViewOpen=function(){this.reset();DcHelper.freshManAction(4)};MapOptController.onViewEnter=function(){};MapOptController.onViewOpened=function(){cc.addTimePoint("MapOptControllerOpen")};MapOptController.reset=function(){};MapOptController.OnFirstBtnClick=function(){var a=this;SceneHelper.loadNeedRes(function(c){c&&a.startGame()})};
MapOptController.startGame=function(){var a=UserManager.getTopLevel(),c=[],d=LevelMapManager.getInstance().getLevelGameMode(a);WaitingDialogController.show();HttpHelper.startLevel(this,a,d,!1,[],function(d){WaitingDialogController.hide();0==d?ResourcesManager.loadLevelConfig(a,function(){SceneHelper.jumpToScene("WorldMap");SceneHelper.pushToScene("GameWorld",null,{level:a,propIds:c});DcHelper.startLevel(a)}):TipDialogController.showTip(ErrMsg(d))})};DailyLoginTipDialogController=createController("DailyLoginTipDialogController");DailyLoginTipDialogController.onViewCreate=function(){return loadccb(GetAssetsPath("DailyLoginTipDialog.ccbi"),this)};DailyLoginTipDialogController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);EffectHelper.dialogLeftShow(this);this.reset()};DailyLoginTipDialogController.reset=function(){};
DailyLoginTipDialogController.onButtonOk=function(){audio.playSound(GameMusicType.kPopupClose);var a=cc.Sprite.createWithSpriteFrameName("ico_cat2.png");this.layer.removeAllChildrenWithCleanup(!0);this.layer.addChild(a);var c=this;EffectHelper.flyRewardAnim(a,ccp(0.5*display.width,0.5*display.height),WorldMapUIController.btnActivity,function(){c.hide()})};DailyLoginTipDialogController.back=function(){EffectHelper.dialogLeftHide(this)};FristChargeDialogController=createController("FristChargeDialogController");FristChargeDialogController.isOpen=function(){return!SnsHelper.isClosePay()&&cc.sys.os!=cc.sys.OS_IOS&&MetaHelper.commonRewardDict[CommonRewardID.kRechargeDiamondFor20003]&&MetaHelper.commonRewardDict[CommonRewardID.kRechargeDiamondFor20003_2]?6<UserManager.getTopLevel()&&!UserManager.hasPet(20003)?!0:!1:!1};
FristChargeDialogController.onViewCreate=function(){return loadccb(GetAssetsPath("FristChargeDialog.ccbi"),this,null,null,null,"nodeStars spriteStar1 spriteStar2 spriteStar3 spriteStar4 spriteStar5".split(" "))};
FristChargeDialogController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);if(SnsHelper.isClosePay())this.hide(),TipDialogController.showTip(ErrMsg(200277));else{PetHelper.clearPetEquip(this.skelPet1);var a=MetaHelper.commonRewardDict[CommonRewardID.kRechargeDiamondFor20003_2];PetHelper.setPetEquipByItemsMeta(this.skelPet2,a.rewards);for(var c=0,d=0;d<a.rewards.length;d++){var e=a.rewards[d][0];if(ServerProxy.getItemType(e)==ItemType.EQUIP){this["spriteIcon"+(c+1)].setDisplayFrameName(GameIconHelper.getIconFrameName(e));
var f=MetaHelper.equipDict[e];if(f){for(var g=1;5>=g;++g)this["spriteStar"+g][c].setVisible(g<=f.rarity);this.nodeStars[c].setPositionX(9*(5-f.rarity));this["btnDressItem"+(c+1)].setTag(e)}c++}}this.registerEvent("event.ui.update");EffectHelper.dialogPopOut(this)}};FristChargeDialogController.onViewEnter=function(){this.updateUI()};FristChargeDialogController.onEvents=function(a,c){"event.ui.update"==a&&this.updateUI()};
FristChargeDialogController.updateUI=function(){UserManager.isCommonRewardCompleted(CommonRewardID.kRechargeDiamondFor20003_2)?this.btnGetReward2.setEnabled(!0):this.btnGetReward2.setEnabled(!1,TextTable.t_charge30);this.btnGetReward2.isEnabled()?this.btnGetReward1.setEnabled(!1,TextTable.t_chargeTip1):UserManager.isCommonRewardCompleted(CommonRewardID.kRechargeDiamondFor20003)?this.btnGetReward1.setEnabled(!0):this.btnGetReward1.setEnabled(!1,TextTable.t_charge6)};
FristChargeDialogController.onButtonDressItem=function(a,c){audio.playSound(GameMusicType.kButtonClick);ItemTipController.showWithButton(a,1,c)};FristChargeDialogController.onButtonGetReward1=function(){audio.playSound(GameMusicType.kButtonClick);var a=this;QueryDialogController.showLoading({text:TextTable.t_chargeTip4,listener:function(c){c&&a.requestReward(CommonRewardID.kRechargeDiamondFor20003)}})};
FristChargeDialogController.onButtonGetReward2=function(){audio.playSound(GameMusicType.kButtonClick);this.requestReward(CommonRewardID.kRechargeDiamondFor20003_2)};FristChargeDialogController.requestReward=function(a){WaitingDialogController.show();var c=this;HttpHelper.getCommonRewards(this,a,null,function(a){WaitingDialogController.hide();0==a?(c.back(),notification.postEvent("event.ui.update"),PetGetDialogController.show({petId:20003,autoOpen:!0,share:!0})):TipDialogController.showTip(ErrMsg(a))})};
FristChargeDialogController.onButtonGoRecharge=function(){audio.playSound(GameMusicType.kButtonClick);GameHelper.openUI("shop",3)};FristChargeDialogController.onButtonBack=function(){audio.playSound(GameMusicType.kButtonClick);this.back()};FristChargeDialogController.back=function(){this.hide()};TimeChargeGiftController=createController("TimeChargeGiftController");TimeChargeGiftController.isOpen=function(){return cc.sys.os==cc.sys.OS_IOS||0>=this.getValidTimeRewardList().length?!1:!0};TimeChargeGiftController.getValidTimeRewardList=function(){for(var a=MetaHelper.getValidCommonRewardByTab(CommonRewardTab.kTimeRechargeDiamond),c=[],d=0;d<a.length;d++){var e=a[d];UserManager.isCommonRewardCollected(e.id)||c.push(e)}return c};
TimeChargeGiftController.needShowIconTip=function(){var a=this.getValidTimeRewardList();return 0>=a.length?!1:UserManager.isCommonRewardCompleted(a[0].id)};TimeChargeGiftController.onViewCreate=function(){return loadccb(GetAssetsPath("TimeChargeGift.ccbi"),this)};TimeChargeGiftController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);var a=this.getValidTimeRewardList();0>=a.length?this.hide():(this.rewardsMeta=a[0],this.reset(),this.registerEvent("event.ui.update"),EffectHelper.dialogPopOut(this))};
TimeChargeGiftController.onViewEnter=function(){this.updateUI()};TimeChargeGiftController.onEvents=function(a,c){"event.ui.update"==a&&this.updateUI()};
TimeChargeGiftController.reset=function(){this.labelTimeStr.setString("\u5012\u8ba1\u65f6\uff1a");this.labelDesc.setString(this.rewardsMeta.desc);for(var a=this.rewardsMeta.rewards,c=1;3>=c;c++){var d=a[c-1];d?(this["spriteItem"+c].setDisplayFrameName(GameIconHelper.getIconFrameName(d[0],d[1])),this["labelItem"+c].setString("x"+d[1])):this["btnItem"+c].setVisible(!1)}this.registerUpdate("clock",this.updateTime,1,!0)};
TimeChargeGiftController.updateTime=function(){var a=this.rewardsMeta.end-DataHelper.getSimulatorTs();0>a&&(a=0);a=string.format("%02d:%02d:%02d",Math.floor(a/3600),Math.floor(a%3600/60),a%60);this.labelTimeLeft.setString(a)};TimeChargeGiftController.updateUI=function(){UserManager.isCommonRewardCompleted(this.rewardsMeta.id)?(this.btnGetReward.setVisible(!0),this.btnGoRecharge.setVisible(!1)):(this.btnGetReward.setVisible(!1),this.btnGoRecharge.setVisible(!0))};
TimeChargeGiftController.onButtonItem=function(a){audio.playSound(GameMusicType.kButtonClick);var c=this.rewardsMeta.rewards[a-1];ItemTipController.showWithButton(c[0],c[1],this["spriteItem"+a],c[2])};
TimeChargeGiftController.onButtonGetReward=function(){audio.playSound(GameMusicType.kButtonClick);WaitingDialogController.show();var a=this;HttpHelper.getCommonRewards(this,this.rewardsMeta.id,null,function(c,d){WaitingDialogController.hide();if(0==c){a.back();notification.postEvent("event.ui.update");for(var e=d.rewards||[],f=0;f<e.length;f++){var g=e[f];EffectHelper.itemFlyToUIAnim(g.itemId,g.value)}}else TipDialogController.showTip(ErrMsg(c))})};
TimeChargeGiftController.onButtonGoRecharge=function(){audio.playSound(GameMusicType.kButtonClick);var a=MetaHelper.productDict[1];if(a)if(60<this.rewardsMeta.condition)GameHelper.openUI("shop");else{var c=a.cash,d=a.extraCash,a=a.productId;SnsHelper.isClosePay()?TipDialogController.showTip(ErrMsg(200262)):PayHelper.buyProduct(c,d,a,function(a,c){a&&c&&notification.postEvent("event.ui.update")})}};
TimeChargeGiftController.onButtonBack=function(){audio.playSound(GameMusicType.kButtonClick);var a=this;QueryDialogController.showLoading({text:TextTable.t_giftQuitQuery,listener:function(c){c&&a.back()}})};TimeChargeGiftController.back=function(){this.hide()};TimeShopGiftController=createController("TimeShopGiftController");TimeShopGiftController.isOpen=function(){return cc.sys.os==cc.sys.OS_IOS||0>=this.getValidGoodsMetaList().length?!1:!0};TimeShopGiftController.onViewCreate=function(){return loadccb(GetAssetsPath("TimeShopGift.ccbi"),this)};TimeShopGiftController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);var a=this.getValidGoodsMetaList();0>=a.length?this.hide():(this.goodsMeta=a[0],this.reset(),EffectHelper.dialogPopOut(this))};
TimeShopGiftController.reset=function(){this.labelTimeStr.setString("\u5012\u8ba1\u65f6\uff1a");var a=MetaHelper.getGoodsPrice(this.goodsMeta.id),c=a[1],d=a[2];a[0]==ItemType.COIN&&this.spriteGem.setDisplayFrameName("ico_coin.png");this.labelPrice.setString(""+c);this.labelOff.setString(string.format("%.0f\u6298",10*d));for(a=1;3>=a;a++)(c=this.goodsMeta.item[a-1])?(this["spriteItem"+a].setDisplayFrameName(GameIconHelper.getIconFrameName(c[0],c[1])),this["labelItem"+a].setString("x"+c[1])):this["btnItem"+
a].setVisible(!1);this.registerUpdate("clock",this.updateTime,1,!0)};TimeShopGiftController.updateTime=function(){var a=this.goodsMeta.end-DataHelper.getSimulatorTs();0>a&&(a=0);a=string.format("%02d:%02d:%02d",Math.floor(a/3600),Math.floor(a%3600/60),a%60);this.labelTimeLeft.setString(a)};
TimeShopGiftController.getValidGoodsMetaList=function(){for(var a=MetaHelper.getGoodMetaListByTab(400),c=[],d=0;d<a.length;d++){var e=a[d];0>=UserManager.getLifeLimitLeftCount(e.id)||0>=UserManager.getDailyLimitLeftCount(e.id)||c.push(e)}return c};TimeShopGiftController.onButtonItem=function(a){audio.playSound(GameMusicType.kButtonClick);var c=this.goodsMeta.item[a-1];ItemTipController.showWithButton(c[0],c[1],this["spriteItem"+a],c[2])};
TimeShopGiftController.onButtonBuy=function(){audio.playSound(GameMusicType.kButtonClick);var a=this;WaitingDialogController.show();HttpHelper.buy(this,this.goodsMeta.id,1,function(c){WaitingDialogController.hide();if(0==c){a.back();notification.postEvent("event.ui.update");c=a.goodsMeta.item;for(var d=0;d<c.length;d++){var e=c[d];EffectHelper.itemFlyToUIAnim(e[0],e[1])}}else TipDialogController.showTip(ErrMsg(c))})};
TimeShopGiftController.onButtonBack=function(){audio.playSound(GameMusicType.kButtonClick);this.back()};TimeShopGiftController.back=function(){this.hide()};BigImageAdController=createController("BigImageAdController");BigImageAdController.onViewCreate=function(){return cc.Layer.create()};BigImageAdController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.reset()};
BigImageAdController.reset=function(){var a=RmtHelper.getAnnoucementList(1);0>=a.length?this.hide():(a=a[0],this.layerBg=cc.Sprite.createWithSpriteFrameName("ico_white_rect.png"),this.layerBg.setAnchorPoint(0.5,0.5),this.layerBg.setPosition(0.5*display.width,0.5*display.height),this.layerBg.setScale(display.width,display.height),this.layerBg.setColor(cc.color(0,0,0)),this.layerBg.setOpacity(180),this.layer.addChild(this.layerBg),this.nodeDialog=cc.Node.create(),this.nodeDialog.setContentSize(display.width,
display.height),this.nodeDialog.setAnchorPoint(0.5,0.5),this.nodeDialog.setPosition(0.5*display.width,0.5*display.height),this.layer.addChild(this.nodeDialog),this.labelContent=MultiLabelTTF.create(a.content,518),this.labelContent.setPosition(0.5*display.width,0.5*display.height),this.labelContent.setAnchorPoint(0.5,0.5),this.nodeDialog.addChild(this.labelContent),a=ButtonSprite.create(),a.setDisplayFrameName("red_back.png"),a.setPosition(46,display.height-46),a.setCallback(this.onButtonBack,this),
this.layer.addChild(a),this.labelContent.registerClickBack(function(a,d){BigImageAdController.hide();"openui"==a&&GameHelper.openUI(d[0],parseInt(d[1]))},this),EffectHelper.dialogLeftShow(this))};BigImageAdController.onButtonBack=function(){audio.playSound(GameMusicType.kButtonClick);this.back()};BigImageAdController.back=function(){this.hide()};WechatOfficialAccoutController=createController("WechatOfficialAccoutController");WechatOfficialAccoutController.onViewCreate=function(){return loadccb(GetAssetsPath("WechatOfficialAccout.ccbi"),this)};WechatOfficialAccoutController.onViewOpen=function(){};WechatOfficialAccoutController.onViewOpened=function(a){};WechatOfficialAccoutController.shotScreen=function(){var a=this;XCXManager.accessOfficialAccout(function(){a.back()},function(){a.back();TipDialogController.showTip("\u751f\u6210\u516c\u4f17\u53f7\u56fe\u7247\u5931\u8d25\u5566~")})};
WechatOfficialAccoutController.onLongClicked=function(a,c,d){};WechatOfficialAccoutController.onButtonBack=function(){audio.playSound(GameMusicType.kButtonClick);this.back()};WechatOfficialAccoutController.back=function(){this.hide()};LuckyKitDialogController=createController("LuckyKitDialogController");LuckyKitDialogController.onViewCreate=function(){return loadccb(GetAssetsPath("LuckyKitDialog.ccbi"),this)};LuckyKitDialogController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.updateUI()};
LuckyKitDialogController.updateUI=function(){this.rewards=CacheHelper.getLuckyKitRewards();this.tipNewActivityNode.setVisible(!1);1==this.rewards.length?(this.btnKitItem1.setPositionX(0),this.btnKitItem2.setVisible(!1)):this.btnKitItem2.setVisible(!0);for(var a in this.rewards){if(2<a)break;var c=this.rewards[a];this["spRewardItem"+a].setDisplayFrameName(GameIconHelper.getIconFrameName(c.itemId));this["labelRewardNum"+a].setString("x"+tostring(c.value))}};
LuckyKitDialogController.onButtonItem=function(a,c){audio.playSound(GameMusicType.kButtonClick);ItemTipController.showWithButton(this.rewards[a].itemId,this.rewards[a].value,c,this.rewards[a].count)};
LuckyKitDialogController.onButtonGetReward=function(){audio.playSound(GameMusicType.kButtonClick);var a=this;a.btnGetReward.setTouchEnabled(!1);a.btnBack.setTouchEnabled(!1);var c=a.tipNewActivityNode.isVisible()?1:2,c=1;WaitingDialogController.showLoading();HttpHelper.sendShareLuckyKit(a,c,function(c){WaitingDialogController.hide();if(0==c){if(1==a.rewards.length)c=a.spRewardItem0.convertToWorldSpace(a.spRewardItem0.getAnchorPointInPoints()),EffectHelper.itemFlyToUIAnim(a.rewards[0].itemId,a.rewards[0].value,
c,null,null,0.5);else if(1<a.rewards.length){c=a.spRewardItem0.convertToWorldSpace(a.spRewardItem0.getAnchorPointInPoints());var e=a.spRewardItem1.convertToWorldSpace(a.spRewardItem1.getAnchorPointInPoints());EffectHelper.itemFlyToUIAnim(a.rewards[1].itemId,a.rewards[1].value,e,null,null,0.5);EffectHelper.itemFlyToUIAnim(a.rewards[0].itemId,a.rewards[0].value,c,null,null,0.5)}notification.postEvent("event.ui.update");CacheHelper.setLuckyKitDropIdx(0);CacheHelper.setLuckyKitRewards([]);a.back()}else TipDialogController.showTip(ErrMsg(c)),
a.btnGetReward.setTouchEnabled(!0),a.btnBack.setTouchEnabled(!0)})};
LuckyKitDialogController.onButtonShare=function(){audio.playSound(GameMusicType.kButtonClick);var a=this;ShareController.shareDirectly(2010,2,function(c){c&&(TipDialogController.showTip("\u5206\u4eab\u6210\u529f"),c=function(){a.tipNewActivityNode.setVisible(!1)},a.tipNewActivityNode.isVisible()&&(a.labelRewardNum0.setString("x"+tostring(2*a.rewards[0].value)),a.labelRewardNum0.runAction(cc.sequence(cc.scaleTo(0.5,1.4),cc.scaleTo(0.5,1),cc.callFunc(c))),1<a.rewards.length&&(a.labelRewardNum1.setString("x"+
tostring(2*a.rewards[1].value)),a.labelRewardNum1.runAction(cc.sequence(cc.scaleTo(0.5,1.4),cc.scaleTo(0.5,1))))))})};LuckyKitDialogController.onButtonBack=function(){this.onButtonGetReward()};LuckyKitDialogController.back=function(){this.hide()};SendDesktopController=createController("SendDesktopController");
SendDesktopController.onViewCreate=function(){var a,c=this.param.shareType;"std_qq_android"==c?(a=loadccb(GetAssetsPath("SendDesktopQQAndroid.ccbi"),this),SendDesktopController.addGiftSpr()):"std_qq_ios"==c?(a=loadccb(GetAssetsPath("SendDesktopQQiOS.ccbi"),this),SendDesktopController.addGiftSpr()):"std_wx_android"==c?(a=loadccb(GetAssetsPath("SendDesktopWXAndroid.ccbi"),this),SendDesktopController.addGiftSpr()):"std_wx_ios"==c?(a=loadccb(GetAssetsPath("SendDesktopWXiOS.ccbi"),this),SendDesktopController.addGiftSpr()):
"std_xcx_android"==c?(a=loadccb(GetAssetsPath("SendDesktopXCXAndroid.ccbi"),this),persist.setBool("isSeeDesktop",!0),WorldMapUIController.refreshSendDesktopBtn()):"std_xcx_ios"==c?(a=loadccb(GetAssetsPath("SendDesktopXCXiOS.ccbi"),this),SendDesktopController.addGiftSpr()):"share_xcx_ios"==c&&(a=loadccb(GetAssetsPath("SendShareWXiOS.ccbi"),this));return a};
SendDesktopController.addGiftSpr=function(){var a=[],a=MetaHelper.getCommonRewardByID(3).rewards;TencentSdkManager.txsdkLog("collectRewards "+a);var c,d=0,e=0,f=0,g=this.giftNode.getPositionX(),h;for(h in a){c=a[h];var e=c[0],f=c[1],m={};c=loadccb(GetAssetsPath("SendDesktopItem.ccbi"),m,this);var n=GameIconHelper.getIconFrameName(e);e==ItemType.COIN&&(n="item_icon_coin_much.png");m.labelCount.setString("x"+f);m.spriteIcon.setDisplayFrameName(n);m.rewardItemBtn.setTag(h);e=158*d-59;f=-55;TencentSdkManager.txsdkLog("collectRewards "+
d+" posX "+e+" posY "+f);c.setPositionX(e);c.setPositionY(f);this.giftNode.addChild(c);d+=1}this.giftNode.setPositionX(g-(a.length-1)/2*158)};
SendDesktopController.refreshFriendShow=function(){var a=this;CacheHelper.getAndCacheFiendsInfo(this,function(c,d){if(0==c){for(var e=[],f=UserManager.getSex(),g=0;g<d.length;g++){var h=d[g];if(h.sex!=f&&!h.isNpc&&(e.push(h),4==e.length))break}if(4>e.length)for(g=0;g<d.length&&(h=d[g],h.sex!=f||h.isNpc||(e.push(h),4!=e.length));g++);if(4>e.length)for(g=0;g<d.length&&(h=d[g],e.push(h),4!=e.length);g++);TencentSdkManager.txsdkLog("SendDesktopController.refreshFriendShow");for(var m=h=0,g=0;g<e.length;g++)h=
e[g],TencentSdkManager.txsdkLog(""+h.name+" | "+h.sex+" | "+h.topLevelId),m={},f=loadccb(GetAssetsPath("SendDesktopPlayer.ccbi"),m,a),m.labelName.setString(h.name),m.spriteSex.setDisplayFrameName(2==h.sex?"frd_sex_female.png":"frd_sex_male.png"),GameHelper.loadHeadSprite(m.spriteHead,h.headUrl,!0),h=0-130*(1.5-g)-50,m=-36,f.setPositionX(h),f.setPositionY(m),a.friendNode.addChild(f)}else TipDialogController.showTip(ErrMsg(c))})};
SendDesktopController.onViewOpen=function(){this.reset();registerTouchAndKeyProcessor(this,"default",this.back);EffectHelper.dialogLeftShow(this)};SendDesktopController.onViewEnter=function(){};
SendDesktopController.reset=function(){this.bFinishIndex02=this.bFinishIndex01=this.bFinishSendDesktop=!1;this.maskNode&&this.maskNode.setVisible(!1);var a=this.param.shareType;"std_qq_android"==a?SendDesktopController.refreshFriendShow():"std_qq_ios"==a?SendDesktopController.refreshFriendShow():"std_wx_android"==a?(this.lab01.setString(TextTable.t_Desktop_h5wx_android_lab01),this.lab02.setString(TextTable.t_Desktop_h5wx_android_lab02)):"std_wx_ios"==a?this.lab01.setString(TextTable.t_Desktop_h5wx_ios_lab01):
"std_xcx_android"==a?this.lab01.setString(TextTable.t_Desktop_xcx_android_lab01):"std_xcx_ios"==a?(this.lab01.setString(TextTable.t_Desktop_xcx_ios_lab01),this.lab02.setString(TextTable.t_Desktop_xcx_ios_lab02),this.lab03.setString(TextTable.t_Desktop_xcx_ios_lab03)):"share_xcx_ios"==a&&this.lab01.setString(TextTable.t_Desktop_wx);XCXManager.isMiniGameSticky?SendDesktopController.refreshGuideDone():this.refreshGainState()};
SendDesktopController.refreshGainState=function(){TencentSdkManager.txsdkLog("refreshGainState");var a=!1,c=this.param.shareType;"share_xcx_ios"!=c&&(TencentSdkManager.txsdkLog("refreshGainState shareType "+c),UserManager.getShareRewardBool()?(this.btnGain&&this.btnGain.setEnabled(!1,"\u5956\u52b1\u5df2\u9886\u53d6"),this.btnSendDesktop&&this.btnSendDesktop.setVisible(!0),this.btnHasGain&&(this.btnHasGain.setVisible(!0),this.btnHasGain.setShaderProgramByKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR_GRAY)),
this.btnGainFor&&this.btnGainFor.setVisible(!1),this.btnHasSignSpr&&this.btnHasSignSpr.setShaderProgramByKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR_GRAY)):(this.btnSendDesktop&&this.btnSendDesktop.setVisible(!1),TencentSdkManager.txsdkLog("refreshGainState shareType "+c),"std_qq_android"==c?(this.bFinishSendDesktop=!0)&&(a=!0):"std_qq_ios"==c?(this.bFinishSendDesktop=!0)&&(a=!0):"std_wx_android"==c?this.bFinishIndex01&&this.bFinishIndex02&&(a=!0):"std_wx_ios"==c?this.bFinishIndex01&&(a=!0):"std_xcx_ios"==
c&&this.bFinishIndex01&&(a=!0),a?(this.btnGain&&this.btnGain.setEnabled(!0),this.btnHasGain&&this.btnHasGain.setVisible(!1),this.btnGainFor&&(this.btnGainFor.setVisible(!0),this.btnGainFor.setShaderProgramByKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR)),this.btnHasSignSpr&&this.btnHasSignSpr.setShaderProgramByKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR)):(this.btnGain&&this.btnGain.setEnabled(!1,"\u8bf7\u5b8c\u6210\u6536\u85cf\u4efb\u52a1"),this.btnHasGain&&this.btnHasGain.setVisible(!1),this.btnGainFor&&
(this.btnGainFor.setVisible(!0),this.btnGainFor.setShaderProgramByKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR_GRAY)),this.btnHasSignSpr&&this.btnHasSignSpr.setShaderProgramByKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR_GRAY))))};SendDesktopController.onButtonGain=function(){"share_xcx_ios"!=this.param.shareType&&(audio.playSound(GameMusicType.kButtonClick),SendDesktopController.onButtonSendDesktop())};
SendDesktopController.GetCommonReward=function(a){var c=SendDesktopController;HttpHelper.getCommonRewards(c,3,[],function(d){0==d?(TencentSdkManager.txsdkLog("HttpHelper.getCommonRewards \u9886\u53d6\u6210\u529f~"),TipDialogController.showTip("\u9886\u53d6\u6210\u529f~"),UserManager.setShareRewardBool(!0),WorldMapUIController.refreshSendDesktopBtn(),notification.postEvent("event.ui.collectGame"),notification.postEvent("event.ui.update"),c.refreshGainState(),a(c)):TipDialogController.showTip(ErrMsg(d))})};
SendDesktopController.onButtonSendDesktop=function(){DcHelper.sendtoDesktop(1);audio.playSound(GameMusicType.kButtonClick);var a=this.param.shareType;"std_qq_android"==a?TencentSdkManager.addQQGameShortcut(this,SendDesktopController.onCollectionSuccessCallback,SendDesktopController.onCollectionFailCallback):"std_qq_ios"==a?(this.refreshGainState(),UserManager.getShareRewardBool()?TencentSdkManager.addQQGameShortcut(this):SendDesktopController.GetCommonReward(function(a){TencentSdkManager.addQQGameShortcut(a)})):
SendDesktopController.GetCommonReward(function(a){})};SendDesktopController.onCollectionSuccessCallback=function(a){a.bFinishSendDesktop=!0;TipDialogController.showTip("\u6536\u85cf\u6210\u529f");UserManager.getShareRewardBool()||SendDesktopController.GetCommonReward(function(a){})};SendDesktopController.onCollectionFailCallback=function(a){TipDialogController.showTip("\u6536\u85cf\u5931\u8d25")};
SendDesktopController.onDesktopItemClick=function(a,c){var d=MetaHelper.getCommonRewardByID(3).rewards;ItemTipController.showWithButton(d[a][0],d[a][1],c,d[a][2])};SendDesktopController.onButtonFinish01=function(){var a=this.param.shareType;if("share_xcx_ios"==a||"std_xcx_android"==a)SendDesktopController.onButtonBack();else audio.playSound(GameMusicType.kButtonClick),"std_xcx_ios"==a?this.openMsgTopGuide(!0):SendDesktopController.refreshFinishBtnState(!1)};
SendDesktopController.openMsgTopGuide=function(a){SendDesktopController.touchGuideCloseTime=0;this.maskNode&&!this.maskNode.isVisible()&&a&&(this.maskNode.setVisible(!0),SendDesktopController.refreshFinishBtnState(!0))};SendDesktopController.refreshGuideDone=function(){SendDesktopController.touchGuideCloseTime=1;SendDesktopController.onButtonGuideClose();console.log("SendDesktopController.refreshGuideDone");SendDesktopController.refreshFinishBtnState(!1)};
SendDesktopController.refreshFinishBtnState=function(a){a?this.finishBtn01.isEnabled()||(this.finishSpr01.setDisplayFrameFile(GetAssetsPath("txt_btnFront_go.png")),this.bFinishIndex01=!1,this.finishBtn01.setEnabled(!0),this.finishBtn01.setShaderProgramByKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR),this.finishSpr01.setShaderProgramByKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR),this.refreshGainState()):this.finishBtn01.isEnabled()&&(this.finishSpr01.setDisplayFrameFile(GetAssetsPath("txt_btnFront_finish.png")),
this.bFinishIndex01=!0,this.finishBtn01.setEnabled(!1),this.finishBtn01.setShaderProgramByKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR_GRAY),this.finishSpr01.setShaderProgramByKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR_GRAY),this.refreshGainState())};SendDesktopController.touchGuideCloseTime=0;SendDesktopController.onButtonGuideClose=function(){SendDesktopController.touchGuideCloseTime+=1;1<SendDesktopController.touchGuideCloseTime?this.maskNode.setVisible(!1):TipDialogController.showTip("\u7f6e\u9876\u6e38\u620f\u518d\u8fdb\u5165\u6e38\u620f\uff0c\n\u5373\u53ef\u9886\u53d6\u4e30\u539a\u5956\u52b1\u54e6~")};
SendDesktopController.onButtonFinish02=function(){if("share_xcx_ios"==this.param.shareType)SendDesktopController.onButtonBack();else audio.playSound(GameMusicType.kButtonClick),this.bFinishIndex02=!0,this.finishBtn02.setShaderProgramByKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR_GRAY),this.finishSpr02.setShaderProgramByKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR_GRAY),this.refreshGainState()};SendDesktopController.onButtonBack=function(){audio.playSound(GameMusicType.kButtonClick);this.back()};
SendDesktopController.back=function(){EffectHelper.dialogLeftHide(this)};WXAccountsController=createController("WXAccountsController");WXAccountsController.onViewCreate=function(){return loadccb(GetAssetsPath("WXAccountDialog.ccbi"),this)};WXAccountsController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);EffectHelper.dialogLeftShow(this);this.reset()};WXAccountsController.reset=function(){};WXAccountsController.onButtonBack=function(){this.back()};WXAccountsController.back=function(){audio.playSound(GameMusicType.kPopupClose);EffectHelper.dialogLeftHide(this)};FriendInfoController=createController("FriendInfoController");FriendInfoController.onViewCreate=function(){return loadccb(GetAssetsPath("FriendInfo.ccbi"),this)};FriendInfoController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.reset();EffectHelper.dialogLeftShow(this)};FriendInfoController.onViewEnter=function(){};
FriendInfoController.reset=function(){var a=this.param.data;if(a){this.data=a;var c=UserManager.getPlayerId();a.playerId==c&&(a.name=UserManager.getNickName());this.labelName.setString(a.name);this.labelMaxTop.setString(TextTable.t_topCardLevel_titel+"\uff1a"+tostring(a.topLevelId));this.labelStar.setString(TextTable.t_topCardMedalStar_title+"\uff1a"+a.star);this.labelId.setString(string.expand(TextTable.t_topAddfriendsMyID_txt,{num:a.playerId}));var d=MetaHelper.global.open_max_level;this.barLevel.setPercentage(100*
a.topLevelId/d);this.barStar.setPercentage(100*a.star/d/3);var d=this.param.isStranger,e=UserManager.snsFidDict[a.playerId];this.btnDelete.setVisible(!(a.isNpc||a.playerId==c||d||e));this.btnQQFreind.setVisible(!1);c=a.playerId==c||d||UserManager.isLoveFriend(a.playerId);this.btnLike.setVisible(!c);GameHelper.loadHeadSprite(this.spriteHead,a.headUrl);this.getFriendInfo()}};
FriendInfoController.getFriendInfo=function(){var a=this;WaitingDialogController.show();HttpHelper.getFriendInfo(this,this.data.playerId,function(c,d){WaitingDialogController.hide();0==c?a.updateFriendInfo(d):TipDialogController.showTip(ErrMsg(c))})};
FriendInfoController.updateFriendInfo=function(a){var c=table.size(MetaHelper.petDict),d=a.pets;this.labelPet.setString("\u5ba0\u7269\u6570\u91cf\uff1a"+d.length+"/"+c);this.labelAchi.setString(TextTable.t_topCardAchievement_title+a.achieveNum);this.labelLike.setString(TextTable.t_topCardPraise_title+a.love);this.labelMedal.setString(tostring(a.medal));this.data.love=a.love;0==a.medal&&this.nodeMetal.setVisible(!1);this.listPet.removeAllItems();this.listPet.registerScriptListener(this.onListItemClick,
this);UserManager.getPlayerId();for(c=1;c<=Math.min(6,d.length);++c){var e=d[c-1],f={},g=loadccb(GetAssetsPath("FriendInfoItem.ccbi"),f,this);f.spritePet.setDisplayFrameName(string.format("head%d.png",e.id));this.listPet.addItem(g)}0<a.userData.car&&WorldMapController.updateMainCarPos(a.userData.car,this.spriteCar,this.spriteHead)};FriendInfoController.onListItemClick=function(a){this.param.isMy&&UserManager.getPetCount()>=petIconVisibleCount&&(this.back(),PetDetailsController.showLoading())};
FriendInfoController.onButtonLike=function(){audio.playSound(GameMusicType.kButtonClick);var a=this;WaitingDialogController.show();HttpHelper.addLike(this,this.data.playerId,function(c,d){WaitingDialogController.hide();0==c?(a.flyLikeButton(),UserManager.addLoveFriend(a.data.playerId)):TipDialogController.showTip(ErrMsg(c))})};
FriendInfoController.flyLikeButton=function(){var a=this,c=this.labelLike.convertToWorldSpace(ccp(0,0)),c=this.btnLike.getParent().convertToNodeSpace(c),d=[];d.push(cc.moveTo(0.35,c));d.push(cc.scaleTo(0.2,0.15));d.push(cc.hide(!0));d.push(cc.callFunc(function(){a.labelLike.setString(TextTable.t_topCardPraise_title+(a.data.love+1))}));this.btnLike.runAction(cc.sequence(d))};
FriendInfoController.onButtonDelete=function(){var a=this;QueryDialogController.show({text:"\u786e\u5b9a\u5220\u9664\u597d\u53cb\uff1f",listener:function(c){c&&a.deleteFriend()}})};FriendInfoController.deleteFriend=function(){var a=[this.data.playerId],c=this;WaitingDialogController.show();HttpHelper.deleteFriends(this,a,function(a){WaitingDialogController.hide();0==a?(RankListLayerController.post("onDeleteFriend",c.data.playerId),c.back()):TipDialogController.showTip(ErrMsg(a))})};
FriendInfoController.onButtonMetal=function(){var a={propId:ItemType.MEDAL,amount:0,pos:this.btnDelete.getPosition()};ItemTipController.show(a)};FriendInfoController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};FriendInfoController.onButtonQQFriend=function(){this.data.openId?TencentSdkManager.addQQFriend({openId:this.data.openId,nickName:this.data.name}):FriendInfoController.addQQFriendCallback()};
FriendInfoController.addQQFriendCallback=function(){this.btnQQFreind.setVisible(!1);TipDialogController.showTip(TextTable.t_ecode200277)};FriendInfoController.back=function(){EffectHelper.dialogLeftHide(this)};AchievementController=createController("AchievementController");AchievementController.onViewCreate=function(){return loadccb(GetAssetsPath("Achievement.ccbi"),this)};AchievementController.onViewOpen=function(){this.registerEvent("event.ui.update");cc.spriteFrameCache.addSpriteFrames(GetAssetsPath("prop.plist"));cc.spriteFrameCache.addSpriteFrames(GetAssetsPath("equipments.plist"));this.reset()};AchievementController.onEvents=function(a,c){"event.ui.update"==a&&this.updateUI()};
AchievementController.reset=function(){this.tabIdx=0;this.updateUI();var a=1,c=null;this.param&&(c=this.param,a=MetaHelper.achieveDict[c].tab);this.showTabButton(a,c)};
AchievementController.resetListView=function(a,c){a=a||1;this.unregisterUpdate("update");this.focusOnId=0;this.listHolder=[];this.listView.removeAllItems();for(var d=[],e=table.insert,f=AchievementManager,g=1;g<=MetaHelper.achieveList.length;g++){var h=MetaHelper.achieveList[g-1];if(h.tab==a&&!1!=h.isopen){var m=h.id;f.isAchieveRewarded(m)||f.isAchieveCompleted(m)?e(d,h):(m=h.showCondition)?f.isAchieveRewarded(m)&&e(d,h):e(d,h)}}table.sort(d,function(a,c){var d=a.id,e=c.id,g=f.isAchieveRewarded(d),
h=f.isAchieveRewarded(e),m=!g&&f.isAchieveCompleted(d),n=!h&&f.isAchieveCompleted(e);return m==n?m||g==h?d<e:h:m});var n=this,r=0,e=function(){if(!(r>=d.length)){r++;var a=d[r-1],c={},e=loadccb(GetAssetsPath("AchievementItem.ccbi"),c,n),g=a.id;c.labelTitle.setString(a.name);c.labelDesc.setString(a.desc);c.btnGet.setTag(g);c.labelCrown.setString("+"+a.achieveNum);c.btnHelp.setVisible(10==a.type);c.btnHelp.setTag(g);c.id=g;var h=f.getAchieveProgress(g),m=h[0],h=h[1];f.isAchieveRewarded(g)?(c.spriteStamp.setVisible(!0),
c.spIng.setVisible(!1),c.btnGet.setVisible(!1),c.labelProgress.setString(h+"/"+h),c.progBar.setPercentage(100),a=AchievementManager.getAchieveRewardInfo(a.id),c.labelTime.setString(os.date("%Y/%m/%d",a.value)),c.btnHelp.setVisible(!1)):(c.labelProgress.setString(m+"/"+h),c.progBar.setPercentage(m/h*100),c.spriteStamp.setVisible(!1),c.btnGet.setVisible(m>=h),c.spIng.setVisible(m<h));(a=MetaHelper.getAchieveMeta(g))&&a.rewards&&(m=a.rewards[0],a=m[0],m=m[1],h=GameIconHelper.getIconFrameName(a,m),c.spriteReward.setDisplayFrameName(h),
c.spriteReward.setTag(g),g=ServerProxy.getItemType(a),g==ItemType.EQUIP?c.spriteReward.setNodeScale(0.8,0.8):g==ItemType.CAR?c.spriteReward.setNodeScale(1,1):g!=ItemType.COIN&&g!=ItemType.DIAMOND||c.spriteReward.setNodeScale(1.2,1.2),c.labelRewardCount.setString("x"+m));n.listHolder[r-1]=c;n.listView.addItem(e)}};this.curTotalListLength=h=d.length;for(g=1;6>=g;++g)e();this.listView.unregisterPreloadListener();6<h&&this.listView.registerPreloadListener(0.1,0.05,e);n.checkJumpTo(c,d)};
AchievementController.checkJumpTo=function(a,c){if(a){for(;;){var d=MetaHelper.achieveDict[a].showCondition;if(!d||AchievementManager.isAchieveRewarded(d))break;a=d}if(a){for(var e=d=0,f=c.length;e<f;e++)if(c[e].id==a){d=e+1;break}0<d&&(this.listView.moveListItemTo(d),EffectHelper.shakeLightly(this.listView.getListItem(d)))}}};
AchievementController.updateUI=function(){var a=MetaHelper.getTotalAchieveCount(),c=UserManager.getAchieveCount();this.labelAchievePoint.setString(UserManager.getTotalAchievePoint());this.labelProgress.setString(c+"/"+a);a=!1;for(c=1;5>=c;++c){var d=AchievementManager.getAchieveReadyCountByTab(c);this["spriteDot"+c].setVisible(0<d);0<d&&(a=!0)}this.btnGetAll.setEnabled(a)};
AchievementController.onClickRewardSprite=function(a,c){var d=MetaHelper.getAchieveMeta(a).rewards[0];ItemTipController.showWithButton(d[0],d[1],c,d[2])};
AchievementController.showTabButton=function(a,c){a=a||1;for(var d=1;5>=d;d++)this["btnTab"+d].setDisplayFrameName("task_achieve_tab1.png"),this["spriteTab"+d].setDisplayFrameName("task_txt_blue"+d+".png");this["btnTab"+a].setDisplayFrameName("task_achieve_tab2.png");this["spriteTab"+a].setDisplayFrameName("task_txt_red"+a+".png");this.resetListView(a,c);this.tabIdx=a};AchievementController.onButtonTab=function(a){this.tabIdx!=a&&this.showTabButton(a)};
AchievementController.onButtonGet=function(a,c){audio.playSound(GameMusicType.kButtonClick);var d=this.listView.getPositionByNode(c),e=this.listHolder[d-1].labelCrown,f=this.listHolder[d-1].spriteReward;WaitingDialogController.show();var g=this;HttpHelper.rewardAchieves(this,[a],function(c){WaitingDialogController.hide();0==c?((c=MetaHelper.getAchieveMeta(a))&&g.playGetOneRewardEffect(f,e,c),g.resetListView(g.tabIdx),notification.postEvent("event.ui.update")):TipDialogController.showTip(ErrMsg(c))})};
AchievementController.onButtonGetAll=function(a,c){audio.playSound(GameMusicType.kButtonClick);for(var d=[],e=AchievementManager,f=1;f<=MetaHelper.achieveList.length;f++){var g=MetaHelper.achieveList[f-1];!1!=g.isopen&&(g=g.id,!e.isAchieveRewarded(g)&&e.isAchieveCompleted(g)&&d.push(g))}WaitingDialogController.show();var h=this;HttpHelper.rewardAchieves(this,d,function(a){WaitingDialogController.hide();0==a?(h.resetListView(h.tabIdx),notification.postEvent("event.ui.update"),TipDialogController.showTip(TextTable.t_getSuccess)):
TipDialogController.showTip(ErrMsg(a))})};AchievementController.onButtonHelp=function(a){audio.playSound(GameMusicType.kButtonClick);var c=MetaHelper.getAchieveMeta(a);if(c&&10==c.type){a=[];for(var c=string.split(c.target,","),d=1;d<=c.length;d++)a[d-1]=tonumber(c[d-1]);AchievementDetailController.showTip(a)}};
AchievementController.playGetOneRewardEffect=function(a,c,d){var e;e=a?a.convertToWorldSpace(a.getAnchorPointInPoints()):ccp(0.5*display.width,0.5*display.height);c?(a=c.convertToWorldSpace(c.getAnchorPointInPoints()),a.x-=30,a.y+=10):a=ccp(0.5*display.width,0.5*display.height);this.performInPairs(d.rewards,function(a,c){EffectHelper.itemFlyToUIAnim(c[0],c[1],e,this.layer)},0.3);c=cc.Sprite.createWithSpriteFrameName("task_ico_crown.png");this.layer.addChild(c);EffectHelper.flyRewardAnim(c,a,this.spriteAchievePoint);
for(a=0;a<d.rewards.length;a++)if(c=d.rewards[a]){c=c[0];var f=ServerProxy.getItemType(c);TencentSdkManager.txsdkLog("playGetOneRewardEffect itemID "+c+"itemType "+f);if(f==ItemType.CAR){ShareController.showLoading({shareType:"get_new_car",carId:c},null,["ShareNewCarDialog"]);break}else if(f==ItemType.PET){d=Math.random2(1,5);ShareController.showLoading({shareType:"pet_shot_cloth",petId:c,txtIdx:d,feedId:1016});break}}};AchievementDetailController=createController("AchievementDetailController");AchievementDetailController.onViewCreate=function(){return loadccb(GetAssetsPath("AchievementDetail.ccbi"),this)};AchievementDetailController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back)};AchievementDetailController.onViewOpened=function(a){EffectHelper.dialogLeftShow(this)};AchievementDetailController.showTip=function(a){this.isShowing||this.show();this.updateContent(a)};
AchievementDetailController.updateContent=function(a){var c=this.allItemNode.getChildren();a=a||[];for(var d=0;d<c.length;++d)if(d+1>a.length)c[d].setVisible(!1);else{var e=a[d];AchievementManager.isAchieveRewarded(e)||AchievementManager.isAchieveCompleted(e)||c[d].setColor(cc.color._getGray());e=MetaHelper.getAchieveMeta(e);c[d].setString(e.name)}};AchievementDetailController.back=function(){this.onButtonBack()};AchievementDetailController.onButtonBack=function(){this.hide()};AchievementTipController=createController("AchievementTipController");AchievementTipController.onViewCreate=function(){return loadccb(GetAssetsPath("AchievementTip.ccbi"),this)};AchievementTipController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);var a=this;this.registerScriptTouchHandler(function(c,d,e){return a.nodeDialog.containWorldPoint(d,e)?!0:(a.back(),!1)},!1,0,!0);this.reset()};
AchievementTipController.reset=function(){var a=MetaHelper.getAchieveMeta(this.param);if(a){this.labelTitle.setString(a.name);this.labelCrown.setString("+"+a.achieveNum);this.nodeDialog.setPositionX(-500);this.nodeDialog.runAction(cc.moveBy(0.4,ccp(485,0)).easing(cc.easeOut(0.25)));var c=this;this.performDelay(function(){c.nodeDialog.runAction(cc.moveBy(0.2,ccp(-485,0)))},3);this.performDelay(function(){c.hide()},3.2);this.nodeLight.runAction(cc.repeatForever(cc.rotateBy(5,360)))}else this.hide()};
AchievementTipController.onButtonGet=function(a){audio.playSound(GameMusicType.kButtonClick)};AchievementTipController.onButtonBack=function(){this.back()};AchievementTipController.back=function(){PopoutQueue.removeController("AchievementTipController");this.hide()};BoxType={Daily:0,Week:1};WeekBoxID=[1,2];DailyTaskController=createController("DailyTaskController");DailyTaskController.onViewCreate=function(){return loadccb(GetAssetsPath("DailyTask.ccbi"),this,null,null,null)};DailyTaskController.onViewOpen=function(){HuskyTaskManager.onEvents("event.ui.pageOpen",{pageIndex:5});this.resetList();this.initAllBox();this.updateActiveArea()};
DailyTaskController.resetList=function(){this.listHolder=[];this.listView.removeAllItems();var a=[],c;for(c in DailyTaskManager.dailyTaskProgress)a.push(DailyTaskManager.dailyTaskProgress[c]);table.sort(a,function(a,c){var d=a.progress>=a.target,e=c.progress>=c.target,f=UserManager.isTaskAccomplished(a.id),g=UserManager.isTaskAccomplished(c.id);return f!=g?f<g:d!=e?d>e:a.taskId<c.taskId});var d=this,e=0;c=function(){if(!(e>=a.length)){e++;var c=d.createTaskItem(a[e-1],d.listHolder);d.listView.addItem(c)}};
for(var f=a.length,g=1;3>=g;++g)c();this.listView.unregisterPreloadListener();3<f&&this.listView.registerPreloadListener(0.1,0.05,c)};
DailyTaskController.createTaskItem=function(a,c){var d=MetaHelper.taskDict[a.id],e=MetaHelper.taskTypeDict[d.taskType].active,f={},g=loadccb(GetAssetsPath("DailyTaskItem.ccbi"),f,this);f.activeValueLabel.setString("+"+e);f.progBar.setPercentage(100*a.progress/a.target);f.labelProgress.setString(a.progress+"/"+a.target);f.btnChange.setVisible(0==UserManager.getChangeTaskTimes()&&a.progress<a.target&&a.replaceTask);f.btnChange.setTag(c.length);f.taskDesc.setString(DailyTaskManager.getTaskDesc(a));f.titleTxt.setDisplayFrameName("task_daily_item_title"+
d.taskType+".png");f.taskId=a.id;UserManager.accomplishTaskDict[a.id]?f.completeIcon.setVisible(!0):(d=a.progress<a.target?f.btnGoFinish:f.btnFinish,d.setVisible(!0),f.btnChange.isVisible()||d.setPositionY((d.getPositionY()+f.btnChange.getPositionY())/2),d.setTag(c.length));c.push(f);return g};
DailyTaskController.initAllBox=function(){this.maxActive=MetaHelper.gameMeta.taskBox[MetaHelper.gameMeta.taskBox.length-1].active;for(var a=1;5>a;++a)this["btnKitNode"+tostring(a)].setTag(a),this["activeBoxNum"+a].setString(MetaHelper.taskBoxDict[a].active);for(a=0;a<WeekBoxID.length;++a)this["weekButton"+WeekBoxID[a]].setTag(WeekBoxID[a]);for(a=1;3>a;++a)this["labelWeekBoxActive"+a].setString(MetaHelper.weekBoxDict[a].active)};
DailyTaskController.updateActiveBox=function(a){var c=MetaHelper.taskBoxDict[a+1].active<=UserManager.getActiveNum();3>a&&this["spBoxGray"+tostring(a+1)].setVisible(!c);this["spBoxGet"+tostring(a+1)].setVisible(c&&!UserManager.isTaskBoxRecieved(a+1));this["activeBoxNum"+tostring(a+1)].setVisible(!this["spBoxGet"+tostring(a+1)].isVisible());this["spBoxBgGray"+tostring(a+1)].setVisible(!c);this["okSpr"+tostring(a+1)].setVisible(UserManager.isTaskBoxRecieved(a+1))};
DailyTaskController.updateWeekBox=function(a){var c=MetaHelper.weekBoxDict[a].active;this["weekBoxLight"+a].setVisible(!1);c<=UserManager.getWeekActiveValue()?(c=UserManager.isWeekBoxRecieved(a),this["weekButton"+a].setEnabled(!c),c?(this["spTip"+a].setVisible(!1),this["nodeWeekBox"+a].setVisible(!1),this["spWeekBoxGeted"+a].setVisible(!0)):(this["spTip"+a].setVisible(!0),this["nodeWeekBox"+a].setVisible(!0),this["spWeekBoxGeted"+a].setVisible(!1))):(this["spTip"+a].setVisible(!1),this["nodeWeekBox"+
a].setVisible(!0),this["spWeekBoxGeted"+a].setVisible(!1))};DailyTaskController.updateActiveArea=function(){this.todayActiveLabel.setString(UserManager.getActiveNum());this.weekActiveLabel.setString(UserManager.getWeekActiveValue());this.progressActive.stopAllActions();this.progressActive.runAction(cc.progressTo(0.7,100*UserManager.getActiveNum()/this.maxActive));this.btnGetAll.setEnabled(0<DailyTaskManager.getReadyTaskCount());for(var a=0;4>a;++a)this.updateActiveBox(a);for(a=0;a<WeekBoxID.length;++a)this.updateWeekBox(WeekBoxID[a])};
DailyTaskController.onGoFinishClicked=function(a){switch(MetaHelper.taskDict[this.listHolder[a].taskId].type){case DailyTaskType.DES_FRUIT:case DailyTaskType.DES_BLOCK:case DailyTaskType.PASS_DIFF_PET:case DailyTaskType.TRIGGER_EFFECT:case DailyTaskType.GET_STAR:case DailyTaskType.USE_COIN:case DailyTaskType.USE_PRE_PROP:case DailyTaskType.PASS_WITH_PET:case DailyTaskType.USE_PROP:StartGameController.show({level:UserManager.getTopLevel()});break;case DailyTaskType.WEEK_RANK_RACE:break;case DailyTaskType.FRIEND_REQUEST:case DailyTaskType.SEND_ENERGY:RankListLayerController.show();
break;case DailyTaskType.ENERGY_BOTTLE:MailCenterController.showLoading(1);break;case DailyTaskType.TURN_TABLE:WorldMapUIController.onButtonActivity();break;case DailyTaskType.TIME_LEVEL:GameHelper.openUI("time_level");break;case DailyTaskType.PET_EXP:PetLevelUpController.showLoading({petId:UserManager.getMainPetId()});break;default:TipDialogController.showTip("\u8be5\u4efb\u52a1\u65e0\u6cd5\u8df3\u8f6c~");return}TaskLayerController.onButtonBack()};
DailyTaskController.onFinishClicked=function(a,c){var d=this.listHolder[a].taskId;if(UserManager.isTaskAccomplished(d))TipDialogController.showTip("\u4e00\u4e2a\u4efb\u52a1\u53ea\u80fd\u5b8c\u6210\u4e00\u6b21\u54e6\uff5e");else{var e=this,f=this.listHolder[a].activeValueLabel,g=f.convertToWorldSpace();WaitingDialogController.show();HttpHelper.finishDailyTask(this,[d],function(a){WaitingDialogController.hide();0==a?(f.removeFromParent(),GameDirector.getRunningScene().addChild(f),e.resetList(),EffectHelper.flyRewardAnim(f,
g,e.icoActive,function(){e.isShowing&&e.updateActiveArea()},0)):TipDialogController.showTip(ErrMsg(a))})}};
DailyTaskController.onButtonGetAll=function(){var a=[],c;for(c in DailyTaskManager.dailyTaskProgress){var d=DailyTaskManager.dailyTaskProgress[c];!UserManager.accomplishTaskDict[d.id]&&d.progress>=d.target&&a.push(d.id)}var e=this;WaitingDialogController.show();HttpHelper.finishDailyTask(this,a,function(a,c){WaitingDialogController.hide();0==a?c.id&&0<c.id.length?(e.resetList(),e.updateActiveArea(),TipDialogController.showTip(TextTable.t_getSuccess)):TipDialogController.showTip(ErrMsg(100379)):TipDialogController.showTip(ErrMsg(a))})};
DailyTaskController.onChangeClicked=function(a){if(0<UserManager.getChangeTaskTimes())TipDialogController.showTip("\u60a8\u4eca\u5929\u4e0d\u80fd\u518d\u66f4\u6362\u4efb\u52a1\u4e86\u54e6~");else{var c=this;WaitingDialogController.show();HttpHelper.changeDailyTask(this,this.listHolder[a].taskId,function(a){WaitingDialogController.hide();0==a?c.resetList():TipDialogController.showTip(ErrMsg(a))})}};
DailyTaskController.onButtonKitItem=function(a,c){if(MetaHelper.taskBoxDict[a].active<=UserManager.getActiveNum()&&!UserManager.isTaskBoxRecieved(a)){var d=this;WaitingDialogController.show();HttpHelper.finishDailyTaskBox(this,a,BoxType.Daily,function(e){WaitingDialogController.hide();0==e?(d.updateActiveBox(a-1),d.playBoxRewardAnim(a,!0,c)):TipDialogController.showTip(ErrMsg(e))})}else this.showBoxTip(a,!0,c)};
DailyTaskController.playBoxRewardAnim=function(a,c,d){a=c?MetaHelper.taskBoxDict[a]:MetaHelper.weekBoxDict[a];for(c=0;c<a.rewards.length;++c){var e=a.rewards[c];EffectHelper.itemFlyToUIAnim(e[0],e[1],d,null,function(){WorldMapUIController.updateUI()})}};
DailyTaskController.onWeekButton=function(a,c){if(MetaHelper.weekBoxDict[a].active<=UserManager.getWeekActiveValue()&&!UserManager.isWeekBoxRecieved(a)){var d=this;WaitingDialogController.show();HttpHelper.finishDailyTaskBox(this,a,BoxType.Week,function(e){WaitingDialogController.hide();0==e?(d.updateWeekBox(a),d.playBoxRewardAnim(a,!1,c)):TipDialogController.showTip(ErrMsg(e))})}else this.showBoxTip(a,!1,c)};
DailyTaskController.showBoxTip=function(a,c,d){for(var e=c?MetaHelper.taskBoxDict[a]:MetaHelper.weekBoxDict[a],f=(c?"t_text_name_dayBox_":"t_text_name_weekBox_")+a,g={},h=0;h<e.rewards.length;++h){var m=e.rewards[h];g["name"+m[0]]=GameIconHelper.getItemName(m[0]);g["num"+m[0]]=m[1]}e={text:string.expand(TextTable[(c?"t_text_desc_dayBox_":"t_text_desc_weekBox_")+a],g)+(c&&UserManager.isTaskBoxRecieved(a)?"\n(\u5df2\u9886\u53d6)":""),name:TextTable[f],pos:ItemTipController.getPosByButton(d)};c&&4==
a&&(a=d.boundingBoxInWorld(),e.pos=ccp(e.pos.x-a.width/2,e.pos.y));ItemTipController.show(e)};PrizeCupController=createController("PrizeCupController");PrizeCupController.onViewCreate=function(){return loadccb(GetAssetsPath("PrizeCup.ccbi"),this)};PrizeCupController.onViewOpen=function(){this.reset()};PrizeCupController.onViewClose=function(){for(var a=UserManager.getMainCar(),c=a,d=1;d<=this.listHolder.length;d++){var e=this.listHolder[d-1];if(e.spriteRight.isVisible()){c=e.id;break}}a!=c&&HttpHelper.setMainCar(this,c)};
PrizeCupController.reset=function(){this.listHolder=[];this.listView.removeAllItems();var a=this;this.listView.registerScriptListener(function(c,e,f){if(a.listHolder[c].spriteLock.isVisible())ItemSourceDialogController.show(a.listHolder[c].id);else{for(e=1;e<=a.listHolder.length;e++)a.listHolder[e-1].spriteRight.setVisible(!1);a.listHolder[c].spriteRight.setVisible(!0)}});var c=MetaHelper.getCarList();this.performForLoop(1,c.length,function(d){var e=c[d-1],f={},g=loadccb(GetAssetsPath("PrizeCupItem.ccbi"),
f,a);f.id=e.id;f.labelName.setString(e.name);f.spriteCar.setDisplayFrameName(GameIconHelper.getIconFrameName(e.id));f.spriteLock.setVisible(!UserManager.hasCar(e.id));f.spriteRight.setVisible(UserManager.getMainCar()==e.id);a.listHolder[d-1]=f;a.listView.addItem(g)},0.05,"update");this.labelProgress.setString(UserManager.getCarCount()+"/"+c.length)};TaskLayerTab={DailyTask:1,Achievement:2,Car:3};TaskLayerController=createController("TaskLayerController");TaskLayerController.onViewCreate=function(){return loadccb(GetAssetsPath("TaskLayer.ccbi"),this)};TaskLayerController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back)};
TaskLayerController.onViewOpened=function(){this.initTab();var a=TaskLayerTab.DailyTask,c=null;this.param?(a=this.param.tab,c=this.param.arg):0<DailyTaskManager.getReadyTaskCount()?a=TaskLayerTab.DailyTask:0<AchievementManager.getAchieveReadyCount()&&(a=TaskLayerTab.Achievement);this.showTabButton(a,c);EffectHelper.dialogLeftShow(this);DailyTaskController.isShowing&&EffectHelper.dialogLeftShow(DailyTaskController,null,!0);AchievementController.isShowing&&EffectHelper.dialogLeftShow(AchievementController,
null,!0);PrizeCupController.isShowing&&EffectHelper.dialogLeftShow(PrizeCupController,null,!0)};TaskLayerController.initTab=function(){if(!MetaHelper.isFuncUnlock(MenuItemTag.Menu_Tag_DailyTask)){for(var a=TaskLayerTab.Car+1;--a>TaskLayerTab.DailyTask;)this["tabNode"+a].setPosition(this["tabNode"+(a-1)].getPosition());this["tabNode"+a].setVisible(!1)}};
TaskLayerController.showTabButton=function(a,c){a!=TaskLayerTab.DailyTask||MetaHelper.isFuncUnlock(MenuItemTag.Menu_Tag_DailyTask)||(a=TaskLayerTab.Achievement);for(var d=[{btn:this.btnDaily,tag1:this.tagDaily1,tag2:this.tagDaily2,controller:DailyTaskController,getCount:DailyTaskManager.getReadyTaskCount()},{btn:this.btnAchieve,tag1:this.tagAchieve1,tag2:this.tagAchieve2,controller:AchievementController,getCount:AchievementManager.getAchieveReadyCount()},{btn:this.btnCar,tag1:this.tagCar1,tag2:this.tagCar2,
controller:PrizeCupController}],e=0;e<d.length;++e){var f=a==e+1,g=d[e];g.btn.setPressDown(f);g.tag1.setVisible(f);g.tag2.setVisible(!f);f?g.controller.show(c):g.controller.hide();void 0!==g.getCount&&this["tipDot"+(e+1)].setVisible(0<g.getCount&&a!=e+1)}};TaskLayerController.onButtonAchieve=function(){audio.playSound(GameMusicType.kButtonClick);this.showTabButton(TaskLayerTab.Achievement)};TaskLayerController.onButtonCar=function(){audio.playSound(GameMusicType.kButtonClick);this.showTabButton(TaskLayerTab.Car)};
TaskLayerController.onButtonDailyTask=function(){audio.playSound(GameMusicType.kButtonClick);this.showTabButton(TaskLayerTab.DailyTask)};TaskLayerController.onButtonBack=function(){audio.playSound(GameMusicType.kButtonClick);this.back()};TaskLayerController.back=function(){this.hide();DailyTaskController.hide();AchievementController.hide();PrizeCupController.hide();WorldMapUIController.updateTaskTip()};TimeLevelClearController=createController("TimeLevelClearController");TimeLevelClearController.onViewCreate=function(){return loadccb(GetAssetsPath("TimeLevelClear.ccbi"),this,null,null,null,["spriteHead","spriteGoal"])};
TimeLevelClearController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"keypad",this.back);this.reset();var a=this;EffectHelper.dialogLeftShow(this,function(){a.actionShowEnd();var c=cc.ParticleSystem.create(GetAssetsPath("falling_paper.plist"));c.setPosition(0.5*display.width,display.height);a.layer.addChild(c)});this.initRoomInfo()};TimeLevelClearController.initRoomInfo=function(){var a=this.param&&this.param.roomId;if(a&&(a=UserManager.getRoomInfo(a)))this["switch"](3,a)};
TimeLevelClearController.actionShowEnd=function(){};
TimeLevelClearController.reset=function(){if(null!=this.param){var a=this.param.srcStar,c=this.param.score,d=this.param.srcScore,e=this.param.level;this.labelGameScore.setNumber(d,0);var f=UserManager.getMainPetId();this.skelPet.reloadWithCache(GetAssetsPath("anim"+f+".json"));PetHelper.setPetEquipByPetID(this.skelPet,f);1==a?this.skelPet.setAnimation(0,"stand",!0):2==a?this.skelPet.setAnimation(0,"happy1",!0):this.skelPet.setAnimation(0,"happy2",!0);this.lastPetLevel=this.param.lastPetLevel;this.lastPetExp=
this.param.lastPetExp;this.lastPetNextLevelExp=this.param.lastPetNextLevelExp;this.labelPetLevel.setString(this.lastPetLevel);a=MetaHelper.getPetLevelMax()[0];this.lastPetLevel==a?(this.petFullLevle=!0,this.labelPetExp.setString(TextTable.t_Pet_Maxexp),this.progPetExp.setPercentage(100)):(this.labelPetExp.setString(this.lastPetExp+"/"+this.lastPetNextLevelExp),this.progPetExp.setPercentage(100*this.lastPetExp/this.lastPetNextLevelExp));if(a=this.param.rewards.levelRewards)for(f=1;f<=a.length;++f){var g=
a[f-1];g[0]==ItemType.COIN&&notification.postEvent("event.game.gameCoin",{count:g[1]})}f=0;a&&(0<a.length&&a[a.length-1][0]==ItemType.COIN&&(f=a[a.length-1][1]),this.updateRewardUI(a));this.labelScoreBonus.setNumber(c-d,1,"+");this.labelCoinBonus.setNumber(f,1,"+");(c=CacheHelper.getMyLevelWorldRank(e))&&0<MetaHelper.getWorldRankBadge(c)&&this.spMetal.setVisible(!0);this.spInviteQQ.setVisible(!1);this.spInviteWX.setVisible(!0)}};
TimeLevelClearController.updateRewardUI=function(a){for(var c={},d=0,e=0;e<a.length;e++){var f=a[e],g=f[0],f=f[1];g!=ItemType.PET_EXP&&(null==c[g]&&(c[g]=0,d++),c[g]+=f)}a=this.nodeReward.getContentWidth();e=0;for(g in c){f=cc.Sprite.createWithSpriteFrameName(GameIconHelper.getIconFrameName(g));this.nodeReward.addChild(f);var h=AnimateBMFontNumber.create(0,GetAssetsPath("num_score_white2.fnt"));f.addChild(h);h.setPosition(60,20);f.setPositionX((e+1)*a/(d+1));h.setNumber(c[g],0,"x");e++}};
TimeLevelClearController["switch"]=function(a,c){var d=c.roomId==UserManager.getMyRoomId();this.labelStateTitle.setVisible(!d);this.btnStateInvite.setVisible(d);this.btnStateShare.setVisible(d);this.initFriendList(c)};TimeLevelClearController.initFriendHead=function(a,c){var d=CacheHelper.getUserInfoWithDefault(c);GameHelper.loadHeadSprite(a,d.headUrl,!0)};
TimeLevelClearController.initFriendList=function(a){if(a)for(var c=1;c<=a.completeFriend.length&&3>=c;c++)this.initFriendHead(this.spriteHead[c-1],a.completeFriend[c-1])};TimeLevelClearController.onButtonStateInvite=function(){audio.playSound(GameMusicType.kButtonClick);TimeLevelController.inviteFriend(this)};TimeLevelClearController.onButtonStateShare=function(){var a=UserManager.getMyRoomId();TimeLevelController.shareFriend(a)};
TimeLevelClearController.onButtonNext=function(){audio.playSound(GameMusicType.kButtonClick);SceneHelper.popScene({reason:"timelevel",level:this.param.level,autoNext:!1,notAnimated:!1})};TimeLevelClearController.onButtonBack=function(){audio.playSound(GameMusicType.kButtonClick);this.back()};TimeLevelClearController.back=function(){SceneHelper.popScene({reason:"timelevel",level:this.param.level,autoNext:!1,notAnimated:!1})};TimeLevelController=createController("TimeLevelController");TimeLevelState={kStart:0,kPass:1,kReward:2,kFailed:3,kNothing:4,kWaitting:10};TimeLevelController.openWithRequest=function(a,c,d,e,f){WaitingDialogController.show();HttpHelper.getTimeLevelInfo(a,c,function(g,h){WaitingDialogController.hide();0==g&&UserManager.resetTimeLevel(h);c&&f?f(g,h):0==g?(TimeLevelController.showLoading({pareIdx:e}),d&&a.hide()):TipDialogController.showTip(ErrMsg(g))})};
TimeLevelController.isAutoOpen=function(){return this.autoData?(PopoutQueue.push("TimeLevelController",this.autoData),this.autoData=null,!0):!1};TimeLevelController.setAutoOpen=function(a,c){this.autoData={pageIdx:a,errCode:c}};TimeLevelController.onViewCreate=function(){return loadccb(GetAssetsPath("TimeLevel.ccbi"),this,null,null,null,["btnTag","tagBG1","tagBG2"])};
TimeLevelController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"keypad",this.back);cc.spriteFrameCache.addSpriteFrames(GetAssetsPath("prop.plist"));cc.spriteFrameCache.addSpriteFrames(GetAssetsPath("equipments.plist"));TimeLevelTipController.show();this.reset();EffectHelper.dialogLeftShow(this,null,!0)};
TimeLevelController.reset=function(){this.state=this.getCurState();var a=this,c=this.getShowPageIndex();this.pageLayer.setTouchEnabled(!1);this.pageLayer.setPageSize(2);this.pageLayer.setPageView(this.buildPage1(),1);this.pageLayer.setPageView(this.buildPage2(),2);this.pageLayer.registerScriptListener(function(c,e){"select"==c&&a.showTabButton(e)});this.pageLayer.moveToPage(c);this.registerUpdate("update_my_level",this.updateMyLevel,1);this.updateMyLevel();this.param&&this.param.errCode&&TipDialogController.showTip(ErrMsg(this.param.errCode))};
TimeLevelController.getShowPageIndex=function(){return this.state==TimeLevelState.kNothing&&0<UserManager.getFriendRooms().length?2:this.param&&this.param.pageIdx||1};TimeLevelController.getCurState=function(){var a=UserManager.getMyRoomId();return this.getRoomStateById(a)};TimeLevelController.getCurLeftTime=function(){var a=UserManager.getMyRoomId();return this.getRoomLeftTimeById(a)};TimeLevelController.getCurRoomInfo=function(){var a=UserManager.getMyRoomId();return UserManager.getRoomInfo(a)};
TimeLevelController.getRoomStateById=function(a){var c=UserManager.getRoomInfo(a);printf("------state",a,this.getRoomState(c));return this.getRoomState(c)};TimeLevelController.getRoomLeftTimeById=function(a){a=UserManager.getRoomInfo(a);return this.getRoomLeftTime(a)};
TimeLevelController.getMiniLeftTime=function(){for(var a=UserManager.userData.timeLevelInfo.rooms,c=UserManager.getPlayerId(),d=0,e=0,f=1;f<=a.length;f++){var g=a[f-1],h=g.completeFriend||[];if(3<=h.length)table.includes(h,c)&&(e+=1);else if(2!=h.length||g.ownId==c||table.includes(h,g.ownId))g=this.getRoomLeftTime(g),0<g&&(d>g||0==d)&&(d=g),0<g&&!table.includes(h,c)&&(e+=1)}return[d,e]};TimeLevelController.getRoomLeftTime=function(a){var c=1E3*DataHelper.getSimulatorTs();return a.overTime-c};
TimeLevelController.getRoomState=function(a){if(!a)return TimeLevelState.kNothing;var c=UserManager.getPlayerId(),d=this.getRoomLeftTime(a);return 3<=a.completeFriend.length?table.includes(a.completeFriend,c)?TimeLevelState.kReward:TimeLevelState.kFailed:0>=d?TimeLevelState.kFailed:table.includes(a.completeFriend,c)?TimeLevelState.kPass:2!=a.completeFriend.length||a.ownId==c||table.includes(a.completeFriend,a.ownId)?TimeLevelState.kStart:TimeLevelState.kFailed};
TimeLevelController.showTabButton=function(a){for(var c=1;c<=this.btnTag.length;c++)this.btnTag[c-1].setPressDown(a==c),this.tagBG1[c-1].setVisible(a==c),this.tagBG2[c-1].setVisible(a!=c);TimeLevelTipController["switch"](a)};
TimeLevelController.buildPage1=function(){if(this.state==TimeLevelState.kStart){var a=loadccb(GetAssetsPath("TimeLevelLevelMy.ccbi"),this);this.initMyLevelUI()}else this.state==TimeLevelState.kNothing?(this.nodeDialog.setPositionY(0.5*display.height),TimeLevelTipController.hideTip(),a=loadccb(GetAssetsPath("TimeLevelNoneState.ccbi"),this),21>UserManager.getTopLevel()&&this.labelNoneTips.setString(TextTable.t_TimeLevel_text_22)):(this.nodeDialog.setPositionY(0.5*display.height),TimeLevelTipController.hideTip(),
a=loadccb(GetAssetsPath("TimeLevelMyState.ccbi"),this,null,null,null,["spriteHeadMy","spriteGoalMy"]),this.spStateReward.setNodeScale(0.5),this.labelStateCount.setVisible(!1),this.spInviteQQ.setVisible(!1),this.spInviteWX.setVisible(!0),this.initMyStateUI());return a};
TimeLevelController.buildPage2=function(){if(0<UserManager.getFriendRooms().length){var a=loadccb(GetAssetsPath("TimeLevelLevelList.ccbi"),this);this.initFriendUI()}else a=loadccb(GetAssetsPath("TimeLevelNoneState.ccbi"),this),this.labelNoneTips.setString(TextTable.t_TimeLevel_text_23),this.btnNoneGo.setVisible(!1),this.btnNoneShare.setVisible(!0),this.spInviteNoneQQ.setVisible(!1),this.spInviteNoneWX.setVisible(!0);return a};
TimeLevelController.initFriendUI=function(){var a=UserManager.getFriendRooms();this.createLevelList(a);this.registerUpdate("update_friend_level",this.updateFriendLevel,1)};TimeLevelController.friendLevelOver=function(a,c){for(var d=1;d<=this.listLevelHolder.length;d++){var e=this.listLevelHolder[d-1];if(e.room.roomId==c){d=this.getRoomStateById(c);this.resetLevelItem(e,d);break}}};
TimeLevelController.updateFriendLevel=function(){for(var a=1;a<=this.listLevelHolder.length;a++){var c=this.listLevelHolder[a-1],d=this.getRoomLeftTime(c.room);c.state==TimeLevelState.kStart||c.state==TimeLevelState.kPass?0<=d?c.labelTime.setString(this.getLeftTimeText(d)):(c.state=TimeLevelState.kWaitting,this.requestRoomInfo(c.room.roomId,c.state,this.friendLevelOver)):c.state==TimeLevelState.kFailed&&0>=d&&c.labelTime.setString("\u5df2\u7ed3\u675f")}};
TimeLevelController.resetLevelItem=function(a,c){if(c==TimeLevelState.kStart)a.labelTime.setVisible(!0);else if(c==TimeLevelState.kPass)a.labelTime.setVisible(!0),a.btnFriendReward.setEnabled(!1),a.btnFriendShare.setVisible(!1);else if(c==TimeLevelState.kReward)a.labelTime.setVisible(!1),a.btnFriendReward.setEnabled(!0),a.btnFriendShare.setVisible(!1);else if(c==TimeLevelState.kFailed){a.btnFriendClear.setEnabled(!1);a.btnFriendClear.setVisible(!1);var d=(a.btnFriendDelete.getPositionX()+a.btnFriendClear.getPositionX())/
2;a.btnFriendDelete.setPositionX(d)}a.node1.setVisible(c==TimeLevelState.kStart);a.node2.setVisible(c==TimeLevelState.kReward||c==TimeLevelState.kPass);a.node3.setVisible(c==TimeLevelState.kFailed);a.state=c};
TimeLevelController.createLevelItem=function(a,c){var d={},e=loadccb(GetAssetsPath(c),d,this,null,null,["spriteHead","spriteGoal"]);d.room=a;var f=CacheHelper.getUserInfoWithDefault(a.ownId);d.labelTitle.setString(string.expand(TextTable.t_TimeLevel_text_14,{name:f.name}));for(f=1;f<=a.completeFriend.length&&3>=f;f++)this.initFriendHead(d.spriteHead[f-1],a.completeFriend[f-1]);d.labelPercent.setString(a.completeFriend.length+"/3");this.initFriendHead(d.spriteHeadSelf,a.ownId);if(a.finishRewards&&
a.finishRewards[0]){var f=a.finishRewards[0],g=GameIconHelper.getIconFrameName(f.itemId,f.value),h=GameIconHelper.getItemScale(f.itemId,f.value);d.spriteReward.setDisplayFrameName(g);d.spriteReward.setScale(d.spriteReward.getScale()*h);d.labelCount.setString("x"+f.value)}this.resetLevelItem(d,this.getRoomState(a));return[d,e]};
TimeLevelController.createLevelList=function(a){this.listLevel.removeAllItems();this.listLevelHolder=[];var c=this;this.performForLoop(1,a.length,function(d){var e=c.createLevelItem(a[d-1],"TimeLevelLevelItem.ccbi"),f=e[0];c.listLevel.addItem(e[1]);c.listLevelHolder[d-1]=f},0.05)};TimeLevelController.getClickHolder=function(a){a=this.listLevel.getPositionByNode(a);return this.listLevelHolder[a-1]};
TimeLevelController.removeFriendItem=function(a,c){UserManager.removeRoom(c);this.listLevel.removeItem(a,!0);table.remove(this.listLevelHolder,a-1);0==this.listLevelHolder.length&&(this.pageLayer.setPageView(this.buildPage2(),2),this.pageLayer.moveToPage(2))};TimeLevelController.onButtonNoneShare=function(){audio.playSound(GameMusicType.kButtonClick);var a=MathUtils.random(1,6);XCXManager.shareMessage({feedID:3004,title:TextTable["t_sharetitle3004_"+a],desc:TextTable["t_sharefeed3004_"+a],query:"from\x3dinvite"})};
TimeLevelController.onGiftBtnClicked=function(a,c){var d=UserManager.getMyRoom().finishRewards[0];ItemTipController.showWithButton(d.itemId,d.value,c)};
TimeLevelController.onButtonFriendReward=function(a,c){var d=this.listLevel.getPositionByNode(c),e=this.getClickHolder(c).room;WaitingDialogController.show();var f=this;HttpHelper.sendTimeLevelReward(this,e.roomId,function(a,c){WaitingDialogController.hide();0==a?(f.playGetAllRewardEffect(e.finishRewards),f.removeFriendItem(d,e.roomId),notification.postEvent("event.ui.update")):TipDialogController.showTip(ErrMsg(a))})};
TimeLevelController.onButtonFriendLevel=function(a,c){var d=this.getClickHolder(c);TimeLevelStartController.show({level:this.randomLevelId(),room:d.room})};TimeLevelController.onButtonFriendShare=function(a,c){TencentSdkManager.shareMessage({feedID:1019,title:TextTable.t_sharetitle1019,desc:TextTable.t_sharefeed1019})};
TimeLevelController.onButtonFriendGiveUp=function(a,c){var d=this.listLevel.getPositionByNode(c),e=this.getClickHolder(c).room.roomId;WaitingDialogController.show();var f=this;HttpHelper.sendGiveUpRoom(this,e,function(a,c){WaitingDialogController.hide();0==a?f.removeFriendItem(d,e):TipDialogController.showTip(ErrMsg(a))})};TimeLevelController.onButtonFriendDelete=function(a,c){this.onButtonFriendGiveUp(a,c)};TimeLevelController.onButtonFriendClear=function(a,c){this.onButtonFriendGiveUp(a,c)};
TimeLevelController.randomLevelId=function(){var a=UserManager.getTopLevel();if(!this.randomLevelList||this.topLevel!=a){this.randomLevelList=[];this.topLevel=a;for(var c=LevelMapManager.getInstance(),d=0;100>d;d++){var e=c.getMeta(20201+d);if(!e)break;a>e.gameData.timeUnlockLevel&&a<=e.gameData.timeCloseLevel&&table.insert(this.randomLevelList,e.levelId)}}a=Math.random2(0,this.randomLevelList.length);return this.randomLevelList[a]||20201};
TimeLevelController.initMyLevelUI=function(){this.levelId=this.randomLevelId();this.changePetId=0;StartGameHelper.initUI(this,this.levelId,UserManager.getMyRoomId());this.lastPetId&&0<this.lastPetId&&StartGameHelper.choosePetForGame(this,this.lastPetId)};TimeLevelController.onButtonStart=function(a,c){var d=UserManager.getMyRoom();StartGameHelper.onButtonStart(this,this.levelId,d.roomId)};TimeLevelController.onButtonChangePet=function(){StartGameHelper.onButtonChangePet(this,this.levelId)};
TimeLevelController.onButtonProp1=function(){StartGameHelper.onButtonProp(this,this.levelId,1,UserManager.getCoin())};TimeLevelController.onButtonProp2=function(){StartGameHelper.onButtonProp(this,this.levelId,2,UserManager.getCoin())};TimeLevelController.onButtonTip=function(){GameTipsPropController.show()};
TimeLevelController.changeToMyState=function(a){a==TimeLevelState.kStart?(this.moveToDown(),this.pageLayer.setPageView(this.buildPage1(),1),this.pageLayer.moveToPage(1)):a==TimeLevelState.kNothing?(this.state=a,this.pageLayer.setPageView(this.buildPage1(),1),this.pageLayer.moveToPage(1)):this.initMyStateUI()};
TimeLevelController.timeOver=function(a){var c=this.getCurState();c!=TimeLevelState.kStart&&c!=TimeLevelState.kPass&&(c==TimeLevelState.kReward?this.changeToMyState(a):c==TimeLevelState.kFailed&&this.changeToMyState(a))};TimeLevelController.getLeftTimeText=function(a){a=Utils.formatSecToHHMMSS(a/1E3);return string.expand(TextTable.t_TimeLevel_text_4,{time:a})};
TimeLevelController.updateMyLevel=function(){if(this.state==TimeLevelState.kStart||this.state==TimeLevelState.kPass){var a=this.state==TimeLevelState.kStart&&this.labelMyLevelTime||this.labelStateTime,c=this.getCurLeftTime();0<=c?(c=this.getLeftTimeText(c),a.setString(c)):(a=UserManager.getMyRoomId(),this.state=TimeLevelState.kWaitting,this.requestRoomInfo(a,this.state,this.timeOver))}};
TimeLevelController.requestRoomInfo=function(a,c,d){WaitingDialogController.show();HttpHelper.sendGetRoomInfo(this,a,function(e,f){WaitingDialogController.hide();0==e?(UserManager.resetRoomInfo(f),d(c,a)):TipDialogController.showTip(ErrMsg(e))})};TimeLevelController.initMyStateUI=function(){this.state=this.getCurState();this.initStateButton(this.state);this.initFriendsInfo()};
TimeLevelController.initStateButton=function(a){a==TimeLevelState.kPass?(this.btnStateShare.setVisible(!0),this.btnStateInvite.setVisible(!0),this.btnStateReward.setVisible(!1),this.btnStateClose.setVisible(!1),this.labelStateTitle.setString(TextTable.t_TimeLevel_text_6)):a==TimeLevelState.kReward?(this.btnStateShare.setVisible(!1),this.btnStateInvite.setVisible(!1),this.btnStateReward.setVisible(!0),this.btnStateClose.setVisible(!1),this.labelStateTitle.setString(TextTable.t_TimeLevel_text_10)):
a==TimeLevelState.kFailed?(this.btnStateShare.setVisible(!1),this.btnStateInvite.setVisible(!1),this.btnStateReward.setVisible(!1),this.btnStateClose.setVisible(!0),this.labelStateTitle.setString(TextTable.t_TimeLevel_text_11)):a==TimeLevelState.kNothing&&this.nodeState.setVisible(!1)};
TimeLevelController.initFriendsInfo=function(){var a=this.getCurRoomInfo();if(a){for(var c=1;c<=a.completeFriend.length&&3>=c;c++)this.initFriendHead(this.spriteHeadMy[c-1],a.completeFriend[c-1]);0<a.completeFriend.length&&this.initStateBar([13,50,100,100,100][a.completeFriend.length-1]);this.labelStatePercent.setString(a.completeFriend.length+"/3");a.finishRewards&&a.finishRewards[0]&&(a=a.finishRewards[0],c=GameIconHelper.getIconFrameName(a.itemId,a.value),this.spStateReward.setDisplayFrameName(c),
this.labelStateCount.setVisible(!0),this.labelStateCount.setString("x"+a.value),this.spStateReward.setNodeScale(0.8))}};TimeLevelController.initStateBar=function(a){this.barStatePercent.setPercentage(a)};TimeLevelController.initFriendHead=function(a,c){var d=CacheHelper.getUserInfoWithDefault(c);GameHelper.loadHeadSprite(a,d.headUrl,!0)};
TimeLevelController.inviteFriend=function(a){var c=UserManager.getMyRoomId(),d=function(d){0!=d.length&&(WaitingDialogController.show(),HttpHelper.sendTimeLevelInvite(a,c,d,function(a){WaitingDialogController.hide();0==a?TipDialogController.showTip(TextTable.t_requestSuccess):TipDialogController.showTip(ErrMsg(a))}))};CacheHelper.getAndCacheFiendsInfo(a,function(a,c){0==a?(table.sort(c,function(a,c){return a.star==c.star?a.topLevelId==c.topLevelId?a.playerId<c.playerId:a.topLevelId>c.topLevelId:a.star>
c.star}),InviteFriendListLayerController.showLoading({friendList:c,callback:d,isNoNpc:!0})):TipDialogController.showTip(ErrMsg(a))})};TimeLevelController.onButtonStateInvite=function(){audio.playSound(GameMusicType.kButtonClick);this.inviteFriend(this)};
TimeLevelController.shareFriend=function(a){var c=TimeLevelController.getRoomLeftTimeById(a),c=Utils.formatSecToHHMMSS(c/1E3),d=MathUtils.random(1,6),c={feedID:1018,title:string.expand(TextTable["t_sharetitle1018_"+d],{time:c}),desc:string.expand(TextTable["t_sharefeed1018_"+d],{time:c})};c.shareUrl=cc.loader.urlByAliases(GetAssetsPath("xcx_share_dialog_8.jpg"));c.query="from\x3dtimelevel\x26roomid\x3d"+a;XCXManager.shareMessage(c)};
TimeLevelController.playGetAllRewardEffect=function(a){if(WorldMapUIController.isShowing){var c=this;this.performInPairs(a,function(a,e){EffectHelper.itemFlyToUIAnim(e.itemId,e.value,ccp(0.5*display.width,0.5*display.height),c.layer)},0.3)}};
TimeLevelController.onButtonStateReward=function(){WaitingDialogController.show();var a=UserManager.getMyRoom(),c=this;HttpHelper.sendTimeLevelReward(this,a.roomId,function(d,e){WaitingDialogController.hide();0==d?(UserManager.removeRoom(a.roomId),c.changeToMyState(TimeLevelState.kNothing),c.playGetAllRewardEffect(a.finishRewards),notification.postEvent("event.ui.update")):TipDialogController.showTip(ErrMsg(d))})};TimeLevelController.onButtonStateShare=function(){var a=UserManager.getMyRoomId();this.shareFriend(a)};
TimeLevelController.onButtonStateClose=function(){audio.playSound(GameMusicType.kButtonClick);WaitingDialogController.show();var a=this,c=UserManager.getMyRoomId();HttpHelper.sendGiveUpRoom(this,c,function(d,e){WaitingDialogController.hide();0==d?(UserManager.removeRoom(c),WorldMapUIController.post("updateTimeReward"),a.back()):TipDialogController.showTip(ErrMsg(d))})};TimeLevelController.onButtonNoneGo=function(){audio.playSound(GameMusicType.kButtonClick);this.back();StartGameController.show({level:UserManager.getTopLevel()})};
TimeLevelController.onButtonTag1=function(){audio.playSound(GameMusicType.kButtonClick);this.showTabButton(1);this.pageLayer.moveToPage(1,0.5)};TimeLevelController.onButtonTag2=function(){audio.playSound(GameMusicType.kButtonClick);this.showTabButton(2);this.pageLayer.moveToPage(2,0.5)};TimeLevelController.onButtonBack=function(){audio.playSound(GameMusicType.kButtonClick);this.back()};TimeLevelController.moveToDown=function(){this.nodeDialog.runAction(cc.moveBy(0.2,ccp(0,0.075*display.height)))};
TimeLevelController.back=function(){this.hide();TimeLevelTipController.hide()};TimeLevelController.hideAll=function(a){this.back()};TimeLevelNewController=createController("TimeLevelNewController");TimeLevelNewController.onViewCreate=function(){return loadccb(GetAssetsPath("TimeLevelNew.ccbi"),this,null,null,null,["spriteStar"])};TimeLevelNewController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.reset()};TimeLevelNewController.reset=function(){};
TimeLevelNewController.onButtonGo=function(){GameTutorialHelper.hasFirstEvent("event.game.startNewTimeLevel")?notification.postEvent("event.game.startNewTimeLevel"):TimeLevelController.openWithRequest();this.back()};TimeLevelNewController.onButtonBack=function(){audio.playSound(GameMusicType.kButtonClick);this.back()};TimeLevelNewController.back=function(){this.hide()};TimeLevelStartController=createController("TimeLevelStartController");TimeLevelStartController.onViewCreate=function(){return loadccb(GetAssetsPath("TimeLevelStartGame.ccbi"),this)};TimeLevelStartController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.reset();EffectHelper.dialogLeftShow(this)};
TimeLevelStartController.reset=function(){if(null!=this.param){this.levelId=this.param.level;this.room=this.param.room;this.changePetId=0;StartGameHelper.initUI(this,this.levelId,this.room.roomId);this.param.petId&&0<this.param.petId&&StartGameHelper.choosePetForGame(this,this.param.petId);var a=CacheHelper.getUserInfoWithDefault(this.room.ownId);this.labelLevel.setString(string.expand(TextTable.t_TimeLevel_text_14,{name:a.name}));audio.playSound(GameMusicType.kPopupOpen)}};
TimeLevelStartController.onButtonStart=function(a,c){StartGameHelper.onButtonStart(this,this.levelId,this.room.roomId)};TimeLevelStartController.onButtonChangePet=function(){StartGameHelper.onButtonChangePet(this,this.levelId)};TimeLevelStartController.onButtonProp1=function(){StartGameHelper.onButtonProp(this,this.levelId,1,UserManager.getCoin())};TimeLevelStartController.onButtonProp2=function(){StartGameHelper.onButtonProp(this,this.levelId,2,UserManager.getCoin())};
TimeLevelStartController.onButtonTip=function(){GameTipsPropController.show()};TimeLevelStartController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};TimeLevelStartController.back=function(){WorldMapUIController.updateCoin(0);this.hideAll(!0)};TimeLevelStartController.hideAll=function(a){a?EffectHelper.dialogLeftHide(this):(this.hide(),TimeLevelController.hideAll(a))};TimeLevelTipController=createController("TimeLevelTipController");TimeLevelTipController.onViewCreate=function(){return loadccb(GetAssetsPath("TimeLevelMyTip.ccbi"),this,null,null,null,["spriteHead","spriteGoal"])};TimeLevelTipController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.reset();EffectHelper.dialogLeftShow(this)};
TimeLevelTipController.reset=function(){this.spInviteQQ.setVisible(!1);this.spInviteWX.setVisible(!0);this.param&&(this["switch"](this.param.state,this.param.room),this.param&&this.param.isFail&&this.nodeDialog.setPositionY(this.nodeDialog.getPositionY()+20))};TimeLevelTipController["switch"]=function(a,c){this.isShowing&&(this.nodeMy.setVisible(1==a||3==a),this.nodeFriend.setVisible(2==a),this.btnStateInvite.setVisible(3!=a),this.labelTitle.setVisible(3!=a&&!1),c=c||UserManager.getMyRoom(),this.initFriendList(c))};
TimeLevelTipController.initFriendHead=function(a,c){var d=CacheHelper.getUserInfoWithDefault(c);GameHelper.loadHeadSprite(a,d.headUrl,!0)};TimeLevelTipController.initFriendList=function(a){if(a)for(var c=1;c<=a.completeFriend.length&&3>=c;c++)this.initFriendHead(this.spriteHead[c-1],a.completeFriend[c-1])};TimeLevelTipController.hideTip=function(){this.nodeDialog.setVisible(!1)};TimeLevelTipController.onButtonStateInvite=function(){audio.playSound(GameMusicType.kButtonClick);TimeLevelController.inviteFriend(this)};
TimeLevelTipController.onButtonStateShare=function(){var a=UserManager.getMyRoomId();TimeLevelController.shareFriend(a)};TimeLevelTipController.onButtonBack=function(){audio.playSound(GameMusicType.kButtonClick);this.back()};TimeLevelTipController.back=function(){this.hide();this.param&&this.param.isFail?GameFailedController.back():TimeLevelController.hide()};GameIconHelper={onInit:function(){this.iconMap=cw.ArrayList([ItemType.UNKNOWN,"item_icon_unknown.png",ItemType.DIAMOND,"item_icon_gem.png",ItemType.COIN,"item_icon_coin.png",ItemType.ENERGY,"item_icon_energy.png",ItemType.RMB,"shop_icon_rmb.png",ItemType.UNLOCK,"item_icon_coin.png",ItemType.MARK,"item_icon_coin.png",ItemType.STAR,"item_icon_coin.png",ItemType.FULL_ENERGY,"item_icon_coin.png",ItemType.JIGSAW_PUZZLE,"item_icon_coin.png",ItemType.PET_EXP,"item_icon_coin.png",ItemType.POPCORN,"ico_popcorn.png",
ItemType.BELL,"ico_bell.png",ItemType.LOTTERY_CARD,"ico_ltr_card.png",ItemType.UNLIMIT_ENERGY,"item_icon_unlimit_energy.png",ItemType.ACTIVE,"ico_active.png"]);this.nameMap=cw.ArrayList([ItemType.UNKNOWN,"\u795e\u79d8\u7269\u54c1",ItemType.DIAMOND,"\u94bb\u77f3",ItemType.COIN,"\u91d1\u5e01",ItemType.ENERGY,"\u4f53\u529b",ItemType.RMB,"\u4eba\u6c11\u5e01",ItemType.UNLOCK,"\u89e3\u9501",ItemType.MARK,"\u5956\u7ae0",ItemType.STAR,"\u661f\u661f",ItemType.FULL_ENERGY,"\u6ee1\u4f53\u529b",ItemType.PET_EXP,
"\u4e3b\u53a8\u7ecf\u9a8c",ItemType.POPCORN,"\u7206\u7c73\u82b1",ItemType.BELL,"\u94c3\u94db",ItemType.LOTTERY_CARD,"\u626d\u86cb\u5361",ItemType.UNLIMIT_ENERGY,"\u65e0\u9650\u4f53\u529b\u836f",ItemType.ACTIVE,"\u6d3b\u8dc3\u503c"])},getIconFrameName:function(a,c){var d=ServerProxy.getItemType(a);return d==ItemType.PROP?"prop_"+a+".png":d==ItemType.PET?"pet_icon_"+a+".png":d==ItemType.EQUIP?"equip_"+a+".png":d==ItemType.HEAD_BORDER?"kitchen_head_board_"+c+".png":d==ItemType.CAR?"ico_car_"+a+".png":
d==ItemType.HUSKY_BOOM?"item_icon_husky_boom.png":d==ItemType.HUSKY_DOG_FOOD?"item_icon_husky_dog_food.png":d==ItemType.HUSKY_TICKET?"item_icon_husky_ticket.png":d==ItemType.HUSKY_PIECE?"ico_husky_piece_"+a+".png":this.iconMap[a]||this.iconMap[ItemType.UNKNOWN]},getItemName:function(a,c){var d=ServerProxy.getItemType(a),e=this.nameMap[d]||null;if(e)return e;d==ItemType.EQUIP?e=TextTable["t_Petclothes_"+a]:d==ItemType.CAR?(d=MetaHelper.carDict[a])&&(e=d.name):e=d==ItemType.PET?TextTable["t_name"+a]:
d==ItemType.MEDAL?TextTable.t_topCardMedal1_tips:TextTable["t_Prop_"+a];return e||"unknown"},getItemScale:function(a,c){return ServerProxy.getItemType(a)==ItemType.EQUIP?0.7:1}};GameIconHelper.onInit();ActivityManager={actInfoList:[],actInfoMap:{},alreadyDownloadConfigMap:{},willDownloadIdMap:{},downloadBusy:!1,downloadUrl:"",downloadCallback:null,lastGetActivityCount:0,getActConfigFilePath:function(a){return GetAssetsPath("Activity"+a+"Config.js")},download:function(a,c,d){if(this.downloadBusy)return!1;this.downloadUrl=a;this.actInfoList=c;this.actInfoMap=table.listToMap(c,"id");this.downloadCallback=d;for(var e in c)a=c[e],d=a.id,this.alreadyDownloadConfigMap[d]?this.alreadyDownloadConfigMap[d].actInfo=
a:this.willDownloadIdMap[d]=d;this.processNextDownload();return!0},getClassNameByFile:function(a){var c=a.lastIndexOf("/"),d=a.lastIndexOf(".js");return a.substr(c+1,d-c-1)},processNextDownload:function(){if(!this.downloadBusy){var a=null,c;for(c in this.willDownloadIdMap)if(null!=this.willDownloadIdMap[c]){a=this.willDownloadIdMap[c];break}if(a){this.willDownloadIdMap[a]=null;var d=this,e=this.actInfoMap[a];c=function(c){d.downloadBusy=!1;c&&(c.controller=d.getClassNameByFile(c.entry||c.res[0]),
c.actInfo=e,d.alreadyDownloadConfigMap[a]=c);d.processNextDownload()};if(e){var f=this.getActConfigFilePath(e.id),f=this.getClassNameByFile(f);c(_G[f])}else c()}else c=this.downloadCallback,this.downloadCallback=null,c&&c()}},isOpen:function(a){return this.isReady(a)&&this.isLevelReady(a)},isReady:function(a){if(!this.actInfoMap[a])return!1;var c=this.alreadyDownloadConfigMap[a];if(c&&c.isSupport()){var c=c.actInfo,d=TimeUtils.time(),e=0.001*c.beginTime,f=0.001*c.endTime;if(10005==a&&UserManager.hasPet(20005)||
10004==a&&(0>=UserManager.getLifeLimitLeftCount(2106)||0>=UserManager.getDailyLimitLeftCount(2106)))return!1;if(c.show&&d>=e&&d<=f)return!0}return!1},isLevelReady:function(a){return(a=this.alreadyDownloadConfigMap[a])&&UserManager.getTopLevel()>=a.actInfo.level?!0:!1},getLevelLimit:function(a){return(a=this.alreadyDownloadConfigMap[a])?a.actInfo.level:99999999},getDownloadCount:function(){var a=0,c;for(c in this.alreadyDownloadConfigMap)this.isReady(c)&&(a+=1);return a},hasNewActivity:function(){var a=
this.getDownloadCount(),c=a!=this.lastGetActivityCount;this.lastGetActivityCount=a;return c},getReadyList:function(){var a=[],c;for(c in this.alreadyDownloadConfigMap){var d=this.alreadyDownloadConfigMap[c];if(this.isReady(c)){var e=this.actInfoMap[c];table.insert(a,{actId:c,icon:d.icon,title:d.title,priority:e&&e.priority||0,pos:e&&e.pos||0,level:e&&e.level||0})}}return a},hasRemindTip:function(a){return(a=this.alreadyDownloadConfigMap[a])&&a.actInfo?!0==a.actInfo.remind:!1},clearRemindTip:function(a){(a=
this.alreadyDownloadConfigMap[a])&&a.actInfo&&(a.actInfo.remind=!1)},open:function(a,c){if(this.isReady(a)){WaitingDialogController.show();var d=this;HttpHelper.sendActivity(null,a,"read",null,function(e,f){WaitingDialogController.hide();if(0==e){var g=_G[d.alreadyDownloadConfigMap[a].controller];g?10001==a&&f.ctime?ActivitySeven10001Controller.showLoading(f):g.showLoading(f):logw("activity "+a+" controller not found")}c&&c(e)})}else c&&c(-1)},dialyPopupPanels:function(a,c){this.isReady(a)?(WaitingDialogController.show(),
HttpHelper.sendActivity(null,a,"read",null,function(d,e){WaitingDialogController.hide();if(0==d){var f=!1,g;for(g in e.reward){var h=e.reward[g],m=string.split(g,"_");m&&2<=m.length&&(h=tonumber(h),m=tonumber(m[1]),null!=h&&null!=m&&1==h&&(f=!0))}f&&10001==a&&e.ctime&&PopoutQueue.push("ActivitySeven10001Controller",e);c&&c(d,e)}PopoutQueue.push("SignInDialogController")})):PopoutQueue.push("SignInDialogController")},checkAndOpen:function(a){if(this.isReady(a)){if(this.isLevelReady(a)){if(10004==a)return ShopController.loadAndShow(1,
!0),!0;if(10005==a)return SceneHelper.pushToScene("Husky"),!0;this.open(a,function(a){0!=a&&TipDialogController.showTip(ErrMsg(a))});return!0}a=string.expand(ErrMsg(200263),{level:this.getLevelLimit(a)});TipDialogController.showTip(a);return!1}TipDialogController.showTip(ErrMsg(200262))},close:function(a){var c=this.alreadyDownloadConfigMap[a];if(c){var d=_G[c.controller];d&&d.hide&&d.hide();for(var e in c.scripts);}this.getActConfigFilePath(a)}};GameStoryConfigInit=function(){GameStoryConfig={meet_20002:{roles:["anim20001.json","anim20002.json"],talk:[{role:1,text:TextTable.t_BasicGuide_25_1,padding:5,pose:{1:{anim:["happy1","stand"],x:25,y:35,flip:!0,hide:!1},2:{anim:"stand",x:75,y:35}}},{role:2,text:TextTable.t_BasicGuide_25_2,pose:{2:{anim:"add5step"}}},{role:1,text:TextTable.t_BasicGuide_25_3,pose:{1:{anim:["caress","stand"]},2:{anim:"stand"}}}]},get_20002:{roles:["anim20001.json","anim20002.json"],talk:[{role:2,text:TextTable.t_BasicGuide_25_4,
padding:5,pose:{1:{anim:"stand",x:25,y:35,flip:!0,hide:!1},2:{anim:"happy1",x:75,y:35}}},{role:1,text:TextTable.t_BasicGuide_25_5,padding:5,pose:{1:{anim:"fail"},2:{anim:"stand"}}},{role:2,text:TextTable.t_BasicGuide_25_6,padding:5,pose:{2:{anim:"fail"}}}]}}};GameTutorialConfigInit=function(){var a=display.width,c=display.height;GameTutorialLevelMap=table.listToMap([1,2,3,5,7,9,11,13,17,20,21,27,32,37,53,67,82,103,143,173]);GameTutorialConfig={0:[{event:"event.game.startLevel1",text:TextTable.t_BasicGuide_1_1,tipPos:50,arrowDir:"up",touchRegion:{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",5,5]},holeRegionList:[{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,3]},{shape:"circle2",region:["GameWorldController",
"boundingBoxByTileZone",5,3.5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,4]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,4.5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,5]},{shape:"circle",region:["GameWorldFgController","nodeHold",80]},{shape:"circle",region:["GameWorldTargetController","getNpcBoundsByStageIdx",2]},{shape:"circle2",region:["GameWorldTargetController","getTargetTipBoundsByStageIdx",2]}],extra:[{name:"add_arrow",
param:[5,6]},{name:"click_aim"}]},{event:"event.game.fallingEnd",text:TextTable.t_BasicGuide_1_2,tipPos:50,arrowDir:"up",touchRegion:{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",6,6]},holeRegionList:[{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",6,5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",6,5.5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",6,6]},{shape:"circle2",region:["GameWorldController",
"boundingBoxByTileZone",6,6.5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",6,7]},{shape:"circle",region:["GameWorldFgController","nodeHold",80]},{shape:"circle",region:["GameWorldTargetController","getNpcBoundsByStageIdx",1]},{shape:"circle2",region:["GameWorldTargetController","getTargetTipBoundsByStageIdx",1]}],extra:[{name:"add_arrow",param:[3,6]},{name:"click_aim"}]},{event:"event.game.fallingEnd",text:TextTable.t_BasicGuide_1_3,tipPos:65,arrowDir:"up",holeRegionList:[{shape:"circle2",
region:["GameWorldController","boundingBoxByTileZone",5,2]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,2.5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,3]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,3.5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,4]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",4,7]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",
4.5,7]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,7]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5.5,7]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",6,7]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",6,5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",6,5.5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",6,6]},{shape:"circle2",region:["GameWorldController",
"boundingBoxByTileZone",6,6.5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",6,7]},{shape:"circle",region:["GameWorldFgController","nodeHold",80]}]}],1:[{event:"event.game.willLevel2",text:"",arrowDir:"up",touchRegion:{shape:"circle2",region:["StartGameController","btnStart"]}},{event:"event.game.startLevel2",text:TextTable.t_BasicGuide_2_1,tipPos:50,arrowDir:"up",holeRegionList:[{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",4,4]},{shape:"circle2",
region:["GameWorldController","boundingBoxByTileZone",5,4]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",6,4]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",4,5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",6,5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",4,6]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,6]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",
6,6]}]},{text:TextTable.t_BasicGuide_2_2,tipPos:60,arrowDir:"up",touchRegion:{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",3,5]},holeRegionList:[{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",3,4]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",3,4.5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",3,5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",3,5.5]},{shape:"circle2",region:["GameWorldController",
"boundingBoxByTileZone",3,6]},{shape:"circle",region:["GameWorldFgController","nodeHold",80]}],extra:[{name:"add_arrow",param:[3,6]},{name:"click_aim"}]}],2:[{event:"event.game.willLevel3",text:"",arrowDir:"up",touchRegion:{shape:"circle2",region:["StartGameController","btnStart"]}},{event:"event.game.startLevel3",text:TextTable.t_BasicGuide_3_1,tipPos:35,arrowDir:"up",holeRegionList:[{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",2,1]},{shape:"circle2",region:["GameWorldController",
"boundingBoxByTileZone",2,2]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",2,3]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",2,4]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",2,5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",2,6]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",2,7]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",2,8]},{shape:"circle2",
region:["GameWorldController","boundingBoxByTileZone",2,9]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",8,1]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",8,2]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",8,3]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",8,4]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",8,5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",
8,6]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",8,7]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",8,8]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",8,9]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",3,5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",7,5]},{shape:"circle",region:[0.5*a-120,900,260,260]},{shape:"circle2",region:["GameWorldTargetController","getTargetTipBoundsByStageIdx",
1]}]},{text:TextTable.t_BasicGuide_3_2,tipPos:50,arrowDir:"up",holeRegionList:[{shape:"circle2",region:["GameWorldTargetController","skelPet",60,150]}]},{text:TextTable.t_BasicGuide_3_3,tipPos:50,arrowDir:"up",touchRegion:{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",5,5]},holeRegionList:[{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,4]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,4.5]},{shape:"circle2",region:["GameWorldController",
"boundingBoxByTileZone",5,5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,5.5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,6]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,6.5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,7]},{shape:"circle",region:["GameWorldFgController","nodeHold",80]}],extra:[{name:"add_arrow",param:[3,8]},{name:"click_aim"}]},{event:"event.game.fallingEnd",text:TextTable.t_BasicGuide_3_4,
tipPos:50,arrowDir:"up",touchRegion:{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",5,4]},holeRegionList:[{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,4]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,4.5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,5.5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",
5,6]},{shape:"circle",region:["GameWorldFgController","nodeHold",80]}],extra:[{name:"add_arrow",param:[1,6]},{name:"click_aim"}]}],3:[{event:"event.game.startLevel4",text:TextTable.t_BasicGuide_4_1,tipPos:50,arrowDir:"up",holeRegionList:[{shape:"circle2",region:["GameWorldTargetController","getTargetTipBoundsByStageIdx",1]},{shape:"circle",region:["GameWorldTargetController","getNpcBoundsByStageIdx",1]}],petInfo:{id:20002}},{text:TextTable.t_BasicGuide_4_2,tipPos:50,arrowDir:"up",holeRegionList:[{shape:"circle2",
region:["GameWorldTargetController","getTargetTipBoundsByStageIdx",1]},{shape:"circle",region:["GameWorldTargetController","getNpcBoundsByStageIdx",1]}],petInfo:{id:20001}},{text:TextTable.t_BasicGuide_4_3,tipPos:50,arrowDir:"up",holeRegionList:[{shape:"circle2",region:["GameWorldTargetController","getTargetTipBoundsByStageIdx",1]},{shape:"circle",region:["GameWorldTargetController","getNpcBoundsByStageIdx",1]}],petInfo:{id:20001}}],4:[{event:"event.game.startLevel5",text:TextTable.t_BasicGuide_5_1,
tipPos:50,arrowDir:"up",touchRegion:{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",4,5]},holeRegionList:[{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",4,4]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",4,4.5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",4,5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",4,5.5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",
4,6]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",4,6.5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",4,7]}],extra:[{name:"click_aim"}]}],5:[{event:"event.game.willLevel6",text:TextTable.t_BasicGuide_changeclose_1,tipPos:70,arrowDir:"up",touchRegion:{shape:"circle2",region:["StartGameController","btnChangePet",0,10]}},{event:"event.ui.openChoosePet",text:TextTable.t_BasicGuide_changeclose_2,tipPos:70,arrowDir:"up",delay:0.8,touchRegion:{shape:"circle2",
region:["ChoosePetController","btnRight"]}},{text:"",tipPos:60,arrowDir:"up",delay:0.5,touchRegion:{shape:"circle2",region:["ChoosePetController","btnSure"]}},{text:"",tipPos:70,arrowDir:"up",delay:0.5,touchRegion:{shape:"circle2",region:["StartGameController","btnStart"]}}],6:[{event:"event.game.startLevel7",text:TextTable.t_BasicGuide_7_1,tipPos:50,arrowDir:"up",holeRegionList:[{shape:"circle",region:["GameWorldTargetController","getNpcBoundsByStageIdx",1]},{shape:"circle2",region:["GameWorldTargetController",
"getTargetTipBoundsByStageIdx",1]},{shape:"circle",region:["GameWorldTargetController","getNpcBoundsByStageIdx",2]},{shape:"circle2",region:["GameWorldTargetController","getTargetTipBoundsByStageIdx",2]},{shape:"circle",region:["GameWorldTargetController","getNpcBoundsByStageIdx",3]},{shape:"circle2",region:["GameWorldTargetController","getTargetTipBoundsByStageIdx",3]}]},{text:TextTable.t_BasicGuide_7_2,tipPos:70,arrowDir:"up",holeRegionList:[{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",
5,1]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",3,9]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",7,9]}]},{text:TextTable.t_BasicGuide_7_3,tipPos:70,arrowDir:"up",touchRegion:{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",5,3]},holeRegionList:[{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",4,3]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",4.5,3]},{shape:"circle2",region:["GameWorldController",
"boundingBoxByTileZone",5,3]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5.5,3]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",6,3]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,1]},{shape:"circle",region:["GameWorldFgController","nodeHold",80]}]},{event:"event.game.fallingEnd",text:TextTable.t_BasicGuide_7_4,tipPos:50,arrowDir:"up",touchRegion:{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",5,5]},
holeRegionList:[{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,4]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,4.5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,5.5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,6]},{shape:"circle",region:["GameWorldFgController","nodeHold",80]},{shape:"circle",region:["GameWorldTargetController",
"getNpcBoundsByStageIdx",1]},{shape:"circle2",region:["GameWorldTargetController","getTargetTipBoundsByStageIdx",1]}]}],7:[{event:"event.game.startLevel9",text:TextTable.t_BasicGuide_9_1,tipPos:70,arrowDir:"up",touchRegion:{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",1,8]},holeRegionList:[{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",1,6]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",1,6.5]},{shape:"circle2",region:["GameWorldController",
"boundingBoxByTileZone",1,7]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",1,7.5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",1,8]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",1,8.5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",1,9]}]},{event:"event.game.fallingEnd",text:TextTable.t_BasicGuide_9_2,tipPos:30,arrowDir:"up",touchRegion:{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",
1,3]},holeRegionList:[{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",1,1]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",1,1.5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",1,2]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",1,2.5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",1,3]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",1,3.5]},{shape:"circle2",
region:["GameWorldController","boundingBoxByTileZone",1,4]},{shape:"circle",region:["GameWorldFgController","nodeHold",80]}]}],8:[{event:"event.game.willLevel12",text:TextTable.t_BasicGuide_12_1,tipPos:74,arrowDir:"up",touchRegion:{shape:"circle2",region:["StartGameController","btnProp1"]},triggerEvent:[{name:"event.ui.addFrontPropTutorial",param:{propIdx:1}}]},{text:"",tipPos:70,arrowDir:"up",delay:0.5,touchRegion:{shape:"circle2",region:["StartGameController","btnStart"]}}],9:[{event:"event.game.startLevel17",
text:TextTable.t_BasicGuide_17_1,tipPos:68,arrowDir:"up",delay:1,touchRegion:{shape:"circle2",region:["GameWorldPropController","btnProp2"]},holeRegionList:[{shape:"circle2",region:["GameWorldPropController","btnProp2"]},{shape:"circle2",region:["GameWorldPropController","btnProp3"]}]},{text:"",tipPos:68,arrowDir:"up",touchRegion:{shape:"rect",region:[0.5*a-200,0.42*c-200,400,400]},holeRegionList:[{shape:"rect",region:[0,0,display.width,display.height]}]}],10:[{event:"event.game.startLevel27",text:TextTable.t_BasicGuide_n25_1,
tipPos:50,arrowDir:"up"},{text:TextTable.t_BasicGuide_n25_2,tipPos:55,arrowDir:"up",holeRegionList:[{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",4,5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",4.5,5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,5]},{shape:"circle",region:["GameWorldTargetController","getNpcBoundsByStageIdx",1]},{shape:"circle2",region:["GameWorldTargetController","getTargetTipBoundsByStageIdx",1]}]},
{text:TextTable.t_BasicGuide_n25_3,tipPos:60,arrowDir:"up",touchRegion:{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",6,5]},holeRegionList:[{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",6,5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",6,5.5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",6,6]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",6,6.5]},{shape:"circle2",region:["GameWorldController",
"boundingBoxByTileZone",6,7]},{shape:"circle",region:["GameWorldFgController","nodeHold",80]}]}],11:[{event:"event.game.startLevel37",text:"",tipPos:60,arrowDir:"up",touchRegion:{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",8,5]},holeRegionList:[{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",6,5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",6.5,5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",7,5]},
{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",7.5,5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",8,5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",3,5]},{shape:"circle",region:["GameWorldController","boundingBoxByTileZone",9.6,2]},{shape:"circle",region:["GameWorldController","boundingBoxByTileZone",9.6,2.5]},{shape:"circle",region:["GameWorldController","boundingBoxByTileZone",9.6,3]},{shape:"circle",region:["GameWorldController",
"boundingBoxByTileZone",9.6,3.5]},{shape:"circle",region:["GameWorldController","boundingBoxByTileZone",9.6,4]},{shape:"circle",region:["GameWorldController","boundingBoxByTileZone",9.6,4.5]},{shape:"circle",region:["GameWorldController","boundingBoxByTileZone",9.6,5]},{shape:"circle",region:["GameWorldController","boundingBoxByTileZone",9.6,5.5]},{shape:"circle",region:["GameWorldController","boundingBoxByTileZone",9.6,6]},{shape:"circle",region:["GameWorldController","boundingBoxByTileZone",9.6,
6.5]},{shape:"circle",region:["GameWorldController","boundingBoxByTileZone",9.6,7]},{shape:"circle",region:["GameWorldController","boundingBoxByTileZone",9.6,7.5]},{shape:"circle",region:["GameWorldController","boundingBoxByTileZone",9.6,8]},{shape:"circle",region:["GameWorldFgController","nodeHold",80]},{shape:"circle",region:["GameWorldTargetController","getNpcBoundsByStageIdx",1]},{shape:"circle2",region:["GameWorldTargetController","getTargetTipBoundsByStageIdx",1]}]},{event:"event.game.fallingEnd",
text:"",tipPos:60,arrowDir:"up",textPadding:10,touchMode:"touch_hole_hide",touchRegion:{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",7,5]},holeRegionList:[{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",7,4]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",7,4.5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",7,5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",7,5.5]},{shape:"circle2",
region:["GameWorldController","boundingBoxByTileZone",7,6]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",7,6.5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",7,7]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",6,5]},{shape:"circle",region:["GameWorldFgController","nodeHold",80]},{shape:"circle2",region:["GameWorldTargetController","getNpcBoundsByStageIdx",1]},{shape:"circle2",region:["GameWorldTargetController","getTargetTipBoundsByStageIdx",
1]}]}],12:[{event:"event.game.startLevel82",text:TextTable.t_BasicGuide_n80_1,tipPos:60,arrowDir:"up"},{text:TextTable.t_BasicGuide_n80_2,tipPos:50,arrowDir:"up",textPadding:10,touchMode:"touch_hole_hide",touchRegion:{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",5,7]},holeRegionList:[{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",4,7]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",4.5,7]},{shape:"circle2",region:["GameWorldController",
"boundingBoxByTileZone",5,7]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5.5,7]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",6,7]},{shape:"circle",region:["GameWorldFgController","nodeHold",80]},{shape:"circle2",region:["GameWorldTargetController","getNpcBoundsByStageIdx",1]},{shape:"circle2",region:["GameWorldTargetController","getTargetTipBoundsByStageIdx",1]}]},{event:"event.game.fallingEnd",text:TextTable.t_BasicGuide_n80_3,tipPos:50,arrowDir:"up",
textPadding:10,touchMode:"touch_hole_hide",touchRegion:{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",4,7]},holeRegionList:[{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",3,7]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",3.5,7]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",4,7]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",4.5,7]},{shape:"circle2",region:["GameWorldController",
"boundingBoxByTileZone",5,7]},{shape:"circle",region:["GameWorldFgController","nodeHold",80]},{shape:"circle2",region:["GameWorldTargetController","getNpcBoundsByStageIdx",1]},{shape:"circle2",region:["GameWorldTargetController","getTargetTipBoundsByStageIdx",1]}]}],13:[{event:"event.game.startLevel103",text:"",tipPos:70,arrowDir:"up",touchRegion:{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",4,3]},holeRegionList:[{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",
4,3]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",4,4]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",4,5]},{shape:"circle",region:["GameWorldFgController","nodeHold",80]}]}],14:[{event:"event.game.startLevel67",text:"",tipPos:60,arrowDir:"up",touchRegion:{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",3,5]},holeRegionList:[{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",3,4]},{shape:"circle2",region:["GameWorldController",
"boundingBoxByTileZone",3,4.5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",3,5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",3,5.5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",3,6]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",3.5,4]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",3.5,6]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",4,4]},{shape:"circle2",
region:["GameWorldController","boundingBoxByTileZone",4,4.5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",4,5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",4,5.5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",4,6]},{shape:"circle",region:[0.5*a-160,910,300,230]},{shape:"circle",region:["GameWorldFgController","nodeHold",80]},{shape:"circle2",region:["GameWorldTargetController","getTargetTipBoundsByStageIdx",1]}]}],15:[{event:"event.game.startLevel20",
text:TextTable.t_BasicGuide_Detonatedplaceality_1,tipPos:74,arrowDir:"up",holeRegionList:[{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",3,3]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",3,7]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,3]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,7]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",7,3]},{shape:"circle2",region:["GameWorldController",
"boundingBoxByTileZone",7,7]}]},{text:TextTable.t_BasicGuide_Detonatedplaceality_2,tipPos:74,arrowDir:"up",touchRegion:{shape:"circle2",region:["GameWorldPropController","btnProp1"]}},{text:"",tipPos:70,arrowDir:"up",touchRegion:{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",3,3]}}],16:[{event:"event.game.startLevel32",text:TextTable.t_BasicGuide_Forcedexchange_1,tipPos:74,arrowDir:"up",holeRegionList:[{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,4]},
{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,6]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",4,5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",6,5]}]},{text:TextTable.t_BasicGuide_Forcedexchange_2,tipPos:74,arrowDir:"up",touchRegion:{shape:"circle2",region:["GameWorldPropController","btnProp4"]},triggerEvent:[{name:"event.ui.addPropTutorial",
param:{propIdx:4}}]},{text:TextTable.t_BasicGuide_Forcedexchange_3,tipPos:70,arrowDir:"up",touchRegion:{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",2,5]}},{text:"",tipPos:70,arrowDir:"up",delay:1,touchRegion:{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,5]},holeRegionList:[{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,4]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,5]},{shape:"circle2",region:["GameWorldController",
"boundingBoxByTileZone",5,6]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",4,5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",6,5]}]}],17:[{event:"event.game.startLevel53",text:"",tipPos:70,arrowDir:"up",touchRegion:{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",7,4]},holeRegionList:[{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",7,2]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",
7,3]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",7,4]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",7,5]},{shape:"circle",region:["GameWorldFgController","nodeHold",80]}]}],18:[{event:"event.game.startLevel143",text:TextTable.t_BasicGuide_141_1,tipPos:70,arrowDir:"up",holeRegionList:[{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",2,3]},{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",2,4]},{shape:"rect",
region:["GameWorldController","boundingBoxByTileZone",2,5]},{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",2,6]},{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",2,7]},{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",3,2]},{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",3,3]},{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",3,7]},{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",3,8]},
{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",4,2]},{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",4,8]},{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",5,2]},{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",5,8]},{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",6,2]},{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",6,8]},{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",
7,2]},{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",7,3]},{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",7,7]},{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",7,8]},{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",8,3]},{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",8,4]},{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",8,5]},{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",
8,6]},{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",8,7]}]},{text:TextTable.t_BasicGuide_141_2,tipPos:50,arrowDir:"up",touchRegion:{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",8,5]},holeRegionList:[{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",8,4]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",8,4.5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",8,5]},{shape:"circle2",region:["GameWorldController",
"boundingBoxByTileZone",8,5.5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",8,6]},{shape:"circle",region:["GameWorldFgController","nodeHold",80]}]}],19:[{event:"event.ui.openPetLevelUpReward",text:TextTable.t_BasicGuide_petclosechange_1,tipPos:70,arrowDir:"up",delay:1,touchRegion:{shape:"circle2",region:["PetLevelUpRewardController","btnChangeDress"]},holeRegionList:[{shape:"circle2",region:["PetLevelUpRewardController","btnChangeDress"]},{shape:"circle2",region:["PetLevelUpRewardController",
"nodePet"]}]},{text:"",tipPos:70,arrowDir:"up",delay:0.5,touchRegion:{shape:"circle2",region:["PetLevelUpRewardController","btnOk"]},holeRegionList:[{shape:"circle2",region:["PetLevelUpRewardController","btnOk"]},{shape:"circle2",region:["PetLevelUpRewardController","nodePet"]}]}],20:[{event:"event.ui.startKitchenGodFirst",text:TextTable.t_Cuty_week_match_guide1,tipPos:60,arrowDir:"up"},{text:TextTable.t_Cuty_week_match_guide2,tipPos:72,arrowDir:"up",delay:0.5,holeRegionList:[{shape:"circle2",region:["KitchenGodController",
"btnReward"]}]},{text:TextTable.t_Cuty_week_match_guide3,tipPos:50,arrowDir:"up",delay:0.5,holeRegionList:[{shape:"circle2",region:["KitchenGodController","btnRank"]}]},{text:TextTable.t_Cuty_week_match_guide13,tipPos:70,arrowDir:"up",delay:0.5,holeRegionList:[{shape:"circle2",region:["KitchenGodController","nodeHead"]}]},{text:TextTable.t_Cuty_week_match_guide5,tipPos:45,arrowDir:"up",delay:0.5,holeRegionList:[{shape:"circle2",region:["KitchenGodController","btnStart"]}]}],21:[{event:"event.ui.startKitchenGodLevel",
text:TextTable.t_Cuty_week_match_guide6,tipPos:50,arrowDir:"up"},{event:"event.game.fallingEnd",text:TextTable.t_Cuty_week_match_guide7,tipPos:70,arrowDir:"up",delay:0.5,showContinue:!0,holeRegionList:[{shape:"circle2",region:["KitchenGodGameUIController","barProg",-10,15]}]},{text:TextTable.t_Cuty_week_match_guide8,tipPos:45,arrowDir:"up",delay:0.5,holeRegionList:[{shape:"circle2",region:["KitchenGodGameTargetController","getTargetStarBoundsByStageIdx"]}]},{text:TextTable.t_Cuty_week_match_guide9,
tipPos:50,arrowDir:"up",delay:0.5}],22:[{event:"event.ui.startKitchenGodBear",text:TextTable.t_Cuty_week_match_guide10,tipPos:70,arrowDir:"up"},{text:TextTable.t_Cuty_week_match_guide11,tipPos:60,arrowDir:"up",delay:0.5,holeRegionList:[{shape:"circle2",region:["KitchenGodGameTargetController","getTargetStarBoundsByStageIdx"]}]}],23:[{event:"event.ui.startKitchenGodBuff",text:TextTable.t_Cuty_week_match_guide12,tipPos:60,arrowDir:"up",delay:0.5,holeRegionList:[{shape:"circle2",region:["KitchenGodGameUIController",
"spBuffUi_3"]}]}],24:[{event:"event.game.startNewTimeLevel",text:"",tipPos:78,arrowDir:"up",touchRegion:{shape:"circle2",region:["WorldMapUIController","nodeTimeReward"]}}],25:[{event:"event.ui.RankListGuide",text:TextTable.t_topLevelGuide1_txt,tipPos:45,arrowDir:"up"},{text:TextTable.t_topLevelGuide4_txt,tipPos:45,arrowDir:"up"}],26:[{event:"event.ui.huskyGuide",text:TextTable.t_husky_guide_text01,tipPos:45,arrowDir:"up",delay:0.7},{text:TextTable.t_husky_guide_text02,tipPos:32,arrowDir:"up",holeRegionList:[{shape:"circle2",
region:["ActivityLayerController","getGuideBtnRect"]}]}],28:[{event:"event.game.startLevel173",text:"",tipPos:50,arrowDir:"up",touchRegion:{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",7,4]},holeRegionList:[{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",7,4]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",7,4.5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",7,5]},{shape:"circle2",region:["GameWorldController",
"boundingBoxByTileZone",7,5.5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",7,6]}]},{event:"event.game.fallingEnd",text:TextTable.t_BasicGuide_173_1,tipPos:65,arrowDir:"up",touchRegion:{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",2,4]},holeRegionList:[{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",2,4]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",2.5,4]},{shape:"circle2",region:["GameWorldController",
"boundingBoxByTileZone",3,4]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",3.5,4]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",4,4]}]}],29:[{event:"event.game.startLevel20300",text:TextTable.t_BasicGuidelimitlevel_1,tipPos:50,arrowDir:"up",touchRegion:{shape:"rect",region:["GameWorldController","boundingBoxByTileZone",5,4]},holeRegionList:[{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,3]},{shape:"circle2",region:["GameWorldController",
"boundingBoxByTileZone",5,3.5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,4]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,4.5]},{shape:"circle2",region:["GameWorldController","boundingBoxByTileZone",5,5]},{shape:"circle",region:["GameWorldFgController","nodeHold",80]},{shape:"circle",region:[0.5*a-120,900,260,260]},{shape:"circle2",region:["GameWorldTargetController","getTargetTipBoundsByStageIdx",3]}],extra:[{name:"add_arrow",param:[3,6]},
{name:"click_aim"}]}],30:[{event:"event.ui.groupRank",text:TextTable.t_GroupRank_Guide_1,tipPos:45,arrowDir:"up",holeRegionList:[{shape:"circle",region:[0.5*a-340,900,680,360]}]},{text:TextTable.t_GroupRank_Guide_2,tipPos:70,arrowDir:"up",holeRegionList:[{shape:"circle",region:[0.5*a-340,210,680,360]}]},{text:TextTable.t_GroupRank_Guide_3,tipPos:45,arrowDir:"up",holeRegionList:[{shape:"circle",region:[0.5*a-360,90,720,120]}]}]}};PetDetailsController=createController("PetDetailsController");PetDetailsController.onViewCreate=function(){return loadccb(GetAssetsPath("PetDetails.ccbi"),this)};PetDetailsController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.registerEvent("event.ui.update");this.registerEvent("event.ui.updateEquip");this.registerEvent("event.ui.updateExp");this.reset();EffectHelper.dialogLeftShow(this)};PetDetailsController.onViewEnter=function(){this.updateUI()};
PetDetailsController.onEvents=function(a,c){if("event.ui.update"==a)this.updateUI();else if("event.ui.updateEquip"==a)this.updateEquip(c);else if("event.ui.updateExp"==a)this.onUpdateScore(this.getPetId())};PetDetailsController.sortMetaList=function(){for(var a=MetaHelper.gameMeta.pet,c=[],d=0;d<a.length;++d)c[d]=a[d];table.sort(c,function(a,c){var d=UserManager.hasPet(a.id),h=UserManager.hasPet(c.id);return d&&!h?!0:h&&!d?!1:a.id<c.id});return c};
PetDetailsController.reset=function(){HuskyTaskManager.onEvents("event.ui.pageOpen",{pageIndex:6});this.listPet.setGalleryMode(1);var a=this.param&&this.param.petId||UserManager.getMainPetId(),c=0;this.listPetHolder=[];for(var d=this,e=this.sortMetaList(),f=1;f<=e.length;f++){var g=e[f-1],h={},m=loadccb(GetAssetsPath("PetDetailItem.ccbi"),h,this);this.listPetHolder[f-1]=h;this.listPet.addItem(m);h.id=g.id;h.skelPet.reloadWithCache(GetAssetsPath("anim"+g.id+".json"));h.skelPet.setAnimation(0,"stand",
!0);PetHelper.setPetEquipByPetID(h.skelPet,g.id);h.inputName.setString(UserManager.getPetName(g.id));h.btnChangePet.setVisible(g.id!=a);h.btnChangePet.setTag(g.id);UserManager.petDict[g.id]||h.btnChangePet.setEnabled(!1,ErrMsg(100270));g.id==a&&(c=f);g&&0==g.gender?h.spriteSex.setDisplayFrameName("pet_ico_female.png"):h.spriteSex.setDisplayFrameName("pet_ico_male.png");h.inputName.registerScriptHandler(function(a){"detach"==a&&d.changePetName(d.getChangeName())});cc.sys.isNotPrompt&&(h.inputName.setContentWidth(0),
h.spritePen.setVisible(!1))}this.listPet.moveListItemTo(c,0);this.listPet.registerScriptListener(function(a){d.onListIndexChange(a)});this.onListIndexChange(c)};PetDetailsController.onListIndexChange=function(a){a=this.listPetHolder[a-1];this.spritePetSkill.setDisplayFrameName("pet_skill_"+a.id+".png");this.onUpdateScore(a.id)};
PetDetailsController.onUpdateScore=function(a){if(UserManager.petDict[a]){this.btnChangeDress.setVisible(!0);this.btnLevelup.setVisible(!0);this.btnUnlock.setVisible(!1);var c=UserManager.getPetBonus(a),d=c[0],c=c[1],e=UserManager.getPetExpInfo(a)[0],d=string.format("+%.1f%%",100*d),c=string.format("+%.1f%%",100*c);this.labelLevel.setString(tostring(e));this.labelCoin.setString(d);this.labelScore.setString(c);c=UserManager.getPetExpInfo(a);e=c[0];a=c[1];c=c[2];d=MetaHelper.getPetLevelMax()[0];e==
d?this.progExp.setPercentage(100):this.progExp.setPercentage(100*a/c)}else this.progExp.setPercentage(0),this.labelLevel.setString("0"),this.labelCoin.setString("+0.0%"),this.labelScore.setString("+0.0%"),this.btnChangeDress.setVisible(!1),this.btnLevelup.setVisible(!1),this.btnUnlock.setVisible(!0)};
PetDetailsController.updateUI=function(){for(var a=UserManager.getMainPetId(),c=1;c<=this.listPetHolder.length;c++){var d=this.listPetHolder[c-1];d.id==a?(d.spriteBg.setDisplayFrameName("mp_pet_card2.png"),d.btnChangePet.setVisible(!1)):(d.spriteBg.setDisplayFrameName("mp_pet_card.png"),d.btnChangePet.setVisible(!0))}0<UserManager.getEquipCount()||10<UserManager.getTopLevel()?this.btnChangeDress.setEnabled(!0):(a=string.expand(TextTable.t_ChangeClothes_tips,{num:10}),this.btnChangeDress.setEnabled(!1,
a))};PetDetailsController.updateEquip=function(a){for(var c=1;c<=a.length;c++)for(var d=a[c-1],e=1;e<=this.listPetHolder.length;e++){var f=this.listPetHolder[e-1];f.id==d&&PetHelper.setPetEquipByPetID(f.skelPet,d)}};PetDetailsController.getPetId=function(){var a=this.listPet.getSelect();return this.listPetHolder[a-1].id};PetDetailsController.onButtonLevelUp=function(){audio.playSound(GameMusicType.kButtonClick);var a=this.getPetId();this.hide();PetLevelUpController.showLoading({petId:a})};
PetDetailsController.onButtonChangeDress=function(a){audio.playSound(GameMusicType.kButtonClick);a=this.getPetId();PetEquipsController.showLoading({petId:a});this.hide()};PetDetailsController.onButtonUnlock=function(a){audio.playSound(GameMusicType.kButtonClick);GameHelper.openUI("get_pet",this.getPetId())&&this.hide()};
PetDetailsController.onButtonChangePet=function(a){audio.playSound(GameMusicType.kButtonClick);var c=this;WaitingDialogController.show();HttpHelper.changeMainPet(this,a,function(a){WaitingDialogController.hide();0!=a?TipDialogController.showTip(ErrMsg(a)):(c.updateUI(),TipDialogController.showTip(TextTable.t_Pet_Chefchange))})};PetDetailsController.onButtonLeft=function(){audio.playSound(GameMusicType.kButtonClick);this.listPet.moveToPre()};
PetDetailsController.onButtonRight=function(){audio.playSound(GameMusicType.kButtonClick);this.listPet.moveToNext()};PetDetailsController.onButtonPreviewSkill=function(){audio.playSound(GameMusicType.kButtonClick);PetSkillDialogController.show({petId:this.getPetId()})};PetDetailsController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};PetDetailsController.getChangeName=function(){var a=this.listPet.getSelect();return this.listPetHolder[a-1].inputName.getString()};
PetDetailsController.changePetName=function(a){var c=this.getPetId();UserManager.petDict[c].name!=a&&HttpHelper.changePetName(this,c,a,function(a){0!=a&&TipDialogController.showTip(ErrMsg(a))})};PetDetailsController.back=function(){EffectHelper.dialogLeftHide(this)};
PetDetailsController.onInit=function(){var a=CCBResList.ChoosePet,c=CCBResList.FriendAddByID,d=["anim20001.png","anim20002.png","anim20003.png","anim20004.png","anim20005.png"];cw.addA2A(d,CCBResList.PetDetails);cw.addA2A(d,a);cw.addA2A([d[1]],c)};PetDetailsController.onInit();PetGetDialogController=createController("PetGetDialogController");PetGetDialogController.onViewCreate=function(){return loadccb(GetAssetsPath("PetGetDialog.ccbi"),this)};PetGetDialogController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.reset()};
PetGetDialogController.reset=function(){if(null!=this.param){this.btnGet.setVisible(!1);this.btnOpen.setVisible(!0);this.aniPet.setVisible(!1);this.aniHand.setVisible(!1);this.showHand=!1;this.handInterval=30;this.maxInterval=Math.random2(5,10);var a=this;this.registerUpdate("jumpAni",function(c){a.maxInterval-=c;a.handInterval-=c;0>a.maxInterval&&(a.maxInterval=Math.random2(5,10),a.aniBox.setAnimation(0,"animation2",!1),a.aniBox.addAnimation(0,"animation2",!1),a.aniBox.addAnimation(0,"animation",
!0));0>a.handInterval&&(a.showHand=!0,a.aniHand.setVisible(!0))},0.1);this.param.autoOpen&&this.openGift()}};
PetGetDialogController.openGift=function(){this.unregisterUpdate("jumpAni");this.aniBox.setAnimation(0,"animation3",!1);this.aniBox.addAnimation(0,"animation4",!0);var a=this.param.petId;this.aniPet.setVisible(!0);this.aniPet.reloadWithSkelFile(GetAssetsPath("anim"+a+".json"));PetHelper.setPetEquipByPetID(this.aniPet,a);this.aniPet.setAnimation(0,"stand",!0);this.btnGet.setVisible(!0);this.btnOpen.setVisible(!1);this.aniHand.setVisible(!1);this.aniPet.setScale(0);this.aniPet.setOpacity(0);this.aniPet.runAction(cc.spawn(cc.scaleTo(11/
30,1.5),cc.fadeIn(11/30)));this.spTitle.runAction(cc.moveTo(0.3,ccp(360,1028)));var a=1/30,c=[];c.push(cc.scaleTo(0.3,1));c.push(cc.scaleTo(1*a,1.04,1.1));c.push(cc.scaleTo(2*a,0.9,0.8));c.push(cc.scaleTo(2*a,1.02,1.07));c.push(cc.scaleTo(2*a,1,1));this.spTitle.runAction(cc.sequence(c))};PetGetDialogController.onButtonOpen=function(){this.openGift()};
PetGetDialogController.onButtonBack=function(){audio.playSound(GameMusicType.kButtonClick);if(this.param.share){if(!ShareController.isOpen())return;var a=Math.random2(1,5);ShareController.showLoading({shareType:"pet_shot_cloth",petId:this.param.petId,txtIdx:a,feedId:1016})}this.back()};PetGetDialogController.back=function(){this.hide();var a=this.param.listener;a&&a()};LotteryController=createController("LotteryController");var lotteryCardForLottery=41001,lotteryCardForTen=41002,LotterySpecialCount=12,ballNames=["ltr_ball_blue.png","ltr_ball_green.png","ltr_ball_pink.png","ltr_ball_red.png","ltr_ball_yellow.png"];LotteryController.onViewCreate=function(){return loadccb(GetAssetsPath("Lottery.ccbi"),this)};LotteryController.onViewOpen=function(){this.registerEvent("event.ui.update");this.reset()};
LotteryController.onViewEnter=function(){this.skelMachine.setAnimation(0,"star",!1)};LotteryController.onEvents=function(a,c){"event.ui.update"==a&&this.updateUI()};LotteryController.isOpen=function(a){var c=MetaHelper.isFuncUnlock(MenuItemTag.Menu_Tag_Lottery);return c?!0:(a||TipDialogController.showTip(MetaHelper.getFuncUnlockInfo(MenuItemTag.Menu_Tag_Lottery,c)),!1)};
LotteryController.reset=function(){this.skelMachine.setMix("on","end",0.7);this.skelMachine.setMix("on","star",0.7);this.skelMachine.setMix("on","on",0.3);this.updatePetDisplay();this.updateUI();this.tenDropTipNode.setVisible(!1)};
LotteryController.updateUI=function(){this.bellLabel.setString(UserManager.getBell());this.ltrCardLabel.setString(UserManager.getLotteryCard());this.updateFreeLottery();this.updateSpecialCountLabel(UserManager.getLotterySpecialCount());var a=string.expand(TextTable.t_Petclothes_tips6,{num:LotterySpecialCount-UserManager.getLotterySpecialCount()});this.specialTipLabel.setString(a)};
LotteryController.updateFreeLottery=function(){this.leftFreeCount=this.getFreeLeftTime();0<this.leftFreeCount&&(this.countDownLabel.setString(Utils.formatSecToHHMMSS(this.leftFreeCount)),this.registerUpdate("update_lottery_free",this.updateLeftTimeFree,1));this.countDownNode.setVisible(0<this.leftFreeCount);this.oneCardNode.setVisible(this.countDownNode.isVisible());this.freeDropNode.setVisible(!this.countDownNode.isVisible());this.dropOneBtn1.setVisible(this.freeDropNode.isVisible());this.dropOneBtn2.setVisible(!this.freeDropNode.isVisible())};
LotteryController.updateLeftTimeFree=function(){this.countDownLabel.setString(Utils.formatSecToHHMMSS(--this.leftFreeCount));0>=this.leftFreeCount&&(this.unregisterUpdate("update_lottery_free"),this.updateFreeLottery())};LotteryController.updateSpecialCountLabel=function(a){a=a||UserManager.getLotterySpecialCount();this.labelTenProgress.setString(a+"/"+LotterySpecialCount)};
LotteryController.dropBall=function(a){this.spriteBallResult.setPositionY(-112);this.spriteBallResult.setScale(0.85);this.spriteBallResult.setZOrder(-1);var c=this,d=ballNames[Math.random2(1,5)];this.spriteBallResult.setDisplayFrameName(d);this.spriteBallResult.setVisible(!0);d=[];d.push(cc.jumpBy(0.3,ccp(0,-110),40,1));d.push(cc.ReZorder.create(1));d.push(cc.jumpBy(0.2,ccp(0,-140),40,1));d.push(cc.jumpBy(0.6,ccp(0,-10),80,2));d.push(cc.jumpBy(0.2,ccp(0,0),50,1));d.push(cc.jumpBy(0.2,ccp(0,0),40,
1));d.push(cc.jumpBy(0.15,ccp(0,0),30,1));d.push(cc.jumpBy(0.15,ccp(0,0),20,1));d.push(cc.jumpBy(0.15,ccp(0,0),10,1));d.push(cc.jumpBy(0.1,ccp(0,0),5,1));d.push(cc.jumpBy(0.4,ccp(0,0),200,1));d.push(cc.hide());d.push(cc.callFunc(function(){c.onBallDropOver(a)}));this.spriteBallResult.runAction(cc.sequence(d));this.spriteBallResult.runAction(cc.sequence(cc.delayTime(0.3),cc.scaleBy(1.4,1.2)))};
LotteryController.onBallDropOver=function(a){1==a.length?LotteryOneRewardController.showLoading(a[0]):LotteryTenRewardController.showLoading(a);this.updateUI();WaitingDialogController.hide()};LotteryController.updatePetDisplay=function(){if(UserManager.getLotteryPetInfo()){var a=UserManager.getLotteryPetInfo();this.setPetDisplay(a.id,a.equips)}else this.randomGenPetsEquip()};
LotteryController.randomGenPetsEquip=function(){if(!this.showPetId){var a=new Date,a=a.getDay()+a.getMonth()+a.getYear();this.showPetId=a%table.size(MetaHelper.petDict)+20001;this.petEquipCache=[0,0,0,0];var c=[[],[],[],[]],d=MetaHelper.getDressHandbookList(),e;for(e in d){var f=MetaHelper.getEquipById(d[e]);f&&f.own==this.showPetId&&c[f.pos-1].push(f.id)}for(e=0;4>e;++e)0!=c[e].length&&(this.petEquipCache[e]=c[e][a*(e+1)%c[e].length])}this.setPetDisplay(this.showPetId,this.petEquipCache)};
LotteryController.setPetDisplay=function(a,c){20001!=a&&this.skelPet.reloadWithSkelFile(GetAssetsPath("anim"+a+".json"));this.skelPet.setAnimation(0,"stand",!0);PetHelper.setPetEquip(this.skelPet,c)};LotteryController.getFreeLeftTime=function(){return this.isOpen(!0)?Math.ceil((UserManager.getLotteryFreeTime()-1E3*DataHelper.getSimulatorTs())/1E3):1};LotteryController.playResultEffect=function(a){};
LotteryController.onOneDropButton=function(){var a=this;this.leftFreeCount&&0>=this.leftFreeCount?(LotteryController.startLotteryDropAction(),HttpHelper.sendFreeOneLottery(this,function(c,d){LotteryController.onDropRequestReturn(0==c,d.rewards);0==c?(a.leftFreeCount=0,notification.postEvent("event.ui.update")):(a.leftFreeCount=1E7,TipDialogController.showTip(ErrMsg(c)));a.updateFreeLottery()})):1>UserManager.getLotteryCard()?GoodsManager.getLimitCount(lotteryCardForLottery)[0]?ShopItemBuyDialogController.showLoading({goodsId:lotteryCardForLottery,
showLeft:!0,flyTarget:this.icoBell,flyTarget2:this.icoCard}):TipDialogController.showTip(string.expand(TextTable.t_Petclothes_txt8,{num:1})):(LotteryController.startLotteryDropAction(),HttpHelper.sendOneLottery(this,function(c,d){LotteryController.onDropRequestReturn(0==c,d.rewards);0==c?(notification.postEvent("event.game.lotteryGo"),notification.postEvent("event.ui.update")):(a.skelMachine.setAnimation(0,"star",!1),TipDialogController.showTip(ErrMsg(c)))}))};
LotteryController.onTenDropButton=function(){if(10>UserManager.getLotteryCard()){var a=GoodsManager.getLimitCount(lotteryCardForTen)[0];!a||10>a?TipDialogController.showTip(string.expand(TextTable.t_Petclothes_txt8,{num:10})):ShopItemBuyDialogController.showLoading({goodsId:lotteryCardForTen,showLeft:!0,baseRatio:10,flyTarget:this.icoBell,flyTarget2:this.icoCard})}else{var c=this;LotteryController.startLotteryDropAction();HttpHelper.sendTenLottery(this,function(a,e){LotteryController.onDropRequestReturn(0==
a,e.rewards);0==a?(notification.postEvent("event.game.lotteryGo"),notification.postEvent("event.ui.update")):(c.skelMachine.setAnimation(0,"star",!1),TipDialogController.showTip(ErrMsg(a)))})}};LotteryController.startLotteryDropAction=function(){this.skelMachine.setAnimation(0,"on",!0);WaitingDialogController.show(-1)};
LotteryController.onDropRequestReturn=function(a,c){if(a){var d=this;this.skelMachine.setCompleteListener(function(){d.skelMachine.setCompleteListener(null);d.skelMachine.setAnimation(0,"end",!1);d.performDelay(function(){d.dropBall(c)},1)})}else WaitingDialogController.hide(),this.skelMachine.setAnimation(0,"star",!1)};
LotteryController.createDressRewardItem=function(a,c,d,e){a=MetaHelper.getEquipById(a);var f=null;if(a&&d){var g={},f=loadccb(GetAssetsPath("LotteryDressItem.ccbi"),g,d);f.setAnchorPoint(ccp(0.5,0.5));g.dressSprite.setDisplayFrameName("equip_"+a.id+".png");g.markNewSprite.setVisible(e);g.bellNode.setVisible(!e);g.petHeadSprite.setDisplayFrameName("head"+a.own+".png");g.dressDescLabel.setString(a.desc);g.descSpecialBg.setVisible(4<=a.rarity);g.descBg.setVisible(!g.descSpecialBg.isVisible());for(d=
1;5>=d;++d)g["spriteStar"+d].setVisible(d<=a.rarity);g.starNode.setPositionX(g.starNode.getPositionX()+9*(5-a.rarity));c&&c.push(g)}return f};LotteryController.createOtherRewardItem=function(a,c,d,e){a=GameIconHelper.getIconFrameName(a);c=null;if(a&&d){var f={};c=loadccb(GetAssetsPath("LotteryOtherItem.ccbi"),f,d);e=e||1;f.spriteIcon.setDisplayFrameName(a);f.labelCount.setString("x"+e);c.setAnchorPoint(ccp(0.5,0.5))}return c};
LotteryController.resetBallAnimation=function(){var a=this.skelMachine.getCurrent(0);this.skelMachine.setToSetupPose();a&&"on"==a.animation.name||this.skelMachine.setAnimation(0,"star",!1)};
LotteryController.onClickUnknowDress=function(){this.tenDropTipNode.setScale(0.1);this.tenDropTipNode.setOpacity(255);this.tenDropTipNode.setVisible(!0);this.tenDropTipNode.stopAllActions();var a=[];a.push(cc.scaleTo(0.3,1.1));a.push(cc.scaleTo(0.1,1));a.push(cc.delayTime(2));a.push(cc.fadeOut(0.5));a.push(cc.hide());this.tenDropTipNode.runAction(cc.sequence(a))};LotteryController.onHandbookButton=function(){audio.playSound(GameMusicType.kButtonClick);LotteryHandbookController.showLoading()};
LotteryController.onButtonReturn=function(){audio.playSound(GameMusicType.kButtonClick);this.back()};LotteryController.back=function(){SceneHelper.popScene()};LotteryController.showCheckDecompose=function(a,c,d){QueryDialogController.showLoading({text:string.expand(TextTable.t_card_text1,{dnum:a,bnum:c}),listener:d})};ShareKitController=createController("ShareKitController");ShareKitController.onViewCreate=function(){return loadccb(GetAssetsPath("ShareKit.ccbi"),this)};ShareKitController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.reset();EffectHelper.dialogLeftShow(this)};ShareKitController.reset=function(){this.listKitHolder=[];this.buildBaseUI(!1)};
ShareKitController.buildKits=function(){if(this.listKitHolder)for(var a=1;a<this.listKitHolder.length;a++)this.listKitHolder[a].node.removeFromParentAndCleanup(!0);this.listKitHolder=[];for(var c=0,a=5;0<a;a--){var d=MetaHelper.shareKitRewardDic[a-1];if(d&&d.star<=CacheHelper.getAssistBoardFriendCount()){c=a-1;break}}for(var d=CacheHelper.getShareKitGetedIds(),e=!1,a=1;4>=a;a++){for(var e=!1,f=1;f<=d.length;f++)if(d[f-1]==a){e=!0;break}var f=a,g=a<=c,h=[],m=loadccb(GetAssetsPath("ShareKitKitItem.ccbi"),
h,this),n="kit_img_0"+f+".png",r="kit_img_0"+f+"_open.png";h.spKit.setDisplayFrameName(g&&e?r:n);h.skelLight.setVisible(g&&!e);h.labelNeedInvite.setString(string.expand(TextTable.t_ShareKit_invite_num,{num:MetaHelper.shareKitRewardDic[f].star}));h.btnKit.setTag(f);h.node=m;g&&!e&&EffectHelper.jellyShake(h.spKit);this.listKitHolder[f]=h;m.setPosition(570,345+118*(f-1));this.kitNode.addChild(m)}this.refreshBottleStatus(c)};
ShareKitController.buildBaseUI=function(a){var c=this;c.curRecommedIndex=0;CacheHelper.getAndCacheAssistBoardFiendsInfo(this,function(a,e){0==a?(e=CacheHelper.getAssistBoardUserInfoList(),table.sort(e,function(a,c){return a.star>c.star}),c.labelInviteCount.setString(tostring(CacheHelper.getAssistBoardFriendCount())+"/100"),c.labelTicketCount.setString(tostring(CacheHelper.getRestRewardTicketCount())),c.buildKits(),c.buildFriendRecommedList()):TipDialogController.showTip(ErrMsg(a))},a)};
ShareKitController.buildFriendRecommedList=function(){var a=this;a.listFriendsRecommedHolder=[];TencentSdkManager.getBosomFriends(20,function(c){a.curRecommedIndex+4>c.length&&(a.curRecommedIndex=0);if(c&&0<c.length){a.btnMore.setVisible(!0);for(var d=a.curRecommedIndex+4,e=c.length,f=1+a.curRecommedIndex;f<=Math.min(d,e);f++){var g=f,h=c[g-1],m=[],n=a["nodeHead"+tostring(g-a.curRecommedIndex)];n.setVisible(!0);a["labelName"+tostring(g-a.curRecommedIndex)].setString(h.name);m.playerId=h.openId;m.node=
n;a["btnNode"+tostring(g-a.curRecommedIndex)].setTag(g-a.curRecommedIndex-1);a["btnNode"+tostring(g-a.curRecommedIndex)].setEnabled(!0);a["spInvite"+tostring(g-a.curRecommedIndex)].setVisible(!0);a["spInvited"+tostring(g-a.curRecommedIndex)].setVisible(!1);m.btnNode=a["btnNode"+tostring(g-a.curRecommedIndex)];m.spInvite=a["spInvite"+tostring(g-a.curRecommedIndex)];m.spInvited=a["spInvited"+tostring(g-a.curRecommedIndex)];n=a["spriteHead"+tostring(g-a.curRecommedIndex)];GameHelper.loadHeadSprite(n,
h.headUrl,!0);a.listFriendsRecommedHolder[g-a.curRecommedIndex-1]=m}}})};ShareKitController.refreshBottleStatus=function(a){0==a?this.progessKit.setPercentage(0):1==a?this.progessKit.setPercentage(10):2==a?this.progessKit.setPercentage(39):3==a?this.progessKit.setPercentage(70):4==a&&this.progessKit.setPercentage(100)};ShareKitController.onButtonMore=function(){audio.playSound(GameMusicType.kButtonClick);this.curRecommedIndex+=4;this.buildFriendRecommedList()};
ShareKitController.onButtonKitItem=function(a,c){audio.playSound(GameMusicType.kButtonClick);var d=MetaHelper.shareKitRewardDic[a],e=this,f=CacheHelper.getShareKitGetedIds(),g=d.star-CacheHelper.getAssistBoardFriendCount(),h=!1;if(0>=g)for(var m=0;m<f.length;m++)if(a==f[m]){h=!0;break}f=[];f.reward=d.reward;f.starsNum=g;m=this.listKitHolder[a].node;m=m.getParent().convertToWorldSpace(m.getPosition());f.pos=m;!h&&0<g?ShareKitTipController.showTip(f):!h&&0>=g?(WaitingDialogController.show(),HttpHelper.sendGetShareKitWithIndex(e,
a,function(a){WaitingDialogController.hide();if(0==a){a=c.convertToWorldSpace(c.getAnchorPointInPoints());for(var f=0;f<d.reward.length;f++){var g=d.reward[f];0<f?EffectHelper.itemFlyToUIAnim(g[0],g[1],a,this.layer,null,0.5):EffectHelper.itemFlyToUIAnim(g[0],g[1],a,this.layer)}notification.postEvent("event.ui.update");3==CacheHelper.getShareKitGetedIds().length&&TipDialogController.showTip(TextTable.t_ShareKit_refeshTip);e.buildBaseUI(!0)}else TipDialogController.showTip(ErrMsg(a))})):h&&TipDialogController.showTip(TextTable.t_ShareKit_hasGetTip)};
ShareKitController.onButtonBottle=function(){audio.playSound(GameMusicType.kButtonClick);if(!this.spBottleBubble.isVisible()){this.spBottleBubble.setScale(0.1);this.lableBottleTip.setString(TextTable.t_ShareKit_Text_starCount);var a=[];a.push(cc.show());a.push(cc.scaleTo(0.2,1.3));a.push(cc.scaleTo(0.05,1));a.push(cc.delayTime(1.25));a.push(cc.scaleTo(0.2,0.2));a.push(cc.scaleTo(0.05,0.05));a.push(cc.hide());a=cc.sequence(a);this.spBottleBubble.runAction(a)}};
ShareKitController.onButtonInvite=function(){audio.playSound(GameMusicType.kButtonClick);100<=CacheHelper.getAssistBoardFriendCount()&&TipDialogController.showTip(TextTable.t_ShareKit_Text_renshushangxian);var a=MathUtils.random(1,6);XCXManager.shareMessage({feedID:3002,title:TextTable["t_sharetitle3002_"+a],desc:TextTable["t_sharefeed3002_"+a],inviteType:1,query:"from\x3dinvite"})};
ShareKitController.onButtonPersonalInvite=function(a){audio.playSound(GameMusicType.kButtonClick);100<=CacheHelper.getAssistBoardFriendCount()&&TipDialogController.showTip(TextTable.t_ShareKit_Text_renshushangxian);a=this.listFriendsRecommedHolder[a].playerId;var c=MathUtils.random(1,6);XCXManager.shareMessage({openId:a,feedID:3005,title:TextTable["t_sharetitle3002_"+c],desc:TextTable["t_sharefeed3002_"+c],inviteType:1,game_tag:2,query:"from\x3dinvite"})};
ShareKitController.onButtonReward=function(){audio.playSound(GameMusicType.kButtonClick);var a=this;a.spIconReward.isVisible()||(0>=CacheHelper.getRestRewardTicketCount()?TipDialogController.showTip(TextTable.t_ShareKit_Text_cjanniu):HttpHelper.getCommonRewards(a,7,[],function(c,d){if(0==c){var e=d.rewards;CacheHelper.setRestRewardTicketCount();a.labelTicketCount.setString(tostring(CacheHelper.getRestRewardTicketCount()));var f=[];f.push(cc.scaleTo(0.15,0.58,0.54));f.push(cc.scaleTo(0.15,1,1));f.push(cc.scaleTo(0.15,
0.58,0.54));f.push(cc.scaleTo(0.15,1*a.spBottleCork.getScale(),1*a.spBottleCork.getScale()));f.push(cc.spawn(cc.moveBy(0.5,ccp(100,80)).easing(cc.easeElasticOut()),cc.rotateBy(0.5,60,0).easing(cc.easeElasticOut())));f.push(cc.callFunc(function(){a.particleNode.resetSystem();a.particleNode.setVisible(!0)}));a.spIconReward.setVisible(!0);a.spIconReward.setScale(0.1);a.spIconReward.setDisplayFrameName(GameIconHelper.getIconFrameName(e[0].itemId));a.spIconReward.runAction(cc.sequence(cc.scaleTo(0.3,1.2),
cc.scaleTo(0.05,1),cc.moveBy(1,ccp(0,280)),cc.callFunc(function(){GetRewardDialogController.show({rewards:e,tip:TextTable.t_Tip_Exchange_Code3});a.spIconReward.setVisible(!1);a.spIconReward.setPositionY(a.spIconReward.getPositionY()-280);a.spBottleCork.runAction(cc.sequence(cc.delayTime(1.5),cc.spawn(cc.moveBy(1,ccp(-100,-80)).easing(cc.easeElasticOut()),cc.rotateBy(1,-60,0).easing(cc.easeElasticOut()))));notification.postEvent("event.ui.update")})));f=cc.sequence(f);a.spBottleCork.runAction(f)}else TipDialogController.showTip(ErrMsg(c))}))};
ShareKitController.onButtonShareKitRule=function(){audio.playSound(GameMusicType.kButtonClick);ShareKitRuleController.show()};ShareKitController.onButtonBack=function(){audio.playSound(GameMusicType.kButtonClick);this.hide()};ShareKitController.back=function(){EffectHelper.dialogLeftHide(this)};Activity10001Config={icon:"res/image/720x1280/ico_activity_10001.png",title:"res/image/720x1280/txt_activity_10001.png",res:["res/image/720x1280/Activity10001Controller.js","res/image/720x1280/Activity10001Text.js","res/image/720x1280/activity_10001.plist"],isSupport:function(){return!0}};var ActivitySeven10001Controller=createController("ActivitySeven10001Controller");ActivitySeven10001Controller.onViewCreate=function(){return loadccb(GetAssetsPath("Activity_Seven_10001.ccbi"),this)};ActivitySeven10001Controller.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.registerEvent("event.ui.update");printf("registerEvent reset");this.reset();EffectHelper.dialogLeftShow(this)};ActivitySeven10001Controller.onViewEnter=function(){this.updateUI()};
ActivitySeven10001Controller.onEvents=function(a,c){"event.ui.update"==a&&this.updateUI()};
ActivitySeven10001Controller.reset=function(){printf("ActivitySeven10001Controller.reset");this.initData();this.listViewItems=[];var a=this.getConfig();printf("ActivitySeven10001Controller.reset config.length "+a.length);for(var c=1;c<=a.length;++c){if(6<c){this["labelNum"+tostring(c)].setString(string.expand(TextTable.t_activity10001_day,{num:c}));break}var d=a[c-1],e={};this["labelNum"+tostring(c)].setString(string.expand(TextTable.t_activity10001_day,{num:c}));this.listViewItems[d.id]=e;e.cfg=
d;e.index=c}};ActivitySeven10001Controller.onRewardClick=function(a,c){var d=this.getConfig()[a-1];ItemTipController.showWithButton(d.reward.id,d.reward.amount,c,d.reward.extra)};
ActivitySeven10001Controller.onButtonGetClicked=function(){var a=this,c=0;table.sort(a.state,function(a,c){return a.id<c.id});for(var d in a.state){var e=a.state[d];if(1==e.state){c=e.id;break}}0!=c&&(WaitingDialogController.show(),HttpHelper.sendActivity(this,10001,"reward",{rewardId:c},function(d,e,h){WaitingDialogController.hide();if(0!=d)TipDialogController.showTip(ErrMsg(100238)+"code:"+tostring(d));else{for(var m in a.state)if(d=a.state[m],d.id==c){d.state=2;break}e=null;for(m in a.config)if(d=
a.config[m],d.id==c){e=d;break}e&&(20004==e.reward.id?StoryLayerController.show({config:MeetPet20004Config,listener:function(){PetGetDialogController.show({petId:20004,autoOpen:!0,share:!0});notification.postEvent("event.ui.update");if(a.spBtnHasGain&&a.spBtnHasGain.isVisible())a.onButtonBack()}}):EffectHelper.itemFlyToUIAnim(e.reward.id,null,a["imgReward"+tostring(c)],null,function(){notification.postEvent("event.ui.update");if(a.spBtnHasGain&&a.spBtnHasGain.isVisible())a.onButtonBack()}));e&&(e.reward.extra?
ServerProxy.addItem(e.reward.id,e.reward.amount,parseInt(e.reward.extra)):ServerProxy.addItem(e.reward.id,e.reward.amount))}}))};
ActivitySeven10001Controller.updateUI=function(){printf("ActivitySeven10001Controller.updateUI");var a=this.getState(),c=!1,d;for(d in a){var e=a[d];7>e.id?2==e.state?(this["labelNum"+tostring(e.id)].setColor(cc.color(125,125,125)),this["okSpr"+tostring(e.id)].setVisible(!0),this["spGeted"+tostring(e.id)].setVisible(!0),this["spCur"+tostring(e.id)].setVisible(!1),this["spFur"+tostring(e.id)].setVisible(!1),this["skelLight"+tostring(e.id)].setVisible(!1)):0==e.state?(this["labelNum"+tostring(e.id)].setColor(cc.color(113,
149,57)),this["spGeted"+tostring(e.id)].setVisible(!0),this["spCur"+tostring(e.id)].setVisible(!1),this["spFur"+tostring(e.id)].setVisible(!0),this["okSpr"+tostring(e.id)].setVisible(!1),this["skelLight"+tostring(e.id)].setVisible(!1)):(this["labelNum"+tostring(e.id)].setColor(cc.color(115,74,36)),this["spGeted"+tostring(e.id)].setVisible(!1),this["spCur"+tostring(e.id)].setVisible(!0),this["spFur"+tostring(e.id)].setVisible(!1),this["okSpr"+tostring(e.id)].setVisible(!1),this["skelLight"+tostring(e.id)].setVisible(!0),
this["skelLight"+tostring(e.id)].runAction(cc.repeatForever(cc.rotateBy(10,360))),c=!0):2==e.state?this["okSpr"+tostring(e.id)].setVisible(!0):0==e.state?this["okSpr"+tostring(e.id)].setVisible(!1):(this["okSpr"+tostring(e.id)].setVisible(!1),c=!0)}c?(this.btnGet.setEnabled(!0),this.spBtnGain.setVisible(!0),this.spBtnHasGain.setVisible(!1)):(this.btnGet.setEnabled(!1),this.spBtnGain.setVisible(!1),this.spBtnHasGain.setVisible(!0))};
ActivitySeven10001Controller.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};ActivitySeven10001Controller.back=function(){EffectHelper.dialogLeftHide(this)};
ActivitySeven10001Controller.initData=function(){if(this.param){this.config=[];for(var a in this.param.config.newReward.reward){var c=this.param.config.newReward.reward[a],d=string.split(c.reward,":");if(d&&2<=d.length){var e=tonumber(d[0]),f=tonumber(d[1]),g=tonumber(c.id);null!=e&&null!=f&&null!=g&&table.insert(this.config,d[2]?{id:g,reward:{id:e,amount:f,extra:d[2]}}:{id:g,reward:{id:e,amount:f}})}}dump(this.config);table.sort(this.config,function(a,c){return a.id<c.id});this.state=[];for(a in this.param.reward)c=
this.param.reward[a],(g=string.split(a,"_"))&&2==g.length&&(c=tonumber(c),e=tonumber(g[1]),null!=c&&null!=e&&table.insert(this.state,{id:e,state:c}))}else this.state=[],this.config=[]};ActivitySeven10001Controller.getConfig=function(){return this.config};ActivitySeven10001Controller.getState=function(){return this.state};Activity10003Config={icon:"res/image/720x1280/ico_activity_10003.png",title:"res/image/720x1280/txt_activity_10003.png",res:["res/image/720x1280/Activity10003Controller.js","res/image/720x1280/Activity10003InfoController.js","res/image/720x1280/Activity10003Text.js","res/image/720x1280/activity_10003.plist"],isSupport:function(){return!0}};Activity10004Config={icon:"res/image/720x1280/ico_activity_10004.png",title:"res/image/720x1280/txt_activity_10004.png",res:["res/image/720x1280/Activity10004Controller.js"],isSupport:function(){return!0}};Activity10005Config={icon:"res/image/720x1280/ico_activity_10005.png",title:"res/image/720x1280/txt_activity_10005.png",res:["res/image/720x1280/Activity10005Controller.js"],isSupport:function(){return!0}};Activity10006Config={icon:"res/image/720x1280/ico_activity_10006.png",title:"res/image/720x1280/txt_activity_10006.png",res:["res/image/720x1280/Activity10006Controller.js","res/image/720x1280/Activity10006KitController.js","res/image/720x1280/activity_10006.plist"],isSupport:function(){return!0}};console.log("game_part_start");
var GameModeBase=cw.Class({ctor:function(a){this.tileLogic=a},initGame:function(){function a(){d.tileLogic.setGamePlayStatus(TileGameStatus.kNormal);d.tileLogic.fsm.initState();d.tileLogic.tileView.isPaused=!1;notification.postEvent("event.game.startgame")}function c(){d.tileLogic.tileUIDelegate.playGameTargetAnimation(a)}var d=this;this.tileLogic.tileUIDelegate?this.tileLogic.tileUIDelegate.playPrePropAnimation(c):a();this.tileLogic.tileView.playSmallToBigAction();this.tileLogic.stopWaitingOperation()},
initModeOther:function(a){},initTotalTargetCount:function(){this.tileLogic.totalTargetCount=this.getTotalTargetCount()},getTotalTargetCount:function(){return 0},getFinishPercent:function(){if(0>=this.tileLogic.totalTargetCount)return 0;var a=this.getTotalTargetCount();return 0==a?1:1-a/this.tileLogic.totalTargetCount},update:function(a){},afterSwap:function(a,c){},afterStable:function(a,c){},afterFail:function(){this.tileLogic.setGamePlayStatus(TileGameStatus.kFailed)},useStep:function(){},getStarByScore:function(){var a=
this.tileLogic,c=0;if(a&&a.starScores)for(var d=0;d<a.starScores.length;++d)if(a.totalScore>=a.starScores[d])c=d+1;else break;return c},isGameEnd:function(){return!1},isFinishTarget:function(){return 0<this.getStarByScore()},canChangeStepToEffect:function(){return!0},saveTileRevertData:function(a){},revertTileRevertData:function(){var a=this.tileLogic;a.tileItemMap=a.tileRevertData.tileItemMap;a.tileBoardMap=a.tileRevertData.tileBoardMap;a.totalScore=a.tileRevertData.totalScore;a.theCurMoves+=1;a.blockProduceRules=
a.tileRevertData.blockProduceRules;a.cachePool=a.tileRevertData.cachePool;a.tileRevertData=null;ItemFallingLogic.updateHelpMapByDeleteBlock(a)},revertUIByBackProp:function(){var a=this.tileLogic;a.tileUIDelegate&&(a.tileUIDelegate.setMoveCount(a.theCurMoves,!1),a.tileUIDelegate.scoreProgressBar.revertScoreTo(a.totalScore))},getFailReason:function(){return this.failReason},setFailReason:function(a){this.failReason=a},is:function(a){return this instanceof a}});var GameModeManager=cw.Class({});
GameModeManager.create=function(a){printf("-- GameMode:",a.curGameModeType);var c=a.curGameModeType;return c==GameModeType.KStepMode?new StepMode(a):c==GameModeType.kBearGoHome?new BearGoHomeMode(a):c==GameModeType.kIceClean?new IceCleanMode(a):c==GameModeType.kOrder?new OrderMode(a):c==GameModeType.kTimeMode?new TimeMode(a):c==GameModeType.kHoney?new HoneyMode(a):c==GameModeType.kFindBear?new FindBearMode(a):c==GameModeType.kBaldStrong?new BaldStrongMode(a):c==GameModeType.kClayMode?new ClayMode(a):
c==GameModeType.kKitchenGod?new KitchenGodMode(a):new GameModeBase(a)};var MoveMode=cw.Class.extend(GameModeBase,{update:function(a){!1==this.tileLogic.isGamePaused&&(this.tileLogic.timeTotalUsed+=a)},isGameEnd:function(){return 0>=this.tileLogic.theCurMoves},afterFail:function(){TileExtandLogic.showAddStepPanel(this)},getAddSteps:function(a){var c=this.tileLogic;c.theCurMoves+=a;c.tileUIDelegate&&c.tileUIDelegate.setMoveCount(c.theCurMoves,!1)},useStep:function(){var a=this.tileLogic;a.theCurMoves-=1;a.tileUIDelegate&&a.tileUIDelegate.setMoveCount(a.theCurMoves,!1)}});var MapMoveMode=cw.Class.extend(MoveMode,{initGame:function(){function a(){e.tileLogic.setGamePlayStatus(TileGameStatus.kNormal);e.tileLogic.tileView.showItemViewLayer();e.tileLogic.tileView.removeScrollTileMapView();e.tileLogic.tileView.isPaused=!1;e.tileLogic.fsm.initState()}function c(){e.tileLogic.tileUIDelegate?e.tileLogic.tileUIDelegate.playPrePropAnimation(a):a()}function d(){e.tileLogic.tileView.startScrollInitTileMapView(c)}var e=this;this.tileLogic.passedRow=0;if(null==e.tileLogic.moveItemMap||
0==e.tileLogic.moveItemMap.length)this._super();else{var f=e.getExtraItemMap(0,e.tileLogic.moveItemMap.length),g=e.getExtraBoardMap(0,e.tileLogic.moveBoardMap.length);this.tileLogic.tileView.initScrollTileMapView(f,g);this.tileLogic.tileView.hideItemViewLayer();this.tileLogic.tileUIDelegate?this.tileLogic.tileUIDelegate.playGameTargetAnimation(d):d();this.tileLogic.stopWaitingOperation()}},isGameEnd:function(){return this._super()},isFinishTarget:function(){return this._super()},getExtraItemMap:function(a,
c){for(var d=[],e=this.tileLogic.tileItemMap.length,f=0;f<e;++f)d.push(this.tileLogic.tileItemMap[f]);for(var g=0;g<c;++g){f=g+a;d.push(this.tileLogic.moveItemMap[f]);for(var h=0;h<this.tileLogic.moveItemMap[f].length;++h)this.tileLogic.moveItemMap[f][h].y=g+e}return d},getExtraBoardMap:function(a,c){for(var d=[],e=this.tileLogic.tileBoardMap.length,f=0;f<e;++f)d.push(this.tileLogic.tileBoardMap[f]);for(var g=0;g<c;++g){f=g+a;d.push(this.tileLogic.moveBoardMap[f]);for(var h=0;h<this.tileLogic.moveBoardMap[f].length;++h)this.tileLogic.moveBoardMap[f][h].y=
g+e}return d},getMoveUpRow:function(a,c,d,e){a-=e;return c<a?c:a},isCanMove:function(a,c,d,e){d=this.isFinishTarget();return!d&&e<=a||d&&e<c?!0:!1},checkScrollTileMap:function(a){var c=this.getNumAvailableRow();if(0>=c)return!1;var d=this.getMinMaxLimit(),e=d[0],d=d[1],f=this.getItemMinRow(),g=this.getItemMaxRow();return this.isCanMove(e,d,f,g)?(c=this.getMoveUpRow(d,c,f,g),this.scrollTileMap(c,a),!0):!1},scrollTileMap:function(a,c){var d=this.getExtraItemMap(this.tileLogic.passedRow,a),e=this.getExtraBoardMap(this.tileLogic.passedRow,
a),f=this.tileLogic,g=this;this.tileLogic.passedRow+=a;this.tileLogic.tileView.hideItemViewLayer();this.tileLogic.tileView.scrollMoreTileMapView(d,e,function(){for(var h=[],m=[],n=ItemFallingLogic.preOutputOrigin(f,a+1),r=0;9>r;++r){var s=r+a;h[r]=[];m[r]=[];for(var t=0;9>t;++t){var u=d[s][t].copy();u.y=r;var w=e[s][t].copy();w.y=r;if(1==r&&!w.isProducer&&n[a+1][t]){var z=n[a+1][t];w.isProducer=f.tileBoardMap[z.r][z.c].isProducer;w.theTileItemFallType=cw.clone(f.tileBoardMap[z.r][z.c].theTileItemFallType)}h[r][t]=
u;m[r][t]=w;f.addNeedCheckMatchPoint(r,t)}}f.tileItemMap=null;f.tileItemMap=h;f.tileBoardMap=null;f.tileBoardMap=m;g.scrollFristCallback();ItemFallingLogic.preUpdateHelpMap(f);f.tileView.reInitByTileLogic();f.tileView.showItemViewLayer();f.tileView.removeScrollTileMapView();c&&"function"==typeof c&&c()})},scrollFristCallback:function(){TileMapInitLogic.initPortal(this.tileLogic,this.tileLogic.portals);this.scrollCallback()},scrollCallback:function(){},getNumAvailableRow:function(){return this.tileLogic.moveItemMap.length-
this.tileLogic.passedRow},getItemMaxRow:function(){var a=this.getItemTypes();if(!a||0==a.length)return 0;for(var c=this.tileLogic.tileItemMap,d=0;d<c.length;++d)for(var e=0;e<c[d].length;++e)for(var f=0;f<a.length;++f)if(c[d][e].tileItemType==a[f])return 10-d;return 0},getItemMinRow:function(){var a=this.getItemTypes();if(!a||0==a.length)return 0;for(var c=this.tileLogic.tileItemMap,d=c.length-1;0<=d;--d)for(var e=0;e<c[d].length;++e)for(var f=0;f<a.length;++f)if(c[d][e].tileItemType==a[f])return 10-
d;return 0},getItemTypes:function(){return[]},getMinMaxLimit:function(){return[2,4]},saveTileRevertData:function(a){a.passedRow=this.tileLogic.passedRow;this._super(a)},revertTileRevertData:function(){var a=this.tileLogic;a.passedRow=a.tileRevertData.passedRow;this._super()},revertUIByBackProp:function(){this.tileLogic.tileView.resetTileMapPosition();this._super()}});var StepMode=cw.Class.extend(MoveMode,{isGameEnd:function(){return this._super()||3<=this.getStarByScore()}});OrderMode=cw.Class.extend(MoveMode,{initModeOther:function(a){this.tileLogic.theOrderLimit=a.orderLimit||1;if(a.orderMap)for(var c in a.orderMap){var d=a.orderMap[c],e=0,f=0,g=0,h=null,m=0,n;for(n in d){var r=d[n];if("k"==n){var s=r.split("_"),e=tonumber(s[0]),f=tonumber(s[1]);3<=s.length&&(m=tonumber(s[2]))}"v"==n&&(g=tonumber(r));"d"==n&&(h=r)}g=this.getTargetCount(e,f,g);this.addToOrderList(e,f,g,h,m)}if(a=this.tileLogic.extOrders)for(c=0;c<a.length;++c)d=a[c],this.addToOrderList(d.k1,d.k2,d.k3);
this.randomRandomFruit()},getTotalTargetCount:function(){var a=0;if(this.tileLogic.theOrderList)for(var c in this.tileLogic.theOrderList)var d=this.tileLogic.theOrderList[c],a=a+Math.max(d.v1-d.f1,0);return a},useStep:function(){this.isWaitingBackProp&&(this.isSandstormFail=!0,this.setFailReason("sandstorm"));this._super()},afterFail:function(){this.isWaitingBackProp?this.tileLogic.setGamePlayStatus(TileGameStatus.kFailed):this._super()},isGameEnd:function(){if(!this.targetIsSandstorm()||this.sandstormTargetReached()||
0!=this.getSandstormCount()||this.isWaitingBackProp)return this.isSandstormFail?!0:this._super()||this.checkOrderListFinished();this.isWaitingBackProp=!0},isFinishTarget:function(){return this.checkOrderListFinished()},saveTileRevertData:function(a){var c=this.tileLogic,d=[],e;for(e in c.theOrderList)d.push(this.theOrderList[e].copy());a.theOrderList=d;this._super(a)},revertTileRevertData:function(){this.isWaitingBackProp=!1;var a=this.tileLogic;a.theOrderList=a.tileRevertData.theOrderList;this._super()},
revertUIByBackProp:function(){var a=this.tileLogic,c;for(c in a.theOrderList){var d=a.theOrderList[c];a.tileUIDelegate&&(d=d.v1-d.f1,0>d&&(d=0),a.tileUIDelegate.setGameTargetNumber(c,d))}this._super()},checkOrderListFinished:function(){for(var a in this.tileLogic.theOrderList){var c=this.tileLogic.theOrderList[a];if(c.f1<c.v1)return!1}return!0},addToOrderList:function(a,c,d,e,f){a==TileItemOrderType.kGiftTarget&&e&&(d=e.length);a=TileItemOrderData.create(a,c,d,e,f);this.tileLogic.theOrderList[this.tileLogic.theOrderList.length]=
a},randomRandomFruit:function(){for(var a=this.tileLogic,c={},d=[],e=0;e<a.theOrderList.length;++e){var f=a.theOrderList[e];f.key1==TileItemOrderType.kFruit&&(7==f.key2?table.insert(d,f):c[f.key2]=!0)}e=d.length;if(0<e)for(;0<e;)f=a.randomColor(),null==c[f]&&(c[f]=!0,d[e-1].key2=f,e-=1)},targetIsSandstorm:function(){var a=this.tileLogic.theOrderList,c=!1,d;for(d in a){var e=a[d];4==e.key1&&3==e.key2&&(c=!0)}return c},getSandstormCount:function(){return this.getCountByType(TileItemType.kSandstorm)},
getFlameCount:function(){return this.getCountByType(TileItemType.kFlame)},sandstormTargetReached:function(){var a=this.tileLogic.theOrderList,c;for(c in a){var d=a[c];if(4==d.key1&&3==d.key2&&d.v1<=d.f1)return!0}return!1},getCountByType:function(a){for(var c=this.tileLogic.tileItemMap,d=0,e=0;e<c.length;++e)for(var f=0;f<c[e].length;++f){var g=c[e][f];g&&g.tileItemType==a&&(a==TileItemType.kSandstorm?0<g.sandstormLevel&&(d+=1):a==TileItemType.kFlame?0<g.flameLevel&&(d+=1):d+=1)}return d},getTargetCount:function(a,
c,d){if(a==TileItemOrderType.kAllTarget){if(c==TileItemOrderType_AT.kSandstorm)return this.getSandstormCount();if(c==TileItemOrderType_AT.kFlame)return this.getFlameCount()}return d},afterSwap:function(a,c){this.tryBearGoHome(a,c)},afterStable:function(a,c){return this.tryBearGoHome(a,c)},tryBearGoHome:function(a,c){var d=this.tileLogic,e=d.tileBoardMap[a][c],f=!1,g=e.giftColor;if(0<g){var h=d.tileItemMap[a][c];h.tileItemType==TileItemType.kFruit&&g==h.fruitColorType&&(f=!0,e.giftColor=0,h.cleanFruitData(),
h.isNeedUpdate=!0,TileExtandLogic.runGiftBoxFinishAction(d,a,c,g,null,!0))}return f}});BaldStrongMode=cw.Class.extend(MoveMode,{initModeOther:function(a){this.tileLogic.kBaldStrongLeftCount=this.checkAllBaldStrongCount()},isGameEnd:function(){this.tileLogic.kBaldStrongLeftCount=this.checkAllBaldStrongCount();return this._super()||0>=this.tileLogic.kBaldStrongLeftCount},isFinishTarget:function(){return 0>=this.tileLogic.kBaldStrongLeftCount},getTotalTargetCount:function(){return this.checkAllBaldStrongCount()},checkAllBaldStrongCount:function(a){for(var c=this.tileLogic.tileItemMap,
d=0,e=0;e<c.length;++e)for(var f=0;f<c[e].length;++f){var g=c[e][f];g.isUsed&&g.tileItemType==TileItemType.kBaldStrong&&0<g.bossLevel&&(a?0<g.blood&&(d+=1):d+=1)}return d},saveTileRevertData:function(a){a.kBaldStrongLeftCount=this.tileLogic.kBaldStrongLeftCount;this._super(a)},revertTileRevertData:function(){var a=this.tileLogic;a.kBaldStrongLeftCount=a.tileRevertData.kBaldStrongLeftCount;this._super()},revertUIByBackProp:function(){var a=this.tileLogic;a.tileUIDelegate&&a.tileUIDelegate.setGameTargetNumber(1,
a.kBaldStrongLeftCount);this._super()}});var BearGoHomeMode=cw.Class.extend(MapMoveMode,{initModeOther:function(a){this.tileLogic.bearGoHomeTotal=a.itemCollectNum},getItemCountOnScreen:function(){for(var a=this.tileLogic.tileItemMap,c=0,d=0;d<a.length;++d)for(var e=0;e<a[d].length;++e)a[d][e].tileItemType==TileItemType.kTwoBear&&(c+=1);return c},getTotalTargetCount:function(){return this.tileLogic.bearGoHomeTotal-this.tileLogic.bearGoHomeCount},isGameEnd:function(){return this._super()||this.tileLogic.bearGoHomeCount>=this.tileLogic.bearGoHomeTotal},
isFinishTarget:function(){return this.tileLogic.bearGoHomeCount>=this.tileLogic.bearGoHomeTotal},saveTileRevertData:function(a){a.bearGoHomeCount=this.tileLogic.bearGoHomeCount;this._super(a)},revertTileRevertData:function(){var a=this.tileLogic;a.bearGoHomeCount=a.tileRevertData.bearGoHomeCount;this._super()},revertUIByBackProp:function(){var a=this.tileLogic,c=a.bearGoHomeTotal-a.bearGoHomeCount;a.tileUIDelegate&&a.tileUIDelegate.setGameTargetNumber(1,c);this._super()},afterSwap:function(a,c){this.tryBearGoHome(a,
c)},afterStable:function(a,c){return this.tryBearGoHome(a,c)},tryBearGoHome:function(a,c){var d=this.tileLogic,e=!1;if(d.tileBoardMap[a][c].isCollector){var f=d.tileItemMap[a][c];if(f.tileItemType==TileItemType.kTwoBear){e=!0;f.AddItemStatus(TileItemStatusType.kDestroy);ScoreCalculateLogic.addScoreAtSiteByType(d,a,c,ScoreType.kBase_Bear);var g=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItem_BearGoHome,ccp(a,c),null,TileConst_BearGoHome_DropDown_Time);g.addInfo="Pass";
g.tileShowType=f.showType;d.addDestroyAction(g);d.toBeCollected+=1;d.bearGoHomeCount+=1;d.recordGameData(TileRecordType.kBlock,TileRecordBlockType.kBriar)}}return e},isCanMove:function(a,c,d,e){if(e>=c)return!1;e=this.isFinishTarget();return!e&&d<=a||e&&d<c?!0:!1},getMinMaxLimit:function(){return[1,9]},getItemTypes:function(){return[TileItemType.kTwoBear]},scrollCallback:function(){}});FindBearMode=cw.Class.extend(MapMoveMode,{initModeOther:function(a){this.bearList=a.bearList;this.initBearItem();this.tileLogic.kFindBearTotal=this.checkAllFindBearCount();this.tileLogic.kFindBearLeftCount=this.tileLogic.kFindBearTotal},getTotalTargetCount:function(){return this.checkAllFindBearCount()},initBearItem:function(){var a=this.tileLogic.passedRow;null==a&&(a=0);a=this.randomBearList(this.bearList,null,10,a);printf("-------bearList-------");for(var c=0;c<a.length;++c){var d=a[c];if(this.tileLogic.isPosValid(d[0],
d[1]))for(var d={id:c,r:d[0],c:d[1],width:d[2],height:d[3]},e=0;e<d.height;++e)for(var f=0;f<d.width;++f){var g=d.r+e-1,h=d.c+f-1;this.tileLogic.isPosValid(g,h)&&this.tileLogic.tileBoardMap[g][h].initFindBear(d)}}},getBearOKList:function(a,c){for(var d=[],e=0;e<a.length;++e){var f=a[e];f[0]-=c;if(this.tileLogic.isPosValid(f[0],f[1])){var g=f[2],h=f[3];null==f[4]&&(f[5]=0);null==f[5]&&(f[6]=0);for(var g=g+f[6],h=h+f[5],m=[],n=[],r=0;r<h;++r)for(var s=0;s<g;++s){var t=f[0]+r-1,u=f[1]+s-1;this.tileLogic.isPosValid(t,
u)||table.insert(n,{r:t,c:u})}for(r=0;r<f[4]+1;++r)for(s=0;s<f[5]+1;++s){t=f[0]+r-1;u=f[1]+s-1;for(g=0;g<n.length;++g)if(h=n[g],t<=h.r&&t>=h.r-f[3]&&u<=h.c&&u>=h.c-f[2]){u=t=0;break}if(0==t&&0==u)break;table.insert(m,{r:t,c:u})}if(0==m.length)break;d[e]=m}}return d},randomBearList:function(a,c,d,e){d||(d=1);if(0>=d)return a;printf("-------------random times:",d);var f=cw.clone(a);c=c||this.getBearOKList(f,e);for(var g=0;g<f.length;++g){var h=f[g];if(null!=c[g]){var m=MathUtils.random(0,c[g].length-
1);h[0]=c[g][m].r;h[1]=c[g][m].c}else h[0]=0,h[1]=0}for(g=0;g<f.length;++g)for(h=g+1;h<f.length;++h)if(0<f[g][0]&&0<f[h][0]){var m=cc.rect(f[g][0],f[g][1],f[g][3]-1,f[g][2]-1),n=cc.rect(f[h][0],f[h][1],f[h][3]-1,f[h][2]-1);if(cc.rectIntersectsRect(m,n))return this.randomBearList(a,c,d-1,e)}return f},isGameEnd:function(){this.tileLogic.kFindBearLeftCount=this.checkAllFindBearCount();return this._super()||0>=this.tileLogic.kFindBearLeftCount},isFinishTarget:function(){return 0>=this.tileLogic.kFindBearLeftCount},
checkAllFindBearCount:function(){return this.checkCurentBearCount()+this.checkDigMapBearCount()},checkCurentBearCount:function(){for(var a=this.tileLogic,c=0,d={},e=0;e<a.tileItemMap.length;++e)for(var f=0;f<a.tileItemMap[e].length;++f){var g=a.tileBoardMap[e][f];g.isUsed&&g.bearInfo&&null==d[g.bearInfo.id]&&(d[g.bearInfo.id]=g.bearInfo,c+=1)}return c},checkDigMapBearCount:function(){var a=0,c=this.tileLogic.passedRow;null==c&&(c=0);for(var d in this.bearList)this.bearList[d][0]>=c+9&&(a+=1);return a},
checkLeftFindBearCount:function(){this.tileLogic.kFindBearLeftCount=this.checkAllFindBearCount();return this.tileLogic.kFindBearLeftCount},saveTileRevertData:function(a){a.kFindBearLeftCount=this.tileLogic.kFindBearLeftCount;this._super(a)},revertTileRevertData:function(){var a=this.tileLogic;a.kFindBearLeftCount=a.tileRevertData.kFindBearLeftCount;this._super()},revertUIByBackProp:function(){var a=this.tileLogic;a.tileUIDelegate&&a.tileUIDelegate.setGameTargetNumber(1,a.kFindBearLeftCount);this._super()},
isCanMove:function(a,c,d,e){if(e>=c)return!1;a=this.isFinishTarget();c=0<this.checkCurentBearCount();return!a&&!c||a&&!c?!0:!1},getMinMaxLimit:function(){return[0,8]},getItemTypes:function(){return[]},scrollCallback:function(){this.initBearItem()}});HoneyMode=cw.Class.extend(MoveMode,{initModeOther:function(a){for(var c=a.tileMap,d=this.tileLogic.tileBoardMap,e=0;e<c.length;++e)for(var f=0;f<c[e].length;++f)d[e][f].initHoney(c[e][f]);this.tileLogic.kHoneyModeTarget=a.honeyModeTarget||1;this.tileLogic.kHoneyTotal=this.checkAllHoneyCount();this.tileLogic.kHoneyNeedTotal=this.checkNeedHoneyCount();this.tileLogic.kHoneyLeftCount=this.tileLogic.kHoneyNeedTotal-this.tileLogic.kHoneyTotal},getTotalTargetCount:function(){return this.tileLogic.kHoneyNeedTotal-
this.checkAllHoneyCount()},isGameEnd:function(){this.tileLogic.kHoneyTotal=this.checkAllHoneyCount();this.tileLogic.kHoneyLeftCount=this.tileLogic.kHoneyNeedTotal-this.tileLogic.kHoneyTotal;return this._super()||0>=this.tileLogic.kHoneyLeftCount},isFinishTarget:function(){return 0>=this.tileLogic.kHoneyLeftCount},checkAllHoneyCount:function(){for(var a=this.tileLogic,c=a.tileItemMap,d=0,e=0;e<c.length;++e)for(var f=0;f<c[e].length;++f){var g=tileBoardMap[e][f];!0==g.isUsed&&g.honeyLevel==a.kHoneyModeTarget&&
(d+=1)}return d},checkNeedHoneyCount:function(){for(var a=this.tileLogic.tileItemMap,c=0;0<a.length;)for(var d=0;d<a[0].length;++d)!0==tileBoardMap[0][d].isUsed&&(c+=1);return c},checkLeftHoneyCount:function(){this.tileLogic.kHoneyTotal=this.checkAllHoneyCount();this.tileLogic.kHoneyLeftCount=this.tileLogic.kHoneyNeedTotal-this.tileLogic.kHoneyTotal;return this.tileLogic.kHoneyLeftCount},saveTileRevertData:function(a){a.kHoneyLeftCount=this.tileLogic.kHoneyLeftCount;this._super(a)},revertTileRevertData:function(){var a=
this.tileLogic;a.kHoneyLeftCount=a.tileRevertData.kHoneyLeftCount;this._super()},revertUIByBackProp:function(){var a=this.tileLogic;a.tileUIDelegate&&a.tileUIDelegate.setGameTargetNumber(1,a.kHoneyLeftCount);this._super()}});IceCleanMode=cw.Class.extend(MoveMode,{initModeOther:function(a){this.tileLogic.kIceCleanTotal=this.checkAllLightCount();this.tileLogic.kIceCleanLeftCount=this.tileLogic.kIceCleanTotal},getTotalTargetCount:function(){return this.checkAllLightCount()},isGameEnd:function(){this.tileLogic.kIceCleanLeftCount=this.checkAllLightCount();return MoveMode.isGameEnd(this)||0>=this.tileLogic.kIceCleanLeftCount},isFinishTarget:function(){return 0>=this.tileLogic.kIceCleanLeftCount},checkAllLightCount:function(){for(var a=
this.tileLogic.tileItemMap,c=0,d=0;d<a.length;++d)for(var e=0;e<a[d].length;++e){var f=tileBoardMap[d][e];!0==f.isUsed&&(c+=f.iceLevel)}return c},saveTileRevertData:function(a){a.kIceCleanLeftCount=this.tileLogic.kIceCleanLeftCount;this._super(a)},revertTileRevertData:function(){var a=this.tileLogic;a.kIceCleanLeftCount=a.tileRevertData.kIceCleanLeftCount;this._super()},revertUIByBackProp:function(){var a=this.tileLogic;a.tileUIDelegate&&a.tileUIDelegate.setGameTargetNumber(1,a.kIceCleanLeftCount);
this._super()}});KitchenGodMode=cw.Class.extend(OrderMode,{initModeOther:function(a){this.tileLogic.theOrderLimit=3;this.tileLogic.theCurMoves=4;this.tileLogic.curRound=0;this.gameOver=!1;this.tileLogic.kichenGodStar=0;this.tileLogic.kichenGodHoney=0;this.tileLogic.customerOrder={};this.tileLogic.bearOrder={};this.tileLogic.bearBlockList={};if(a.kitchenGodOrder)for(var c in a.kitchenGodOrder){var d=a.kitchenGodOrder[c],e;for(e in d){var f=d[e],g;for(g in f){var h=f[g],m=0,n=0,r=0,s=0,t;for(t in h){var u=h[t];"k"==
t?(u=u.split("_"),m=tonumber(u[0]),n=tonumber(u[1]),3<=u.length&&(r=tonumber(u[2]))):"v"==t&&(s=tonumber(u));1==g&&(g=TileItemOrderType.kSpecialTarget)}this.addToOrderList(c,e,m,n,r,s)}}}a.kitchenGodBlock&&(this.tileLogic.kitchenGodBlock=a.kitchenGodBlock);this.nextRound()},addToOrderList:function(a,c,d,e,f,g){2==d&&(d=4);var h=null;0==a?(this.tileLogic.customerOrder[c]||(this.tileLogic.customerOrder[c]=[]),h=this.tileLogic.customerOrder[c]):1==a&&(this.tileLogic.bearOrder[c]||(this.tileLogic.bearOrder[c]=
[]),h=this.tileLogic.bearOrder[c]);h&&(a=TileItemOrderData.create(d,e,g,null,f),h[h.length]=a)},isGameEnd:function(){return 0>=this.tileLogic.theCurMoves?!0:!1},checkOrderListFinished:function(){return this._super()},isFinishTarget:function(){return this.checkOrderListFinished()||this.isGameSuccess},canChangeStepToEffect:function(){return!1},afterFail:function(){TileExtandLogic.showAddStepPanel(this)},nextRound:function(){this.tileLogic.curRound+=1;var a=MathUtils.mod(this.tileLogic.curRound,3);this.tileLogic.bearBuff=
0;if(0!=a){if(a=2*Math.floor(this.tileLogic.curRound/3)+a,this.tileLogic.theOrderList=this.tileLogic.customerOrder[a-1],this.tileLogic.isBearOrder=!1,4==this.tileLogic.curRound||7==this.tileLogic.curRound)this.tileLogic.bearBuff=Math.random2(1,5),1==this.tileLogic.bearBuff&&(this.tileLogic.bearBuffAdd=5)}else a=Math.floor(this.tileLogic.curRound/3),this.tileLogic.theOrderList=this.tileLogic.bearOrder[a-1],this.tileLogic.kitchenGodBlock&&(this.tileLogic.bearBlockList=this.tileLogic.kitchenGodBlock[a-
1]),this.tileLogic.addBearHoney=2*(a-1)+1,this.tileLogic.isBearOrder=!0,this.getBearHoney=!1;this.tileLogic.theOrderLimit=this.tileLogic.theOrderList.length;this.tileLogic.roundMove=12;this.tileLogic.isNewRound=!0;this.getAddSteps(8);this.tileLogic.tileUIDelegate&&this.tileLogic.tileUIDelegate.setRound(this.tileLogic.curRound)},gameSuccess:function(){this.isGameSuccess=!0},isSuccess:function(){return this.isGameSuccess||!1},useStep:function(){var a=this.tileLogic;1==a.bearBuff&&0<this.tileLogic.bearBuffAdd?
(this.tileLogic.bearBuffAdd-=1,a.tileUIDelegate&&a.tileUIDelegate.updateBuff(this.tileLogic.bearBuffAdd)):(a.theCurMoves-=1,a.isBearOrder||(a.roundMove-=1),0>a.roundMove&&(a.roundMove=0),a.tileUIDelegate&&a.tileUIDelegate.setMoveCount(a.theCurMoves,!1))},getStarOrHoney:function(a){this.tileLogic.isBearOrder?this.getBearHoney||(this.tileLogic.kichenGodHoney=this.tileLogic.kichenGodHoney+2*(Math.floor(this.tileLogic.curRound/3)-1)+1,this.getBearHoney=!0):(a=Math.ceil(this.tileLogic.roundMove/4),this.tileLogic.kichenGodStar+=
a,3==this.tileLogic.bearBuff&&(this.tileLogic.kichenGodStar+=a))},getScore:function(){var a=MetaHelper.kitchenGod;return Math.floor(this.tileLogic.kichenGodStar*a.cfg.starValue+this.tileLogic.kichenGodHoney*a.cfg.honeyValue+this.tileLogic.theCurMoves*a.cfg.movesValue)}});TileViewType=Utils.Enum("kNone kBackground kBackgroundEdge kSlide kTileBlocker kSwichArea kBear kHoney kCutyPet kSand kSandMove kIce kGiftBox kItemSelected kItemLayer kItemBlink kItemHint kItem kItemShow kClipping kEnterClipping kCondiment kLock kWood kJumpCat kGiftBoxFr kBigBoss kHoneyFront kLockEliminate kStoneEliminate kAshEliminate kNormalEffect kHelmetEliminate kTransClipping kPass kConveyorBeltDoor kSlideArrow kFlyLine kSpecial kItemDestroy kItemDestroy2 kSpecial2 kWatermelonFly kItemBack kPopcornRepair kBackgroundEffect kLast".split(" "));PropView=cw.Class({});
PropView.playCrossEffectAnimation=function(a,c){var d=GameWorldPropController.getWorldPositionByType(FruitTypeConfig.kBigCross),e;a.tileUIDelegate&&a.tileUIDelegate.effectLayer?e=a.tileLogic.getGameItemPosInView(c.x,c.y):(e=a.baseMap[c.x][c.y],e=ccp(e.pos_x,e.pos_y));var f=GameIconHelper.getIconFrameName(11003),g=Sprite.createWithSpriteFrameName(f);g.setPositionXY(d.x,d.y);a.tileUIDelegate&&a.tileUIDelegate.effectLayer?a.tileUIDelegate.effectLayer.addChild(g):a.addChild(g);d=[];d.push(cc.moveTo(TileItemViewRunner.getActionTime(TileConst_CrossProp_Action_Time),
e));d.push(cc.fadeOut(TileItemViewRunner.getActionTime(TileConst_CrossProp_Action_Time)));d.push(cc.callFunc(function(){g.removeFromParentAndCleanup(!0)}));g.runAction(cc.sequence(d))};
PropView.playRegionalEffectAnimation=function(a,c){var d=GameWorldPropController.getWorldPositionByType(FruitTypeConfig.kBigCross),e;a.tileUIDelegate&&a.tileUIDelegate.effectLayer?e=a.tileLogic.getGameItemPosInView(c.x,c.y):(e=a.baseMap[c.x][c.y],e=ccp(e.pos_x,e.pos_y));var f=GameIconHelper.getIconFrameName(11004),g=Sprite.createWithSpriteFrameName(f);g.setPositionXY(d.x,d.y);a.tileUIDelegate&&a.tileUIDelegate.effectLayer?a.tileUIDelegate.effectLayer.addChild(g):a.addChild(g);d=[];d.push(cc.moveTo(TileItemViewRunner.getActionTime(TileConst_CrossProp_Action_Time),
e));d.push(cc.fadeOut(TileItemViewRunner.getActionTime(TileConst_CrossProp_Action_Time)));d.push(cc.callFunc(function(){g.removeFromParentAndCleanup(!0)}));g.runAction(cc.sequence(d))};
PropView.createHammerAnimation=function(){var a=FruitIconFactory.getInstance().createPropIcon(11002);a.setAnchorPoint(ccp(0.9,0.1));a.setRotation(20);var c=[];c.push(cc.rotateTo(TileItemViewRunner.getActionTime(TileConst_Hammer_1stUpTime),50));c.push(cc.rotateTo(TileItemViewRunner.getActionTime(TileConst_Hammer_DownTime),-30));c.push(cc.rotateTo(TileItemViewRunner.getActionTime(TileConst_Hammer_2ndUpTime),20));c.push(cc.callFunc(function(){a.removeFromParentAndCleanup(!0)}));c=cc.sequence(c);a.runAction(c);
return a};
PropView.playHammerAnimation=function(a,c){if(a.tileUIDelegate&&a.tileUIDelegate.effectLayer)c=a.tileLogic.getGameItemPosInView(c.x,c.y);else{var d=a.baseMap[c.x][c.y];c=ccp(d.pos_x,d.pos_y)}d=PropView.createHammerAnimation();d.setPosition(ccp(c.x+TileConst_Hammer_Pos.x,c.y+TileConst_Hammer_Pos.y));FrameLoader.loadArmature("dragonbones/prop_hammer");var e=ArmatureNode.create("hammer_effect");e.setPosition(ccp(c.x+0,c.y+0));e.setVisible(!1);var f=cc.sequence(cc.delayTime(TileItemViewRunner.getActionTime(TileConst_Hammer_Viberate_Time/2)),
cc.callFunc(function(){e.playByIndex(0);e.setVisible(!0)}));e.runAction(f);f=cc.sequence(cc.delayTime(TileItemViewRunner.getActionTime(TileConst_Hammer_Viberate_Time)),cc.callFunc(function(){a.viberate()}));a.runAction(f);a.tileUIDelegate&&a.tileUIDelegate.effectLayer?(a.tileUIDelegate.effectLayer.addChild(e),a.tileUIDelegate.effectLayer.addChild(d)):(a.addChild(e),a.addChild(d))};var disablePropAnimPlayingPosition={},disablePropOldAni=null;
PropView.playHammerDisableAnimation=function(a,c){this.playPropDisableAnimation(a,c,1)};PropView.playMagicWandDisableAnimation=function(a,c){this.playPropDisableAnimation(a,c,2)};PropView.playForceSwapDisableAnimation=function(a,c){this.playPropDisableAnimation(a,c,3)};
PropView.playPropDisableAnimation=function(a,c,d){if(!disablePropAnimPlayingPosition[c.x+"_"+c.y]){if(disablePropOldAni){disablePropOldAni.ani&&disablePropOldAni.ani.getParent()&&disablePropOldAni.ani.removeFromParentAndCleanup(!0);var e=disablePropOldAni.position;disablePropOldAni=disablePropAnimPlayingPosition[e.x+"_"+e.y]=null}disablePropAnimPlayingPosition[c.x+"_"+c.y]=!0;e=null;a.tileUIDelegate&&a.tileUIDelegate.effectLayer?e=a.tileLogic.getGameItemPosInView(c.x,c.y):(e=a.baseMap[c.x][c.y],e=
ccp(e.pos_x,e.pos_y));d=PropView.buildPropDisableAnimation(d,c);d.setPosition(ccp(e.x,e.y+TileConst_Hammer_Pos.y));a.tileUIDelegate&&a.tileUIDelegate.effectLayer?a.tileUIDelegate.effectLayer.addChild(d):a.addChild(d);disablePropOldAni={ani:d,position:c}}};
PropView.buildPropDisableAnimation=function(a,c){var d=LabelTTF.create("\u5bf9\u4e0d\u8d77\uff0c\u8fd9\u4e2a\u9053\u5177\u4e0d\u80fd\u8fd9\u6837\u4f7f\u7528\u3002",null,20,cc.size(120,0));d.setPositionY(50);d.setColor(cc.color(0,0,0));var e=Sprite.createEmpty();e.addChild(d);var f=function(){e&&e.getParent()&&(e.removeFromParentAndCleanup(!0),disablePropOldAni=disablePropAnimPlayingPosition[c.x+"_"+c.y]=null)};d.runAction(function(a){var c=cc.fadeIn(0.1),d=cc.delayTime(1),e=cc.fadeOut(0.5),r=cc.callFunc(f),
s=[];s.push(c);s.push(d);s.push(e);s.push(r);c=cc.sequence(s);if(!a)return c;a=[];a.push(cc.moveBy(0.05,ccp(-10,0)));a.push(cc.moveBy(0.09,ccp(18,0)));a.push(cc.moveBy(0.06,ccp(-13,0)));a.push(cc.moveBy(0.05,ccp(10,0)));a.push(cc.moveBy(0.025,ccp(-5,0)));a=cc.sequence(a);return cc.spawn(c,a)}(!1));return e};var ConveyerBeltViewType=[TileViewType.kClipping,TileViewType.kEnterClipping,TileViewType.kWood,TileViewType.kBigBoss,TileViewType.kSand,TileViewType.kIce,TileViewType.kItem,TileViewType.kItemShow,TileViewType.kCondiment,TileViewType.kLock,TileViewType.kJumpCat,TileViewType.kPass,TileViewType.kHoney,TileViewType.kBear],ConveyerBeltNeedCopyType=[TileViewType.kBear,TileViewType.kHoney,TileViewType.kCutyPet,TileViewType.kSand,TileViewType.kIce,TileViewType.kItem,TileViewType.kItemShow,TileViewType.kCondiment,
TileViewType.kLock,TileViewType.kJumpCat],NeedUpdateViewType=[TileViewType.kHoney,TileViewType.kHoneyFront,TileViewType.kBear,TileViewType.kItem,TileViewType.kCutyPet,TileViewType.kSand,TileViewType.kGiftBox,TileViewType.kGiftBoxFr,TileViewType.kIce,TileViewType.kItemShow,TileViewType.kCondiment,TileViewType.kJumpCat,TileViewType.kClipping,TileViewType.kEnterClipping,TileViewType.kTransClipping,TileViewType.kBigBoss];TileSpriteShowType={kNone:0,kCharacter:1,kFive:2,kHelmet:3,kWatermelon:4,kWorm:5};
TileView=cw.Class({ctor:function(){this.tileOffset=this.tileSprite=null;this.tileShowType=0;this.isNeedUpdate=!1;this.h=this.w=this.y=this.x=0;this.enterClippingNode=this.clippingnode=this.oldBoard=this.oldData=null;this.pos_y=this.pos_x=this.cl_h=0;this.flyingfromtype=TileViewType.kNone},cleanAllViews:function(){this.enterClippingNode=this.clippingnode=null;this.cl_h=0;this.oldBoard=this.oldData=null;this.tileShowType=0;this.isNeedUpdate=!1;this.flyingfromtype=TileViewType.kNone;for(var a in this.tileSprite){var c=
this.tileSprite[a];c&&c.getParent()&&c.removeFromParentAndCleanup(!0)}this.tileSprite={};this.tileOffset={}},copyDataFrom:function(a,c){if(c){a.tileShowType=c.tileShowType;a.cl_h=c.cl_h;a.flyingfromtype=c.flyingfromtype;a.tileOffset={};for(var d in c.tileOffset){var e=c.tileOffset[d];a.tileOffset[d]=ccp(e.x,e.y)}c.oldData&&(a.oldData=c.oldData.copy());c.oldBoard&&(a.oldBoard=c.oldBoard.copy())}},dispose:function(){this.oldBoard=this.oldData=this.enterClippingNode=this.clippingnode=this.tileOffset=
this.tileSprite=null},initView:function(a){this.tileSprite={};this.tileOffset={};this.context=a},initByBoardData:function(a){!1!=a.isUsed&&(this.oldBoard=a.copy(),this.x=a.x,this.y=a.y,this.w=a.w,this.h=a.h,a.isProducer&&(needClipping=!0,this.cl_h=this.h-6),a.hasPortal()&&(needClipping=!0,this.cl_h=this.h),0<a.iceLevel&&(this.tileSprite[TileViewType.kIce]=TileIce.createIce(a.iceLevel)),0<a.boardSpType&&(this.tileSprite[TileViewType.kCutyPet]=TileCutyPet.create()),0<a.sandLevel&&(this.tileSprite[TileViewType.kSand]=
TileSand.createSand()),0<a.giftColor&&(this.tileSprite[TileViewType.kGiftBox]=TileGiftBox.create(a.giftColor)),0<a.honeyLevel&&(this.tileSprite[TileViewType.kHoney]=TileLawn.create(a.honeyLevel)),a.isBearIcon()&&(this.tileSprite[TileViewType.kBear]=TilePeanut.create(a.bearInfo)),0<a.beltType&&this.buildConveyerBelt(a),this.initPortal(a),this.initWood(a))},initPortal:function(a){if(a.hasPortal()){var c=null;a.protalType==ProtalType.kUp?(c=TilePortal.buildPortalExit(),this.tileOffset[TileViewType.kPass]=
ccp(-1,0.29*this.h)):a.protalType==ProtalType.kDown?(c=TilePortal.buildPortalEnter(),this.tileOffset[TileViewType.kPass]=ccp(0,0.3*-this.h)):a.protalType==ProtalType.kUpDown&&(c=TilePortal.buildPortalBoth(),this.tileOffset[TileViewType.kPass]=ccp(-1,0.3*this.h));this.tileSprite[TileViewType.kPass]=c}},initWood:function(a){if(a.hasWood()){var c=0,d=Sprite.createWithSpriteFrameName("wood_h.png");d.setOpacity(0);var e=function(a,e){e.y-=10;if(0==bit.band(c,a)){var f=Sprite.createWithSpriteFrameName("wood_dot.png");
d.addChildZOrder(f,100+a);f.setPosition(e);c=bit.bor(c,a)}};if(a.hasTopWood()){var f=Sprite.createWithSpriteFrameName("wood_h.png");f.setPositionXY(this.w/2-2,this.h/2+11);d.addChild(f);e(1,ccp(-4,this.h-17));e(2,ccp(this.w-5,this.h-17))}a.hasBottomWood()&&(f=Sprite.createWithSpriteFrameName("wood_h.png"),f.setPositionXY(this.w/2-2,-this.h/2+10),d.addChild(f),e(4,ccp(-4,-17)),e(8,ccp(this.w-5,-17)));a.hasLeftWood()&&(f=Sprite.createWithSpriteFrameName("wood_v.png"),f.setPositionXY(-3,12),d.addChild(f),
e(1,ccp(-4,this.h-17)),e(4,ccp(-4,-17)));a.hasRightWood()&&(a=Sprite.createWithSpriteFrameName("wood_v.png"),a.setPositionXY(this.w-3,12),d.addChild(a),e(2,ccp(this.w-5,this.h-17)),e(8,ccp(this.w-5,-17)));this.tileSprite[TileViewType.kWood]=d}},getBasePosition:function(a,c){return ccp((a+0.5)*this.w,(TileConst_Tile_Item_Max-c-0.5)*this.h)},upDatePosBoardDataPos:function(a,c){if(!1!=a.isUsed){this.x=a.x;this.y=a.y;this.w=a.w;this.h=a.h;var d=(this.x+0.5)*this.w,e=(TileConst_Tile_Item_Max-this.y-0.5)*
this.h;if(this.pos_x!=d||this.pos_y!=e||c){this.pos_x=d;this.pos_y=e;for(var f=0;f<NeedUpdateViewType.length;++f){var g=NeedUpdateViewType[f];null!=this.tileSprite[g]&&(null!=this.tileOffset[g]?g==TileViewType.kClipping||g==TileViewType.kEnterClipping?this.tileSprite[g].setPositionXY(this.tileOffset[g].x+this.w/2,this.h/2+this.tileOffset[g].y):this.tileSprite[g].setPositionXY(d+this.tileOffset[g].x,e+this.tileOffset[g].y):g==TileViewType.kClipping||g==TileViewType.kEnterClipping?this.tileSprite[g].setPositionXY(this.w/
2,this.h/2):g==TileViewType.kBigBoss?this.tileSprite[g].setPositionXY(d+0.5*this.w,e-0.5*this.h):this.tileSprite[g].setPositionXY(d,e))}}}},initPosBoardDataPos:function(a,c){if(!1!=a.isUsed){this.x=a.x;this.y=a.y;this.w=a.w;this.h=a.h;var d=(this.x+0.5)*this.w,e=(TileConst_Tile_Item_Max-this.y-0.5)*this.h;if(this.pos_x!=d||this.pos_y!=e||c){this.pos_x=d;this.pos_y=e;for(var f=TileViewType.kBackground;f<=TileViewType.kLast;++f)null!=this.tileSprite[f]&&(null!=this.tileOffset[f]?f==TileViewType.kClipping||
f==TileViewType.kEnterClipping?this.tileSprite[f].setPositionXY(this.tileOffset[f].x+this.w/2,this.h/2+this.tileOffset[f].y):this.tileSprite[f].setPositionXY(d+this.tileOffset[f].x,e+this.tileOffset[f].y):f==TileViewType.kClipping||f==TileViewType.kEnterClipping?this.tileSprite[f].setPositionXY(this.w/2,this.h/2):f==TileViewType.kBigBoss?this.tileSprite[f].setPositionXY(d+0.5*this.w,e-0.5*this.h):this.tileSprite[f].setPositionXY(d,e))}}},initByItemData:function(a){if(!1!=a.isUsed){this.cleanTileItemView();
this.oldData?TileItemData.copyDataFromWithPos(this.oldData,a):this.oldData=a.copy();this.x=a.x;this.y=a.y;this.w=a.w;this.h=a.h;if(a.tileItemType==TileItemType.kFruit)this.buildNewFruitItem(a.fruitColorType,a.fruitSpecialType,!0,!0,a.fruitCondiment);else if(a.tileItemType==TileItemType.kStone){var c=TileStone.create(a.stoneLevel,a.showType);this.tileSprite[TileViewType.kItem]=c}else a.tileItemType==TileItemType.kDiscolor?(this.tileShowType=TileSpriteShowType.kCharacter,this.tileSprite[TileViewType.kItem]=
TileDiscolor.create(a.fruitColorType)):a.tileItemType==TileItemType.kTwoBear?(c=TileDropThing.create(a.showType),this.tileSprite[TileViewType.kItemShow]=c):a.tileItemType==TileItemType.kSandstorm?this.buildSandstorm():a.tileItemType==TileItemType.kFlame?this.buildFlame():a.tileItemType==TileItemType.kHelmet?this.buildHelmet():a.tileItemType==TileItemType.kWorm?this.buildWorm():a.tileItemType==TileItemType.kWatermelon?this.buildWatermelon(a.watermelonLevel):a.tileItemType==TileItemType.kBaldStrong&&
a.bossLevel&&0<a.bossLevel?this.buildBaldStrong(a):a.tileItemType==TileItemType.kClayBlock?this.buildClayBlock(a):a.tileItemType==TileItemType.kConveyorBeltBrake?this.tileSprite[TileViewType.kItemShow]=TileConveyorBeltSwitch.createBrake(1==a.switchBrake):a.tileItemType==TileItemType.kConveyorBeltGear?this.tileSprite[TileViewType.kItemShow]=TileConveyorBeltSwitch.createGear(1==a.switchGear):a.tileItemType==TileItemType.kCondiment&&(this.tileSprite[TileViewType.kItem]=TileCondiment.createCondimentGun(a.condimentGunDir));
a.hasJumpCat()&&(this.cleanTileSprite(TileViewType.kNormalEffect),this.tileSprite[TileViewType.kJumpCat]=TileJumpCat.create());0<a.cardboardLevel&&(c=TileLock.create(),this.tileSprite[TileViewType.kLock]=c);a.popcornRepair&&(a=Sprite.createWithSpriteFrameName("popcorn_img_17.png"),a.setScale(1.8),this.tileSprite[TileViewType.kPopcornRepair]=a)}},getTileSprite:function(a){return a==TileViewType.kClipping?this.clippingnode:a==TileViewType.kEnterClipping?this.enterClippingNode:this.tileSprite[a]},cleanTileSprite:function(a){return this.tileSprite[a]?
(this.tileSprite[a].removeFromParentAndCleanup(!0),this.tileSprite[a]=null,!0):!1},cleanTileItemView:function(){this.cleanTileSprite(TileViewType.kItem);this.cleanTileSprite(TileViewType.kItemShow);this.cleanTileSprite(TileViewType.kJumpCat);this.cleanTileSprite(TileViewType.kCondiment)},cleanJumpCatView:function(){this.cleanTileSprite(TileViewType.kNormalEffect)},getGameItemSprite:function(){var a=this.tileSprite[TileViewType.kItemShow],c=this.tileSprite[TileViewType.kItem];return a?a:c},playAnimationFruitFDestroy:function(a,
c){var d=this.tileSprite[TileViewType.kItemShow];this.cleanTileSprite(TileViewType.kCondiment);this.isNeedUpdate=!0;if(this.tileShowType==TileSpriteShowType.kFive)d&&d.play(kTileFiveAnimation.kDestroy);else if(this.tileShowType==TileSpriteShowType.kCharacter){var e=null,e=null!=d?this.tileSprite[TileViewType.kItemShow].mainSprite:this.tileSprite[TileViewType.kItem],d=[];d.push(cc.scaleTo(TileItemViewRunner.getActionTime(TileConst_Fruit_Delete_Action_Time_View),0.3));d.push(cc.fadeTo(TileItemViewRunner.getActionTime(TileConst_Fruit_Delete_Action_Time_View),
168));d.push(cc.tintTo(TileItemViewRunner.getActionTime(TileConst_Fruit_Delete_Action_Time_View),0,170,229));var d=cc.spawn(d),f=this,g=cc.callFunc(function(){f.cleanTileSprite(TileViewType.kItem);f.cleanTileSprite(TileViewType.kItemShow)});cc.sequence(d,g);e&&e.refObject&&(e.runAction(g),this.playFruitDestroyAnimation(a))}else this.tileShowType==TileSpriteShowType.kHelmet?(this.cleanTileSprite(TileViewType.kItem),f=this,e=function(){f.cleanTileSprite(TileViewType.kHelmetEliminate)},c?e():(e=TileHelmet.playDestroyAnimation(e),
d=this.getBasePosition(this.x,this.y),e.setPosition(d),this.tileSprite[TileViewType.kHelmetEliminate]=e)):this.tileShowType==TileSpriteShowType.kWorm?(f=this,d&&d.playDestroyAnimation(function(){f.cleanTileSprite(TileViewType.kItemShow)})):this.tileShowType==TileSpriteShowType.kWatermelon?d&&d.playDestroyAnimation():printf("error show type:",this.y,this.x,this.tileShowType);this.cleanTileSprite(TileViewType.kClipping);this.cleanTileSprite(TileViewType.kEnterClipping)},playElasticEffect:function(){var a=
this.getBasePosition(this.x,this.y),c=function(c){var d=[];d.push(cc.spawn(cc.scaleTo(0.08,1,0.95),cc.moveBy(0.08,ccp(0,-3.5))));d.push(cc.spawn(cc.scaleTo(0.1,1,1.07),cc.moveBy(0.1,ccp(0,5.95))));d.push(cc.spawn(cc.scaleTo(0.05,1,1),cc.moveBy(0.05,ccp(0,-2.95))));c&&c.refObject&&(c.setPosition(a),c.runAction(cc.sequence(d)))},d=this.tileSprite[TileViewType.kItem],e=this.tileSprite[TileViewType.kItemShow];d&&d.refObject&&c(d);e&&e.refObject&&c(e)},playPeanutLightEffect:function(){var a=this.tileSprite[TileViewType.kBear];
a&&a.playLightAnimation()},playFruitDestroyAnimation:function(a){if(1==a){var c=this,d=SpriteUtils.buildSpriteWithAnimate("cutypet_destroy_1_%d.png",0,7,1,function(a){c.tileSprite[TileViewType.kItemDestroy2]=null;a.removeFromParentAndCleanup(!0)});a=this.getBasePosition(this.x,this.y);d.setPosition(a);this.tileSprite[TileViewType.kItemDestroy2]=d;var e=SpriteUtils.buildSpriteWithAnimate("cutypet_destroy_2_%d.png",0,10,1,function(a){c.tileSprite[TileViewType.kItemDestroy]=null;a.removeFromParentAndCleanup(!0)});
e.setPosition(a);this.tileSprite[TileViewType.kItemDestroy]=e;this.getContainer(TileViewType.kItemDestroy)?this.getContainer(TileViewType.kItemDestroy).addChild(e):this.isNeedUpdate=!0;this.getContainer(TileViewType.kItemDestroy2)?this.getContainer(TileViewType.kItemDestroy2).addChild(d):this.isNeedUpdate=!0}else c=this,d="fruit_destroy_1_%d.png",e=16,this.oldData&&FruitTypeConfig.isColor(this.oldData.fruitColorType)&&(d="fruit_destroy_"+this.oldData.fruitColorType+"_%d.png"),2==a&&(d="cutypet_destroy_0_%d.png",
e=14),d=SpriteUtils.buildSpriteWithAnimate(d,0,e,1,function(a){c.tileSprite[TileViewType.kItemDestroy]=null;a.removeFromParentAndCleanup(!0)}),a=this.getBasePosition(this.x,this.y),d.setPosition(a),this.tileSprite[TileViewType.kItemDestroy]=d,null!=this.getContainer(TileViewType.kItemDestroy)?this.getContainer(TileViewType.kItemDestroy).addChild(d):this.isNeedUpdate=!0},playFiveSixBackEffect:function(a,c){this.cleanTileSprite(TileViewType.kItemBack);if(a){this.tileSprite[TileViewType.kItemBack]=TileFive.createFiveDestroyEffectForever(c,
0);var d=this.getBasePosition(this.x,this.y);this.tileSprite[TileViewType.kItemBack].setPosition(d);this.isNeedUpdate=!0}},playFiveSixBackEffectOnce:function(a,c){this.cleanTileSprite(TileViewType.kItemBack);if(a){this.tileSprite[TileViewType.kItemBack]=TileFive.createFiveDestroyEffectOne(c);var d=this.getBasePosition(this.x,this.y);this.tileSprite[TileViewType.kItemBack].setPosition(d)}},playFiveFiveBackEffect:function(a){if(a){a=TileFive.create();a.play2FiveDestroyAnimation();var c=this.getBasePosition(this.x,
this.y);this.tileSprite[TileViewType.kItemBack]=a;this.tileSprite[TileViewType.kItemBack].setPosition(c)}else null!=this.tileSprite[TileViewType.kItemBack]&&(a=this.tileSprite[TileViewType.kItemBack],a.stop2FiveDestroyAnimation(),this.tileSprite[TileViewType.kItemBack]=null)},playFiveFiveExplodeEffect:function(a,c){var d=this.getBasePosition(this.x,this.y),e=TileFive.play2FiveExplodeAnimation(c);this.tileSprite[TileViewType.kSpecial]=e;this.tileSprite[TileViewType.kSpecial].setPosition(d);this.isNeedUpdate=
!0},playFlyingFiveEffect:function(a,c,d,e,f,g){var h=this;e=this.getBasePosition(this.x,this.y);c=this.getBasePosition(d,c);a=CommonLongLine.createFiveFlyLine(a,c,e,function(){h.tileSprite[TileViewType.kFlyLine]=null},function(){g&&g()},f);this.tileSprite[TileViewType.kFlyLine]=a;this.isNeedUpdate=!0},playItemBlinkEffect:function(a){var c=this.getBasePosition(this.x,this.y);a=SpriteUtils.buildSpriteWithAnimate("five_color_"+a+"_%d",0,15);this.tileSprite[TileViewType.kItemBlink]=a;a.setPosition(c);
this.isNeedUpdate=!0},stopItemBlinkEffect:function(){this.cleanTileSprite(TileViewType.kItemBlink)},playFlyingCrossEffect:function(a,c,d,e,f,g){d=this.getBasePosition(this.x,this.y);a=this.getBasePosition(c,a);f=CommonFlyLine.createCrossFly(d,a,e,function(){this.tileSprite[TileViewType.kSpecial]=null;g()},f||1);this.tileSprite[TileViewType.kSpecial]=f;this.isNeedUpdate=!0;GameMusicManager.playEffectLoop(GameMusicType.kEliminateCrossFly,e)},createSixItem:function(a){var c=this.getBasePosition(this.x,
this.y);a=TileSix.create(a);a.setPosition(c);return a},playIceDecEffect:function(a){var c=this.getBasePosition(this.x,this.y);c.x+=0;c.y+=10;var d=TileIce.createIceCleanAction(a);d.setPosition(c);null!=this.tileSprite[TileViewType.kIce]?null!=this.tileSprite[TileViewType.kIce].getParent()?this.tileSprite[TileViewType.kIce].getParent().addChildZOrder(d,1E3):a&&a():null!=this.getContainer(TileViewType.kIce)&&this.getContainer(TileViewType.kIce).addChild(d)},playCardboardBoxDecEffect:function(){var a=
this,c=this.getBasePosition(this.x,this.y),d=TileLock.createLockAction();d.ad(EVENTS.Complete,function(c){a.cleanTileSprite(TileViewType.kLockEliminate)});d.setPosition(c);this.tileSprite[TileViewType.kLockEliminate]=d;this.cleanTileSprite(TileViewType.kLock);this.isNeedUpdate=!0},playStoneDecEffect:function(a){var c=this.getBasePosition(this.x,this.y),d=TileStone.createStoneClearAction(a,this.oldData.showType);c.x+=[0,0,0,0,0][a];c.y+=[0,0,0,0,0][a];d.setPosition(c);this.oldData.showType==TileItemShowType.kAsh?
this.tileSprite[TileViewType.kAshEliminate]=d:this.tileSprite[TileViewType.kStoneEliminate]=d;1>=a&&this.cleanTileSprite(TileViewType.kItem);this.isNeedUpdate=!0},playWormDecEffect:function(a,c){var d=this,e=function(){d.cleanTileItemView();c()},f=this.tileSprite[TileViewType.kItemShow];1==a?f.playDizzinessAnimation(c):0==a&&f.playDestroyAnimation(e);this.isNeedUpdate=!0},playWormWakeup:function(a){this.tileSprite[TileViewType.kItemShow].playWakeupAnimation(a)},playWormMoveTo:function(a,c,d){var e=
this.tileSprite[TileViewType.kItemShow];if(e){e.stopAllActions();e.setVisible(!1);this.cleanTileSprite(TileViewType.kItemShow);var f=this,g=TileWorm.create();g.setPosition(this.getBasePosition(this.x,this.y));this.getBasePosition(this.x,this.y);this.tileSprite[TileViewType.kSpecial]=g;a=this.getBasePosition(c,a);g.playMoveAnimation(a,function(){g.stopAllActions();f.cleanTileSprite(TileViewType.kSpecial);f.isNeedUpdate=!0;d()});this.isNeedUpdate=!0}else d()},playWormEat:function(a){var c=this,d=TileWorm.create();
d.setPosition(this.getBasePosition(this.x,this.y));this.getBasePosition(this.x,this.y);this.tileSprite[TileViewType.kSpecial]=d;d.playEatAnimation(function(){c.cleanTileSprite(TileViewType.kSpecial);c.cleanTileItemView();var d=TileWorm.create(),f=c.getBasePosition(c.x,c.y);d.setPosition(f);c.tileShowType=TileSpriteShowType.kWorm;c.tileSprite[TileViewType.kItemShow]=d;c.isNeedUpdate=!0;a()});this.isNeedUpdate=!0},addSandView:function(){var a=TileSand.createSand(),c=this.getBasePosition(this.x,this.y);
a.setPosition(c);this.tileSprite[TileViewType.kSand]=a;this.isNeedUpdate=!0},playSandMove:function(a,c){var d=this,e=function(){c&&c();d.cleanTileSprite(TileViewType.kSandMove)};if(this.tileSprite[TileViewType.kSand]){this.cleanTileSprite(TileViewType.kSand);var f=TileSand.createMoveAnim(a,e),e=f[0],f=(f=f[1])||{x:0,y:0},g=this.getBasePosition(this.x,this.y);e.setPosition(ccp(g.x+f.x,g.y+f.y));this.tileSprite[TileViewType.kSandMove]=e;this.isNeedUpdate=!0}else e()},playSandDecEffect:function(a){var c=
this;c.cleanTileSprite(TileViewType.kSand);var d=c.getBasePosition(this.x,this.y),e=TileSand.createSandCleanAction(function(){a&&a();c.cleanTileSprite(TileViewType.kSandMove)});e.setPosition(d);c.tileSprite[TileViewType.kSandMove]=e;c.isNeedUpdate=!0},playSandstormDestroyEffect:function(){var a=this.tileSprite[TileViewType.kItemShow];this.tileSprite[TileViewType.kItemShow]=null;a.isNeedUpdate=!0;a.ad(EVENTS.Complete,function(c){a&&a.removeFromParentAndCleanup(!0)});a.playDestroyAnimation()},playSandstormSpreadEffect:function(a,
c,d){var e=this.tileSprite[TileViewType.kItemShow];if(e){e.isNeedUpdate=!0;e.playTempInvisibleAnimation();var f;d==TileItemType.kSandstorm?f=TileSandstorm.create():d==TileItemType.kFlame?f=TileFire.create():d==TileItemType.kClayBlock&&(f=TileClay.create(this.oldData.fruitColorType));d=this.getBasePosition(this.x,this.y);f.setPosition(d);f.ad(EVENTS.Complete,function(a){e.playRevertVisibleAnimation();c&&"function"==typeof c&&c()});f.playDirectionAnimation(a);this.tileSprite[TileViewType.kNormalEffect]=
f;this.isNeedUpdate=!0}},playChangeToAshAnimation:function(a){var c=this,d=TileFire.playChangeAnimation(function(d){c.cleanTileSprite(TileViewType.kNormalEffect);c.isNeedUpdate=!0;a&&a()}),e=this.getBasePosition(this.x,this.y);d.setPosition(ccp(e.x-1,e.y+2));this.tileSprite[TileViewType.kNormalEffect]=d;this.isNeedUpdate=!0},playJumpCatTransferEffect:function(a,c){var d=this.tileSprite[TileViewType.kJumpCat];if(d){d.stopAllActions();this.tileSprite[TileViewType.kJumpCat].removeFromParentAndCleanup(!0);
this.tileSprite[TileViewType.kJumpCat]=null;d=TileJumpCat.create();d.setPosition(this.getBasePosition(this.x,this.y));this.tileSprite[TileViewType.kSpecial]=d;this.isNeedUpdate=!0;var e=null,e=0<a.x?kTileJumpCatAnimation.kRight:0>a.x?kTileJumpCatAnimation.kLeft:0<a.y?kTileJumpCatAnimation.kDown:kTileJumpCatAnimation.kUp,f=function(a){c&&"function"==typeof c&&c()};e&&(d.playDirectionAnimation(e),d.ad(EVENTS.Complete,f))}},playJumpCatDestroyEffect:function(){var a=this.tileSprite[TileViewType.kJumpCat];
a&&(a.isNeedUpdate=!0,this.tileSprite[TileViewType.kNormalEffect]=a,this.tileSprite[TileViewType.kJumpCat]=null,a.ad(EVENTS.Complete,function(c){a&&a.getParent()&&a.removeFromParentAndCleanup(!0)}),a.playDestroyAnimation())},addJumpCat:function(){var a=TileJumpCat.create(),c=this.getBasePosition(this.x,this.y);a.setPosition(c);this.tileSprite[TileViewType.kJumpCat]=a;this.isNeedUpdate=!0},updateByNewBoardData:function(a){if(null==this.oldBoard||this.oldBoard.iceLevel!=a.iceLevel)this.cleanTileSprite(TileViewType.kIce),
this.tileSprite[TileViewType.kIce]=TileIce.createIce(a.iceLevel);if(null==this.oldBoard||this.oldBoard.boardSpType!=a.boardSpType)this.cleanTileSprite(TileViewType.kCutyPet),0<a.boardSpType&&(this.tileSprite[TileViewType.kCutyPet]=TileCutyPet.create());if(null==this.oldBoard||this.oldBoard.giftColor!=a.giftColor)this.cleanTileSprite(TileViewType.kGiftBox),0<a.giftColor&&(this.tileSprite[TileViewType.kGiftBox]=TileGiftBox.create(a.giftColor));if(null==this.oldBoard||this.oldBoard.honeyLevel!=a.honeyLevel)this.cleanTileSprite(TileViewType.kHoney),
this.tileSprite[TileViewType.kHoney]=TileLawn.create(a.honeyLevel),this.tileSprite[TileViewType.kHoney].addLevelUpAni(a.honeyLevel),this.tileSprite[TileViewType.kHoneyFront]=TileLawn.buildFrontLevelUpAni(a.honeyLevel,function(){this.cleanTileSprite(TileViewType.kHoneyFront)});if(null==this.oldBoard||this.oldBoard.bearInfo!=a.bearInfo)this.cleanTileSprite(TileViewType.kBear),a.isBearIcon()&&(this.tileSprite[TileViewType.kBear]=TilePeanut.create(a.bearInfo));a.isNeedUpdate=!1;this.oldBoard=a.copy()},
updateByNewItemData:function(a){a.tileItemType==TileItemType.kNone&&(a.isNeedUpdate=!1,this.cleanTileItemView());a.tileItemType==TileItemType.kTwoBear&&this.oldData&&this.oldData.tileItemType!=a.tileItemType&&(this.removeItemSpriteGameItem(),this.tileSprite[TileViewType.kItemShow]=TileDropThing.create(a.showType));a.tileItemType==TileItemType.kHelmet&&(this.tileShowType=TileSpriteShowType.kHelmet,this.oldData&&this.oldData.tileItemType!=a.tileItemType&&(this.removeItemSpriteGameItem(),this.buildHelmet()));
a.tileItemType==TileItemType.kWorm&&(this.tileShowType=TileSpriteShowType.kWorm,this.oldData&&this.oldData.tileItemType!=a.tileItemType&&(this.removeItemSpriteGameItem(),this.buildWorm()));a.tileItemType==TileItemType.kWatermelon&&(this.tileShowType=TileSpriteShowType.kWatermelon,this.oldData&&(this.oldData.tileItemType!=a.tileItemType||a.watermelonUpdate)&&(this.removeItemSpriteGameItem(),a.watermelonUpdate=!1,this.buildWatermelon(a.watermelonLevel)));a.tileItemType!=TileItemType.kDiscolor||!this.oldData||
this.oldData.tileItemType==a.tileItemType&&this.oldData.fruitColorType==a.fruitColorType||(this.removeItemSpriteGameItem(),this.tileShowType=TileSpriteShowType.kCharacter,this.tileSprite[TileViewType.kItem]=TileDiscolor.create(a.fruitColorType));if(a.tileItemType==TileItemType.kFruit&&this.oldData){if(a.tileItemType!=this.oldData.tileItemType||a.fruitColorType!=this.oldData.fruitColorType||a.fruitSpecialType!=this.oldData.fruitSpecialType||a.fruitCondiment!=this.oldData.fruitCondiment)this.removeItemSpriteGameItem(),
this.buildNewFruitItem(a.fruitColorType,a.fruitSpecialType,!0,!0,a.fruitCondiment);0!=a.fruitColorType||null!=a.fruitSpecialType&&0!=a.fruitSpecialType||(a.isNeedUpdate=!1)}if(a.tileItemStatus==TileItemStatusType.kFallingStatus||a.tileItemStatus==TileItemStatusType.kNone||a.tileItemStatus==TileItemStatusType.kJustStop||a.tileItemStatus==TileItemStatusType.kTileHalfStable)if(a.tileItemType==TileItemType.kNone||a.tileItemType==TileItemType.kFruit||a.tileItemType==TileItemType.kHelmet||a.tileItemType==
TileItemType.kDiscolor||a.tileItemType==TileItemType.kTwoBear||a.tileItemType==TileItemType.kWatermelon||a.tileItemType==TileItemType.kWorm)this.tileOffset[TileViewType.kItem]=a.tileOffset,this.tileOffset[TileViewType.kItemShow]=a.tileOffset,this.tileOffset[TileViewType.kJumpCat]=a.tileOffset,this.tileOffset[TileViewType.kCondiment]=a.tileOffset,this.tileOffset[TileViewType.kClipping]=a.clippingPosAdd,this.tileOffset[TileViewType.kEnterClipping]=a.enterClippingPosAdd,a.isNeedUpdate=!1;if(this.oldData&&
this.oldData.cardboardLevel!=a.cardboardLevel&&(this.cleanTileSprite(TileViewType.kLock),0<a.cardboardLevel)){var c=TileLock.create(),d=this.getBasePosition(this.x,this.y);c.setPosition(d);this.tileSprite[TileViewType.kLock]=c}this.oldData&&this.oldData.stoneLevel!=a.stoneLevel&&0<a.stoneLevel&&(this.removeItemSpriteGameItem(),this.tileSprite[TileViewType.kItem]=TileStone.create(a.stoneLevel,a.showType));this.oldData&&this.oldData.sandstormLevel!=a.sandstormLevel&&0<a.sandstormLevel&&(this.removeItemSpriteGameItem(),
this.buildSandstorm());this.oldData&&this.oldData.flameLevel!=a.flameLevel&&0<a.flameLevel&&(this.removeItemSpriteGameItem(),this.buildFlame());this.oldData&&this.oldData.tileItemType!=a.tileItemType&&a.tileItemType==TileItemType.kClayBlock&&(this.removeItemSpriteGameItem(),this.buildClayBlock(a));this.oldData&&this.oldData.tileItemType!=a.tileItemType&&a.tileItemType==TileItemType.kBaldStrong&&(this.removeItemSpriteGameItem(),0<a.bossLevel&&this.buildBaldStrong(a));this.oldData&&null!=a.switchBrake&&
this.oldData.switchBrake!=a.switchBrake&&(this.removeItemSpriteGameItem(),this.tileSprite[TileViewType.kItemShow]=TileConveyorBeltSwitch.createBrake(1==a.switchBrake));this.oldData&&null!=a.switchGear&&this.oldData.switchGear!=a.switchGear&&(this.removeItemSpriteGameItem(),this.tileSprite[TileViewType.kItemShow]=TileConveyorBeltSwitch.createGear(1==a.switchGear));TileItemData.copyDataFromWithPos(this.oldData,a);a.isNeedUpdate=!1},removeItemSpriteGameItem:function(){this.tileSprite&&(this.cleanTileSprite(TileViewType.kItem),
this.cleanTileSprite(TileViewType.kItemShow),this.cleanTileSprite(TileViewType.kBigBoss),this.cleanTileSprite(TileViewType.kCondiment))},buildNewFruitItem:function(a,c,d,e,f,g){c==FruitTypeConfig.kSix&&(c=0);var h=null;g||(h=this.getBasePosition(this.x,this.y));if(c==FruitTypeConfig.kFive)return c=TileFive.create(),c.play(1),g||c.setPosition(h),d&&(this.tileSprite[TileViewType.kItemShow]=c),e&&(this.tileShowType=TileSpriteShowType.kFive),c;if(c==FruitTypeConfig.kSix||c==FruitTypeConfig.kCutyPet)return c=
TileSix.create(a),c.play(1),g||c.setPosition(h),d&&(this.tileSprite[TileViewType.kItemShow]=c),e&&(this.tileShowType=TileSpriteShowType.kFive),c;if(c==FruitTypeConfig.kBigCross)return c=TileBigCross.create(),g||c.setPosition(h),d&&(this.tileSprite[TileViewType.kItemShow]=c),e&&(this.tileShowType=TileSpriteShowType.kCharacter),c;if(c==FruitTypeConfig.kBigBomb)return c=TileBigBomb.create(),g||c.setPosition(h),d&&(this.tileSprite[TileViewType.kItemShow]=c),e&&(this.tileShowType=TileSpriteShowType.kCharacter),
c;if(FruitTypeConfig.isSpecial(c)){if(FruitTypeConfig.isColor(a))return a=TileElement.createByColor(a),c==FruitTypeConfig.kLine?a.play(kTileElementAnimationType.kLineRow):c==FruitTypeConfig.kColumn?a.play(kTileElementAnimationType.kLineCol):c==FruitTypeConfig.kBomb?a.play(kTileElementAnimationType.kBomb):c==FruitTypeConfig.kCross&&a.play(kTileElementAnimationType.kCross),g||a.setPosition(h),d&&(this.tileSprite[TileViewType.kItemShow]=a),e&&(this.tileShowType=TileSpriteShowType.kCharacter),a}else if(FruitTypeConfig.isColor(a))return a=
TileFruit.create(a,f),g||a.setPosition(h),d&&(this.cleanTileSprite(TileViewType.kItem),this.tileSprite[TileViewType.kItem]=a),e&&(this.tileShowType=TileSpriteShowType.kCharacter),a},buildSandstorm:function(){var a=TileSandstorm.create(),c=this.getBasePosition(this.x,this.y);a.setPosition(c);a.playNormalAnimation();this.tileSprite[TileViewType.kItemShow]=a},buildFlame:function(){var a=TileFire.create(),c=this.getBasePosition(this.x,this.y);a.setPosition(c);a.playNormalAnimation();this.tileSprite[TileViewType.kItemShow]=
a},buildClayBlock:function(a){a=TileClay.create(a.fruitColorType);var c=this.getBasePosition(this.x,this.y);a.setPosition(c);a.playNormalAnimation();this.tileSprite[TileViewType.kItemShow]=a},buildHelmet:function(){var a=TileHelmet.create(),c=this.getBasePosition(this.x,this.y);a.setPosition(c);this.tileShowType=TileSpriteShowType.kHelmet;this.tileSprite[TileViewType.kItem]=a},buildWorm:function(){var a=TileWorm.create(),c=this.getBasePosition(this.x,this.y);a.setPosition(c);this.tileShowType=TileSpriteShowType.kWorm;
this.tileSprite[TileViewType.kItemShow]=a},playCondimentElementSpray:function(a,c){var d=this.getBasePosition(this.x,this.y),e=TileCondiment.playElementSpray(a,function(){c&&c()});e.setPosition(d);this.getContainer(TileViewType.kItemShow).addChild(e);this.isNeedUpdate=!0},playCondimentBottleSpray:function(a,c,d){var e=this.tileSprite[TileViewType.kItem],f=this;e.setVisible(!1);var g=this.getBasePosition(this.x,this.y);a=TileCondiment.playGunSpray(a,function(){f.tileSprite[TileViewType.kItemShow]=
null;e.setVisible(!0);if(0<c){var a=cc.callFunc(d),g=cc.delayTime(0.1*c),a=cc.sequence(g,a);e.runAction(a)}else d()});a.setPosition(g);this.tileSprite[TileViewType.kItemShow]=a;this.isNeedUpdate=!0},buildWatermelon:function(a){a=TileWatermelon.create(a);var c=this.getBasePosition(this.x,this.y);a.setPosition(c);this.tileSprite[TileViewType.kItemShow]=a;this.tileShowType=TileSpriteShowType.kWatermelon},playWatermelonUpgradeAnimation:function(a){var c=this.tileSprite[TileViewType.kItemShow];c&&c.playUpgradeAnimation(a)},
playWatermelonReplaceAnimation:function(a){var c=this.tileSprite[TileViewType.kItemShow];c.ad(EVENTS.Complete,function(c){null!=a&&"function"==typeof a&&a()});c.playReplaceAnimation()},playWatermelonReplaceFlyAnimation:function(a,c){var d=null,e=this,f=this.getBasePosition(a.y,a.x),g=this.getBasePosition(this.x,this.y),h=null;f.y<g.y?h=ccp(g.x-(g.x-f.x)/5,g.y+350):f.y>g.y?h=f.x==g.x?ccp(f.x,f.y):ccp(f.x-(f.x-g.x)/5,f.y+240):f.y==g.y&&(h=ccp(f.x-(f.x-g.x)/2,f.y+360));var m=[];m[0]=f;m[1]=h;m[2]=g;
var g=cc.bezierTo(0.6,m),h=cc.callFunc(c),m=cc.delayTime(0.3),n=[];n.push(g);n.push(h);n.push(m);n.push(cc.callFunc(function(){d&&d.getParent()&&(d.removeFromParentAndCleanup(!0),e.tileSprite[TileViewType.kWatermelonFly]=null,e.isNeedUpdate=!0)}));g=cc.sequence(n);d=TileWatermelon.createFlyEffect();d.setPosition(f);d.runAction(g);this.tileSprite[TileViewType.kWatermelonFly]=d;this.isNeedUpdate=!0},playKitchenGodAddBlock:function(a,c,d){var e=null,f=this,g=this.getBasePosition(5,0);g.y+=200;var h=
this.getBasePosition(this.x,this.y),m=null;g.y<h.y?m=ccp(h.x-(h.x-g.x)/5,h.y+350):g.y>h.y?m=g.x==h.x?ccp(g.x,g.y):ccp(g.x-(g.x-h.x)/5,g.y+240):g.y==h.y&&(m=ccp(g.x-(g.x-h.x)/2,g.y+360));var n=[];n[0]=g;n[1]=m;n[2]=h;h=cc.bezierTo(0.6,n);d=cc.callFunc(d);m=cc.delayTime(0.1);n=[];n.push(h);n.push(d);n.push(m);n.push(cc.callFunc(function(){e&&e.getParent()&&(e.removeFromParentAndCleanup(!0),f.tileSprite[TileViewType.kWatermelonFly]=null,f.isNeedUpdate=!0)}));d=cc.sequence(n);1==a?e=TileStone.create(c):
2==a?e=TileIce.createIce(c):3==a?e=TileHelmet.create():4==a&&(e=TileLock.create());e.setPosition(g);e.runAction(d);this.tileSprite[TileViewType.kWatermelonFly]=e;this.isNeedUpdate=!0},buildBaldStrong:function(a){var c=TileBaldStrong.create(a.bossType);this.tileSprite[TileViewType.kBigBoss]=c;this.updateBossBlood(a.blood/a.maxBlood,!1);this.upDatePosBoardDataPos(a)},updateBossBlood:function(a,c){var d=this.tileSprite[TileViewType.kBigBoss];d&&d.setBloodPercent(a,c)},buildFallingClippingSprite:function(a,
c){var d=null;a.tileItemType==TileItemType.kFruit?d=this.buildNewFruitItem(a.fruitColorType,a.fruitSpecialType,!1,c,a.fruitCondiment):a.tileItemType==TileItemType.kDiscolor?d=TileDiscolor.create(a.fruitColorType):a.tileItemType==TileItemType.kTwoBear?d=TileDropThing.create(a.showType):a.tileItemType==TileItemType.kHelmet?d=TileHelmet.create():a.tileItemType==TileItemType.kWatermelon?d=TileWatermelon.create(a.watermelonLevel):a.tileItemType==TileItemType.kStone?d=TileStone.create(a.stoneLevel,a.showType):
a.tileItemType==TileItemType.kWorm?d=TileWorm.create():printf("unexcepted item type:"+a.tileItemType);var e=Sprite.createEmpty();d.setPosition(ccp(0,0));e.addChild(d);0<a.jumpCatLevel&&(d=TileJumpCat.create(),e.addChild(d));return e},buildClippingNode:function(){if(null==this.clippingnode){var a=this.getBasePosition(this.x,this.y),c=SimpleClippingNode.create();c.setContentSize(cc.size(this.w,this.cl_h));c.setPosition(ccp(a.x-this.w/2,a.y-this.h/2));this.clippingnode=c}},buildEnterClippingNode:function(){if(null==
this.enterClippingNode){var a=this.getBasePosition(this.x,this.y),c=SimpleClippingNode.create();c.setContentSize(cc.size(this.w,this.cl_h));c.setPosition(ccp(a.x-this.w/2,a.y-this.h/2));this.enterClippingNode=c}},removeAllChildOfClippingNode:function(){if(null==this.clippingnode)return!1;this.cleanTileSprite(TileViewType.kClipping);this.clippingnode.removeChildren();return!0},removeAllChildOfEnterClippingNode:function(){if(null==this.enterClippingNode)return!1;this.cleanTileSprite(TileViewType.kEnterClipping);
this.enterClippingNode.removeChildren();return!0},addSpriteToClippingNode:function(a){this.buildClippingNode();this.tileSprite[TileViewType.kClipping]=a;null!=a&&(a.getParent()&&a.removeFromParentAndCleanup(!1),this.clippingnode.addChild(a))},addSpriteToEnterClippingNode:function(a){this.buildEnterClippingNode();this.tileSprite[TileViewType.kEnterClipping]=a;null!=a&&(a.getParent()&&a.removeFromParentAndCleanup(!1),this.enterClippingNode.addChild(a))},addFallingDataIntoClipping:function(a){var c=
null,c=this.buildFallingClippingSprite(a,!0);c.setPositionXY(this.w/2,1.5*this.h);this.removeAllChildOfClippingNode();this.addSpriteToClippingNode(c);this.cleanTileItemView();this.isNeedUpdate=!0},takeClippingNodeToSprite:function(a,c){this.cleanClippingSpriteOfItem();this.initByItemData(a);var d=c&&!c.isNotSelect&&c.holdData;a.tileItemType==TileItemType.kFruit&&d&&d.fruitColorType==a.fruitColorType&&this.playSelectEffect(a)},fallingDataOutOfClipping:function(a){var c=null,c=this.buildFallingClippingSprite(a,
!1);c.setPositionXY(this.w/2,this.h/2);this.removeAllChildOfEnterClippingNode();this.addSpriteToEnterClippingNode(c);this.cleanTileItemView();this.isNeedUpdate=!0},cleanClippingSpriteOfItem:function(){this.cleanTileSprite(TileViewType.kClipping)&&(this.isNeedUpdate=!0)},cleanEnterClippingSpriteOfItem:function(){this.cleanTileSprite(TileViewType.kEnterClipping)&&(this.isNeedUpdate=!0)},playGetScoreAction:function(a,c,d,e){a=cc.formatStr("%d",Math.floor(c));var f=e.createLabel(a);e=this.getBasePosition(this.x,
this.y);a=ccp(e.x-this.w/2,e.y-this.h/2+50);c=ccp(e.x-this.w/2,e.y+this.h/2);f.setPosition(a);f.setScale(TileConst_Score_MatchDeleted_Scale);a=cc.moveTo(TileItemViewRunner.getActionTime(TileConst_Score_MatchDeleted_UP_Time),c);c=cc.delayTime(TileItemViewRunner.getActionTime(TileConst_Score_MatchDeleted_Stop_Time));var g=cc.fadeOut(TileItemViewRunner.getActionTime(TileConst_Score_MatchDeleted_Fly_Time));2==d&&(f.setPosition(e),a=cc.scaleTo(TileItemViewRunner.getActionTime(TileConst_Score_MatchDeleted_UP_Time),
1.2*TileConst_Score_MatchDeleted_Scale),c.setDuration(0));d=[];d.push(a);d.push(c);d.push(g);d.push(cc.callFunc(function(){f&&f.getParent()&&f.removeFromParentAndCleanup(!0)}));d=cc.sequence(d);f.runAction(d);return f},flyingSpriteIntoItem:function(a){if(this.x!=a.x||this.y!=a.y||this.oldData&&this.oldData.canBeRefresh())null!=a.tileSprite[TileViewType.kItem]?(this.flyingfromtype=TileViewType.kItem,this.tileSprite[TileViewType.kSpecial]=a.tileSprite[TileViewType.kItem],this.tileSprite[TileViewType.kSpecial].removeFromParentAndCleanup(!1),
a.tileSprite[TileViewType.kItem]=null):null!=a.tileSprite[TileViewType.kItemShow]&&(this.flyingfromtype=TileViewType.kItemShow,this.tileSprite[TileViewType.kSpecial]=a.tileSprite[TileViewType.kItemShow],this.tileSprite[TileViewType.kSpecial].removeFromParentAndCleanup(!1),a.tileSprite[TileViewType.kItemShow]=null)},flyingSpriteIntoItemEnd:function(){this.tileSprite[TileViewType.kSpecial]&&(this.cleanTileSprite(this.flyingfromtype),this.tileSprite[this.flyingfromtype]=this.tileSprite[TileViewType.kSpecial],
this.tileSprite[this.flyingfromtype].removeFromParentAndCleanup(!1),this.tileSprite[TileViewType.kSpecial]=null,this.isNeedUpdate=!0)},playBearGoHomeAction:function(a,c){if(this.tileSprite[TileViewType.kItemShow]){var d=this.tileSprite[TileViewType.kItemShow],e=TileDropThing.create(a);c.tileUIDelegate&&c.tileUIDelegate.effectLayer&&(c.tileUIDelegate.effectLayer.addChild(e,0),e.setPosition(c.tileLogic.getGameItemPosInView(this.y,this.x)));d.runAction(cc.scaleTo(TileItemViewRunner.getActionTime(TileConst_BearGoHome_DropDown_ScaleTime),
0));var f=c.tileLogic.getGameItemPosInView(this.y,this.x);f.y-=TileConst_BearGoHome_DropDown_CollectPos*TileConst_Tile_Height;d=cc.spawn(cc.moveTo(TileItemViewRunner.getActionTime(TileConst_BearGoHome_DropDown_CollectTime),f),cc.scaleTo(TileItemViewRunner.getActionTime(TileConst_BearGoHome_DropDown_CollectTime),TileConst_BearGoHome_DropDown_CollectScale));e.runAction(cc.sequence(d,cc.callFunc(function(){e.removeFromParentAndCleanup(!0);c.tileUIDelegate&&c.tileUIDelegate.setGameTargetNumber(0,c.tileLogic.bearGoHomeTotal-
c.tileLogic.bearGoHomeCount,f)})))}},playDiscolorFruitChangeColor:function(a){a=TileDiscolor.create(a);var c=this.tileSprite[TileViewType.kItem];if(c){c.getParent()&&(c.getParent().addChild(a),a.setPosition(this.getBasePosition(this.x,this.y)),a.setAlpha(0));var d=cc.fadeOut(TileItemViewRunner.getActionTime(TileConst_DiscolorFruit_Time)),e=cc.fadeIn(TileItemViewRunner.getActionTime(TileConst_DiscolorFruit_Time)),f=cc.callFunc(function(){c&&c.getParent()&&c.removeFromParentAndCleanup(!0)}),d=cc.sequence(d,
f);this.tileSprite[TileViewType.kItem]=a;c.runAction(d);a.runAction(e)}},playFrutiExchangeColor:function(a,c){var d=a.fruitColorType,e=a.fruitSpecialType,f=this.tileSprite[TileViewType.kItem]||this.tileSprite[TileViewType.kItemShow];if(f){var g=this,h=cc.callFunc(function(){g.isExchange=!1;g.removeItemSpriteGameItem();g.buildNewFruitItem(d,e,!0,!0,a.fruitCondiment);g.isNeedUpdate=!0;g.oldData.changeItemType(d,e);if(0<a.boardSpType){g.cleanTileSprite(TileViewType.kCutyPet);var c=TileCutyPet.create();
g.oldBoard.boardSpType=a.boardSpType;var f=g.getBasePosition(g.x,g.y);c.setPosition(f);g.tileSprite[TileViewType.kCutyPet]=c}}),h=cc.sequence(cc.delayTime(c||0.33),h);f.stopAllActions();f.runAction(h);this.isExchange=!0}},playAnimationFruitDestroyByFive:function(a,c,d,e,f){var g=this.tileSprite[TileViewType.kItem];this.cleanTileSprite(TileViewType.kCondiment);var h=this;null==g&&(this.takeClippingNodeToSprite(this.oldData),g=this.tileSprite[TileViewType.kItem]);this.tileSprite[TileViewType.kItem]=
null;this.tileSprite[TileViewType.kSpecial]=g;a=Math.sqrt(Math.pow(c.y-a.y,2)+Math.pow(c.x-a.x,2));c=7E3/a;var m=[];m.push(cc.delayTime(8E-4*a));m.push(cc.jumpBy(0.3,ccp(0,0),c,1));m.push(cc.callFunc(function(){g&&g.removeFromParentAndCleanup(!0);h&&(h.tileSprite[TileViewType.kSpecial]=null);h.playFruitDestroyAnimation();var a=d.tileLogic;ScoreCalculateLogic.addScoreAtSiteByItemType(a,e,f,a.tileItemMap[e][f].tileItemType,!1,1)}));m.push(cc.delayTime(1));a=cc.sequence(m);null!=g&&g.refObject?g.runAction(a):
printf("sprite1 \x3d\x3d null",r1,c1)},playCrossBombEffect:function(){var a=ccp(0,0),c=Sprite.createEmpty(),d=SpriteUtils.buildFrames("cross_bomb_%d.png",0,20),d=SpriteUtils.buildAnimate(d),e=Sprite.createEmpty();e.play(d,0,1,function(){this.tileSprite[TileViewType.kSpecial2]=null;c.removeFromParentAndCleanup(!0)});c.addChild(e);e.setPosition(a);c.setPosition(this.getBasePosition(this.x,this.y));this.tileSprite[TileViewType.kSpecial2]=c;this.isNeedUpdate=!0},playShakeBySpecialColorEffect:function(){var a=
this.tileSprite[TileViewType.kItem],c=0,c=0.5<Math.random()?1:-1,d=[];d.push(cc.spawn(cc.scaleTo(0.08,1,0.6),cc.moveBy(0.08,ccp(0,-9))));d.push(cc.spawn(cc.scaleTo(0.08,1,1),cc.moveBy(0.08,ccp(0,9))));d.push(cc.callFunc(function(){var d=6+3*Math.random(),f=cc.rotateTo(0.08,c*d),d=cc.rotateTo(0.08,-c*d*2),g=[];g.push(f);g.push(d);f=cc.sequence(g);a.runAction(cc.repeatForever(f))}));a&&a.refObject&&a.runAction(cc.sequence(d))},stopShakeBySpecialColorEffect:function(){var a=this.tileSprite[TileViewType.kItem];
a&&a.refObject&&(a.stopAllActions(),a.setRotation(0))},playPressBySpecialColorEffect:function(){var a=this.tileSprite[TileViewType.kItem],c=this.tileSprite[TileViewType.kItemShow],d=[];d.push(cc.spawn(cc.scaleTo(0.08,1,0.6),cc.moveBy(0.08,ccp(0,-9))));d.push(cc.spawn(cc.scaleTo(0.08,1,1),cc.moveBy(0.08,ccp(0,9))));a&&a.refObject?a.runAction(cc.sequence(d)):c&&c.runAction(cc.sequence(d))},showAdviseEffect:function(a){function c(a){var c=[];c.push(cc.spawn(cc.scaleTo(0.35,1.06,1.06),cc.tintTo(0.35,
255,255,255)));c.push(cc.spawn(cc.scaleTo(0.35,1,1),cc.tintTo(0.35,128,128,128)));c=cc.sequence(c);a.runAction(cc.repeatForever(c))}a=this.tileSprite[TileViewType.kItem];var d=this.tileSprite[TileViewType.kItemShow],e=this.tileSprite[TileViewType.kLock];d&&d.setVisible(!1);a&&c(a);e&&c(e)},stopAdviseEffect:function(){var a=this.tileSprite[TileViewType.kItem],c=this.tileSprite[TileViewType.kItemShow],d=this.tileSprite[TileViewType.kLock];a&&(a.setVisible(!0),a.setScale(1),a.setColor(cc.color(255,255,
255)),a.stopAllActions());c&&c.setVisible(!0);d&&(d.setVisible(!0),d.setScale(1),d.setColor(cc.color(255,255,255)),d.stopAllActions());this.cleanTileSprite(TileViewType.kItemHint)},playSelectEffect:function(a){this.isExchange||a.tileItemType!=TileItemType.kFruit||(FruitTypeConfig.isSpecial(a.fruitSpecialType)?a.fruitSpecialType==FruitTypeConfig.kFive&&(a=this.tileSprite[TileViewType.kItemShow])&&a.playSelectedAnimation():(a=this.tileSprite[TileViewType.kItem])&&a.refObject&&null==this.tileSprite[TileViewType.kItemHint]&&
a.playSelectAnimation())},stopSelectEffect:function(a){a.tileItemType==TileItemType.kFruit&&(FruitTypeConfig.isSpecial(a.fruitSpecialType)?a.fruitSpecialType==FruitTypeConfig.kFive&&(a=this.tileSprite[TileViewType.kItemShow])&&a.playNormalAnimation():(a=this.tileSprite[TileViewType.kItem])&&null==this.tileSprite[TileViewType.kItemHint]&&a.playNormalAnimation())},setGiftBoxLightVisible:function(a){var c=this.tileSprite[TileViewType.kGiftBox];null!=c&&c.setLightVisible(a)},playBossDie:function(a,c){var d=
this.tileSprite[TileViewType.kBigBoss];d.destroy(function(){d&&(d.removeFromParentAndCleanup(!0),this.tileSprite[TileViewType.kBigBoss]=null);c&&c()})},playBossStunEffect:function(){var a=this.tileSprite[TileViewType.kBigBoss];a&&a.stun(animationCallback)},playBossStopStunEffect:function(){this.tileSprite[TileViewType.kBigBoss].stopStun(animationCallback)},playBossDisappear:function(a,c){var d=this.tileSprite[TileViewType.kBigBoss];d.disappear(function(){d&&!d.isDisposed&&(d.removeFromParentAndCleanup(!0),
this.tileSprite[TileViewType.kBigBoss]=null);c&&c()})},playBossCastSkill:function(a,c){this.tileSprite[TileViewType.kBigBoss].cast(function(){c&&c()})},buildBossAnim:function(a){this.buildBaldStrong(a)},playBossComeout:function(a,c,d,e){this.buildBossAnim(c);a=this.tileSprite[TileViewType.kBigBoss];a.setPositionXY((this.x+0.5)*this.w+0.5*this.w,(TileConst_Tile_Item_Max-this.y-0.5)*this.h-0.5*this.h);a.comeout(function(){d&&d()},e);this.isNeedUpdate=!0},playVisibleEffect:function(){this.tileSprite[TileViewType.kItem]&&
this.tileSprite[TileViewType.kItem].setVisible(!1);this.tileSprite[TileViewType.kItemShow]&&this.tileSprite[TileViewType.kItemShow].setVisible(!1)},playShockEffect:function(a,c){var d=cc.sequence(cc.delayTime(c),cc.jumpBy(0.3,ccp(0,0),45*a,1));this.tileSprite[TileViewType.kItem]?this.tileSprite[TileViewType.kItem].runAction(d):this.tileSprite[TileViewType.kItemShow]&&this.tileSprite[TileViewType.kItemShow].runAction(d)},playBossHit:function(a){this.tileSprite[TileViewType.kBigBoss].hit(animationCallback)},
getTransItemCopy:function(){var a=Sprite.createEmpty();a.items={};for(var c=0;c<ConveyerBeltNeedCopyType.length;++c){var d=ConveyerBeltNeedCopyType[c],e=this.tileSprite[d];e&&(a.items[d]=e,e.removeFromParentAndCleanup(!1),this.tileSprite[d]=null,e.setPosition(ccp(0,0)),a.addChild(e),TileBoardView.setTileLayerPosition(e,d))}return a},getTransContainer:function(){this.transContainer.getParent()&&this.transContainer.removeFromParentAndCleanup(!1);return this.transContainer},reinitTransHeadByLogic:function(a,
c){this.tileSprite[TileViewType.kItemShow]&&(this.transContainer.removeFromParentAndCleanup(!1),this.tileSprite[TileViewType.kItemShow]=null);this.transClippingContainer.removeFromParentAndCleanup(!1);this.tileSprite[TileViewType.kTransClipping].removeFromParentAndCleanup(!0);this.transClippingNode=this.tileSprite[TileViewType.kTransClipping]=null;for(var d in this.transClippingContainer.items){var e=this.transClippingContainer.items[d];e.removeFromParentAndCleanup(!1);this.tileSprite[d]=e}this.transClippingContainer.dispose();
this.transClippingContainer=null;this.initPosBoardDataPos(a,!0);this.isNeedUpdate=!0},reinitTransRoadByLogic:function(a,c,d){this.tileSprite[TileViewType.kItemShow]&&(this.transContainer.removeFromParentAndCleanup(!1),this.tileSprite[TileViewType.kItemShow]=null);this.transClippingContainer&&(this.transClippingNode.removeFromParentAndCleanup(!0),this.transClippingNode=this.transClippingContainer=null,this.tileSprite[TileViewType.kTransClipping]=null);for(var e in d.items)c=d.items[e],c.removeFromParentAndCleanup(!1),
this.tileSprite[e]=c;d.dispose();this.initPosBoardDataPos(a,!0);this.isNeedUpdate=!0},buildConveyerBelt:function(a,c){var d,e,f,g=a.beltType;g==ConveyorBeltType.kRoad||g==ConveyorBeltType.kStart||g==ConveyorBeltType.kEnd?(d="belt_road_0",e=90*(a.beltDirect-1),f=c?-1:1):(d="belt_corner_0",g==ConveyorBeltType.kCorner_UR?(e=0,f=1,c&&(e=270,f=-1)):g==ConveyorBeltType.kCorner_RD?(e=90,f=1,c&&(e=0,f=-1)):g==ConveyorBeltType.kCorner_DL?(e=180,f=1,c&&(e=90,f=-1)):g==ConveyorBeltType.kCorner_LU?(e=270,f=1,
c&&(e=180,f=-1)):g==ConveyorBeltType.kCorner_LD?(e=270,f=-1,c&&(e=0,f=1)):g==ConveyorBeltType.kCorner_DR?(e=180,f=-1,c&&(e=270,f=1)):g==ConveyorBeltType.kCorner_RU?(e=90,f=-1,c&&(e=180,f=1)):g==ConveyorBeltType.kCorner_UL&&(e=0,f=-1,c&&(e=90,f=1)));this.cleanTileSprite(TileViewType.kTileBlocker);d=Sprite.createWithSpriteFrameName(d);d.setRotation(e);d.setScaleX(f);this.tileSprite[TileViewType.kTileBlocker]=d;!this.tileSprite[TileViewType.kConveyorBeltDoor]&&a.beltType>=ConveyorBeltType.kStart&&(this.tileSprite[TileViewType.kConveyorBeltDoor]=
TileTransDoor.create(a.beltType,a.beltDirect,a.beltDoorType))},createTransClippingSprite:function(a,c){var d=Sprite.createEmpty();d.items={};if(0<c.iceLevel){var e=TileIce.createIce(c.iceLevel);d.addChild(e);d.items[TileViewType.kIce]=e}0<c.boardSpType&&(e=TileCutyPet.create(),d.addChild(e),d.items[TileViewType.kCutyPet]=e);0<c.giftColor&&(e=TileGiftBox.create(c.giftColor),d.addChild(e),d.items[TileViewType.kGiftBox]=e);0<c.honeyLevel&&(e=TileLawn.create(c.honeyLevel),d.addChild(e),d.items[TileViewType.kHoney]=
e);0<c.sandLevel&&(e=TileSand.createSand(),d.addChild(e),d.items[TileViewType.kSand]=e);a.condimentGunDir&&(e=TileCondiment.createCondimentGun(a.condimentGunDir),d.addChild(e),d.items[TileViewType.kItem]=e);var f=e=null;a.tileItemType==TileItemType.kFruit?(e=this.buildNewFruitItem(a.fruitColorType,a.fruitSpecialType,!1,!1,a.fruitCondiment),f=FruitTypeConfig.isSpecial(a.fruitSpecialType)?TileViewType.kItemShow:TileViewType.kItem):a.tileItemType==TileItemType.kStone?(e=TileStone.create(a.stoneLevel,
a.showType),f=TileViewType.kItem):a.tileItemType==TileItemType.kDiscolor?(e=TileDiscolor.create(a.fruitColorType),f=TileViewType.kItem):a.tileItemType==TileItemType.kTwoBear?(e=TileDropThing.create(a.showType),f=TileViewType.kItemShow):a.tileItemType==TileItemType.kSandstorm?(e=TileSandstorm.create(),f=TileViewType.kItemShow):a.tileItemType==TileItemType.kFlame?(e=TileFire.create(),f=TileViewType.kItemShow):a.tileItemType==TileItemType.kClayBlock?(e=TileClay.create(a.fruitColorType),f=TileViewType.kItemShow):
a.tileItemType==TileItemType.kHelmet?(e=TileHelmet.create(),f=TileViewType.kItem):a.tileItemType==TileItemType.kWatermelon?(e=TileWatermelon.create(a.watermelonLevel),f=TileViewType.kItemShow):a.tileItemType==TileItemType.kWorm&&(e=TileWorm.create(),f=TileViewType.kItemShow);e&&(e.setPositionXY(0,0),d.addChild(e),d.items[f]=e);a.hasJumpCat()&&(e=TileJumpCat.create(),d.addChild(e),d.items[TileViewType.kJumpCat]=e);0<a.cardboardLevel&&(e=TileLock.create(),d.addChild(e),d.items[TileViewType.kLock]=e);
return d},removeAllChildOfTransClippingSprite:function(){this.tileSprite[TileViewType.kTransClipping]&&(this.tileSprite[TileViewType.kTransClipping].removeFromParentAndCleanup(!0),this.transClippingNode=this.tileSprite[TileViewType.kTransClipping]=null)},buildConveyerBeltClippingNode:function(){var a=this.getBasePosition(this.x,this.y),c=SimpleClippingNode.create();c.setContentSize(cc.size(this.w,this.h));c.setPosition(ccp(a.x-this.w/2,a.y-this.h/2));this.transClippingNode=c},addSpriteToTransClippingNode:function(a){this.buildConveyerBeltClippingNode();
this.tileSprite[TileViewType.kTransClipping]=this.transClippingNode;null!=a&&(a.getParent()&&a.removeFromParentAndCleanup(!1),a.setPositionXY(this.w/2,this.h/2),this.transClippingNode.addChild(a))},roadTransToNext:function(a,c,d,e){this.stopSelectEffect(this.oldData);this.transContainer=e=this.getTransItemCopy();this.tileSprite[TileViewType.kItemShow]=e;e.setPosition(this.getBasePosition(this.x,this.y));e.setPositionY(e.getPositionY());a=cc.sequence(cc.moveBy(TileConst_ConveyorBelt_Time,a),cc.callFunc(function(){d&&
d()}));e.runAction(a);if(a=this.tileSprite[TileViewType.kTileBlocker])c=c?"belt_corner_%d":"belt_road_%d",c=SpriteUtils.buildAnimate(SpriteUtils.buildFrames(c,0,22,!1)),a.play(c,0,1);this.isNeedUpdate=!0},tailTransToOut:function(a,c,d,e,f){this.transClippingContainer=a=this.getTransItemCopy();this.addSpriteToTransClippingNode(a);a.runAction(cc.sequence(cc.moveBy(TileConst_ConveyorBelt_Time,d),cc.callFunc(function(){e&&e()})));this.isNeedUpdate=!0;if(d=this.tileSprite[TileViewType.kTileBlocker])a=
SpriteUtils.buildAnimate(SpriteUtils.buildFrames("belt_road_%d",0,22,!1)),d.play(a,0,1);(d=this.tileSprite[TileViewType.kConveyorBeltDoor])&&d.playTransAnimation()},headTransToIn:function(a,c,d,e){this.transClippingContainer=a=this.createTransClippingSprite(a,c);this.addSpriteToTransClippingNode(a);c=a.getPosition();a.setPosition(ccp(c.x-d.x,c.y-d.y));a.runAction(cc.sequence(cc.moveBy(TileConst_ConveyorBelt_Time,d),cc.callFunc(function(){e&&e()})));this.isNeedUpdate=!0},changeBrakeAreaColor:function(a){this.cleanTileSprite(TileViewType.kSwichArea);
a=TileConveyorBeltSwitch.createBrakeArea(a);var c=this.getBasePosition(this.x,this.y);a.setPosition(c);a.runAction(cc.repeatForever(cc.sequence(cc.fadeOut(0.5),cc.fadeIn(0.5))));this.tileSprite[TileViewType.kSwichArea]=a;this.isNeedUpdate=!0},changeGearAreaColor:function(a){this.cleanTileSprite(TileViewType.kSwichArea);a=TileConveyorBeltSwitch.createGearArea(a);var c=this.getBasePosition(this.x,this.y);a.setPosition(c);a.runAction(cc.repeatForever(cc.sequence(cc.fadeOut(0.5),cc.fadeIn(0.5))));this.tileSprite[TileViewType.kSwichArea]=
a;this.isNeedUpdate=!0},changeConveyorBeltArrow:function(a,c){var d=this.getBasePosition(this.x,this.y);this.buildConveyerBelt(c,!a);this.tileSprite[TileViewType.kTileBlocker].setPosition(d);this.isNeedUpdate=!0},changeConveyorBeltDoorDir:function(){var a=this.tileSprite[TileViewType.kConveyorBeltDoor];a&&a.changeTransAnimation()},playSmallToBigAction:function(){var a=this.tileSprite[TileViewType.kItem],c=this.tileSprite[TileViewType.kItemShow];a&&(a.setScale(0),a.runAction(cc.scaleTo(0.18,1)));c&&
(c.setScale(0),c.runAction(cc.scaleTo(0.18,1)))},playBossChangeToFlame:function(a,c,d){var e=this;a=c.oldData.bossType==LevelBossType.kCaptain&&ccp(1.5,0)||ccp(1,-0.5);c=this.getBasePosition(c.x+a.x,c.y+a.y);a=this.getBasePosition(this.x,this.y);c=CommonFlyLine.createWhite(c,a,null,function(){e.cleanTileSprite(TileViewType.kSpecial);d()},flyingtime);this.tileSprite[TileViewType.kSpecial]=c;this.isNeedUpdate=!0},initSlide:function(a){this.oldBoard&&this.oldBoard.slideType!=SlideType.kNone&&(a=a.slideLineMap[this.y][this.x])&&
this.buildSlide(a)},buildSlide:function(a){var c=a.line[a.index];this.tileSprite[TileViewType.kSlide]=TileSlide.create(a);this.tileSprite[TileViewType.kSlideArrow]=TileSlide.createArrow(a.index,c.type)},playFlyLineAction:function(a,c,d,e){a=this.getBasePosition(this.x,this.y);c=CommonFlyLine.createWhite(c,a,null,function(){this.cleanTileSprite(TileViewType.kSpecial);d()},e);this.tileSprite[TileViewType.kSpecial]=c;this.isNeedUpdate=!0},playClayBlockGo:function(a){var c=this.tileSprite[TileViewType.kItemShow];
if(null!=c){var d=[];d.push(cc.rotateBy(0.5,720));d.push(cc.callFunc(a));c.runAction(cc.sequence(d))}},playGiftBoxGo:function(a){var c=this.tileSprite[TileViewType.kGiftBox];if(null==c)a();else{var d=this,e=this.getBasePosition(this.x,this.y),c=c.createFrBox(function(){d.cleanTileSprite(TileViewType.kGiftBox);d.cleanTileSprite(TileViewType.kGiftBoxFr);a()});c.setPosition(e);this.tileSprite[TileViewType.kGiftBoxFr]=c;this.isNeedUpdate=!0}}});
TileView.create=function(a){var c=new TileView;c.initView(a);return c};var TileItemFallType=cw.Enum({kNone:-1,kOutputAll:-1,kOutputColor1:-1,kOutputColor2:-1,kOutputColor3:-1,kOutputColor4:-1,kOutputColor5:-1,kOutputFruit:-1,kOutputTwoBear:-1,kOutputBlock:-1,kOutputHelmet:-1,kOutputDiscolorFruit:-1,kOutputCat:-1,kOutputWatermelon:-1,kOutputStone:-1,kOutputIce:-1,kOutputWorm:-1}),ConveyorBeltType=cw.Enum({kNone:0,kRoad:1,kCorner_UR:2,kCorner_RD:3,kCorner_DL:4,kCorner_LU:5,kCorner_LD:6,kCorner_DR:7,kCorner_RU:8,kCorner_UL:9,kStart:10,kEnd:11}),ConveyorBeltDirection=cw.Enum({kNone:0,
kRight:1,kDown:2,kLeft:3,kUp:4}),ProtalType=cw.Enum({kNone:0,kUp:1,kDown:2,kUpDown:3}),SlideType=cw.Enum({kNone:0,kUp:1,kDown:2,kLeft:3,kRight:4,kEnd:5}),TileBoardData=cw.Class({ctor:function(){this.initXY();this.initData()},initXY:function(){this.y=this.x=0;this.h=this.w=74},initData:function(){this.isProducer=this.isNeedUpdate=this.isBlock=this.isUsed=!1;this.honeyLevel=this.iceLevel=0;this.protalType=ProtalType.kNone;this.protalExitPoint=ccp(-1,-1);this.protalEnterPoint=ccp(-1,-1);this.isCollector=
!1;this.woodType=0;this.theTileItemFallType=[];this.beltType=ConveyorBeltType.kNone;this.beltDirect=ConveyorBeltDirection.kNone;this.beltLink=null;this.slideType=SlideType.kNone;this.isDoubleBoardSp=this.boardSpType=0;this.isBoardLock=!1;this.sandLevel=this.switchArea=this.giftColor=0},copy:function(){var a=new TileBoardData;a.x=this.x;a.y=this.y;a.w=this.w;a.h=this.h;a.copyDataFrom(a,this);return a},copyDataFrom:function(a,c){a.isUsed=c.isUsed;a.isBlock=c.isBlock;a.isNeedUpdate=c.isNeedUpdate;a.isProducer=
c.isProducer;a.iceLevel=c.iceLevel;a.honeyLevel=c.honeyLevel;a.protalType=c.protalType;a.protalEnterPoint=ccp(c.protalEnterPoint);a.protalExitPoint=ccp(c.protalExitPoint);a.isCollector=c.isCollector;a.woodType=c.woodType;a.theTileItemFallType=cw.clone(c.theTileItemFallType);a.beltType=c.beltType;a.beltDirect=c.beltDirect;a.beltLink=c.beltLink;a.bearInfo=c.bearInfo;a.slideType=c.slideType;a.boardSpType=c.boardSpType;a.isBoardLock=c.isBoardLock;a.giftColor=c.giftColor;a.switchArea=c.switchArea;a.sandLevel=
c.sandLevel},initByConfig:function(a){this.x=a.x;this.y=a.y;this.isUsed=!a.hasProperty(TileConfig.kEmpty);a.hasProperty(TileConfig.kOutputFruit)&&this.initOutput(TileItemFallType.kOutputFruit);a.hasProperty(TileConfig.kOutputTwoBear)&&this.initOutput(TileItemFallType.kOutputTwoBear);a.hasProperty(TileConfig.kOutputBlock)&&this.initOutput(TileItemFallType.kOutputBlock);a.hasProperty(TileConfig.kOutputHelmet)&&this.initOutput(TileItemFallType.kOutputHelmet);a.hasProperty(TileConfig.kOutputDiscolorFruit)&&
this.initOutput(TileItemFallType.kOutputDiscolorFruit);a.hasProperty(TileConfig.kOutputCat)&&this.initOutput(TileItemFallType.kOutputCat);a.hasProperty(TileConfig.kOutputColor1)&&this.initOutput(TileItemFallType.kOutputColor1);a.hasProperty(TileConfig.kOutputColor2)&&this.initOutput(TileItemFallType.kOutputColor2);a.hasProperty(TileConfig.kOutputColor3)&&this.initOutput(TileItemFallType.kOutputColor3);a.hasProperty(TileConfig.kOutputColor4)&&this.initOutput(TileItemFallType.kOutputColor4);a.hasProperty(TileConfig.kOutputColor5)&&
this.initOutput(TileItemFallType.kOutputColor5);a.hasProperty(TileConfig.kOutputWatermelon)&&this.initOutput(TileItemFallType.kOutputWatermelon);a.hasProperty(TileConfig.kOutputStone)&&this.initOutput(TileItemFallType.kOutputStone);a.hasProperty(TileConfig.kOutputIce)&&this.initOutput(TileItemFallType.kOutputIce);a.hasProperty(TileConfig.kOutputWorm)&&this.initOutput(TileItemFallType.kOutputWorm);0>=this.theTileItemFallType.length&&a.hasProperty(TileConfig.kOutput)&&this.initOutput(TileItemFallType.kOutputAll);
a.hasProperty(TileConfig.kBlocker)&&(this.isBlock=!0);a.hasProperty(TileConfig.kWood)&&(this.isBlock=!0);a.hasProperty(TileConfig.kCollector)&&(this.isCollector=!0);a.hasProperty(TileConfig.kPortalEnter)&&(this.protalType+=2);a.hasProperty(TileConfig.kPortalExit)&&(this.protalType+=1);a.hasProperty(TileConfig.kWoodUp)&&(this.woodType=bit.bor(this.woodType,1));a.hasProperty(TileConfig.kWoodDown)&&(this.woodType=bit.bor(this.woodType,2));a.hasProperty(TileConfig.kWoodLeft)&&(this.woodType=bit.bor(this.woodType,
4));a.hasProperty(TileConfig.kWoodRight)&&(this.woodType=bit.bor(this.woodType,8));a.hasProperty(TileConfig.kSlideUp)&&(this.slideType=SlideType.kUp);a.hasProperty(TileConfig.kSlideDown)&&(this.slideType=SlideType.kDown);a.hasProperty(TileConfig.kSlideLeft)&&(this.slideType=SlideType.kLeft);a.hasProperty(TileConfig.kSlideRight)&&(this.slideType=SlideType.kRight);a.hasProperty(TileConfig.kCutyPet)&&(this.boardSpType=FruitTypeConfig.kCutyPet);a.hasProperty(TileConfig.kBrakeArea)&&(this.switchArea=1);
a.hasProperty(TileConfig.kGearArea)&&(this.switchArea=2);a.hasProperty(TileConfig.kSand)&&(this.sandLevel=1);this.initIce(a)},initOutput:function(a){this.isProducer=!0;this.theTileItemFallType.push(a)},clearOutput:function(a){for(var c=0;c<this.theTileItemFallType.length;++c)if(this.theTileItemFallType[c]==a){this.theTileItemFallType.splice(c,1);break}this.isProducer=0<this.theTileItemFallType.length},isConveyorBelt:function(){return this.beltType>ConveyorBeltType.kNone},setConveyorBeltConfig:function(a,
c,d,e,f){this.beltType=a;this.beltDirect=c;this.beltLink=d;this.beltIndex=e;this.beltMaxIndex=f},changeDataAfterBelt:function(a){this.iceLevel=a.iceLevel;this.honeyLevel=a.honeyLevel;this.boardSpType=a.boardSpType;this.sandLevel=a.sandLevel;this.isNeedUpdate=!0},hasConveyorBeltOutput:function(){if(this.isProducer)for(var a=0;a<this.theTileItemFallType.length;++a){var c=this.theTileItemFallType[a];if(c==TileItemFallType.kOutputStone||c==TileItemFallType.kOutputIce)return!0}return!1},initIce:function(a){a.hasProperty(TileConfig.kIce1)?
this.iceLevel=1:a.hasProperty(TileConfig.kIce2)?this.iceLevel=2:a.hasProperty(TileConfig.kIce3)?this.iceLevel=3:a.hasProperty(TileConfig.kIce4)?this.iceLevel=4:a.hasProperty(TileConfig.kIce5)&&(this.iceLevel=5)},initHoney:function(a){a.hasProperty(TileConfig.kHoney1)?this.honeyLevel=1:a.hasProperty(TileConfig.kHoney2)?this.honeyLevel=2:a.hasProperty(TileConfig.kHoney3)&&(this.honeyLevel=3)},initFindBear:function(a){this.bearInfo=a},isBearIcon:function(){return this.bearInfo&&this.bearInfo.r==this.y&&
this.bearInfo.c==this.x},addProtalEnterInfo:function(a,c){this.protalExitPoint=ccp(a,c)},addProtalExitInfo:function(a,c){this.protalEnterPoint=ccp(a,c)},hasWood:function(){return 0!==this.woodType},hasTopWood:function(){return 0!==bit.band(this.woodType,1)},hasBottomWood:function(){return 0!==bit.band(this.woodType,2)},hasLeftWood:function(){return 0!==bit.band(this.woodType,4)},hasRightWood:function(){return 0!==bit.band(this.woodType,8)},hasPortal:function(){return this.hasEnterPortal()||this.hasExitPortal()},
hasEnterPortal:function(){return-1===this.protalExitPoint.x||-1===this.protalExitPoint.y?!1:this.protalType===ProtalType.kDown||this.protalType===ProtalType.kUpDown},hasExitPortal:function(){return-1===this.protalEnterPoint.x||-1===this.protalEnterPoint.y?!1:this.protalType===ProtalType.kUp||this.protalType==ProtalType.kUpDown},isBrakeArea:function(){return 1==this.switchArea},isGearArea:function(){return 2==this.switchArea}});TileBoardData.create=function(){return new TileBoardData};var TileGameStatus=cw.Enum({kPreStart:0,kNormal:1,kEnd:2,kPassLevelTime:3,kAfterPassLevelTime:4,kWin:5,kFailed:6}),TileBoardLogic=cw.Class({ctor:function(){this.tileItemMap=this.tileBoardMap=this.posAdd=null;this.gameActionList=[];this.destructionPlanList=[];this.destroyActionList=[];this.fallingActionList=[];this.swapActionList=[];this.exchangeActionList=[];this.propActionList=[];this.needCheckMatchList=[];this.mapColorList=null;this.maxColorNum=3;this.colortypes=null;this.randomSeed=this.level=
0;this.swapHelpMakePos=this.swapHelpList=this.swapHelpMap=null;this.needCheckFalling=!0;this.isFallingStablePreFrame=this.isFallingStable=!1;this.fallingHelpMap=null;this.isBlockChange=!1;this.effectHelpMap=null;this.comboCount=0;this.comboHelpList=this.comboHelpDataSet=null;this.totalScore=0;this.isWaitingOperation=!1;this.realCostMove=this.theCurMoves=this.curGameStatus=this.curGameModeType=0;this.starScores=[1,2,3];this.kIceCleanLeftCount=this.kIceCleanTotal=this.bearGoHomeCount=this.bearGoHomeTotal=
0;this.isGamePaused=!1;this.extraTime=this.timeTotalUsed=this.timeTotalLimit=0;this.theOrderList=[];this.theOrderLimit=1;this.randomFruitHelpList=[];this.randFactory=MathUtils.createCRandom();this.prePropRandFactory=MathUtils.createCRandom();this.tileUIDelegate=null;this.recordData=TileRecordData.create();this.isSandstormDestroyedInStep=this.isPassLevelTime=this.isInStep=this.isUseRevertThisStep=!1;this.freeClickTime=this.toBeCollected=0;this.switchGearData=this.switchBrakeData=null;this.switchGearMatch=
this.switchBrakeMatch=0;this.isNotSelect=this.isPetSuit=this.isEditMode=!1},initBoard:function(){this.tileBoardMap=[];for(var a=0;9>a;++a){this.tileBoardMap[a]=[];for(var c=0;9>c;++c)this.tileBoardMap[a][c]=TileBoardData.create()}this.tileItemMap=[];for(a=0;9>a;++a)for(this.tileItemMap[a]=[],c=0;9>c;++c)this.tileItemMap[a][c]=TileItemData.create();this.gameMode=null;this.mapColorList=[];this.colortypes=[];this.fallingHelpMap=[];this.effectHelpMap=[];this.comboCount=0;this.comboHelpList=this.comboHelpDataSet=
null;this.totalScore=0;this.isWaitingOperation=!1;this.theCurMoves=this.curGameStatus=this.curGameModeType=0;this.starScores=[1,2,3];this.kIceCleanLeftCount=this.kIceCleanTotal=this.bearGoHomeCount=this.bearGoHomeTotal=0;this.isGamePaused=!1;this.timeTotalUsed=this.extraTime=this.timeTotalLimit=0;this.theOrderList=[];this.fsm=StateMachine.create(this)},updateGame:function(a){this.fsm.update(a);this.gameMode.update(a)},fallingMatchUpdate:function(a){TileActionRunner.runActionList(this,!0);if(this.needCheckFalling){a=
TileEliminateRunner.update(this);HalfStableCheckLogic.checkAllMap(this);ItemMatchLogic.checkPossibleMatch(this);var c=TileDestroyItemRunner.update(this),d=ItemFallingLogic.tileItemFallingCheck(this),e=TileItemFallingRunner.update(this);HalfStableCheckLogic.checkItemElasticAnimation(this);this.isFallingStablePreFrame=!1;this.isFallingStable=!a&&!c&&!d&&!e;this.needCheckFalling=!this.isFallingStable}this.tryStableHandle()},resetSpecialEffectList:function(a){for(var c=this.tileItemMap,d=0;d<c.length;++d)for(var e=
0;e<c[d].length;++e){var f=c[d][e];f.specialEffectList&&(f.specialEffectList[a]=null)}},getTotalLimitTime:function(){return this.timeTotalLimit+(this.extraTime||0)},addExtraTime:function(a){this.extraTime=this.extraTime||0;this.extraTime+=a},numDestrunctionPlan:function(){return table.size(this.destructionPlanList)},isItemAllStable:function(){for(var a=this.tileItemMap,c=0;c<a.length;++c)for(var d=0;d<a[c].length;++d){var e=a[c][d];if(e&&e.isUsed&&!e.isEmpty&&e.tileItemType!=TileItemType.kNone&&e.tileItemStatus!=
TileItemStatusType.kNone)return!1}return!0},tryStableHandle:function(){if(this.isFallingStable&&!this.isFallingStablePreFrame)if(this.isFallingStablePreFrame=!0,this.waitForElasticAnimation){this.waitForElasticAnimation=!1;var a,c=this;a=scheduler.scheduleGlobal(function(d){scheduler.unscheduleGlobal(a);c.boardStableHandler()},0.2)}else this.boardStableHandler()},boardStableHandler:function(){this.fsm.boardStableHandler()},markSandstormDestroyedInStep:function(){this.isSandstormDestroyedInStep=!0},
refreshComplete:function(){if(this.tileUIDelegate&&this.isInStep)this.tileUIDelegate.onGameStabled();ScoreCalculateLogic.endCombo(this);this.isInStep=!1;this.curGameStatus==TileGameStatus.kNormal&&(this.gameMode.refreshFailedDirectSuccess||this.gameMode.isGameEnd()?(this.fsm.afterRefreshStable(!1),this.setGamePlayStatus(TileGameStatus.kEnd)):this.fsm.afterRefreshStable(!0))},startEliminateAdvise:function(){function a(a){var e=ItemExchangeLogic.calculatePossibleSwap(c);c.targetPossibleSwap=SuggestLogic.getSuggest(c,
e);c.showEliminateAdvise(a);c.eliminateAdviseScheduleId&&(cc.director.getScheduler().unschedule(c.eliminateAdviseScheduleId,c),c.eliminateAdviseScheduleId=null)}if(!this.isEditMode)if(this.curGameStatus>=TileGameStatus.kEnd)this.eliminateAdviseScheduleId&&this.stopEliminateAdvise();else{var c=this;this.eliminateAdviseScheduleId&&this.stopEliminateAdvise();cc.director.getScheduler().schedule(a,this,5,!1);this.eliminateAdviseScheduleId=a}},stopEliminateAdvise:function(){this.eliminateAdviseScheduleId&&
(cc.director.getScheduler().unschedule(this.eliminateAdviseScheduleId,this),this.eliminateAdviseScheduleId=null);this.hideEliminateAdvise()},showEliminateAdvise:function(a){if(this.tileView&&this.tileView.baseMap&&this.targetPossibleSwap){if(this.tileUIDelegate&&!this.tileUIDelegate.showEliminateAdvise(!0,this.targetPossibleSwap.point))return!1;for(a=0;a<this.targetPossibleSwap.length;++a){var c=this.targetPossibleSwap[a];this.tileView.baseMap[c.r][c.c].showAdviseEffect(1)}}},hideEliminateAdvise:function(){if(this.tileItemMap&&
this.targetPossibleSwap)for(var a=0;a<this.targetPossibleSwap.length;++a){var c=this.targetPossibleSwap[a],d=this.tileView.baseMap[c.r][c.c];d.stopAdviseEffect();d.upDatePosBoardDataPos(this.tileItemMap[c.r][c.c],!0)}this.tileUIDelegate&&this.tileUIDelegate.showEliminateAdvise(!1)},setNeedCheckFalling:function(){this.needCheckFalling=!0},setGamePlayStatus:function(a){if(a!=this.curGameStatus){var c=this;if(a==TileGameStatus.kEnd)this.tileUIDelegate&&this.tileUIDelegate.setBtnPauseEnable(!1),this.gameMode.isFinishTarget()?
(this.leftMoveToWin=this.theCurMoves,this.setGamePlayStatus(TileGameStatus.kPassLevelTime)):this.gameMode.afterFail();else if(a!=TileGameStatus.kNormal)if(a==TileGameStatus.kFailed)if(this.curGameModeType==GameModeType.kKitchenGod)this.setGamePlayStatus(TileGameStatus.kWin);else{if(this.tileUIDelegate){var d=this.scoreToAnaData(this.totalScore);this.curGameModeType==GameModeType.kBaldStrong?this.tileUIDelegate.failPopcorn(this.level,this.totalScore,0,Math.floor(this.timeTotalUsed),null,this.gameMode.isFinishTarget(),
this.gameMode.getFailReason(),d):this.tileUIDelegate.failGame(this.level,this.totalScore,0,Math.floor(this.timeTotalUsed),null,this.gameMode.isFinishTarget(),this.gameMode.getFailReason(),d)}}else a==TileGameStatus.kPassLevelTime?(this.magicBuffLogic&&this.magicBuffLogic.setMagicBuffEnable(!1),ItemBombLogic.getNumSpecialBomb(this)||this.gameMode.canChangeStepToEffect()&&0<this.theCurMoves?(this.comboCount=0,GameMusicManager.stopEffect(this.comboSound),this.tileUIDelegate&&this.tileUIDelegate.effectLayer&&
GameComboTipController.hide(),this.isNotSelect=!0,this.runFocusItemsAction(),this.tileUIDelegate&&this.tileUIDelegate.playPassLevelEffect(),this.isPassLevelTime=!0,this.fsm.changeState(this.fsm.itemFallingState),this.fsm.boardStableHandler()):Utils.delayCall(function(){c.setGamePlayStatus(TileGameStatus.kAfterPassLevelTime)},1)):a==TileGameStatus.kWin?this.tileUIDelegate&&(d=this.scoreToAnaData(this.totalScore),this.curGameModeType==GameModeType.kKitchenGod?this.tileUIDelegate.passKichenGodGame(this.level,
this.gameMode.getScore(),this.kichenGodStar,this.kichenGodHoney,this.theCurMoves,this.gameMode.isSuccess(),d):this.curGameModeType==GameModeType.kBaldStrong?this.tileUIDelegate.passPopcorn(this.level,this.totalScore,this.gameMode.getStarByScore(),Math.floor(this.timeTotalUsed),null,null,this.activityForceShareData,d):this.tileUIDelegate.passGame(this.level,this.totalScore,this.gameMode.getStarByScore(),Math.floor(this.timeTotalUsed),null,null,this.activityForceShareData,d)):a==TileGameStatus.kAfterPassLevelTime&&
(0<c.gameMode.getStarByScore()||c.curGameModeType==GameModeType.kKitchenGod?c.setGamePlayStatus(TileGameStatus.kWin):c.setGamePlayStatus(TileGameStatus.kFailed));a!=TileGameStatus.kNormal&&this.stopWaitingOperation();this.curGameStatus=a}},scoreToOverallScore:function(a){var c=this.starScores;return a>=3*c[2]?80:a>=c[2]?40+(a-c[2])/(c[2]+c[2])*40:a>=c[1]?20+(a-c[1])/(c[2]-c[1])*20:a>=c[0]?10+(a-c[0])/(c[1]-c[0])*10:0},scoreToAnaData:function(a){var c=0;UserManager.getPetBonus()&&(c=UserManager.getPetBonus()[0]);
var c=Math.round(a*(1+c)),d=this.recordData.toData(),e=""+c;d.b=CryptoJS.enc.Base64.stringify(CryptoJS.enc.Utf8.parse(e));d.m=CryptoJS.MD5(e).toString();d.l=[];d.l.push(c);d.ls=this.scoreToOverallScore(c);d.mode=GameModeType.getModeShowType(this.level);d.model=DeviceHelper.getModel();d.scores.bonus=c-a;a=JSON.stringify(d);return CryptoJS.enc.Base64.stringify(CryptoJS.enc.Utf8.parse(a))},initByConfig:function(a,c,d){this.level=a;this.levelType=d;this.totalScore=0;this.randomSeed=c.randomSeed;null==
this.randomSeed&&(this.randomSeed=0);0==this.randomSeed&&(this.randomSeed=TimeUtils.time());this.randFactory.randSeed(this.randomSeed);this.prePropRandFactory.randSeed(this.randomSeed);MathUtils.randSeed(this.randomSeed);this.curGameModeType=GameModeType.getTypeByName(c.gameMode);this.magicBuffLogic=MagicBuffMgr.create(this,c);ItemProduceLogic.init(this,c);TileMapInitLogic.init(this,c);ItemFallingLogic.preUpdateHelpMap(this);this.gameMode=GameModeManager.create(this);this.theCurMoves=c.stepLimit;
this.theCurMoves||(this.theCurMoves=0);this.starScores=c.starScores;this.replaceColorMaxNum=4;this.needCheckFalling=!0;this.isFallingStablePreFrame=this.isFallingStable=!1;this.timeTotalUsed=0;this.curGameStatus=TileGameStatus.kPreStart;this.bearGoHomeCount=0;this.gameMode.initModeOther(c);this.gameMode.initTotalTargetCount(c);this.isPetSuit=UserManager.getPetSuit();this.mainPetId=UserManager.getMainPetId();this.isPetSuit&&20001==this.mainPetId&&(this.theCurMoves+=1)},initGame:function(){this.gameMode.initGame()},
getColorOfGameItem:function(a,c){var d=0;if(this.isPosValid(a,c)){var e=this.tileItemMap[a][c];e.canBeCoverByMatch()&&(d=e.fruitColorType)}return d},checkMatchQuick:function(a,c,d){var e=this.getColorOfGameItem(a-2,c),f=this.getColorOfGameItem(a-1,c),g=this.getColorOfGameItem(a+1,c),h=this.getColorOfGameItem(a+2,c),m=this.getColorOfGameItem(a,c-2),n=this.getColorOfGameItem(a,c-1),r=this.getColorOfGameItem(a,c+1);a=this.getColorOfGameItem(a,c+2);return d==f&&e==f||d==f&&f==g||d==g&&g==h||d==n&&m==
n||d==n&&n==r||d==r&&r==a?!0:!1},randomANewItemFallingData:function(a,c,d){return ItemProduceLogic.produce(this,a,c,d)},randomColor:function(){if(this.magicBuffLogic&&this.magicBuffLogic.isMagicBuffEnable())return this.magicBuffLogic.randomColor();var a=this.randomNum(0,this.mapColorList.length);return this.mapColorList[a]},getBoardMap:function(){return this.tileBoardMap},getItemMap:function(){return this.tileItemMap},checkItemBlock:function(a,c){var d=this.tileItemMap[a][c],e=this.tileBoardMap[a][c];
d.checkBlock()&&(this.isBlockChange=!0);e.isBlock=d.isBlock;return this.isBlockChange},updateFallingAndBlockStatus:function(){this.isBlockChange&&(ItemFallingLogic.updateHelpMapByDeleteBlock(this),this.isBlockChange=!1)},isItemCanMoved:function(a,c){var d=this.tileItemMap;return 0<=a&&a<d.length&&0<=c&&c<d[a].length&&(d=d[a][c])&&d.canBeSwap()?!0:!1},isItemInTile:function(a,c){var d=this.tileItemMap,e=this.tileBoardMap;return 0<=a&&a<e.length&&0<=c&&c<e[a].length&&e[a]&&e[a][c]&&e[a][c].isUsed&&d[a]&&
d[a][c]&&d[a][c].isUsed?!0:!1},canBeSwaped:function(a,c,d,e){return this.isWaitingOperation&&this.curGameStatus==TileGameStatus.kNormal?ItemSwapLogic.canBeSwaped(this,a,c,d,e):0},isHoldFruitIsProp:function(){return this.holdData?0!=this.holdData.fruitColorType||this.holdData.fruitSpecialType!=FruitTypeConfig.kBigBomb&&this.holdData.fruitSpecialType!=FruitTypeConfig.kBigCross?!1:!0:!1},selectedHoldFruit:function(a){this.holdData=a;this.runFocusItemsAction()},unselectHoldFruit:function(){this.holdData=
null},canExchange:function(a,c){if(!this.isWaitingOperation||this.curGameStatus!=TileGameStatus.kNormal||null==this.holdData.fruitColorType)return!1;if(ItemExchangeLogic.canBeExchange(this,a,c,this.holdData))return!0;this.tileUIDelegate.canNotExchangeColor();return!1},startTryExchangeItem:function(a,c,d){var e=this,f=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItem_Fruit_Exchange_Color,ccp(a,c),null,TileConst_Exchange_color_Fruit_Time);f.addData=this.holdData;f.callback=
function(f,h){e.tileUIDelegate?(d&&GameWorldPropController.playUsePropAnimation(ActionPropType.kSwap,ccp(a,c)),e.tileUIDelegate.exchangeColor(f,h)):HoldDataLogic.exchangeColor(f,h);GameMusicManager.playEffect(GameMusicType.kKeyboard)};f.isProp=d;this.addExchangeAction(f);d||this.useMoveStep();if(this.switchBrakeData||this.switchGearData)this.putOperation=!0;this.tileRevertData=null},runExchangeRefreshAction:function(a){function c(c){d.holdData=c;a(c);d.runFocusItemsAction()}var d=this;this.tileUIDelegate?
this.tileUIDelegate.runRefreshAction(c):HoldDataLogic.runRefreshAction(c)},runFocusItemsAction:function(){this.isNotSelect?this.tileView.stopOldSelectEffects():this.holdData&&(0==this.holdData.fruitColorType&&0<this.holdData.fruitSpecialType?this.tileView.stopOldSelectEffects():(this.tileView.focusItemColors(this.holdData.fruitColorType,this.holdData.fruitSpecialType),this.tileView.runGiftBoxLigthAction(this.holdData.fruitColorType)))},canUseHammer:function(a,c){return this.tileItemMap[a][c].canBeEffectByHammer()},
canUseMagicWand:function(a,c){return this.tileItemMap[a][c].tileItemType!=TileItemType.kFruit||FruitTypeConfig.isSpecial(this.tileItemMap[a][c].fruitSpecialType)?!1:!0},canUseForceSwap:function(a,c,d,e){return this.isItemCanMoved(a,c)&&this.isItemCanMoved(d,e)&&this.tileNextToEachOther(a,c,d,e)?!0:!1},canUseRevert:function(){return null!=this.tileRevertData},isNormal:function(a){return a.tileItemType!=TileItemType.kFruit||0!=a.fruitSpecialType||!a.isAvailable()||a.hasLock()||a.hasJumpCat()?!1:!0},
startTrySwapedItem:function(a,c,d,e){a=ccp(a,c);d=ccp(d,e);d=TileActionDataSet.create(ActionTargetType.kTileBoardAction,ActionBoardType.kStartTrySwapItem,a,d,TileConst_Swap_Action_Time);this.addSwapAction(d);GameMusicManager.playEffect(GameMusicType.kSwap)},startWaitingOperation:function(){this.switchGearMatch=this.switchBrakeMatch=0;this.isWaitingOperation=!0;this.onWaitingOperationChanged()},stopWaitingOperation:function(){this.isWaitingOperation=!1;this.onWaitingOperationChanged()},onWaitingOperationChanged:function(){this.isWaitingOperation?
(this.tileView.isPaused?this.stopEliminateAdvise():(this.runFocusItemsAction(),this.startEliminateAdvise()),this.tileUIDelegate&&this.tileUIDelegate.setPropTouchEnable(!0)):!1==this.isWaitingOperation&&(this.stopEliminateAdvise(),this.tileUIDelegate&&this.tileUIDelegate.setPropTouchEnable(!1))},startTrySwapedItemFun:function(a,c,d,e){a=ccp(a,c);d=ccp(d,e);d=TileActionDataSet.create(ActionTargetType.kTileBoardAction,ActionBoardType.kStartTrySwapItem_fun,a,d,TileConst_Swap_Fun_Action_Time);this.addSwapAction(d);
GameMusicManager.playEffect(GameMusicType.kSwapFun)},addGameAction:function(a){this.addActionToList(a,this.gameActionList)},addDestructionPlanAction:function(a){this.addActionToList(a,this.destructionPlanList)},addDestroyAction:function(a){this.addActionToList(a,this.destroyActionList)},addFallingAction:function(a){this.addActionToList(a,this.fallingActionList)},addSwapAction:function(a){this.addActionToList(a,this.swapActionList);this.fsm.onStartExchange()},addExchangeAction:function(a){this.addActionToList(a,
this.exchangeActionList);this.fsm.onStartExchange()},addPropAction:function(a){this.addActionToList(a,this.propActionList)},addActionToList:function(a,c){for(var d=c.length,e=0;e<c.length;++e)if(null==c[e]){d=e;break}c[d]=a;a.actId=d},addNeedCheckMatchPoint:function(a,c){this.needCheckMatchList.push({r:a,c:c})},cleanNeedCheckMatchList:function(){this.needCheckMatchList=[]},getActionListCount:function(){null==this.gameActionList&&(this.gameActionList=[]);return table.size(this.gameActionList)},swapItemToMatch:function(a,
c,d,e,f){var g=this.getTileRevertData();this.swapInfo=[{r:a,c:c},{r:d,c:e}];var h=ItemSwapLogic.swapItemToMatch(this,a,c,d,e,f);if(h[0]&&f){if(this.useMoveStep(),this.tileRevertData=g,this.tileUIDelegate)this.tileUIDelegate.onGameSwapped({to:{r:d,c:e},from:{r:a,c:c}})}else this.swapInfo=null;return h},getTileRevertData:function(){return TileRevertData.create(this)},getFiveEliminateColor:function(a){for(var c={},d=this.tileItemMap,e=0;e<d.length;++e)for(var f=0;f<d[e].length;++f){var g=d[e][f];g.isColorful()&&
(null==g.bombRes||0==g.bombRes.x&&0==g.bombRes.y)&&(c[g.fruitColorType]=null==c[g.fruitColorType]?1:c[g.fruitColorType]+1)}var d=[],h;for(h in c)FruitTypeConfig.isColor(h)&&h!=a&&d.push(h);return d.length?d[this.randomNum(0,d.length)]:null},getItemPosListByColor:function(a){var c=[];if(FruitTypeConfig.isColor(a))for(var d=this.tileItemMap,e=0;e<d.length;++e)for(var f=0;f<d[e].length;++f)d[e][f].fruitColorType==a&&c.push(ccp(e,f));return c},getFirstBoardSpType:function(){for(var a=this.tileItemMap,
c=0;c<a.length;++c)for(var d=0;d<a[c].length;++d){var e=this.tileBoardMap[c][d];if(e.isUsed&&e.boardSpType&&0<e.boardSpType)return ccp(c,d)}return ccp(5,5)},useProps:function(a,c,d,e,f){this.tileView&&this.tileView.stopOldSelectEffect();var g=PropMetaManager.getInstance().getPropType(a),h=PropMetaManager.getInstance().getPropValue(a);if(!g)return!1;if(0==this.getActionListCount()){this.recordGameData(TileRecordType.kProp,a);if(g==PropType.Refresh)ItemRefreshLogic.tryRefresh(this)&&(ItemRefreshLogic.runRefreshAction(this,
!0),this.fsm.changeState(this.fsm.usePropState));else if(g==PropType.AddStep)this.theCurMoves+=h,this.tileUIDelegate&&this.tileUIDelegate.setMoveCount(this.theCurMoves,!1,!0);else if(g==PropType.Swap)this.startTryExchangeItem(c,d,!0),this.addNeedCheckMatchPoint(c,d);else if(g==PropType.ChangeToEffect){if(!(c&&d&&e&&f&&this.canUseMagicWand(c,d)))return!1;a=TileActionDataSet.create(ActionTargetType.kPorpAction,ActionPropType.kMagicWand,ccp(c,d),ccp(e,f),TileConst_MagicWand_Action_Time);this.addPropAction(a);
this.fsm.changeState(this.fsm.usePropState)}else if(g==PropType.Hammer){if(!c||!d||!this.canUseHammer(c,d))return!1;a=TileActionDataSet.create(ActionTargetType.kPorpAction,ActionPropType.kHammer,ccp(c,d),null,TileConst_Hammer_Action_Time);this.addPropAction(a);this.fsm.changeState(this.fsm.usePropState)}else g==PropType.GoBack?(this.isUseRevertThisStep=!0,this.tileRevertData&&(this.gameMode.revertTileRevertData(),this.tileUIDelegate&&(a=cc.getWinSize(),c=TimebackAnimation.create(),c.setPosition(ccp(a.width/
2,a.height/2)),this.tileUIDelegate.effectLayer.addChild(c)),a=TileActionDataSet.create(ActionTargetType.kPorpAction,ActionPropType.kBack,null,null,TileConst_Back_Action_Time),this.addPropAction(a),this.fsm.changeState(this.fsm.usePropState))):g==PropType.DetonateBomb?ItemBombLogic.PassLevelTime_RandomBombEffect(this,!1)&&(a=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItem_DetonateBomb,null,null,TileConst_DetonateBomb_Time),this.addGameAction(a),this.fsm.changeState(this.fsm.itemFallingState)):
g==PropType.ChangeToCross?(a=TileActionDataSet.create(ActionTargetType.kPorpAction,ActionPropType.kCrossEffect,ccp(c,d),null,TileConst_CrossProp_Action_Time),this.addPropAction(a),this.fsm.changeState(this.fsm.usePropState)):g==PropType.ChangeToBomb&&(a=TileActionDataSet.create(ActionTargetType.kPorpAction,ActionPropType.kRegionalEffect,ccp(c,d),null,TileConst_CrossProp_Action_Time),this.addPropAction(a),this.fsm.changeState(this.fsm.usePropState));return!0}printf("use prop error, action list not empty");
return!1},isUsePropsValid:function(a,c,d,e,f){var g=PropMetaManager.getInstance().getPropType(a);PropMetaManager.getInstance().getPropValue(a);if(!g)return!1;if(0==this.getActionListCount()){if(g==PropType.ChangeToEffect){if(!(c&&d&&e&&f&&this.canUseMagicWand(c,d)))return!1}else if(!(g!=PropType.Hammer||c&&d&&this.canUseHammer(c,d)))return!1;return!0}printf("use prop invalid, action list not empty");return!1},useMoveStep:function(){this.isEditMode||(this.realCostMove+=1,this.gameMode.useStep(),ItemProduceLogic.addMoveStep(this),
this.magicBuffLogic&&(this.newCompletedFruitOrders&&(this.magicBuffLogic.onFruitOrderCompleted(this.newCompletedFruitOrders),this.newCompletedFruitOrders=null),this.magicBuffLogic.onUseMoves(this.realCostMove)),this.resetStepRecords(),this.recordData.addUseStep())},freeClickItem:function(a,c){this.randomFruitHelpList[this.randomFruitHelpList.length]=ccp(a,c)},resetStepRecords:function(){this.isInStep=!0;this.isUseRevertThisStep=this.isSandstormDestroyedInStep=!1},resetOrderList:function(a){var c=
this.theOrderLimit,d=!1,e=[],f;for(f in this.theOrderList){var g=this.theOrderList[f];g.active&&g.v1>g.f1?c-=1:!g.active&&0<c&&(c-=1,d=g.active=!0,e.push(g))}this.tileUIDelegate&&d?this.tileUIDelegate.resetOrderList(function(){a(e)}):a(e);return e},recoredSwitchMatch:function(a,c){var d=this.tileBoardMap[a][c];this.switchBrakeData&&d.isBrakeArea()&&(this.switchBrakeData.switchBrake&&!this.switchBrakeData.switchChange&&GameMusicManager.playEffect(GameMusicType.kSwitchTransfer),this.switchBrakeData.changeSwitchBrakeValue());
this.switchGearData&&d.isGearArea()&&this.switchGearData.changeSwitchGearValue()},changeSwitchAreaColor:function(a,c){this.tileView.changeSwitchAreaColor(this,a,c)},recordGameData:function(a,c,d){this.recordData.addRecord(a,c,d)},notifiTask:function(){this.recordData.notifiTask()},addRecordToOrderList:function(a,c,d,e,f,g,h){d==TileItemOrderType.kFruit&&(this.recoredSwitchMatch(a,c),this.recordGameData(TileRecordType.kFruit,e));null==f&&(f=1);d==TileItemOrderType.kFruit&&this.curGameModeType==GameModeType.kKitchenGod&&
2==this.bearBuff&&(f*=2);null==h&&(h=0);var m=!1;if(d==TileItemOrderType.kFruit&&0<h){for(var n=0;n<this.theOrderList.length;++n){var r=this.theOrderList[n];if(r.key1==d&&r.key2==e&&r.active&&r.key3==h&&(r.f1+=f,m=!0,this.tileUIDelegate)){var s=this.getGameItemPosInView(a,c),r=r.v1-r.f1;0>r&&(r=0);this.tileUIDelegate.setGameTargetNumber(n,r,s,g)}}if(m)return m}for(n in this.theOrderList)r=this.theOrderList[n],r.key1==d&&r.key2==e&&r.active&&(h=!0,r.f1<r.v1&&r.f1+f>=r.v1&&d==TileItemOrderType.kFruit&&
this.magicBuffLogic&&this.magicBuffLogic.isMagicBuffEnable()&&(this.newCompletedFruitOrders=this.newCompletedFruitOrders||[],this.newCompletedFruitOrders.push(e)),d==TileItemOrderType.kAllTarget?e==TileItemOrderType_AT.kSandstorm&&(r.f1=r.v1-this.gameMode.getSandstormCount()):d==TileItemOrderType.kFruit&&0<r.key3?h=!1:r.f1+=f,m=!0,h&&this.tileUIDelegate&&(s=this.getGameItemPosInView(a,c),r=r.v1-r.f1,0>r&&(r=0),this.tileUIDelegate.setGameTargetNumber(n,r,s,g)));return m},isTargetItem:function(a,c){for(var d=
0;d<this.theOrderList.length;++d){var e=this.theOrderList[d];if(e.key1==a&&e.key2==c&&e.active&&e.f1<=e.v1)return!0}},bossLossBlood:function(){},getGameItemPosInViewForPreProp:function(a,c){return this.getGameItemPosInView(a,c)},getGameItemPosInView:function(a,c){this.posAdd=this.posAdd||ccp(0,0);return this.tileView.convertToWorldSpace(ccp((c+0.5)*TileConst_Tile_Width,(TileConst_Tile_Item_Max-a-0.5)*TileConst_Tile_Height))},getGameItemRectInView:function(a,c){this.posAdd=this.posAdd||ccp(0,0);var d=
c*TileConst_Tile_Width,e=(TileConst_Tile_Item_Max-a-1)*TileConst_Tile_Height,f=this.tileView.convertToWorldSpace(ccp(d,e)),d=this.tileView.convertToWorldSpace(ccp(d+TileConst_Tile_Width,e+TileConst_Tile_Height));return[f.x,f.y,d.x-f.x,d.y-f.y]},tileNextToEachOther:function(a,c,d,e){var f=this.tileItemMap;return!a||0>a||a>=f.length||!d||0>d||d>=f.length||!c||0>c||c>=f[a].length||!e||0>e||e>=f[d].length?!1:a==d&&1==Math.abs(c-e)||c==e&&1==Math.abs(a-d)},preGameProp:function(a,c){var d=PropMetaManager.getInstance().getPropType(a),
e=PropMetaManager.getInstance().getPropValue(a);if(d==PropType.RandomEffect){for(var f,g,h,m,d=[],e=[],n=0;n<this.tileItemMap.length;++n)for(var r=0;r<this.tileItemMap[n].length;++r){var s=this.tileItemMap[n][r];s.isUsed&&0==s.fruitSpecialType&&s.isAvailable()&&(s.tileItemType==TileItemType.kFruit?d.push({r:n,c:r}):s.tileItemType==TileItemType.kDiscolor&&e.push({r:n,c:r}))}if(1<=d.length+e.length){2<=d.length?(r=this.prePropRandFactory.rand(1,d.length),n=d[r-1],table.remove(d,r),r=this.prePropRandFactory.rand(1,
d.length),d=d[r-1]):(1==d.length?n=d[0]:(r=this.prePropRandFactory.rand(1,e.length),n=e[r-1],e.splice(r-1,1)),0==e.length?d=n:(r=this.prePropRandFactory.rand(1,e.length),d=e[r-1]));g=n.c;f=n.r;m=d.c;h=d.r;this.prePropRandFactory.rand(1,2);var t=this,d=function(){t.tileBoardMap[f][g].boardSpType=FruitTypeConfig.kCutyPet;t.tileBoardMap[h][m].boardSpType=FruitTypeConfig.kCutyPet;t.tileBoardMap[f][g].isNeedUpdate=!0;t.tileBoardMap[h][m].isNeedUpdate=!0;t.tileItemMap[f][g].isNeedUpdate=!0;t.tileItemMap[h][m].isNeedUpdate=
!0;t.tileView&&(t.tileView.updateItemViewByLogic(),t.tileView.updateItemViewSelf())};this.tileUIDelegate?c(this.getGameItemPosInViewForPreProp(f,g),this.getGameItemPosInViewForPreProp(h,m),d):d()}}else d!=PropType.Refresh&&d==PropType.AddStep&&this.gameMode.getAddSteps(e)},isPosValid:function(a,c){var d=this.tileItemMap;return 0<=a&&a<d.length&&0<=c&&c<d[a].length},getTileItemByRC:function(a,c){return this.isPosValid(a,c)?this.tileItemMap[a][c]:null},getItemCountByItemType:function(a){for(var c=0,
d=this.tileItemMap,e=0;e<d.length;++e)for(var f=0;f<d[e].length;++f)d[e][f].tileItemType==a&&(c+=1);return c},getJumpCatCount:function(){for(var a=0,c=this.tileItemMap,d=0;d<c.length;++d)for(var e=0;e<c[d].length;++e)c[d][e].hasJumpCat()&&(a+=1);return a},isCanMoveMap:function(){return GameModeType.isCanMoveMap(this.curGameModeType)},getBossConfig:function(a){return a?a.tileItemType==TileItemType.kBaldStrong?this.baldStrongConfig:null:null},randomNum:function(a,c){return this.randFactory.rand(a+1,
c)-1},isGameOver:function(){return this.curGameStatus==TileGameStatus.kWin||this.curGameStatus==TileGameStatus.kFailed}});TileBoardLogic.create=function(){var a=new TileBoardLogic;a.initBoard();return a};var TileItemType=cw.Enum({kNone:-1,kFruit:-1,kStone:-1,kHelmet:-1,kDiscolor:-1,kTwoBear:-1,kSandstorm:-1,kWatermelon:-1,kBaldStrong:-1,kFlame:-1,kClayBlock:-1,kConveyorBeltBrake:-1,kConveyorBeltGear:-1,kCondiment:-1,kWorm:-1,kRandomBlock:-1}),TileItemStatusType=cw.Enum({kNone:0,kMatchStatus:1,kSpecialStatus:2,kFallingStatus:4,kJustStop:5,kTileHalfStable:6,kWaitBomb:7,kDestroy:8}),TileItemShowType=cw.Enum({kNone:0,kBriar:1,kBramble:2,kAsh:3}),TileItemCondimentDirection=cw.Enum({kLeft:1,kRight:2,kUp:3,
kDown:4}),TileItemData=cw.Class({ctor:function(){this.initXY();this.initData()},initXY:function(){this.y=this.x=0;this.w=TileConst_Tile_Width;this.h=TileConst_Tile_Height},initData:function(){this.isProduct=this.isNeedUpdate=this.isUsed=!1;this.comePos=this.gotoPos=null;this.clippingPosAdd=ccp(0,0);this.enterClippingPosAdd=ccp(0,0);this.dataReach=!0;this.clearData()},clearData:function(){this.isEmpty=!0;this.isItemLock=this.isBlock=!1;this.tileItemType=TileItemType.kNone;this.showType=0;this.tileItemStatus=
TileItemStatusType.kNone;this.watermelonLevel=this.jumpCatLevel=this.flameLevel=this.sandstormLevel=this.cardboardLevel=this.stoneLevel=this.fruitSpecialType=this.fruitColorType=0;this.watermelonUpdate=!1;this.itemSpeed=0;this.tileOffset=ccp(0,0);this.iceCleanBombMatchPosList=this.bombRes=null;this.hasGivenScore=!1;this.bossSize=this.stunPercent=this.lastBlood=this.speicial_hit_blood=this.maxSkillMoves=this.skillMoves=this.maxMoves=this.moves=this.maxBlood=this.bossLevel=this.blood=0;this.bossType=
null;this.flameStep=0;this.crossBombPoint=this.fruitOutputType=null;this.isExchangePoint=!1;this.boardSpType=0;this.condimentGunDir=this.switchGear=this.switchBrake=null;this.condimentGunArea=0;this.condimentGunType=1;this.wormLevel=this.fruitCondiment=0;this.wormHalfState=!1;this.cutyPetType=null;this.randomBlockType=0},copy:function(){var a=new TileItemData;a.x=this.x;a.y=this.y;a.w=this.w;a.h=this.h;TileItemData.copyDataFrom(a,this);return a},initByConfig:function(a){this.x=a.x;this.y=a.y;this.isUsed=
!a.hasProperty(TileConfig.kEmpty);a.hasProperty(TileConfig.kNone)&&(this.isEmpty=!0);a.hasProperty(TileConfig.kFruit)?this.initOutputType(0):a.hasProperty(TileConfig.kFruitColor1)?this.initOutputType(1):a.hasProperty(TileConfig.kFruitColor2)?this.initOutputType(2):a.hasProperty(TileConfig.kFruitColor3)?this.initOutputType(3):a.hasProperty(TileConfig.kFruitColor4)?this.initOutputType(4):a.hasProperty(TileConfig.kFruitColor5)?this.initOutputType(5):a.hasProperty(TileConfig.kDiscolor)?this.initDiscolor():
a.hasProperty(TileConfig.kStone1)?this.initStone(1):a.hasProperty(TileConfig.kStone2)?this.initStone(2):a.hasProperty(TileConfig.kStone3)?this.initStone(3):a.hasProperty(TileConfig.kStone4)?this.initStone(4):a.hasProperty(TileConfig.kStone5)?this.initStone(5):a.hasProperty(TileConfig.kAsh1)?this.initAsh(1):a.hasProperty(TileConfig.kAsh2)?this.initAsh(2):a.hasProperty(TileConfig.kAsh3)?this.initAsh(3):a.hasProperty(TileConfig.kSandstorm)?this.initSandstorm():a.hasProperty(TileConfig.kFlame)?this.initFlame():
a.hasProperty(TileConfig.kWatermelon)?this.initWatermelon():a.hasProperty(TileConfig.kHelmet)?this.initHelmet():a.hasProperty(TileConfig.kWorm)?this.initWorm():a.hasProperty(TileConfig.kBriar)?this.initTwoBear(TileItemShowType.kBriar):a.hasProperty(TileConfig.kBramble)?this.initTwoBear(TileItemShowType.kBramble):a.hasProperty(TileConfig.kBaldStrong0)?this.initBaldStrong(0):a.hasProperty(TileConfig.kBaldStrong1)?this.initBaldStrong(1,LevelBossType.kBaldStrong):a.hasProperty(TileConfig.kCaptain)?this.initBaldStrong(1,
LevelBossType.kCaptain):a.hasProperty(TileConfig.kYellowMan)?this.initBaldStrong(1,LevelBossType.kYellowMan):a.hasProperty(TileConfig.kRandomBlock1)?this.initRandomBlock(TileConfig.kRandomBlock1):a.hasProperty(TileConfig.kRandomBlock2)?this.initRandomBlock(TileConfig.kRandomBlock2):a.hasProperty(TileConfig.kRandomBlock3)?this.initRandomBlock(TileConfig.kRandomBlock3):a.hasProperty(TileConfig.kRandomBlock4)?this.initRandomBlock(TileConfig.kRandomBlock4):a.hasProperty(TileConfig.kRandomBlock5)&&this.initRandomBlock(TileConfig.kRandomBlock5);
a.hasProperty(TileConfig.kJumpCat)&&this.initJumpCat(1);a.hasProperty(TileConfig.kWood)&&this.initWood();a.hasProperty(TileConfig.kConveyorBeltBrake)&&this.initSwitchBrake();a.hasProperty(TileConfig.kConveyorBeltGear)&&this.initSwitchGear();a.hasProperty(TileConfig.kCondiment)&&this.initCondiment();a.hasProperty(TileConfig.kCondimentAdd)&&this.isColorful()&&(this.fruitCondiment=1)},initByFruitDef:function(a){this.isColorful()&&(this.fruitColorType=FruitTypeConfig.getType(a));this.tileItemType===TileItemType.kFruit&&
(this.fruitSpecialType=FruitTypeConfig.getSpecial(a))},initDiscolor:function(){this.tileItemType=TileItemType.kDiscolor;this.isEmpty=!1},initOutputType:function(a){this.tileItemType=TileItemType.kFruit;this.isEmpty=!1;1===a?this.fruitOutputType=TileItemFallType.kOutputColor1:2===a?this.fruitOutputType=TileItemFallType.kOutputColor2:3===a?this.fruitOutputType=TileItemFallType.kOutputColor3:4===a?this.fruitOutputType=TileItemFallType.kOutputColor4:5===a&&(this.fruitOutputType=TileItemFallType.kOutputColor5)},
initRandomBlock:function(a){this.tileItemType=TileItemType.kRandomBlock;this.isEmpty=!1;this.randomBlockType=a},initSandstorm:function(){this.tileItemType=TileItemType.kSandstorm;this.isBlock=!0;this.sandstormLevel=1;this.isEmpty=!1},initFlame:function(){this.tileItemType=TileItemType.kFlame;this.isBlock=!0;this.flameLevel=1;this.isEmpty=!1},initWatermelon:function(){this.tileItemType=TileItemType.kWatermelon;this.watermelonLevel=1;this.isEmpty=!1},initHelmet:function(){this.tileItemType=TileItemType.kHelmet;
this.isEmpty=!1},initWorm:function(){this.tileItemType=TileItemType.kWorm;this.isEmpty=!1;this.wormLevel=2;this.wormHalfState=!1},initTwoBear:function(a){this.tileItemType=TileItemType.kTwoBear;this.isEmpty=!1;this.showType=a},initJumpCat:function(a){this.jumpCatLevel=a;this.isEmpty=!1},initWood:function(){this.cardboardLevel=1;this.isBlock=!0;this.isEmpty=!1},initStone:function(a){this.stoneLevel=a;this.tileItemType=TileItemType.kStone;this.isBlock=!0;this.isEmpty=!1;this.fruitSpecialType=this.fruitColorType=
0},changeToStone:function(a){this.initStone(a);this.isNeedUpdate=!0},initAsh:function(a){this.initStone(a);this.showType=TileItemShowType.kAsh},initBaldStrong:function(a,c){this.tileItemType=TileItemType.kBaldStrong;this.bossLevel=a;this.isBlock=!0;this.isEmpty=!1;this.bossSize=2;this.bossType=c||LevelBossType.kBaldStrong},initBossData:function(a){this.tileItemType==TileItemType.kBaldStrong&&0<this.bossLevel&&(this.lastBlood=this.maxBlood=this.blood=a.hp||100,this.speicial_hit_blood=3,this.maxMoves=
this.moves=a.s1||0,this.maxSkillMoves=this.skillMoves=a.s2||0,this.stunPercent=a.v3||0)},initSwitchBrake:function(){this.tileItemType=TileItemType.kConveyorBeltBrake;this.switchBrake=1;this.isBlock=!0;this.isEmpty=!1},changeSwitchBrakeValue:function(){null==this.switchBrake||this.switchChange||(1==this.switchBrake?this.switchBrake=0:0==this.switchBrake&&(this.switchBrake=1),this.isNeedUpdate=this.switchChange=!0)},initSwitchGear:function(){this.tileItemType=TileItemType.kConveyorBeltGear;this.switchGear=
1;this.isBlock=!0;this.isEmpty=!1},initCondiment:function(){this.tileItemType=TileItemType.kCondiment;this.isBlock=!0;this.isEmpty=!1},setCondimentInfo:function(a,c,d){this.tileItemType=TileItemType.kCondiment;this.condimentGunDir=c;this.condimentGunArea=d;this.condimentGunType=a},addCondiment:function(){this.fruitCondiment=1;this.isNeedUpdate=!0},changeSwitchGearValue:function(){null==this.switchGear||this.switchChange||(1==this.switchGear?this.switchGear=0:0==this.switchGear&&(this.switchGear=1),
this.isNeedUpdate=this.switchChange=!0)},changeToWorm:function(){this.tileItemType=TileItemType.kWorm;this.wormLevel=2;this.wormHalfState=!1;this.fruitSpecialType=this.fruitColorType=0;this.isEmpty=!1;this.isNeedUpdate=!0},changeItemType:function(a,c){this.fruitColorType=a;this.fruitSpecialType=c},changeToAsh:function(a){this.initAsh(a)},changeToSandstorm:function(){this.tileItemType=TileItemType.kSandstorm;this.isBlock=!0;this.sandstormLevel=1;this.fruitSpecialType=this.fruitColorType=0;this.isEmpty=
!1},changeToFlame:function(){this.tileItemType=TileItemType.kFlame;this.isBlock=!0;this.flameLevel=1;this.fruitSpecialType=this.fruitColorType=0;this.isEmpty=!1},changeToClayBlock:function(a){this.tileItemType=TileItemType.kClayBlock;this.isBlock=!0;this.fruitColorType=a||1;this.fruitSpecialType=0;this.isEmpty=!1},AddItemStatus:function(a){if(this.tileItemStatus===TileItemStatusType.kNone)this.tileItemStatus=a;else if(this.tileItemStatus===TileItemStatusType.kMatchStatus)a===TileItemStatusType.kDestroy&&
(this.tileItemStatus=TileItemStatusType.kDestroy);else if(this.tileItemStatus===TileItemStatusType.kSpecialStatus)a===TileItemStatusType.kDestroy&&(this.tileItemStatus=TileItemStatusType.kDestroy);else if(this.tileItemStatus===TileItemStatusType.kTileHalfStable||this.tileItemStatus===TileItemStatusType.kFallingStatus||this.tileItemStatus===TileItemStatusType.kJustStop){if(a===TileItemStatusType.kMatchStatus||a===TileItemStatusType.kSpecialStatus||a==TileItemStatusType.kDestroy)this.tileItemStatus=
a;if(this.tileItemStatus===TileItemStatusType.kFallingStatus&&a===TileItemStatusType.kJustStop||this.tileItemStatus===TileItemStatusType.kFallingStatus&&a===TileItemStatusType.kTileHalfStable||this.tileItemStatus===TileItemStatusType.kJustStop&&a===TileItemStatusType.kTileHalfStable)this.tileItemStatus=a}},canBeCoverByMatch:function(){return!this.isEmpty&&this.isUsed&&this.isAvailable()&&this.isColorful()&&!this.hasJumpCat()?this.tileItemStatus===TileItemStatusType.kNone||this.tileItemStatus==TileItemStatusType.kTileHalfStable?
!0:!1:!1},canEffectIceClean:function(){return this.isBlock||this.isEmpty||this.hasJumpCat()||this.hasLock()||!this.isAvailable()||!this.isUsed?!1:!0},canEffectAroundByMatch:function(){return this.hasLock()?!1:!0},canBeEliminateByMatch:function(){return this.hasLock()?!1:!0},canBeMixToSpecialByMatch:function(){return!0},canBeEliminateBySpecial:function(){return this.tileItemType!==TileItemType.kFruit&&this.tileItemType!==TileItemType.kDiscolor&&this.tileItemType!==TileItemType.kHelmet||this.isEmpty||
this.hasJumpCat()||this.hasLock()||!this.isAvailable()?!1:!0},isEliminatedByFiveSix:function(){return!this.isColorful()||this.hasJumpCat()||this.hasLock()||this.isProduct||!this.isAvailable()?!1:!0},canBeCoverByFiveFruit:function(){return this.isEmpty||!this.isAvailable()?!1:this.tileItemType===TileItemType.kFruit&&!FruitTypeConfig.isFiveOrSix(this.fruitSpecialType)||this.tileItemType==TileItemType.kDiscolor?!0:!1},canBecomeSpecialByFiveSix:function(){return this.isColorful()&&this.isAvailable()?
!0:!1},isItemCanBeCoverByFiveFive:function(){return this.isAvailable()?this.tileItemType===TileItemType.kFruit||this.tileItemType===TileItemType.kDiscolor||this.tileItemType===TileItemType.kHelmet?!0:!1:!1},isBlockCanBeCoverByFiveFive:function(){return this.tileItemType==TileItemType.kStone||this.tileItemType==TileItemType.kSandstorm||this.tileItemType==TileItemType.kFlame||this.tileItemType==TileItemType.kWatermelon||this.tileItemType==TileItemType.kWorm||0<this.bossLevel?!0:!1},isItemCanBeEliminatedByFiveFive:function(){return this.isColorful()&&
!this.hasLock()&&!this.hasJumpCat()&&this.isAvailable()?!0:!1},canBeEffectByHammer:function(){return this.tileItemType==TileItemType.kNone||this.tileItemType==TileItemType.kTwoBear?!1:!0},isPinballBorder:function(){return this.isUsed&&this.tileItemType!=TileItemType.kStone&&this.tileItemType!=TileItemType.kHelmet&&this.tileItemType!=TileItemType.kCondiment?!1:!0},copyFruitDataFrom:function(a){this.isNeedUpdate=!0;this.isEmpty=a.isEmpty;this.tileItemType=a.tileItemType;this.showType=a.showType;this.tileItemStatus=
a.tileItemStatus;this.fruitColorType=a.fruitColorType;this.fruitSpecialType=a.fruitSpecialType;this.jumpCatLevel=a.jumpCatLevel;this.itemSpeed=a.itemSpeed;this.tileOffset=ccp(a.tileOffset.x,a.tileOffset.y);this.bombRes=a.bombRes;this.isItemLock=a.isItemLock;this.iceCleanBombMatchPosList=a.iceCleanBombMatchPosList;this.hasGivenScore=a.hasGivenScore;this.bossLevel=a.bossLevel;this.blood=a.blood;this.maxBlood=a.maxBlood;this.maxMoves=this.moves=a.moves;this.maxSkillMoves=this.skillMoves=a.skillMoves;
this.speicial_hit_blood=a.speicial_hit_blood;this.watermelonLevel=a.watermelonLevel;this.cardboardLevel=a.cardboardLevel;this.stoneLevel=a.stoneLevel;this.sandstormLevel=a.sandstormLevel;this.flameLevel=a.flameLevel;this.lastBlood=a.lastBlood;this.stunPercent=a.stunPercent;this.bossSize=a.bossSize;this.bossType=a.bossType;this.flameStep=a.flameStep;this.fruitOutputType=a.fruitOutputType;this.crossBombPoint=a.crossBombPoint;this.isExchangePoint=a.isExchangePoint;this.boardSpType=a.boardSpType;this.switchGear=
a.switchGear;this.switchBrake=a.switchBrake;this.condimentGunDir=a.condimentGunDir;this.condimentGunType=a.condimentGunType;this.condimentGunArea=a.condimentGunArea;this.fruitCondiment=a.fruitCondiment;this.wormLevel=a.wormLevel;this.wormHalfState=a.wormHalfState;this.randomBlockType=a.randomBlockType},cleanFruitData:function(){this.clearData();this.isNeedUpdate=!0},isBeBlock:function(){return 0<this.stoneLevel||0<this.cardboardLevel||0<this.sandstormLevel||0<this.flameLevel||!this.isAvailable()||
this.tileItemType==TileItemType.kBaldStrong||this.tileItemType==TileItemType.kClayBlock||this.tileItemType==TileItemType.kConveyorBeltBrake||this.tileItemType==TileItemType.kConveyorBeltGear||this.tileItemType==TileItemType.kCondiment?!0:!1},checkBlock:function(){var a=this.isBlock;this.isBlock=!1;this.isBeBlock()&&(this.isUsed=this.isBlock=!0);this.isBlock||this.tileItemType!=TileItemType.kStone&&this.tileItemType!=TileItemType.kSandstorm&&this.tileItemType!=TileItemType.kFlame&&this.tileItemType!=
TileItemType.kClayBlock||(this.tileItemType=TileItemType.kNone,this.tileItemStatus=TileItemStatusType.kNone,this.isEmpty=!0);return a!=this.isBlock?!0:!1},canBeComboNum:function(){return this.tileItemType==TileItemType.kFruit&&0==this.fruitSpecialType?!0:!1},canBeComboNumDiscolor:function(){return this.oldItemType===TileItemType.kDiscolor||this.tileItemType==TileItemType.kDiscolor?!0:!1},hasJumpCat:function(){return 0<this.jumpCatLevel},addJumpCat:function(){this.jumpCatLevel=1},canBeExchange:function(){return this.canBeSwap()&&
this.tileItemType!=TileItemType.kTwoBear&&this.tileItemType!=TileItemType.kHelmet&&this.tileItemType!=TileItemType.kWorm?!0:!1},hasLock:function(){return 0!=this.cardboardLevel},isAvailable:function(){return!0},isColorful:function(){return this.tileItemType==TileItemType.kFruit||this.tileItemType==TileItemType.kDiscolor?!0:!1},canBeSwap:function(){return!this.isUsed||this.isBlock||this.isEmpty||this.hasJumpCat()||this.hasLock()||!this.isAvailable()||this.tileItemStatus!=TileItemStatusType.kNone?!1:
!0},canBeRefresh:function(){return!this.isUsed||this.isBlock||this.isEmpty||this.hasJumpCat()||this.hasLock()||!this.isAvailable()||!this.isColorful()?!1:!0},watermelonUpgrade:function(){this.tileItemType==TileItemType.kWatermelon&&4>this.watermelonLevel&&(this.watermelonLevel+=1)},watermelonReset:function(){this.tileItemType==TileItemType.kWatermelon&&4==this.watermelonLevel&&(this.watermelonLevel=1)}});TileItemData.create=function(){return new TileItemData};
TileItemData.copyDataFrom=function(a,c){a.isUsed=c.isUsed;a.tileItemType=c.tileItemType;a.tileItemStatus=c.tileItemStatus;a.fruitColorType=c.fruitColorType;a.fruitSpecialType=c.fruitSpecialType;a.jumpCatLevel=c.jumpCatLevel;a.isBlock=c.isBlock;a.stoneLevel=c.stoneLevel;a.cardboardLevel=c.cardboardLevel;a.sandstormLevel=c.sandstormLevel;a.flameLevel=c.flameLevel;a.watermelonLevel=c.watermelonLevel;a.isNeedUpdate=c.isNeedUpdate;a.isEmpty=c.isEmpty;a.isItemLock=c.isItemLock;a.gotoPos=c.gotoPos;a.comePos=
c.comePos;a.itemSpeed=c.itemSpeed;a.tileOffset=ccp(c.tileOffset.x,c.tileOffset.y);a.clippingPosAdd=c.clippingPosAdd;a.dataReach=c.dataReach;a.bombRes=c.bombRes;a.isProduct=c.isProduct;a.iceCleanBombMatchPosList=c.iceCleanBombMatchPosList;a.hasGivenScore=c.hasGivenScore;a.bossLevel=c.bossLevel;a.blood=c.blood;a.maxBlood=c.maxBlood;a.moves=c.moves;a.maxMoves=c.maxMoves;a.skillMoves=c.skillMoves;a.maxSkillMoves=c.maxSkillMoves;a.speicial_hit_blood=c.speicial_hit_blood;a.hitCounter=c.hitCounter;a.showType=
c.showType;a.lastBlood=c.lastBlood;a.stunPercent=c.stunPercent;a.bossSize=c.bossSize;a.bossType=c.bossType;a.flameStep=c.flameStep;a.fruitOutputType=c.fruitOutputType;a.crossBombPoint=c.crossBombPoint;a.isExchangePoint=c.isExchangePoint;a.boardSpType=c.boardSpType;a.switchBrake=c.switchBrake;a.switchGear=c.switchGear;a.condimentGunDir=c.condimentGunDir;a.condimentGunType=c.condimentGunType;a.condimentGunArea=c.condimentGunArea;a.fruitCondiment=c.fruitCondiment;a.wormLevel=c.wormLevel;a.wormHalfState=
c.wormHalfState;a.randomBlockType=c.randomBlockType};TileItemData.copyDataFromWithPos=function(a,c){this.copyDataFrom(a,c);a.x=c.x;a.y=c.y;a.w=c.w;a.h=c.h};var TileItemOrderType=cw.Enum({kNone:0,kFruit:1,kSpecialBomb:2,kSpecialSwap:3,kSpecialTarget:4,kGiftTarget:5,kClayTarget:6,kAllTarget:7}),TileItemOrderType_SB=cw.Enum({kLine:1,kBomb:2,kFive:3,kCutyPet:4}),TileItemOrderType_SS=cw.Enum({}),TileItemOrderType_ST=cw.Enum({kStone:1,kHelmet:2,kSandstorm:3,kJumpCat:4,kIce:5,kWorm:6,kSand:7}),TileItemOrderType_AT=cw.Enum({kSandstorm:1,kFlame:2}),TileItemOrderData=cw.Class({ctor:function(){this.f1=this.v1=this.key3=this.key2=this.key1=0;this.active=!1;this.data=
null},copy:function(){var a=new TileItemOrderData;a.key1=this.key1;a.key2=this.key2;a.key3=this.key3;a.data=this.data;a.v1=this.v1;a.f1=this.f1;a.active=this.active;return a}});TileItemOrderData.create=function(a,c,d,e,f){var g=new TileItemOrderData;g.key1=a;g.key2=c;g.key3=f||0;g.v1=d;g.data=e;return g};var TileMapInitLogic=cw.Class({});TileMapInitLogic.init=function(a,c){this.initTileData(a,c);this.initColorAndSpecialData(a,c.fruitMap,c.maxColorNum,c.getNeedColorList());this.initColorType(a,c.maxColorNum);this.initDropBuff(a);this.initScrollMap(a,c);this.calculateItemColors(a,c);this.calculateRandomBlock(a,c);this.initPortal(a,c.portals);this.checkItemBlock(a);this.initConveyorBelt(a,c);this.initCondimentGun(a,c)};
TileMapInitLogic.getConveyorBeltSwitchValue=function(a,c){var d=c.conveyorBeltSwitchs;if(!d||0==d.length)return 0;for(var e=0;e<d.length;++e){var f=d[e];if(f[0]==a-1)return f[1]}return 1};
TileMapInitLogic.initTileData=function(a,c){a.baldStrongConfig=c.baldStrongConfig;for(var d=c.tileMap,e=0;e<d.length;++e){null===a.tileBoardMap[e]&&(a.tileBoardMap[e]=[]);null===a.tileItemMap[e]&&(a.tileItemMap[e]=[]);for(var f=0;f<d[e].length;++f){var g=d[e][f];a.tileBoardMap[e][f].initByConfig(g);var h=a.tileItemMap[e][f];h.initByConfig(g);h.initBossData(a.getBossConfig(h));h.switchBrake&&(h.switchBrake=this.getConveyorBeltSwitchValue(TileConfig.kConveyorBeltBrake,c),a.switchBrakeData=h);h.switchGear&&
(h.switchGear=this.getConveyorBeltSwitchValue(TileConfig.kConveyorBeltGear,c),a.switchGearData=h)}}};TileMapInitLogic.initDropBuff=function(a){a.magicBuffLogic&&a.magicBuffLogic.initGame(a.realCostMove)};
TileMapInitLogic.initColorAndSpecialData=function(a,c,d,e){for(var f in e){var g=e[f];FruitTypeConfig.isColor(g)&&(a.colortypes[g]=!0)}e=a.tileItemMap;f=table.size(a.colortypes);for(g=0;g<e.length;++g){null===e[g]&&(e[g]=[]);for(var h=0;h<e[g].length;++h){var m=e[g][h];m.initByFruitDef(c[g][h]);m.tileItemType==TileItemType.kFruit&&null==a.colortypes[m.fruitColorType]&&0!==m.fruitColorType&&f<d&&(a.colortypes[m.fruitColorType]=!0,f=table.size(a.colortypes))}}};
TileMapInitLogic.initPortal=function(a,c){if(c){var d=a.passedRow||0,e;for(e in c){var f=c[e];if(f){var g=0,h=0,m=0,n=0;for(e in f){var r=f[e];0==e?(g=r[0],h=r[1]-d):(m=r[0],n=r[1]-d)}a.isPosValid(h,g)&&a.isPosValid(n,m)&&(a.tileBoardMap[h][g].addProtalEnterInfo(n,m),a.tileBoardMap[n][m].addProtalExitInfo(h,g))}}a.portals=c}};
TileMapInitLogic.initColorType=function(a,c){c&&(a.maxColorNum=c);var d=0,e;for(e in a.colortypes)d+=1;6<a.maxColorNum&&(a.maxColorNum=6);if(d<a.maxColorNum){d=a.maxColorNum-d;do e=a.randomNum(1,7),null==a.colortypes[e]&&(a.colortypes[e]=!0,d-=1);while(0<d)}for(var f in a.colortypes)a.mapColorList.push(parseInt(f))};
TileMapInitLogic.initScrollMap=function(a,c){if(a.isCanMoveMap()){a.moveItemMap=[];a.moveBoardMap=[];for(var d=c.fruitMap,e=0;e<c.moveTileMap.length;++e){var f=e+9;null===a.tileItemMap[f]&&(a.tileItemMap[f]={});null===a.tileBoardMap[f]&&(a.tileBoardMap[f]={});null==a.moveItemMap[e]&&(a.moveItemMap[e]=[]);null==a.moveBoardMap[e]&&(a.moveBoardMap[e]=[]);for(var g=0;c.moveTileMap[e].length;++g){var h=c.moveTileMap[e][g],m=d[f][g],n=TileItemData.create();n.initByConfig(h);n.initByFruitDef(m);a.tileItemMap[f][g]=
n;a.moveItemMap[e][g]=n;m=TileBoardData.create();m.initByConfig(h);a.tileBoardMap[f][g]=m;a.moveBoardMap[e][g]=m}}}};TileMapInitLogic.calculateItemColors=function(a,c){if(a.isCanMoveMap()){this._calculateItemColors(a,c.fruitMap,9);for(var d=0;d<a.tileItemMap.length;++d)9<d&&(a.tileItemMap[d]=null,a.tileBoardMap[d]=null);a.swapHelpMap=null}else this._calculateItemColors(a,c.fruitMap)};
TileMapInitLogic._calculateItemColors=function(a,c,d){for(var e=this,f=a.tileItemMap,g=function(){for(var a=0;a<f.length;++a)for(var d=0;d<f[a].length;++d)f[a][d].isColorful()&&(f[a][d].fruitColorType=FruitTypeConfig.getType(c[a][d]))},h=function(){for(var c=0;c<f.length;++c)for(var d=0;d<f[c].length;++d)if(!e.randomSetColor(a,c,d))return!1;return!0},m=0;1E4>m&&(g(),!h()||ItemRefreshLogic.checkNeedRefresh(a,d));++m);};
TileMapInitLogic.calculateRandomBlock=function(a,c){function d(c){var d=a.randomNum(0,c.blocks.length);return c.blocks[d]}if(0!=c.randomBlockRules.length){for(var e=a.tileItemMap,f={},g=[],h=0;h<c.randomBlockRules.length;++h){var m=c.randomBlockRules[h];m.blockType=m.sameRandom?d(m):null;m.count=0;f[m.itemId]=m;table.insert(g,m)}for(h=0;h<e.length;++h)for(var n=0;n<e[h].length;++n){var r=e[h][n];if(r.tileItemType==TileItemType.kRandomBlock&&(m=f[r.randomBlockType])){var s=m.blockType||d(m);s>=TileConfig.kStone1&&
s<=TileConfig.kStone5?r.initStone(s-TileConfig.kStone1+1):s==TileConfig.kWorm?r.initWorm():s==TileConfig.kHelmet&&r.initHelmet();m.count+=1}}a.extOrders=[];for(h=0;h<g.length;++h)m=g[h],0<m.orderCount&&m.blockType&&(e=null,m.blockType>=TileConfig.kStone1&&m.blockType<=TileConfig.kStone5?e=TileItemOrderType_ST.kStone:m.blockType==TileConfig.kWorm?e=TileItemOrderType_ST.kWorm:m.blockType==TileConfig.kHelmet&&(e=TileItemOrderType_ST.kHelmet),a.extOrders.push({k1:TileItemOrderType.kSpecialTarget,k2:e,
k3:m.count}))}};TileMapInitLogic.checkItemBlock=function(a){for(var c=0;c<a.tileItemMap.length;++c)for(var d=0;d<a.tileItemMap[c].length;++d)a.checkItemBlock(c,d);a.updateFallingAndBlockStatus()};
TileMapInitLogic.randomSetColor=function(a,c,d){var e=!0,f=a.tileItemMap[c][d];if(f&&f.isColorful()&&f.fruitColorType==FruitTypeConfig.kRandom&&f.fruitSpecialType!=FruitTypeConfig.kFive){for(var g=0,h=0;;){g=ItemProduceLogic.randomOutputColor(a,f.fruitOutputType);if(!a.checkMatchQuick(c,d,g))break;h+=1;if(100<h){e=!1;break}}f.fruitColorType=g}return e};
TileMapInitLogic.initConveyorBelt=function(a,c){if(c.belt&&0!=c.belt.length){var d=a.getBoardMap();TileBoardView.getRealRowCount(d);var d=[],e;for(e in c.belt){for(var f=null,g=null,h=c.belt[e],m=0,n=0,r=ConveyorBeltConfig.create(tostring(h)).getHeadTrans();null!=r;)var s=r.getTransLength(),n=n+s,r=r.getNextTrans();for(r=ConveyorBeltConfig.create(tostring(h)).getHeadTrans();null!=r;){var t=r.getStart(),s=r.getTransLength(),u=r.getDirection();r.getCornerType();var w=0,z=0;u==ConveyorBeltDirection.kLeft?
z=-1:u==ConveyorBeltDirection.kRight?z=1:w=u==ConveyorBeltDirection.kUp?-1:1;for(var A=1;A<=s;++A){var m=m+1,B=r.getTransTypeByIndex(A),C=r.getLinkPositionByIndex(A),E=t.x+w*(A-1),H=t.y+z*(A-1);B==ConveyorBeltType.kStart?f={tx:E,ty:H,link:C,type_trans:B}:B==ConveyorBeltType.kEnd&&(g={tx:E,ty:H,link:C,type_trans:B});if(g&&f)if(g.link.x==f.tx&&g.link.y==f.ty)h=[],table.insert(h,f),table.insert(h,g),table.insert(d,h);else{for(var F=!1,D=1;D<=d.length;++D){for(var h=d[D-1],K=1;K<=h.length;++K){var G=
h[K-1];if(g.link.x==G.tx&&g.link.y==G.ty||f.tx==G.link.x&&f.ty==G.link.y){table.insert(h,f);table.insert(h,g);F=!0;break}}if(F)break}F||(h=[],table.insert(h,f),table.insert(h,g),table.insert(d,h))}a.tileBoardMap[E][H].setConveyorBeltConfig(B,u,C,m,n)}r=r.getNextTrans()}}for(D=1;D<=d.length;++D){h=d[D-1];e=!1;for(K=1;K<=h.length;++K)if(G=h[K-1],(f=a.tileBoardMap[G.tx][G.ty])&&f.hasConveyorBeltOutput()){e=!0;break}if(e)for(K=1;K<=h.length;++K)G=h[K-1],f=a.tileBoardMap[G.tx][G.ty],f.beltDoorType=!0}}};
TileMapInitLogic.initCondimentGun=function(a,c){if(c.condimentGuns&&0!=c.condimentGuns.length)for(var d=0;d<c.condimentGuns.length;++d){var e=c.condimentGuns[d];a.tileItemMap[e[0]][e[1]].setCondimentInfo(e[2],e[3],e[4])}};var TileRevertData=cw.Class({ctor:function(){this.tileBoardMap=this.tileItemMap=null;this.theCurMoves=this.totalScore=0}});
TileRevertData.create=function(a){for(var c=new TileRevertData,d=[],e=[],f=0;f<a.tileItemMap.length;++f){d[f]=[];for(var g=0;g<a.tileItemMap[f].length;++g)d[f][g]=a.tileItemMap[f][g].copy()}for(f=0;i<a.tileBoardMap.length;++f)for(e[f]=[],g=0;g<a.tileBoardMap[f].length;++g)e[f][g]=a.tileBoardMap[f][g].copy();c.tileItemMap=d;c.tileBoardMap=e;c.totalScore=a.totalScore;c.theCurMoves=a.theCurMoves;c.blockProduceRules=[];for(var h in a.blockProduceRules)d={},d.produceRuleType=h.produceRuleType,d.itemId=
h.itemId,d.blockMoveCount=h.blockMoveCount,d.blockMoveTarget=h.blockMoveTarget,d.blockShouldCome=h.blockShouldCome,d.blockSpawnDensity=h.blockSpawnDensity,d.blockSpawned=h.blockSpawned,d.itemType=h.itemType,d.maxNum=h.maxNum,d.minNum=h.minNum,d.dropNumLimit=h.dropNumLimit,d.totalDroppedNum=h.totalDroppedNum,c.blockProduceRules.push(d);c.cachePool=[];if(a.cachePool)for(var m in a.cachePool){c.cachePool[m]=[];for(var n in a.cachePool[m])h=n.copy(),c.cachePool[m].push(h)}a.gameMode.saveTileRevertData(c);
return c};TileRecordType={kNone:0,kFruit:1,kBlock:2,kProp:3,kEffect:4,kScore:6};TileRecordBlockType={kNone:0,kIce:1,kStone:2,kHelmet:3,kLock:4,kBriar:5,kWorm:6,kHoney:7};TileRecordEffectType={kNone:0,kCutyPet:1,kLine:2,kBomb:3,kFive:4,kSix:5};
TileRecordData=cw.Class({ctor:function(){this.maxCombo=this.useStep=0;this.records={}},addRecord:function(a,c,d){if(0!=d){d=d||1;var e=this.records[a];e||(e={},this.records[a]=e);e[c]||(e[c]=0);e[c]=a==TileRecordType.kNormal&&c==TileRecordNormalType.kCombo?Math.max(d,e[c]):e[c]+d}},addUseStep:function(){this.useStep+=1},addMaxCombo:function(a){this.maxCombo=Math.max(this.maxCombo,a)},addClearScore:function(a,c){this.addRecord(TileRecordType.kScore,a,c)},notifiTask:function(){for(var a in this.records){var c=
this.records[a],d;for(d in c){var e=c[d];a==TileRecordType.kFruit?notification.postEvent("event.ui.destroyFruit",{subType:d,addValue:e}):a==TileRecordType.kBlock?notification.postEvent("event.ui.destroyBlock",{subType:d,addValue:e}):a==TileRecordType.kEffect&&d==TileRecordEffectType.kCutyPet&&notification.postEvent("event.ui.petEffect",{subType:d,addValue:e})}}},toData:function(){var a={fruits:{},blocks:{},effect:{},props:{},scores:{}};a.useStep=this.useStep;a.maxCombo=this.maxCombo;for(var c in this.records){var d=
this.records[c],e;for(e in d){var f=d[e];c==TileRecordType.kFruit?a.fruits[e]=f:c==TileRecordType.kBlock?a.blocks[e]=f:c==TileRecordType.kEffect?a.effect[e]=f:c==TileRecordType.kProp?a.props[e]=f:c==TileRecordType.kScore&&(a.scores[e]=f)}}return a}});TileRecordData.create=function(){return new TileRecordData};var ScrollMapViewType=[TileViewType.kTileBlocker,TileViewType.kItemLayer,TileViewType.kBear,TileViewType.kIce,TileViewType.kItem,TileViewType.kItemShow,TileViewType.kWood,TileViewType.kCondiment,TileViewType.kLock,TileViewType.kJumpCat,TileViewType.kNormalEffect,TileViewType.kBigBoss,TileViewType.kPass],DefaultVisibleViewType=[TileViewType.kBackgroundEffect,TileViewType.kBackground,TileViewType.kBackgroundEdge,TileViewType.kItemLayer,TileViewType.kItemBlink,TileViewType.kItem,TileViewType.kItemShow,
TileViewType.kItemDestroy,TileViewType.kClipping,TileViewType.kEnterClipping,TileViewType.kLock,TileViewType.kWood,TileViewType.kNormalEffect,TileViewType.kSpecial,TileViewType.kItemBack],NeedAddItemLayer=[],NeedSetPositionLayer=[];
TileBoardView=cw.Class.extend(Layer,{ctor:function(){this._super();this.tileLogic=this.posStart=this.baseLocation=this.tileLayer=this.baseMap=null;this.isRegisterUpdate=this.isTouchReigister=!1;this.tileUIDelegate=this.updateScheduler=null;this.isPaused=!1;this.initLayer();this.viberateDelay=this.viberateCounter=0;this.originPos=null;this.gamePropsId=0;this.startRow=1;this.rowCount=9;this.oldSelectColor=null;this.thinkTime=TimeUtils.time()},dispose:function(){this.unregisterAllEvent();this.updateScheduler=
null;this.cleanAllTileSprite();this.baseMap=null;if(this.tileLayer){for(var a=this.tileLayer[TileViewType.kBackgroundEffect],c=1;c<=a.list.length;++c)for(var d=a.list[c-1],e=1;5>=e;++e){var f=d["action"+e];f&&f.release()}for(e in this.tileLayer)this.tileLayer[e]&&this.tileLayer[e].getParent()&&this.tileLayer[e].removeFromParentAndCleanup(!0)}this.tileLayer=null;this.removeScrollTileMapView();this.originPos=this.posStart=this.baseLocation=this.tileLogic=null;this._super()},initPropOperationManager:function(){this.propOperationManager=
PropOperationManager.create(this);this.propOperationManager.init()},useProp:function(a,c){c?(this.gamePropsId=a,this.tileLogic.stopEliminateAdvise(),this.stopOldSelectEffects(),this.stopGiftBoxLightAction(),this.propOperationManager.onUseProp(a),this.focusOnItem(null)):this.tileLogic.useProps(a)},usePropCancelled:function(){this.gamePropsId=PropType.None;this.propOperationManager.onCancelUsingProp();this.tileUIDelegate.usePropCancelled();this.tileLogic.runFocusItemsAction();this.tileLogic.startEliminateAdvise()},
useForceSwap:function(a){var c=this;if(this.tileLogic.isUsePropsValid(this.gamePropsId,a.x,a.y)){var d=this.gamePropsId;this.tileUIDelegate.useCurrentProp(this.tileLogic.getGameItemPosInView(a.x,a.y),function(){c.tileLogic.useProps(d,a.x,a.y)})}else this.usePropCancelled();this.gamePropsId=PropType.None},useHammer:function(a){if(this.tileLogic.isUsePropsValid(this.gamePropsId,a.x,a.y)){var c=this.gamePropsId;this.tileUIDelegate.useCurrentProp(this.tileLogic.getGameItemPosInView(a.x,a.y),function(){this.tileLogic.useProps(c,
a.x,a.y)})}else this.tileUIDelegate.propList&&this.tileUIDelegate.propList.cancelFocus();this.gamePropsId=PropType.None},useCrossEffectProp:function(a){var c=this;if(this.tileLogic.isUsePropsValid(this.gamePropsId,a.x,a.y)){var d=this.gamePropsId;this.tileUIDelegate.useCurrentProp(this.tileLogic.getGameItemPosInView(a.x,a.y),function(){c.tileLogic.useProps(d,a.x,a.y)})}else this.usePropCancelled();this.gamePropsId=PropType.None},regionalEffectProp:function(a){var c=this;if(this.tileLogic.isUsePropsValid(this.gamePropsId,
a.x,a.y)){var d=this.gamePropsId;this.tileUIDelegate.useCurrentProp(this.tileLogic.getGameItemPosInView(a.x,a.y),function(){c.tileLogic.useProps(d,a.x,a.y)})}else this.usePropCancelled();this.gamePropsId=PropType.None},detonateBombProp:function(a){var c=this;if(this.tileLogic.isUsePropsValid(this.gamePropsId,a.x,a.y)){var d=this.gamePropsId;this.tileUIDelegate.useCurrentProp(this.tileLogic.getGameItemPosInView(a.x,a.y),function(){c.tileLogic.useProps(d,a.x,a.y)})}else this.usePropCancelled();this.gamePropsId=
PropType.None},useMagicWand:function(a,c){var d=this;this.tileLogic.isUsePropsValid(this.gamePropsId,a.x,a.y,c.x,c.y)?this.tileUIDelegate.useCurrentProp(this.tileLogic.getGameItemPosInView(a.x,a.y),function(){d.tileLogic.useProps(gamePropsId,a.x,a.y,c.x,c.y)}):this.tileUIDelegate.propList&&this.tileUIDelegate.propList.cancelFocus();this.gamePropsId=PropType.None},useRandomFive:function(){},freeClickItem:function(a,c){this.tileLogic.freeClickItem(a,c)},reInitByTileLogic:function(a){a=a||this.tileLogic;
this.cleanAllTileSprite();var c=a.getBoardMap();this.initBaseMapByData(c);a=a.getItemMap();this.initBaseMapByItemData(a);this.initBaseMapView();this.initSwitchArea()},cleanAllTileSprite:function(){for(var a=this.baseMap,c=0;c<a.length;++c)for(var d=0;d<a[c].length;++d){for(var e=TileViewType.kBackground;e<=TileViewType.kLast;++e){var f=a[c][d].tileSprite[e];f&&(f.getParent()&&f.removeFromParentAndCleanup(!0),a[c][d].tileSprite[e]=null)}this.tileLayer[TileViewType.kClipping].removeChild(a[c][d].clippingnode,
!0);this.tileLayer[TileViewType.kEnterClipping].removeChild(a[c][d].enterClippingNode,!0);a[c][d]=null}},touchAtPoint:function(a,c){var d=Math.floor(a/TileConst_Tile_Width/TileConst_Tile_ScaleX),e=Math.ceil(TileConst_Tile_Item_Max-1-c/TileConst_Tile_Height/TileConst_Tile_ScaleY);return ccp(e,d)},onTouchBegan:function(a,c){var d=this.thinkTime;this.thinkTime=TimeUtils.time();notification.postEvent("event.game.thinkTime",this.thinkTime-d);d=this.convertToNodeSpace(ccp(a,c));a=d.x;c=d.y;if(this.tileLogic.isWaitingOperation&&
!this.tileLogic.isPaused)return this.propOperationManager.getCurrentInteraction().handleTouchBegin(a,c),!0},onTouchMoved:function(a,c){var d=this.convertToNodeSpace(ccp(a,c));a=d.x;c=d.y;if(this.tileLogic.isWaitingOperation&&!this.tileLogic.isPaused)return this.propOperationManager.getCurrentInteraction().handleTouchMove(a,c),!0},onTouchEnded:function(a,c){var d=this.convertToNodeSpace(ccp(a,c));a=d.x;c=d.y;if(this.tileLogic.isWaitingOperation&&!this.tileLogic.isPaused)return this.propOperationManager.getCurrentInteraction().handleTouchEnd(a,
c),!0},trySwapItem:function(a,c,d,e){var f=this.tileLogic.canBeSwaped(a,c,d,e);return 1==f?(this.tileLogic.startTrySwapedItem(a,c,d,e),this.focusOnItem(null),!0):2==f?(this.tileLogic.startTrySwapedItemFun(a,c,d,e),this.focusOnItem(null),!0):!1},tryExchangeItem:function(a,c){var d=this.tileLogic;if(d.isEditMode){if(d.tileItemMap[a][c].tileItemType==TileItemType.kBaldStrong)return!1;d.startTryExchangeItem(a,c);return!0}return d.canExchange(a,c)?(d.startTryExchangeItem(a,c),this.focusOnItem(null),!0):
!1},initView:function(a,c,d){for(var e={},f=0;f<DefaultVisibleViewType.length;++f){var g=DefaultVisibleViewType[f];e[g]||(e[g]=this.createOneLayerByType(g,d),a.addChildZOrder(e[g],g))}c.tileLayer=e;null==this.labelBatch&&(this.labelBatch=LabelBitmapBatch.create(GetAssetsPath("btn_num_white.png"),GetAssetsPath("btn_num_white.fnt",100)),this.addChildZOrder(this.labelBatch,100));null==this.scoreBatch&&(this.scoreBatch=LabelBitmapBatch.create(GetAssetsPath("score_num_purple.png"),GetAssetsPath("score_num_purple.fnt"),
100),this.addChildZOrder(this.scoreBatch,100));null==this.specialEffectBatch&&(this.specialEffectBatch=CocosNode.create(),this.specialEffectBatch.setRefObject(cc.SpriteBatchNode.create(SpriteUtils.getRealResourceName("res/image/elements/line_bomb.png"),100)),this.addChildZOrder(this.specialEffectBatch,TileViewType.kSpecial2));null==this.cutyPetBoneBatch&&(this.cutyPetBoneBatch=CocosNode.create(),a=UserManager.getMainPetId(),20001!=a&&20002!=a&&20003!=a&&20004!=a&&20005!=a||this.cutyPetBoneBatch.setRefObject(cc.SpriteBatchNode.create(SpriteUtils.getRealResourceName("res/image/elements/pet_"+
a+"_bomb.png"),100)),this.addChildZOrder(this.cutyPetBoneBatch,TileViewType.kSpecial));null==this.holdDataNode&&(this.holdDataNode=CocosNode.create(),this.holdDataNode.setPositionXY(UI_V_SIZE.width/2,0),this.addChildZOrder(this.holdDataNode,TileViewType.kSpecial))},createOneLayerByType:function(a,c){var d=null;if(a==TileViewType.kBackground){d=CocosNode.create();d.setRefObject(cc.SpriteBatchNode.create(SpriteUtils.getRealResourceName("res/image/tileMapItem.png"),200));if(!c)return d.container=d;var e=
SimpleClippingNode.create();e.setContentSize(cc.size(9*TileConst_Tile_Width,9*TileConst_Tile_Height));e.addChild(d);e.container=d;return e}if(a==TileViewType.kBackgroundEdge){d=CocosNode.create();d.setRefObject(cc.SpriteBatchNode.create(SpriteUtils.getRealResourceName("res/image/tileMapItem.png"),200));if(!c)return d.container=d;var f=CocosNode.create();f.addChild(d);e=SimpleClippingNode.create();e.setContentSize(cc.size(9*TileConst_Tile_Width,9*TileConst_Tile_Height));e.addChild(f);e.container=d;
e.posNode=f;this.setEdgeState(e,!0,!0);return e}a==TileViewType.kBackgroundEffect?(d=CocosNode.create(),d.setRefObject(cc.SpriteBatchNode.create(SpriteUtils.getRealResourceName("res/image/tileMapItem.png"),200))):a==TileViewType.kLock||a==TileViewType.kItem||a==TileViewType.kWood?(d=CocosNode.create(),d.setRefObject(cc.SpriteBatchNode.create(SpriteUtils.getRealResourceName("res/image/tileBaseItem.png"),200))):a==TileViewType.kItemShow?d=CocosNode.create():a==TileViewType.kIce?(d=CocosNode.create(),
d.setRefObject(cc.SpriteBatchNode.create(SpriteUtils.getRealResourceName("res/image/block_ice.png"),200))):a==TileViewType.kHoney?(d=CocosNode.create(),d.setRefObject(cc.SpriteBatchNode.create(SpriteUtils.getRealResourceName("res/image/lawn.png"),200))):a==TileViewType.kPass?(d=CocosNode.create(),d.setRefObject(cc.SpriteBatchNode.create(SpriteUtils.getRealResourceName("res/image/portal.png"),200))):a==TileViewType.kLockEliminate?(d=CocosNode.create(),d.setRefObject(cc.SpriteBatchNode.create(SpriteUtils.getRealResourceName("res/image/block_lock.png"),
100))):a==TileViewType.kStoneEliminate?(d=CocosNode.create(),d.setRefObject(cc.SpriteBatchNode.create(SpriteUtils.getRealResourceName("res/image/block_stone.png"),100))):a==TileViewType.kAshEliminate?(d=CocosNode.create(),d.setRefObject(cc.SpriteBatchNode.create(SpriteUtils.getRealResourceName("res/image/block_ash.png"),100))):a==TileViewType.kItemDestroy||a==TileViewType.kItemDestroy2?(d=CocosNode.create(),d.setRefObject(cc.SpriteBatchNode.create(SpriteUtils.getRealResourceName("res/image/elements/fruit_destroy.png"),
200))):a==TileViewType.kSlide||a==TileViewType.kSlideArrow?(d=CocosNode.create(),d.setRefObject(cc.SpriteBatchNode.create(SpriteUtils.getRealResourceName("res/image/tile_slide.png"),200))):a==TileViewType.kTileBlocker?(d=CocosNode.create(),d.setRefObject(cc.SpriteBatchNode.create(SpriteUtils.getRealResourceName("res/image/conveyorbelt.png"),200))):a==TileViewType.kItemBlink?(d=CocosNode.create(),d.setRefObject(cc.SpriteBatchNode.create(SpriteUtils.getRealResourceName("res/image/elements/five_ext.png"),
200))):a==TileViewType.kCutyPet?(d=CocosNode.create(),d.setRefObject(cc.SpriteBatchNode.create(SpriteUtils.getRealResourceName("res/image/tile_cutypet.png"),200))):a==TileViewType.kHelmetEliminate?(d=CocosNode.create(),d.setRefObject(cc.SpriteBatchNode.create(SpriteUtils.getRealResourceName("res/image/block_helmet.png"),200))):a==TileViewType.kFlyLine?(d=CocosNode.create(),d.setRefObject(cc.SpriteBatchNode.create(SpriteUtils.getRealResourceName("res/image/game_effects.png"),200))):a==TileViewType.kSand||
a==TileViewType.kSandMove?(d=CocosNode.create(),d.setRefObject(cc.SpriteBatchNode.create(SpriteUtils.getRealResourceName("res/image/block_sand.png"),100))):d=CocosNode.create();TileBoardView.setTileLayerPosition(d,a);return d},insertNewLayer:function(a,c,d,e){c[d]=this.createOneLayerByType(d,e);a.addChildZOrder(c[d],d)},registerAllEvent:function(){var a=this,c=function(c,d,g){return"began"==c?a.onTouchBegan(d,g):"moved"==c?a.onTouchMoved(d,g):a.onTouchEnded(d,g)};!1==this.isTouchReigister&&(this.isTouchReigister=
!0,this.registerScriptTouchHandler(c));c=function(c){a.updateGame(c)};if(!this.isRegisterUpdate){var d=1/TileConst_Action_FPS;cc.director.getScheduler().schedule(c,this.refObject,d,!0);this.updateScheduler=c;this.isRegisterUpdate=!0}},unregisterAllEvent:function(){!0==this.isTouchReigister&&(this.isTouchReigister=!1,this.unregisterScriptTouchHandler());!0==this.isRegisterUpdate&&(this.isRegisterUpdate=!1,cc.director.getScheduler().unschedule(this.updateScheduler,this.refObject),this.updateScheduler=
null)},updateGame:function(a){!1==this.isPaused&&(this.tileLogic.updateGame(a),this.updateItemViewByLogic(),TileItemViewRunner.runAllAction(this),this.updateItemViewSelf())},getViewContext:function(){this.itemViewContext||(this.itemViewContext={levelType:this.tileLogic.levelType});return this.itemViewContext},getTileLayerByType:function(a){table.exist(NeedAddItemLayer,a)&&(a=TileViewType.kItemLayer);this.tileLayer[a]||this.insertNewLayer(this,this.tileLayer,a,TileBoardView.isBGClipNode());return this.tileLayer[a]},
initBaseMapByData:function(a){if(!this.baseMap){this.baseMap=[];for(var c=0;9>c;++c)this.baseMap[c]=[]}for(var d=this,e=function(a){return d.getTileLayerByType(a)},f=this.baseMap,c=0;c<a.length;++c){null==f[c]&&(f[c]=[]);for(var g=0;g<a[c].length;++g)f[c][g]=TileView.create(this.getViewContext()),f[c][g].getContainer=e,f[c][g].initByBoardData(a[c][g]),f[c][g].initPosBoardDataPos(a[c][g]),f[c][g].initSlide(this.tileLogic)}},initBaseMapByItemData:function(a){for(var c=this.baseMap,d=0;d<a.length;++d){null==
c[d]&&(c[d]=[]);for(var e=0;e<a[d].length;++e)null==c[d][e]&&(c[d][e]=TileView.create(this.getViewContext())),c[d][e].initByItemData(a[d][e]),c[d][e].initPosBoardDataPos(a[d][e],!0)}},updateItemViewByLogic:function(){for(var a=this.tileLogic.getBoardMap(),c=this.tileLogic.getItemMap(),d=this.baseMap,e=0;e<a.length;++e)for(var f=0;f<a[e].length;++f){var g=0;!0==a[e][f].isNeedUpdate&&(g=1,d[e][f].updateByNewBoardData(a[e][f]));!0==c[e][f].isNeedUpdate&&(d[e][f].updateByNewItemData(c[e][f]),g=2);0<g&&
(this.updateBaseMapViewItem(e,f),2==g&&d[e][f].upDatePosBoardDataPos(c[e][f],!0))}},updateItemViewSelf:function(){for(var a=this.baseMap,c=0;c<a.length;++c)for(var d=0;d<a[c].length;++d)!0==a[c][d].isNeedUpdate&&(a[c][d].isNeedUpdate=!1,this.updateBaseMapViewItem(c,d));this.viberateUpdate()},updateBaseMapViewItem:function(a,c){for(var d=TileViewType.kBackground;d<=TileViewType.kLast;++d){var e=this.baseMap[a][c].getTileSprite(d);e&&null==e.getParent()&&(null!=e.refObject?this.getTileLayerByType(d).addChild(e,
1E4*a+100*d+c):(printf("tileSprite.refObject \x3d\x3d null  r, c, k",a,c,d),this.baseMap[a][c].tileSprite[d]=null))}},initBaseMapView:function(){for(var a=this.baseMap,c=0;c<a.length;++c)for(var d=0;d<a[c].length;++d)a[c][d]&&this.updateBaseMapViewItem(c,d)},initSwitchArea:function(){var a=this.tileLogic;a.switchBrakeData&&this.changeSwitchAreaColor(a,1,1==a.switchBrakeData.switchBrake);a.switchGearData&&this.changeSwitchAreaColor(a,2,1==a.switchGearData.switchGear)},initScrollTileMapView:function(a,
c){this.createScrollTileMapView(a,c);var d=ccp(0,this.moveMapViewContainer.numExtraRow*TileConst_Tile_Height);this.moveMapViewContainer.setPosition(d);this.tileLayer[TileViewType.kBackground].container.setPosition(d);this.tileLayer[TileViewType.kBackgroundEdge].container.setPosition(d)},resetTileMapPosition:function(){var a=ccp(0,this.tileLogic.passedRow*TileConst_Tile_Height);this.tileLayer[TileViewType.kBackground].container.setPosition(a);this.tileLayer[TileViewType.kBackgroundEdge].container.setPosition(a);
this.setEdgeState(this.tileLayer[TileViewType.kBackgroundEdge],!0)},scrollMoreTileMapView:function(a,c,d){this.createScrollTileMapView(a,c);this.scrollMap(ccp(0,this.moveMapViewContainer.numExtraRow*TileConst_Tile_Height),d)},startScrollInitTileMapView:function(a){this.scrollMap(ccp(0,0),a)},scrollNode:function(a,c,d,e){var f=[];f.push(cc.moveTo(c,d));e&&f.push(cc.callFunc(e));c=cc.sequence(f);a.runAction(c)},scrollMap:function(a,c){var d=this.createMapMoveEffect();this.setEdgeState(this.tileLayer[TileViewType.kBackgroundEdge],
!1);this.scrollNode(this.moveMapViewContainer,0.3*this.moveMapViewContainer.numExtraRow,a,function(){this.setEdgeState(this.tileLayer[TileViewType.kBackgroundEdge],!0);c&&c();d.removeFromParentAndCleanup(!0)});var e=ccp(0,this.tileLogic.passedRow*TileConst_Tile_Height);this.scrollNode(this.tileLayer[TileViewType.kBackground].container,0.3*this.moveMapViewContainer.numExtraRow,e,null);this.scrollNode(this.tileLayer[TileViewType.kBackgroundEdge].container,0.3*this.moveMapViewContainer.numExtraRow,e,
null)},setEdgeState:function(a,c,d){if(a.posNode){var e=ccp(-TileConst_Tile_Width/2,0),f=cc.size(10*TileConst_Tile_Width,9*TileConst_Tile_Height);c&&(d||this.tileLogic.passedRow>=this.tileLogic.moveItemMap.length?(f=cc.size(10*TileConst_Tile_Width,9.5*TileConst_Tile_Height),e=ccp(-TileConst_Tile_Width/2,-TileConst_Tile_Height/2)):0==this.tileLogic.passedRow&&(f=cc.size(10*TileConst_Tile_Width,9.5*TileConst_Tile_Height)));a.setPosition(e);a.setContentSize(f);a.posNode.setPosition(ccp(-e.x,-e.y))}},
createMapMoveEffect:function(){var a=CocosNode.create();a.setRefObject(cc.SpriteBatchNode.create(SpriteUtils.getRealResourceName("res/image/tileMapItem.png"),200));for(var c=0;9>c;++c){var d=SpriteUtils.buildSpriteWithAnimate("map_move_effect_%d.png",0,10);a.addChild(d);d.setAnchorPoint(ccp(0.5,0.1));d.setPosition(ccp(TileConst_Tile_Width*(c+0.5),0*TileConst_Tile_Height))}for(c=0;9>c;++c)d=SpriteUtils.buildSpriteWithAnimate("map_move_effect_%d.png",0,10),a.addChild(d),d.setAnchorPoint(ccp(0.5,0.1)),
d.setPosition(ccp(TileConst_Tile_Width*(c+0.5),9*TileConst_Tile_Height)),d.setRotation(180);this.moveMapClippingNode.addChild(a);return a},createScrollTileMapView:function(a,c){var d=this.startRow,e=this.rowCount,f=SimpleClippingNode.create();f.setContentSize(cc.size(9*TileConst_Tile_Width,TileConst_Tile_Height*e));this.addChild(f);e=CocosNode.create();f.addChild(e);this.moveMapClippingNode=f;this.moveMapViewContainer=e;this.digContext={};var g=function(a){this.digContext.tileLayer[a]||this.insertNewLayer(this.moveMapViewContainer,
this.digContext.tileLayer,a);return this.digContext.tileLayer[a]};this.initView(e,this.digContext);this.digBaseMap={};(function(){for(var e=d;e<a.length;++e){null==this.digBaseMap[e]&&(this.digBaseMap[e]=[]);for(var f=0;f<a[e].length;++f)null==this.digBaseMap[e][f]&&(this.digBaseMap[e][f]=TileView.create(this.getViewContext())),this.digBaseMap[e][f].getContainer=g,this.digBaseMap[e][f].initByBoardData(c[e][f]),this.digBaseMap[e][f].initByItemData(a[e][f]),this.digBaseMap[e][f].initPosBoardDataPos(a[e][f],
!0)}})();(function(){for(var a=d;a<this.digBaseMap.length;++a)for(var c=0;c<this.digBaseMap[a].length;++c)if(this.digBaseMap[a][c])for(var e in ScrollMapViewType){var f=ScrollMapViewType[e],g=this.digBaseMap[a][c].getTileSprite(f);g&&!g.getParent()&&(null!=g.refObject?(this.digContext.tileLayer[f]||this.insertNewLayer(this.moveMapViewContainer,this.digContext.tileLayer,f),this.digContext.tileLayer[f].addChild(g)):this.baseMap[a][c].tileSprite[f]=null)}})();this.moveMapViewContainer.numExtraRow=a.length-
9},removeScrollTileMapView:function(){if(this.digContext){for(var a in ScrollMapViewType){var c=ScrollMapViewType[a];this.digContext.tileLayer[c]&&this.digContext.tileLayer[c].getParent()&&(this.digContext.tileLayer[c].removeFromParentAndCleanup(!0),this.digContext.tileLayer[c]=null)}this.digContext=null}this.moveMapViewContainer&&(this.moveMapViewContainer.stopAllActions(),this.moveMapViewContainer.removeFromParentAndCleanup(!0),this.moveMapViewContainer=null);this.moveMapClippingNode&&(this.moveMapClippingNode.removeFromParentAndCleanup(!0),
this.moveMapClippingNode=null);this.digContext=this.digBaseMap=null},hideItemViewLayer:function(){for(var a=0;a<ScrollMapViewType.length;++a){var c=this.tileLayer[ScrollMapViewType[a]];c&&c.setVisible(!1)}},showItemViewLayer:function(){for(var a=0;a<ScrollMapViewType.length;++a){var c=this.tileLayer[ScrollMapViewType[a]];c&&c.setVisible(!0)}},focusItemColors:function(a,c){this.tileLogic.isEditMode||(this.stopOldSelectEffects(),this.tileLogic.curGameStatus==TileGameStatus.kNormal&&(c&&0<c?this.playSelectEffects(0):
this.playSelectEffects(a)))},runGiftBoxLigthAction:function(a){this.stopGiftBoxLightAction();this.tileLogic.curGameStatus==TileGameStatus.kNormal&&this.playGiftBoxLightAction(a)},playGiftBoxLightAction:function(a){for(var c=this.baseMap,d=0;d<c.length;++d)for(var e=0;e<c[d].length;++e){var f=c[d][e],g=this.tileLogic.tileBoardMap[d][e];f&&g&&g.isUsed&&g.giftColor==a&&(table.insert(this.oldGiftBoxTargets,{r:d,c:e}),f.setGiftBoxLightVisible(!0))}},stopGiftBoxLightAction:function(){if(this.oldGiftBoxTargets)for(var a=
0;a<this.oldGiftBoxTargets.length;++a){var c=this.oldGiftBoxTargets[a];this.baseMap[c.r][c.c].setGiftBoxLightVisible(!1)}this.oldGiftBoxTargets=[]},playSelectEffects:function(a){for(var c=this.baseMap,d=0;d<c.length;++d)for(var e=0;e<c[d].length;++e){var f=c[d][e],g=this.tileLogic.tileItemMap[d][e];f&&g&&g.isUsed&&!g.isEmpty&&g.tileItemType==TileItemType.kFruit&&(0!=a&&a!=g.fruitColorType||f.playSelectEffect(g))}this.oldSelectColor=a},stopOldSelectEffects:function(){var a=this.oldSelectColor;if(null!=
a){this.oldSelectColor=null;for(var c=this.baseMap,d=0;d<c.length;++d)for(var e=0;e<c[d].length;++e){var f=c[d][e],g=this.tileLogic.tileItemMap[d][e];f&&g&&g.isUsed&&!g.isEmpty&&g.tileItemType==TileItemType.kFruit&&(0!=a&&a!=g.fruitColorType||f.stopSelectEffect(g))}}},focusOnItem:function(a){},playSelectEffect:function(a,c){if(!this.oldSelectTarget||this.oldSelectTarget.r!=a||this.oldSelectTarget.c!=c){var d=this.baseMap[a][c],e=this.tileLogic.tileItemMap[a][c];null!=d&&null!=e&&e.isUsed&&!e.isEmpty&&
(this.stopOldSelectEffect(),this.oldSelectTarget={r:a,c:c},d.playSelectEffect(e),GameMusicManager.playEffect(GameMusicType.kKeyboard))}},stopOldSelectEffect:function(){this.oldSelectTarget&&(this.baseMap[this.oldSelectTarget.r][this.oldSelectTarget.c].stopSelectEffect(this.tileLogic.tileItemMap[this.oldSelectTarget.r][this.oldSelectTarget.c]),this.oldSelectTarget=null)},changeSwitchAreaColor:function(a,c,d){for(var e=this.baseMap,f=0;f<e.length;++f)for(var g=0;g<e[f].length;++g){var h=e[f][g],m=a.tileBoardMap[f][g];
1==c&&m.isBrakeArea()?h.changeBrakeAreaColor(d):2==c&&(m.isGearArea()&&h.changeGearAreaColor(d),m.isConveyorBelt()&&(h.changeConveyorBeltArrow(d,m),h.changeConveyorBeltDoorDir()))}},paintBorder:function(a){TileBoardMap.paintBorder(this,a)},calculateViewScale:function(a){a=this.calculateMapSize(a);this.setMapSite(ccp((TileConst_Tile_Item_Max-a[0]-2*a[2])*TileConst_Tile_Width/2,-(TileConst_Tile_Item_Max-a[1]-2*a[3])*TileConst_Tile_Height/2),1,1)},calculateMapSize:function(a){for(var c=0,d=0,e=9,f=9,
g=0;g<a.length;++g)for(var h=0;h<a[g].length;++h)a[g][h].isUsed&&(h>c&&(c=h),h<e&&(e=h),g>d&&(d=g),g<f&&(f=g));c=c-e+1;d=d-f+1;this.centerXY=ccp(f+(d+1)/2,e+(c+1)/2);return[c,d,e,f]},calculateMapScale:function(){return[1,1,0,0]},setMapSite:function(a,c,d){this.originPos=a;this.setPosition(this.originPos);this.setScaleX(c);this.setScaleY(d);this.tileLogic.posAdd=this.originPos;TileConst_Tile_ScaleX=c;TileConst_Tile_ScaleY=d},viberate:function(){},viberateUpdate:function(){if(0!=this.viberateDelay||
-1!=this.viberateCounter)if(0==this.viberateDelay)if(0==this.viberateCounter)this.setPosition(this.originPos),this.viberateCounter=-1;else{this.viberateCounter-=1;var a=TileConst_Viberate_InitY*TileConst_Tile_Height*this.viberateCounter;0==bit.band(this.viberateCounter,1)&&(a=-a);this.setPosition(ccp(this.originPos.x,a+this.originPos.y));this.viberateDelay=TileConst_Viberate_Delay}else this.viberateDelay-=1},playSmallToBigAction:function(){for(var a=this.tileLogic.tileItemMap,c=0;c<a.length;++c)for(var d=
0;d<a[c].length;++d){var e=a[c][d];e&&e.isUsed&&(e.tileItemType==TileItemType.kFruit||e.tileItemType==TileItemType.kDiscolor)&&this.baseMap[c][d].playSmallToBigAction()}},getPositionFromTo:function(a,c){return this.tileLogic.getGameItemPosInView(a.x,a.y),this.tileLogic.getGameItemPosInView(c.x,c.y)},getTileItemPosition:function(a,c){return ccp((c+0.5)*TileConst_Tile_Width,(TileConst_Tile_Item_Max-a-0.5)*TileConst_Tile_Height)},swapItemView:function(a,c){var d=null,e=0;c.tileSprite[TileViewType.kItem]?
(e=TileViewType.kItem,d=c.tileSprite[TileViewType.kItem],c.tileSprite[TileViewType.kItem]=null):c.tileSprite[TileViewType.kItemShow]&&(e=TileViewType.kItemShow,d=c.tileSprite[TileViewType.kItemShow],c.tileSprite[TileViewType.kItemShow]=null);a.tileSprite[TileViewType.kItem]?(c.tileSprite[TileViewType.kItem]=a.tileSprite[TileViewType.kItem],a.tileSprite[TileViewType.kItem]=null):a.tileSprite[TileViewType.kItemShow]&&(c.tileSprite[TileViewType.kItemShow]=a.tileSprite[TileViewType.kItemShow],a.tileSprite[TileViewType.kItemShow]=
null);a.tileSprite[e]=d;var d=a.oldData.tileItemType,e=a.oldData.fruitColorType,f=a.oldData.fruitSpecialType,g=a.tileShowType;a.oldData.tileItemType=c.oldData.tileItemType;a.oldData.fruitColorType=c.oldData.fruitColorType;a.oldData.fruitSpecialType=c.oldData.fruitSpecialType;a.tileShowType=c.tileShowType;c.oldData.tileItemType=d;c.oldData.fruitColorType=e;c.oldData.fruitSpecialType=f;c.tileShowType=g}});
TileBoardView.createMap=function(a){var c=a.getBoardMap(),d=this.getRealRowCount(c),e=d[0],d=d[1],f=this.isBGClipNode(a),e=TileBoardView.create(e,d,f);e.tileLogic=a;e.initBaseMapByData(c);e.paintBorder(c);e.calculateViewScale(c);return e};
TileBoardView.createByTileLogic=function(a){var c=a.getBoardMap(),d=this.getRealRowCount(c),e=d[0],d=d[1],f=this.isBGClipNode(a),e=TileBoardView.create(e,d,f);e.tileLogic=a;a.tileView=e;e.initBaseMapByData(c);e.initBaseMapByItemData(a.getItemMap());e.initBaseMapView();e.paintBorder(c);e.initSwitchArea();e.calculateViewScale(c);e.registerAllEvent();e.initPropOperationManager();return e};
TileBoardView.create=function(a,c,d){var e=new TileBoardView;a&&(e.rowCount=a);c&&(e.startRow=c);e.initView(e,e,d);return e};TileBoardView.getRealRowCount=function(a){for(var c=0,d=0,e=0;9>e;++e)for(var f=0;9>f;++f){var g=a[e]?a[e][f]:null;if(g&&g.isUsed){0==c&&(c=e);d=e;break}}return[d-c+1,c]};TileBoardView.isBGClipNode=function(a){return(a=a||this.tileLogic)&&a.moveBoardMap?0<a.moveBoardMap.length:!1};
TileBoardView.setTileLayerPosition=function(a,c){table.exist(NeedSetPositionLayer,c)&&a.setPositionY(a.getPositionY()+12)};TileBoardMap=cw.Class({});TileBoardMap.paintBorder=function(a,c){var d=ccp(0,0),e=a.tileLayer[TileViewType.kBackground].container,f=c;a.tileLogic.moveBoardMap&&(f=table.union(c,a.tileLogic.moveBoardMap));this.paintBorderByData(e,d,f,a)};
TileBoardMap.calculateWaterBoardMap=function(a){for(var c=[],d=0;d<a.length;++d)c[d]=[];for(var e=function(d,f){0>d||0>f||d>=a.length||f>=a[d].length||c[d][f]||(a[d][f].isUsed?c[d][f]=0:(c[d][f]=2,e(d-1,f),e(d+1,f),e(d,f-1),e(d,f+1)))},d=0;d<a.length;++d)for(var f=0;f<a[d].length;++f)if(0==d||0==f||d==a.length-1||f==a[d].length-1)a[d][f].isUsed||e(d,f);for(d=0;d<a.length;++d)for(f=0;f<a[d].length;++f)a[d][f].isUsed||2==c[d][f]||(c[d][f]=1);return c};
TileBoardMap.createCollect=function(){var a=Sprite.createWithSpriteFrameName("map_collect.png"),c=a.getContentSize().width,d=a.getContentSize().height,e=d/2,f=Sprite.createWithSpriteFrameName("map_collect.png");f.setVisible(!1);var g=[];g.push(cc.moveBy(1,ccp(0,-e)));g.push(cc.fadeTo(1,0));var h=[];h.push(cc.delayTime(0));h.push(cc.show());h.push(cc.spawn(g));h.push(cc.moveBy(0,ccp(0,e)));h.push(cc.hide());h.push(cc.fadeTo(0,255));h.push(cc.delayTime(0));f.runAction(cc.repeatForever(cc.sequence(h)));
a.addChild(f);f.setPosition(ccp(c/2,d));a.setOpacity(0);return a};
TileBoardMap.paintBorderByData=function(a,c,d,e){var f=TileConst_Tile_Width,g=TileConst_Tile_Height;this.calculateWaterBoardMap(d);for(var h=function(a,c){return!(0<=a&&a<d.length&&0<=c&&c<d[a].length)||!d[a][c].isUsed},m=function(a,c,d,e,f,g,h,m){a=Sprite.createWithSpriteFrameName(a);a.setAnchorPoint(h||ccp(0,0));a.setPosition(ccp(c,d));a.setScaleX(e);a.setScaleY(f);a.setRotation(g);m&&a.setFlipX(!0);return a},n=function(a,c,d,e,f){var g=Sprite.createWithSpriteFrameName("tile_effect_1_0.png");g.setAnchorPoint(ccp(0.5,
-0.2));g.setPosition(ccp(a,c));g.setScaleX(d);g.setScaleY(e);g.setRotation(f);g.setVisible(!1);a=[17,19,20,25,22];for(c=1;5>=c;++c)d=SpriteUtils.buildFrames("tile_effect_"+c+"_%d.png",0,a[c-1]),d=SpriteUtils.buildAnimate(d),e=[],e.push(cc.show()),e.push(d),e.push(cc.hide()),d=cc.sequence(e),d.retain(),g["action"+c]=d;return g},r=0;r<d.length;++r)for(var s=0;s<d[r].length;++s){var t=d[r][s],u=ccp(c.x+(s+0.5)*f,c.y+(8.5-r)*g);if(t.isUsed){t=m("tile_center.png",u.x-f/2,u.y-g/2,1,1,0);a.addChild(t);var t=
h(r,s-1),w=h(r,s+1),z=h(r-1,s),A=h(r+1,s),B=h(r-1,s-1),C=h(r-1,s+1),E=h(r+1,s-1),H=h(r+1,s+1);a=e.tileLayer[TileViewType.kBackgroundEdge].container;var F=e.tileLayer[TileViewType.kBackgroundEffect];if(t){var D=n(u.x,u.y,1,1,-90);F.addChild(D)}w&&(D=n(u.x,u.y,1,1,90),F.addChild(D));z&&(D=n(u.x,u.y,1,1,0),F.addChild(D));A&&(D=n(u.x,u.y,1,1,180),F.addChild(D));d[r][s].isCollector&&(F=this.createCollect(),F.setAnchorPoint(ccp(0.5,0)),F.setPosition(ccp(u.x,u.y-g+4)),a.addChildZOrder(F,2E4));t&&(F=0,z&&
B?(a.addChild(m("tile_corner_1.png",u.x,u.y,1,1,0,ccp(1,0))),E&&!A&&a.addChild(m("tile_corner_3.png",u.x-f/2,u.y-g/2,1,1,0,ccp(1,0)))):B?F+=1:(z?a.addChild(m("tile_corner_2.png",u.x-f/2,u.y+g/2,1,1,270,ccp(0,1))):a.addChild(m("tile_corner_2.png",u.x-f/2,u.y+g/2,1,1,90,ccp(0,1))),E&&!A&&a.addChild(m("tile_corner_3.png",u.x-f/2,u.y-g/2,1,1,0,ccp(1,0)))),A&&E?(a.addChild(m("tile_corner_1.png",u.x,u.y,1,1,270,ccp(1,0))),B&&!z&&a.addChild(m("tile_corner_3.png",u.x-f/2,u.y+g/2,1,1,0,ccp(1,1)))):E?F+=1:
(a.addChild(m("tile_corner_2.png",u.x-f/2,u.y-g/2,1,1,180,ccp(0,1))),B&&!z&&a.addChild(m("tile_corner_3.png",u.x-f/2,u.y+g/2,1,1,0,ccp(1,1)))),2==F&&a.addChild(m("tile_corner_4.png",u.x-f/2,u.y-g/2,1,1,0,ccp(1,0))));w&&(F=0,z&&C?(a.addChild(m("tile_corner_1.png",u.x,u.y,1,1,90,ccp(1,0))),H&&!A&&a.addChild(m("tile_corner_3.png",u.x+f/2,u.y-g/2,1,1,180,ccp(1,1)))):C?F+=1:(a.addChild(m("tile_corner_2.png",u.x+f/2,u.y+g/2,1,1,0,ccp(0,1))),H&&!A&&a.addChild(m("tile_corner_3.png",u.x+f/2,u.y-g/2,1,1,180,
ccp(1,1)))),A&&H?(a.addChild(m("tile_corner_1.png",u.x,u.y,1,1,180,ccp(1,0))),C&&!z&&a.addChild(m("tile_corner_3.png",u.x+f/2,u.y+g/2,1,1,180,ccp(1,0)))):H?F+=1:(A?a.addChild(m("tile_corner_2.png",u.x+f/2,u.y-g/2,1,1,90,ccp(0,1))):a.addChild(m("tile_corner_2.png",u.x+f/2,u.y-g/2,1,1,270,ccp(0,1))),C&&!z&&a.addChild(m("tile_corner_3.png",u.x+f/2,u.y+g/2,1,1,180,ccp(1,0)))),2==F&&a.addChild(m("tile_corner_4.png",u.x+f/2,u.y-g/2,1,1,180,ccp(1,1))));z&&(B&&C?t||w?t?w||a.addChild(m("tile_corner_3.png",
u.x+f/2,u.y+g/2,1,1,90,ccp(1,1))):a.addChild(m("tile_corner_3.png",u.x-f/2,u.y+g/2,1,1,90,ccp(1,0))):a.addChild(m("tile_corner_4.png",u.x-f/2,u.y+g/2,1,1,90,ccp(1,0))):C?w||a.addChild(m("tile_corner_3.png",u.x+f/2,u.y+g/2,1,1,90,ccp(1,1))):B&&(t||a.addChild(m("tile_corner_3.png",u.x-f/2,u.y+g/2,1,1,90,ccp(1,0)))));A&&(E&&H?t||w?t?w||a.addChild(m("tile_corner_3.png",u.x+f/2,u.y-g/2,1,1,270,ccp(1,0))):a.addChild(m("tile_corner_3.png",u.x-f/2,u.y-g/2,1,1,270,ccp(1,1))):a.addChild(m("tile_corner_4.png",
u.x-f/2,u.y-g/2,1,1,270,ccp(1,1))):H?w||a.addChild(m("tile_corner_3.png",u.x+f/2,u.y-g/2,1,1,270,ccp(1,0))):E&&(t||a.addChild(m("tile_corner_3.png",u.x-f/2,u.y-g/2,1,1,270,ccp(1,1)))))}}};TileBoardMap.playEffect=function(a,c){var d=a.tileLayer[TileViewType.kBackgroundEffect];if(0<c)for(var e=1;e<=d.list.length;++e){var f=d.list[e-1];f.stopAllActions();var g=f["action"+c];g&&f.runAction(g)}};var TileSpread=cw.Class.extend(CocosNode,{init:function(){this.initConfig();var a=Sprite.createWithSpriteFrameName(this.name+"_normal_0.png");this.mainSprite=a;this.addChild(a)},initConfig:function(){},playNormalAnimation:function(){SpriteUtils.playSpriteWithAnimate(this.mainSprite,this.name+"_normal_%d.png",0,this.normalFrame)},playTempInvisibleAnimation:function(){this.mainSprite.setVisible(!1)},playRevertVisibleAnimation:function(){this.mainSprite.setVisible(!0)},playDirectionAnimation:function(a){var c=
"",d=0;0<a.x?(c="right",d=this.rightFrame,this.mainSprite.setPosition(this.rightPoint)):0>a.x?(c="left",d=this.leftFrame,this.mainSprite.setPosition(this.leftPoint)):0<a.y?(c="down",d=this.downFrame,this.mainSprite.setPosition(this.downPoint)):0>a.y&&(c="up",d=this.upFrame,this.mainSprite.setPosition(this.upPoint));var e=this;SpriteUtils.playSpriteWithAnimate(this.mainSprite,this.name+"_"+c+"_%d.png",0,d,1,function(){e.dp(new CWEvent(EVENTS.Complete,null,this))})},playDestroyAnimation:function(){this.mainSprite.stopAllActions();
this.mainSprite.setVisible(!1);var a=this,c=SpriteUtils.buildSpriteWithAnimate(this.name+"_destroy_%d.png",0,this.destoryFrame,1,function(){a.dp(new CWEvent(EVENTS.Complete,null,null))});this.addChild(c)}});var CommonEffect=cw.Class({});
CommonEffect.buildFruitMergeEffect=function(a,c,d,e,f,g,h){var m=Sprite.createEmpty();a&&m.setTexture(a.refObject.getTexture());f>e&&(a=Sprite.createWithSpriteFrameName("sp_merge"),a.setAnchorPoint(ccp((d-e+0.5)/(f-e+1),0.5)),a.setScaleX(f-e),a.runAction(cc.scaleTo(0.2,0.6,0.6)),m.addChild(a));h>g&&(a=Sprite.createWithSpriteFrameName("sp_merge"),a.setAnchorPoint(ccp((h-c+0.5)/(h-g+1),0.5)),a.setRotation(-90),a.setScaleX(h-g),a.runAction(cc.scaleTo(0.2,0.6,0.6)),m.addChild(a));m.runAction(cc.sequence(cc.delayTime(0.2),
cc.hide(!0)));return m};
CommonEffect.buildCondimentSpray=function(a,c,d,e){var f=Sprite.createEmpty();a&&f.setTexture(a.refObject.getTexture());sprite=Sprite.createWithSpriteFrameName("condiment_3.png");sprite.setPositionXY(0,0);f.addChild(sprite);var g;d==TileItemCondimentDirection.kLeft?(sprite.setAnchorPoint(ccp(1,0.5)),g=cc.scaleTo(0.05*c,c,1)):d==TileItemCondimentDirection.kRight?(sprite.setAnchorPoint(ccp(0,0.5)),g=cc.scaleTo(0.05*c,c,1)):d==TileItemCondimentDirection.kUp?(sprite.setAnchorPoint(ccp(0.5,0)),g=cc.scaleTo(0.05*
c,1,c)):d==TileItemCondimentDirection.kDown&&(sprite.setAnchorPoint(ccp(0.5,1)),g=cc.scaleTo(0.05*c,1,c));a=[];a.push(g);a.push(cc.scaleTo(0.05,1,1));a.push(cc.callFunc(function(){e&&e();f.removeFromParentAndCleanup(!0)}));f.runAction(cc.sequence(a));return f};
CommonEffect.buildCutyPetCircleRotateEffect=function(a,c,d){var e=Sprite.createEmpty();a&&e.setTexture(a.refObject.getTexture());a=string.format("pet_20004_bomb_circle_%d.png",0<c&&c||1);a=Sprite.createWithSpriteFrameName(a);e.addChild(a);a.setOpacity(0);a.runAction(cc.fadeTo(0.8,255));a.runAction(cc.sequence(cc.rotateBy(1,720),cc.callFunc(function(){d&&d();e.removeAllChildren(!0);e.removeFromParentAndCleanup(!0)})));var f;f=SpriteUtils.buildSpriteWithAnimate("pet_20004_bomb_start_%d.png",0,26,1,
function(){SpriteUtils.playSpriteWithAnimate(f,"pet_20004_bomb_cast_%d.png",0,11)});e.addChild(f);return e};
CommonEffect.buildCutyPetRandomPointEffect=function(a,c,d,e,f,g){var h=Sprite.createEmpty();a&&h.setTexture(a.refObject.getTexture());a=string.format("pet_20004_bomb_fly_%d",f);a=SpriteUtils.buildSpriteWithAnimate(a+"_%d.png",0,2);a.setAnchorPoint(ccp(0.5,0.5));a.setPositionXY(0,0);h.addChild(a);a=Sprite.createWithSpriteFrameName("pet_20004_bomb_tail.png");a.setAnchorPoint(ccp(0,0.5));h.addChild(a);var m=c.x-d.x,n=c.y-d.y;f=Math.sqrt(m*m+n*n);var r=a.getContentSize().width,m=Math.atan2(n,m)*(-180/
3.1415926);a.setRotation(m);a.setScaleX(0);a.runAction(cc.scaleTo(e,f/r,1));a.runAction(cc.fadeTo(e,0));d=cc.moveTo(e,d);e=cc.callFunc(function(){g&&g();h.removeAllChildren(!0);h.removeFromParentAndCleanup(!0);var a=Math.random2(2,6),a=string.format(GameMusicType.kEliminate20004_2,a);GameMusicManager.playEffect(a)});h.runAction(cc.sequence(d,e));h.setPosition(c);return h};
CommonEffect.buildCutyPetPinballEffect=function(a,c,d,e,f){var g=Sprite.createEmpty();a&&g.setTexture(a.refObject.getTexture());var h=Sprite.createWithSpriteFrameName("pet_20003_bomb_tail.png");h.setAnchorPoint(ccp(1,0.5));h.setScaleX(0);g.addChild(h);var m=h.getContentSize().width;h.setPositionX(-0.15*m);var n=Sprite.createWithSpriteFrameName("pet_20003_bomb_0.png");n.setAnchorPoint(ccp(1,0.5));n.setPositionX(0.5*n.getContentSize().width);g.addChild(n);a=SpriteUtils.buildSpriteWithAnimate("pet_20003_bomb_start_%d.png",
0,15,1);g.addChild(a);a=function(){e&&e();g.removeAllChildren(!0);g.removeFromParentAndCleanup(!0);GameMusicManager.playEffect(GameMusicType.kEliminate20003_2)};var r=function(){d();GameMusicManager.playEffect(GameMusicType.kEliminate20003_1)},s=0,t=function(){var a=c[s],d=TileEliminateRunner.getItemPosition({x:a.r,y:a.c}),e=g.getPosition(),a=d.x-e.x,d=d.y-e.y,e=Math.sqrt(a*a+d*d),r=Math.atan2(d,a)*(-180/3.1415926)-90;g.runAction(cc.sequence(cc.delayTime(0.08),cc.rotateTo(0,r+90)));n.runAction(cc.sequence(cc.scaleTo(0.08,
0.85,0.9),cc.scaleTo(0.08,1.22,0.72)));h.stopAllActions();h.setOpacity(255);h.setScaleX(0);r=f*e*0.007;e/=m;if(0==a||0==d)e*=0.7;h.runAction(cc.sequence(cc.delayTime(0.08),cc.scaleTo(r,e,1)));h.runAction(cc.sequence(cc.delayTime(0.08+0.6*r),cc.fadeTo(0.4*r,0)));s+=1},u=[];u.push(cc.delayTime(0.2));for(var w=0;w<c.length;++w){var z=c[w],A=TileEliminateRunner.getItemPosition({x:z.r,y:z.c});u.push(cc.callFunc(t));u.push(cc.delayTime(0.08));u.push(cc.moveTo(f*z.num*0.8,A));w<c.length-1?u.push(cc.callFunc(r)):
u.push(cc.callFunc(a))}g.runAction(cc.sequence(u));return g};CommonEffect.buildCutyPet20002RotateEffect=function(a,c){var d=Sprite.createEmpty();a&&d.setTexture(a.refObject.getTexture());var e=function(a,c,e){a=SpriteUtils.buildSpriteWithAnimate("pet_20002_ready_%d.png",0,a,1,e);a.setAnchorPoint(ccp(0.5,0.5));a.setPositionXY(0,0);a.setOpacity(c);d.addChild(a)};e(17,255);e(7,0,function(){c&&c();d.removeAllChildren(!0);d.removeFromParentAndCleanup(!0)});return d};
CommonEffect.buildCutyPetFlyingEffect=function(a,c,d,e,f){var g=Sprite.createEmpty();a&&g.setTexture(a.refObject.getTexture());var h=function(){f&&f();g.removeAllChildren(!0);g.removeFromParentAndCleanup(!0)},m=d.x-c.x,n=d.y-c.y,r=Math.atan2(n,m)*(-180/3.1415926),s=Math.sqrt(m*m+n*n)/320,t,u=function(){var a=SpriteUtils.buildSpriteWithAnimate("pet_20002_bomb_%d.png",0,7,1,h);a.setAnchorPoint(ccp(0.5,0.5));a.setPositionXY(m,n);g.addChild(a);GameMusicManager.playEffect(GameMusicType.kEliminate20002_2)};
g.setPosition(c);(function(){var a=Sprite.createWithSpriteFrameName("pet_20002_trajectory.png");g.addChild(a);a.setRotation(r);a.setScale(s);a.setAnchorPoint(ccp(0.277,0>=m?0.6:0.4));a.setFlipY(0>=m);a.setOpacity(0);var c=a.convertToWorldSpace(ccp(360,0>=m?80:320));t=g.convertToNodeSpace(c);var c=cc.fadeIn(0.75*e),d=cc.fadeOut(0.25*e);a.runAction(cc.sequence(c,d))})();(function(a){a=Sprite.createWithSpriteFrameName("pet_20002_bomb_start.png");a.setAnchorPoint(ccp(0.5,0.5));a.setPositionXY(0,0);a.setVisible(!0);
g.addChild(a);var c=[];c[0]=ccp(t.x,t.y);c[1]=ccp(t.x,t.y);c[2]=ccp(m,n);var c=cc.bezierBy(0.75*e,c),d=[];d.push(c);d.push(cc.callFunc(u));d.push(cc.hide());a.runAction(cc.sequence(d))})();return g};
CommonEffect.buildCutyPetFallBombEffect=function(a,c,d,e,f){var g=Sprite.createEmpty();a&&g.setTexture(a.refObject.getTexture());var h=function(a,c){a.setAnchorPoint(ccp(0.5,0.5));a.setPositionXY(0,0);g.addChildZOrder(a,c||0)},m=function(a,c){var d=SpriteUtils.buildSpriteWithAnimate("pet_20005_bomb_bomb_%d.png",0,c||22,1,a);h(d);return d},n=function(){var a=Sprite.createWithSpriteFrameName("pet_20005_bomb_line.png");a.setScale(0,1);a.setPositionXY(0,0);a.setRotation(0);a.setOpacity(255);h(a,-10);
return a},r=function(){var a=Sprite.createWithSpriteFrameName("pet_20005_bomb_fire_0.png");h(a);var c=Sprite.createWithSpriteFrameName("pet_20005_bomb_down_line.png");c.setAnchorPoint(ccp(0.5,0.5));c.setPositionXY(a.getContentSize().width/2,a.getContentSize().height);a.addChildZOrder(c,-100);return a}(),s=function(){g.removeAllChildren(!0);g.removeFromParentAndCleanup(!0)},t=function(a,c,d,e,f){e=e||0;var g=[];g.push(cc.delayTime(e));g.push(cc.scaleTo(0.17,1.6*c,d));g.push(cc.scaleTo(0.03,c,d));g.push(cc.delayTime(0.1-
e));g.push(cc.fadeOut(0.1));f&&g.push(cc.callFunc(f));a.runAction(cc.sequence(g))},u=function(){r.removeAllChildren(!0);r.removeFromParentAndCleanup(!0);var a=n();t(a,0.5,1);a=n();a.setPositionXY(0,-76);t(a,f?0.8:0.5,1,0.07,s);a=n();t(a,0.5,1);a.setRotation(90);e&&e();GameMusicManager.playEffect(GameMusicType.kEliminate20005_2)};a=[];a.push(cc.moveBy(d,ccp(0,-TileConst_Tile_Width*c)).easing(cc.easeSineIn()));a.push(cc.callFunc(function(){r.removeAllChildren(!0);r.removeFromParentAndCleanup(!0);r=
m();m(u,17).setOpacity(0)}));g.runAction(cc.sequence(a));return g};
CommonEffect.buildCutyPetBoneEffect=function(a,c,d,e){var f=Sprite.createEmpty();a&&f.setTexture(a.refObject.getTexture());var g=c+d+1,h=function(a,c){var d=SpriteUtils.buildSpriteWithAnimate("pet_20001_bomb_bone_%d.png",0,1,10,c);d.setFlipX(0>a?!0:!1);d.setAnchorPoint(ccp(0>a?0:1,0.5));return d},m=function(){var a=SpriteUtils.buildSpriteWithAnimate("pet_20001_bomb_part_%d.png",0,1,10);a.setAnchorPoint(ccp(0.5,0.5));return a},n=function(){f.removeAllChildren(!0);f.removeFromParentAndCleanup(!0)},
r=function(){for(var a=1;a<=c-1;++a){var g=m();g.setPositionXY(-TileConst_Tile_Width*a,0);f.addChild(g)}for(a=1;a<=d-1;++a)g=m(),g.setPositionXY(TileConst_Tile_Width*a,0),f.addChild(g);g=m();g.setPositionXY(0,0);f.addChild(g);a=h(1,n);a.setPositionXY((0.5-c)*TileConst_Tile_Width,3.5);f.addChild(a);a=h(-1);a.setPositionXY((d-0.5)*TileConst_Tile_Width,3.5);f.addChild(a);f.runAction(cc.scaleTo(0.4,1.03).easing(cc.easeBounceOut()));e&&e()},s=function(){var a=Sprite.createWithSpriteFrameName("pet_20001_bomb_line.png");
a.setPositionXY(0,0);a.setAnchorPoint(ccp(0.5+(c-d)/(g+1),0.5));a.setScale(1);a.setVisible(!0);f.addChild(a);var e=[];e.push(cc.scaleTo(0.2,g/3,1));e.push(cc.hide());e.push(cc.callFunc(r));a.runAction(cc.sequence(e))};f.runAction(cc.callFunc(function(){var a=SpriteUtils.buildSpriteWithAnimate("pet_20001_bomb_start_%d.png",0,5,1,s);a.setAnchorPoint(ccp(0.5,0.5));a.setPositionXY(0,0);f.addChild(a)}));return f};
CommonEffect.buildLineBombEffect=function(a,c,d){var e=Sprite.createEmpty();a&&e.setTexture(a.refObject.getTexture());var f=function(){e.removeAllChildren(!0);e.removeFromParentAndCleanup(!0)},g=function(a,c){var d=SpriteUtils.buildSpriteWithAnimate("sp_line_%d",0,18,1,f);d.setRotation(0>a&&180||0);d.setAnchorPoint(ccp(0.9993,0.495));d.setScaleX((c+0.5)/4.5);return d};a=[];a.push(cc.callFunc(function(){var a=g(-1,d);a.setPositionXY(0,0);e.addChild(a);a=g(1,c);a.setPositionXY(0,0);e.addChild(a)}));
e.runAction(cc.sequence(a));return e};CommonEffect.buildPinballBounceBombEffect=function(a){var c=Sprite.createEmpty();a&&c.setTexture(a.refObject.getTexture());a=Sprite.createWithSpriteFrameName("pet_20003_bomb_cross.png");c.addChild(a);c.setScale(0.5);c.runAction(cc.sequence(cc.scaleTo(0.15,1.1),cc.hide(),cc.callFunc(function(){c.removeAllChildren(!0);c.removeFromParentAndCleanup(!0)})));return c};
CommonEffect.buildBombBombEffectBig=function(a){var c=Sprite.createEmpty();a&&c.setTexture(a.refObject.getTexture());var d=this.buildBombBombEffect(a),e=this.buildBombBombEffect(a),f=this.buildBombBombEffect(a);a=this.buildBombBombEffect(a);c.addChild(d);c.addChild(e);c.addChild(f);c.addChild(a);d.setPositionXY(-70,0);e.setPositionXY(70,0);f.setPositionXY(0,-70);a.setPositionXY(0,70);return c};
CommonEffect.buildBombBombEffect=function(a){var c=Sprite.createEmpty();a&&c.setTexture(a.refObject.getTexture());var d=function(){c.removeAllChildren(!0);c.removeFromParentAndCleanup(!0)},e=function(a){var c=SpriteUtils.buildSpriteWithAnimate("sp_bomb_%d",0,18,1,d);c.setRotation(a);c.setAnchorPoint(ccp(0.001,0.001));return c};a=[];a.push(cc.delayTime(0));a.push(cc.callFunc(function(){var a=e(0),d=e(90),h=e(180),m=e(270);c.addChild(a);c.addChild(d);c.addChild(h);c.addChild(m)}));c.runAction(cc.sequence(a));
return c};
CommonEffect.buildComboEffectTile=function(a){a=a||1;var c=cc.director.getVisibleSize(),d=cc.director.getVisibleOrigin();a=GetLanSpriteFrame("combo_tip_"+a+".png");a=Sprite.createWithSpriteFrameName(a);a.getContentSize();var e=SpriteBatchNode.createWithTexture(a.getTexture()),f=TileConst_Tile_Bottom*c.width/TileConst_Design_Width;e.setPosition(ccp(c.width/2,d.y+0.7*(c.height-TileConst_Tile_Top*c.width/TileConst_Design_Width-f)+f));e.addChild(a);c=[];c.push(cc.spawn(cc.scaleTo(0.6,1.3).easing(cc.easeElasticOut()),cc.fadeIn(0.25)));
c.push(cc.delayTime(0.3));c.push(cc.spawn(cc.fadeOut(0.3),cc.scaleTo(0.3,1.6)));c.push(cc.callFunc(function(){e.removeFromParentAndCleanup(!0)}));a.setOpacity(0);a.setScale(0);a.runAction(cc.sequence(c));return e};CommonEffect.buildNeedRefreshPanel=function(){var a=CocosNode.create();CommonToast.showTip(TextManager.getInstance().getText("level_help_require_refresh"),function(){a.removeFromParentAndCleanup(!0)});return a};
CommonEffect.buildPassLevelEffect=function(){var a=CocosNode.create();a.setPosition(ccp(UI_V_ORIG.x+UI_V_SIZE.width/2,UI_V_ORIG.y+UI_V_SIZE.height/2));var c=[];c.push(cc.delayTime(0.2));c.push(cc.callFunc(function(){a.removeFromParentAndCleanup(!0)}));a.runAction(cc.sequence(c));return a};var FlyLineConfig={1:{image:"fly_line_blue.png",timeScale:0.7,delay:0.6,halfScale:0.75},2:{image:"fly_line_green.png",timeScale:0.7,delay:0.6,halfScale:0.75},3:{image:"fly_line_brown.png",timeScale:0.7,delay:0.6,halfScale:0.75},4:{image:"fly_line_white.png",timeScale:0.7,delay:0.6,halfScale:0.75},5:{image:"fly_line_orange.png",timeScale:0.7,delay:0.6,halfScale:0.75},6:{image:"fly_line_yellow.png",timeScale:0.7,delay:0.6,halfScale:0.75},yellow:{image:"fly_line_yellow.png",timeScale:0.7,delay:0.6,halfScale:0.75},
firebolt:{image:"firebolt_line_1.png",time:0.4,timeScale:1,delay:0.1,halfScale:0.5},star:{image:"fly_line_star.png",timeScale:0.71,delay:0.6,halfScale:0.75,scale:1}},CommonFlyLine=cw.Class.extend(Layer,{initLayer:function(a){this._super();this.config=a;this.initFlySprite()},initFlySprite:function(){var a=Sprite.createWithSpriteFrameName(this.config.image);a.setAnchorPoint(ccp(0.5,0.05));this.addChild(a);this.sprite=a;a=ParticleSystemQuad.create("res/image/720x1280/star_flying.plist");a.setPosition(ccp(0,
0));this.addChild(a);this.particle=a},fly:function(a,c,d,e,f){function g(){d&&d();t.removeFromParentAndCleanup(!0)}var h=c.x-a.x,m=c.y-a.y,n=h*h+m*m,r=cc.director.getVisibleSize().height,s=this.config;f=f||s.time||1.5*Math.sqrt(n)/r;var t=this;this.time=f*=s.timeScale;var r=f*this.config.halfScale,n=cc.spawn(cc.scaleTo(r,s.scale||2,s.scale||1.3),cc.fadeIn(r)),r=cc.spawn(cc.scaleTo(f-r,0),cc.fadeOut(f-r)),u=this.sprite;u.setRotation(Math.atan2(m,h)*(-180/3.1415926)-90);u.setScale(0);u.setOpacity(0);
u.runAction(cc.sequence(n,r));h=[];h.push(cc.moveTo(f,c).easing(cc.easeSineInOut()));e&&h.push(cc.callFunc(e));h.push(cc.delayTime(s.delay));h.push(cc.callFunc(function(){t.sprite.setVisible(!1);t.particle&&!t.particle.isDisposed&&t.particle.stopSystem();t.runAction(cc.sequence(cc.delayTime(0.3),cc.callFunc(g)))}));this.setPosition(a);this.runAction(cc.sequence(h))}});CommonFlyLine.createColor=function(a,c,d,e,f,g){return CommonFlyLine.create(FlyLineConfig[a],c,d,e,f,g)};
CommonFlyLine.createWhite=function(a,c,d,e,f){return CommonFlyLine.create(FlyLineConfig.yellow,a,c,d,e,f)};CommonFlyLine.createStar=function(a,c,d,e,f){return CommonFlyLine.create(FlyLineConfig.star,a,c,d,e,f)};CommonFlyLine.createFirebolt=function(a,c,d,e,f){return CommonFlyLine.create(FlyLineConfig.firebolt,a,c,d,e,f)};CommonFlyLine.create=function(a,c,d,e,f,g){var h=new CommonFlyLine;h.initLayer(a);h.fly(c,d,e,f,g);return h};
CommonFlyLine.createFiveFlyLine=function(a,c,d,e,f,g){var h=Sprite.createEmpty();a=CommonFlyLine.createColor(a,c,d,function(){h.removeFromParentAndCleanup(!0);e&&e()},f,g);h.addChild(a);return h};
CommonFlyLine.createCrossFly=function(a,c,d,e,f){var g=Sprite.createEmpty(),h=TileElement.createByColor(f);d=d||0.4;f=[];f[0]=ccp(a.x-100,a.y-100);f[1]=ccp(c.x+100,c.y+100);f[2]=c;f=cc.bezierTo(d,f);var m=cc.callFunc(function(){g.removeFromParentAndCleanup(!0);e&&e();h.removeFromParentAndCleanup(!0)});h.runAction(cc.sequence(f,m));h.setPosition(a);a=0.05*(c.x-a.x);15<a?a=15:-15>a&&(a=-15);c=[];c.push(cc.rotateBy(0.2,a));c.push(cc.delayTime(d-0.4));c.push(cc.rotateBy(0.2,-a));h.runAction(cc.sequence(c));
h.play(kTileElementAnimationType.kCross);g.addChild(h);return g};CommonLongLine=cw.Class.extend(Sprite,{initLayer:function(){this.initFlySprite()},initFlySprite:function(){var a=Sprite.createWithSpriteFrameName("fly_line_color.png");a.setAnchorPoint(ccp(0.5,0.05));this.addChild(a);this.sprite=a;this.setTexture(a.refObject.getTexture())},fly:function(a,c,d,e,f){var g=c.x-a.x,h=c.y-a.y;c=Math.sqrt(g*g+h*h);var m=this,n=0.75*f;c=cc.spawn(cc.scaleTo(n,1,c/304*1.05),cc.fadeIn(n));var n=cc.callFunc(function(){var a=SpriteUtils.buildSpriteWithAnimate("fly_bomb_%d.png",
0,25,1);a.setPosition(ccp(g,h));a.setScale(2);m.addChild(a);m.sprite.removeFromParentAndCleanup(!0)}),r=this.sprite;r.setRotation(Math.atan2(h,g)*(-180/3.1415926)-90);r.setScale(0);r.setOpacity(0);r.setAnchorPoint(ccp(0.5,1));r.runAction(cc.sequence(c,n));c=[];c.push(cc.delayTime(f));null!=e&&c.push(cc.callFunc(e));c.push(cc.delayTime(f));c.push(cc.callFunc(function(){null!=d&&d();m.removeFromParentAndCleanup(!0)}));this.setPosition(a);this.runAction(cc.sequence(c))}});
CommonLongLine.createColor=function(a,c,d,e,f,g){return CommonLongLine.create(c,d,e,f,g)};CommonLongLine.createWhite=function(a,c,d,e,f){return CommonLongLine.create(a,c,d,e,f)};CommonLongLine.createFirebolt=function(a,c,d,e,f){return CommonLongLine.create(a,c,d,e,f)};CommonLongLine.create=function(a,c,d,e,f){var g=new CommonLongLine(cc.Sprite.create());g.initLayer();g.fly(a,c,d,e,f);return g};CommonLongLine.createFiveFlyLine=function(a,c,d,e,f,g){return CommonLongLine.createColor(a,c,d,e,f,g)};PrefixPropAni=cw.Class({});
PrefixPropAni.playAddMoveAnimation=function(a,c,d){var e=a.tileUIDelegate.getStepUiPos();e.x+=60;var f=Sprite.createWithSpriteFrameName(GameIconHelper.getIconFrameName(11007));f.setPosition(ccp(UI_V_ORIG.x+UI_V_SIZE.width/2,UI_V_ORIG.y+UI_V_SIZE.height/2));var g=cc.scaleTo(1,2).easing(cc.easeBounceOut());f.setScale(0);f.runAction(g);g=cc.fadeIn(0.5);f.setOpacity(0);f.runAction(g);g=cc.delayTime(1);e=cc.moveTo(0.4,ccp(e.x,e.y));g=cc.sequence(g,e);f.runAction(g);g=cc.delayTime(1);e=cc.scaleTo(0.4,0.8);
g=cc.sequence(g,e);f.runAction(g);var h=0,e=function(){GameMusicManager.playEffect(GameMusicType.kBonusStepToLine);h+=1;a.tileUIDelegate.setMoveCount(a.theCurMoves+h,!1);f.runAction(cc.sequence(cc.scaleTo(0.2,1),cc.scaleTo(0.2,0.8)))},g=[];g.push(cc.delayTime(1.6));g.push(cc.callFunc(function(){GameMusicManager.playEffect(GameMusicType.kBonusStepToLine)}));g.push(cc.delayTime(0.6));for(var m=0;m<c;++m)g.push(cc.callFunc(e)),g.push(cc.delayTime(0.5));g.push(cc.fadeOut(0.2));g.push(cc.callFunc(function(){d();
f.removeFromParentAndCleanup(!0)}));f.runAction(cc.sequence(g));a.tileUIDelegate.effectLayer.addChild(f)};
PrefixPropAni.playChangePropAnimation=function(a,c,d,e){var f=a.tileUIDelegate.effectLayer,g=UI_V_ORIG.x+UI_V_SIZE.width/2,h=UI_V_ORIG.y+UI_V_SIZE.height/2,m=Sprite.createWithSpriteFrameName(GameIconHelper.getIconFrameName(11008));m.setPosition(ccp(g,h));a=cc.fadeIn(0.5);m.setOpacity(0);m.runAction(a);a=cc.scaleTo(1,1.8).easing(cc.easeBounceOut());m.setScale(0);m.runAction(a);var n=cc.delayTime(1);a=cc.fadeOut(0.5);a=cc.sequence(n,a);m.runAction(a);a=[];a.push(cc.delayTime(1.1));a.push(cc.callFunc(function(){GameMusicManager.playEffect(GameMusicType.kBonusStepToLine);
var a=CommonFlyLine.createWhite(ccp(g,h),c,null,null,0.5),e=CommonFlyLine.createWhite(ccp(g,h),d,null,null,0.5);f.addChild(a);f.addChild(e)}));a.push(cc.delayTime(0.5));a.push(cc.callFunc(function(){e&&e();m.removeFromParentAndCleanup()}));m.runAction(cc.sequence(a));f.addChild(m)};
PrefixPropAni.playAddMoveEffect=function(a,c,d){var e=GameIconHelper.getIconFrameName(10011);e.setPosition(c);a.tileUIDelegate.effectLayer.addChild(e);a=a.tileUIDelegate.getStepUiPos();c=[];c.push(cc.scaleTo(0.2,1.5,1.5));c.push(cc.moveTo(0.5,ccp(a.x+60,a.y)));c.push(cc.fadeOut(0.5));c.push(cc.callFunc(function(){e.removeFromParentAndCleanup(!0);d&&d()}));a=cc.sequence(c);e.runAction(a)};var TileBigBomb=cw.Class.extend(CocosNode,{init:function(){var a=Sprite.createWithSpriteFrameName("prop_11004.png");this.addChild(a)}});TileBigBomb.create=function(){var a=new TileBigBomb(cc.Node.create());a.init();return a};var TileBigCross=cw.Class.extend(CocosNode,{init:function(){var a=Sprite.createWithSpriteFrameName("prop_11003.png");this.addChild(a)}});TileBigCross.create=function(){var a=new TileBigCross(cc.Node.create());a.init();return a};TileClay=cw.Class.extend(TileSpread,{initColor:function(a){this.mainSprite.setColor(this.getColor(a))},getColor:function(a){return cw.ArrayList([FruitTypeConfig.kRandom,cc.color(255,255,255),FruitTypeConfig.kBlue,cc.color(19,204,237),FruitTypeConfig.kGreen,cc.color(138,242,27),FruitTypeConfig.kOrange,cc.color(170,74,25),FruitTypeConfig.kWhite,cc.color(214,206,219),FruitTypeConfig.kRed,cc.color(255,100,0),FruitTypeConfig.kYellow,cc.color(255,213,2)])[a]},initConfig:function(){this.normalFrame=1;this.downFrame=
this.upFrame=10;this.rightFrame=this.leftFrame=11;this.destoryFrame=0;this.upPoint=ccp(0,37);this.downPoint=ccp(0,-40);this.leftPoint=ccp(-37,0);this.rightPoint=ccp(37,0)}});TileClay.create=function(a){var c=new TileClay(cc.Node.create());c.name="clay";c.init();c.initColor(a);return c};TileCondiment=cw.Class.extend(CocosNode,{});TileCondiment.createCondimentGun=function(a){var c=Sprite.createWithSpriteFrameName("condiment_bottle_base.png");a==TileItemCondimentDirection.kLeft?c.setRotation(-90):a==TileItemCondimentDirection.kRight?c.setRotation(90):a==TileItemCondimentDirection.kDown&&c.setRotation(180);return c};
TileCondiment.playGunSpray=function(a,c){var d=Sprite.createWithSpriteFrameName("condiment_bottle_0.png");d.setAnchorPoint(ccp(0.55,0.35));a==TileItemCondimentDirection.kLeft?d.setRotation(-90):a==TileItemCondimentDirection.kRight?d.setRotation(90):a==TileItemCondimentDirection.kDown&&d.setRotation(180);var e=SpriteUtils.buildAnimate(SpriteUtils.buildFrames("condiment_bottle_%d.png",0,16));d.play(e,0,1,c,!0);return d};
TileCondiment.playElementSpray=function(a,c){var d=Sprite.createWithSpriteFrameName("condiment_elements_0.png");d.setVisible(!1);var e=cc.callFunc(function(){d.setVisible(!0);var a=SpriteUtils.buildAnimate(SpriteUtils.buildFrames("condiment_elements_%d.png",0,16));d.play(a,0,1,null,!0);c&&c()}),f=cc.delayTime(a),e=cc.sequence(f,e);d.runAction(e);return d};TileConveyorBeltSwitch=cw.Class.extend(CocosNode,{});TileConveyorBeltSwitch.createBrake=function(a){return a?SpriteUtils.buildSpriteWithAnimate("belt_switch_green%d",1,6,1,null,null,null,!0):SpriteUtils.buildSpriteWithAnimate("belt_switch_green%d",1,6,1)};
TileConveyorBeltSwitch.createGear=function(a){if(a){a=Sprite.createWithSpriteFrameName("belt_switch_right_0");var c=SpriteUtils.buildAnimate(SpriteUtils.buildFrames("belt_switch_right_%d",0,22))}else a=Sprite.createWithSpriteFrameName("belt_switch_left_0"),c=SpriteUtils.buildAnimate(SpriteUtils.buildFrames("belt_switch_left_%d",0,22));a.play(c,0);return a};TileConveyorBeltSwitch.createBrakeArea=function(a){return a?Sprite.createWithSpriteFrameName("belt_switch_green_area"):Sprite.createWithSpriteFrameName("belt_switch_red_area")};
TileConveyorBeltSwitch.createGearArea=function(a){return a?Sprite.createWithSpriteFrameName("belt_switch_right_area"):Sprite.createWithSpriteFrameName("belt_switch_left_area")};
TileConveyorBeltSwitch.createArrow=function(a,c,d,e){var f=SpriteUtils.buildFrames("belt_arrow_%d",0,3),f=SpriteUtils.buildAnimate(f,0.1),g=Sprite.createWithSpriteFrameName("belt_arrow_0");g.setOpacity(0);e||(a=c-a);a*=f.getDuration()/3;c=10+0.1*c-a;var h=[];h.push(cc.delayTime(a));h.push(cc.callFunc(function(){g.setOpacity(255)}));h.push(f);h.push(cc.callFunc(function(){g.setOpacity(0)}));h.push(cc.delayTime(c));g.runAction(cc.repeatForever(cc.sequence(h)));rotation=90*(d-1);e||(rotation+=180);g.setRotation(rotation);
return g};TileCutyPet=cw.Class.extend(CocosNode,{});TileCutyPet.create=function(){return SpriteUtils.buildSpriteWithAnimate("tile_cutypet_%d.png",0,25)};TileDiscolor=cw.Class.extend(CocosNode,{});TileDiscolor.create=function(a){if(0==a)return null;a=cc.formatStr("map_discolor_%d.png",a);return Sprite.createWithSpriteFrameName(a)};var kDangerousActionTag=1200,TileDropThing=cw.Class.extend(Sprite,{init:function(a){function c(){d&&(d.removeFromParentAndCleanup(!0),d=null);var a=SpriteUtils.buildFrames("block_bear_1_%d.png",0,1),a=SpriteUtils.buildAnimate(a);e.play(a,0,1,function(){d&&(d.removeFromParentAndCleanup(!0),d=null);e.runAction(cc.sequence(cc.delayTime(0.1),cc.callFunc(c)))})}var d=null,e=this;c();this.initLight()},initLight:function(){var a=Sprite.createWithSpriteFrameName(cc.formatStr("block_bear_light_%d.png",0)),
c=SpriteUtils.buildFrames("block_bear_light_%d.png",0,34),c=SpriteUtils.buildAnimate(c);a.setPositionXY(20,55);a.runAction(cc.repeatForever(cc.sequence(cc.delayTime(7*Math.random()+5),c)));this.addChild(a)},playInDangerAnimation:function(){this.stopActionByTag(kDangerousActionTag);var a=cc.scaleTo(0.4,1.1),c=cc.scaleTo(0.2,0.9),a=cc.repeatForever(cc.sequence(a,c));a.setTag(kDangerousActionTag);this.runAction(a)},stopInDangerAnimation:function(){this.stopActionByTag(kDangerousActionTag);this.setScale(1)}});
TileDropThing.create=function(a){var c=new TileDropThing(cc.Sprite.create());c.init(a);return c};var kTileElementAnimationType={kNormal:1,kLineCol:2,kLineRow:3,kCross:4,kBomb:5,kSelect:9,kDestroy:10};
TileElement=cw.Class.extend(CocosNode,{play:function(a,c){this.stopAllAnimations();a==kTileElementAnimationType.kNormal?this.playNormalAnimation():a==kTileElementAnimationType.kLineCol?this.playLineAnimation(a):a==kTileElementAnimationType.kLineRow?this.playLineAnimation(a):a==kTileElementAnimationType.kBomb?this.playBombAnimation(a,c):a==kTileElementAnimationType.kCross?this.playCrossAnimation(a,c):a==kTileElementAnimationType.kDestroy&&this.playDestroyAnimation()},stopAllAnimations:function(){this.mainSprite&&
this.mainSprite.setVisible(!1);this.mainSprite&&this.mainSprite.stopAllActions()},playNormalAnimation:function(){},playSelectAnimation:function(){this.mainSprite.removeFromParentAndCleanup(!0);this.mainSprite=Sprite.createWithSpriteFrameName(cc.formatStr("map_select_%d.png",this.color));this.addChild(this.mainSprite)},playAdviseAnimation:function(){this.mainSprite.removeFromParentAndCleanup(!0);this.mainSprite=Sprite.createWithSpriteFrameName(string.format("map_advise_%d.png",this.color));this.addChild(this.mainSprite)},
stopSelectAnimation:function(){this.mainSprite&&(this.mainSprite.setPosition(ccp(0,0)),this.mainSprite.stopAllActions())},playLineAnimation:function(a){},playBombAnimation:function(a,c){this.mainSprite.setVisible(!0);var d=this.name+"_bomb_%d.png";this.mainSprite.removeFromParentAndCleanup(!0);this.mainSprite=Sprite.createWithSpriteFrameName(cc.formatStr(d,0));this.mainSprite.name="mainSprite";this.addChild(this.mainSprite);d=SpriteUtils.buildFrames(d,0,30);d=SpriteUtils.buildAnimate(d);this.mainSprite.play(d);
this.mainSprite.setPositionY(this.mainSprite.getPositionY()-5)},playCrossAnimation:function(a,c){this.mainSprite.setVisible(!0);var d=this.name+"_cross_%d.png";this.mainSprite.removeFromParentAndCleanup(!0);this.mainSprite=Sprite.createWithSpriteFrameName(cc.formatStr(d,0));this.mainSprite.name="mainSprite";this.addChild(this.mainSprite);d=SpriteUtils.buildFrames(d,0,35);d=SpriteUtils.buildAnimate(d);this.mainSprite.play(d);this.mainSprite.setPositionY(this.mainSprite.getPositionY()+5)},playDestroyAnimation:function(){}});
TileElement.createByColor=function(a){return TileElement.create(FruitTypeImage.getImage(a))};TileElement.create=function(a){var c=new TileElement(cc.Node.create());c.name=a;c.color=FruitTypeImage.getColor(a);a=Sprite.createWithSpriteFrameName(cc.formatStr("map_select_%d.png",c.color));c.addChild(a);c.mainSprite=a;return c};var TileFire=cw.Class.extend(TileSpread,{initConfig:function(){this.normalFrame=1;this.rightFrame=this.leftFrame=this.downFrame=this.upFrame=22;this.destoryFrame=13;this.upPoint=ccp(1,33);this.downPoint=ccp(0,-35);this.leftPoint=ccp(-34,0);this.rightPoint=ccp(45,1)}});TileFire.create=function(){var a=new TileFire(cc.Node.create());a.name="fire";a.init();return a};
TileFire.playChangeAnimation=function(a){a=SpriteUtils.buildSpriteWithAnimate("fire_to_ash_%d.png",0,15,1,a);a.setAnchorPoint(ccp(0.48,0.53));return a};var kTileFiveAnimation={kNormal:1,kSelect:2,kDestroy:3},TileFive=cw.Class.extend(CocosNode,{play:function(a){a==kTileFiveAnimation.kNormal?this.playNormalAnimation():a==kTileFiveAnimation.kSelect?this.playSelectedAnimation():a==kTileFiveAnimation.kDestroy&&this.playDestroyAnimation()},playNormalAnimation:function(){this.mainSprite.stopAllActions();var a=this,c=cc.sequence(cc.callFunc(function(){SpriteUtils.playSpriteWithAnimate(a.mainSprite,"five_normal_%d.png",0,38,1)}),cc.delayTime(38*TileConst_AnimationTime_FPS));
this.mainSprite.runAction(cc.repeatForever(c))},playSelectedAnimation:function(){},stop2FiveDestroyAnimation:function(){this.effectLayer.finish();var a=this,c=TileFive.createFiveBobmEffect(function(){a.removeFromParentAndCleanup(!0)},1);c.runAction(cc.sequence(cc.delayTime(0.2),cc.scaleTo(1,5)));this.addChild(c)},play2FiveDestroyAnimation:function(){this.mainSprite.stopAllActions();this.mainSprite.setVisible(!1);var a=TileFive.create2FiveDestroyEffect(),c=[];c.push(cc.scaleTo(0.5,1));c.push(cc.scaleTo(0.5,
1));a.setScale(0.5);a.runAction(cc.sequence(c));this.addChild(a);this.effectLayer=a;a=SpriteUtils.buildSpriteWithAnimate("five_destroy_%d",0,16,1,function(a){a&&(a.stopAllActions(),a.runAction(cc.fadeOut(0.5)))});this.addChild(a)},createFiveDestroyEffectOne:function(a,c){return TileFive.createFiveDestroyEffectForever(a,0.3,1,c)},jumpToPos:function(a,c){var d=[];d.push(cc.jumpTo(1,a,TileConst_Tile_Height,1));d.push(cc.callFunc(c));this.runAction(cc.sequence(d))},playDestroyAnimation:function(){this.mainSprite.stopAllActions();
this.mainSprite.setVisible(!1);var a=SpriteUtils.buildSpriteWithAnimate("five_destroy_%d",0,16,1,function(a){a&&(a.stopAllActions(),a.runAction(cc.fadeOut(0.5)))});this.addChild(a);var c=this;this.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){c.stopAllActions();c.dp(new CWEvent(EVENTS.Complete,kTileFiveAnimation.kDestroy,c));c.removeFromParentAndCleanup(!0)})))}});
TileFive.create=function(){var a=new TileFive(cc.Node.create());a.name="TileFive";var c=Sprite.createWithSpriteFrameName("five_gas_0");a.mainSprite=c;a.addChild(c);return a};TileFive.createFiveBobmEffect=function(a,c){var d=CocosNode.create(),e=SpriteUtils.buildSpriteWithAnimate("five_gas_%d",0,45,c,a);e.setScale(2);d.addChild(e);return d};
TileFive.create2FiveDestroyEffect=function(a){var c=CocosNode.create(),d=SpriteUtils.buildSpriteWithAnimate("five_gas_%d",0,45);d.setScale(2);c.addChild(d);c.finish=function(){d&&(d.stopAllActions(),d.runAction(cc.fadeOut(0.5)),d.removeFromParentAndCleanup(!0));a&&a()};return c};TileFive.createFiveDestroyEffectForever=function(a,c,d,e){a=TileFive.create2FiveDestroyEffect();c=[];c.push(cc.scaleTo(0.5,1));a.setScale(0.5);a.runAction(cc.sequence(c));return a};
TileFive.play2FiveExplodeAnimation=function(a){var c=CocosNode.create(),d=[];d.push(cc.delayTime(0));d.push(cc.callFunc(function(){for(var d=0;d<a.length;++d){var f=a[d],f=c.convertToNodeSpace(f),f=CommonLongLine.createFirebolt(ccp(0,0),f,null,null,0.5);c.addChild(f)}}));c.runAction(cc.sequence(d));c.setScale(0.5);return c};TileFruit=cw.Class.extend(CocosNode,{});TileFruit.create=function(a,c){var d="map_fruit_";c&&0<c&&(d+="condiment_");d=string.format(d+"%d.png",a);d=Sprite.createWithSpriteFrameName(d);d.color=a;d.playNormalAnimation=TileFruit.playNormalAnimation;d.playSelectAnimation=TileFruit.playSelectAnimation;d.condiment=c||0;d.setColor(cc.color(255,255,255));d.setPositionXY(0,0);return d};
TileFruit.playNormalAnimation=function(a){a="map_fruit_";this.condiment&&0<this.condiment&&(a+="condiment_");this.setDisplayFrameName(string.format(a+"%d.png",this.color))};TileFruit.playSelectAnimation=function(a){a="map_select_";this.condiment&&0<this.condiment&&(a+="condiment_");this.setDisplayFrameName(string.format(a+"%d.png",this.color))};var TileGiftBox=cw.Class.extend(CocosNode,{initColor:function(a){this.color=a;var c=SpriteUtils.buildSpriteWithAnimate("tile_giftbox_light_%d.png",0,17,null,null,1/24);c.setVisible(!1);this.addChild(c);this.light=c;a=Sprite.createWithSpriteFrameName("tile_giftbox_bg_"+a+".png");this.addChild(a)},createFrBox:function(a){var c=CocosNode.create(),d=Sprite.createWithSpriteFrameName("tile_giftbox_fr_"+this.color+".png");d.setPositionXY(0,3*TileConst_Tile_Height);d.setOpacity(0);var e=[];e.push(cc.moveTo(0.5,
ccp(0,0)));e.push(cc.fadeIn(0.4));d.runAction(cc.sequence(cc.spawn(e),cc.callFunc(a)));c.addChild(d);return c},setLightVisible:function(a){this.light.setVisible(a)}});TileGiftBox.create=function(a){var c=new TileGiftBox(cc.Node.create());c.initColor(a);return c};TileHelmet=cw.Class.extend(CocosNode,{});TileHelmet.create=function(){return Sprite.createWithSpriteFrameName("block_helmet_normal.png")};TileHelmet.playDestroyAnimation=function(a){return SpriteUtils.buildSpriteWithAnimate("block_helmet_destroy_%d.png",0,18,1,a)};var TileIce=cw.Class.extend(CocosNode,{});TileIce.createIce=function(a){if(0==a)return null;a=cc.formatStr("ice_%d.png",a);return Sprite.createWithSpriteFrameName(a)};TileIce.createIceCleanAction=function(a){return SpriteUtils.buildSpriteWithAnimate("ice_break_%d.png",0,18,1,function(c){c.dp(new CWEvent(EVENTS.Complete,null,c));c.removeFromParentAndCleanup(!0);a&&a()})};var kTileJumpCatAnimation={kNormal:1,kUp:2,kDown:3,kLeft:4,kRight:5,kDestroy:6},TileJumpCat=cw.Class.extend(CocosNode,{play:function(a){this.mainSprite.stopAllActions();a==kTileJumpCatAnimation.kUp?this.playDirectionAnimation(a):a==kTileJumpCatAnimation.kDown?this.playDirectionAnimation(a):a==kTileJumpCatAnimation.kLeft?this.playDirectionAnimation(a):a==kTileJumpCatAnimation.kRight?this.playDirectionAnimation(a):a==kTileJumpCatAnimation.kDestroy&&this.playDestroyAnimation()},playDirectionAnimation:function(a){this.mainSprite.setVisible(!1);
var c=this.name+"_jump",d=null,e=0,f=ccp(0.5,0.5);a==kTileJumpCatAnimation.kUp?(c+="_up",d=ccp(0,-35),f=ccp(0.5,0),e=23):a==kTileJumpCatAnimation.kDown?(c+="_down",d=ccp(0,35),f=ccp(0.5,1),e=23):a==kTileJumpCatAnimation.kLeft?(c+="_left",d=ccp(35,-35),f=ccp(1,0),e=22):a==kTileJumpCatAnimation.kRight&&(c+="_right",d=ccp(-35,-35),f=ccp(0,0),e=22);var g=this,c=SpriteUtils.buildSpriteWithAnimate(c+"_%d.png",0,e,1,function(){g.dp(new CWEvent(EVENTS.Complete,a,this))});c.setPosition(d);c.setAnchorPoint(f);
this.addChild(c)},playDestroyAnimation:function(){this.mainSprite.setVisible(!1);var a=this,c=SpriteUtils.buildSpriteWithAnimate(this.name+"_destroy_%d.png",0,20,1,function(){a.dp(new CWEvent(EVENTS.Complete,kTileJumpCatAnimation.kDestroy,a))});this.addChild(c)}});TileJumpCat.create=function(){var a=new TileJumpCat(cc.Node.create());a.name="block_cat";var c=Sprite.createWithSpriteFrameName(a.name+"_normal_0.png");a.addChild(c);a.mainSprite=c;return a};var TileLawn=cw.Class.extend(CocosNode,{normal:function(a){this.mainSprite||(this.level=a,this.mainSprite=Sprite.createWithSpriteFrameName("lawn_"+a+".png"),this.setRefObject(this.mainSprite.refObject))},addLevelUpAni:function(a){var c=this;this.mainSprite.stopAllActions();var d=SpriteUtils.buildFrames("lawn_"+a+"_%d.png",0,[20,22][a]),d=SpriteUtils.buildAnimate(d);this.mainSprite.play(d,0,1,function(){c.mainSprite.stopAllActions()});1==a?this.mainSprite.setAnchorPoint(ccp(0.5,0.49)):2==a&&this.mainSprite.setAnchorPoint(ccp(0.45,
0.52))},buildFrontLevelUpAni:function(a,c){if(!(1>=a))return SpriteUtils.buildSpriteWithAnimate("lawn_"+a+"_up_%d.png",0,[0,20][a],1,c)}});TileLawn.create=function(a){var c=new TileLawn(cc.Node.create());c.normal(a);return c};TileLock=cw.Class.extend(CocosNode,{});TileLock.create=function(){return Sprite.createWithSpriteFrameName("block_lock.png")};TileLock.createLockAction=function(){return SpriteUtils.buildSpriteWithAnimate("block_lock_destroy_%d.png",0,13,1,function(a){a.dp(new CWEvent(EVENTS.Complete,null,a));a.removeFromParentAndCleanup(!0)})};var TilePeanut=cw.Class.extend(CocosNode,{normal:function(a){this.mainSprite=Sprite.createWithSpriteFrameName("peanut_normal_0.png");this.addChild(this.mainSprite);a.width>a.height?(this.mainSprite.setRotation(-90),this.mainSprite.setPosition(ccp(-35,35)),this.mainSprite.setAnchorPoint(ccp(1,1)),this.mainSprite.setScale(a.height/2)):(this.mainSprite.setPosition(ccp(-35,35)),this.mainSprite.setAnchorPoint(ccp(0,1)),this.mainSprite.setScale(a.width/2))},playLightAnimation:function(){FrameLoader.loadArmature("dragonbones/tile_peanut_light");
var a=ArmatureNode.create("tile_peanut_light");a.playByIndex(0);a.setPosition(ccp(154,296));a.setRotation(90);this.mainSprite.addChildZOrder(a,-1)},disappear:function(a){a&&a()}});TilePeanut.create=function(a){var c=new TilePeanut(cc.Node.create());c.normal(a);return c};var TilePortal=cw.Class({});TilePortal.buildPortalEnter=function(){return SpriteUtils.buildSpriteWithAnimate("portal_enter_%d.png",0,40)};TilePortal.buildPortalExit=function(){return SpriteUtils.buildSpriteWithAnimate("portal_exit_%d.png",0,40)};TilePortal.buildPortalBoth=function(){var a=TilePortal.buildPortalEnter(),c=TilePortal.buildPortalExit();a.setPositionXY(0,-42);a.setAnchorPoint(ccp(0,0));c.addChild(a);return c};TileSand=cw.Class.extend(Sprite,{});TileSand.createSand=function(){var a=new TileSand(cc.Sprite.createWithSpriteFrameName("block_sand_normal_0.png"));a.textureName="block_sand";return a};TileSand.createSandCleanAction=function(a){var c=new TileSand(cc.Sprite.createWithSpriteFrameName("block_sand_clean_0.png"));return SpriteUtils.playSpriteWithAnimate(c,"block_sand_clean_%d.png",0,14,1,a)};
TileSand.createMoveAnim=function(a,c){var d={x:0,y:0},e;if(-1==a.dr&&0==a.dc)e="block_sand_up_",d={x:-1,y:35};else if(1==a.dr&&0==a.dc)e="block_sand_down_",d={x:-1,y:-35};else if(0==a.dr&&1==a.dc)e="block_sand_right_",d={x:34,y:-1};else if(0==a.dr&&-1==a.dc)e="block_sand_left_",d={x:-36.5,y:0};else{print("invalid direction for sand to move:",a);return}var f=new TileSand(cc.Sprite.createWithSpriteFrameName(e+"0.png"));SpriteUtils.playSpriteWithAnimate(f,e+"%d.png",0,18,1,c);return[f,d]};var TileSandstorm=cw.Class.extend(TileSpread,{initConfig:function(){this.normalFrame=21;this.rightFrame=this.leftFrame=this.downFrame=this.upFrame=16;this.destoryFrame=18;this.upPoint=ccp(1,33);this.downPoint=ccp(0,-35);this.leftPoint=ccp(-34,0);this.rightPoint=ccp(27,1)}});TileSandstorm.create=function(){var a=new TileSandstorm(cc.Node.create());a.name="sandstorm";a.init();return a};TileSelectBox=cw.Class.extend(CocosNode,{});TileSelectBox.create=function(){return SpriteUtils.buildSpriteWithAnimate("tile_select_%d.png",0,40,null,null,0.025)};var kTileSixAnimation={kNormal:1,kSelect:2,kDestroy:3},TileSix=cw.Class.extend(CocosNode,{play:function(a){a==kTileSixAnimation.kNormal?this.playNormalAnimation():a==kTileSixAnimation.kSelect?this.playSelectedAnimation():a==kTileSixAnimation.kDestroy&&this.playDestroyAnimation()},playNormalAnimation:function(){this.mainSprite.stopAllActions();var a=cc.sequence(cc.callFunc(function(){SpriteUtils.playSpriteWithAnimate(this.mainSprite,this.getImageName()+"%d.png",0,50,1)}),cc.delayTime(50*TileConst_AnimationTime_FPS));
this.mainSprite.runAction(cc.repeatForever(a))},getImageName:function(){return FruitTypeImage.getImage(1)+"_six_"},playSelectedAnimation:function(){},playDestroyAnimation:function(){this.mainSprite.stopAllActions();this.mainSprite.setVisible(!1);var a=SpriteUtils.buildSpriteWithAnimate("five_destroy_%d",0,16,1,function(a){a&&(a.stopAllActions(),a.runAction(cc.fadeOut(0.5)))});this.addChild(a);var c=this;this.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){c.stopAllActions();c.dp(new CWEvent(EVENTS.Complete,
kTileSixAnimation.kDestroy,c));c.removeFromParentAndCleanup(!0)})))},jumpToPos:function(a,c){var d=[];d.push(cc.jumpTo(0.3,a,70,1));d.push(cc.callFunc(function(){GameMusicManager.playEffect(GameMusicType.kEliminateSixStep);c&&c()}));this.runAction(cc.sequence(d))}});TileSix.create=function(a){var c=new TileSix(cc.Node.create());c.name="TileSix";c.color=a;a=Sprite.createWithSpriteFrameName(c.getImageName()+"0.png");a.setPosition(ccp(0,15));c.mainSprite=a;c.addChild(a);return c};TileSlide=cw.Class.extend(CocosNode,{init:function(a){this.data=a;this.color=1;var c=a.line[a.index-2],d=a.line[a.index-1],e=a.line[a.index],f=a.line[a.index+1];a=a.line[a.index+2];null==d&&(d=e,this.isStart=!0);null==f&&(f=e,this.isOver=!0);f&&f.type==SlideType.kNone&&(f=e,this.isOver=!0);if(d&&e&&f)if(d.type==e.type&&e.type==f.type)c&&c.type!=d.type?(a=this.getflipXY(4,!0,c,d,e,f,a),c=a[0],d=a[1],this.initByDir(e.type,4,c,d)):this.initByDir(e.type,3);else if(d.type==e.type&&e.type!=f.type)c&&c.type!=
d.type?c.type==f.type?(a=this.getflipXY(6,!0,c,d,e,f,a),c=a[0],d=a[1],a=a[2],this.initByDir(e.type,6,c,d,a)):(a=this.getflipXY(5,!0,c,d,e,f,a),c=a[0],d=a[1],a=a[2],this.initByDir(e.type,5,c,d,a)):(a=this.getflipXY(4,!1,c,d,e,f,a),c=a[0],d=a[1],a=a[2],this.initByDir(e.type,4,c,d,a));else if(d.type!=e.type&&e.type==f.type){var g=0;c&&c.type==e.type&&(g=1);a=this.getflipXY(g,!1,c,d,e,f,a);c=a[0];d=a[1];a=a[2];this.initByDir(e.type,g,c,d,a)}else d.type!=e.type&&e.type!=f.type&&(g=0,c&&c.type==e.type&&
a&&a.type==e.type?g=d.type==f.type?2:1:c&&c.type==e.type?(g=1,d.type==f.type&&(g=2)):a&&a.type==e.type?g=d.type==f.type&&c&&this.isOppositeDir(e.type,c.type)?2:d.type!=f.type?0:1:d.type==f.type&&(g=1),a=this.getflipXY(g,!1,c,d,e,f,a),c=a[0],d=a[1],a=a[2],this.initByDir(e.type,g,c,d,a))},initByDir:function(a,c,d,e,f){!this.isStart&&!this.isOver||3!=c&&4!=c&&5!=c&&6!=c||(c=7,this.isOver&&(a=this.changeDir(a,SlideType.kUp,SlideType.kDown),a=this.changeDir(a,SlideType.kLeft,SlideType.kRight)));var g=
this.nameByType(c),g=cc.Sprite.createWithSpriteFrameName(g);g.setRotation(this.rotateByDir(a,c));d&&g.setFlipX(d);e&&g.setFlipY(e);null!=f&&g.setRotation(f);this.setRefObject(g)},changeDir:function(a,c,d){return a==c?d:a==d?c:a},nameByType:function(a){return"tile_slide_"+this.color+"_"+a+".png"},isOppositeDir:function(a,c){a==SlideType.kDown?a=SlideType.kUp:a==SlideType.kRight&&(a=SlideType.kLeft);c==SlideType.kDown?c=SlideType.kUp:c==SlideType.kRight&&(c=SlideType.kLeft);return a==c},rotateByDir:function(a,
c){if(3<=c){if(a==SlideType.kUp)return 270;if(a==SlideType.kDown)return 90;if(a==SlideType.kLeft)return 180}else{if(a==SlideType.kUp)return 180;if(a!=SlideType.kDown){if(a==SlideType.kLeft)return 90;if(a==SlideType.kRight)return 270}}return 0},getflipXY:function(a,c,d,e,f,g,h){if(4==a){if(f.type==SlideType.kUp)return c?d.type==SlideType.kLeft?[!0,!1,null]:[!0,!0,null]:g.type==SlideType.kLeft?[!1,!0]:[!1,!1];if(f.type==SlideType.kDown)return c?d.type==SlideType.kLeft?[!1,!1]:[!1,!0]:g.type==SlideType.kLeft?
[!0,!0]:[!0,!1];if(f.type==SlideType.kLeft)return c?d.type==SlideType.kUp?[!0,!0]:[!0,!1]:g.type==SlideType.kUp?[!1,!1]:[!1,!0];if(f.type==SlideType.kRight)return c?d.type==SlideType.kUp?[!1,!0]:[!1,!1]:g.type==SlideType.kUp?[!0,!1]:[!0,!0]}else if(5==a)if(f.type==SlideType.kUp||f.type==SlideType.kDown){if(e.type==SlideType.kLeft||g.type==SlideType.kLeft)return[null,!0,90]}else{if(f.type==SlideType.kLeft||f.type==SlideType.kRight)if(e.type==SlideType.kDown||g.type==SlideType.kDown)return[null,!0,
0]}else if(6==a){if(f.type==SlideType.kUp)return g.type==SlideType.kLeft?[null,null,90]:[null,!0,90];if(f.type==SlideType.kDown)return g.type==SlideType.kLeft?[null,!0,90]:[null,null,90];if(f.type==SlideType.kLeft)return g.type==SlideType.kUp?[null,!0,0]:[null,null,0];if(f.type==SlideType.kRight)return g.type==SlideType.kUp?[null,null,0]:[null,!0,0]}else if(0==a){if(f.type==SlideType.kUp)return e.type==SlideType.kLeft?[null,null,180]:[null,null,90];if(f.type==SlideType.kDown)return e.type==SlideType.kLeft?
[null,null,270]:[null,null,0];if(f.type==SlideType.kLeft)return e.type==SlideType.kUp?[null,null,0]:[null,null,90];if(f.type==SlideType.kRight)return e.type==SlideType.kUp?[null,null,270]:[null,null,180]}else if(1==a){if(f.type==SlideType.kUp)return e.type==SlideType.kLeft?g.type==SlideType.kLeft?[null,null,180]:[null,!0,90]:g.type==SlideType.kRight?[!0,null,180]:[null,null,90];if(f.type==SlideType.kDown)return e.type==SlideType.kLeft?g.type==SlideType.kLeft?[!0,null,0]:[null,null,270]:g.type==SlideType.kRight?
[null,null,0]:[!0,null,90];if(f.type==SlideType.kLeft)return e.type==SlideType.kUp?g.type==SlideType.kUp?[!0,null,90]:[null,null,0]:g.type==SlideType.kDown?[null,null,90]:[null,!0,0];if(f.type==SlideType.kRight)return e.type==SlideType.kUp?g.type==SlideType.kUp?[null,null,270]:[!0,null,0]:g.type==SlideType.kDown?[null,!0,90]:[null,null,180]}else if(2==a){if(f.type==SlideType.kUp)return e.type==SlideType.kLeft?[null,null,180]:[!0,null,180];if(f.type==SlideType.kDown)return e.type==SlideType.kLeft?
[!0,null,0]:[null,null,0];if(f.type==SlideType.kLeft)return e.type==SlideType.kUp?[null,null,0]:[null,null,90];if(f.type==SlideType.kRight)return e.type==SlideType.kUp?[null,null,270]:[null,null,180]}return[]},createColorArrow:function(a,c){var d=cc.Sprite.createWithSpriteFrameName("#tile_slide_color_arrow_"+this.color+".png"),e=0;c==SlideType.kUp?(e=180,d.setPosition(ccp(0,a&&-25||25))):c==SlideType.kDown?(e=0,d.setPosition(ccp(0,a&&25||-25))):c==SlideType.kLeft?(e=90,d.setPosition(ccp(a&&25||-25,
0))):c==SlideType.kRight&&(e=270,d.setPosition(ccp(a&&-25||25,0)));var f=this.getRotation();CCNodeUtils.changeParent(d,this.refObject,0,0);d.setRotation(e-f)}});
TileSlide.createArrow=function(a,c){var d=SpriteUtils.buildFrames("tile_slide_arrow_%d.png",0,3),d=SpriteUtils.buildAnimate(d,0.1),e=Sprite.createWithSpriteFrameName("tile_slide_arrow_0.png");e.setOpacity(0);var f=d.getDuration()/3*a,g=15-f,h=[];h.push(cc.delayTime(f));h.push(cc.callFunc(function(){e.setOpacity(255)}));h.push(d);h.push(cc.callFunc(function(){e.setOpacity(0)}));h.push(cc.delayTime(g));e.runAction(cc.repeatForever(cc.sequence(h)));c==SlideType.kUp?e.setRotation(180):c==SlideType.kDown?
e.setRotation(0):c==SlideType.kLeft?e.setRotation(90):c==SlideType.kRight&&e.setRotation(270);return e};TileSlide.create=function(a){var c=new TileSlide(cc.Sprite.create());c.init(a);return c};var TileStone=cw.Class.extend(CocosNode,{});TileStone.create=function(a,c){if(0==a)return null;var d=cc.formatStr("block_stone_%d.png",a);c==TileItemShowType.kAsh&&(d=cc.formatStr("block_ash_%d.png",a));return Sprite.createWithSpriteFrameName(d)};
TileStone.createStoneClearAction=function(a,c){var d="stone_clean_1_%d.png",e=20;c==TileItemShowType.kAsh&&(d=cc.formatStr("ash_clean_%d",a)+"_%d.png",e=1==a?22:19);return SpriteUtils.buildSpriteWithAnimate(d,0,e,1,function(a){a.dp(new CWEvent(EVENTS.Complete,null,a));a.removeFromParentAndCleanup(!0)})};var TileTransDoor=cw.Class.extend(CocosNode,{initData:function(a,c){this.position=ccp(0,TileConst_Tile_Width/2);this.rotation=0;this.beltType=a;this.rotation=a==ConveyorBeltType.kStart?90*(c-2):90*c},initTile:function(a,c){this.beltDoorType=c;this.isYellow=!1;var d;null!=c?a==ConveyorBeltType.kStart?(d=SpriteUtils.buildSpriteWithAnimate("belt_blue_door_%d",0,31),d.setAnchorPoint(ccp(0.48,0.53))):(d=SpriteUtils.buildSpriteWithAnimate("belt_yellow_door_%d",0,31,null,null,null,null,!0),d.setAnchorPoint(ccp(0.5,
0.59)),this.isYellow=!0):(d=a==ConveyorBeltType.kStart?SpriteUtils.buildSpriteWithAnimate("belt_blue_door_%d",0,31):SpriteUtils.buildSpriteWithAnimate("belt_blue_door_%d",0,31,null,null,null,null,!0),d.setAnchorPoint(ccp(0.48,0.53)));d.setPosition(this.position);this.addChild(d);this.door=d;this.setRotation(this.rotation)},playTransAnimation:function(){},changeTransAnimation:function(){this.door.stopAllActions();if(this.beltDoorType){var a=this.beltType!=ConveyorBeltType.kStart;this.isYellow?SpriteUtils.playSpriteWithAnimate(this.door,
"belt_yellow_door_%d",0,31,null,null,null,null,a):SpriteUtils.playSpriteWithAnimate(this.door,"belt_blue_door_%d",0,31,null,null,null,null,a)}else this.beltType==ConveyorBeltType.kStart?SpriteUtils.playSpriteWithAnimate(this.door,"belt_blue_door_%d",0,31):SpriteUtils.playSpriteWithAnimate(this.door,"belt_blue_door_%d",0,31,null,null,null,null,!0);this.beltType==ConveyorBeltType.kStart?this.beltType=ConveyorBeltType.kEnd:this.beltType==ConveyorBeltType.kEnd&&(this.beltType=ConveyorBeltType.kStart)}});
TileTransDoor.create=function(a,c,d){var e=new TileTransDoor(cc.Node.create());e.initData(a,c);e.initTile(a,d);return e};var TileWatermelon=cw.Class.extend(CocosNode,{init:function(a){var c=TileWatermelon.initSprite(a);this.effectSprite=c;this.addChild(c);this.targetLevel=this.level=a;this.isPlaying=!1},initSprite:function(a){var c=0,d=null,e=a;if(1==a)c=1,d=ccp(0,0);else if(2==a)c=1,d=ccp(0,0);else if(3==a||4==a)c=1,d=ccp(0,0),e=3;e="watermelon_level_"+e+"_%d.png";a=4==a?SpriteUtils.buildSpriteWithAnimate(e,0,c,0):Sprite.createWithSpriteFrameName(cc.fromatStr(e,0));a.setPosition(d);return a},_playUpgradeAnimation:function(a){this.isPlaying=
!0;var c=this,d=0;if(1==a)d=23;else if(2==a)d=20;else if(3==a)d=24;else if(4<=a)return;a="watermelon_level_"+a+"_%d.png";this.effectSprite.removeFromParentAndCleanup(!0);this.effectSprite=SpriteUtils.buildSpriteWithAnimate(a,0,d,1,function(){c.playUpgradeAnimationComplete()});this.addChild(this.effectSprite);this.effectSprite.setPosition(ccp(0,0))},playUpgradeAnimationComplete:function(){this.level+=1;this.targetLevel>this.level?this._playUpgradeAnimation(this.level):this.isPlaying=!1},playUpgradeAnimation:function(a){this.targetLevel+=
a;this.isPlaying||this._playUpgradeAnimation(this.level)},playReplaceAnimation:function(){var a=this,c=ccp(0,0);this.effectSprite.removeFromParentAndCleanup(!0);this.effectSprite=SpriteUtils.buildSpriteWithAnimate("watermelon_level_3_%d.png",0,1,1,function(){a.effectSprite.setVisible(!1);a.dp(new CWEvent(EVENTS.Complete,null,a))});this.addChild(this.effectSprite);this.effectSprite.setPosition(c);c=cc.fromatStr(GameMusicType.kWatermelonUpgrade,3);GameMusicManager.playEffect(c)},playDestroyAnimation:function(){this.effectSprite.stopAllActions();
this.effectSprite.setVisible(!1);var a=this;this.runAction(cc.sequence(cc.delayTime(0),cc.callFunc(function(){a.stopAllActions();a.dp(new CWEvent(EVENTS.Complete,kTileFiveAnimation.kDestroy,a));a.removeFromParentAndCleanup(!0)})))}});TileWatermelon.create=function(a){var c=new TileWatermelon(cc.Node.create());c.name="watermelon";c.init(a);return c};
TileWatermelon.createFlyEffect=function(){var a=new TileWatermelon(cc.Node.create()),c=SpriteUtils.buildSpriteWithAnimate("watermelon_fly_%d.png",0,23,1,function(){a.dp(new CWEvent(EVENTS.Complete,null,a))});a.effectSprite=c;a.addChild(c);return a};TileWorm=cw.Class.extend(Sprite,{playNormalAnimation:function(){this.stopAllActions();SpriteUtils.playSpriteWithAnimate(this,this.textureName+"_normal_%d.png",0,31)},playWakeupAnimation:function(a){this.stopAllActions();var c=this;SpriteUtils.playSpriteWithAnimate(this,this.textureName+"_dizziness_%d.png",0,26,1,function(){c.playNormalAnimation();a()},null,null,!0)},playDizzinessAnimation:function(a){this.stopAllActions();SpriteUtils.playSpriteWithAnimate(this,this.textureName+"_dizziness_%d.png",
0,26,1);a()},playMoveAnimation:function(a,c){this.stopAllActions();SpriteUtils.playSpriteWithAnimate(this,this.textureName+"_move_%d.png",0,18);var d=[];d.push(cc.moveTo(0.3,a).easing(cc.easeExponentialIn()));d.push(cc.callFunc(c));this.runAction(cc.sequence(d))},playEatAnimation:function(a){this.stopAllActions();var c=this;SpriteUtils.playSpriteWithAnimate(this,this.textureName+"_move_%d.png",0,18,1,function(){c.playNormalAnimation();a()},null,null,!0)},playDestroyAnimation:function(a){this.stopAllActions();
this.setDisplayFrameName(this.textureName+"_destroy.png");this.runAction(cc.sequence(cc.scaleTo(0.5,0),cc.callFunc(a)))}});TileWorm.create=function(){var a=new TileWorm(cc.Sprite.createWithSpriteFrameName("#block_worm_normal_0.png"));a.textureName="block_worm";a.playNormalAnimation();return a};var TimebackAnimation=cw.Class.extend(CocosNode,{});TimebackAnimation.create=function(a){var c=CocosNode.create();FrameLoader.loadArmature("dragonbones/prop_ani_back");var d=ArmatureNode.create("prop_ani_back");d.playByIndex(0);d.setTimeScale(0.75);c.addChild(d);d=[];d.push(cc.delayTime(3));d.push(cc.callFunc(function(){c.removeFromParentAndCleanup(!0);a&&a()}));c.runAction(cc.sequence(d));return c};LevelTargetCollectAnimation=cw.Class.extend(CocosNode,{init:function(a){this.tileLogic=a;this.tileLogic.tileView.addChild(this)},play:function(a){}});LevelTargetCollectAnimation.create=function(a){var c=new LevelTargetCollectAnimation(cc.Node.create());c.init(a);return c};LevelTargetCollectPeanutAnimation=cw.Class.extend(LevelTargetCollectAnimation,{play:function(a){var c=TilePeanut.create(this.data);this.changePeanutAnchor(c.mainSprite);c.mainSprite.setPosition(this.getFromPoint());var d=[];d.push(cc.jumpTo(0.5,this.getFromPoint(),TileConst_Tile_Height/2,1));d.push(cc.rotateTo(0.5,0));var e=[];e.push(cc.moveTo(0.5,this.getToPoint()));e.push(cc.fadeTo(0.5,100));e.push(cc.scaleTo(0.5,0.2));var f=this,g=[];g.push(cc.spawn(d));g.push(cc.spawn(e));g.push(cc.callFunc(function(){f.removeFromParentAndCleanup(!0);
a&&a()}));c.mainSprite.runAction(cc.sequence(g));this.addChild(c)},getToPoint:function(){var a=this.tileLogic.tileUIDelegate.getTargetUiPos();return this.getParent().convertToNodeSpace(a)},getFromPoint:function(){var a=this.tileLogic.tileView.getTileItemPosition(this.data.r,this.data.c);return this.data.width>this.data.height?ccp(a.x+(this.data.width-1)*TileConst_Tile_Width,a.y-(this.data.height-1)*TileConst_Tile_Height/2):ccp(a.x+(this.data.width-1)*TileConst_Tile_Width/2,a.y)},setData:function(a){this.data=
a},changePeanutAnchor:function(a){this.data.width>this.data.height?a.setAnchorPoint(ccp(0.5,0.5/this.data.width)):a.setAnchorPoint(ccp(0.5,1-0.5/this.data.height))}});LevelTargetCollectPeanutAnimation.create=function(a){var c=new LevelTargetCollectPeanutAnimation(cc.Node.create());c.init(a);return c};BasePropOperation=cw.Class({ctor:function(a,c){this.tileView=a;this.controller=c},onEnter:function(){assert(!1,"please implement")},onExit:function(){assert(!1,"please implement")},handleComplete:function(){assert(!1,"please implement")},setCurrentState:function(a){this.currentState=a;a.name&&printf("set state:"+a.name)},handleTouchBegin:function(a,c){assert(!1,"please implement")},handleTouchMove:function(a,c){assert(!1,"please implement")},handleTouchEnd:function(a,c){assert(!1,"please implement")},
isEqualPos:function(a,c){return a.x==c.x&&a.y==c.y}});PropOperationState=cw.Class({ctor:function(a){this.name=a}});CrossEffectOperation=cw.Class.extend(BasePropOperation,{ctor:function(a,c){this._super(a,c);this.waitingState=new PropOperationState("waitingState");this.setCurrentState(this.waitingState)},handleTouchBegin:function(a,c){var d=this.tileView.touchAtPoint(a,c);d&&this.tileView.tileLogic.isItemInTile(d.x,d.y)?this.currentState==this.waitingState&&(this.itemPos=d,this.handleComplete()):this.tileView.usePropCancelled()},handleTouchMove:function(a,c){},handleTouchEnd:function(a,c){},onEnter:function(){printf("\x3e\x3e\x3e enter CrossEffectOperation")},
onExit:function(){printf("\x3c\x3c\x3c exit  CrossEffectOperation")},handleComplete:function(){printf("CrossEffectOperation.handleComplete()");if(this.controller)this.controller.onInteractionComplete({itemPos:this.itemPos});this.onEnter()}});DetonateBombOperation=cw.Class.extend(BasePropOperation,{ctor:function(a,c){this._super(a,c);this.waitingState=new PropOperationState("waitingState");this.setCurrentState(this.waitingState)},handleTouchBegin:function(a,c){var d=this.tileView.touchAtPoint(a,c);d&&this.tileView.tileLogic.isItemInTile(d.x,d.y)?this.currentState==this.waitingState&&(this.itemPos=d,this.handleComplete()):this.tileView.usePropCancelled()},handleTouchMove:function(a,c){},handleTouchEnd:function(a,c){},onEnter:function(){printf("\x3e\x3e\x3e enter DetonateBombOperation")},
onExit:function(){printf("\x3c\x3c\x3c exit  DetonateBombOperation")},handleComplete:function(){printf("DetonateBombOperation.handleComplete()");if(this.controller)this.controller.onInteractionComplete({itemPos:this.itemPos});this.onEnter()}});ExchangeHoldOperation=cw.Class.extend(BasePropOperation,{ctor:function(a,c){this._super(a,c);this.itemPos=null;this.firstWaitingState=new PropOperationState("firstWaitingState");this.firstTouchedState=new PropOperationState("firstTouchedState");this.effectState=new PropOperationState("effectState");this.setCurrentState(this.firstWaitingState)},handleTouchBegin:function(a,c){var d=this.tileView.touchAtPoint(a,c);d&&this.tileView.tileLogic.isItemInTile(d.x,d.y)&&(this.tileView.tileLogic.isEditMode||
this.tileView.tileLogic.canExchange(d.x,d.y))&&(this.itemPos=d,this.handleComplete())},handleTouchMove:function(a,c){},handleTouchEnd:function(a,c){},onEnter:function(){printf("--- onEnter  ExchangeHoldOperation");this.itemPos=null;this.setCurrentState(this.firstWaitingState)},onExit:function(){printf("--- exit  ExchangeHoldOperation")},handleComplete:function(){if(this.controller)this.controller.onInteractionComplete({itemPos:this.itemPos})}});ForceSwapOperation=cw.Class.extend(BasePropOperation,{ctor:function(a,c){this._super(a,c);this.waitingState=new PropOperationState("waitingState");this.setCurrentState(this.waitingState)},handleTouchBegin:function(a,c){var d=this.tileView.touchAtPoint(a,c);if(d&&this.tileView.tileLogic.isItemInTile(d.x,d.y)){var e=this.tileView.tileLogic.tileItemMap[d.x][d.y];this.currentState==this.waitingState&&e.canBeExchange()&&(this.itemPos=d,this.handleComplete())}else this.tileView.usePropCancelled()},handleTouchMove:function(a,
c){},handleTouchEnd:function(a,c){},onEnter:function(){printf("\x3e\x3e\x3e enter ForceSwapOperation");this.tileView.playSelectEffects(0)},onExit:function(){printf("//- exit  ForceSwapOperation")},handleComplete:function(){if(this.controller)this.controller.onInteractionComplete({itemPos:this.itemPos});this.onEnter()}});HammerOperation=cw.Class.extend(BasePropOperation,{ctor:function(a,c){this._super(a,c);this.waitingState=new PropOperationState("waitingState");this.setCurrentState(this.waitingState)},handleTouchBegin:function(a,c){printf("HammerOperation.handleTouchBegin()");var d=this.tileView.touchAtPoint(a,c);d&&this.tileView.tileLogic.isItemInTile(d.x,d.y)&&this.currentState==this.waitingState&&(this.tileView.tileLogic.canUseHammer(d.x,d.y)?(this.itemPos=d,this.handleComplete()):PropView.playHammerDisableAnimation(this.tileView,
ccp(d.x,d.y)))},handleTouchMove:function(a,c){},handleTouchEnd:function(a,c){},onEnter:function(){printf("\x3e\x3e\x3e enter HammerOperation")},onExit:function(){printf("--- exit  HammerOperation")},handleComplete:function(){printf("HammerOperation.handleComplete()");if(this.controller)this.controller.onInteractionComplete({itemPos:this.itemPos});this.onEnter()}});MagicWandOperation=cw.Class.extend(BasePropOperation,{ctor:function(a,c){this._super(a,c);this.waitingState=new PropOperationState;this.touchedState=new PropOperationState;this.setCurrentState(this.waitingState);this.direction=this.startPos=this.itemPos=null},handleTouchBegin:function(a,c){var d=this.tileView.touchAtPoint(a,c);if(d&&this.tileView.tileLogic.isItemInTile(d.x,d.y))if(this.tileView.tileLogic.canUseMagicWand(d.x,d.y)&&this.tileView.tileLogic.isItemCanMoved(d.x,d.y)){this.tileView.focusOnItem(d);
this.currentState==this.waitingState&&(this.itemPos=d,this.startPos=ccp(a,c),this.setCurrentState(this.touchedState));var e=PropEffectAni.create(this.tileView.tileLogic,d.x,d.y);e.setPosition(ccp(TileConst_Tile_Width*(d.y-0.5),TileConst_Tile_Height*(9-d.x+0.5)));this.tileView.addChildZOrder(e,1E4);this.ani=e}else PropView.playMagicWandDisableAnimation(this.tileView,ccp(d.x,d.y))},handleTouchMove:function(a,c){},handleTouchEnd:function(a,c){var d=this.tileView.touchAtPoint(a,c);if(d&&this.currentState==
this.touchedState){printf("//-----------TouchEnd",d.x,d.y);this.direction={x:0,y:0};var e=d.x-this.itemPos.x,d=d.y-this.itemPos.y,f=Math.abs(e),g=Math.abs(d);f!=g&&(1<=f||1<=g)?(1<=d?0<e?d>e?(this.direction.x=1,this.direction.y=0):(this.direction.x=0,this.direction.y=1):d>-e?(this.direction.x=1,this.direction.y=0):(this.direction.x=0,this.direction.y=-1):0<e?-d>e?(this.direction.x=-1,this.direction.y=0):(this.direction.x=0,this.direction.y=1):-d>-e?(this.direction.x=-1,this.direction.y=0):(this.direction.x=
0,this.direction.y=-1),this.ani.runSelectedAni(this.direction),this.handleComplete()):(this.currentState=this.waitingState,this.ani.removeFromParentAndCleanup(!0))}},onEnter:function(){printf("\x3e\x3e\x3e enter MagicWandOperation");this.direction=this.startPos=this.itemPos=null;this.setCurrentState(this.waitingState)},onExit:function(){printf("--- exit  MagicWandOperation")},handleComplete:function(){if(this.controller)this.controller.onInteractionComplete({itemPos:this.itemPos,direction:this.direction});
this.onEnter()}});NormalSwapOperation=cw.Class.extend(BasePropOperation,{ctor:function(a,c){this._super(a,c);this.item2Pos=this.item1Pos=null;this.firstWaitingState=new PropOperationState("firstWaitingState");this.firstTouchedState=new PropOperationState("firstTouchedState");this.secondWaitingState=new PropOperationState("secondWaitingState");this.secondTouchedState=new PropOperationState("secondTouchedState");this.effectState=new PropOperationState("effectState");this.setCurrentState(this.firstWaitingState)},handleTouchBegin:function(a,
c){var d=this.tileView.touchAtPoint(a,c);d&&this.tileView.tileLogic.isItemInTile(d.x,d.y)&&this.tileView.tileLogic.isItemCanMoved(d.x,d.y)&&(this.currentState==this.firstWaitingState?(this.item1Pos=d,this.setCurrentState(this.firstTouchedState),this.tileView.focusOnItem(d)):this.currentState==this.secondWaitingState?BasePropOperation.isEqualPos(d,this.item1Pos)?(this.item1Pos=d,this.setCurrentState(this.firstTouchedState),this.tileView.focusOnItem(d)):0<this.tileView.tileLogic.canBeSwaped(this.item1Pos.x,
this.item1Pos.y,d.x,d.y)?(this.item2Pos=d,this.setCurrentState(this.secondTouchedState),this.handleComplete()):(this.item1Pos=d,this.setCurrentState(this.firstTouchedState),this.tileView.focusOnItem(d)):assert(!1,"NormalSwapOperation state error"))},handleTouchMove:function(a,c){var d=this.tileView.touchAtPoint(a,c);d&&this.item1Pos&&this.currentState!=this.effectState&&this.tileView.tileLogic.isItemInTile(d.x,d.y)&&!BasePropOperation.isEqualPos(d,this.item1Pos)&&this.currentState==this.firstTouchedState&&
0<this.tileView.tileLogic.canBeSwaped(this.item1Pos.x,this.item1Pos.y,d.x,d.y)&&(this.item2Pos=d,this.handleComplete())},handleTouchEnd:function(a,c){var d=this.tileView.touchAtPoint(a,c);d&&(this.currentState==this.firstTouchedState?(BasePropOperation.isEqualPos(this.item1Pos,d)&&(this.item1Pos=d,printf(d.x,d.y)),this.setCurrentState(this.secondWaitingState)):this.currentState==this.effectState&&(this.item2Pos=d,BasePropOperation.isEqualPos(this.item1Pos,d),this.handleComplete()))},onEnter:function(){printf("\x3e\x3e\x3e enter NormalSwapOperation");
this.item2Pos=this.item1Pos=null;this.setCurrentState(this.firstWaitingState)},onExit:function(){printf("--- exit  NormalSwapOperation")},handleComplete:function(){if(this.controller)this.controller.onInteractionComplete({item1Pos:this.item1Pos,item2Pos:this.item2Pos});this.onEnter()}});PassLevelFreeClickOperation=cw.Class.extend(BasePropOperation,{ctor:function(a,c){this._super(a,c);this.itemPos=null;this.firstWaitingState=new PropOperationState;this.firstTouchedState=new PropOperationState;this.setCurrentState(this.firstWaitingState)},handleTouchBegin:function(a,c){var d=this.tileView.touchAtPoint(a,c);d&&this.tileView.tileLogic.isItemInTile(d.x,d.y)&&ItemBombLogic.canRandomFruitChange(this.tileView.tileLogic,d.x,d.y)&&(this.itemPos=d,this.handleComplete())},handleTouchMove:function(a,
c){var d=this.tileView.touchAtPoint(a,c);d&&this.tileView.tileLogic.isItemInTile(d.x,d.y)&&ItemBombLogic.canRandomFruitChange(this.tileView.tileLogic,d.x,d.y)&&(this.itemPos=d,this.handleComplete())},handleTouchEnd:function(a,c){},onEnter:function(){printf("--- onEnter  PassLevelFreeClickOperation");this.itemPos=null;this.setCurrentState(this.firstWaitingState)},onExit:function(){printf("--- exit  PassLevelFreeClickOperation")},handleComplete:function(){if(this.controller)this.controller.onItemInteractionComplete({itemPos:this.itemPos});
this.onEnter()}});RegionalEffectOperation=cw.Class.extend(BasePropOperation,{ctor:function(a,c){this._super(a,c);this.waitingState=new PropOperationState("waitingState");this.setCurrentState(this.waitingState)},handleTouchBegin:function(a,c){printf("RegionalEffectOperation.handleTouchBegin()");var d=this.tileView.touchAtPoint(a,c);d&&this.tileView.tileLogic.isItemInTile(d.x,d.y)?this.currentState==this.waitingState&&(this.itemPos=d,this.handleComplete()):this.tileView.usePropCancelled()},handleTouchMove:function(a,
c){},handleTouchEnd:function(a,c){},onEnter:function(){printf("\x3e\x3e\x3e enter RegionalEffectOperation")},onExit:function(){printf("--- exit  RegionalEffectOperation")},handleComplete:function(){printf("RegionalEffectOperation.handleComplete()");if(this.controller)this.controller.onInteractionComplete({itemPos:this.itemPos});this.onEnter()}});PropOperationManager=cw.Class({ctor:function(a){this.currentState=null;this.tileView=a;this.normalSwapOperation=new NormalSwapOperation(a,this);this.forceSwapOperation=new ForceSwapOperation(a,this);this.hammerOperation=new HammerOperation(a,this);this.magicWandOperation=new MagicWandOperation(a,this);this.exchangeHoldOperation=new ExchangeHoldOperation(a,this);this.passLevelFreeClickOperation=new PassLevelFreeClickOperation(a,this);this.detonateBombOperation=new DetonateBombOperation(a,this);this.regionalEffectOperation=
new RegionalEffectOperation(a,this);this.crossEffectOperation=new CrossEffectOperation(a,this)},init:function(){this.setInteraction(this.exchangeHoldOperation)},onPassLevelFreeClick:function(){this.setInteraction(this.passLevelFreeClickOperation)},onItemInteractionComplete:function(a){this.tileView.freeClickItem(a.itemPos.x,a.itemPos.y)},onUseProp:function(a){var c=PropMetaManager.getInstance().getPropType(a);printf("--------------use prop:",a,c);c==PropType.Hammer?this.setInteraction(this.hammerOperation):
c==PropType.Swap?this.setInteraction(this.forceSwapOperation):c==PropType.ChangeToEffect?this.setInteraction(this.magicWandOperation):c==PropType.DetonateBomb?this.setInteraction(this.detonateBombOperation):c==PropType.ChangeToBomb?this.setInteraction(this.regionalEffectOperation):c==PropType.ChangeToCross&&this.setInteraction(this.crossEffectOperation)},onInteractionComplete:function(a){var c=PropMetaManager.getInstance().getPropType(this.tileView.gamePropsId);c==PropType.Hammer?this.tileView.useHammer(a.itemPos):
c==PropType.Swap?this.tileView.useForceSwap(a.itemPos):c==PropType.ChangeToEffect?this.tileView.useMagicWand(a.itemPos,a.direction):c==PropType.RandomFive?this.tileView.useRandomFive():c==PropType.DetonateBomb?this.tileView.detonateBombProp(a.itemPos):c==PropType.ChangeToBomb?this.tileView.regionalEffectProp(a.itemPos):c==PropType.ChangeToCross?this.tileView.useCrossEffectProp(a.itemPos):c==PropType.None&&this.tileView.tryExchangeItem(a.itemPos.x,a.itemPos.y);this.setInteraction(this.exchangeHoldOperation)},
onCancelUsingProp:function(){this.setInteraction(this.exchangeHoldOperation)},setInteraction:function(a){if(this.currentState)this.currentState.onExit();if(this.currentState=a)this.currentState.onEnter()},getCurrentInteraction:function(){return this.currentState},dispose:function(){this.currentState=this.tileView=this.exchangeHoldOperation=this.magicWandOperation=this.hammerOperation=this.forceSwapOperation=this.normalSwapOperation=null}});PropOperationManager.create=function(a){return new PropOperationManager(a)};BaseStableState=cw.Class({ctor:function(){},dispose:function(){this.context=this.tileView=this.tileLogic=null},initState:function(a){this.context=a;this.tileLogic=a.tileLogic;this.tileView=a.tileLogic.tileView},update:function(a){},onEnter:function(){printf("---------------\x3e\x3e",this.getClassName(),"Enter");this.isUpdateStopped=!1},onExit:function(){printf("---------------\x3c\x3c",this.getClassName(),"Exit")},checkNextState:function(){return null},stopUpdate:function(){this.isUpdateStopped=!0},
getClassName:function(){return"BaseStableState"}});BaseStableState.create=function(a){var c=new BaseStableState;c.initState(a);return c};BaldStrongCastingState=cw.Class.extend(BaseStableState,{onEnter:function(){this._super();this.nextState=null;if(this.tileLogic.curGameModeType!=GameModeType.kBaldStrong)this.handleComplete(!1);else{var a=0,c=this,a=this.checkBaldStrongCasting(this.tileLogic,function(){a-=1;0>=a&&c.handleComplete(!0)});0==a&&this.handleComplete(!1)}},handleComplete:function(a){this.nextState=this.context.endResetValueStateEnter;if(a)this.context.onEnter()},onExit:function(){this._super();this.nextState=null},checkNextState:function(){return this.nextState},
getClassName:function(){return"BaldStrongCastingState"},checkBaldStrongCasting:function(a,c){var d=this.isCanCasting(),e=0,f;for(f in d){var g=d[f],h=a.getBossConfig(g.item).v2||5,m=[],h=TileExtandLogic.getNormalPositionsForBoss(a,h,2,8,m,!0),n;for(n in h)g=h[n],m.push(g);0<m.length&&(g=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItem_BaldStrong_Flame_Casting,ccp(g.r,g.c),null,TileConst_MaxAction_time),g.targetPositions=m,g.callback=c,a.addGameAction(g),e+=1)}return e},
isCanCasting:function(){this.lastMove||(this.lastMove=this.tileLogic.realCostMove-1);if(this.lastMove>=this.tileLogic.realCostMove)return[];var a=this.getBlockNum();if(2*a[0]>=a[1])return[];for(var a=this.tileLogic.tileItemMap,c=[],d=0;d<a.length;++d)for(var e=0;e<a[d].length;++e){var f=a[d][e];if(f.tileItemType==TileItemType.kBaldStrong&&null!=f.blood&&0<f.blood&&0<f.maxSkillMoves){if(f.stunStep&&0<f.stunStep)break;1>=f.skillMoves?(f.skillMoves=f.maxSkillMoves,c.push({r:d,c:e,item:f}),this.lastMove=
this.tileLogic.realCostMove):f.skillMoves-=1}}return c},getBlockNum:function(a){for(var c=a=0,d=this.tileLogic.tileItemMap,e=0;e<d.length;++e)for(var f=0;f<d[e].length;++f){var g=d[e][f];if(g.isUsed){if(g.isBlock||g.tileItemType==TileItemType.kNone)a+=1;c+=1}}return[a,c]}});BaldStrongCastingState.create=function(a){var c=new BaldStrongCastingState;c.initState(a);return c};BaldStrongDieState=cw.Class.extend(BaseStableState,{getClassName:function(){return"BaldStrongDieState"},onEnter:function(){this._super();this.nextState=null;if(this.tileLogic.curGameModeType!=GameModeType.kBaldStrong)return 0;for(var a=0,c=function(){1<a?a-=1:this.handleComplete()},d=this.tileLogic.tileItemMap,e=0;e<d.length;++e)for(var f=0;f<d[e].length;++f){var g=d[e][f];this.isBossDie(g)&&(a+=1,this.dieAction(e,f,c,g.tileItemType))}return a},dieAction:function(a,c,d,e){e=ActionItemType.kItem_BaldStrong_Die;
ScoreCalculateLogic.addScoreAtSiteByType(this.tileLogic,a,c,ScoreType.kBase_BaldStrong_Dead);a=TileActionDataSet.create(ActionTargetType.kTileItemAction,e,ccp(a,c),null,TileConst_MaxAction_time);a.callback=d;this.tileLogic.addGameAction(a)},isBossDie:function(a){return a.tileItemType==TileItemType.kBaldStrong&&0<a.bossLevel&&null!=a.blood&&0>=a.blood?!0:!1},handleComplete:function(){this.tileLogic.setNeedCheckFalling()},onExit:function(){this.nextState=null;this.hasItemToHandle=!1;this._super()},
checkNextState:function(){return this.nextState},updateStep:function(){if(this.tileLogic.curGameModeType==GameModeType.kBaldStrong)for(var a=this.tileLogic.tileItemMap,c=0;c<a.length;++c)for(var d=0;d<a[c].length;++d){var e=a[c][d];e.tileItemType==TileItemType.kBaldStrong&&null!=e.blood&&0<e.blood&&e.stunStep&&0<e.stunStep&&(e.stunStep-=1,0==e.stunStep&&this.tileLogic.tileView.baseMap[c][d].playBossStopStunEffect())}}});
BaldStrongDieState.create=function(a){var c=new BaldStrongDieState;c.initState(a);return c};BaldStrongJumpState=cw.Class.extend(BaseStableState,{onEnter:function(){this._super();if(this.tileLogic.curGameModeType!=GameModeType.kBaldStrong)this.nextState=this.getNextState();else{this.nextState=null;var a=this.isCanMove(),c=a[0],d=a[1],e=a[2],f=a[3],g=this.tileLogic.tileItemMap,h=function(a,c,d,e){if(d==DefaultDirConfig.kLeft||d==DefaultDirConfig.kRight)for(d=0;d<e;++d){if(!this.tileLogic.isPosValid(a+d,c))return!1;var f=g[a+d][c];if(!f.isUsed||!f.isAvailable())return!1}else for(d=0;d<e;++d){if(!this.tileLogic.isPosValid(a,
c+d))return!1;f=g[a][c+d];if(!f.isUsed||!f.isAvailable())return!1}return!0},m=function(a,c,d,e,f){h(c,d,e,f)&&(e==DefaultDirConfig.kRight&&(d=d-f+1),e==DefaultDirConfig.kDown&&(c=c-f+1),a[e]={r:c,c:d,dir:e});return null!=a[e]},n=function(a,c){for(var d={},e=a-1;0<=e&&m(d,e,c,DefaultDirConfig.kUp,f);--e);for(e=a+f;e<g.length&&m(d,e,c,DefaultDirConfig.kDown,f);++e);for(var h=c-1;0<=h&&m(d,a,h,DefaultDirConfig.kLeft,f);--e);for(h=c+f;h<g[a].length&&m(d,a,h,DefaultDirConfig.kRight,f);++h);d=table.randomOne(d);
null==d&&(d={});return[d.r,d.c,d.dir]},r=function(){this.handleComplete(0<c)};if(0<c){var a=n(d,e),n=a[0],s=a[1],a=a[2];printf("--------BaldStrongMoveStart",d,e,n,s);null==n||null==s?this.nextState=this.getNextState():(d=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItem_BaldStrong_Move,ccp(d,e),ccp(n,s),TileConst_MaxAction_time),d.dir=a,d.bossSize=f,d.callback=r,this.tileLogic.addGameAction(d))}else this.nextState=this.getNextState()}},isCanMove:function(){this.lastMove||
(this.lastMove=this.tileLogic.realCostMove-1);if(this.lastMove>=this.tileLogic.realCostMove)return 0;for(var a=0,c=0,d=0,e=0,f=this.tileLogic.tileItemMap,g=0;g<f.length;++g)for(var h=0;h<f[g].length;++h){var m=f[g][h];if(m.tileItemType==TileItemType.kBaldStrong&&null!=m.blood&&0<m.blood&&0<m.maxMoves){if(m.stunStep&&0<m.stunStep)break;1>=m.moves?(a+=1,m.moves=m.maxMoves,this.lastMove=this.tileLogic.realCostMove,c=g,d=h,e=m.bossSize):m.moves-=1}}return[a,c,d,e]},handleComplete:function(a){this.nextState=
this.getNextState();a&&this.tileLogic.setNeedCheckFalling()},onExit:function(){this._super();this.nextState=null;this.hasItemToHandle=!1},checkNextState:function(){return this.nextState},getNextState:function(){return this.context.watermelonReplaceStateInSwapFirst},getClassName:function(){return"BaldStrongJumpState"}});BaldStrongJumpState.create=function(a){var c=new BaldStrongJumpState;c.initState(a);return c};var HandlerCompleteTag={kDiscolor:0,kSandstorm:1,kFlame:2},BlockRunningState=cw.Class.extend(BaseStableState,{onEnter:function(){this._super();this.nextState=null;this.tags=[HandlerCompleteTag.kDiscolor,HandlerCompleteTag.kSandstorm,HandlerCompleteTag.kFlame];this.blockerCompleteTag=0;this.hasItemToHandle=!1;this.totalDiscolorCount=this.discolorCount=0;this.tryStartDiscolor();this.tryStartSpread();this.tryStartFlame()},tryStartDiscolor:function(){var a=this;this.totalDiscolorCount=this.checkDiscolor(this.tileLogic,
function(){a.handleDiscolorInStepComplete()});0==this.totalDiscolorCount?this.handleDiscolorInStepComplete():this.hasItemToHandle=!0},tryStartSpread:function(){function a(){c.handleSandstormInStepComplete()}if(this.tileLogic.isSandstormDestroyedInStep)this.handleSandstormInStepComplete();else{var c=this;TileExtandLogic.checkSandstormSpread(this.tileLogic,a)?this.hasItemToHandle=!0:this.handleSandstormInStepComplete()}},tryStartFlame:function(){function a(){c.handleFlameInStepComplete()}this.addFlameStep(this.tileLogic);
if(this.tileLogic.isSandstormDestroyedInStep)this.handleFlameInStepComplete();else{var c=this;TileExtandLogic.checkFlameSpread(this.tileLogic,a)?this.hasItemToHandle=!0:this.handleFlameInStepComplete()}},addFlameStep:function(a){for(var c=0;c<a.tileItemMap.length;++c)for(var d=0;d<a.tileItemMap[c].length;++d){var e=a.tileItemMap[c][d];e.tileItemType==TileItemType.kFlame&&(null==e.flameStep&&(e.flameStep=0),e.flameStep+=1)}},checkFlameChangeToAsh:function(a,c){for(var d=0;d<a.tileItemMap.length;++d)for(var e=
0;e<a.tileItemMap[d].length;++e){var f=a.tileItemMap[d][e];f.tileItemType==TileItemType.kFlame&&(null==f.flameStep&&(f.flameStep=0),3<=f.flameStep&&(f.flameLevel=0,f.flameStep=null,f.changeToAsh(3),f.isNeedUpdate=!0,a.tileView.baseMap[d][e].playChangeToAshAnimation()))}},handleDiscolorInStepComplete:function(){this.discolorCount+=1;this.discolorCount>=this.totalDiscolorCount&&this.checkAllTypeBlocker(HandlerCompleteTag.kDiscolor)},handleSandstormInStepComplete:function(){this.checkAllTypeBlocker(HandlerCompleteTag.kSandstorm)},
handleFlameInStepComplete:function(){this.checkAllTypeBlocker(HandlerCompleteTag.kFlame);this.checkFlameChangeToAsh(this.tileLogic)},checkAllTypeBlocker:function(a){this.blockerCompleteTag=bit.bor(this.blockerCompleteTag,bit.lshift(1,a));a=!0;for(var c in this.tags)0==bit.band(this.blockerCompleteTag,bit.lshift(1,this.tags[c]))&&(a=!1);if(a&&(this.nextState=this.getNextState(),this.hasItemToHandle))this.context.onEnter()},getNextState:function(){return this.context.clayBlockSpreadState},onExit:function(){this._super();
this.nextState=null;this.blockerCompleteTag=0;this.hasItemToHandle=!1;this.totalDiscolorCount=this.discolorCount=0},checkNextState:function(){return this.nextState},getClassName:function(){return"BlockRunningState"},checkDiscolor:function(a,c){function d(a){var c=[],d;for(d in h){var e=h[d];e!=a&&c.push(e)}return c}function e(){for(var c in f){var d=f[c];if(a.checkMatchQuick(d.y,d.x,d.fruitColorType))return!0}return!1}var f=TileExtandLogic.filterItemByConditions(a,{gameItemTypeList:[TileItemType.kDiscolor]});
if(0==f.length)return 0;for(var g=0,h=a.mapColorList,m=[],n=[],r=0;r<a.tileItemMap.length;++r){m[r]=[];n[r]=[];for(var s=0;s<a.tileItemMap[r].length;++s)m[r][s]=a.tileItemMap[r][s].fruitColorType,n[r][s]=a.tileItemMap[r][s].fruitColorType}for(var t=1,u=!1,w=!1;500>t;){for(var z in f)if(r=f[z],s=d(m[r.y][r.x]),0<s.length){var A=a.randomNum(0,s.length);r.fruitColorType=s[A]}if(!e()){if(!u)for(u=!0,r=0;r<a.tileItemMap.length;++r)for(s=0;s<a.tileItemMap[r].length;++s)n[r][s]=a.tileItemMap[r][s].fruitColorType;
if(!ItemRefreshLogic.checkNeedRefresh(a)){w=!0;break}}t+=1}for(z in f)r=f[z],t=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItem_Fruit_Change,ccp(r.y,r.x),null,TileConst_DiscolorFruit_Time),u=null,u=w?r.fruitColorType:n[r.y][r.x],t.addInt=u,t.callback=c,a.addGameAction(t),r.fruitColorType=m[r.y][r.x],g+=1;return g}});BlockRunningState.create=function(a){var c=new BlockRunningState;c.initState(a);return c};ClayBlockSpreadState=cw.Class.extend(BaseStableState,{onEnter:function(){this._super();this.nextState=null;this.hasItemToHandle=!1;this.tryStartSpread()},tryStartSpread:function(){var a=this;TileExtandLogic.checkClayBlockSpread(this.tileLogic,function(){a.tryOrderCheck()})?this.hasItemToHandle=!0:this.tryOrderCheck()},tryOrderCheck:function(){var a=this;TileExtandLogic.checkClayBlockOrder(this.tileLogic,function(c){a.handleSandstormInStepComplete(c)})?this.hasItemToHandle=!0:this.handleSandstormInStepComplete()},
handleSandstormInStepComplete:function(a){this.nextState=this.getNextState();if(a)this.nextState=this;else if(this.hasItemToHandle)this.context.onEnter()},getNextState:function(){return this.context.baldStrongCastingState},onExit:function(){this._super();this.nextState=null;this.hasItemToHandle=!1},checkNextState:function(){return this.nextState},getClassName:function(){return"ClayBlockSpreadState"}});ClayBlockSpreadState.create=function(a){var c=new ClayBlockSpreadState;c.initState(a);return c};CondimentSprayState=cw.Class.extend(BaseStableState,{dispose:function(){this.context=this.tileView=this.tileLogic=null},onEnter:function(){this._super();var a=this;this.nextState=null;this.counterTransferToHandle=0;this.totalTransferToHandle=TileExtandLogic.checkCondimentSpray(this.tileLogic,function(){a.handleTransferInStepComplete()});0==this.totalTransferToHandle&&(this.nextState=this.getNextState())},onExit:function(){this._super();this.nextState=null;this.counterTransferToHandle=this.totalTransferToHandle=
0},handleTransferInStepComplete:function(){this.counterTransferToHandle+=1;if(this.counterTransferToHandle>=this.totalTransferToHandle){var a=HalfStableCheckLogic.checkAllMapWithNoMove(this.tileLogic);this.nextState=this.getNextState();if(a)this.tileLogic.setNeedCheckFalling();else this.context.onEnter()}},getNextState:function(){return this.context.baldStrongJumpState},checkNextState:function(){return this.nextState},getClassName:function(){return"CondimentSprayState"}});
CondimentSprayState.create=function(a){var c=new CondimentSprayState;c.initState(a);return c};ConveyorBeltState=cw.Class.extend(BaseStableState,{onEnter:function(){function a(){c.handleItemComplete()}this._super();var c=this;this.nextState=null;this.hasItemToHandle=!1;this.completeItem=0;this.tileLogic.switchBrakeData&&0==this.tileLogic.switchBrakeData.switchBrake?(this.totalItem=0,this.handleItemComplete()):(this.totalItem=TileExtandLogic.checkConveyorBelt(this.tileLogic,a),0==this.totalItem?this.handleItemComplete():this.hasItemToHandle=!0)},handleItemComplete:function(){this.completeItem+=
1;this.completeItem>=this.totalItem&&(this.nextState=this.context.jumpCatTransferState,this.hasItemToHandle&&this.tileLogic.setNeedCheckFalling())},onExit:function(){this._super();this.nextState=null;this.totalItem=this.completeItem=0;this.hasItemToHandle=!1},checkNextState:function(){return this.nextState},getClassName:function(){return"ConveyorBeltState"}});ConveyorBeltState.create=function(a){var c=new ConveyorBeltState;c.initState(a);return c};ConveyorBeltSwitchState=cw.Class.extend(BaseStableState,{onEnter:function(){this._super();this.nextState=null;var a=this;this.hasItemToHandle=!1;this.completeItem=0;this.totalItem=TileExtandLogic.checkConveyorBeltSwitch(this.tileLogic,function(){a.handleItemComplete()});0==this.totalItem?this.nextState=this.getNextState():this.hasItemToHandle=!0},handleItemComplete:function(){this.completeItem+=1;this.completeItem>=this.totalItem&&(this.tileLogic.setNeedCheckFalling(),this.nextState=this.getNextState())},
onExit:function(){this._super();this.nextState=null;this.totalItem=this.completeItem=0},checkNextState:function(){return this.nextState},getClassName:function(){return"ConveyorBeltSwitchState"},getNextState:function(){return this.context.conveyorBeltState}});ConveyorBeltSwitchState.create=function(a){var c=new ConveyorBeltSwitchState;c.initState(a);return c};var EndResetValueStateEnter=cw.Class.extend(BaseStableState,{dispose:function(){this.context=this.tileView=this.tileLogic=null},onEnter:function(){this._super();this.nextState=this.getNextState()},onExit:function(){this._super();this.nextState=null},getNextState:function(){return this.context.watermelonReplaceStateInLoop},checkNextState:function(){return this.nextState},getClassName:function(){return"EndResetValueStateEnter"}});
EndResetValueStateEnter.create=function(a){var c=new EndResetValueStateEnter;c.initState(a);return c};var ExchangeFruitState=cw.Class.extend(BaseStableState,{initState:function(a){this.context=a;this.tileLogic=a.tileLogic;this.tileView=a.tileLogic.tileView},update:function(a){},onEnter:function(){this._super();this.nextState=null},onExit:function(){this._super();this.nextState=null},checkNextState:function(){return this.nextState},stopUpdate:function(){this.isUpdateStopped=!0},getClassName:function(){return"ExchangeFruitState"}});
ExchangeFruitState.create=function(a){var c=new ExchangeFruitState;c.initState(a);return c};GameOverState=cw.Class.extend(BaseStableState,{dispose:function(){this.context=this.tileView=this.tileLogic=null},update:function(a){this.timeCount+=1;30<this.timeCount&&(this.context.onExit(),this.tileLogic.setGamePlayStatus(TileGameStatus.kAfterPassLevelTime))},onEnter:function(){printf("----------\x3e\x3e\x3e\x3e\x3e\x3e\x3e\x3e\x3e\x3e game over state enter");this.nextState=null;this.timeCount=0},onExit:function(){printf("----------\x3c\x3c\x3c\x3c\x3c\x3c\x3c\x3c\x3c\x3c game over state exit");
this.nextState=null},checkNextState:function(){return this.nextState}});GameOverState.create=function(a){var c=new GameOverState;c.initState(a);return c};GiftBoxCleanState=cw.Class.extend(BaseStableState,{onEnter:function(){this._super();this.nextState=null;this.hasItemToHandle=!1;this.tryStartSpread()},tryStartSpread:function(){var a=this;TileExtandLogic.checkGiftBoxFinish(this.tileLogic,function(){a.tryOrderCheck(!0)})?this.hasItemToHandle=!0:this.tryOrderCheck()},tryOrderCheck:function(a){var c=this;TileExtandLogic.checkGiftBoxOrder(this.tileLogic,function(a){c.handleSandstormInStepComplete(a)})?this.hasItemToHandle=!0:this.handleSandstormInStepComplete(a)},
handleSandstormInStepComplete:function(a){this.nextState=this.getNextState();if(a)this.nextState=this;else if(this.hasItemToHandle)this.context.onEnter()},getNextState:function(){return this.context.wormEatState},onExit:function(){this._super();this.nextState=null;this.hasItemToHandle=!1},checkNextState:function(){return this.nextState},getClassName:function(){return"GiftBoxCleanState"}});GiftBoxCleanState.create=function(a){var c=new GiftBoxCleanState;c.initState(a);return c};var JumpCatTransferState=cw.Class.extend(BaseStableState,{dispose:function(){this.context=this.tileView=this.tileLogic=null},onEnter:function(){this._super();var a=this;this.nextState=null;this.counterTransferToHandle=0;this.totalTransferToHandle=TileExtandLogic.checkJumpCatTransfer(this.tileLogic,function(){a.handleTransferInStepComplete()});0==this.totalTransferToHandle&&(this.nextState=this.getNextState())},onExit:function(){this._super();this.nextState=null;this.counterTransferToHandle=this.totalTransferToHandle=
0},handleTransferInStepComplete:function(){this.counterTransferToHandle+=1;if(this.counterTransferToHandle>=this.totalTransferToHandle){var a=HalfStableCheckLogic.checkAllMapWithNoMove(this.tileLogic);this.nextState=this.getNextState();if(a)this.tileLogic.setNeedCheckFalling();else this.context.onEnter()}},getNextState:function(){return this.context.condimentSprayState},checkNextState:function(){return this.nextState},getClassName:function(){return"JumpCatTransferState"}});
JumpCatTransferState.create=function(a){var c=new JumpCatTransferState;c.initState(a);return c};KitchenGodState=cw.Class.extend(BaseStableState,{onEnter:function(){this._super();this.nextState=null;var a=this,c=function(){a.blockNum-=1;0>=a.blockNum&&(ItemFallingLogic.preUpdateHelpMap(a.tileLogic),a.handleItemComplete(!0))},d=function(d,e){1==d?(a.tileLogic.gameMode.nextRound(),e()):2==d&&(a.tileLogic.isBearOrder&&a.tileLogic.bearBlockList?(a.blockNum=TileExtandLogic.kitchenGodBearAddBlocks(a.tileLogic,c),0==a.blockNum&&a.handleItemComplete(!0)):4==a.tileLogic.bearBuff?a.updateListener=scheduler.scheduleGlobal(function(){TileExtandLogic.kitchenGodBearAddCutyPet(a.tileLogic);
scheduler.unscheduleGlobal(a.updateListener);a.updateListener=null;a.handleItemComplete(!0)},1):a.handleItemComplete(!0))},e=TileExtandLogic.checkKitchenGodChangeRound(this.tileLogic),f=e[1];e[0]?(this.tileLogic.isBearOrder&&TileExtandLogic.kitchenGodRemoveBlocks(this.tileLogic),this.tileLogic.tileUIDelegate.kitchenGodNextRound(d)):f?this.gameSuccessListener=scheduler.scheduleGlobal(function(){scheduler.unscheduleGlobal(a.gameSuccessListener);a.gameSuccessListener=null;a.tileLogic.setGamePlayStatus(TileGameStatus.kWin)},
2.5):this.handleItemComplete(!1)},handleItemComplete:function(a){this.nextState=this.getNextState();a?(this.nextState=this.context.orderResetState,this.context.onEnter()):this.nextState=this.context.needRefreshState},onExit:function(){this._super();this.nextState=null},checkNextState:function(){return this.nextState},getClassName:function(){return"KitchenGodState"},getNextState:function(){return this.context.needRefreshState}});
KitchenGodState.create=function(a){var c=new KitchenGodState;c.initState(a);return c};MapMoveState=cw.Class.extend(BaseStableState,{dispose:function(){this.context=this.tileView=this.tileLogic=null},onEnter:function(){function a(){c.nextState=c.getNextState();c.tileLogic.setNeedCheckFalling()}this._super();this.nextState=null;var c=this;this.tileLogic.isCanMoveMap()?this.tileLogic.gameMode.checkScrollTileMap(a)?this.context.needLoopCheck=!0:this.nextState=this.getNextState():this.nextState=this.getNextState()},getNextState:function(){return null},onExit:function(){this._super();this.nextState=
null},checkNextState:function(){return this.nextState},getClassName:function(){return"MapMoveState"}});MapMoveState.create=function(a){var c=new MapMoveState;c.initState(a);return c};MapMoveStateInLoop=cw.Class.extend(MapMoveState,{getClassName:function(){return"MapMoveStateInLoop"},getNextState:function(){return this.context.needLoopCheckState}});MapMoveStateInLoop.create=function(a){var c=new MapMoveStateInLoop;c.initState(a);return c};var NeedLoopCheckState=cw.Class.extend(BaseStableState,{dispose:function(){this.context=this.tileView=this.tileLogic=null},onEnter:function(){this._super();this.context.needLoopCheck?(this.context.needLoopCheck=!1,this.nextState=this.context.watermelonReplaceStateInLoop,printf("----------------------------- need loop once, skip refresh check")):this.nextState=this.context.giftBoxCleanState},onExit:function(){this._super();this.nextState=null},checkNextState:function(){return this.nextState},getClassName:function(){return"NeedLoopCheckState"}});
NeedLoopCheckState.create=function(a){var c=new NeedLoopCheckState;c.initState(a);return c};var NeedRefreshState=cw.Class.extend(BaseStableState,{dispose:function(){this.context=this.tileView=this.tileLogic=null},onEnter:function(){this._super();this.nextState=null;this.refreshCounterToHandle=0;this.tryRefresh();this.context.baldStrongDieState.updateStep()},tryRefresh:function(){var a=ItemRefreshLogic.checkNeedRefresh(this.tileLogic),c=this.tileLogic,d=this,e=function(){var a=d.tileLogic.gameMode;a&&!a.isFinishTarget()?(d.tileLogic.gameMode.setFailReason("refresh"),d.tileLogic.setGamePlayStatus(TileGameStatus.kFailed)):
(d.tileLogic.gameMode.refreshFailedDirectSuccess=!0,d.tileLogic.refreshComplete())},f=function(a){0==a.fruitColorType?e():d.refreshComplete()},g=function(){d.refreshTotalToHandle=ItemRefreshLogic.runRefreshAction2(c,f)};a?ItemRefreshLogic.tryRefresh(this.tileLogic)?this.tileLogic.tileView.runAction(cc.sequence(cc.delayTime(0),cc.callFunc(g))):e():this.tileLogic.refreshComplete()},refreshComplete:function(){"number"==typeof this.refreshCounterToHandle&&(this.refreshCounterToHandle+=1);this.refreshCounterToHandle>=
this.refreshTotalToHandle&&this.tileLogic.refreshComplete()},onExit:function(){this._super();this.nextState=null;this.refreshTotalToHandle=this.refreshCounterToHandle=0},checkNextState:function(){return this.nextState},getClassName:function(){return"NeedRefreshState"}});NeedRefreshState.create=function(a){var c=new NeedRefreshState;c.initState(a);return c};OrderResetState=cw.Class.extend(BaseStableState,{dispose:function(){this.context=this.tileView=this.tileLogic=null},onEnter:function(){this._super();this.nextState=null;this.tryResetOrderList()},tryResetOrderList:function(){function a(){1<c?c-=1:d.handleResetComplete(!0)}var c=0,d=this;this.tileLogic.resetOrderList(function(e){for(var f in e){var g=e[f];g&&g.key1==TileItemOrderType.kClayTarget?(d.runSetClayPointAction(g.key2,g.data[0][0]-1,g.data[0][1]-1,a),c+=1):g&&g.key1==TileItemOrderType.kGiftTarget&&
(d.runSetGiftBoxAction(g.key2,g.data,a),c+=1)}0==c&&d.handleResetComplete(0<e.length)})},runSetClayPointAction:function(a,c,d,e){var f=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItem_ClayBlock_Order,null,null,TileConst_Sandstorm_Spread_Time);f.callback=e;f.targetPositions=[{r:c,c:d}];f.color=a;this.tileLogic.addGameAction(f)},runSetGiftBoxAction:function(a,c,d){var e=[],f;for(f in c){var g=c[f];e.push({r:g[0]-1,c:g[1]-1})}c=TileActionDataSet.create(ActionTargetType.kTileItemAction,
ActionItemType.kItem_GiftBox_Order,null,null,TileConst_Sandstorm_Spread_Time);c.callback=d;c.targetPositions=e;c.color=a;this.tileLogic.addGameAction(c)},handleResetComplete:function(a){this.nextState=this.getNextState();if(a)this.context.onEnter()},onExit:function(){this._super();this.nextState=null},checkNextState:function(){return this.nextState},getClassName:function(){return"OrderResetState"},getNextState:function(){return this.context.kitchenGodState}});
OrderResetState.create=function(a){var c=new OrderResetState;c.initState(a);return c};PassLevelAutoBombState=cw.Class.extend(BaseStableState,{dispose:function(){this.context=this.tileView=this.tileLogic=null},onEnter:function(){this._super();this.timeCount=0;this.nextState=null;this.waitCount=0;this.hasItemToHandle=ItemBombLogic.PassLevelTime_RandomBombEffect(this.tileLogic,!1)},onExit:function(){this._super();this.waitCount=this.timeCount=0;this.nextState=null},update:function(a){if(!this.isUpdateStopped&&(this.waitCount+=1,!(this.waitCount<TileConst_Action_FPS)&&(this.timeCount+=
1,this.timeCount>=TileConst_PassLevel_RandomBomb_Time&&(this.timeCount=0,!ItemBombLogic.PassLevelTime_RandomBombEffect(this.tileLogic,!0)&&(this.nextState=this.getNextState(),this.tileLogic.isFallingStable&&this.tileLogic.isFallingStablePreFrame)))))this.context.onEnter()},checkNextState:function(){return this.nextState},getClassName:function(){return"PassLevelAutoBombState"},getNextState:function(){return this.context.watermelonReplaceStateInBonusFirst}});
PassLevelAutoBombState.create=function(a){var c=new PassLevelAutoBombState;c.initState(a);return c};PassLevelLastBombState=cw.Class.extend(BaseStableState,{dispose:function(){this.context=this.tileView=this.tileLogic=null},onEnter:function(){this._super();this.timeCount=0;this.nextState=null},onExit:function(){this._super();this.timeCount=0;this.nextState=null},update:function(a){if(!this.isUpdateStopped&&(this.timeCount+=1,this.timeCount>TileConst_PassLevel_ItemBomb_Time&&!ItemBombLogic.PassLevelTime_RandomBombEffect(this.tileLogic,!0)&&(this.nextState=this.getNextState(),this.tileLogic.isFallingStable&&
this.tileLogic.isFallingStablePreFrame)))this.context.onEnter()},checkNextState:function(){return this.nextState},getClassName:function(){return"PassLevelLastBombState"},getNextState:function(){return this.context.watermelonReplaceStateInBonusSecond}});PassLevelLastBombState.create=function(a){var c=new PassLevelLastBombState;c.initState(a);return c};PassLevelStepToLineState=cw.Class.extend(BaseStableState,{dispose:function(){this.context=this.tileView=this.tileLogic=null},onEnter:function(){this._super();this.tileLogic.freeClickTime=0;this.nextState=null;this.numStepToLine=this.timeCount=0;this.from_pos=this.tileLogic.tileUIDelegate?this.tileLogic.tileUIDelegate.getStepUiPos():ccp(0,UI_V_SIZE.height);this.tileLogic.gameMode.canChangeStepToEffect()?(this.tileLogic.randomFruitHelpList=[],0>=this.tileLogic.freeClickTime?this.randomFruitChange():
(this.tileLogic.freeClick=!0,this.tileLogic.tileUIDelegate.setFreeClickTime(this.tileLogic.freeClickTime),this.tileLogic.startWaitingOperation(),this.tileLogic.tileView.propOperationManager.onPassLevelFreeClick())):this.nextState=this.context.gameOverState;this.tileLogic.tileView.runAction(cc.sequence(cc.delayTime(0.2),CETreeTintTo.create(0.4,120,120,120)))},onExit:function(){this._super();this.nextState=null;this.tileLogic.tileView.runAction(cc.sequence(cc.delayTime(0.6),CETreeTintTo.create(0.4,
255,255,255)))},randomFruitChange:function(){ItemBombLogic.initRandomFruitChangeList(this.tileLogic)},update:function(a){0<this.tileLogic.freeClickTime?(this.tileLogic.freeClickTime-=a,0>=this.tileLogic.freeClickTime?(this.tileLogic.tileUIDelegate&&this.tileLogic.tileUIDelegate.setFreeClickTime(0),this.tileLogic.stopWaitingOperation(),this.tileLogic.freeClick=!1,this.randomFruitChange(),this.tileLogic.tileView.propOperationManager.setInteraction(this.exchangeHoldOperation)):0<this.tileLogic.randomFruitHelpList.length&&
(this.timeCount=TileConst_PassLevel_ItemFly_Time+1)):this.timeCount+=1;var c=this.tileLogic;if(this.timeCount>TileConst_PassLevel_ItemFly_Time){this.timeCount=0;var d=ItemBombLogic.getRandomFruitChangeToLineSpecial(c);0<c.theCurMoves?(c.theCurMoves-=1,c.tileUIDelegate&&c.tileUIDelegate.setMoveCount(c.theCurMoves,!0),0==c.theCurMoves&&(this.tileLogic.freeClickTime=0,this.tileLogic.tileUIDelegate&&this.tileLogic.tileUIDelegate.setFreeClickTime(0))):d=null;if(d){var e=c.tileItemMap[d.x][d.y],f=c.tileBoardMap[d.x][d.y],
g=c.tileView.baseMap[d.x][d.y].tileSprite[TileViewType.kItem];f.boardSpType=FruitTypeConfig.kCutyPet;var h=this;a=function(){e.isNeedUpdate=!0;f.isNeedUpdate=!0;ScoreCalculateLogic.addScoreAtSiteByType(c,d.x,d.y,ScoreType.kLeft_Step,null,null,2);h.numStepToLine-=1;g&&g.runAction(CETreeTintTo.create(0.2,255,255,255));"flyend"==h.addInfo&&0==h.numStepToLine&&(h.nextState=h.context.passLevelLastBombState,h.context.onEnter())};GameMusicManager.playEffect(GameMusicType.kBonusStepToLine);if(c.tileUIDelegate){var m=
this.from_pos,n=c.getGameItemPosInView(d.x,d.y);a=CommonFlyLine.createStar(m,n,null,a);c.tileUIDelegate.effectLayer.addChild(a);this.numStepToLine+=1}else a()}else this.addInfo="flyend",0<c.theCurMoves&&c.tileUIDelegate&&(c.theCurMoves=0,c.tileUIDelegate.setMoveCount(0,!0),0==c.theCurMoves&&(c.freeClickTime=0,c.tileUIDelegate.setFreeClickTime(0))),0==this.numStepToLine&&(this.nextState=this.context.passLevelLastBombState,this.context.onEnter())}},checkNextState:function(){return this.nextState},getClassName:function(){return"PassLevelStepToLineState"}});
PassLevelStepToLineState.create=function(a){var c=new PassLevelStepToLineState;c.initState(a);return c};SandTransferState=cw.Class.extend(BaseStableState,{dispose:function(){this.context=this.boardView=this.mainLogic=null},onEnter:function(){this._super();if(this.tileLogic.isInStep){var a=this;this.nextState=null;this.counterSandTransferToHandle=0;this.totalSandTransferToHandle=TileExtandLogic.checkSandToTransfer(this.tileLogic,function(){a.handleItemComplete()});0==this.totalSandTransferToHandle&&(this.nextState=this.getNextState())}else this.nextState=this.getNextState()},onExit:function(){this._super();
this.nextState=null;this.counterSandTransferToHandle=this.totalSandTransferToHandle=0},handleItemComplete:function(){this.counterSandTransferToHandle+=1;this.counterSandTransferToHandle>=this.totalSandTransferToHandle&&(this.nextState=this.getNextState(),this.context.onEnter())},getNextState:function(){return this.context.orderResetState},checkNextState:function(){return this.nextState},getClassName:function(){return"SandTransferState"}});
SandTransferState.create=function(a){var c=new SandTransferState;c.initState(a);return c};StableStateMachine=cw.Class({ctor:function(){this.currentState=null},dispose:function(){this.currentState=this.tileLogic=null},initStates:function(){this.needLoopCheck=!1;this.mapMoveStateInLoop=MapMoveStateInLoop.create(this);this.needLoopCheckState=NeedLoopCheckState.create(this);this.needRefreshState=NeedRefreshState.create(this);this.orderResetState=OrderResetState.create(this);this.passLevelAutoBombState=PassLevelAutoBombState.create(this);this.passLevelStepToLineState=PassLevelStepToLineState.create(this);
this.passLevelLastBombState=PassLevelLastBombState.create(this);this.gameOverState=GameOverState.create(this);this.conveyorBeltSwitchState=ConveyorBeltSwitchState.create(this);this.conveyorBeltState=ConveyorBeltState.create(this);this.sandTransferState=SandTransferState.create(this);this.jumpCatTransferState=JumpCatTransferState.create(this);this.condimentSprayState=CondimentSprayState.create(this);this.watermelonReplaceStateInLoop=WatermelonReplaceStateInLoop.create(this);this.watermelonReplaceStateInSwapFirst=
WatermelonReplaceStateInSwapFirst.create(this);this.watermelonReplaceStateInBonusFirst=WatermelonReplaceStateInBonusFirst.create(this);this.watermelonReplaceStateInBonusSecond=WatermelonReplaceStateInBonusSecond.create(this);this.blockRunningState=BlockRunningState.create(this);this.clayBlockSpreadState=ClayBlockSpreadState.create(this);this.giftBoxCleanState=GiftBoxCleanState.create(this);this.endResetValueStateEnter=EndResetValueStateEnter.create(this);this.wormEatState=WormEatState.create(this);
this.baldStrongDieState=BaldStrongDieState.create(this);this.baldStrongJumpState=BaldStrongJumpState.create(this);this.baldStrongCastingState=BaldStrongCastingState.create(this);this.kitchenGodState=KitchenGodState.create(this)},update:function(a){this.currentState&&this.currentState.update(a)},changeState:function(a){if(null!=a){if(this.currentState)this.currentState.onExit();this.currentState=a;this.currentState.onEnter();this.currentState&&this.changeState(this.currentState.checkNextState())}},
onEnter:function(){0<this.baldStrongDieState.onEnter()?this.currentState&&this.currentState.stopUpdate():this.currentState?this.changeState(this.currentState.checkNextState()):this.tileLogic.isPassLevelTime?this.changeState(this.passLevelAutoBombState):this.tileLogic.isInStep?this.changeState(this.conveyorBeltSwitchState):this.changeState(this.endResetValueStateEnter)},onExit:function(){this.currentState&&(this.currentState.onExit(),this.currentState=null)}});
StableStateMachine.create=function(a){var c=new StableStateMachine;c.tileLogic=a.tileLogic;c.itemFallingState=a;c.initStates();return c};var WatermelonReplaceState=cw.Class.extend(BaseStableState,{dispose:function(){this.context=this.tileView=this.tileLogic=null},onEnter:function(){this._super();var a=this;this.nextState=null;this.watermelonReplaceCount=0;this.watermelonReplaceTotalCount=TileExtandLogic.checkWatermelonReplace(this.tileLogic,function(){a.watermelonReplaceComplete()});0==this.watermelonReplaceTotalCount?this.nextState=this.getNextState():this.context.needLoopCheck=!0},watermelonReplaceComplete:function(){this.watermelonReplaceCount+=
1;this.watermelonReplaceCount>=this.watermelonReplaceTotalCount&&(HalfStableCheckLogic.checkAllMapWithNoMove(this.tileLogic),this.tileLogic.setNeedCheckFalling(),this.nextState=this)},onExit:function(){this._super();this.nextState=null;this.watermelonReplaceTotalCount=this.watermelonReplaceCount=0},checkNextState:function(){return this.nextState},getNextState:function(){return null}});WatermelonReplaceState.create=function(a){var c=new WatermelonReplaceState;c.initState(a);return c};
var WatermelonReplaceStateInSwapFirst=cw.Class.extend(WatermelonReplaceState,{getNextState:function(){return this.context.blockRunningState},getClassName:function(){return"WatermelonReplaceStateInSwapFirst"}});WatermelonReplaceStateInSwapFirst.create=function(a){var c=new WatermelonReplaceStateInSwapFirst;c.context=a;c.tileLogic=a.tileLogic;c.tileView=c.tileLogic.tileView;return c};
var WatermelonReplaceStateInLoop=cw.Class.extend(WatermelonReplaceState,{getClassName:function(){return"WatermelonReplaceStateInLoop"},getNextState:function(){return this.context.mapMoveStateInLoop}});WatermelonReplaceStateInLoop.create=function(a){var c=new WatermelonReplaceStateInLoop;c.context=a;c.tileLogic=a.tileLogic;c.tileView=c.tileLogic.tileView;return c};
var WatermelonReplaceStateInBonusFirst=cw.Class.extend(WatermelonReplaceState,{getNextState:function(){return this.context.passLevelStepToLineState},getClassName:function(){return"WatermelonReplaceStateInBonusFirst"}});WatermelonReplaceStateInBonusFirst.create=function(a){var c=new WatermelonReplaceStateInBonusFirst;c.context=a;c.tileLogic=a.tileLogic;c.tileView=c.tileLogic.tileView;return c};
var WatermelonReplaceStateInBonusSecond=cw.Class.extend(WatermelonReplaceState,{getNextState:function(){return this.context.gameOverState},getClassName:function(){return"WatermelonReplaceStateInBonusSecond"}});WatermelonReplaceStateInBonusSecond.create=function(a){var c=new WatermelonReplaceStateInBonusSecond;c.context=a;c.tileLogic=a.tileLogic;c.tileView=c.tileLogic.tileView;return c};WormEatState=cw.Class.extend(BaseStableState,{dispose:function(){this.context=this.tileView=this.tileLogic=null},onEnter:function(){this._super();var a=this,c=function(){a.handleTransferInStepComplete()};this.tileLogic.isInStep?(this.nextState=null,this.completeItem=0,this.totalItem=TileExtandLogic.checkWormState(this.tileLogic,c),0==this.totalItem&&(this.nextState=this.getNextState())):this.nextState=this.getNextState()},onExit:function(){this._super(this);this.nextState=null;this.totalItem=this.completeItem=
0},handleTransferInStepComplete:function(){this.completeItem+=1;this.completeItem>=this.totalItem&&(HalfStableCheckLogic.checkAllMapWithNoMove(this.tileLogic),this.nextState=this.getNextState(),this.tileLogic.setNeedCheckFalling())},getNextState:function(){return this.context.sandTransferState},checkNextState:function(){return this.nextState},getClassName:function(){return"WormEatState"}});WormEatState.create=function(a){var c=new WormEatState;c.initState(a);return c};BaseGameState=cw.Class({ctor:function(){},dispose:function(){this.tileLogic=null},initState:function(a){this.context=a;this.tileLogic=a.tileLogic;this.tileView=a.tileLogic.tileView},update:function(a){},onEnter:function(){printf("---------------\x3e ",this.getClassName()," Enter")},onExit:function(){printf("---------------\x3c ",this.getClassName()," Exit")},checkNextState:function(){},afterRefreshStable:function(a){},boardStableHandler:function(){},startExchangeHandler:function(){},getClassName:function(){return"BaseGameState"},
clearAction:function(a){if(this.actionList){var c=this.actionList[a];c&&c.dispose();this.actionList[a]=null}else printf("error : actionList is null")}});BaseGameState.create=function(a){var c=new BaseGameState;c.initState(a);return c};EditMapState=cw.Class.extend(BaseGameState,{initState:function(a){this._super(a);this.actionList=this.tileLogic.exchangeActionList},onEnter:function(){this._super();this.nextState=null},onExit:function(){this.nextState=null;this._super()},update:function(a){this.runExchangeAction()},checkNextState:function(){return this.nextState},getClassName:function(){return"EditMapState"},runExchangeAction:function(){for(var a in this.tileLogic.exchangeActionList){var c=this.tileLogic.exchangeActionList[a];this.runExchangeActionLogic(this.tileLogic,
c,a);this.runExchangeActionView(this.tileLogic.tileView,c)}},runExchangeActionLogic:function(a,c,d){c.actionStatus==TileActionStatus.kRunning&&(0>c.actionDuring?c.actionStatus=TileActionStatus.kWaitingForDeath:c.actionDuring-=1);c.actionType==ActionItemType.kItem_Fruit_Exchange_Color&&this.runItemExchangeCololLogic(a,c,d)},runExchangeActionView:function(a,c){c.actionType==ActionItemType.kItem_Fruit_Exchange_Color&&c.actionStatus==TileActionStatus.kWaitingForStart&&this.runItemExchangeColor(a,c)},
runItemExchangeColor:function(a,c){c.actionStatus=TileActionStatus.kRunning},runItemExchangeCololLogic:function(a,c,d){if(""==c.addInfo){c.addInfo="start";var e=c.itemPos1.x,f=c.itemPos1.y;c.callback(a.tileItemMap[e][f],function(d){c.addInfo="over";d||(d=c.addData,d.y=e,d.x=f,0<d.cardboardLevel?a.tileItemMap[e][f].cardboardLevel=0==a.tileItemMap[e][f].cardboardLevel?d.cardboardLevel:0:(d.isDelete||(d.cardboardLevel=a.tileItemMap[e][f].cardboardLevel),a.tileItemMap[e][f]=d),a.tileItemMap[e][f].isNeedUpdate=
!0)})}else"over"==c.addInfo&&(this.clearAction(d),this.nextState=this.context.waitingState)}});EditMapState.create=function(a){var c=new EditMapState;c.initState(a);return c};HoldExchangeState=cw.Class.extend(BaseGameState,{initState:function(a){this._super(a);this.actionList=this.tileLogic.exchangeActionList},onEnter:function(){this._super();this.nextState=null},onExit:function(){this.nextState=null;this._super()},update:function(a){this.runExchangeAction()},checkNextState:function(){return this.nextState},getClassName:function(){return"HoldExchangeState"},runExchangeAction:function(){for(var a=this.tileLogic.exchangeActionList.length,c=0;c<a;++c){var d=this.tileLogic.exchangeActionList[c];
this.runExchangeActionLogic(this.tileLogic,d,c);this.runExchangeActionView(this.tileLogic.tileView,d)}},runExchangeActionLogic:function(a,c,d){c.actionStatus==TileActionStatus.kRunning&&(0>c.actionDuring?c.actionStatus=TileActionStatus.kWaitingForDeath:c.actionDuring-=1);c.actionType==ActionItemType.kItem_Fruit_Exchange_Color&&this.runItemExchangeCololLogic(a,c,d)},runExchangeActionView:function(a,c){c.actionType==ActionItemType.kItem_Fruit_Exchange_Color&&c.actionStatus==TileActionStatus.kWaitingForStart&&
this.runItemExchangeColor(a,c)},runItemExchangeColor:function(a,c){c.actionStatus=TileActionStatus.kRunning},runItemExchangeCololLogic:function(a,c,d){if(""==c.addInfo){c.addInfo="start";var e=c.itemPos1.x,f=c.itemPos1.y,g=a.tileItemMap[e][f];d=a.tileView.baseMap[e][f];var h=a.tileBoardMap[e][f],m=c.addData;c.isProp&&0<m.boardSpType&&0<h.boardSpType&&!a.checkMatchQuick(e,f,g.fruitColorType)&&!ItemExchangeLogic.isOpenGiftBox(a,e,f,g.fruitColorType)&&(c.isPropMatch=!0);g.boardSpType=c.isPropMatch?0:
h.boardSpType;c.callback(g,function(){c.addInfo="over";g.fruitColorType=m.fruitColorType;g.fruitSpecialType=m.fruitSpecialType;g.fruitCondiment=m.fruitCondiment;g.isExchangePoint=!0;0<m.boardSpType&&(h.isDoubleBoardSp=0<h.boardSpType,h.boardSpType=m.boardSpType)});d.playFrutiExchangeColor(m,g.time)}else if("over"==c.addInfo){var e=c.itemPos1.x,f=c.itemPos1.y,n=c.addData.fruitColorType;ItemExchangeLogic.isOpenGiftBox(a,e,f,n)&&TileExtandLogic.runGiftBoxFinishAction(a,e,f,n,null,!0,!0);c.isPropMatch?
(h=a.tileBoardMap[e][f],h.isDoubleBoardSp=!1,h.boardSpType=0,h.isNeedUpdate=!0,ItemBombLogic._BombItemDoubleCutyPet(a,e,f,FruitTypeConfig.kCutyPet,0,3,!0,!1,!1)):c.isProp&&(h=a.tileBoardMap[e][f],h.isDoubleBoardSp=!1);0<c.addData.fruitSpecialType?(SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,e,f,1,!0),ItemBombLogic.tryCoverByBomb(a,e,f,!0,1),SpecialEffectLogic.SpecialCoverAtPos(a,e,f,3),e=cc.formatStr(GameMusicType.kEliminate,1),GameMusicManager.playEffect(e),this.clearAction(d),this.nextState=
this.context.itemFallingState,a.setNeedCheckFalling()):(this.clearAction(d),a.setNeedCheckFalling(),this.nextState=this.context.itemFallingState)}}});HoldExchangeState.create=function(a){var c=new HoldExchangeState;c.initState(a);return c};ItemFallingState=cw.Class.extend(BaseGameState,{dispose:function(){v.tileLogic=null;v.tileView=null;v.context=null;v.stableFSM.dispose();v.stableFSM=null},update:function(a){this.tileLogic.fallingMatchUpdate(a);this.stableFSM.update(a)},onEnter:function(){this._super();this.nextState=null},onExit:function(){this.nextState=null;this._super()},afterRefreshStable:function(a){a&&(this.nextState=this.context.waitingState);this.stableFSM.onExit()},boardStableHandler:function(){if(!this.nextState)this.stableFSM.onEnter()},
checkNextState:function(){return this.nextState},getClassName:function(){return"ItemFallingState"}});ItemFallingState.create=function(a){var c=new ItemFallingState;c.initState(a);a=StableStateMachine.create(c);c.stableFSM=a;return c};ItemSwapState=cw.Class.extend(BaseGameState,{initState:function(a){this._super(a);this.actionList=this.tileLogic.swapActionList},onEnter:function(){this._super();this.nextState=null},onExit:function(){this.nextState=null;this._super()},update:function(a){this.runSwapAction()},checkNextState:function(){return this.nextState},runSwapAction:function(){for(var a=this.tileLogic.swapActionList.length,c=0;c<a;++c){var d=this.tileLogic.swapActionList[c];this.runSwapActionLogic(this.tileLogic,d,c);this.runSwapActionView(this.tileLogic.tileView,
d)}},runSwapActionLogic:function(a,c,d){c.actionStatus==TileActionStatus.kRunning&&(0>c.actionDuring?c.actionStatus=TileActionStatus.kWaitingForDeath:c.actionDuring-=1);c.actionType==ActionBoardType.kStartTrySwapItem?c.actionStatus==TileActionStatus.kWaitingForDeath&&(a.swapItemToMatch(c.itemPos1.x,c.itemPos1.y,c.itemPos2.x,c.itemPos2.y,!0)[0]?(c.addInfo="success",this.clearAction(d),a.setNeedCheckFalling(),this.nextState=this.context.itemFallingState):(c=TileActionDataSet.create(ActionTargetType.kTileBoardAction,
ActionBoardType.kStartTrySwapItemFailed,c.itemPos1,c.itemPos2,TileConst_Swap_Failed_Action_Time),a.swapActionList[d]=c)):c.actionType==ActionBoardType.kStartTrySwapItemFailed?c.actionStatus==TileActionStatus.kWaitingForDeath&&(this.clearAction(d),this.nextState=this.context.waitingState):c.actionType==ActionBoardType.kStartTrySwapItem_fun&&c.actionStatus==TileActionStatus.kWaitingForDeath&&(c=TileActionDataSet.create(ActionTargetType.kTileBoardAction,ActionBoardType.kStartTrySwapItemFailed,c.itemPos1,
c.itemPos2,TileConst_Swap_Fun_Failed_Action_Time),a.swapActionList[d]=c)},runSwapActionView:function(a,c){c.actionStatus==TileActionStatus.kWaitingForStart?c.actionType==ActionBoardType.kStartTrySwapItem?(this.runSwapItemAction(a,c),c.actionStatus=TileActionStatus.kRunning):c.actionType==ActionBoardType.kStartTrySwapItemFailed?(this.runSwapItemFailedAction(a,c),c.actionStatus=TileActionStatus.kRunning):c.actionType==ActionBoardType.kStartTrySwapItem_fun&&(c.actionStatus=TileActionStatus.kRunning,
this.runSwapItemActionFun(a,c)):c.actionStatus==TileActionStatus.kWaitingForDeath&&c.actionType==ActionBoardType.kStartTrySwapItem&&this.runSwapItemActionComplete(a,c)},getItemPosition:function(a){return ccp((a.y+0.5)*TileConst_Tile_Width,(TileConst_Tile_Item_Max-a.x-0.5)*TileConst_Tile_Height)},getActionTime:function(a){return 1/TileConst_Action_FPS*a},runSwapItemAction:function(a,c){var d=c.itemPos2.x,e=c.itemPos2.y,f=a.baseMap[c.itemPos1.x][c.itemPos1.y].getGameItemSprite(),d=a.baseMap[d][e].getGameItemSprite();
if(null==f||null==d)return printf("this.runSwapItemAction sprite1 \x3d\x3d null || sprite2 \x3d\x3d null, it is a error!!!"),!1;var e=this.getItemPosition(c.itemPos1),g=this.getItemPosition(c.itemPos2),g=cc.moveTo(this.getActionTime(TileConst_Swap_Action_Time),g),e=cc.moveTo(this.getActionTime(TileConst_Swap_Action_Time),e);f.runAction(g);d.runAction(e)},runSwapItemActionComplete:function(a,c){if("success"==c.addInfo){var d=a.baseMap[c.itemPos1.x][c.itemPos1.y],e=a.baseMap[c.itemPos2.x][c.itemPos2.y],
f=null,g=0;e.tileSprite[TileViewType.kItem]?(g=TileViewType.kItem,f=e.tileSprite[TileViewType.kItem],e.tileSprite[TileViewType.kItem]=null):e.tileSprite[TileViewType.kItemShow]&&(g=TileViewType.kItemShow,f=e.tileSprite[TileViewType.kItemShow],e.tileSprite[TileViewType.kItemShow]=null);d.tileSprite[TileViewType.kItem]?(e.tileSprite[TileViewType.kItem]=d.tileSprite[TileViewType.kItem],d.tileSprite[TileViewType.kItem]=null):d.tileSprite[TileViewType.kItemShow]&&(e.tileSprite[TileViewType.kItemShow]=
d.tileSprite[TileViewType.kItemShow],d.tileSprite[TileViewType.kItemShow]=null);d.tileSprite[g]=f;var f=d.oldData.tileItemType,g=d.oldData.fruitColorType,h=d.oldData.fruitSpecialType,m=d.tileShowType,n=d.oldData.isBlock;d.oldData.tileItemType=e.oldData.tileItemType;d.oldData.fruitColorType=e.oldData.fruitColorType;d.oldData.fruitSpecialType=e.oldData.fruitSpecialType;d.tileShowType=e.tileShowType;d.oldData.isBlock=e.oldData.isBlock;e.oldData.tileItemType=f;e.oldData.fruitColorType=g;e.oldData.fruitSpecialType=
h;e.tileShowType=m;e.oldData.isBlock=n}},runSwapItemFailedAction:function(a,c){var d=c.itemPos2.x,e=c.itemPos2.y,f=a.baseMap[c.itemPos1.x][c.itemPos1.y].getGameItemSprite(),d=a.baseMap[d][e].getGameItemSprite();if(null==f||null==d)return printf("runSwapItemFailedAction error"),!1;var g=this.getItemPosition(c.itemPos1),e=this.getItemPosition(c.itemPos2),h=c.actionDuring,g=cc.moveTo(this.getActionTime(h),g),e=cc.moveTo(this.getActionTime(h),e);f.runAction(g);d.runAction(e)},runSwapItemActionFun:function(a,
c){var d=c.itemPos2.x,e=c.itemPos2.y,f=a.baseMap[c.itemPos1.x][c.itemPos1.y].getGameItemSprite(),d=a.baseMap[d][e].getGameItemSprite();if(null==f||null==d)return!1;var g=this.getItemPosition(c.itemPos1),e=this.getItemPosition(c.itemPos2),h=ccp((g.x+e.x)/2,(g.y+e.y)/2),g=ccp((g.x+h.x)/2,(g.y+h.y)/2),e=ccp((h.x+e.x)/2,(h.y+e.y)/2),h=cc.moveTo(this.getActionTime(TileConst_Swap_Fun_Action_Time),g),e=cc.moveTo(this.getActionTime(TileConst_Swap_Fun_Action_Time),e);f.runAction(h);d.runAction(e)}});
ItemSwapState.create=function(a){var c=new ItemSwapState;c.initState(a);return c};StateMachine=cw.Class({ctor:function(){this.currentState=null},dispose:function(){this.usePropState=this.itemSwapState=this.itemFallingState=this.waitingState=this.currentState=this.tileLogic=null},initStates:function(){this.waitingState=WaitingState.create(this);this.itemFallingState=ItemFallingState.create(this);this.itemSwapState=ItemSwapState.create(this);this.usePropState=UsePropState.create(this);this.holdExchangeState=HoldExchangeState.create(this);this.editMapState=EditMapState.create(this)},
initState:function(){this.changeState(this.itemFallingState)},update:function(a){this.currentState&&(this.changeState(this.currentState.checkNextState()),this.currentState.update(a))},changeState:function(a){if(null!=a){if(this.currentState)this.currentState.onExit();this.currentState=a;this.currentState.onEnter()}},afterRefreshStable:function(a){this.currentState&&this.currentState.afterRefreshStable(a)},boardStableHandler:function(){this.currentState&&this.currentState.boardStableHandler()},onStartExchange:function(){this.currentState==
this.waitingState&&this.currentState.startExchangeHandler()}});StateMachine.create=function(a){var c=new StateMachine;c.tileLogic=a;c.initStates();return c};UsePropState=cw.Class.extend(BaseGameState,{initState:function(a){this._super(a);this.actionList=this.tileLogic.propActionList},onEnter:function(){this.nextState=null;this._super()},onExit:function(){this.nextState=null;this._super()},update:function(a){this.runPropActionList(this.tileLogic)},checkNextState:function(){return this.nextState},runPropActionList:function(a){for(var c=a.propActionList.length,d=0;d<c;++d){var e=a.propActionList[d];this.runGamePropsActionLogic(a,e,d);this.runPropsActionView(a.tileView,
e)}},runGamePropsActionLogic:function(a,c,d){c.actionStatus==TileActionStatus.kRunning?0>c.actionDuring?c.actionStatus=TileActionStatus.kWaitingForDeath:(c.actionDuring-=1,c.actionType==ActionItemType.kItem_Refresh_ItemFly&&this.runningTileItemRefresh_Item_Flying(a,c,d)):c.actionStatus==TileActionStatus.kWaitingForDeath&&(c.actionType==ActionPropType.kHammer?this.runGamePropsHammerAction(a,c,d):c.actionType==ActionPropType.kSwap?this.runningGamePropSwapAction(a,c,d):c.actionType==ActionPropType.kMagicWand?
this.runGamePropsMagicWandAction(a,c,d):c.actionType==ActionPropType.kBack?this.runGamePropsBackAction(a,c,d):c.actionType==ActionPropType.kColorChange?this.runGamePropsColorChangeAction(a,c,d):c.actionType==ActionPropType.kRandomFive?this.runGamePropsRandomFiveAction(a,c,d):c.actionType==ActionPropType.kCrossEffect?this.runGamePropsCrossEffectAction(a,c,d):c.actionType==ActionPropType.kRegionalEffect&&this.runGamePropsRegionalEffectAction(a,c,d))},runGamePropsRegionalEffectAction:function(a,c,d){c.actionStatus==
TileActionStatus.kWaitingForDeath&&(ItemBombLogic.BombItemToChange(a,c.itemPos1.x,c.itemPos1.y,FruitTypeConfig.kBigBomb,!0,0,!1),this.nextState=this.context.itemFallingState,a.setNeedCheckFalling(),this.clearAction(d))},runGamePropsCrossEffectAction:function(a,c,d){c.actionStatus==TileActionStatus.kWaitingForDeath&&(ItemBombLogic.BombItemToChange(a,c.itemPos1.x,c.itemPos1.y,FruitTypeConfig.kBigCross,!0,0,!1),this.nextState=this.context.itemFallingState,a.setNeedCheckFalling(),this.clearAction(d))},
runGamePropsRandomFiveAction:function(a,c,d){"over"==c.addInfo&&(a=a.tileItemMap[c.itemPos1.x][c.itemPos1.y],cw.assert(a.tileItemType==TileItemType.kFruit),a.fruitColorType=FruitTypeConfig.kRandom,a.fruitSpecialType=FruitTypeConfig.kFive,a.isNeedUpdate=!0,this.nextState=this.context.waitingState,this.clearAction(d))},runGamePropsHammerAction:function(a,c,d){var e=c.itemPos1.x;c=c.itemPos1.y;SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,e,c,1,!0);ItemBombLogic.tryCoverByBomb(a,e,c,!0,1);SpecialEffectLogic.SpecialCoverAtPos(a,
e,c,3);e=cc.formatStr(GameMusicType.kEliminate,1);GameMusicManager.playEffect(e);this.clearAction(d);this.nextState=this.context.itemFallingState;a.setNeedCheckFalling()},runningGamePropSwapAction:function(a,c,d){if(c.actionStatus==TileActionStatus.kWaitingForDeath){var e=c.itemPos1.x,f=c.itemPos1.y,g=c.itemPos2.x;c=c.itemPos2.y;if(ItemSwapLogic._trySwapedMatchItem(a,e,f,g,c,!0)[0])a.swapInfo=[{r:e,c:f},{r:g,c:c}];else{var h=a.tileItemMap[e][f],m=a.tileItemMap[g][c],n=h.copy(),r=m.copy();m.copyFruitDataFrom(n);
h.copyFruitDataFrom(r);h.tileItemType==TileItemType.kWatermelon&&m.tileItemType==TileItemType.kWatermelon&&(h.watermelonUpdate=!0,m.watermelonUpdate=!0)}a.setNeedCheckFalling();this.nextState=this.context.itemFallingState;a.gameMode.afterSwap(e,f);a.gameMode.afterSwap(g,c);this.clearAction(d)}},runGamePropsMagicWandAction:function(a,c,d){var e=c.itemPos1.x,f=c.itemPos1.y,g;0>c.itemPos2.x?g=FruitTypeConfig.kLine:0<c.itemPos2.x?g=FruitTypeConfig.kBomb:0>c.itemPos2.y?g=FruitTypeConfig.kColumn:0<c.itemPos2.y&&
(g=FruitTypeConfig.kCross);a.tileItemMap[e][f].changeItemType(a.tileItemMap[e][f].fruitColorType,g);a.tileItemMap[e][f].isNeedUpdate=!0;this.clearAction(d);this.nextState=this.context.waitingState},runGamePropsBackAction:function(a,c,d){this.clearAction(d);a.gameMode.revertUIByBackProp();this.nextState=this.context.waitingState},runGamePropsColorChangeAction:function(a,c,d){var e=a.mapColorList,f=table.copyShuffle(e);c={};for(var g in e)c[e[g]]=f[g];for(g=0;g<a.tileItemMap.length;++g)for(e=0;e<a.tileItemMap[g].length;++e)(f=
a.tileItemMap[g][e])&&f.isUsed&&FruitTypeConfig.isColor(f.fruitColorType)&&(f.changeItemType(c[f.fruitColorType],f.fruitSpecialType),f.isNeedUpdate=!0);this.clearAction(d);this.nextState=this.context.waitingState},runningTileItemRefresh_Item_Flying:function(a,c,d){"over"==c.addInfo?(this.clearAction(d),this.nextState=this.context.waitingState):"Pass"==c.addInfo?(c.addInfo="waiting1",a.tileItemMap[c.itemPos1.x][c.itemPos1.y].isNeedUpdate=!0):"waiting1"==c.addInfo&&1==c.actionDuring&&(c.addInfo="over")},
runPropsActionView:function(a,c){c.actionStatus==TileActionStatus.kWaitingForStart?c.actionType==ActionPropType.kHammer?(GameWorldPropController.playUsePropAnimation(ActionPropType.kHammer,ccp(c.itemPos1.x,c.itemPos1.y)),c.actionStatus=TileActionStatus.kRunning):c.actionType==ActionPropType.kSwap?(this.runSwapItemAction(a,c),c.actionStatus=TileActionStatus.kRunning):c.actionType==ActionPropType.kMagicWand?c.actionStatus=TileActionStatus.kRunning:c.actionType==ActionPropType.kBack?(a.reInitByTileLogic(),
c.actionStatus=TileActionStatus.kRunning):c.actionType==ActionPropType.kColorChange?c.actionStatus=TileActionStatus.kRunning:c.actionType==ActionItemType.kItem_Refresh_ItemFly?(this.runTileItemActionPassRefreshItemFlying(a,c),this.runTileItemActionRefresh_Item_Flying(a,c)):c.actionType==ActionPropType.kRandomFive?this.runTileItemActionRandomFive(a,c):c.actionType==ActionPropType.kCrossEffect?this.runTileItemActionCrossEffect(a,c):c.actionType==ActionPropType.kRegionalEffect&&this.runTileItemActionRegionalEffect(a,
c):c.actionType==ActionItemType.kItem_Refresh_ItemFly&&"over"==c.addInfo&&this.runTileItemActionPassRefreshItemFlyingOver(a,c)},runTileItemActionRegionalEffect:function(a,c){c.actionStatus==TileActionStatus.kWaitingForStart&&(c.actionStatus=TileActionStatus.kRunning,GameWorldPropController.playUsePropAnimation(ActionPropType.kRegionalEffect,ccp(c.itemPos1.x,c.itemPos1.y)))},runTileItemActionCrossEffect:function(a,c){c.actionStatus==TileActionStatus.kWaitingForStart&&(c.actionStatus=TileActionStatus.kRunning,
GameWorldPropController.playUsePropAnimation(ActionPropType.kCrossEffect,ccp(c.itemPos1.x,c.itemPos1.y)))},runTileItemActionRandomFive:function(a,c){c.actionStatus==TileActionStatus.kWaitingForStart&&(c.actionStatus=TileActionStatus.kRunning,Utils.delayCall(function(){c.addInfo="over"},0.5))},runSwapItemAction:function(a,c){var d=c.itemPos2.x,e=c.itemPos2.y,f=a.baseMap[c.itemPos1.x][c.itemPos1.y].getGameItemSprite(),d=a.baseMap[d][e].getGameItemSprite();if(null==f||null==d)return printf("UsePropState.runSwapItemAction sprite1 \x3d\x3d null || sprite2 \x3d\x3d null, it is a error!!!"),
!1;var e=UsePropState.getItemPosition(c.itemPos1),g=UsePropState.getItemPosition(c.itemPos2),g=cc.moveTo(UsePropState.getActionTime(TileConst_Swap_Action_Time),g),e=cc.moveTo(UsePropState.getActionTime(TileConst_Swap_Action_Time),e);f.runAction(g);d.runAction(e)},getItemPosition:function(a){return ccp((a.y+0.5)*TileConst_Tile_Width,(TileConst_Tile_Item_Max-a.x-0.5)*TileConst_Tile_Height)},getActionTime:function(a){return 1/TileConst_Action_FPS*a},runTileItemActionRefresh_Item_Flying:function(a,c){c.actionStatus=
TileActionStatus.kRunning;var d=c.itemPos1.x,e=c.itemPos1.y,f=c.itemPos2.x,g=c.itemPos2.y,h=a.baseMap[d][e],e=h.getBasePosition(e,d),g=h.getBasePosition(g,f);if(null!=h.tileSprite[TileViewType.kSpecial]){var m=this.getItemPosition(a.centerXY),n=TileItemViewRunner.getActionTime(TileConst_Refresh_Item_Flying_Time),d=60*(d+f),f=80*Math.cos(d),r=80*Math.sin(d),d=ccp(m.x+f,m.y+r),r=ccp(m.x-f,m.y-r),s=0.2*Math.random()*n,f=[];f.push(cc.moveTo(0.1*n+s,m).easing(cc.easeSineIn()));f.push(cc.moveTo(0.1*n,d).easing(cc.easeSineOut()));
f.push(cc.moveTo(0.2*n,r).easing(cc.easeSineOut()));f.push(cc.moveTo(0.1*n,m).easing(cc.easeSineOut()));f.push(cc.moveTo(0.3*n,e).easing(cc.easeSineOut()));h=h.tileSprite[TileViewType.kSpecial];h.stopAllActions();h.setPosition(g);h.runAction(cc.sequence(f))}},runTileItemActionPassRefreshItemFlying:function(a,c){var d=c.itemPos1.x,e=c.itemPos1.y,f=a.baseMap[d][e],d=a.tileLogic.tileItemMap[d][e];f.flyingSpriteIntoItem(a.baseMap[c.itemPos2.x][c.itemPos2.y]);f.oldData&&(f.isNeedUpdate=!0,f.oldData.fruitColorType=
d.fruitColorType,f.oldData.fruitSpecialType=d.fruitSpecialType,FruitTypeConfig.isFiveOrSix(d.fruitSpecialType)?f.tileShowType=TileSpriteShowType.kFive:f.tileShowType=TileSpriteShowType.kCharacter)},runTileItemActionPassRefreshItemFlyingOver:function(a,c){var d=a.baseMap[c.itemPos1.x][c.itemPos1.y];d.flyingSpriteIntoItemEnd();d.isNeedUpdate=!0},getClassName:function(){return"UsePropState"}});UsePropState.create=function(a){var c=new UsePropState;c.initState(a);return c};WaitingState=cw.Class.extend(BaseGameState,{onEnter:function(){this._super();this.nextState=null;TileExtandLogic.onEnterWaitingState(this.tileLogic);this.tileLogic.gameMode.isGameEnd()&&!this.tileLogic.freeClick?this.tileLogic.setGamePlayStatus(TileGameStatus.kEnd):this.tileLogic.startWaitingOperation();notification.postEvent("event.ui.updataWaitingState")},onExit:function(){this.tileLogic.stopWaitingOperation();this.nextState=null;this._super()},update:function(a){},checkNextState:function(){return this.nextState},
startExchangeHandler:function(){this.tileLogic.stopWaitingOperation();this.nextState=this.tileLogic.isEditMode?this.context.editMapState:this.context.holdExchangeState},getClassName:function(){return"WaitingState"}});WaitingState.create=function(a){var c=new WaitingState;c.initState(a);return c};ActionTargetType=Utils.Enum(["kNone","kTileBoardAction","kTileItemAction","kPorpAction"]);ActionBoardType=Utils.Enum("kNone kStartTrySwapItem kStartTrySwapItemFailed kStartTrySwapItem_fun kStartPassLevel kStartPassLevel_ItemFlying".split(" "));ActionItemType=Utils.Enum("kNone kItemEliminate_ItemByMatch kItemFalling_Up kItemFalling_LeftRight kItemFalling_Product kItemFalling_Product_Down kItemFalling_Pass kItemFalling_Down kItemFalling_Left kItemFalling_Right kItemEliminate_Ice kItemEliminate_Lock kItemEliminate_Stone kItemEliminate_Sandstorm kItemEliminate_JumpCat kItemEliminate_Worm kItemEliminate_Sand kItemEliminate_Cross kItemEliminate_Line kItemEliminate_Column kItemEliminate_Boom kItemEliminate_Five kItemEliminate_Six kItemEliminate_CutyPet kItemEliminate_CutyPet_Skill_2 kItemEliminate_CutyPet_Pinball_Bounce kItemEliminate_CutyPet_Fly_4 kItemEliminate_BigCross kItemEliminate_BigBomb kItemEliminate_DoubleCutyPet kItemEliminate_FiveSelf kItemSwap_FiveCross kItemSwap_FiveCross_Fly kItemSwap_FiveLine kItemSwap_FiveLine_Fly kItemSwap_FiveBoom kItemSwap_FiveBoom_Fly kItemSwap_FiveFive kItemSwap_FiveFive_ItemEliminate kItemSwap_FiveFruit_ItemEliminate kItemSwap_BoomBoom kItemSwap_CrossOther kItemSwap_CrossOther_Fly kItem_Shake kItem_Jump_Six kItem_Press kItem_ForceMove kItem_ConveyorBelt kItem_ConveyorBelt_Switch_Brake kItem_ConveyorBelt_Switch_Gear kItem_WitchBomb kItem_Refresh_ItemFly kItem_DetonateBomb kItemScore_Get kItemOrderList_Get kItem_BearGoHome kItem_Fruit_Change kItem_Flame_Spread kItem_Sandstorm_Spread kItem_JumpCat_Jump kItem_Watermelon_Upgrade kItem_Watermelon_Replace kItem_ClayBlock_Spread kItem_ClayBlock_Clean kItem_ClayBlock_Order kItem_GiftBox_Order kItem_GiftBox_Finish kItem_Boss_Loss_Blood kItem_BaldStrong_Flame_Casting kItem_BaldStrong_Die kItem_BaldStrong_Move kItem_CondimentGunSpray kItem_CondimentSpray kItem_Worm_Eat kItem_Worm_Wakeup kItem_KitchenGod_Add_Block kItem_Sand_Transfer kItem_Fruit_Exchange_Color".split(" "));
ActionPropType=Utils.Enum("kNone kHammer kSwap kMagicWand kBack kRandomFive kDetonateEffect kRegionalEffect kCrossEffect".split(" "));TileActionStatus=Utils.Enum(["kNone","kWaitingForStart","kRunning","kWaitingForDeath"]);
TileActionDataSet=cw.Class({ctor:function(){this.initData()},initData:function(){this.actionType=this.actionTarget=0;this.itemPos2=this.itemPos1=null;this.actionDuring=this.actionStatus=this.actId=0;this.addInfo="";this.addInt2=this.addInt=0;this.noDelete=this.beltType=this.hasMatch=this.isStarted=this.cutyPetType=this.color=this.callback=null},dispose:function(){this.initData();TileActionDataSet.pool.recover(this)}});TileActionDataSet.pool=PoolManager.create("TileActionDataSet",TileActionDataSet);
TileActionDataSet.create=function(a,c,d,e,f){var g=this.pool.create();g.addInfo="";g.actionTarget=a;g.actionType=c;g.itemPos1=d;g.itemPos2=e;g.actionStatus=TileActionStatus.kWaitingForStart;g.actionDuring=f;return g};TileActionRunner=cw.Class({});TileActionRunner.runActionList=function(a,c){if(null!=a.gameActionList)for(var d=a.gameActionList.length,e=0;e<d;++e){var f=a.gameActionList[e];f&&f.actionTarget==ActionTargetType.kTileItemAction&&this.runTileItemAction(a,f,e,c)}};
TileActionRunner.runTileItemAction=function(a,c,d,e){e||c.actionStatus!=TileActionStatus.kWaitingForStart||(c.actionStatus=TileActionStatus.kRunning);c.actionStatus==TileActionStatus.kRunning&&(0>c.actionDuring?c.actionStatus=TileActionStatus.kWaitingForDeath:(c.actionDuring-=1,this.runningTileItemAction(a,c,d,e)));c.actionStatus==TileActionStatus.kWaitingForDeath&&this.clearAction(a,d)};TileActionRunner.clearAction=function(a,c){var d=a.gameActionList[c];d&&d.dispose();a.gameActionList[c]=null};
TileActionRunner.runningTileItemAction=function(a,c,d,e){var f=c.actionType;f==ActionItemType.kItem_Refresh_ItemFly?this.running_Refresh_ItemFly(a,c,d,e):f==ActionItemType.kItem_Fruit_Change?this.running_Fruit_Change(a,c,d,e):f==ActionItemType.kItem_Fruit_Exchange_Color?this.running_Fruit_ExchangeColor(a,c,d,e):f==ActionItemType.kItem_Sandstorm_Spread?this.running_Sandstorm_Spread(a,c,d,e):f==ActionItemType.kItem_Flame_Spread?this.running_Flame_Spread(a,c,d,e):f==ActionItemType.kItem_ClayBlock_Spread?
this.running_ClayBlock_Spread(a,c,d,e):f==ActionItemType.kItem_ClayBlock_Clean?this.running_ClayBlock_Clean(a,c,d,e):f==ActionItemType.kItem_ClayBlock_Order?this.running_ClayBlock_Order(a,c,d,e):f==ActionItemType.kItem_GiftBox_Finish?this.running_GiftBox_Finish(a,c,d,e):f==ActionItemType.kItem_GiftBox_Order?this.running_GiftBox_Order(a,c,d,e):f==ActionItemType.kItem_JumpCat_Jump?this.running_JumpCat_Transfer(a,c,d,e):f==ActionItemType.kItem_Watermelon_Replace?this.running_Watermelon_Replace(a,c,d,
e):f==ActionItemType.kItem_ForceMove?this.running_ForceMoveItem(a,c,d,e):f==ActionItemType.kItem_BaldStrong_Die?this.running_BaldStrongDie(a,c,d,e):f==ActionItemType.kItem_BaldStrong_Move?this.running_BaldStrongMove(a,c,d,e):f==ActionItemType.kItem_ConveyorBelt?this.running_ConveyorBelt(a,c,d,e):f==ActionItemType.kItem_BaldStrong_Flame_Casting?this.running_BaldStrongFlameCasting(a,c,d,e):f==ActionItemType.kItem_DetonateBomb?this.running_DetonateBomb(a,c,d,e):f==ActionItemType.kItem_CondimentGunSpray?
this.running_CondimentGunSpray(a,c,d,e):f==ActionItemType.kItem_CondimentSpray?this.running_CondimentSpray(a,c,d,e):f==ActionItemType.kItem_ConveyorBelt_Switch_Brake?this.running_ConveyorBeltSwitchBrake(a,c,d,e):f==ActionItemType.kItem_ConveyorBelt_Switch_Gear?this.running_ConveyorBeltSwitchGear(a,c,d,e):f==ActionItemType.kItem_Worm_Wakeup?this.running_Worm_Wakeup(a,c,d,e):f==ActionItemType.kItem_Worm_Eat?this.running_Worm_Eat(a,c,d,e):f==ActionItemType.kItem_KitchenGod_Add_Block?this.running_KitchenGod_Add_Block(a,
c,d,e):c.actionType==ActionItemType.kItem_Sand_Transfer&&this.running_Sand_Transfer(a,c,d,e)};TileActionRunner.running_Sand_Transfer=function(a,c,d,e){"over"==c.addInfo&&(c.completeCallback&&c.completeCallback(),this.clearAction(a,d))};
TileActionRunner.running_KitchenGod_Add_Block=function(a,c,d,e){if("over"==c.addInfo){var f=c.itemPos1.x,g=c.itemPos1.y;e=a.tileItemMap[f][g];f=a.tileBoardMap[f][g];1==c.addInt?(e.changeToStone(c.addInt2),f.isBlock=e.isBlock):2==c.addInt?f.iceLevel=c.addInt2:3==c.addInt?e.tileItemType=TileItemType.kHelmet:4==c.addInt&&(e.cardboardLevel=1,e.isBlock=!0,e.isEmpty=!1,f.isBlock=!0);f.isNeedUpdate=!0;e.isNeedUpdate=!0;c.callback&&c.callback();this.clearAction(a,d)}};
TileActionRunner.running_Worm_Wakeup=function(a,c,d,e){"over"==c.addInfo&&(a.tileItemMap[c.itemPos1.x][c.itemPos1.y].wormLevel=2,c.callback&&c.callback(),this.clearAction(a,d))};
TileActionRunner.running_Worm_Eat=function(a,c,d,e){if("waiting"==c.addInfo)(e=ItemMatchLogic.getWormEatTarget(a,c.itemPos1.x,c.itemPos1.y))?(c.addInfo="goto",c.itemPos2=ccp(e.r,e.c)):(c.callback&&c.callback(),this.clearAction(a,d));else if("goto_over"==c.addInfo)c.addInfo="eat";else if("over"==c.addInfo){e=c.itemPos2.x;var f=c.itemPos2.y;a.tileItemMap[c.itemPos1.x][c.itemPos1.y].cleanFruitData();a.tileItemMap[e][f].changeToWorm();c.callback&&c.callback();this.clearAction(a,d)}};
TileActionRunner.running_ConveyorBeltSwitchBrake=function(a,c,d,e){"waiting"==c.addInfo?(a.switchBrakeData&&(a.switchBrakeData.switchChange=!1,a.changeSwitchAreaColor(1,1==a.switchBrakeData.switchBrake)),c.addInfo="over"):"over"==c.addInfo&&(c.callback&&c.callback(),this.clearAction(a,d))};
TileActionRunner.running_ConveyorBeltSwitchGear=function(a,c,d,e){"waiting"==c.addInfo?(a.switchGearData&&(a.switchGearData.switchChange=!1,a.changeSwitchAreaColor(2,1==a.switchGearData.switchGear)),c.addInfo="over"):"over"==c.addInfo&&(c.callback&&c.callback(),this.clearAction(a,d))};
TileActionRunner.running_CondimentGunSpray=function(a,c,d,e){if("waiting"==c.addInfo){d=a.tileItemMap;e=a.tileBoardMap;var f=c.itemPos1.x,g=c.itemPos1.y,h=d[f][g],m=[],n=function(a){return a.isBeBlock()||a.tileItemType==TileItemType.kHelmet||a.tileItemType==TileItemType.kWorm?!0:!1};if(c.direction==TileItemCondimentDirection.kLeft)for(var r=g-1;r>=Math.max(0,g-h.condimentGunArea);--r){var s=d[f][r],t=e[f][r];if(t.isUsed)if(n(s,t)||s.tileItemType!=TileItemType.kFruit)break;else table.insert(m,{r:f,
c:r})}else if(c.direction==TileItemCondimentDirection.kRight)for(r=g+1;r<=Math.min(d[f].length-1,g+h.condimentGunArea);++r){if(s=d[f][r],t=e[f][r],t.isUsed)if(n(s,t)||s.tileItemType!=TileItemType.kFruit)break;else table.insert(m,{r:f,c:r})}else if(c.direction==TileItemCondimentDirection.kUp)for(r=f-1;r>=Math.max(0,f-h.condimentGunArea);--r){if(s=d[r][g],t=e[r][g],t.isUsed)if(n(s,t)||s.tileItemType!=TileItemType.kFruit)break;else table.insert(m,{r:r,c:g})}else if(c.direction==TileItemCondimentDirection.kDown)for(r=
f+1;r<=Math.min(d.length-1,f+h.condimentGunArea);++r)if(s=d[r][g],t=e[r][g],t.isUsed)if(n(s,t)||s.tileItemType!=TileItemType.kFruit)break;else table.insert(m,{r:r,c:g});c.targetList=m;var u=m.length;c.addInfo="spray";d=function(){u-=1;0>=u&&(c.addInfo="over")};0==u&&d();for(var w in c.targetList)f=c.targetList[w],e=0.1*(tonumber(w)+1),f=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItem_CondimentSpray,ccp(f.r,f.c),null,TileConst_Condiment_Spray+e*TileConst_Action_FPS),
f.delayTime=e,f.callback=d,a.addGameAction(f)}else"over"==c.addInfo&&(c.callback&&c.callback(),this.clearAction(a,d))};TileActionRunner.running_CondimentSpray=function(a,c,d,e){if("waiting"==c.addInfo){e=c.itemPos1.x;var f=c.itemPos1.y;e=a.tileItemMap[e][f];e.fruitCondiment=1;c.addInfo="spray"}else"over"==c.addInfo&&(e=c.itemPos1.x,f=c.itemPos1.y,e=a.tileItemMap[e][f],e.isNeedUpdate=!0,c.callback&&c.callback(),this.clearAction(a,d))};
TileActionRunner.running_ConveyorBelt=function(a,c,d,e){if("moveOver"==c.addInfo){e=c.itemPos2.x;var f=c.itemPos2.y;d=a.tileItemMap[e][f];c.itemData.x=d.x;c.itemData.y=d.y;!c.isGear&&c.boardData.beltType==ConveyorBeltType.kEnd&&c.toData?(c.toData&&c.toData.iceLevel&&(c.boardData.iceLevel=c.toData.iceLevel),c.toData.isUsed=c.itemData.isUsed,c.toData.isEmpty=!1,c.toData.x=c.itemData.x,c.toData.y=c.itemData.y,c.toData.h=c.itemData.h,c.toData.w=c.itemData.w,c.itemData=c.toData.copy()):c.isGear&&c.boardData.beltType==
ConveyorBeltType.kStart&&c.toData&&(c.toData&&c.toData.iceLevel&&(c.boardData.iceLevel=c.toData.iceLevel),c.toData.isUsed=c.itemData.isUsed,c.toData.isEmpty=!1,c.toData.x=c.itemData.x,c.toData.y=c.itemData.y,c.toData.h=c.itemData.h,c.toData.w=c.itemData.w,c.itemData=c.toData.copy());a.tileBoardMap[e][f].changeDataAfterBelt(c.boardData);a.tileBoardMap[e][f].isNeedUpdate=!1;a.tileItemMap[e][f].copyFruitDataFrom(c.itemData);a.tileItemMap[e][f].isNeedUpdate=!1;c.boardData=a.tileBoardMap[e][f];c.addInfo=
"reInitView"}else"over"==c.addInfo&&(e=c.itemPos2.x,f=c.itemPos2.y,a.addNeedCheckMatchPoint(e,f),a.checkItemBlock(e,f),a.gameMode.afterStable(e,f),c.callback&&c.callback(),this.clearAction(a,d))};
TileActionRunner.running_BaldStrongFlameCasting=function(a,c,d,e){if("anim_over"==c.addInfo)for(c.addInfo="data_over",c=c.targetPositions,d=0;d<c.length;++d){var f=c[d];e=a.tileItemMap[f.r][f.c];f=a.tileBoardMap[f.r][f.c];e.changeToFlame();f.isBlock=!0;e.isNeedUpdate=!0}else"over"==c.addInfo&&(c.callback&&c.callback(),this.clearAction(a,d))};
TileActionRunner.runningActionBossJump=function(a,c,d,e){e=function(c,d){var e=a.tileItemMap[c][d];e.cleanFruitData();e.isBlock=!1;e.isNeedUpdate=!0;a.checkItemBlock(c,d)};var f=function(c,d,e,f){a.tileItemMap[e][f]=a.tileItemMap[c][d].copy();a.tileItemMap[e][f].isNeedUpdate=!0;a.tileItemMap[e][f].x=f;a.tileItemMap[e][f].y=e;a.checkItemBlock(e,f)};if("over"==c.addInfo){var g=c.itemPos1.x,h=c.itemPos1.y,m=c.itemPos2.x,n=c.itemPos2.y;f(g,h,m,n);f(g,h+1,m,n+1);f(g+1,h,m+1,n);f(g+1,h+1,m+1,n+1);e(g,h);
e(g+1,h);e(g,h+1);e(g+1,h+1);c.callback&&c.callback();this.clearAction(a,d);a.setNeedCheckFalling();ItemFallingLogic.preUpdateHelpMap(a)}};
TileActionRunner.running_BaldStrongDie=function(a,c,d,e){if("over"==c.addInfo){e=c.itemPos1.x;var f=c.itemPos1.y,g=a.tileItemMap[e][f];TileExtandLogic.itemDestroyHandler(a,e,f);for(var g=g.bossSize,h=1;h<=g;++h)for(var m=1;m<=g;++m){var n=e+h-1,r=f+m-1,s=a.tileItemMap[n][r];s.cleanFruitData();s.isBlock=!1;s.isNeedUpdate=!0;a.checkItemBlock(n,r)}c.callback&&c.callback();this.clearAction(a,d);a.setNeedCheckFalling();ItemFallingLogic.preUpdateHelpMap(a)}};
TileActionRunner.running_BaldStrongMove=function(a,c,d,e){var f=function(c,d){var e=a.tileItemMap[c][d];e.cleanFruitData();e.isBlock=!1;e.isNeedUpdate=!0;a.checkItemBlock(c,d)},g=function(c,d,e,f){a.tileItemMap[e][f]=a.tileItemMap[c][d].copy();a.tileItemMap[e][f].isNeedUpdate=!0;a.tileItemMap[e][f].x=f;a.tileItemMap[e][f].y=e;a.checkItemBlock(e,f)};e=function(a){var c=a[0],d=a[1],e=a[2],g=a[3],h=a[4];a=a[5];if(h==DefaultDirConfig.kLeft)for(h=d+a-1;h>=g+a;--h)for(var m=1;m<=a;++m){var n=c+m-1,r=h;
f(n,r)}else if(h==DefaultDirConfig.kRight)for(h=d;h<=g-1;++h)for(m=1;m<=a;++m)n=c+m-1,r=h,f(n,r);else if(h==DefaultDirConfig.kUp)for(h=c+a-1;h>=e+a;--h)for(m=1;m<=a;++m)n=h,r=d+m-1,f(n,r);else if(h==DefaultDirConfig.kDown)for(h=c;h<=e-1;++h)for(m=1;m<=a;++m)n=h,r=d+m-1,f(n,r)};var h=function(a,c,d,e,f,h){if(f==DefaultDirConfig.kLeft||f==DefaultDirConfig.kUp)for(f=1;f<=h;++f)for(var m=1;m<=h;++m)g(a+f-1,c+m-1,d+f-1,e+m-1);else if(f==DefaultDirConfig.kRight||DefaultDirConfig.kDown)for(f=h;1<=f;--f)for(m=
h;1<=m;--m)g(a+f-1,c+m-1,d+f-1,e+m-1)},m=function(a,d,e,f,g,h){var m=Math.abs(a-e),n=Math.abs(d-f);if(g==DefaultDirConfig.kLeft||g==DefaultDirConfig.kRight){if(n<h)return[a,d,e,f,g,h]}else if((g==DefaultDirConfig.kUp||g==DefaultDirConfig.kDown)&&m<h)return[a,d,e,f,g,h];return[a,d,a,d+c.bossSize,DefaultDirConfig.kRight,h]};if("over"==c.addInfo){var n=c.itemPos1.x,r=c.itemPos1.y,s=c.itemPos2.x,t=c.itemPos2.y;h(n,r,s,t,c.dir,c.bossSize);e(m(n,r,s,t,c.dir,c.bossSize));c.callback&&c.callback();this.clearAction(a,
d);a.setNeedCheckFalling();ItemFallingLogic.preUpdateHelpMap(a)}};TileActionRunner.running_ForceMoveItem=function(a,c,d,e){"over"==c.addInfo&&(c.addInfo=null,c.isTop&&a.tileItemMap[c.itemPos1.x][c.itemPos1.y].cleanFruitData(),c.callback&&c.callback(),this.clearAction(a,d))};
TileActionRunner.running_Refresh_ItemFly=function(a,c,d,e){"over"==c.addInfo?(c.callback&&c.callback(),this.clearAction(a,d)):"Pass"==c.addInfo?(c.addInfo="waiting1",a.tileItemMap[c.itemPos1.x][c.itemPos1.y].isNeedUpdate=!0):"waiting1"==c.addInfo&&1==c.actionDuring&&(c.addInfo="over")};TileActionRunner.running_Fruit_Change=function(a,c,d,e){"over"==c.addInfo?(c.callback&&c.callback(),this.clearAction(a,d)):1==c.actionDuring&&(c.addInfo="over")};
TileActionRunner.running_Fruit_ExchangeColor=function(a,c,d,e){"over"==c.addInfo?(c.callback&&c.callback(),this.clearAction(a,d)):1==c.actionDuring&&(c.addInfo="over")};
TileActionRunner.running_Sandstorm_Spread=function(a,c,d,e){"replace"==c.addInfo?(c.addInfo="replaceView",d=c.itemPos2.x,e=c.itemPos2.y,c=a.tileItemMap[d]&&a.tileItemMap[d][e],d=a.tileBoardMap[d]&&a.tileBoardMap[d][e],c&&(c.changeToSandstorm(),c.isNeedUpdate=!0),d&&(d.isBlock=!0),ItemFallingLogic.preUpdateHelpMap(a)):"over"==c.addInfo&&(c.callback&&c.callback(),this.clearAction(a,d))};
TileActionRunner.running_Flame_Spread=function(a,c,d,e){"replace"==c.addInfo?(c.addInfo="replaceView",d=c.itemPos2.x,e=c.itemPos2.y,c=a.tileItemMap[d]&&a.tileItemMap[d][e],d=a.tileBoardMap[d]&&a.tileBoardMap[d][e],c&&(c.changeToFlame(),c.isNeedUpdate=!0),d&&(d.isBlock=!0),ItemFallingLogic.preUpdateHelpMap(a)):"over"==c.addInfo&&(c.callback&&c.callback(),this.clearAction(a,d))};
TileActionRunner.running_ClayBlock_Spread=function(a,c,d,e){if("replace"==c.addInfo){c.addInfo="replaceView";e=c.itemPos1.x;var f=c.itemPos1.y;d=c.itemPos2.x;c=c.itemPos2.y;e=a.tileItemMap[e]&&a.tileItemMap[e][f];var f=a.tileItemMap[d]&&a.tileItemMap[d][c],g=a.tileBoardMap[d]&&a.tileBoardMap[d][c];(d=a.tileBoardMap[d+1]&&a.tileBoardMap[d+1][c])&&d.initOutput(TileItemFallType.kOutputAll);f&&e&&(f.changeToClayBlock(e.fruitColorType),f.isNeedUpdate=!0);g&&(g.isBlock=!0);ItemFallingLogic.preUpdateHelpMap(a)}else"over"==
c.addInfo&&(c.callback&&c.callback(),this.clearAction(a,d))};
TileActionRunner.running_ClayBlock_Clean=function(a,c,d,e){if("over"==c.addInfo){for(e=0;e<a.tileItemMap.length;++e)for(var f=0;f<a.tileItemMap[e].length;++f){var g=a.tileItemMap[e][f];if(g&&g.isAvailable()&&g.tileItemType==TileItemType.kClayBlock&&c.color==g.fruitColorType){var g=e,h=f,m=a.tileItemMap[g][h];m.cleanFruitData();m.isBlock=!1;m.isNeedUpdate=!0;a.checkItemBlock(g,h);e<a.tileItemMap.length-1&&(g=a.tileBoardMap[e+1][f])&&g.clearOutput(TileItemFallType.kOutputAll)}}a.setNeedCheckFalling();ItemFallingLogic.preUpdateHelpMap(a);
c.callback&&c.callback();this.clearAction(a,d)}};
TileActionRunner.running_ClayBlock_Order=function(a,c,d,e){if("anim_over"==c.addInfo)for(c.addInfo="data_over",d=c.color,c=c.targetPositions,e=0;e<c.length;++e){var f=c[e],g=a.tileItemMap[f.r][f.c],h=a.tileBoardMap[f.r][f.c];g.changeToClayBlock(d);h.isBlock=!0;g.isNeedUpdate=!0;(f=a.tileBoardMap[f.r+1]&&a.tileBoardMap[f.r+1][f.c])&&f.initOutput(TileItemFallType.kOutputAll)}else"over"==c.addInfo&&(c.callback&&c.callback(),this.clearAction(a,d),a.setNeedCheckFalling(),ItemFallingLogic.preUpdateHelpMap(a))};
TileActionRunner.running_GiftBox_Finish=function(a,c,d,e){if("over"==c.addInfo){e=c.itemPos1.x;var f=c.itemPos1.y,g=a.tileItemMap[e][f],h=a.tileBoardMap[e][f];c.noDelete?c.noDelete=null:(g.cleanFruitData(),g.isBlock=!1,g.isNeedUpdate=!0,h.giftColor=0,h.isNeedUpdate=!0,a.checkItemBlock(e,f));h.giftColor=0;h.isNeedUpdate=!0;ScoreCalculateLogic.addScoreAtSiteByType(a,e,f,ScoreType.kBase_GiftBox);c.callback&&c.callback();this.clearAction(a,d);a.setNeedCheckFalling()}};
TileActionRunner.running_GiftBox_Order=function(a,c,d,e){if("anim_over"==c.addInfo)for(c.addInfo="data_over",d=c.color,c=c.targetPositions,e=0;e<c.length;++e){var f=c[e],g=a.tileItemMap[f.r][f.c],f=a.tileBoardMap[f.r][f.c];f.giftColor=d;g.isNeedUpdate=!0;f.isNeedUpdate=!0}else"over"==c.addInfo&&(c.callback&&c.callback(),this.clearAction(a,d),a.setNeedCheckFalling(),ItemFallingLogic.preUpdateHelpMap(a))};
TileActionRunner.running_JumpCat_Transfer=function(a,c,d,e){"over"==c.addInfo&&(c.callback&&c.callback(),this.clearAction(a,d))};TileActionRunner.running_Watermelon_Replace=function(a,c,d,e){if("replace"==c.addInfo){d=[];for(e=0;e<c.itemList.length;++e){var f=c.itemList[e],g=f.x,f=f.y;a.tileItemMap[g][f].isNeedUpdate=!0;d.push({r:g,c:f})}c.addInfo="over";c.isHoney&&HoneyEffectLogic.doEffectToHoneyAtList(a,d,c.isHoney)}else"over"==c.addInfo&&(c.callback&&c.callback(),this.clearAction(a,d))};
TileActionRunner.running_DetonateBomb=function(a,c,d,e){""==c.addInfo?(c.timeCount=0,c.addInfo="bomb"):"fly"!=c.addInfo&&"bomb"==c.addInfo&&(c.timeCount+=1,c.timeCount>=TileConst_PassLevel_RandomBomb_Time&&(c.timeCount=0,(e=ItemBombLogic.PassLevelTime_RandomBombEffect(a,!0))?GameWorldPropController.playUsePropAnimation(ActionPropType.kDetonateEffect,e):(c.addInfo="over",this.clearAction(a,d),a.setNeedCheckFalling())))};TileDestroyItemRunner=cw.Class({});TileDestroyItemRunner.update=function(a){var c=TileDestroyItemRunner.destroyDecision(a),d=TileDestroyItemRunner.destroyExecutor(a);a.updateFallingAndBlockStatus();return 0<c||0<d};
TileDestroyItemRunner.destroyDecision=function(a){for(var c=0,d=a.tileItemMap,e=0;e<d.length;++e)for(var f=0;f<d[e].length;++f){var g=d[e][f];if(g.tileItemStatus==TileItemStatusType.kSpecialStatus||g.tileItemStatus==TileItemStatusType.kMatchStatus){var c=c+1,h=d[e][f].fruitSpecialType;FruitTypeConfig.isSpecial(h)&&ItemBombLogic.BombItem(a,e,f,1,0);FruitTypeConfig.isFiveOrSix(h)||(a.addRecordToOrderList(e,f,TileItemOrderType.kFruit,g.fruitColorType,1,null,g.fruitCondiment),ItemBombLogic.bombItemAtSite(a,
e,f))}}return c};TileDestroyItemRunner.destroyExecutor=function(a){for(var c=0,d=a.destroyActionList.length,e=0;e<d;++e){var f=a.destroyActionList[e];f&&(c+=1,TileDestroyItemRunner.runLogicAction(a,f,e),TileDestroyItemRunner.runViewAction(a.tileView,f))}return c};
TileDestroyItemRunner.runLogicAction=function(a,c,d){var e=c.actionType;c.actionStatus==TileActionStatus.kRunning&&(0>c.actionDuring?c.actionStatus=TileActionStatus.kWaitingForDeath:(c.actionDuring-=1,this.runningTileItemAction(a,c,d)));e==ActionItemType.kItemEliminate_ItemByMatch?this.runTileItemDeletedByMatch(a,c,d):e==ActionItemType.kItemEliminate_FiveSelf?this.runTileItemSpecialCoverAction(a,c,d):e==ActionItemType.kItemSwap_FiveFruit_ItemEliminate?this.runTileItemSpecialBombColorAction_ItemDeleted(a,
c,d):e==ActionItemType.kItemSwap_FiveFive_ItemEliminate?this.runTileItemSpecialBombColorColorAction_ItemDeleted(a,c,d):e==ActionItemType.kItemEliminate_Stone?this.runTileItemSpecialSnowDec(a,c,d):e==ActionItemType.kItemEliminate_Sandstorm?this.runTileItemSpecialSandstormmDec(a,c,d):e==ActionItemType.kItemEliminate_JumpCat?this.run_JumpCat_Destroy(a,c,d):e==ActionItemType.kItemEliminate_Lock?this.runTileItemSpecialLockDec(a,c,d):e==ActionItemType.kItem_Watermelon_Upgrade?this.runTileItemWatermelonUpgrade(a,
c,d):e==ActionItemType.kItem_Boss_Loss_Blood?this.runningTileItemActionBossLossBlood(a,c,d):e==ActionItemType.kItem_WitchBomb?this.runningTileItemActionWitchBomb(a,c,d):e==ActionItemType.kItemEliminate_Ice?this.runningTileItemActionIceDec(a,c,d):e==ActionItemType.kItemEliminate_Worm?this.runningTileItemActionWormDec(a,c,d):e==ActionItemType.kItem_GiftBox_Finish?this.running_GiftBox_Finish(a,c,d):e==ActionItemType.kItemEliminate_Sand&&this.runningTileItemActionSandDec(a,c,d)};
TileDestroyItemRunner.runningTileItemActionSandDec=function(a,c,d){"over"==c.addInfo&&this.clearAction(a,d)};TileDestroyItemRunner.clearAction=function(a,c){var d=a.destroyActionList[c];d&&d.dispose();a.destroyActionList[c]=null};TileDestroyItemRunner.running_GiftBox_Finish=function(a,c,d){"over"==c.addInfo&&(c.callback&&c.callback(),this.clearAction(a,d))};
TileDestroyItemRunner.running_GiftBox_Order=function(a,c,d){if("anim_over"==c.addInfo){c.addInfo="data_over";d=c.color;c=c.targetPositions;for(var e in c){var f=c[e],g=a.tileItemMap[f.r][f.c],f=a.tileBoardMap[f.r][f.c];f.giftColor=d;g.isNeedUpdate=!0;f.isNeedUpdate=!0}}else"over"==c.addInfo&&(c.callback&&c.callback(),this.clearAction(a,d),a.setNeedCheckFalling(),ItemFallingLogic.preUpdateHelpMap(a))};
TileDestroyItemRunner.runningTileItemActionWormDec=function(a,c,d){"over"==c.addInfo&&this.clearAction(a,d)};TileDestroyItemRunner.runningTileItemActionIceDec=function(a,c,d){"over"==c.addInfo&&this.clearAction(a,d)};
TileDestroyItemRunner.runningTileItemActionWitchBomb=function(a,c,d){if("over"==c.addInfo){var e=Math.floor(60*c.interval);c.frameCount-=1;if(0>=c.frameCount&&0<c.col){var f=c.col,g=c.col,h=c.rows.r1,m=c.rows.r2,n=null;a.tileItemMap[h]&&(n=a.tileItemMap[h][f]);var r=null;a.tileItemMap[m]&&(r=a.tileItemMap[m][g]);n&&!1==n.isEmpty&&(SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,h,f,1,!0),ItemBombLogic.tryCoverByBomb(a,h,f,!0,1),SpecialEffectLogic.SpecialCoverAtPos(a,h,f,3,null,d));r&&!1==r.isEmpty&&
(SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,m,g,1,!0),ItemBombLogic.tryCoverByBomb(a,m,g,!0,1),SpecialEffectLogic.SpecialCoverAtPos(a,m,g,3,null,d));c.col-=1;c.frameCount=e}0>=c.col&&(a.resetSpecialEffectList(d),this.clearAction(a,d))}};TileDestroyItemRunner.runningTileItemActionBossLossBlood=function(a,c,d){"over"==c.addInfo?(c.callback&&c.callback(),this.clearAction(a,d)):a.bossLossBlood()};
TileDestroyItemRunner.runningTileItemAction=function(a,c,d){var e=c.actionType;e==ActionItemType.kItemSwap_FiveFruit_ItemEliminate||e==ActionItemType.kItemSwap_FiveFive_ItemEliminate?TileDestroyItemRunner.runingGameItemSpecialBombColorAction_ItemDeleted(a,c,d):e==ActionItemType.kItem_BearGoHome&&TileDestroyItemRunner.runningTileItem_BearGoHome(a,c,d)};
TileDestroyItemRunner.runViewAction=function(a,c){var d=c.actionType,e=c.actionStatus;d==ActionItemType.kItemEliminate_ItemByMatch?e==TileActionStatus.kWaitingForStart&&this.runTileItemDeletedByMatchAction(a,c):d==ActionItemType.kItemEliminate_FiveSelf?e==TileActionStatus.kWaitingForStart&&this.runTileItemActionCoverBySpecial(a,c):d==ActionItemType.kItemSwap_FiveFruit_ItemEliminate||d==ActionItemType.kItemSwap_FiveFive_ItemEliminate?e==TileActionStatus.kWaitingForStart&&this.runTileItemActionBombSpecialColor_ItemDeleted(a,
c):d==ActionItemType.kItem_BearGoHome?"Pass"==c.addInfo&&this.runTileItemActionBearGoHome(a,c):d==ActionItemType.kItemEliminate_Stone?e==TileActionStatus.kWaitingForStart?this.runTileItemActionSnowDec(a,c):(d=c.itemPos1.x,e=c.itemPos1.y,null!=a.baseMap[d][e].tileSprite[TileViewType.kStoneEliminate]&&a.baseMap[d][e].tileSprite[TileViewType.kStoneEliminate].getParent()&&(a.baseMap[d][e].tileSprite[TileViewType.kStoneEliminate]=null),null!=a.baseMap[d][e].tileSprite[TileViewType.kAshEliminate]&&a.baseMap[d][e].tileSprite[TileViewType.kAshEliminate].getParent()&&
(a.baseMap[d][e].tileSprite[TileViewType.kAshEliminate]=null)):d==ActionItemType.kItemEliminate_Sandstorm?e==TileActionStatus.kWaitingForStart&&this.runTileItemActionSandstormDec(a,c):d==ActionItemType.kItemEliminate_JumpCat?e==TileActionStatus.kWaitingForStart?this.start_JumpCat_Destroy(a,c):e==TileActionStatus.kRunning&&this.running_JumpCat_Destroy(a,c):d==ActionItemType.kItemEliminate_Lock?e==TileActionStatus.kWaitingForStart?this.runTileItemActionLockDec(a,c):(d=c.itemPos1.x,e=c.itemPos1.y,null!=
a.baseMap[d][e].tileSprite[TileViewType.kLockEliminate]&&a.baseMap[d][e].tileSprite[TileViewType.kLockEliminate].getParent()&&(a.baseMap[d][e].tileSprite[TileViewType.kLockEliminate]=null)):d==ActionItemType.kItem_Watermelon_Upgrade?e==TileActionStatus.kWaitingForStart&&this.runTileItemActionWatermelonUpgrade(a,c):d==ActionItemType.kItem_Boss_Loss_Blood?this.runTileItemActionBossLossBlood(a,c):d==ActionItemType.kItem_WitchBomb?this.runTileItemActionWitchBomb(a,c):d==ActionItemType.kItemEliminate_Ice?
this.runTileItemActionIceDec(a,c):d==ActionItemType.kItemEliminate_Worm?this.runTileItemActionWormDec(a,c):d==ActionItemType.kItem_GiftBox_Finish?e==TileActionStatus.kWaitingForStart?this.runTileItemActionGiftBoxFinishStart(a,c):e==TileActionStatus.kRunning&&this.runningTileItemActionGiftBoxFinishStart(a,c):c.actionType==ActionItemType.kItemEliminate_Sand&&this.runTileItemActionSandDec(a,c)};
TileDestroyItemRunner.runTileItemActionGiftBoxFinishStart=function(a,c){c.actionStatus=TileActionStatus.kRunning;c.addInfo="start"};TileDestroyItemRunner.runningTileItemActionGiftBoxFinishStart=function(a,c){"start"==c.addInfo&&(c.addInfo="next",a.baseMap[c.itemPos1.x][c.itemPos1.y].playGiftBoxGo(function(){c.addInfo="over"}),GameMusicManager.playEffect(GameMusicType.kGiftBoxBreak))};
TileDestroyItemRunner.runTileItemActionWormDec=function(a,c){c.actionStatus==TileActionStatus.kWaitingForStart&&(c.actionStatus=TileActionStatus.kRunning,a.baseMap[c.itemPos1.x][c.itemPos1.y].playWormDecEffect(c.addInt,function(){c.addInfo="over"}))};TileDestroyItemRunner.runTileItemActionIceDec=function(a,c){c.actionStatus==TileActionStatus.kWaitingForStart&&(c.actionStatus=TileActionStatus.kRunning,a.baseMap[c.itemPos1.x][c.itemPos1.y].playIceDecEffect(function(){c.addInfo="over"}),GameMusicManager.playEffect(GameMusicType.kIceBreak))};
TileDestroyItemRunner.runTileItemActionSandDec=function(a,c){c.actionStatus==TileActionStatus.kWaitingForStart&&(c.actionStatus=TileActionStatus.kRunning,a.baseMap[c.itemPos1.x][c.itemPos1.y].playSandDecEffect(function(){c.addInfo="over"}))};
TileDestroyItemRunner.runTileItemActionWitchBomb=function(a,c){c.actionStatus==TileActionStatus.kWaitingForStart?(c.actionStatus=TileActionStatus.kRunning,c.addInfo="started",c.frameCount=Math.ceil(60*c.startDelay)):c.actionStatus==TileActionStatus.kRunning&&"started"==c.addInfo&&(c.frameCount-=1,0>=c.frameCount&&(c.frameCount=0,c.addInfo="over"))};
TileDestroyItemRunner.runTileItemActionBossLossBlood=function(a,c){c.actionStatus==TileActionStatus.kWaitingForStart&&(c.actionStatus=TileActionStatus.kRunning,a.baseMap[c.itemPos1.x][c.itemPos1.y].updateBossBlood(c.addInt,!0),c.addInfo="over")};
TileDestroyItemRunner.runTileItemDeletedByMatch=function(a,c,d){if(c.actionStatus==TileActionStatus.kRunning&&!c.isStarted){c.isStarted=!0;var e=c.itemPos1.x,f=c.itemPos1.y;TileExtandLogic.itemDestroyHandler(a,e,f)}c.actionStatus==TileActionStatus.kWaitingForDeath&&(e=c.itemPos1.x,f=c.itemPos1.y,a.tileItemMap[e][f].cleanFruitData(),a.setNeedCheckFalling(),this.clearAction(a,d))};
TileDestroyItemRunner.runTileItemSpecialCoverAction=function(a,c,d){if(c.actionStatus==TileActionStatus.kRunning&&!c.isStarted){c.isStarted=!0;var e=c.itemPos1.x,f=c.itemPos1.y;TileExtandLogic.itemDestroyHandler(a,e,f)}c.actionStatus==TileActionStatus.kWaitingForDeath&&"kFruit"==c.addInfo&&(e=c.itemPos1.x,f=c.itemPos1.y,c=a.tileItemMap[e][f],c.tileItemType!=TileItemType.kFruit||c.hasJumpCat()||(c.cleanFruitData(),a.setNeedCheckFalling()),this.clearAction(a,d))};
TileDestroyItemRunner.runTileItemSpecialBombColorAction_ItemDeleted=function(a,c,d){if(c.actionStatus==TileActionStatus.kWaitingForDeath){var e=c.itemPos1.x,f=c.itemPos1.y,g=c.itemPos2.x;c=c.itemPos2.y;var h=a.tileItemMap[e][f],m=a.tileItemMap[g][c];e==g&&f==c?printf("Error!!! runTileItemSpecialBombColorAction_ItemDeleted deleted this"):(TileExtandLogic.itemDestroyHandler(a,e,f),h.cleanFruitData(),m.isEmpty=!1);a.setNeedCheckFalling();this.clearAction(a,d)}};
TileDestroyItemRunner.runTileItemSpecialBombColorColorAction_ItemDeleted=function(a,c,d){if(c.actionStatus==TileActionStatus.kWaitingForDeath){var e=c.itemPos1.x;c=c.itemPos1.y;var f=a.tileItemMap[e][c];TileExtandLogic.itemDestroyHandler(a,e,c);f.cleanFruitData();a.setNeedCheckFalling();this.clearAction(a,d)}};
TileDestroyItemRunner.runTileItemSpecialSnowDec=function(a,c,d){c.actionStatus==TileActionStatus.kRunning?"update"==c.addInfo&&(c.addInfo="",a.tileItemMap[c.itemPos1.x][c.itemPos1.y].isNeedUpdate=!0):c.actionStatus==TileActionStatus.kWaitingForDeath&&(a.tileItemMap[c.itemPos1.x][c.itemPos1.y].isNeedUpdate=!0,a.tileBoardMap[c.itemPos1.x][c.itemPos1.y].isNeedUpdate=!0,1==c.addInt&&(a.checkItemBlock(c.itemPos1.x,c.itemPos1.y),a.setNeedCheckFalling()),this.clearAction(a,d))};
TileDestroyItemRunner.runTileItemSpecialSandstormmDec=function(a,c,d){c.actionStatus==TileActionStatus.kWaitingForDeath&&(a.checkItemBlock(c.itemPos1.x,c.itemPos1.y),a.tileItemMap[c.itemPos1.x][c.itemPos1.y].isNeedUpdate=!0,a.tileBoardMap[c.itemPos1.x][c.itemPos1.y].isNeedUpdate=!0,a.markSandstormDestroyedInStep(),a.setNeedCheckFalling(),this.clearAction(a,d))};
TileDestroyItemRunner.run_JumpCat_Destroy=function(a,c,d){c.actionStatus==TileActionStatus.kRunning?c.hasMatch||(c.hasMatch=!0,a.addNeedCheckMatchPoint(c.itemPos1.x,c.itemPos1.y),a.setNeedCheckFalling()):c.actionStatus==TileActionStatus.kWaitingForDeath&&this.clearAction(a,d)};
TileDestroyItemRunner.runTileItemSpecialLockDec=function(a,c,d){c.actionStatus==TileActionStatus.kRunning?c.hasMatch||(c.hasMatch=!0,d=c.itemPos1.x,c=c.itemPos1.y,a.checkItemBlock(d,c),a.setNeedCheckFalling(),a.addNeedCheckMatchPoint(d,c)):c.actionStatus==TileActionStatus.kWaitingForDeath&&this.clearAction(a,d)};TileDestroyItemRunner.runTileItemWatermelonUpgrade=function(a,c,d){c.actionStatus==TileActionStatus.kWaitingForDeath&&this.clearAction(a,d)};
TileDestroyItemRunner.runingGameItemSpecialBombColorAction_ItemDeleted=function(a,c,d){""==c.addInfo?c.addInfo="Pass":"Pass"==c.addInfo&&(c.addInfo="doing")};TileDestroyItemRunner.runningTileItem_BearGoHome=function(a,c,d){"Pass"==c.addInfo?c.addInfo="waiting1":"waiting1"==c.addInfo&&0==c.actionDuring&&(a.tileItemMap[c.itemPos1.x][c.itemPos1.y].cleanFruitData(),a.setNeedCheckFalling(),this.clearAction(a,d),a.toBeCollected-=1)};
TileDestroyItemRunner.runTileItemDeletedByMatchAction=function(a,c){var d=c.itemPos1.x,e=c.itemPos1.y;c.actionStatus=TileActionStatus.kRunning;a.baseMap[d][e].playAnimationFruitFDestroy(c.cutyPetType,c.isTargetItem)};TileDestroyItemRunner.runTileItemActionCoverBySpecial=function(a,c){var d=c.itemPos1.x,e=c.itemPos1.y;c.actionStatus=TileActionStatus.kRunning;"kFruit"==c.addInfo&&a.baseMap[d][e].playAnimationFruitFDestroy(!1,!1)};
TileDestroyItemRunner.runTileItemActionBombSpecialColor_ItemDeleted=function(a,c){c.actionStatus=TileActionStatus.kRunning;var d=c.itemPos1.x,e=c.itemPos1.y,f=TileDestroyItemRunner.getItemPosition(c.itemPos1),g=TileDestroyItemRunner.getItemPosition(c.itemPos2);a.baseMap[d][e].playAnimationFruitDestroyByFive(f,g,a,d,e)};
TileDestroyItemRunner.runTileItemActionBearGoHome=function(a,c){c.actionStatus=TileActionStatus.kRunning;a.baseMap[c.itemPos1.x][c.itemPos1.y].playBearGoHomeAction(c.tileShowType,a);GameMusicManager.playEffect(GameMusicType.kGetCoconut)};TileDestroyItemRunner.runTileItemActionSnowDec=function(a,c){c.actionStatus=TileActionStatus.kRunning;c.addInfo="update";a.baseMap[c.itemPos1.x][c.itemPos1.y].playStoneDecEffect(c.addInt);GameMusicManager.playEffect(GameMusicType.kStoneBreak)};
TileDestroyItemRunner.runTileItemActionSandstormDec=function(a,c){c.actionStatus=TileActionStatus.kRunning;a.baseMap[c.itemPos1.x][c.itemPos1.y].playSandstormDestroyEffect()};TileDestroyItemRunner.start_JumpCat_Destroy=function(a,c){c.actionStatus=TileActionStatus.kRunning;a.baseMap[c.itemPos1.x][c.itemPos1.y].playJumpCatDestroyEffect()};TileDestroyItemRunner.running_JumpCat_Destroy=function(a,c){1==c.actionDuring&&a.baseMap[c.itemPos1.x][c.itemPos1.y].cleanJumpCatView()};
TileDestroyItemRunner.runTileItemActionLockDec=function(a,c){c.actionStatus=TileActionStatus.kRunning;a.baseMap[c.itemPos1.x][c.itemPos1.y].playCardboardBoxDecEffect();GameMusicManager.playEffect(GameMusicType.kLockBreak)};TileDestroyItemRunner.runTileItemActionWatermelonUpgrade=function(a,c){c.actionStatus=TileActionStatus.kRunning;a.baseMap[c.itemPos1.x][c.itemPos1.y].playWatermelonUpgradeAnimation(c.addInt)};
TileDestroyItemRunner.getItemPosition=function(a){return ccp((a.y+0.5)*TileConst_Tile_Width,(TileConst_Tile_Item_Max-a.x-0.5)*TileConst_Tile_Height)};TileEliminateRunner=cw.Class({});TileEliminateRunner.update=function(a){for(var c=0,d=a.destructionPlanList.length,e=0;e<d;++e){var f=a.destructionPlanList[e];f&&(c+=1,this.runLogicAction(a,f,e),this.runViewAction(a.tileView,f))}return 0<c};
TileEliminateRunner.runLogicAction=function(a,c,d){var e=c.actionStatus;e==TileActionStatus.kRunning?0>c.actionDuring?c.actionStatus=TileActionStatus.kWaitingForDeath:(c.actionDuring-=1,this.runningTileItemAction(a,c,d)):e==TileActionStatus.kWaitingForDeath&&(a.resetSpecialEffectList(d),c.callback&&c.callback(),this.clearAction(a,d))};TileEliminateRunner.clearAction=function(a,c){var d=a.destructionPlanList[c];d&&d.dispose();a.destructionPlanList[c]=null};
TileEliminateRunner.runViewAction=function(a,c){var d=c.actionType,e=c.actionStatus;d==ActionItemType.kItemEliminate_Line?e==TileActionStatus.kWaitingForStart&&this.runTileItemActionBombSpecialLine(a,c):d==ActionItemType.kItemEliminate_Column?e==TileActionStatus.kWaitingForStart&&this.runTileItemActionBombSpecialColumn(a,c):d==ActionItemType.kItemEliminate_CutyPet?e==TileActionStatus.kWaitingForStart&&this.runTileItemActionBombSpecialCutyPet(a,c):d==ActionItemType.kItemEliminate_CutyPet_Skill_2?e==
TileActionStatus.kWaitingForStart&&this.runTileItemActionBombSpecialCutyPetSkill2(a,c):d==ActionItemType.kItemEliminate_CutyPet_Pinball_Bounce?e==TileActionStatus.kWaitingForStart&&this.runTileItemActionBombSpecialCutyPet_PinballBounce(a,c):d==ActionItemType.kItemEliminate_CutyPet_Fly_4?e==TileActionStatus.kWaitingForStart&&this.runTileItemActionBombSpecialCutyPetFly4(a,c):d==ActionItemType.kItemEliminate_BigCross?e==TileActionStatus.kWaitingForStart&&this.runTileItemActionBombSpecialBigCross(a,c):
d==ActionItemType.kItemEliminate_Boom?e==TileActionStatus.kWaitingForStart&&this.runTileItemActionBombSpecialWrap(a,c):d==ActionItemType.kItemEliminate_BigBomb?e==TileActionStatus.kWaitingForStart&&this.runTileItemActionBombSpecialBigBomb(a,c):d==ActionItemType.kItemSwap_BoomBoom?e==TileActionStatus.kWaitingForStart&&this.runTileItemActionBombSpecialWrapWrap(a,c):d==ActionItemType.kItemEliminate_Cross?e==TileActionStatus.kWaitingForStart&&this.runTileItemActionBombSpecialCross(a,c):d==ActionItemType.kItemEliminate_Five?
(e==TileActionStatus.kWaitingForStart&&this.runTileItemActionBombSpecialColor(a,c),"over"==c.addInfo&&this.runTileItemActionBombSpecialColor_End(a,c)):d!=ActionItemType.kItemEliminate_Six&&(d==ActionItemType.kItemSwap_FiveLine?(e==TileActionStatus.kWaitingForStart&&this.runTileItemActionBombFiveLine(a,c),"BombTime"==c.addInfo&&this.runTileItemActionBombFiveLine_End(a,c)):d==ActionItemType.kItemSwap_FiveLine_Fly?e==TileActionStatus.kWaitingForStart&&this.runTileItemActionBombFiveLineFlying(a,c):d==
ActionItemType.kItemSwap_FiveBoom?(e==TileActionStatus.kWaitingForStart&&this.runTileItemActionBombFiveLine(a,c),"BombTime"==c.addInfo&&this.runTileItemActionBombFiveLine_End(a,c)):d==ActionItemType.kItemSwap_FiveBoom_Fly?e==TileActionStatus.kWaitingForStart&&this.runTileItemActionBombFiveLineFlying(a,c):d==ActionItemType.kItemSwap_FiveCross?(e==TileActionStatus.kWaitingForStart&&this.runTileItemActionBombFiveLine(a,c),"BombTime"==c.addInfo&&this.runTileItemActionBombFiveLine_End(a,c)):d==ActionItemType.kItemSwap_FiveCross_Fly?
e==TileActionStatus.kWaitingForStart&&this.runTileItemActionBombFiveLineFlying(a,c):d==ActionItemType.kItemSwap_CrossOther?e==TileActionStatus.kWaitingForStart&&this.runTileItemActionRunning(a,c):d==ActionItemType.kItemSwap_CrossOther_Fly?e==TileActionStatus.kWaitingForStart&&this.runTileItemActionBombCrossFlying(a,c):d==ActionItemType.kItemSwap_FiveFive?(e==TileActionStatus.kWaitingForStart&&this.runTileItemActionBombFiveFive(a,c),"BombAll"==c.addInfo?this.runTileItemActionFiveFiveExplode(a,c):"CleanAll"==
c.addInfo&&this.runTileItemActionBomb_FiveFive_End(a,c)):d==ActionItemType.kItemEliminate_DoubleCutyPet&&(e==TileActionStatus.kWaitingForStart&&this.runTileItemActionDpubleCutyPet(a,c),"over"==c.addInfo&&this.runTileItemActionDpubleCutyPet_End(a,c)))};
TileEliminateRunner.runningTileItemAction=function(a,c,d){var e=c.actionType;e==ActionItemType.kItemEliminate_Cross?this.runingGameItemSpecialBombCrossAction(a,c,d):e==ActionItemType.kItemEliminate_Line?this.runingGameItemSpecialBombLineAction(a,c,d):e==ActionItemType.kItemEliminate_Column?this.runingGameItemSpecialBombColumnAction(a,c,d):e==ActionItemType.kItemEliminate_CutyPet?this.runingGameItemSpecialBombCutyPetAction(a,c,d):e==ActionItemType.kItemEliminate_CutyPet_Skill_2?this.runingGameItemSpecialBombCutyPetActionSkill2(a,
c,d):e==ActionItemType.kItemEliminate_CutyPet_Pinball_Bounce?this.runingGameItemSpecialBombCutyPetAction_PinballBounce(a,c,d):e==ActionItemType.kItemEliminate_CutyPet_Fly_4?this.runingGameItemSpecialBombCutyPetActionFly4(a,c,d):e==ActionItemType.kItemEliminate_BigCross?this.runingGameItemSpecialBombBigCrossAction(a,c,d):e==ActionItemType.kItemEliminate_BigBomb?this.runingGameItemSpecialBombBigBombAction(a,c,d):e==ActionItemType.kItemEliminate_Boom?this.runingGameItemSpecialBombWrapAction(a,c,d):e==
ActionItemType.kItemSwap_BoomBoom?this.runingGameItemSpecialBombWrapWrapAction(a,c,d):e==ActionItemType.kItemEliminate_Five?this.runingGameItemSpecialBombColorAction(a,c,d):e==ActionItemType.kItemEliminate_Six?this.runingGameItemSpecialBombSixAction(a,c,d):e==ActionItemType.kItemSwap_FiveLine?this.runingGameItemSpecialBombColorLineAction(a,c,d,FruitTypeConfig.kLine):e==ActionItemType.kItemSwap_FiveLine_Fly?this.runingGameItemSpecialBombColorLineAction_flying(a,c,d,FruitTypeConfig.kLine):e==ActionItemType.kItemSwap_FiveBoom?
this.runingGameItemSpecialBombColorLineAction(a,c,d,FruitTypeConfig.kBomb):e==ActionItemType.kItemSwap_FiveBoom_Fly?this.runingGameItemSpecialBombColorLineAction_flying(a,c,d,FruitTypeConfig.kBomb):e==ActionItemType.kItemSwap_FiveCross?this.runingGameItemSpecialBombColorLineAction(a,c,d,FruitTypeConfig.kCross):e==ActionItemType.kItemSwap_FiveCross_Fly?this.runingGameItemSpecialBombColorLineAction_flying(a,c,d,FruitTypeConfig.kCross):e==ActionItemType.kItemSwap_CrossOther?this.runingGameItemSpecialBombCrossOtherAction(a,
c,d):e==ActionItemType.kItemSwap_CrossOther_Fly?this.runingGameItemSpecialBombCrossOtherAction_flying(a,c):e==ActionItemType.kItemSwap_FiveFive?this.runingGameItemSpecialBombColorColorAction(a,c,d):e==ActionItemType.kItemEliminate_DoubleCutyPet&&this.runingGameItemSpecialBombDoubleCutyPetAction(a,c,d)};TileEliminateRunner.getActionTime=function(a){return 1/TileConst_Action_FPS*a};
TileEliminateRunner.runingGameItemSpecialBombWrapWrapAction=function(a,c,d){if(1==c.actionDuring){for(var e=c.itemPos2.x,f=c.itemPos2.y,g={},h=this.getRectBombPos(9,c.itemPos1.x,c.itemPos1.y),f=this.getRectBombPos(9,e,f),m=0;m<h.length;++m)e=h[m],g[e.c+"_"+e.r]=e;for(m=0;m<f.length;++m)e=f[m],g[e.c+"_"+e.r]=e;var h=[],n;for(n in g)e=g[n],a.isPosValid(e.r,e.c)&&(a.tileItemMap[e.r][e.c].hasJumpCat()||h.push(e),SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,e.r,e.c,4),ItemBombLogic.tryCoverByBomb(a,
e.r,e.c,!0,4),SpecialEffectLogic.SpecialCoverAtPos(a,e.r,e.c,3,4,d));GameMusicManager.playEffect(GameMusicType.kSwapBombBomb);HoneyEffectLogic.doEffectToHoneyAtList(a,h,c.isHoney)}};
TileEliminateRunner.runingGameItemSpecialBombCrossAction=function(a,c,d){if("over"!=c.addInfo){var e=c.itemPos1.x,f=c.itemPos1.y,g=a.tileItemMap[e][f],h=c.addInt2;c.addInfo="over";c.actionDuring=1;c.iceCleanBombMatchPosList=g.iceCleanBombMatchPosList;g.tileItemStatus==TileItemStatusType.kWaitBomb&&(g.tileItemStatus=TileItemStatusType.kNone);for(var g=this.getRectBombPos(3,e,f),m=[];0<g.length;++i){var n=g[0];a.isPosValid(n.r,n.c)&&(a.tileItemMap[n.r][n.c].hasJumpCat()||m.push(n),this.existInSpecialBombIceCleanPos(a,
n.r,n.c,c.iceCleanBombMatchPosList)||SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,n.r,n.c,h),n.r==e&&n.c==f?ItemBombLogic.tryCoverByBomb(a,n.r,n.c,!0,0,!0):ItemBombLogic.tryCoverByBomb(a,n.r,n.c,!0,h,!0),SpecialEffectLogic.SpecialCoverAtPos(a,n.r,n.c,3,h,d))}a.tileView.baseMap[e][f].playCrossBombEffect();HoneyEffectLogic.doEffectToHoneyAtList(a,m,c.isHoney);GameMusicManager.playEffect(GameMusicType.kEliminateCrossBomb)}};
TileEliminateRunner.existInSpecialBombIceCleanPos=function(a,c,d,e){if(e)for(a=0;a<e.length;++a){var f=e[a];if(f.r==c&&f.c==d)return!0}return!1};TileEliminateRunner.getItemPosition=function(a){return ccp((a.y+0.5)*TileConst_Tile_Width,(TileConst_Tile_Item_Max-a.x-0.5)*TileConst_Tile_Height)};TileEliminateRunner.addHoneyBombList=function(a,c,d,e,f){!f&&HoneyEffectLogic.isHasHoney(a,c,d)&&(f=!0);f&&e.push({r:c,c:d});return f};
TileEliminateRunner.runingGameItemSpecialBombLineAction=function(a,c,d){if("over"!=c.addInfo){var e=a.tileItemMap,f=c.itemPos1.x,g=c.itemPos1.y,h=c.addInt2,m=e[f][g];m.tileItemStatus==TileItemStatusType.kWaitBomb&&(m.tileItemStatus=TileItemStatusType.kNone);this.existInSpecialBombIceCleanPos(a,f,g,c.iceCleanBombMatchPosList)||SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,f,g,h);if(!c.saveSelf){var n=ItemBombLogic.tryCoverByBomb(a,f,g,!0,0,!0);SpecialEffectLogic.SpecialCoverAtPos(a,f,g,1,null,d)}c.addInfo=
"over";c.actionDuring=1;c.iceCleanBombMatchPosList=m.iceCleanBombMatchPosList;c.isHoney=c.isHoney||HoneyEffectLogic.isHasHoney(a,f,g);for(var m=[],r=c.isHoney,s=c.isHoney,t=g+1;t<e.length;++t)if(a.isPosValid(f,t)&&e[f][t].dataReach){this.existInSpecialBombIceCleanPos(a,f,t,c.iceCleanBombMatchPosList)||SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,f,t,h);var u=ItemBombLogic.tryCoverByBomb(a,f,t,!1,h);SpecialEffectLogic.SpecialCoverAtPos(a,f,t,1,h,d);if(2==u)break;else 3!=u&&(r=this.addHoneyBombList(a,
f,t,m,r))}for(t=g-1;0<=t;--t)if(a.isPosValid(f,t)&&e[f][t].dataReach)if(this.existInSpecialBombIceCleanPos(a,f,t,c.iceCleanBombMatchPosList)||SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,f,t,h),u=ItemBombLogic.tryCoverByBomb(a,f,t,!1,h),SpecialEffectLogic.SpecialCoverAtPos(a,f,t,1,h,d),2==u)break;else 3!=u&&(s=this.addHoneyBombList(a,f,t,m,s));c.isHoney&&3!=n&&m.push({r:f,c:g});if(r||s)c.isHoney=!0;HoneyEffectLogic.doEffectToHoneyAtList(a,m,c.isHoney)}};
TileEliminateRunner.runingGameItemSpecialBombColumnAction=function(a,c,d){if("over"!=c.addInfo){var e=c.itemPos1.x,f=c.itemPos1.y,g=c.addInt2,h=a.tileItemMap[e][f];c.addInfo="over";c.actionDuring=1;c.iceCleanBombMatchPosList=h.iceCleanBombMatchPosList;h.tileItemStatus==TileItemStatusType.kWaitBomb&&(h.tileItemStatus=TileItemStatusType.kNone);this.existInSpecialBombIceCleanPos(a,e,f,c.iceCleanBombMatchPosList)||SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,e,f,2);if(!c.saveSelf){var m=ItemBombLogic.tryCoverByBomb(a,
e,f,!0,0,!0);SpecialEffectLogic.SpecialCoverAtPos(a,e,f,2,null,d)}c.isHoney=c.isHoney||HoneyEffectLogic.isHasHoney(a,e,f);for(var h=[],n=c.isHoney,r=c.isHoney,s=e+1;s<a.tileItemMap.length;++s){this.existInSpecialBombIceCleanPos(a,s,f,c.iceCleanBombMatchPosList)||SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,s,f,g);var t=ItemBombLogic.tryCoverByBomb(a,s,f,!0,g,!0);SpecialEffectLogic.SpecialCoverAtPos(a,s,f,2,g,d);if(2==t)break;else 3!=t&&(n=this.addHoneyBombList(a,s,f,h,n))}for(s=e-1;0<=s&&(this.existInSpecialBombIceCleanPos(a,
s,f,c.iceCleanBombMatchPosList)||SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,s,f,g),t=ItemBombLogic.tryCoverByBomb(a,s,f,!0,g,!0),SpecialEffectLogic.SpecialCoverAtPos(a,s,f,2,g,d),2!=t);--s)3!=t&&(r=this.addHoneyBombList(a,s,f,h,r));c.isHoney&&3!=m&&h.push({r:e,c:f});if(n||r)c.isHoney=!0;HoneyEffectLogic.doEffectToHoneyAtList(a,h,c.isHoney)}};
TileEliminateRunner.runingGameItemSpecialBombBigCrossAction=function(a,c,d){if("over"!=c.addInfo){var e=c.itemPos1.x,f=c.itemPos1.y,g=c.addInt2,h=a.tileItemMap[e][f];h.tileItemStatus==TileItemStatusType.kWaitBomb&&(h.tileItemStatus=TileItemStatusType.kNone);this.existInSpecialBombIceCleanPos(a,e,f,c.iceCleanBombMatchPosList)||SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,e,f,g);if(!c.saveSelf){var m=ItemBombLogic.tryCoverByBomb(a,e,f,!0,g,!0);SpecialEffectLogic.SpecialCoverAtPos(a,e,f,1,g,d)}c.addInfo=
"over";c.actionDuring=1;c.iceCleanBombMatchPosList=h.iceCleanBombMatchPosList;c.isHoney=c.isHoney||HoneyEffectLogic.isHasHoney(a,e,f);for(var h=[],n=c.isHoney,r=c.isHoney,s=c.isHoney,t=c.isHoney,u=e+1;u<a.tileItemMap.length;++u){this.existInSpecialBombIceCleanPos(a,u,f,c.iceCleanBombMatchPosList)||SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,u,f,g);var w=ItemBombLogic.tryCoverByBomb(a,u,f,!0,g,!0);SpecialEffectLogic.SpecialCoverAtPos(a,u,f,2,g,d);if(2==w)break;else 3!=w&&(s=this.addHoneyBombList(a,
u,f,h,s))}for(u=e-1;0<=u&&(this.existInSpecialBombIceCleanPos(a,u,f,c.iceCleanBombMatchPosList)||SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,u,f,g),w=ItemBombLogic.tryCoverByBomb(a,u,f,!0,g,!0),SpecialEffectLogic.SpecialCoverAtPos(a,u,f,2,g,d),2!=w);--u)3!=w&&(t=this.addHoneyBombList(a,u,f,h,t));for(u=f+1;u<a.tileItemMap.length;++u)if(a.isPosValid(e,u)&&a.tileItemMap[e][u].dataReach)if(this.existInSpecialBombIceCleanPos(a,e,u,c.iceCleanBombMatchPosList)||SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,
e,u,g),w=ItemBombLogic.tryCoverByBomb(a,e,u,!1,g),SpecialEffectLogic.SpecialCoverAtPos(a,e,u,1,g,d),2==w)break;else 3!=w&&(n=this.addHoneyBombList(a,e,u,h,n));for(u=f-1;0<=u;--u)if(a.isPosValid(e,u)&&a.tileItemMap[e][u].dataReach)if(this.existInSpecialBombIceCleanPos(a,e,u,c.iceCleanBombMatchPosList)||SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,e,u,g),w=ItemBombLogic.tryCoverByBomb(a,e,u,!1,g),SpecialEffectLogic.SpecialCoverAtPos(a,e,u,1,g,d),2==w)break;else 3!=w&&(r=this.addHoneyBombList(a,e,
u,h,r));c.isHoney&&3!=m&&h.push({r:e,c:f});if(n||r||s||t)c.isHoney=!0;HoneyEffectLogic.doEffectToHoneyAtList(a,h,c.isHoney)}};
TileEliminateRunner.runingGameItemSpecialBombCutyPetAction=function(a,c,d){20001==c.mainPetId?this.runingGameItemSpecialBombCutyPetAction_Bone(a,c,d):20002==c.mainPetId?this.runingGameItemSpecialBombCutyPetAction_DoubleCross(a,c,d):20003==c.mainPetId?this.runingGameItemSpecialBombCutyPetAction_Pinball(a,c,d):20004==c.mainPetId?this.runingGameItemSpecialBombCutyPetAction_ColorSeven(a,c,d):20005==c.mainPetId&&this.runingGameItemSpecialBombCutyPetAction_FallBomb(a,c,d);"over"==c.addInfo&&this.clearAction(a,
d)};
TileEliminateRunner.runingGameItemSpecialBombCutyPetAction_Bone=function(a,c,d){if("over"!=c.addInfo)if("bomb"!=c.addInfo)c.actionDuring=TileConst_SpecialBomb_CutyPet_Action_Time;else{var e=c.itemPos1.x,f=c.itemPos1.y,g=c.addInt2,h=a.tileItemMap[e][f];h.cutyPetType=2;h.tileItemStatus==TileItemStatusType.kWaitBomb&&(h.tileItemStatus=TileItemStatusType.kNone);this.existInSpecialBombIceCleanPos(a,e,f,c.iceCleanBombMatchPosList)||SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,e,f,g);var m=ItemBombLogic.tryCoverByBomb(a,e,
f,!0,g,!0);SpecialEffectLogic.SpecialCoverAtPos(a,e,f,1,null,d);c.addInfo="over";c.iceCleanBombMatchPosList=h.iceCleanBombMatchPosList;c.isHoney=c.isHoney||HoneyEffectLogic.isHasHoney(a,e,f);for(var n=[],r=c.isHoney,s=c.isHoney,t=this,h=function(e,f,h){if(a.isPosValid(e,f)&&a.tileItemMap[e][f].dataReach){a.tileItemMap[e][f].cutyPetType=2;t.existInSpecialBombIceCleanPos(a,e,f,c.iceCleanBombMatchPosList)||SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,e,f,g);var m=ItemBombLogic.tryCoverByBomb(a,e,f,
!1,g);SpecialEffectLogic.SpecialCoverAtPos(a,e,f,1,g,d);if(2==m)return!1;3!=m&&(h?r=t.addHoneyBombList(a,e,f,n,r):s=t.addHoneyBombList(a,e,f,n,s));return[!0,0!=m]}return[!0,!1]},u=f+1;u<a.tileItemMap.length;++u)if(u==f+3){h(e,u,!0);h(e-1,u,!0);h(e+1,u,!0);break}else h(e,u,!0);for(u=f-1;0<=u;--u)if(u==f-3){h(e,u,!0);h(e-1,u,!0);h(e+1,u,!0);break}else h(e,u,!0);c.isHoney&&3!=m&&table.insert(n,{r:e,c:f});if(r||s)c.isHoney=!0;HoneyEffectLogic.doEffectToHoneyAtList(a,n,c.isHoney)}};
TileEliminateRunner.runingGameItemSpecialBombCutyPetAction_DoubleCross=function(a,c,d){if("over"!=c.addInfo&&"fly"==c.addInfo){d=c.itemPos1.x;var e=c.itemPos1.y,f=c.addInt2,g=a.tileItemMap[d][e],h=ItemPriorityLogic.getItemPointsByPriorityArea(a,3,d-2,e-2,d+2,e+2),m=HoneyEffectLogic.isHasHoney(a,d,e),n;for(n in h){var r=h[n];Math.sqrt(Math.pow(d-r.r,2)+Math.pow(e-r.c,2));r=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemEliminate_CutyPet_Skill_2,ccp(d,e),ccp(r.r,r.c),
TileConst_SpecialBomb_20002_Action_Time);r.addInt=FruitTypeConfig.kCross;r.addInt2=f;r.isHoney=g.isHoney||m;a.addDestructionPlanAction(r)}c.addInfo="over"}};
TileEliminateRunner.runingGameItemSpecialBombCutyPetActionSkill2=function(a,c,d){if("over"!=c.addInfo&&"flyOver"==c.addInfo){var e=c.itemPos2.x,f=c.itemPos2.y,g=c.addInt2,h=a.tileItemMap[e][f];h.cutyPetType=2;h.tileItemStatus==TileItemStatusType.kWaitBomb&&(h.tileItemStatus=TileItemStatusType.kNone);this.existInSpecialBombIceCleanPos(a,e,f,c.iceCleanBombMatchPosList)||SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,e,f,g);ItemBombLogic.tryCoverByBomb(a,e,f,!0,g,!0);SpecialEffectLogic.SpecialCoverAtPos(a,
e,f,1,null,d);HoneyEffectLogic.doEffectToHoneyAtList(a,[[e,f]],c.isHoney);c.addInfo="over"}};
TileEliminateRunner.runingGameItemSpecialBombCutyPetActionFly4=function(a,c,d){if("over"!=c.addInfo&&"flyOver"==c.addInfo){var e=c.itemPos2.x,f=c.itemPos2.y,g=c.addInt2,h=a.tileItemMap[e][f];h.cutyPetType=2;h.tileItemStatus==TileItemStatusType.kWaitBomb&&(h.tileItemStatus=TileItemStatusType.kNone);this.existInSpecialBombIceCleanPos(a,e,f,c.iceCleanBombMatchPosList)||SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,e,f,g);ItemBombLogic.tryCoverByBomb(a,e,f,!0,g,!0);SpecialEffectLogic.SpecialCoverAtPos(a,
e,f,1,null,d);HoneyEffectLogic.doEffectToHoneyAtList(a,[[e,f]],c.isHoney);c.addInfo="over"}};
TileEliminateRunner.runingGameItemSpecialBombCutyPetAction_Pinball=function(a,c,d){if("over"!=c.addInfo)if("waiting"==c.addInfo){var e=c.itemPos1.x,f=c.itemPos1.y,g=c.addInt2,h=a.tileItemMap[e][f];h.cutyPetType=2;h.tileItemStatus==TileItemStatusType.kWaitBomb&&(h.tileItemStatus=TileItemStatusType.kNone);this.existInSpecialBombIceCleanPos(a,e,f,c.iceCleanBombMatchPosList)||SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,e,f,g);ItemBombLogic.tryCoverByBomb(a,e,f,!0,g,!0);SpecialEffectLogic.SpecialCoverAtPos(a,
e,f,1,null,d);c.iceCleanBombMatchPosList=h.iceCleanBombMatchPosList;c.isHoney=c.isHoney||HoneyEffectLogic.isHasHoney(a,e,f);HoneyEffectLogic.doEffectToHoneyAtList(a,[[e,f]],c.isHoney)}else"start"!=c.addInfo&&"last"!=c.addInfo||!c.bouncePoint||(h=a.tileItemMap[c.bouncePoint.r][c.bouncePoint.c],h.cutyPetType=2,d=HoneyEffectLogic.isHasHoney(a,c.bouncePoint.r,c.bouncePoint.c),e=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemEliminate_CutyPet_Pinball_Bounce,ccp(c.bouncePoint.r,
c.bouncePoint.c),ccp(c.bouncePoint.r,c.bouncePoint.c),TileConst_SpecialBomb_Cross),e.addInt=FruitTypeConfig.kCross,e.addInt2=c.addInt2,e.isHoney=c.isHoney||h.isHoney||d,a.addDestructionPlanAction(e),c.bouncePoint=null,"last"==c.addInfo&&(c.addInfo="over"))};
TileEliminateRunner.runingGameItemSpecialBombCutyPetAction_PinballBounce=function(a,c,d){if("over"!=c.addInfo){var e=c.itemPos1.x,f=c.itemPos1.y,g=c.addInt2,h=a.tileItemMap[e][f];h.cutyPetType=2;h.tileItemStatus==TileItemStatusType.kWaitBomb&&(h.tileItemStatus=TileItemStatusType.kNone);this.existInSpecialBombIceCleanPos(a,e,f,c.iceCleanBombMatchPosList)||SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,e,f,g);var m=ItemBombLogic.tryCoverByBomb(a,e,f,!0,g,!0);SpecialEffectLogic.SpecialCoverAtPos(a,e,
f,1,null,d);c.addInfo="over";c.iceCleanBombMatchPosList=h.iceCleanBombMatchPosList;c.isHoney=c.isHoney||HoneyEffectLogic.isHasHoney(a,e,f);var n=[],r=c.isHoney,s=c.isHoney,t=this,h=function(e,f,h){if(a.isPosValid(e,f)&&a.tileItemMap[e][f].dataReach){a.tileItemMap[e][f].cutyPetType=2;t.existInSpecialBombIceCleanPos(a,e,f,c.iceCleanBombMatchPosList)||SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,e,f,g);var m=ItemBombLogic.tryCoverByBomb(a,e,f,!1,g);SpecialEffectLogic.SpecialCoverAtPos(a,e,f,1,g,d);
if(2==m)return[!1];3!=m&&(h?r=t.addHoneyBombList(a,e,f,n,r):s=t.addHoneyBombList(a,e,f,n,s));return[!0,0!=m]}return[!0,!1]};h(e-1,f,!0);h(e+1,f,!0);h(e,f-1,!0);h(e,f+1,!0);c.isHoney&&3!=m&&table.insert(n,{r:e,c:f});if(r||s)c.isHoney=!0;HoneyEffectLogic.doEffectToHoneyAtList(a,n,c.isHoney)}};
TileEliminateRunner.runingGameItemSpecialBombCutyPetAction_ColorSeven=function(a,c,d){if("over"!=c.addInfo){var e=c.itemPos1.x,f=c.itemPos1.y,g=c.addInt2,h=a.tileItemMap[e][f];a.isPetSuit&&(g*=1.5);if(""==c.addInfo)h.tileItemStatus==TileItemStatusType.kWaitBomb&&(h.tileItemStatus=TileItemStatusType.kNone),this.existInSpecialBombIceCleanPos(a,e,f,c.iceCleanBombMatchPosList)||SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,e,f,g),ItemBombLogic.tryCoverByBomb(a,e,f,!0,g,!0),SpecialEffectLogic.SpecialCoverAtPos(a,
e,f,1,null,d),c.addInfo="wait",c.color=h.fruitColorType,0==c.color&&(c.color=1);else if("wait"!=c.addInfo&&"fly"==c.addInfo){d=a.getItemPosListByColor(c.color);table.shuffle(d);for(h=0;h<d.length&&5>h;++h){var m=d[h],n=Math.sqrt(Math.pow(e-m.x,2)+Math.pow(f-m.y,2)),m=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemEliminate_CutyPet_Fly_4,ccp(e,f),ccp(m.x,m.y),gotime(32+3*n));m.addInt=FruitTypeConfig.kCross;m.addInt2=g;m.color=c.color;a.addDestructionPlanAction(m)}c.addInfo=
"over"}}};
TileEliminateRunner.runingGameItemSpecialBombCutyPetAction_FallBomb=function(a,c,d){if("over"!=c.addInfo&&"waiting"==c.addInfo){c.addInfo="over";var e=c.addInt2,f=c.itemPos2.x,g=c.itemPos2.y,h=[[0,1],[0,0],[0,-1],[-1,0],[-1,-1],[1,0],[1,-1]];a.isPetSuit&&(table.insert(h,[-2,-1]),table.insert(h,[2,-1]));for(var m=0;m<h.length;++m){var n=h[m];var r=f-n[1],n=g-n[0];a.isPosValid(r,n)&&a.tileItemMap[r][n].dataReach&&(a.tileItemMap[r][n].cutyPetType=2,this.existInSpecialBombIceCleanPos(a,r,n,c.iceCleanBombMatchPosList)||
SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,r,n,e),ItemBombLogic.tryCoverByBomb(a,r,n,!1,e),SpecialEffectLogic.SpecialCoverAtPos(a,r,n,1,e,d))}HoneyEffectLogic.doEffectToHoneyAtList(a,[],c.isHoney);c.actionDuring=0}};TileEliminateRunner.getRectBombPos=function(a,c,d){var e=[];c=c-Math.floor(a/2)-1;d-=Math.floor(a/2);for(var f=1;f<=a;++f)for(var g=Math.abs(f-1-Math.floor(a/2)),h=g;h<=a-1-g;++h)e.push({c:h+d,r:f+c});return e};
TileEliminateRunner.runingGameItemSpecialBombBigBombAction=function(a,c,d){if("over"!=c.addInfo){0==c.addInt2&&(c.addInt2=ScoreCalculateLogic.getScoreScaleWithBombType(FruitTypeConfig.kBomb));var e=c.itemPos1.x,f=c.itemPos1.y,g=a.tileItemMap[e][f],h=c.addInt2;c.addInfo="over";c.actionDuring=1;c.iceCleanBombMatchPosList=g.iceCleanBombMatchPosList;g.tileItemStatus==TileItemStatusType.kWaitBomb&&(g.tileItemStatus=TileItemStatusType.kNone);var g=this.getRectBombPos(7,e,f),m=[],n;for(n in g){var r=g[n];
a.isPosValid(r.r,r.c)&&a.tileItemMap[r.r][r.c].dataReach&&(a.tileItemMap[r.r][r.c].hasJumpCat()||m.push(r),this.existInSpecialBombIceCleanPos(a,r.r,r.c,c.iceCleanBombMatchPosList)||SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,r.r,r.c,h),r.r==e&&r.c==f?c.saveSelf||ItemBombLogic.tryCoverByBomb(a,r.r,r.c,!0,h,!0):ItemBombLogic.tryCoverByBomb(a,r.r,r.c,!0,h),SpecialEffectLogic.SpecialCoverAtPos(a,r.r,r.c,3,h,d))}HoneyEffectLogic.doEffectToHoneyAtList(a,m,c.isHoney)}};
TileEliminateRunner.runingGameItemSpecialBombWrapAction=function(a,c,d){if("over"!=c.addInfo){0==c.addInt2&&(c.addInt2=ScoreCalculateLogic.getScoreScaleWithBombType(FruitTypeConfig.kBomb));var e=c.itemPos1.x,f=c.itemPos1.y,g=a.tileItemMap[e][f],h=c.addInt2;c.addInfo="over";c.actionDuring=1;c.iceCleanBombMatchPosList=g.iceCleanBombMatchPosList;g.tileItemStatus==TileItemStatusType.kWaitBomb&&(g.tileItemStatus=TileItemStatusType.kNone);var g=this.getRectBombPos(5,e,f),m=[],n;for(n in g){var r=g[n];a.isPosValid(r.r,
r.c)&&a.tileItemMap[r.r][r.c].dataReach&&(a.tileItemMap[r.r][r.c].hasJumpCat()||m.push(r),this.existInSpecialBombIceCleanPos(a,r.r,r.c,c.iceCleanBombMatchPosList)||SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,r.r,r.c,h),r.r==e&&r.c==f?c.saveSelf||ItemBombLogic.tryCoverByBomb(a,r.r,r.c,!0,0,!0):ItemBombLogic.tryCoverByBomb(a,r.r,r.c,!0,h),SpecialEffectLogic.SpecialCoverAtPos(a,r.r,r.c,3,h,d))}HoneyEffectLogic.doEffectToHoneyAtList(a,m,c.isHoney)}};
TileEliminateRunner.runingGameItemSpecialBombDoubleCutyPetAction=function(a,c,d){var e=c.itemPos1.x,f=c.itemPos1.y;d=a.tileItemMap[e][f];if(""==c.addInfo||"Pass"==c.addInfo)c.addInfo="skill";d.tileItemStatus==TileItemStatusType.kWaitBomb&&(d.tileItemStatus=TileItemStatusType.kNone);if(!c.saveSelf)if("skill"==c.addInfo)c.actionDuring<=TileConst_SpecialBomb_FiveFruit_Time3&&(c.actionDuring=TileConst_SpecialBomb_FiveFruit_Time3,a.isItemAllStable()&&(c.addInfo="skill2",a.tileUIDelegate.willPlayDoubleCutyPetAction(function(){c.addInfo=
"start"})));else if("skill2"==c.addInfo)c.actionDuring=TileConst_SpecialBomb_FiveFruit_Time3;else if("start"==c.addInfo){if(c.actionDuring<=TileConst_SpecialBomb_FiveFruit_Time3){c.addInfo="shake";var g=function(d,h,r){function s(){g(d,h,r+1)}if(r<d.length){var t=d[r],u=a.tileItemMap[t.r][t.c],w=a.tileBoardMap[t.r][t.c],t=a.tileView.baseMap[t.r][t.c],z=TileEliminateRunner.getActionTime(TileConst_SpecialBomb_FiveFruit_Shake_Time);t.playFlyingFiveEffect(h,e,f,0,z,function(){w.boardSpType=FruitTypeConfig.kCutyPet;
u.isNeedUpdate=!0;w.isNeedUpdate=!0});GameMusicManager.playEffect(GameMusicType.kEliminateFive2);t=[];t.push(cc.delayTime(0.1));t.push(cc.callFunc(s));a.tileView.runAction(cc.sequence(t))}else c.addInfo="waiting"},h=c.addInt;if(null==h||0==h)h=1,c.addInt=1;c.posList=TileExtandLogic.getNormalPositionsForBoss(a,8,0,8,[{r:e,c:f}],!0,!0);g(c.posList,h,0)}}else if("shake"==c.addInfo)c.actionDuring=TileConst_SpecialBomb_FiveFruit_Time2;else if("waiting"==c.addInfo)1>=c.actionDuring&&(c.addInfo="bomb");
else if("bomb"==c.addInfo){for(h in c.posList)d=c.posList[h],a.tileItemMap[d.r][d.c].AddItemStatus(TileItemStatusType.kSpecialStatus),a.setNeedCheckFalling();h=string.format(GameMusicType.kEliminate,1);GameMusicManager.playEffect(h);c.addInfo="over"}};
TileEliminateRunner.runingGameItemSpecialBombColorAction=function(a,c,d){var e=c.itemPos1.x,f=c.itemPos1.y,g=a.tileItemMap[e][f];if(""==c.addInfo||"Pass"==c.addInfo){if(c.addInfo="start",g.tileItemStatus==TileItemStatusType.kWaitBomb&&(g.tileItemStatus=TileItemStatusType.kNone),!c.saveSelf){g.AddItemStatus(TileItemStatusType.kDestroy);var h=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemEliminate_FiveSelf,ccp(e,f),null,TileConst_SpecialBomb_FiveFruit_Time1-TileConst_SpecialBomb_FiveFruit_Time1+
1);h.addInfo="kFruit";a.addDestroyAction(h);a.tileItemMap[e][f].gotoPos=null;a.tileItemMap[e][f].comePos=null;SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,e,f,c.addInt2);SpecialEffectLogic.SpecialCoverAtPos(a,e,f,3,null,d)}}else if("start"==c.addInfo){if(c.actionDuring<=TileConst_SpecialBomb_FiveFruit_Time3)if(a.isItemAllStable()){c.addInfo="shake";var m=function(d,g,h){if(h<d.length){var t=d[h],u=a.tileItemMap[t.x][t.y];!u.canBeCoverByFiveFruit()||u.tileItemStatus!=TileItemStatusType.kTileHalfStable&&
u.tileItemStatus!=TileItemStatusType.kNone||(t=a.tileView.baseMap[t.x][t.y],u=TileEliminateRunner.getActionTime(TileConst_SpecialBomb_FiveFruit_Shake_Time),t.playFlyingFiveEffect(g,e,f,0,u,function(){}),GameMusicManager.playEffect(GameMusicType.kEliminateFive2));m(d,g,h+1)}else c.addInfo="waiting"},h=c.addInt;if(null==h||0==h)h=a.getFiveEliminateColor(),c.addInt=h;c.posList=a.getItemPosListByColor(h);m(c.posList,h,1)}else c.actionDuring=TileConst_SpecialBomb_FiveFruit_Time3}else if("shake"==c.addInfo)c.actionDuring=
TileConst_SpecialBomb_FiveFruit_Time2+30;else if("waiting"==c.addInfo)c.actionDuring<=TileConst_SpecialBomb_FiveFruit_Time2&&(c.addInfo="bomb");else if("bomb"==c.addInfo){for(h in c.posList)g=c.posList[h],a.tileView.baseMap[g.x][g.y].stopItemBlinkEffect();(function(g){if(null!=g){0==g&&(g=a.getFiveEliminateColor());g=a.getItemPosListByColor(g);for(var h in g){var m=g[h];if(a.tileItemMap[m.x][m.y].canBeCoverByFiveFruit()){var t=c.addInt2;SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,m.x,m.y,t);ItemBombLogic.tryCoverByFive(a,
m.x,m.y,e,f,t);SpecialEffectLogic.SpecialCoverAtPos(a,m.x,m.y,3,t,d);c.isHoney&&HoneyEffectLogic.doEffectToHoneyAtPos(a,m.x,m.y)}}}})(c.addInt);h=cc.formatStr(GameMusicType.kEliminate,8);GameMusicManager.playEffect(h);c.addInfo="over"}};
TileEliminateRunner.runingGameItemSpecialBombSixAction=function(a,c,d){var e=c.itemPos1.x,f=c.itemPos1.y,g=a.tileItemMap[e][f];""==c.addInfo||"Pass"==c.addInfo?(c.addInfo="start",g.tileItemStatus==TileItemStatusType.kWaitBomb&&(g.tileItemStatus=TileItemStatusType.kNone),g.AddItemStatus(TileItemStatusType.kDestroy),g=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemEliminate_FiveSelf,ccp(e,f),null,TileConst_SpecialBomb_FiveFruit_Time1),g.addInfo="kFruit",a.addDestroyAction(g),
a.tileItemMap[e][f].gotoPos=null,a.tileItemMap[e][f].comePos=null,a.tileItemMap[e][f].isEmpty=!1,SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,e,f,c.addInt2),SpecialEffectLogic.SpecialCoverAtPos(a,e,f,3,null,d)):"start"==c.addInfo?c.addInfo="waiting":("waiting"==c.addInfo?c.actionDuring<=TileConst_SpecialBomb_FiveFruit_Time3&&(c.addInfo="jump",GameMusicManager.playEffect(GameMusicType.kEliminateSix),this.runSixJumpAction(a,c,[c.addInt,c.color2])):"jump"==c.addInfo?c.actionDuring=TileConst_SpecialBomb_FiveFruit_Time2:
"shake"==c.addInfo?c.actionDuring<=TileConst_SpecialBomb_FiveFruit_Time2&&(c.addInfo="bomb"):"bomb"==c.addInfo&&(c.addInfo="nothing"),"nothing"==c.addInfo&&1==c.actionDuring&&(c.addInfo="over"),"bomb"==c.addInfo&&(g=function(g){if(null!=g){0==g&&(g=a.getFiveEliminateColor());g=a.getItemPosListByColor(g);for(var m in g){var n=g[m];if(a.tileItemMap[n.x][n.y].canBeCoverByFiveFruit()){var r=c.addInt2;SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,n.x,n.y,r);ItemBombLogic.tryCoverBySix(a,n.x,n.y,e,f,r);
SpecialEffectLogic.SpecialCoverAtPos(a,n.x,n.y,3,r,d);c.isHoney&&HoneyEffectLogic.doEffectToHoneyAtPos(a,n.x,n.y)}}}},g(c.addInt),g(c.color2),GameMusicManager.playEffect(GameMusicType.kEliminateSixFruit),c.actionType==ActionItemType.kItemSwap_FiveLine?GameMusicManager.playEffect(GameMusicType.kSwapSixLine):GameMusicManager.playEffect(GameMusicType.kSwapSixBoom)))};
TileEliminateRunner.runShakeItemAction=function(a,c,d,e){c=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItem_Shake,ccp(c,d),null,TileConst_SpecialBomb_FiveFruit_Shake_Time);c.theItemColor=e;a.addGameAction(c)};
TileEliminateRunner.runChangeTypeAction=function(a,c,d,e,f,g){var h=a.tileItemMap[c][d];h.hasJumpCat()&&SpecialEffectLogic.SpecialCoverAtPos(a,c,d,3);h.bombRes=g;h.isHoney=f;this.changeItemToSpcialType(a,c,d,e);c=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItem_Press,ccp(c,d),null,TileConst_SpecialBomb_FiveFruit_Shake_Time);a.addGameAction(c)};
TileEliminateRunner.runSixJumpAction=function(a,c,d,e){var f=c.itemPos1.x,g=c.itemPos1.y,h=a.tileView.baseMap[f][g],m=ccp(f,g),n=1,f={},r=0,s;for(s in d)g=d[s],f[s]=a.getItemPosListByColor(g),r+=f[s].length;var t={},u=1;e==FruitTypeConfig.kCross&&(t=ItemPriorityLogic.getItemPointsByPriority(a,r));var w=this,r=function(f,g,r){if(null!=f){0==f&&cw.assert(!1);printf("-------------------color:",f,g.length);var s=h.createSixItem(f);a.tileView.getTileLayerByType(TileViewType.kSpecial).addChild(s);r&&(g=
table.reverse(g));var E=function(){var a=s.getPositionX(),e=s.getPositionY(),f=UI_V_ORIG.x-100;a>0.5*UI_V_SIZE.width&&(f=UI_V_SIZE.width+100);s.jumpToPos(ccp(f,e),function(){s.removeFromParentAndCleanup(!0)});n<d.length?n+=1:c.addInfo="shake"},H=1,F=function(){if(H>=g.length)E();else{var d=g[H];H+=1;var h=function(){e?(w.runChangeTypeAction(a,d.x,d.y,e,c.isHoney,m),e==FruitTypeConfig.kCross&&(a.tileItemMap[d.x][d.y].crossBombPoint=t[u],u+=1)):w.runShakeItemAction(a,d.x,d.y,f);F()},n=a.tileItemMap[d.x][d.y];
!n.canBeCoverByFiveFruit()||n.tileItemType!=TileItemType.kFruit||n.hasJumpCat()||n.hasLock()||n.tileItemStatus!=TileItemStatusType.kTileHalfStable&&n.tileItemStatus!=TileItemStatusType.kNone?F():(n=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItem_Jump_Six,ccp(d.x,d.y),null,TileConst_SpecialBomb_FiveFruit_Shake_Time),n.theItemColor=f,n.six=s,n.sixCallback=h,a.addGameAction(n))}};F()}};for(s in d)g=d[s],r(g,f[s],0==s%2)};
TileEliminateRunner.runingGameItemSpecialBombColorLineAction=function(a,c,d,e){var f=c.itemPos1.x,g=c.itemPos1.y,h=a.tileItemMap[f][g],m=a.tileItemMap[c.itemPos2.x][c.itemPos2.y],n=c.addInt,r=c.color2,s=c.addInt2;""==c.addInfo||"Pass"==c.addInfo?(c.addInfo="start",h.AddItemStatus(TileItemStatusType.kDestroy),c=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemEliminate_FiveSelf,ccp(f,g),null,TileConst_SpecialBomb_FiveLine_Time2+TileConst_SpecialBomb_FiveLine_Time4),c.addInfo=
"kFruit",a.addDestroyAction(c),a.tileItemMap[f][g].gotoPos=null,a.tileItemMap[f][g].comePos=null,SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,f,g,3)):"start"==c.addInfo?c.addInfo="waiting1":"waiting1"==c.addInfo?c.actionDuring==TileConst_SpecialBomb_FiveLine_Time1-TileConst_SpecialBomb_FiveLine_Time2&&(FruitTypeConfig.isColor(n)&&FruitTypeConfig.isColor(r)?(c.addInfo="jump",GameMusicManager.playEffect(GameMusicType.kEliminateSix),this.runSixJumpAction(a,c,[n,r],e)):(c.addInfo="flyingFive",ItemBombLogic.signItemToTypeWithFiveFlying(a,
f,g,[n,r],e,c.isHoney)),m.bombRes=ccp(f,g)):"flyingFive"==c.addInfo?c.addInfo="waiting2":"jump"==c.addInfo?c.actionDuring=TileConst_SpecialBomb_FiveLine_Time1:"shake"==c.addInfo?(c.addInfo="waiting2",c.actionDuring=TileConst_SpecialBomb_FiveLine_Time1-TileConst_SpecialBomb_FiveLine_Time4+1):"waiting2"==c.addInfo?c.actionDuring==TileConst_SpecialBomb_FiveLine_Time1-TileConst_SpecialBomb_FiveLine_Time4&&(c.addInfo="BombTime"):"BombTime"==c.addInfo?(d=TileConst_SpecialBomb_FiveLine_Time1-c.actionDuring-
TileConst_SpecialBomb_FiveLine_Time4,0<d&&0==d%Math.ceil(TileConst_SpecialBomb_FiveLine_Time5)&&!ItemBombLogic.tryBombWithBombRes(a,f,g,1,s)&&(c.addInfo="over")):"over"==c.addInfo&&this.clearAction(a,d)};
TileEliminateRunner.changeItemToSpcialType=function(a,c,d,e){var f=a.tileItemMap[c][d];if(FruitTypeConfig.isBeeline(e))TileExtandLogic.itemDestroyHandler(a,c,d),f.tileItemType=TileItemType.kFruit,f.fruitSpecialType=a.randomNum(FruitTypeConfig.kLine,FruitTypeConfig.kColumn+1),f.isNeedUpdate=!0;else if(e==FruitTypeConfig.kBomb||e==FruitTypeConfig.kCross)TileExtandLogic.itemDestroyHandler(a,c,d),f.tileItemType=TileItemType.kFruit,f.fruitSpecialType=e,f.isNeedUpdate=!0};
TileEliminateRunner.runingGameItemSpecialBombColorLineAction_flying=function(a,c,d,e){d=c.itemPos1.x;var f=c.itemPos1.y;1==c.actionDuring&&(this.changeItemToSpcialType(a,d,f,e),c.addInfo="over")};
TileEliminateRunner.runingGameItemSpecialBombCrossOtherAction=function(a,c,d){var e=c.itemPos1.x,f=c.itemPos1.y,g=c.itemPos2.x,h=c.itemPos2.y;if(""==c.addInfo||"Pass"==c.addInfo){d=a.tileItemMap[e][f];var m=Math.sqrt(Math.pow(e-g,2)+Math.pow(f-h,2)),m=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemSwap_CrossOther_Fly,ccp(g,h),ccp(e,f),42+4*Math.ceil(15*m/11));m.addInt=c.addInt;m.isHoney=c.isHoney;m.color=d.fruitColorType;a.addDestructionPlanAction(m);a.tileItemMap[g][h].bombRes=
ccp(e,f);c.addInfo="over"}else"over"==c.addInfo&&this.clearAction(a,d)};
TileEliminateRunner.runingGameItemSpecialBombCrossOtherAction_flying=function(a,c,d){d=c.itemPos1.x;var e=c.itemPos1.y,f=c.addInt;"flyOver"==c.addInfo&&(FruitTypeConfig.isBeeline(f)?(ItemBombLogic.BombItemToChange(a,d,e,FruitTypeConfig.kLine,0,3,!0,c.isHoney),ItemBombLogic.BombItemToChange(a,d,e,FruitTypeConfig.kColumn,0,3,!0,c.isHoney),GameMusicManager.playEffect(GameMusicType.kEliminateCrossBomb)):f==FruitTypeConfig.kBomb?(d=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemEliminate_Boom,
ccp(d,e),null,1),d.isHoney=c.isHoney,a.addDestructionPlanAction(d),GameMusicManager.playEffect(GameMusicType.kEliminateBomb)):f==FruitTypeConfig.kCross&&(d=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemEliminate_Cross,ccp(d,e),null,1),d.addInt2=1,d.isHoney=c.isHoney,a.addDestructionPlanAction(d)),c.addInfo="over")};
TileEliminateRunner.runingGameItemSpecialBombColorColorAction=function(a,c,d){var e=c.itemPos1.x,f=c.itemPos1.y,g=c.itemPos2.x,h=c.itemPos2.y,m=a.tileItemMap[e][f],n=a.tileItemMap[g][h],r=c.addInt2;if(""==c.addInfo||"Pass"==c.addInfo)c.addInfo="start",c.actionDuringOld=c.actionDuring,m.AddItemStatus(TileItemStatusType.kDestroy),c=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemEliminate_FiveSelf,ccp(e,f),null,TileConst_SpecialBomb_FiveFive_Time2),c.addInfo="kFruit",a.addDestroyAction(c),
a.tileItemMap[e][f].gotoPos=null,a.tileItemMap[e][f].comePos=null,SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,e,f,3),n.AddItemStatus(TileItemStatusType.kDestroy),c=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemEliminate_FiveSelf,ccp(g,h),null,TileConst_SpecialBomb_FiveFive_Time2),c.addInfo="kFruit",a.addDestroyAction(c),a.tileItemMap[g][h].gotoPos=null,a.tileItemMap[g][h].comePos=null,SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,e,f,3);else if("start"==c.addInfo)c.addInfo=
"waiting1",c.addInt=1;else if("waiting1"==c.addInfo){if(a.isItemAllStable()&&1==a.numDestrunctionPlan()){c.addInfo="BombAll";n=[];for(d=0;d<a.tileItemMap.length;++d)for(m=0;m<a.tileItemMap[d].length;++m)!ItemBombLogic.canBeBombByFiveFive(a,d,m)||e==d&&f==m||g==d&&h==m||n.push(a.getGameItemPosInView(d,m));c.bombList=n}c.addInt=1}else"BombAll"==c.addInfo?(c.addInt>=TileConst_SpecialBomb_FiveFive_Time3&&(c.addInfo="waiting2",ItemBombLogic.BombAll(a),c.addInt=1),c.addInt+=1):"waiting2"==c.addInfo?a.isItemAllStable()&&
1==a.numDestrunctionPlan()?c.addInfo="shake":c.addInt=1:"shake"==c.addInfo?(c.addInt+=1,c.addInt>=TileConst_SpecialBomb_FiveFive_Time4&&(c.addInfo="CleanAll",c.addInt=0,GameMusicManager.playEffect(GameMusicType.kSwapFiveFive))):"CleanAll"==c.addInfo?(c.addInt+=1,15<=c.addInt&&(ItemBombLogic.tryCoverByFiveFive(a,{r:c.itemPos1.x,c:c.itemPos1.y},1,r||1,c.isHoney),c.addInfo="waiting3")):"waiting3"==c.addInfo?(c.addInt+=1,c.addInt>=TileConst_SpecialBomb_FiveFive_Time5&&(c.twoTime||!c.isSix?c.addInfo="over":
(c.addInfo="",c.actionDuring=c.actionDuringOld,c.twoTime=!0,c.actionStatus=TileActionStatus.kWaitingForStart))):"over"==c.addInfo&&this.clearAction(a,d)};TileEliminateRunner.getLineBombLR=function(a,c){for(var d=a.tileLogic,e=c.itemPos1.x,f=c.itemPos1.y,g=function(a,c){var e=d.tileItemMap[a][c];return e&&e.isUsed&&e.tileItemType!=TileItemType.kHelmet?!0:!1},h=0,m=0,n=f-1;0<=n;--n)if(g(e,n))h+=1;else break;for(n=f+1;n<d.tileItemMap.length;++n)if(g(e,n))m+=1;else break;return[h,m]};
TileEliminateRunner.runTileItemActionBombSpecialLine=function(a,c){c.actionStatus=TileActionStatus.kRunning;var d=c.itemPos1.y,e=this.getItemPosition(c.itemPos1),d=CommonEffect.buildLineBombEffect(a.specialEffectBatch,d-0,8-d);d.setPosition(e);a.specialEffectBatch.addChild(d)};
TileEliminateRunner.runTileItemActionBombSpecialColumn=function(a,c){c.actionStatus=TileActionStatus.kRunning;var d=c.itemPos1.x,e=this.getItemPosition(c.itemPos1),d=CommonEffect.buildLineBombEffect(a.specialEffectBatch,d-0,8-d);d.setPosition(e);d.setRotation(90);a.specialEffectBatch.addChild(d)};TileEliminateRunner.runTileItemActionRunning=function(a,c){c.actionStatus=TileActionStatus.kRunning};
TileEliminateRunner.runTileItemActionBombSpecialWrap=function(a,c){c.actionStatus=TileActionStatus.kRunning;var d=this.getItemPosition(c.itemPos1),e=CommonEffect.buildBombBombEffect(a.specialEffectBatch);e.setPosition(d);a.specialEffectBatch.addChild(e)};TileEliminateRunner.runTileItemActionBombSpecialWrapWrap=function(a,c){c.actionStatus=TileActionStatus.kRunning};TileEliminateRunner.runTileItemActionBombSpecialCross=function(a,c){c.actionStatus=TileActionStatus.kRunning};
TileEliminateRunner.runTileItemActionBombSpecialCutyPet=function(a,c){20001==c.mainPetId?this.runTileItemActionBombSpecialCutyPet_Bone(a,c):20002==c.mainPetId?this.runTileItemActionBombSpecialCutyPet_DoubleCross(a,c):20003==c.mainPetId?this.runTileItemActionBombSpecialCutyPet_Pinball(a,c):20004==c.mainPetId?this.runTileItemActionBombSpecialCutyPet_ColorSeven(a,c):20005==c.mainPetId&&this.runTileItemActionBombSpecialCutyPet_FallBomb(a,c)};
TileEliminateRunner.runTileItemActionBombSpecialCutyPet_Bone=function(a,c){c.actionStatus=TileActionStatus.kRunning;var d=this.getItemPosition(c.itemPos1),e=CommonEffect.buildCutyPetBoneEffect(a.cutyPetBoneBatch,3,3,function(){c.addInfo="bomb"});e.setPosition(d);a.cutyPetBoneBatch.addChild(e)};
TileEliminateRunner.runTileItemActionBombSpecialCutyPet_DoubleCross=function(a,c){c.actionStatus=TileActionStatus.kRunning;var d=this.getItemPosition(c.itemPos1),e=CommonEffect.buildCutyPet20002RotateEffect(a.cutyPetBoneBatch,function(){c.addInfo="fly"});e.setPosition(d);a.cutyPetBoneBatch.addChild(e)};
TileEliminateRunner.runTileItemActionBombSpecialCutyPet_Pinball=function(a,c){var d=a.tileLogic;c.actionStatus=TileActionStatus.kRunning;var e=function(a,c){var e=a.r,f=a.c,g=!0,h=!0,m=!0,n=!0,r=!0,s=!0,t=!0,u=!0,w,z,R,J,N,L,M,T;0<e&&8>e?(w=d.tileItemMap[e][f-1],z=d.tileItemMap[e][f+1],R=d.tileItemMap[e-1][f],J=d.tileItemMap[e+1][f],N=d.tileItemMap[e-1][f-1],L=d.tileItemMap[e-1][f+1],M=d.tileItemMap[e+1][f+1],T=d.tileItemMap[e+1][f-1]):0==e?(w=d.tileItemMap[e][f-1],z=d.tileItemMap[e][f+1],J=d.tileItemMap[e+
1][f],M=d.tileItemMap[e+1][f+1],T=d.tileItemMap[e+1][f-1]):8==e&&(w=d.tileItemMap[e][f-1],z=d.tileItemMap[e][f+1],R=d.tileItemMap[e-1][f],N=d.tileItemMap[e-1][f-1],L=d.tileItemMap[e-1][f+1]);if(!w||w.isPinballBorder())g=!1;if(!z||z.isPinballBorder())h=!1;if(!R||R.isPinballBorder())m=!1;if(!J||J.isPinballBorder())n=!1;if(!N||N.isPinballBorder())r=!1;if(!L||L.isPinballBorder())s=!1;if(!T||T.isPinballBorder())u=!1;if(!M||M.isPinballBorder())t=!1;if(1==c)return r&&g&&m?[!0,c,{r:e-1,c:f-1}]:g?[!1,4,a]:
m?[!1,2,a]:[!1,3,a];if(2==c)return s&&h&&m?[!0,c,{r:e-1,c:f+1}]:h?[!1,3,a]:m?[!1,1,a]:[!1,4,a];if(3==c)return t&&h&&n?[!0,c,{r:e+1,c:f+1}]:h?[!1,2,a]:n?[!1,4,a]:[!1,1,a];if(4==c)return u&&g&&n?[!0,c,{r:e+1,c:f-1}]:g?[!1,1,a]:n?[!1,3,a]:[!1,2,a];if(5==c)return g?[!0,c,{r:e,c:f-1}]:[!1,7,a];if(7==c)return h?[!0,c,{r:e,c:f+1}]:[!1,5,a];if(6==c)return m?[!0,c,{r:e-1,c:f}]:[!1,8,a];if(8==c)return n?[!0,c,{r:e+1,c:f}]:[!1,6,a]},f=[],g={r:c.itemPos1.x,c:c.itemPos1.y,num:0},h=MathUtils.random(1,4),m=[],n=
d.isPetSuit&&8||7,r=n,s=[];do{var t=e(g,h),u=t[0],w=t[1],t=t[2];if(u){if(m=[],g=t,h=w,r-=1,table.insert(s,t),0==r){u=s.length;s=s[u-1];s.num=u;table.insert(f,s);s=[];break}}else if(u=s.length,0<u?(s=s[u-1],s.num=u,table.insert(f,s),s=[]):table.insert(m,w),4<=m.length)break;else 2==m.length?(h=MathUtils.mod(h+1,4),0==h&&(h=4)):h=w}while(0<r);if(0<r){h=5;s=[];m=[];do if(t=e(g,h),u=t[0],w=t[1],t=t[2],u){if(m=[],g=t,h=w,r-=1,table.insert(s,t),0==r){u=s.length;s=s[u-1];s.num=u;table.insert(f,s);s=[];break}}else if(u=
s.length,0<u?(s=s[u-1],s.num=u,table.insert(f,s),s=[],m=[]):table.insert(m,w),4<=m.length){r=Math.min(5,r);for(e=1;e<=r;++e)table.insert(f,{r:t.r,c:t.c,num:1});r=0;break}else h=2==m.length?6:w;while(0<r)}var z=0,r=this.getActionTime(TileConst_SpecialBomb_20003_Action_Time)/n*2,n=this.getItemPosition(c.itemPos1),r=CommonEffect.buildCutyPetPinballEffect(a.cutyPetBoneBatch,f,function(){c.bouncePoint=f[z];z+=1},function(){c.bouncePoint=f[z];c.addInfo="last"},r);r.setPosition(n);a.cutyPetBoneBatch.addChild(r);
c.addInfo="start"};TileEliminateRunner.runTileItemActionBombSpecialCutyPet_PinballBounce=function(a,c){c.actionStatus=TileActionStatus.kRunning;var d=this.getItemPosition(c.itemPos1),e=CommonEffect.buildPinballBounceBombEffect(a.cutyPetBoneBatch);e.setPosition(d);a.cutyPetBoneBatch.addChild(e);e.setRotation(90)};
TileEliminateRunner.runTileItemActionBombSpecialCutyPet_ColorSeven=function(a,c){c.actionStatus=TileActionStatus.kRunning;var d=a.tileLogic.tileItemMap[c.itemPos1.x][c.itemPos1.y],e=this.getItemPosition(c.itemPos1),d=CommonEffect.buildCutyPetCircleRotateEffect(a.cutyPetBoneBatch,d.fruitColorType,function(){c.addInfo="fly"});d.setPosition(e);a.cutyPetBoneBatch.addChild(d)};
TileEliminateRunner.runTileItemActionBombSpecialCutyPet_FallBomb=function(a,c){c.actionStatus=TileActionStatus.kRunning;var d=a.tileLogic,e=c.itemPos1.x,f=c.itemPos1.y;c.itemPos2=ccp(e,f);for(e+=1;e<d.tileItemMap.length;++e){var g=d.tileItemMap[e][f],h=d.tileBoardMap[e][f];if(!h.isUsed||h.isBlock)break;else if(!g||g.tileItemType!=TileItemType.kStone&&g.tileItemType!=TileItemType.kSandstorm&&g.tileItemType!=TileItemType.kFlame&&g.tileItemType!=TileItemType.kClayBlock&&g.tileItemType!=TileItemType.kHelmet&&
g.tileItemType!=TileItemType.kCondimentGun)c.itemPos2.x=e;else break}e=c.itemPos2.x-c.itemPos1.x;g=this.getActionTime(5*e);f=this.getItemPosition(c.itemPos1);d=CommonEffect.buildCutyPetFallBombEffect(a.cutyPetBoneBatch,e,g,function(){c.addInfo="waiting"},d.isPetSuit);d.setPosition(f);a.cutyPetBoneBatch.addChild(d);c.actionDuring*=100};
TileEliminateRunner.runTileItemActionBombSpecialCutyPetSkill2=function(a,c){c.actionStatus=TileActionStatus.kRunning;var d=this.getActionTime(c.actionDuring),e=this.getItemPosition(c.itemPos1),f=this.getItemPosition(c.itemPos2),d=CommonEffect.buildCutyPetFlyingEffect(a.cutyPetBoneBatch,e,f,d-0.5,function(){c.addInfo="flyOver"});a.cutyPetBoneBatch.addChild(d)};
TileEliminateRunner.runTileItemActionBombSpecialCutyPetFly4=function(a,c){c.actionStatus=TileActionStatus.kRunning;var d=this.getActionTime(c.actionDuring),e=this.getItemPosition(c.itemPos1),f=this.getItemPosition(c.itemPos2),d=CommonEffect.buildCutyPetRandomPointEffect(a.cutyPetBoneBatch,e,f,d-0.5,c.color,function(){c.addInfo="flyOver"});a.cutyPetBoneBatch.addChild(d)};
TileEliminateRunner.runTileItemActionBombSpecialBigCross=function(a,c){c.actionStatus=TileActionStatus.kRunning;var d=c.itemPos1.x,e=c.itemPos1.y,f=this.getItemPosition(c.itemPos1),e=CommonEffect.buildLineBombEffect(a.specialEffectBatch,e-0,8-e);e.setPosition(f);a.specialEffectBatch.addChild(e);d=CommonEffect.buildLineBombEffect(a.specialEffectBatch,d-0,8-d);d.setPosition(f);a.specialEffectBatch.addChild(d);d.setRotation(90)};
TileEliminateRunner.runTileItemActionBombSpecialBigBomb=function(a,c){c.actionStatus=TileActionStatus.kRunning;var d=this.getItemPosition(c.itemPos1),e=CommonEffect.buildBombBombEffectBig(a.specialEffectBatch);e.setPosition(d);a.specialEffectBatch.addChild(e)};TileEliminateRunner.runTileItemActionDpubleCutyPet=function(a,c){c.actionStatus=TileActionStatus.kRunning;a.baseMap[c.itemPos1.x][c.itemPos1.y].playFiveSixBackEffect(!0,1)};TileEliminateRunner.runTileItemActionDpubleCutyPet_End=function(a,c){a.baseMap[c.itemPos1.x][c.itemPos1.y].playFiveSixBackEffect(!1)};
TileEliminateRunner.runTileItemActionBombSpecialColor=function(a,c){c.actionStatus=TileActionStatus.kRunning;a.baseMap[c.itemPos1.x][c.itemPos1.y].playFiveSixBackEffect(!0,1)};TileEliminateRunner.runTileItemActionBombSpecialColor_End=function(a,c){a.baseMap[c.itemPos1.x][c.itemPos1.y].playFiveSixBackEffect(!1)};TileEliminateRunner.runTileItemActionBombFiveLine=function(a,c){c.actionStatus=TileActionStatus.kRunning;a.baseMap[c.itemPos1.x][c.itemPos1.y].playFiveSixBackEffectOnce(!0,1)};
TileEliminateRunner.runTileItemActionBombFiveLine_End=function(a,c){a.baseMap[c.itemPos1.x][c.itemPos1.y].playFiveSixBackEffect(!1)};
TileEliminateRunner.runTileItemActionBombFiveLineFlying=function(a,c){c.actionStatus=TileActionStatus.kRunning;var d=c.itemPos1.x,e=c.itemPos1.y,f=c.itemPos2.x,g=c.itemPos2.y,h=a.baseMap[d][e],m=this.getActionTime(c.actionDuring),n=this.getActionTime(c.addInt);a.tileLogic.getGameItemPosInView(f,g);a.tileLogic.getGameItemPosInView(d,e);h.playFlyingFiveEffect(1,f,g,n,m)};
TileEliminateRunner.runTileItemActionBombCrossFlying=function(a,c){c.actionStatus=TileActionStatus.kRunning;var d=c.itemPos1.x,e=c.itemPos1.y,f=c.itemPos2.x,g=c.itemPos2.y,h=a.baseMap[f][g],m=this.getActionTime(c.actionDuring),n=this.getActionTime(c.addInt);a.tileLogic.getGameItemPosInView(f,g);a.tileLogic.getGameItemPosInView(d,e);h.playFlyingCrossEffect(d,e,n,m,c.color,function(){c.addInfo="flyOver"})};
TileEliminateRunner.runTileItemActionBombFiveFive=function(a,c){c.actionStatus=TileActionStatus.kRunning;a.baseMap[c.itemPos1.x][c.itemPos1.y].playFiveFiveBackEffect(!0)};TileEliminateRunner.runTileItemActionFiveFiveExplode=function(a,c){null==c.hasExplode&&(c.hasExplode=!0,a.baseMap[c.itemPos1.x][c.itemPos1.y].playFiveFiveExplodeEffect(!0,c.bombList))};TileEliminateRunner.runTileItemActionBomb_FiveFive_End=function(a,c){a.baseMap[c.itemPos1.x][c.itemPos1.y].playFiveFiveBackEffect(!1)};TileItemFallingRunner=cw.Class({});TileItemFallingRunner.update=function(a){TilePassViewRunner.runAllAction(a.tileView);return 0<this.runAllAction(a)};TileItemFallingRunner.runAllAction=function(a){for(var c=0,d=a.fallingActionList.length,e=0;e<d;++e){var f=a.fallingActionList[e];f&&(c+=1,this.runViewAction(a.tileView,f),this.runLogicAction(a,f,e))}return c};
TileItemFallingRunner.runLogicAction=function(a,c,d){c.actionStatus==TileActionStatus.kRunning&&(0>c.actionDuring?c.actionStatus=TileActionStatus.kWaitingForDeath:(c.actionDuring-=1,this.runningTileItemAction(a,c,d)))};
TileItemFallingRunner.runningTileItemAction=function(a,c,d,e){c.actionType==ActionItemType.kItemFalling_Up?this.runningTileItemFallingUpDown(a,c,d,e):c.actionType==ActionItemType.kItemFalling_Down?this.runningTileItemFallingDownUp(a,c,d,e):c.actionType==ActionItemType.kItemFalling_Left?this.runningTileItemFallingLeft(a,c,d,e):c.actionType==ActionItemType.kItemFalling_Right?this.runningTileItemFallingRight(a,c,d,e):c.actionType==ActionItemType.kItemFalling_LeftRight?this.runningTileItemFallingLeftRight(a,
c,d,e):c.actionType==ActionItemType.kItemFalling_Product?this.runningTileItemFallingProduct(a,c,d,e):c.actionType==ActionItemType.kItemFalling_Product_Down?this.runningTileItemFallingProductDown(a,c,d,e):c.actionType==ActionItemType.kItemFalling_Pass&&this.runningTileItemFallingPass(a,c,d,e)};TileItemFallingRunner.runViewAction=function(a,c){c.actionStatus==TileActionStatus.kWaitingForStart&&(c.actionStatus=TileActionStatus.kRunning)};
TileItemFallingRunner.clearAction=function(a,c){var d=a.fallingActionList[c];d&&d.dispose();a.fallingActionList[c]=null};TileItemFallingRunner.checkDestoryWhenFalling=function(a,c,d,e,f){return e.tileItemStatus==TileItemStatusType.kMatchStatus||e.tileItemStatus==TileItemStatusType.kSpecialStatus||e.tileItemStatus==TileItemStatusType.kDestroy?(e.gotoPos=null,e.comePos=null,e.isNeedUpdate=!0,d&&(d.isNeedUpdate=!0),this.clearAction(a,f),!0):!1};
TileItemFallingRunner.checkOverWhenFalling=function(a,c,d,e,f){return"over"==c.addInfo?(e.tileItemStatus==TileItemStatusType.kJustStop&&(e.AddItemStatus(TileItemStatusType.kTileHalfStable),a.setNeedCheckFalling(),e.isNeedUpdate=!0),this.clearAction(a,f),!0):!1};
TileItemFallingRunner.checkCrashWhenFalling=function(a,c,d,e){a=c.itemPos2.x;c=c.itemPos2.y;0<d.itemSpeed&&null!=d.comePos&&d.comePos.x==a&&d.comePos.y==c&&e.itemSpeed>d.itemSpeed&&d.tileOffset.y>e.tileOffset.y-e.itemSpeed&&(e.itemSpeed=d.itemSpeed-TileConst_FallingSpeed_Add,0>e.itemSpeed&&(e.itemSpeed=0),e.tileOffset.y=d.tileOffset.y+e.itemSpeed+TileConst_FallingSpeed_Add)};
TileItemFallingRunner.checkCrashWhenFallingDown=function(a,c,d,e){a=c.itemPos2.x;c=c.itemPos2.y;0<d.itemSpeed&&null!=d.comePos&&d.comePos.x==a&&d.comePos.y==c&&e.itemSpeed>d.itemSpeed&&d.tileOffset.y<e.tileOffset.y+e.itemSpeed&&(e.itemSpeed=d.itemSpeed-TileConst_FallingSpeed_Add,0>e.itemSpeed&&(e.itemSpeed=0),e.tileOffset.y=d.tileOffset.y-e.itemSpeed-TileConst_FallingSpeed_Add)};
TileItemFallingRunner.checkCrashWhenFallingLeft=function(a,c,d,e){a=c.itemPos2.x;c=c.itemPos2.y;0<d.itemSpeed&&null!=d.comePos&&d.comePos.x==a&&d.comePos.y==c&&e.itemSpeed>=d.itemSpeed&&d.tileOffset.x<e.tileOffset.x+e.itemSpeed&&(e.itemSpeed=d.itemSpeed-TileConst_FallingSpeed_Add,0>e.itemSpeed&&(e.itemSpeed=0),e.tileOffset.x=d.tileOffset.x-e.itemSpeed-TileConst_FallingSpeed_Add)};
TileItemFallingRunner.checkCrashWhenFallingRight=function(a,c,d,e){a=c.itemPos2.x;c=c.itemPos2.y;0<d.itemSpeed&&null!=d.comePos&&d.comePos.x==a&&d.comePos.y==c&&e.itemSpeed>=d.itemSpeed&&d.tileOffset.x>e.tileOffset.x-e.itemSpeed&&(e.itemSpeed=d.itemSpeed-TileConst_FallingSpeed_Add,0>e.itemSpeed&&(e.itemSpeed=0),e.tileOffset.x=d.tileOffset.x+e.itemSpeed+TileConst_FallingSpeed_Add)};
TileItemFallingRunner.checkReachWhenFalling=function(a,c,d,e){var f=c.itemPos2.x,g=c.itemPos2.y,h=a.tileItemMap[f][g];if(c.actionType==ActionItemType.kItemFalling_Left)if(0<=h.tileOffset.x){h.dataReach=!0;h.gotoPos=null;h.comePos=null;if(a.gameMode.afterStable(f,g))h.tileOffset.x=0,h.itemSpeed=0;else if(f=ItemFallingLogic.checkStopFallingDown(a,f,g),0==f&&(h.AddItemStatus(TileItemStatusType.kTileHalfStable),this.clearAction(a,d)),3==f)h.tileOffset.y=-h.tileOffset.x,h.tileOffset.x=0;else if(4==f)h.tileOffset.y=
h.tileOffset.x,h.tileOffset.x=0;else if(1!=f||e)h.tileOffset.x=0,h.itemSpeed=0;c.addInfo="over"}else h.tileOffset.x>=-TileConst_Tile_Height/2&&(h.dataReach=!0,c.addInfo="halfover");else if(c.actionType==ActionItemType.kItemFalling_Right)if(0>=h.tileOffset.x){h.dataReach=!0;h.gotoPos=null;h.comePos=null;if(a.gameMode.afterStable(f,g))h.tileOffset.x=0,h.itemSpeed=0;else if(f=ItemFallingLogic.checkStopFallingDown(a,f,g),0==f&&(h.AddItemStatus(TileItemStatusType.kTileHalfStable),this.clearAction(a,d)),
3==f)h.tileOffset.y=h.tileOffset.x,h.tileOffset.x=0;else if(4==f)h.tileOffset.y=-h.tileOffset.x,h.tileOffset.x=0;else if(1!=f||e)h.tileOffset.x=0,h.itemSpeed=0;c.addInfo="over"}else h.tileOffset.x<=TileConst_Tile_Height/2&&(h.dataReach=!0,c.addInfo="halfover");else if(c.actionType==ActionItemType.kItemFalling_Down)if(0<=h.tileOffset.y){h.dataReach=!0;h.gotoPos=null;h.comePos=null;if(a.gameMode.afterStable(f,g))h.tileOffset.y=0,h.itemSpeed=0;else if(f=ItemFallingLogic.checkStopFallingDown(a,f,g),0==
f&&(h.AddItemStatus(TileItemStatusType.kTileHalfStable),this.clearAction(a,d)),3==f)h.tileOffset.x=h.tileOffset.y,h.tileOffset.y=0;else if(4==f)h.tileOffset.x=-h.tileOffset.y,h.tileOffset.y=0;else if(1!=f||e)h.tileOffset.y=0,h.itemSpeed=0;c.addInfo="over"}else h.tileOffset.y>=-TileConst_Tile_Height/2&&(h.dataReach=!0,c.addInfo="halfover");else if(0>=h.tileOffset.y){h.dataReach=!0;h.gotoPos=null;h.comePos=null;if(a.gameMode.afterStable(f,g))h.tileOffset.y=0,h.itemSpeed=0;else if(f=ItemFallingLogic.checkStopFallingDown(a,
f,g),0==f&&(h.AddItemStatus(TileItemStatusType.kTileHalfStable),this.clearAction(a,d)),3==f)h.tileOffset.x=-h.tileOffset.y,h.tileOffset.y=0;else if(4==f)h.tileOffset.x=h.tileOffset.y,h.tileOffset.y=0;else if(1!=f||e)h.tileOffset.y=0,h.itemSpeed=0;c.addInfo="over"}else h.tileOffset.y<=TileConst_Tile_Height/2&&(h.dataReach=!0,c.addInfo="halfover")};
TileItemFallingRunner.runningTileItemFallingUpDown=function(a,c,d,e){var f=c.itemPos2.x,g=c.itemPos2.y;e=a.tileItemMap[c.itemPos1.x][c.itemPos1.y];var h=a.tileItemMap[f][g];if(!this.checkDestoryWhenFalling(a,c,e,h,d)&&!this.checkOverWhenFalling(a,c,e,h,d)){""==c.addInfo?c.addInfo="Pass":"Pass"==c.addInfo&&(c.addInfo="Falling");0==h.itemSpeed&&(h.itemSpeed=TileConst_FallingSpeed_Start);if(f+1<a.tileItemMap.length){var m=a.tileItemMap[f+1][g];m.isUsed&&m.tileItemStatus==TileItemStatusType.kFallingStatus&&
this.checkCrashWhenFalling(a,c,m,h)}f=a.tileBoardMap[f][g];f.hasEnterPortal()&&(m=a.tileItemMap[f.protalExitPoint.x][f.protalExitPoint.y],this.checkCrashWhenFalling(a,c,m,h));h.itemSpeed+=TileConst_FallingSpeed_Add;h.itemSpeed=Math.min(h.itemSpeed,TileConst_FallingSpeed_Max);h.tileOffset.y-=h.itemSpeed;this.checkReachWhenFalling(a,c,d);e.isNeedUpdate=!0;h.isNeedUpdate=!0}};
TileItemFallingRunner.runningTileItemFallingDownUp=function(a,c,d,e){var f=c.itemPos2.x,g=c.itemPos2.y;e=a.tileItemMap[c.itemPos1.x][c.itemPos1.y];var h=a.tileItemMap[f][g];if(!this.checkDestoryWhenFalling(a,c,e,h,d)&&!this.checkOverWhenFalling(a,c,e,h,d)){""==c.addInfo?c.addInfo="Pass":"Pass"==c.addInfo&&(c.addInfo="Falling");0==h.itemSpeed&&(h.itemSpeed=TileConst_FallingSpeed_Start);if(0<=f-1){var m=a.tileItemMap[f-1][g];m.isUsed&&m.tileItemStatus==TileItemStatusType.kFallingStatus&&this.checkCrashWhenFallingDown(a,
c,m,h)}f=a.tileBoardMap[f][g];f.hasEnterPortal()&&(m=a.tileItemMap[f.protalExitPoint.x][f.protalExitPoint.y],this.checkCrashWhenFallingDown(a,c,m,h));h.itemSpeed+=TileConst_FallingSpeed_Add;h.itemSpeed=Math.min(h.itemSpeed,TileConst_FallingSpeed_Max);h.tileOffset.y+=h.itemSpeed;this.checkReachWhenFalling(a,c,d);e.isNeedUpdate=!0;h.isNeedUpdate=!0}};
TileItemFallingRunner.runningTileItemFallingLeft=function(a,c,d,e){var f=c.itemPos2.x,g=c.itemPos2.y;e=a.tileItemMap[c.itemPos1.x][c.itemPos1.y];var h=a.tileItemMap[f][g];if(!this.checkDestoryWhenFalling(a,c,e,h,d)&&!this.checkOverWhenFalling(a,c,e,h,d)){""==c.addInfo?c.addInfo="Pass":"Pass"==c.addInfo&&(c.addInfo="Falling");0==h.itemSpeed&&(h.itemSpeed=TileConst_FallingSpeed_Start);if(g+1<a.tileItemMap[f].length){var m=a.tileItemMap[f][g+1];m.isUsed&&m.tileItemStatus==TileItemStatusType.kFallingStatus&&
this.checkCrashWhenFallingLeft(a,c,m,h)}f=a.tileBoardMap[f][g];f.hasEnterPortal()&&(m=a.tileItemMap[f.protalExitPoint.x][f.protalExitPoint.y],this.checkCrashWhenFallingLeft(a,c,m,h));h.itemSpeed+=TileConst_FallingSpeed_Add;h.itemSpeed=Math.min(h.itemSpeed,TileConst_FallingSpeed_Max);h.tileOffset.x+=h.itemSpeed;this.checkReachWhenFalling(a,c,d);e.isNeedUpdate=!0;h.isNeedUpdate=!0}};
TileItemFallingRunner.runningTileItemFallingRight=function(a,c,d,e){var f=c.itemPos2.x,g=c.itemPos2.y;e=a.tileItemMap[c.itemPos1.x][c.itemPos1.y];var h=a.tileItemMap[f][g];if(!this.checkDestoryWhenFalling(a,c,e,h,d)&&!this.checkOverWhenFalling(a,c,e,h,d)){""==c.addInfo?c.addInfo="Pass":"Pass"==c.addInfo&&(c.addInfo="Falling");0==h.itemSpeed&&(h.itemSpeed=TileConst_FallingSpeed_Start);if(0<=g-1){var m=a.tileItemMap[f][g-1];m.isUsed&&m.tileItemStatus==TileItemStatusType.kFallingStatus&&this.checkCrashWhenFallingRight(a,
c,m,h)}f=a.tileBoardMap[f][g];f.hasEnterPortal()&&(m=a.tileItemMap[f.protalExitPoint.x][f.protalExitPoint.y],this.checkCrashWhenFallingRight(a,c,m,h));h.itemSpeed+=TileConst_FallingSpeed_Add;h.itemSpeed=Math.min(h.itemSpeed,TileConst_FallingSpeed_Max);h.tileOffset.x-=h.itemSpeed;this.checkReachWhenFalling(a,c,d);e.isNeedUpdate=!0;h.isNeedUpdate=!0}};
TileItemFallingRunner.runningTileItemFallingLeftRight=function(a,c,d,e){e=c.itemPos1.y;var f=c.itemPos2.y,g=a.tileItemMap[c.itemPos1.x][e],h=a.tileItemMap[c.itemPos2.x][f];this.checkDestoryWhenFalling(a,c,g,h,d)||this.checkOverWhenFalling(a,c,g,h,d)||(""==c.addInfo?c.addInfo="Pass":"Pass"==c.addInfo&&(c.addInfo="Falling"),h.tileOffset.y-=TileConst_Falling_LR_S_Y,h.tileOffset.x-=(e-f)*TileConst_Falling_LR_S_X,this.checkReachWhenFalling(a,c,d,!0),g.isNeedUpdate=!0,h.isNeedUpdate=!0)};
TileItemFallingRunner.runningTileItemFallingProduct=function(a,c,d,e){var f=c.itemPos1.x,g=c.itemPos1.y,h=c.itemPos2.x,m=c.itemPos2.y;e=a.tileItemMap[f][g];this.checkDestoryWhenFalling(a,c,null,e,d)?(h=a.tileView.baseMap[f][g],h.cleanClippingSpriteOfItem()):this.checkOverWhenFalling(a,c,null,e,d)||("Pass"==c.addInfo&&(c.addInfo="Falling"),h=a.getTileItemByRC(h,m),null!=h&&h.tileItemStatus==TileItemStatusType.kFallingStatus&&0<h.itemSpeed?e.itemSpeed=h.itemSpeed:(0==e.itemSpeed&&(e.itemSpeed=TileConst_FallingSpeed_Start),
e.itemSpeed+=TileConst_FallingSpeed_Add),e.itemSpeed>TileConst_FallingSpeed_Max&&(e.itemSpeed=TileConst_FallingSpeed_Max),e.clippingPosAdd.y-=e.itemSpeed,e.tileOffset.y=e.clippingPosAdd.y,0>=e.clippingPosAdd.y?(e.dataReach=!0,e.isProduct=!1,e.gotoPos=null,e.comePos=null,h=a.tileView.baseMap[f][g],h.takeClippingNodeToSprite(e,a),a.gameMode.afterStable(f,g)?(e.clippingPosAdd.y=0,e.tileOffset.y=0,e.itemSpeed=0):(f=ItemFallingLogic.checkStopFallingDown(a,f,g),1!=f&&(2==f?(e.tileOffset.y=0,e.itemSpeed=
0):(e.clippingPosAdd.y=0,e.tileOffset.y=0,e.itemSpeed=0,e.AddItemStatus(TileItemStatusType.kTileHalfStable),this.clearAction(a,d)))),c.addInfo="over"):e.clippingPosAdd.y<=TileConst_Tile_Height/2&&(e.dataReach=!0,c.addInfo="halfover"),e.isNeedUpdate=!0)};
TileItemFallingRunner.runningTileItemFallingProductDown=function(a,c,d,e){var f=c.itemPos1.x,g=c.itemPos1.y;e=a.tileItemMap[f][g];if(this.checkDestoryWhenFalling(a,c,null,e,d)){var h=a.tileView.baseMap[f][g];h.cleanClippingSpriteOfItem()}else this.checkOverWhenFalling(a,c,null,e,d)||("Pass"==c.addInfo&&(c.addInfo="Falling"),0==e.itemSpeed&&(e.itemSpeed=TileConst_FallingSpeed_Start),e.itemSpeed+=TileConst_FallingSpeed_Add,e.itemSpeed>TileConst_FallingSpeed_Max&&(e.itemSpeed=TileConst_FallingSpeed_Max),
e.clippingPosAdd.y+=e.itemSpeed,e.tileOffset.y=e.clippingPosAdd.y,0<=e.clippingPosAdd.y?(e.dataReach=!0,e.isProduct=!1,e.gotoPos=null,e.comePos=null,h=a.tileView.baseMap[f][g],h.takeClippingNodeToSprite(e,a),a.gameMode.afterStable(f,g)?(e.clippingPosAdd.y=0,e.tileOffset.y=0,e.itemSpeed=0):(f=ItemFallingLogic.checkStopFallingDown(a,f,g),1!=f&&(2==f?(e.tileOffset.y=0,e.itemSpeed=0):(e.clippingPosAdd.y=0,e.tileOffset.y=0,e.itemSpeed=0,e.AddItemStatus(TileItemStatusType.kTileHalfStable),this.clearAction(a,
d)))),c.addInfo="over"):e.clippingPosAdd.y>=-TileConst_Tile_Height/2&&(e.dataReach=!0,c.addInfo="halfover"),e.isNeedUpdate=!0)};
TileItemFallingRunner.runningTileItemFallingPass=function(a,c,d,e){var f=c.itemPos1.x,g=c.itemPos1.y,h=c.itemPos2.x,m=c.itemPos2.y;e=a.tileItemMap[f][g];var n=a.tileItemMap[h][m];if(this.checkDestoryWhenFalling(a,c,null,n,d))f=a.tileView.baseMap[f][g],g=a.tileView.baseMap[h][m],f.cleanEnterClippingSpriteOfItem(),g.cleanClippingSpriteOfItem();else if("over"==c.addInfo)n.tileItemStatus==TileItemStatusType.kJustStop&&(n.AddItemStatus(TileItemStatusType.kTileHalfStable),n.isNeedUpdate=!0,a.setNeedCheckFalling()),
this.clearAction(a,d);else{"Pass"==c.addInfo&&(c.addInfo="Falling");0==n.itemSpeed&&(n.itemSpeed=TileConst_FallingSpeed_Start);if(h+1<a.tileItemMap.length){var r=a.tileItemMap[h+1][m];r.isUsed&&r.tileItemStatus==TileItemStatusType.kFallingStatus&&0<r.itemSpeed&&null!=r.comePos&&r.comePos.x==h&&r.comePos.y==m&&n.itemSpeed>r.itemSpeed&&r.tileOffset.y>n.tileOffset.y-n.itemSpeed&&(n.itemSpeed=r.itemSpeed-TileConst_FallingSpeed_Add,0>n.itemSpeed&&(n.itemSpeed=0),n.tileOffset.y=r.tileOffset.y+n.itemSpeed+
TileConst_FallingSpeed_Add)}n.itemSpeed+=TileConst_FallingSpeed_Add;n.itemSpeed>TileConst_FallingSpeed_Max&&(n.itemSpeed=TileConst_FallingSpeed_Max);n.clippingPosAdd.y-=n.itemSpeed;n.tileOffset.y=n.clippingPosAdd.y;e.enterClippingPosAdd.y=n.clippingPosAdd.y-e.h;0>=n.clippingPosAdd.y?(n.dataReach=!0,n.isProduct=!1,n.gotoPos=null,n.comePos=null,f=a.tileView.baseMap[f][g],g=a.tileView.baseMap[h][m],g.takeClippingNodeToSprite(n,a),f.cleanEnterClippingSpriteOfItem(),f.isNeedUpdate=!0,g.isNeedUpdate=!0,
a.gameMode.afterStable(h,m)?(n.clippingPosAdd.y=0,n.tileOffset.y=0,n.itemSpeed=0):(h=ItemFallingLogic.checkStopFallingDown(a,h,m),1!=h&&(2==h?(n.tileOffset.y=0,n.itemSpeed=0):(n.clippingPosAdd.y=0,n.tileOffset.y=0,n.itemSpeed=0,n.AddItemStatus(TileItemStatusType.kTileHalfStable),this.clearAction(a,d)))),c.addInfo="over"):n.clippingPosAdd.y<=TileConst_Tile_Height/2&&(n.dataReach=!0,c.addInfo="halfover");e.isNeedUpdate=!0;n.isNeedUpdate=!0}};TileItemViewRunner=cw.Class({});TileItemViewRunner.getItemPosition=function(a){return ccp((a.y+0.5)*TileConst_Tile_Width,(TileConst_Tile_Item_Max-a.x-0.5)*TileConst_Tile_Height)};TileItemViewRunner.getActionTime=function(a){return 1/TileConst_Action_FPS*a};
TileItemViewRunner.runSwapItemAction=function(a,c){var d=c.itemPos2.x,e=c.itemPos2.y,f=a.baseMap[c.itemPos1.x][c.itemPos1.y].getGameItemSprite(),d=a.baseMap[d][e].getGameItemSprite();if(null==f||null==d)return printf("this.runSwapItemAction sprite1 \x3d\x3d null || sprite2 \x3d\x3d null, it is a error!!!"),!1;var e=this.getItemPosition(c.itemPos1),g=this.getItemPosition(c.itemPos2),g=cc.moveTo(this.getActionTime(TileConst_Swap_Action_Time),g),e=cc.moveTo(this.getActionTime(TileConst_Swap_Action_Time),
e);f.runAction(g);d.runAction(e)};TileItemViewRunner.runTileItemActionScoreGet=function(a,c){c.actionStatus=TileActionStatus.kWaitingForDeath;var d=c.itemPos1.x,e=c.itemPos1.y,f=c.addInt,g=c.addInt2,h=2==g?a.scoreBatch:a.labelBatch,g=a.baseMap[d][e].playGetScoreAction(a,f,g,h);h.addChild(g);a.tileUIDelegate&&(d=a.tileLogic.getGameItemPosInView(d,e),a.tileUIDelegate.addScore(f,d))};
TileItemViewRunner.runTileItemActionDetonateBomb=function(a,c){c.actionStatus==TileActionStatus.kWaitingForStart&&(c.actionStatus=TileActionStatus.kRunning)};TileItemViewRunner.runTileItemActionRefresh_Item_Flying=function(a,c){UsePropState.runTileItemActionRefresh_Item_Flying(a,c)};
TileItemViewRunner.runTileItemActionPassRefreshItemFlying=function(a,c){var d=c.itemPos1.x,e=c.itemPos1.y,f=a.baseMap[d][e],d=a.tileLogic.tileItemMap[d][e];f.flyingSpriteIntoItem(a.baseMap[c.itemPos2.x][c.itemPos2.y]);f.oldData&&(f.isNeedUpdate=!0,f.oldData.fruitColorType=d.fruitColorType,f.oldData.fruitSpecialType=d.fruitSpecialType,FruitTypeConfig.isFiveOrSix(d.fruitSpecialType)?f.tileShowType=TileSpriteShowType.kFive:f.tileShowType=TileSpriteShowType.kCharacter)};
TileItemViewRunner.runTileItemActionPassRefreshItemFlyingOver=function(a,c){var d=a.baseMap[c.itemPos1.x][c.itemPos1.y];d.flyingSpriteIntoItemEnd();d.isNeedUpdate=!0};TileItemViewRunner.runTileItemActionItemDiscolorChange=function(a,c){c.actionStatus=TileActionStatus.kRunning;var d=c.itemPos1.x,e=c.itemPos1.y,f=a.tileLogic.tileItemMap[d][e],d=a.baseMap[d][e],e=c.addInt;d.playDiscolorFruitChangeColor(e);d.oldData&&(d.oldData.fruitColorType=e,f.fruitColorType=e)};
TileItemViewRunner.runTileItemActionItemExchangeColor=function(a,c){};TileItemViewRunner.runTileItemActionSandstormSpread=function(a,c){c.actionStatus=TileActionStatus.kRunning;var d=c.itemPos1.x,e=c.itemPos1.y;a.baseMap[d][e].playSandstormSpreadEffect({x:c.itemPos2.y-e,y:c.itemPos2.x-d},function(){c.addInfo="replace"},c.itemType)};
TileItemViewRunner.runningTileItemActionSandstormSpread=function(a,c){if("replaceView"==c.addInfo){c.addInfo="over";var d=a.baseMap[c.itemPos1.x][c.itemPos1.y];if(d){var e=d.tileSprite[TileViewType.kNormalEffect];e&&e.getParent()&&e.removeFromParentAndCleanup(!0);d.tileSprite[TileViewType.kNormalEffect]=null}}};TileItemViewRunner.runTileItemActionGiftBoxFinishStart=function(a,c){c.actionStatus=TileActionStatus.kRunning;c.addInfo="start"};
TileItemViewRunner.runningTileItemActionGiftBoxFinishStart=function(a,c){"start"==c.addInfo&&(c.addInfo="next",a.baseMap[c.itemPos1.x][c.itemPos1.y].playGiftBoxGo(function(){c.addInfo="over"}),GameMusicManager.playEffect(GameMusicType.kGiftBoxBreak))};
TileItemViewRunner.runTileItemActionGiftBoxOrder=function(a,c){c.actionStatus==TileActionStatus.kWaitingForStart?(c.actionStatus=TileActionStatus.kRunning,c.addInfo="start"):"start"==c.addInfo?c.addInfo="toChange":"toChange"==c.addInfo?c.addInfo="anim_over":"data_over"==c.addInfo&&(c.addInfo="over")};TileItemViewRunner.runTileItemActionClayCleanStart=function(a,c){c.actionStatus=TileActionStatus.kRunning;c.addInfo="start"};
TileItemViewRunner.runningTileItemActionClayCleanStart=function(a,c){if("start"==c.addInfo){c.addInfo="next";var d=c.itemPos1.x,e=c.itemPos1.y,f=0,g=function(){f+=1;f>=c.data.length&&(c.addInfo="over")},h;for(h in c.data){var m=c.data[h];a.baseMap[(0==h?0:m[0])+d][(0==h?0:m[1])+e].playClayBlockGo(g)}}};
TileItemViewRunner.runTileItemActionClayOrder=function(a,c){if(c.actionStatus==TileActionStatus.kWaitingForStart)c.actionStatus=TileActionStatus.kRunning,c.addInfo="start";else if("start"==c.addInfo){c.addInfo="";var d=c.targetPositions;c.completeCount=0;var e=function(){c.completeCount+=1;c.completeCount>=d.length&&(c.addInfo="toChange")};if(a.tileLogic.tileUIDelegate){var f=a.tileLogic.tileUIDelegate.getTargetUiPos(),g;for(g in d){var h=d[g],h=a.tileLogic.getGameItemPosInView(h.r,h.c),h=CommonFlyLine.createColor(c.color,
f,h,null,e);a.tileLogic.tileUIDelegate.effectLayer.addChild(h)}}else c.addInfo="toChange"}else"toChange"==c.addInfo?c.addInfo="anim_over":"data_over"==c.addInfo&&(c.addInfo="over")};TileItemViewRunner.runStart_JumpCat_Transfer=function(a,c){c.actionStatus=TileActionStatus.kRunning;var d=c.itemPos1.x,e=c.itemPos1.y;a.baseMap[d][e].playJumpCatTransferEffect({x:c.itemPos2.y-e,y:c.itemPos2.x-d},function(){a.baseMap[c.itemPos2.x][c.itemPos2.y].addJumpCat(c.addInt);c.addInfo="add"})};
TileItemViewRunner.running_JumpCat_Transfer=function(a,c){if("add"==c.addInfo){c.addInfo="over";var d=a.baseMap[c.itemPos1.x][c.itemPos1.y];d.tileSprite[TileViewType.kSpecial].removeFromParentAndCleanup(!0);d.tileSprite[TileViewType.kSpecial]=null}};
TileItemViewRunner.runTileItemActionFruitShakeBySpecialColor=function(a,c){if(c.actionStatus==TileActionStatus.kWaitingForStart){c.actionStatus=TileActionStatus.kRunning;var d=a.baseMap[c.itemPos1.x][c.itemPos1.y];(!c.theItemColor||d.oldData&&c.theItemColor==d.oldData.fruitColorType)&&d.playShakeBySpecialColorEffect()}};TileItemViewRunner.runTileItemActionFruitPressBySpecialColor=function(a,c){c.actionStatus==TileActionStatus.kWaitingForStart&&(c.actionStatus=TileActionStatus.kRunning,a.baseMap[c.itemPos1.x][c.itemPos1.y].playPressBySpecialColorEffect())};
TileItemViewRunner.runTileItemActionFruitJumBySpecialSix=function(a,c){if(c.actionStatus==TileActionStatus.kWaitingForStart){c.actionStatus=TileActionStatus.kRunning;var d=c.itemPos1.x,e=c.itemPos1.y,d=a.baseMap[d][e].getBasePosition(e,d);d.y+=50;c.six.jumpToPos(d,c.sixCallback)}};TileItemViewRunner.runTileItemActionWatermelonReplace=function(a,c){c.actionStatus=TileActionStatus.kRunning;a.baseMap[c.itemPos1.x][c.itemPos1.y].playWatermelonReplaceAnimation(function(){c.addInfo="add"})};
TileItemViewRunner.runningTileItemActionWatermelonReplace=function(a,c){if("add"==c.addInfo){c.addInfo="";var d=function(){c.addInfo="replace"};if(c.itemList&&0<c.itemList.length){var e=ccp(c.itemPos1.x,c.itemPos1.y),f;for(f in c.itemList){var g=c.itemList[f];a.baseMap[g.x][g.y].playWatermelonReplaceFlyAnimation(e,d)}}else Utils.delayCall(d,0.6)}};
TileItemViewRunner.runTileItemViewActionForceMoveItem=function(a,c){if(c.actionStatus==TileActionStatus.kWaitingForStart){c.actionStatus=TileActionStatus.kRunning;var d=c.itemPos1.x,e=c.itemPos1.y,f=c.itemPos2&&c.itemPos2.x,g=c.itemPos2&&c.itemPos2.y,h=a.baseMap[d][e].getGameItemSprite(),m=function(){c.addInfo="over"},g=UsePropState.getItemPosition(ccp(f,g));c.isTop?(f=[],d=cc.repeat(cc.sequence(cc.rotateTo(0.1,-15),cc.rotateTo(0.1,0)),3),f.push(d),d=CCEaseExponentialOut.create(cc.moveTo(0.5,g)),
e=cc.scaleTo(0.5,0),f.push(cc.spawn(e,d)),f.push(cc.callFunc(function(){m()})),d=cc.sequence(f),h.runAction(d)):(f=[],f.push(cc.delayTime(0.4)),f.push(cc.moveTo(0.25,g)),f.push(cc.callFunc(m)),f=cc.sequence(f),h?h.runAction(f):(a.tileLogic&&(h=a.tileLogic.tileItemMap[d][e],printf("runTileItemViewActionForceMoveItem sprite \x3d null  item.tileItemType \x3d "+h.tileItemType+" item.fruitColorType \x3d "+h.fruitColorType+" item.fruitSpecialType \x3d "+h.fruitSpecialType)),m()))}};
TileItemViewRunner.runTileItemActionBaldStrongFlameCasting=function(a,c){if(c.actionStatus==TileActionStatus.kWaitingForStart){c.actionStatus=TileActionStatus.kRunning;var d=c.itemPos1.x,e=c.itemPos1.y,f=a.baseMap[d][e];f.playBossCastSkill(a,function(){c.addInfo="animated"})}else if("animated"==c.addInfo){c.addInfo="";var d=c.itemPos1.x,e=c.itemPos1.y,d=a.baseMap[d][e],g=c.targetPositions;c.completeCount=0;var e=function(){c.completeCount+=1;c.completeCount>=g.length&&(c.addInfo="toChange")},h;for(h in g)f=
g[h],f=a.baseMap[f.r][f.c],f.playBossChangeToFlame(a,d,e)}else"toChange"==c.addInfo?c.addInfo="anim_over":"data_over"==c.addInfo&&(c.addInfo="over")};TileItemViewRunner.runTileItemActionBaldStrongDie=function(a,c){if(c.actionStatus==TileActionStatus.kWaitingForStart){c.actionStatus=TileActionStatus.kRunning;var d=c.itemPos1.x,e=c.itemPos1.y;c.addInfo="dropped"}else"dropped"==c.addInfo&&(c.addInfo="",d=c.itemPos1.x,e=c.itemPos1.y,a.baseMap[d][e].playBossDie(this,function(){c.addInfo="over"}))};
TileItemViewRunner.runTileItemActionBaldStrongMove=function(a,c){if(c.actionStatus==TileActionStatus.kWaitingForStart){c.actionStatus=TileActionStatus.kRunning;var d=c.itemPos1.x,e=c.itemPos1.y;a.baseMap[d][e].playBossDisappear(this,function(){c.addInfo="bossDisappered"})}else if("bossDisappered"==c.addInfo){c.addInfo="";var d=c.itemPos1.x,e=c.itemPos1.y,f=a.tileLogic.getItemMap()[d][e],g=c.itemPos2.x,h=c.itemPos2.y;a.baseMap[g][h].playBossComeout(this,{x:h,y:g,w:f.w,h:f.h,blood:f.blood,maxBlood:f.maxBlood,
bossType:f.bossType},function(){printf("comeCallback");c.addInfo="over"},function(){for(var c=f.bossSize,d=g-2;d<=g+c+1;++d)for(var e=h-2;e<=h+c+1;++e){var s=a.baseMap[d],t=0;d<g?t=g-d:d>=g+c?t=d-g-c+1:e<h?t=h-e:e>=h+c&&(t=e-h-c+1);0<t?s&&(s=s[e])&&s.oldData&&s.oldData.isColorful()&&s.playShockEffect(1/t,0.1+0.1*(t-1)*Math.random()):s[e].playAnimationFruitFDestroy(!1,!1)}a.runAction(cc.jumpBy(0.15,ccp(0,0),10,5))})}};
TileItemViewRunner.runTileItemAction_ConveyorBelt=function(a,c){if(c.actionStatus==TileActionStatus.kWaitingForStart){c.actionStatus=TileActionStatus.kRunning;var d=c.itemPos1.x,e=c.itemPos1.y,f=c.itemPos2.x,g=c.itemPos2.y,h=a.baseMap[d][e],m=c.boardData,n=c.itemData;c.tileShowType=h.tileShowType;var r=function(){c.addInfo="moveOver"};c.beltType=m.beltType;c.isGear&&m.beltType==ConveyorBeltType.kStart?(d=function(a){var c=ccp(0,0);a==ConveyorBeltDirection.kRight?c.x=-TileConst_Tile_Width:a==ConveyorBeltDirection.kLeft?
c.x=TileConst_Tile_Width:c.y=a==ConveyorBeltDirection.kUp?-TileConst_Tile_Height:TileConst_Tile_Height;return c},h.tailTransToOut(n,m,d(m.beltDirect),null,!0),n=a.baseMap[f][g],c.toData?(c.toData&&c.toData.iceLevel&&(m.iceLevel=c.toData.iceLevel),n.headTransToIn(c.toData,m,d(c.toBoardDataDirect),r)):n.headTransToIn(c.itemData,m,d(c.toBoardDataDirect),r)):c.isGear||m.beltType!=ConveyorBeltType.kEnd?(n=!1,n=c.isGear?m.beltType!=ConveyorBeltType.kEnd&&m.beltType!=ConveyorBeltType.kRoad:m.beltType!=ConveyorBeltType.kStart&&
m.beltType!=ConveyorBeltType.kRoad,p=ccp((g-e)*TileConst_Tile_Width,-(f-d)*TileConst_Tile_Height),h.roadTransToNext(p,n,r,c.isGear)):(d=function(a){var c=ccp(0,0);a==ConveyorBeltDirection.kRight?c.x=TileConst_Tile_Width:a==ConveyorBeltDirection.kLeft?c.x=-TileConst_Tile_Width:c.y=a==ConveyorBeltDirection.kUp?TileConst_Tile_Height:-TileConst_Tile_Height;return c},h.tailTransToOut(n,m,d(m.beltDirect),null,!1),n=a.baseMap[f][g],c.toData?(c.toData&&c.toData.iceLevel&&(m.iceLevel=c.toData.iceLevel),n.headTransToIn(c.toData,
m,d(c.toBoardDataDirect),r)):n.headTransToIn(c.itemData,m,d(c.toBoardDataDirect),r))}else"reInitView"==c.addInfo&&(c.addInfo="over",f=c.itemPos2.x,g=c.itemPos2.y,d=c.itemPos1.x,e=c.itemPos1.y,n=c.itemData,m=c.boardData,r=a.baseMap[f][g],d=a.baseMap[d][e],r.oldData=n,r.tileShowType=c.tileShowType,r.oldBoard=m.copy(),c.isGear&&c.beltType==ConveyorBeltType.kStart?r.reinitTransHeadByLogic(n,m):c.isGear||c.beltType!=ConveyorBeltType.kEnd?r.reinitTransRoadByLogic(n,m,d.getTransContainer()):r.reinitTransHeadByLogic(n,
m))};TileItemViewRunner.runTileItemActionConveyorBeltSwitchBrake=function(a,c){c.actionStatus==TileActionStatus.kWaitingForStart&&(c.actionStatus=TileActionStatus.kRunning,c.addInfo="waiting")};TileItemViewRunner.runTileItemActionConveyorBeltSwitchGear=function(a,c){c.actionStatus==TileActionStatus.kWaitingForStart&&(c.actionStatus=TileActionStatus.kRunning,c.addInfo="waiting")};
TileItemViewRunner.runTileItemActionCondimentGunSpray=function(a,c){c.actionStatus==TileActionStatus.kWaitingForStart?(c.actionStatus=TileActionStatus.kRunning,c.addInfo="waiting"):"spray"==c.addInfo&&(a.baseMap[c.itemPos1.x][c.itemPos1.y].playCondimentBottleSpray(c.direction,c.targetList.length,function(){}),c.addInfo="waiting_over")};
TileItemViewRunner.runTileItemActionCondimentSpray=function(a,c){if(c.actionStatus==TileActionStatus.kWaitingForStart){c.actionStatus=TileActionStatus.kRunning;var d=c.itemPos1.x,e=c.itemPos1.y;c.addInfo="waiting";a.baseMap[d][e].playCondimentElementSpray(c.delayTime,function(){c.addInfo="over"})}};
TileItemViewRunner.runTileItemActionWormWakeup=function(a,c){c.actionStatus==TileActionStatus.kWaitingForStart&&(c.actionStatus=TileActionStatus.kRunning,a.baseMap[c.itemPos1.x][c.itemPos1.y].playWormWakeup(function(){c.addInfo="over"}))};
TileItemViewRunner.runTileItemActionWormEat=function(a,c){if(c.actionStatus==TileActionStatus.kWaitingForStart)c.actionStatus=TileActionStatus.kRunning,c.addInfo="waiting";else if("goto"==c.addInfo){var d=c.itemPos1.x,e=c.itemPos1.y,d=a.baseMap[d][e];d.playWormMoveTo(c.itemPos2.x,c.itemPos2.y,function(){c.addInfo="goto_over"});c.addInfo="goto_start"}else"eat"==c.addInfo&&(d=c.itemPos2.x,e=c.itemPos2.y,d=a.baseMap[d][e],d.playWormEat(function(){c.addInfo="over"}),c.addInfo="eat_start")};
TileItemViewRunner.runTileItemActionKitchenGodAddBlock=function(a,c){c.actionStatus==TileActionStatus.kWaitingForStart&&(c.actionStatus=TileActionStatus.kRunning,c.addInfo="waiting",a.baseMap[c.itemPos1.x][c.itemPos1.y].playKitchenGodAddBlock(c.addInt,c.addInt2,function(){c.addInfo="over"}))};
TileItemViewRunner.runTileItemActionSandTransfer=function(a,c){if(c.actionStatus==TileActionStatus.kWaitingForStart){c.actionStatus=TileActionStatus.kRunning;c.addInfo="waiting";var d=c.itemPos1.x,e=c.itemPos1.y;a.baseMap[d][e].playSandMove({dr:c.itemPos2.x-d,dc:c.itemPos2.y-e},function(){c.addInfo="over";a.baseMap[c.itemPos2.x][c.itemPos2.y].addSandView()})}};
TileItemViewRunner.runTileItemAction=function(a,c){var d=c.actionType,e=c.actionStatus;d==ActionItemType.kItemScore_Get?e==TileActionStatus.kWaitingForStart&&this.runTileItemActionScoreGet(a,c):d==ActionItemType.kItem_Refresh_ItemFly?(e==TileActionStatus.kWaitingForStart&&(this.runTileItemActionPassRefreshItemFlying(a,c),this.runTileItemActionRefresh_Item_Flying(a,c)),"over"==c.addInfo&&this.runTileItemActionPassRefreshItemFlyingOver(a,c)):d==ActionItemType.kItem_DetonateBomb?e==TileActionStatus.kWaitingForStart&&
this.runTileItemActionDetonateBomb(a,c):d==ActionItemType.kItem_Fruit_Change?e==TileActionStatus.kWaitingForStart&&this.runTileItemActionItemDiscolorChange(a,c):d==ActionItemType.kItem_Fruit_Exchange_Color?e==TileActionStatus.kWaitingForStart&&this.runTileItemActionItemExchangeColor(a,c):d==ActionItemType.kItem_Sandstorm_Spread?e==TileActionStatus.kWaitingForStart?this.runTileItemActionSandstormSpread(a,c):e==TileActionStatus.kRunning&&this.runningTileItemActionSandstormSpread(a,c):d==ActionItemType.kItem_Flame_Spread?
e==TileActionStatus.kWaitingForStart?this.runTileItemActionSandstormSpread(a,c):e==TileActionStatus.kRunning&&this.runningTileItemActionSandstormSpread(a,c):d==ActionItemType.kItem_ClayBlock_Spread?e==TileActionStatus.kWaitingForStart?this.runTileItemActionSandstormSpread(a,c):e==TileActionStatus.kRunning&&this.runningTileItemActionSandstormSpread(a,c):d==ActionItemType.kItem_ClayBlock_Clean?e==TileActionStatus.kWaitingForStart?this.runTileItemActionClayCleanStart(a,c):e==TileActionStatus.kRunning&&
this.runningTileItemActionClayCleanStart(a,c):d==ActionItemType.kItem_ClayBlock_Order?this.runTileItemActionClayOrder(a,c):d==ActionItemType.kItem_GiftBox_Finish?e==TileActionStatus.kWaitingForStart?this.runTileItemActionGiftBoxFinishStart(a,c):e==TileActionStatus.kRunning&&this.runningTileItemActionGiftBoxFinishStart(a,c):d==ActionItemType.kItem_GiftBox_Order?this.runTileItemActionGiftBoxOrder(a,c):d==ActionItemType.kItem_JumpCat_Jump?e==TileActionStatus.kWaitingForStart?this.runStart_JumpCat_Transfer(a,
c):e==TileActionStatus.kRunning&&this.running_JumpCat_Transfer(a,c):d==ActionItemType.kItem_Shake?e==TileActionStatus.kWaitingForStart?this.runTileItemActionFruitShakeBySpecialColor(a,c):e==TileActionStatus.kRunning&&this.runTileItemActionFruitShakeBySpecialColor(a,c):d==ActionItemType.kItem_Press?e==TileActionStatus.kWaitingForStart?this.runTileItemActionFruitPressBySpecialColor(a,c):e==TileActionStatus.kRunning&&this.runTileItemActionFruitPressBySpecialColor(a,c):d==ActionItemType.kItem_Jump_Six?
e==TileActionStatus.kWaitingForStart?this.runTileItemActionFruitJumBySpecialSix(a,c):e==TileActionStatus.kRunning&&this.runTileItemActionFruitJumBySpecialSix(a,c):d==ActionItemType.kItem_Watermelon_Replace?e==TileActionStatus.kWaitingForStart?this.runTileItemActionWatermelonReplace(a,c):e==TileActionStatus.kRunning&&this.runningTileItemActionWatermelonReplace(a,c):d==ActionItemType.kItem_ForceMove?this.runTileItemViewActionForceMoveItem(a,c):d==ActionItemType.kItem_BaldStrong_Die?this.runTileItemActionBaldStrongDie(a,
c):d==ActionItemType.kItem_BaldStrong_Move?this.runTileItemActionBaldStrongMove(a,c):d==ActionItemType.kItem_ConveyorBelt?this.runTileItemAction_ConveyorBelt(a,c):d==ActionItemType.kItem_BaldStrong_Flame_Casting?this.runTileItemActionBaldStrongFlameCasting(a,c):d==ActionItemType.kItem_CondimentGunSpray?this.runTileItemActionCondimentGunSpray(a,c):d==ActionItemType.kItem_CondimentSpray?this.runTileItemActionCondimentSpray(a,c):d==ActionItemType.kItem_ConveyorBelt_Switch_Brake?this.runTileItemActionConveyorBeltSwitchBrake(a,
c):d==ActionItemType.kItem_ConveyorBelt_Switch_Gear?this.runTileItemActionConveyorBeltSwitchGear(a,c):d==ActionItemType.kItem_Worm_Wakeup?this.runTileItemActionWormWakeup(a,c):d==ActionItemType.kItem_Worm_Eat?this.runTileItemActionWormEat(a,c):d==ActionItemType.kItem_KitchenGod_Add_Block?this.runTileItemActionKitchenGodAddBlock(a,c):c.actionType==ActionItemType.kItem_Sand_Transfer&&this.runTileItemActionSandTransfer(a,c)};
TileItemViewRunner.runAllAction=function(a){if(a&&a.tileLogic&&a.tileLogic.gameActionList){var c=a.tileLogic.gameActionList,d;for(d in c){var e=c[d];e&&e.actionTarget==ActionTargetType.kTileItemAction&&this.runTileItemAction(a,e)}}};TilePassViewRunner=cw.Class({});TilePassViewRunner.runAllAction=function(a){if(a&&a.tileLogic&&a.tileLogic.fallingActionList){var c=a.tileLogic.fallingActionList,d;for(d in c){var e=c[d];e&&e.actionTarget==ActionTargetType.kTileItemAction&&this.runTileItemActionPass(a,e)}}};
TilePassViewRunner.runTileItemActionPass=function(a,c){var d=c.actionType,e=c.addInfo;d==ActionItemType.kItemFalling_Up?"Pass"==e&&this.runTileItemActionPassFallingUpDown(a,c):d==ActionItemType.kItemFalling_Down?"Pass"==e&&this.runTileItemActionPassFallingUpDown(a,c):d==ActionItemType.kItemFalling_Left?"Pass"==e&&this.runTileItemActionPassFallingUpDown(a,c):d==ActionItemType.kItemFalling_Right?"Pass"==e&&this.runTileItemActionPassFallingUpDown(a,c):d==ActionItemType.kItemFalling_LeftRight?"Pass"==
e&&this.runTileItemActionPassFallingLeftRight(a,c):d==ActionItemType.kItemFalling_Product?"Pass"==e&&this.runTileItemActionPassFallingProductItem(a,c):d==ActionItemType.kItemFalling_Product_Down?"Pass"==e&&this.runTileItemActionPassFallingProductItem(a,c):d==ActionItemType.kItemFalling_Pass?"Pass"==e&&this.runTileItemActionPassFallingPass(a,c):d==ActionItemType.kItemEliminate_Five?"Pass"==e&&this.runTileItemActionPassFiveFruitSwap(a,c):d==ActionItemType.kItemSwap_FiveLine?"Pass"==e&&this.runTileItemActionPassFiveFruitSwap(a,
c):d==ActionItemType.kItemSwap_FiveBoom?"Pass"==e&&this.runTileItemActionPassFiveFruitSwap(a,c):d==ActionItemType.kItemSwap_FiveFive&&"Pass"==e&&this.runTileItemActionPassFiveFiveSwap(a,c)};
TilePassViewRunner.runTileItemActionPassFallingUpDown=function(a,c){var d=c.itemPos2.x,e=c.itemPos2.y,f=a.baseMap[c.itemPos1.x][c.itemPos1.y],g=a.baseMap[d][e],d=a.tileLogic.tileItemMap[d][e];f.tileSprite[TileViewType.kItem]?(g.removeItemSpriteGameItem(),g.tileSprite[TileViewType.kItem]=f.tileSprite[TileViewType.kItem],f.tileSprite[TileViewType.kItem]=null):f.tileSprite[TileViewType.kItemShow]&&(g.removeItemSpriteGameItem(),g.tileSprite[TileViewType.kItemShow]=f.tileSprite[TileViewType.kItemShow],
f.tileSprite[TileViewType.kItemShow]=null);f.tileSprite[TileViewType.kJumpCat]&&(g.tileSprite[TileViewType.kJumpCat]=f.tileSprite[TileViewType.kJumpCat],f.tileSprite[TileViewType.kJumpCat]=null,g.oldData.jumpCatLevel=d.jumpCatLevel);f.tileSprite[TileViewType.kCondiment]&&(g.tileSprite[TileViewType.kCondiment]=f.tileSprite[TileViewType.kCondiment],f.tileSprite[TileViewType.kCondiment]=null,g.oldData.fruitCondiment=d.fruitCondiment);g.oldData.tileItemType=d.tileItemType;g.oldData.fruitColorType=d.fruitColorType;
g.oldData.fruitSpecialType=d.fruitSpecialType;g.tileShowType=f.tileShowType};
TilePassViewRunner.runTileItemActionPassFallingLeftRight=function(a,c){var d=c.itemPos2.x,e=c.itemPos2.y,f=a.baseMap[c.itemPos1.x][c.itemPos1.y],g=a.baseMap[d][e],d=a.tileLogic.tileItemMap[d][e];f.tileSprite[TileViewType.kItem]?(g.removeItemSpriteGameItem(),g.tileSprite[TileViewType.kItem]=f.tileSprite[TileViewType.kItem],f.tileSprite[TileViewType.kItem]=null,g.oldData.tileItemType=d.tileItemType,g.oldData.fruitColorType=d.fruitColorType,g.oldData.fruitSpecialType=d.fruitSpecialType,g.tileShowType=
f.tileShowType):f.tileSprite[TileViewType.kItemShow]?(g.removeItemSpriteGameItem(),g.tileSprite[TileViewType.kItemShow]=f.tileSprite[TileViewType.kItemShow],f.tileSprite[TileViewType.kItemShow]=null,g.oldData.tileItemType=d.tileItemType,g.oldData.fruitColorType=d.fruitColorType,g.oldData.fruitSpecialType=d.fruitSpecialType,g.tileShowType=f.tileShowType):printf("runTileItemActionPassFallingLeftRight nosprite");f.tileSprite[TileViewType.kJumpCat]&&(g.tileSprite[TileViewType.kJumpCat]=f.tileSprite[TileViewType.kJumpCat],
f.tileSprite[TileViewType.kJumpCat]=null,g.oldData.jumpCatLevel=d.jumpCatLevel);f.tileSprite[TileViewType.kCondiment]&&(g.tileSprite[TileViewType.kCondiment]=f.tileSprite[TileViewType.kCondiment],f.tileSprite[TileViewType.kCondiment]=null,g.oldData.fruitCondiment=d.fruitCondiment)};
TilePassViewRunner.runTileItemActionPassFallingProductItem=function(a,c){var d=c.itemPos1.x,e=c.itemPos1.y,f=a.baseMap[d][e],d=a.tileLogic.tileItemMap[d][e];f.addFallingDataIntoClipping(d);f.tileSprite[TileViewType.kItem]?f.tileSprite[TileViewType.kItemShow]=null:f.tileSprite[TileViewType.kItemShow]&&(f.tileSprite[TileViewType.kItem]=null);f.oldData.tileItemType=d.tileItemType;f.oldData.fruitColorType=d.fruitColorType;f.oldData.fruitSpecialType=d.fruitSpecialType};
TilePassViewRunner.runTileItemActionPassFallingProductItemOver=function(a,c){var d=c.itemPos1.x,e=c.itemPos1.y,f=a.baseMap[d][e],d=a.tileLogic.tileItemMap[d][e];d.dataReach&&f.takeClippingNodeToSprite(d,a.tileLogic)};
TilePassViewRunner.runTileItemActionPassFallingPass=function(a,c){var d=c.itemPos2.x,e=c.itemPos2.y,f=a.baseMap[c.itemPos1.x][c.itemPos1.y],g=a.baseMap[d][e],d=a.tileLogic.tileItemMap[d][e];g.addFallingDataIntoClipping(d);g.isNeedUpdate=!0;f.fallingDataOutOfClipping(d);f.isNeedUpdate=!0;g.oldData.tileItemType=d.tileItemType;g.oldData.fruitColorType=d.fruitColorType;g.oldData.fruitSpecialType=d.fruitSpecialType;g.tileShowType=f.tileShowType};
TilePassViewRunner.runTileItemActionPassFallingPassOver=function(a,c){var d=c.itemPos2.x,e=c.itemPos2.y,f=a.baseMap[c.itemPos1.x][c.itemPos1.y],g=a.baseMap[d][e],d=a.tileLogic.tileItemMap[d][e];d.dataReach&&(g.takeClippingNodeToSprite(d,a.tileLogic),f.cleanEnterClippingSpriteOfItem());f.isNeedUpdate=!0;g.isNeedUpdate=!0};
TilePassViewRunner.runTileItemActionPassFiveFruitSwap=function(a,c){var d=c.itemPos1.x,e=c.itemPos1.y,f=c.itemPos2.x,g=c.itemPos2.y,h=a.baseMap[d][e],m=a.baseMap[f][g],n=h.tileSprite[TileViewType.kItem],r=h.tileSprite[TileViewType.kItemShow],s=m.tileSprite[TileViewType.kItem],t=m.tileSprite[TileViewType.kItemShow];n?(m.tileSprite[TileViewType.kItem]=n,m.tileSprite[TileViewType.kItemShow]=null):r?(m.tileSprite[TileViewType.kItem]=null,m.tileSprite[TileViewType.kItemShow]=r):(m.tileSprite[TileViewType.kItem]=
null,m.tileSprite[TileViewType.kItemShow]=null);s?(h.tileSprite[TileViewType.kItem]=s,h.tileSprite[TileViewType.kItemShow]=null):t?(h.tileSprite[TileViewType.kItem]=null,h.tileSprite[TileViewType.kItemShow]=t):(h.tileSprite[TileViewType.kItem]=null,h.tileSprite[TileViewType.kItemShow]=null);d=a.tileLogic.tileItemMap[d][e];f=a.tileLogic.tileItemMap[f][g];m.oldData.fruitColorType=f.fruitColorType;m.oldData.fruitSpecialType=f.fruitSpecialType;m.tileShowType=TileSpriteShowType.kCharacter;h.oldData.fruitColorType=
d.fruitColorType;h.oldData.fruitSpecialType=d.fruitSpecialType;h.tileShowType=TileSpriteShowType.kFive};
TilePassViewRunner.runTileItemActionPassFiveFiveSwap=function(a,c){var d=c.itemPos1.x,e=c.itemPos1.y,f=c.itemPos2.x,g=c.itemPos2.y,h=a.baseMap[d][e],m=a.baseMap[f][g],n=h.tileSprite[TileViewType.kItem],r=h.tileSprite[TileViewType.kItemShow],s=m.tileSprite[TileViewType.kItem],t=m.tileSprite[TileViewType.kItemShow];n?(m.tileSprite[TileViewType.kItem]=n,m.tileSprite[TileViewType.kItemShow]=null):r?(m.tileSprite[TileViewType.kItem]=null,m.tileSprite[TileViewType.kItemShow]=r):(m.tileSprite[TileViewType.kItem]=
null,m.tileSprite[TileViewType.kItemShow]=null);s?(h.tileSprite[TileViewType.kItem]=s,h.tileSprite[TileViewType.kItemShow]=null):t?(h.tileSprite[TileViewType.kItem]=null,h.tileSprite[TileViewType.kItemShow]=t):(h.tileSprite[TileViewType.kItem]=null,h.tileSprite[TileViewType.kItemShow]=null);d=a.tileLogic.tileItemMap[d][e];f=a.tileLogic.tileItemMap[f][g];m.oldData.fruitColorType=f.fruitColorType;m.oldData.fruitSpecialType=f.fruitSpecialType;m.tileShowType=TileSpriteShowType.kFive;h.oldData.fruitColorType=
d.fruitColorType;h.oldData.fruitSpecialType=d.fruitSpecialType;h.tileShowType=TileSpriteShowType.kFive};BlockCleanLogic=cw.Class({});
BlockCleanLogic.cleanWorm=function(a,c,d,e,f,g){var h=a.tileItemMap[c][d];if(0<h.wormLevel){g=g||1;g=h.wormLevel>=g&&g||h.wormLevel;h.wormLevel-=g;1==h.wormLevel&&(h.wormHalfState=!0);if(0==h.wormLevel)h.AddItemStatus(TileItemStatusType.kDestroy),h.wormHalfState=!1,a.addRecordToOrderList(c,d,TileItemOrderType.kSpecialTarget,TileItemOrderType_ST.kWorm,1),a.recordGameData(TileRecordType.kBlock,TileRecordBlockType.kWorm),ItemBombLogic.bombItemAtSite(a,c,d);else{var m=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemEliminate_Worm,
ccp(c,d),null,TileConst_Worm_Delete_Action_Time);m.addInt=h.wormLevel;a.addDestroyAction(m)}e||ScoreCalculateLogic.addScoreAtSiteByType(a,c,d,ScoreType.kBase_Stone,!1,f||g)}};
BlockCleanLogic.cleanStone=function(a,c,d,e,f,g,h){var m=a.tileItemMap[c][d];0<m.stoneLevel&&(g=g||1,g=m.stoneLevel>=g?g:m.stoneLevel,m.stoneLevel-=g,h&&(m.stoneLevel=0),0==m.stoneLevel&&(m.AddItemStatus(TileItemStatusType.kDestroy),a.addRecordToOrderList(c,d,TileItemOrderType.kSpecialTarget,TileItemOrderType_ST.kStone,1),a.recordGameData(TileRecordType.kBlock,TileRecordBlockType.kStone)),h=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemEliminate_Stone,ccp(c,d),null,
TileConst_Stone_Delete_Action_Time),h.addInt=m.stoneLevel+1,a.addDestroyAction(h),e||ScoreCalculateLogic.addScoreAtSiteByType(a,c,d,ScoreType.kBase_Stone,!1,f||g))};
BlockCleanLogic.cleanCardboard=function(a,c,d,e,f,g){var h=a.tileItemMap[c][d];0<h.cardboardLevel&&(h.cardboardLevel-=1,g&&(h.cardboardLevel=0),g=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemEliminate_Lock,ccp(c,d),null,TileConst_Stone_Delete_Action_Time),a.addDestroyAction(g),e||ScoreCalculateLogic.addScoreAtSiteByType(a,c,d,ScoreType.kBase_Cage,!1,f),a.recordGameData(TileRecordType.kBlock,TileRecordBlockType.kLock))};
BlockCleanLogic.cleanSandstorm=function(a,c,d,e,f){var g=a.tileItemMap[c][d];0<g.sandstormLevel&&(g.sandstormLevel-=1,g.AddItemStatus(TileItemStatusType.kDestroy),a.addRecordToOrderList(c,d,TileItemOrderType.kSpecialTarget,TileItemOrderType_ST.kSandstorm,1),a.addRecordToOrderList(c,d,TileItemOrderType.kAllTarget,TileItemOrderType_AT.kSandstorm,1),g=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemEliminate_Sandstorm,ccp(c,d),null,TileConst_Block_Delete_Action_Time),a.addDestroyAction(g),
e||ScoreCalculateLogic.addScoreAtSiteByType(a,c,d,ScoreType.kBase_Sandstorm,!1,f))};
BlockCleanLogic.cleanFlame=function(a,c,d,e,f){var g=a.tileItemMap[c][d];0<g.flameLevel&&(g.flameLevel-=1,g.flameStep=0,g.AddItemStatus(TileItemStatusType.kDestroy),a.addRecordToOrderList(c,d,TileItemOrderType.kSpecialTarget,TileItemOrderType_ST.kFlame,1),a.addRecordToOrderList(c,d,TileItemOrderType.kAllTarget,TileItemOrderType_AT.kFlame,1),g=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemEliminate_Sandstorm,ccp(c,d),null,TileConst_Block_Delete_Action_Time),a.addDestroyAction(g),
e||ScoreCalculateLogic.addScoreAtSiteByType(a,c,d,ScoreType.kBase_Flame,!1,f))};
BlockCleanLogic.cleanWatermelon=function(a,c,d,e,f,g){f=a.tileItemMap[c][d];if(f.tileItemType==TileItemType.kWatermelon){var h=f.watermelonLevel;g=g||1;for(var m=0;m<g;++m)f.watermelonUpgrade();g=f.watermelonLevel-h;0<g&&(f=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItem_Watermelon_Upgrade,ccp(c,d),null,1),f.addInt=g,a.addDestroyAction(f));!e&&0<g&&ScoreCalculateLogic.addScoreAtSiteByType(a,c,d,ScoreType.kBaseWatermelon,!1,g)}};
BlockCleanLogic.destoryWatermelon=function(a,c,d){a.tileItemMap[c][d].tileItemType==TileItemType.kWatermelon&&ItemBombLogic.bombItemAtSite(a,c,d)};
BlockCleanLogic.cleanJumpCat=function(a,c,d,e,f){var g=a.tileItemMap[c][d];g.hasJumpCat()&&(g.jumpCatLevel=0,a.addRecordToOrderList(c,d,TileItemOrderType.kSpecialTarget,TileItemOrderType_ST.kJumpCat,1),g=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemEliminate_JumpCat,ccp(c,d),null,TileConst_JumpCat_Delete_Action_Time),a.addDestroyAction(g),e||ScoreCalculateLogic.addScoreAtSiteByType(a,c,d,ScoreType.kBase_JumpCat,!1,f))};
BlockCleanLogic.cleanHelmet=function(a,c,d,e,f,g){a.tileItemMap[c][d].tileItemType==TileItemType.kHelmet&&(ItemBombLogic.bombItemAtSite(a,c,d),GameMusicManager.playEffect(GameMusicType.kHelmetBreak),e||ScoreCalculateLogic.addScoreAtSiteByType(a,c,d,ScoreType.kBase_Helmet,!1,f),a.recordGameData(TileRecordType.kBlock,TileRecordBlockType.kHelmet))};
BlockCleanLogic.cleanIce=function(a,c,d,e,f,g){var h=a.tileItemMap[c][d],m=a.tileBoardMap[c][d];0<m.iceLevel&&(m.iceLevel-=1,g&&(m.iceLevel=0),m.isNeedUpdate=!0,h.isNeedUpdate=!0,h=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemEliminate_Ice,ccp(c,d),null,TileConst_MaxAction_time),a.addDestroyAction(h),e||ScoreCalculateLogic.addScoreAtSiteByType(a,c,d,ScoreType.kBase_Ice,!1,f),a.tileUIDelegate&&a.gameMode.is(IceCleanMode)&&(e=a.getGameItemPosInView(c,d),f=a.gameMode.checkAllLightCount(a),
a.tileUIDelegate.setGameTargetNumber(1,f,e)),0!=m.iceLevel||g||(a.addRecordToOrderList(c,d,TileItemOrderType.kSpecialTarget,TileItemOrderType_ST.kIce,1),a.recordGameData(TileRecordType.kBlock,TileRecordBlockType.kIce)))};
BlockCleanLogic.cleanSand=function(a,c,d,e,f,g){var h=a.tileBoardMap[c][d];if(a.tileItemMap[c][d].tileItemType==TileItemType.kFruit&&0<h.sandLevel){h.sandLevel=0;var m=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemEliminate_Sand,ccp(c,d),null,TileConst_MaxAction_time);a.addDestroyAction(m);e||ScoreCalculateLogic.addScoreAtSiteByType(a,c,d,ScoreType.kBase_Honey,!1,f);0!=h.sandLevel||g||(a.addRecordToOrderList(c,d,TileItemOrderType.kSpecialTarget,TileItemOrderType_ST.kSand,
1),a.recordGameData(TileRecordType.kBlock,TileRecordBlockType.kHoney))}};FindBearLogic=cw.Class({});FindBearLogic.checkAllBearIsFound=function(a,c,d){if(a.gameMode.is(FindBearMode)&&(!c||!d||null!=a.tileBoardMap[c][d].bearInfo)){c={};for(d=0;d<a.tileBoardMap.length;++d)for(var e=0;e<a.tileBoardMap[d].length;++e){var f=a.tileBoardMap[d][e];if(f.isUsed&&f.bearInfo&&null==c[f.bearInfo.id]){var g=this.checkOneBearIsFound(a,f.bearInfo);c[f.bearInfo.id]={isFind:g,bearInfo:f.bearInfo}}}for(var h in c)d=c[h],d.isFind&&this.clearOneBearInfo(a,d.bearInfo)}};
FindBearLogic.checkOneBearIsFound=function(a,c){for(var d=0;d<c.height;++d)for(var e=0;e<c.width;++e){var f=c.r+d,g=c.c+e;if(!a.isPosValid(f,g))return!1;var h=a.tileBoardMap[f][g];if(a.tileItemMap[f][g].isBeBlock()||0<h.iceLevel)return!1}return!0};
FindBearLogic.clearOneBearInfo=function(a,c){for(var d=0;d<c.height;++d)for(var e=0;e<c.width;++e){var f=c.r+d,g=c.c+e;if(a.isPosValid(f,g)){var h=a.tileBoardMap[f][g],f=a.tileItemMap[f][g];h.bearInfo=null;h.isNeedUpdate=!0;f.isNeedUpdate=!0}}ScoreCalculateLogic.addScoreAtSiteByType(a,c.r,c.c,ScoreType.kBase_FindBear);a.tileUIDelegate&&a.gameMode.is(FindBearMode)&&(d=a.getGameItemPosInView(c.r,c.c),e=a.gameMode.checkLeftFindBearCount(),a.tileUIDelegate.setGameTargetNumber(1,e,d),d=LevelTargetCollectPeanutAnimation.create(a),
d.setData(c),d.play(),printf("-----------------\x3e\x3eGameMusicType.kPeanutOut"),GameMusicManager.playEffect(GameMusicType.kPeanutOut))};HalfStableCheckLogic=cw.Class({});HalfStableCheckLogic.checkAllMap=function(a){for(var c=a.tileItemMap,d=TileItemStatusType.kTileHalfStable,e=0;e<c.length;++e)for(var f=0;f<c[e].length;++f)c[e][f].tileItemStatus==d&&(a.addNeedCheckMatchPoint(e,f),c[e][f].tileItemStatus=TileItemStatusType.kNone);return!1};
HalfStableCheckLogic.checkItemElasticAnimation=function(a){for(var c=a.tileItemMap,d=TileItemStatusType.kTileHalfStable,e=!1,f={},g=0;g<c.length;++g)for(var h=0;h<c[g].length;++h)c[g][h].tileItemStatus==d&&(a.tileView&&(e=a.tileView.baseMap[g][h],0<a.tileBoardMap[g][h].beltType&&(a.waitForElasticAnimation=!0),f[100*g+h]||e.playElasticEffect(),f[100*g+h]=!0,g<c.length-1&&!f[100*g+100+h]&&c[g+1][h].canBeCoverByMatch()&&(a.tileView.baseMap[g+1][h].playElasticEffect(),f[100*g+100+h]=!0)),e=!0);e&&GameMusicManager.playEffect(GameMusicType.kDrop)};
HalfStableCheckLogic.checkAllMapWithNoMove=function(a){ItemMatchLogic.cleanSwapHelpMap(a);for(var c=!1,d=a.tileItemMap,e=0;e<d.length;++e)for(var f=0;f<d[e].length;++f)d[e][f].isUsed&&ItemMatchLogic.checkMatchStep(a,e,f,d[e][f].fruitColorType,!0)[0]&&(c=!0);c&&ItemMatchLogic.matchSuccessAndCompose(a);ItemMatchLogic.cleanSwapHelpMap(a);return c};HoneyEffectLogic=cw.Class({});HoneyEffectLogic.isHasHoney=function(a,c,d){if(a.curGameModeType!=GameModeType.kHoney||!a.isPosValid(c,d))return!1;var e=a.tileBoardMap[c][d];a=a.tileItemMap[c][d];return e.isUsed&&!e.isBlock&&!a.hasJumpCat()&&0<e.honeyLevel};HoneyEffectLogic.isHasHoneyWhenSwap=function(a,c,d,e,f){return this.isHasHoney(a,c,d)||this.isHasHoney(a,e,f)};
HoneyEffectLogic.doEffectToHoneyAtPos=function(a,c,d){if(a.curGameModeType!=GameModeType.kHoney||!a.isPosValid(c,d))return!1;var e=a.tileItemMap[c][d],f=a.tileBoardMap[c][d],g=a.kHoneyModeTarget;return f.isUsed&&!f.isBlock&&f.honeyLevel<g&&e.tileItemType!=TileItemType.kWatermelon?(f.honeyLevel+=1,f.isNeedUpdate=!0,e.isNeedUpdate=!0,a.tileUIDelegate&&(c=a.getGameItemPosInView(c,d),d=a.gameMode.checkLeftHoneyCount(),a.tileUIDelegate.setGameTargetNumber(1,d,c)),!0):!1};
HoneyEffectLogic.canEffectToHoneyAtList=function(a,c){for(var d in c){var e=c[d];if(this.isHasHoney(a,e.r,e.c))return!0}return!1};HoneyEffectLogic.doEffectToHoneyAtList=function(a,c,d){if(a.curGameModeType!=GameModeType.kHoney||!d&&!this.canEffectToHoneyAtList(a,c))return!1;for(var e in c)d=c[e],this.doEffectToHoneyAtPos(a,d.r,d.c);return!0};ItemBombLogic=cw.Class({});ItemBombLogic.BombByMatch=function(a){if(a.curGameModeType==GameModeType.kIceClean||a.curGameModeType==GameModeType.kFindBear)for(var c=a.swapHelpMap,d=a.tileItemMap,e=0;e<c.length;++e)for(var f=0;f<c[e].length;++f){var g=c[e][f];if(0<g){var h=d[e][f];if(FruitTypeConfig.isSpecial(h.fruitSpecialType)&&!h.isItemLock){for(var m=[],n=a.swapHelpMap,r=0;r<n.length;++r)for(var s=0;s<n[r].length;++s)n[r][s]==g&&m.push({r:r,c:s});h.iceCleanBombMatchPosList=m}}}};
ItemBombLogic.BombItem=function(a,c,d,e,f){null==e&&(e=0);null==f&&(f=0);0>f&&(f=0);return ItemBombLogic.BombItemToChange(a,c,d,a.tileItemMap[c][d].fruitSpecialType,e,f)};
ItemBombLogic.BombItemToChange=function(a,c,d,e,f,g,h,m,n){if(!a.isPosValid(c,d)||a.tileItemMap[c][d].isItemLock)return 0;0>g&&(g=0);if(e==FruitTypeConfig.kLine)return ItemBombLogic._BombItemLine(a,c,d,f,g,h,m,n),e;if(e==FruitTypeConfig.kColumn)return ItemBombLogic._BombItemColumn(a,c,d,f,g,h,m,n),e;if(e==FruitTypeConfig.kBomb)return ItemBombLogic._BombItemWrap(a,c,d,f,g,h,m,n),e;if(e==FruitTypeConfig.kCross)return ItemBombLogic._BombItemCross(a,c,d,f,g,h,m,n),e;if(e==FruitTypeConfig.kFive)return ItemBombLogic._BombItemFive(a,
c,d,f,g,h,m,n),e;if(e==FruitTypeConfig.kSix)return ItemBombLogic._BombItemSix(a,c,d,f,g,h,m,n),e;e==FruitTypeConfig.kCutyPet?ItemBombLogic._BombItemCutyPet(a,c,d,f,g,h,m,n):e==FruitTypeConfig.kBigCross?ItemBombLogic._BombItemBigCross(a,c,d,f,g,h,m,n):e==FruitTypeConfig.kBigBomb&&ItemBombLogic._BombItemBigBomb(a,c,d,f,g,h,m,n);return 0};
ItemBombLogic._BombItemLine=function(a,c,d,e,f,g,h,m){0==f&&(f=ScoreCalculateLogic.getScoreScaleWithBombType(FruitTypeConfig.kLine));var n=a.tileItemMap[c][d];1==e&&(n.bombRes=null,n.isItemLock=!0,a.tileItemMap[c][d].hasGivenScore||ScoreCalculateLogic.addScoreAtSiteByType(a,c,d,ScoreType.kBomb_Line,!0),a.addRecordToOrderList(c,d,TileItemOrderType.kSpecialBomb,TileItemOrderType_SB.kLine));c=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemEliminate_Line,ccp(c,d),null,TileConst_SpecialBomb_Line_Action_Time);
c.addInt2=f;c.isHoney=h||n.isHoney;c.saveSelf=m;a.addDestructionPlanAction(c);g||GameMusicManager.playEffect(GameMusicType.kEliminateLine);a.recordGameData(TileRecordType.kEffect,TileRecordEffectType.kLine)};
ItemBombLogic._BombItemColumn=function(a,c,d,e,f,g,h,m){0==f&&(f=ScoreCalculateLogic.getScoreScaleWithBombType(FruitTypeConfig.kColumn));var n=a.tileItemMap[c][d];1==e&&(n.bombRes=null,n.isItemLock=!0,a.tileItemMap[c][d].hasGivenScore||ScoreCalculateLogic.addScoreAtSiteByType(a,c,d,ScoreType.kBomb_Column,!0),a.addRecordToOrderList(c,d,TileItemOrderType.kSpecialBomb,TileItemOrderType_SB.kLine));c=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemEliminate_Column,ccp(c,d),
null,TileConst_SpecialBomb_Column_Action_Time);c.addInt2=f;c.isHoney=h||n.isHoney;c.saveSelf=m;a.addDestructionPlanAction(c);g||GameMusicManager.playEffect(GameMusicType.kEliminateLine);a.recordGameData(TileRecordType.kEffect,TileRecordEffectType.kLine)};
ItemBombLogic._BombItemWrap=function(a,c,d,e,f,g,h,m){0==f&&(f=ScoreCalculateLogic.getScoreScaleWithBombType(FruitTypeConfig.kBomb));var n=a.tileItemMap[c][d];1==e&&(n.bombRes=null,n.isItemLock=!0,a.tileItemMap[c][d].hasGivenScore||ScoreCalculateLogic.addScoreAtSiteByType(a,c,d,ScoreType.kBomb_Bomb,!0),a.addRecordToOrderList(c,d,TileItemOrderType.kSpecialBomb,TileItemOrderType_SB.kBomb));c=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemEliminate_Boom,ccp(c,d),null,TileConst_SpecialBomb_Wrap);
c.addInt2=f;c.isHoney=h||n.isHoney;c.saveSelf=m;a.addDestructionPlanAction(c);g||GameMusicManager.playEffect(GameMusicType.kEliminateBomb);a.recordGameData(TileRecordType.kEffect,TileRecordEffectType.kBomb)};
ItemBombLogic._BombItemCross=function(a,c,d,e,f,g,h){0==f&&ScoreCalculateLogic.getScoreScaleWithBombType(FruitTypeConfig.kCross);1==e&&(e=a.tileItemMap[c][d],e.bombRes=null,e.isItemLock=!0,a.tileItemMap[c][d].hasGivenScore||ScoreCalculateLogic.addScoreAtSiteByType(a,c,d,ScoreType.kBomb_Cross,!0),a.addRecordToOrderList(c,d,TileItemOrderType.kSpecialBomb,TileItemOrderType_SB.kCross));e=a.tileItemMap[c][d];f=[];f=null==e.crossBombPoint?ItemPriorityLogic.getItemPointsByPriority(a,1):[e.crossBombPoint];
for(var m=HoneyEffectLogic.isHasHoney(a,c,d),n=0;n<f.length;++n){var r=f[n],r=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemSwap_CrossOther,ccp(c,d),ccp(r.r,r.c),TileConst_SpecialBomb_CrossCross);r.addInt=FruitTypeConfig.kCross;r.isHoney=h||e.isHoney||m;a.addDestructionPlanAction(r)}SpecialEffectLogic.bombEffectBlock(a,c,d,1);SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,c,d,1);g||GameMusicManager.playEffect(GameMusicType.kEliminateCross)};
ItemBombLogic._BombItemCutyPet=function(a,c,d,e,f,g,h,m){0==f&&(f=ScoreCalculateLogic.getScoreScaleWithBombType(FruitTypeConfig.kCutyPet));var n=a.tileItemMap[c][d];1==e&&(n.bombRes=null,n.isItemLock=!0,a.tileItemMap[c][d].hasGivenScore||ScoreCalculateLogic.addScoreAtSiteByType(a,c,d,ScoreType.kBomb_CutyPet,!0),a.addRecordToOrderList(c,d,TileItemOrderType.kSpecialBomb,TileItemOrderType_SB.kCutyPet));c=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemEliminate_CutyPet,
ccp(c,d),null,TileConst_SpecialBomb_CutyPet_Action_Time);c.mainPetId=UserManager.getMainPetId();c.addInt2=f;c.isHoney=h||n.isHoney;c.saveSelf=m;a.addDestructionPlanAction(c);g||(20001==c.mainPetId?GameMusicManager.playEffect(GameMusicType.kEliminate20001):20002==c.mainPetId?GameMusicManager.playEffect(GameMusicType.kEliminate20002_1):20003!=c.mainPetId&&(20004==c.mainPetId?GameMusicManager.playEffect(GameMusicType.kEliminate20004_1):20005==c.mainPetId&&GameMusicManager.playEffect(GameMusicType.kEliminate20005_1)));
a.tileUIDelegate.playBombEffect();a.recordGameData(TileRecordType.kEffect,TileRecordEffectType.kCutyPet)};
ItemBombLogic._BombItemBigCross=function(a,c,d,e,f,g,h,m){0==f&&(f=ScoreCalculateLogic.getScoreScaleWithBombType(FruitTypeConfig.kBigCross));var n=a.tileItemMap[c][d];1==e&&(n.bombRes=null,a.tileItemMap[c][d].hasGivenScore||ScoreCalculateLogic.addScoreAtSiteByType(a,c,d,ScoreType.kBomb_BigCross));c=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemEliminate_BigCross,ccp(c,d),null,TileConst_SpecialBomb_BigCross_Action_Time);c.addInt2=f;c.isHoney=h||n.isHoney;c.saveSelf=
m;a.addDestructionPlanAction(c);g||GameMusicManager.playEffect(GameMusicType.kEliminateLine)};
ItemBombLogic._BombItemBigBomb=function(a,c,d,e,f,g,h,m){0==f&&(f=ScoreCalculateLogic.getScoreScaleWithBombType(FruitTypeConfig.kBigBomb));var n=a.tileItemMap[c][d];1==e&&(n.bombRes=null,a.tileItemMap[c][d].hasGivenScore||ScoreCalculateLogic.addScoreAtSiteByType(a,c,d,ScoreType.kBomb_BigBomb));c=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemEliminate_BigBomb,ccp(c,d),null,TileConst_SpecialBomb_BigBomb_Action_Time);c.addInt2=f;c.isHoney=h||n.isHoney;c.saveSelf=m;a.addDestructionPlanAction(c);
g||GameMusicManager.playEffect(GameMusicType.kEliminateBomb)};
ItemBombLogic._BombItemSix=function(a,c,d,e,f,g,h){0==f&&(f=ScoreCalculateLogic.getScoreScaleWithBombType(FruitTypeConfig.kFive));e=a.tileItemMap[c][d];e.bombRes=null;e.isItemLock=!0;var m=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemEliminate_Six,ccp(c,d),null,TileConst_SpecialBomb_FiveFruit_Time1);m.addInt=e.fruitColorType;m.color2=a.getFiveEliminateColor(e.fruitColorType);m.addInt2=f;m.isHoney=h||HoneyEffectLogic.isHasHoney(a,c,d);a.addDestructionPlanAction(m);
a.addRecordToOrderList(c,d,TileItemOrderType.kSpecialBomb,TileItemOrderType_SB.kFive);g||GameMusicManager.playEffect(GameMusicType.kEliminateSix);a.recordGameData(TileRecordType.kEffect,TileRecordEffectType.kSix)};
ItemBombLogic._BombItemFive=function(a,c,d,e,f,g,h,m){0==f&&(f=ScoreCalculateLogic.getScoreScaleWithBombType(FruitTypeConfig.kFive));e=a.tileItemMap[c][d];e.bombRes=null;e.isItemLock=!0;var n=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemEliminate_Five,ccp(c,d),null,TileConst_SpecialBomb_FiveFruit_Time1);n.addInt=e.fruitColorType;n.addInt2=f;n.isHoney=h||HoneyEffectLogic.isHasHoney(a,c,d);n.saveSelf=m;a.addDestructionPlanAction(n);a.addRecordToOrderList(c,d,TileItemOrderType.kSpecialBomb,
TileItemOrderType_SB.kFive);g||GameMusicManager.playEffect(GameMusicType.kEliminateFive);a.recordGameData(TileRecordType.kEffect,TileRecordEffectType.kFive)};
ItemBombLogic._BombItemDoubleCutyPet=function(a,c,d,e,f,g,h,m){0==f&&(f=ScoreCalculateLogic.getScoreScaleWithBombType(FruitTypeConfig.kFive));e=a.tileItemMap[c][d];e.bombRes=null;e.isItemLock=!0;var n=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemEliminate_DoubleCutyPet,ccp(c,d),null,TileConst_SpecialBomb_FiveFruit_Time1);n.addInt=e.fruitColorType;n.addInt2=f;n.isHoney=h||HoneyEffectLogic.isHasHoney(a,c,d);n.saveSelf=m;a.addDestructionPlanAction(n);a.addRecordToOrderList(c,
d,TileItemOrderType.kSpecialBomb,TileItemOrderType_SB.kCutyPet);g||GameMusicManager.playEffect(GameMusicType.kEliminateFive);a.tileView.viberate();a.recordGameData(TileRecordType.kEffect,TileRecordEffectType.kDoubleCutyPet)};
ItemBombLogic.bombItemAtSite=function(a,c,d,e,f){var g=a.tileItemMap[c][d],h=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemEliminate_ItemByMatch,ccp(c,d),null,TileConst_Fruit_Delete_Action_Time);g.tileItemType==TileItemType.kHelmet&&(h.isTargetItem=a.isTargetItem(TileItemOrderType.kSpecialTarget,TileItemOrderType_ST.kHelmet));2==g.cutyPetType&&(h.cutyPetType=g.cutyPetType);a.addDestroyAction(h);g.AddItemStatus(TileItemStatusType.kDestroy);var m=a.tileBoardMap[c][d];
0<m.boardSpType&&(m.isDoubleBoardSp&&!m.isBoardLock&&ItemBombLogic._BombItemDoubleCutyPet(a,c,d,FruitTypeConfig.kCutyPet,0,3,!0,!1,!1),m.isBoardLock?(m.isDoubleBoardSp&&(ItemBombLogic.BombItemToChange(a,c,d,FruitTypeConfig.kCutyPet,0,3,!1,!1,!1),m.boardSpType=FruitTypeConfig.kCutyPet,m.isDoubleBoardSp=!1,m.isNeedUpdate=!0,h.cutyPetType=1),m.isBoardLock=!1):(ItemBombLogic.BombItemToChange(a,c,d,FruitTypeConfig.kCutyPet,0,3,!1,!1,!1),m.boardSpType=0,m.isDoubleBoardSp=!1,m.isNeedUpdate=!0,h.cutyPetType=
1));f&&(g.isItemLock=!0);e&&ItemBombLogic.bombEffectAtSite(a,c,d)};ItemBombLogic.autoBombCutyPetAtSite=function(a,c,d){var e=a.tileBoardMap[c][d];0<e.boardSpType&&(ItemBombLogic.BombItemToChange(a,c,d,FruitTypeConfig.kCutyPet,0,3,!1,!1,!1),e.boardSpType=0,e.isDoubleBoardSp=!1,e.isNeedUpdate=!0)};ItemBombLogic.bombEffectAtSite=function(a,c,d){SpecialEffectLogic.SpecialCoverAtPos(a,c,d,0,null,null,!0);SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,c,d,1)};
ItemBombLogic.tryCoverByBomb=function(a,c,d,e,f,g,h){if(!a.isPosValid(c,d)||!1==a.tileBoardMap[c][d].isUsed)return 0;null==g&&(g=!1);var m=a.tileItemMap[c][d];return m.canBeEliminateBySpecial()?(m.tileItemStatus!=TileItemStatusType.kMatchStatus&&m.tileItemStatus!=TileItemStatusType.kSpecialStatus&&(m.tileItemStatus==TileItemStatusType.kNone||m.tileItemStatus==TileItemStatusType.kWaitBomb?ItemBombLogic._removeGameItemBySpecialBomb(a,c,d,f,h):m.tileItemStatus!=TileItemStatusType.kFallingStatus&&m.tileItemStatus!=
TileItemStatusType.kJustStop&&m.tileItemStatus!=TileItemStatusType.kTileHalfStable||!e||(m.dataReach||g?ItemBombLogic._removeGameItemBySpecialBomb(a,c,d,f,h):c+1<a.tileItemMap.length&&ItemBombLogic.isItemTypeCanBeEliminateByFive(a,c+1,d)&&(e=a.tileItemMap[c+1][d],e.tileItemStatus==TileItemStatusType.kFallingStatus&&!1==e.dataReach&&e.comePos.x==c&&e.comePos.y==d&&ItemBombLogic._removeGameItemBySpecialBomb(a,c+1,d,f,h)))),m.tileItemType==TileItemType.kHelmet&&m.tileItemStatus!=TileItemStatusType.kDestroy?
2:1):!m.isEmpty&&m.hasJumpCat()?3:0};ItemBombLogic._removeGameItemBySpecialBomb=function(a,c,d,e,f){var g=a.tileItemMap[c][d];g.hasGivenScore||0!=g.fruitSpecialType||(!f&&e&&ScoreCalculateLogic.addScoreAtSiteByItemType(a,c,d,a.tileItemMap[c][d].tileItemType,!1,e),g.hasGivenScore=!0);g.AddItemStatus(TileItemStatusType.kSpecialStatus)};ItemBombLogic.isItemTypeCanBeEliminateByFive=function(a,c,d){return a.tileItemMap[c][d].isEliminatedByFiveSix()};
ItemBombLogic.tryCoverByFive=function(a,c,d,e,f,g){if(!a.isPosValid(c,d)||!1==a.tileBoardMap[c][d].isUsed)return 0;e=a.tileItemMap[c][d];ItemBombLogic.isItemTypeCanBeEliminateByFive(a,c,d)&&e.tileItemStatus!=TileItemStatusType.kMatchStatus&&e.tileItemStatus!=TileItemStatusType.kSpecialStatus&&(e.tileItemStatus==TileItemStatusType.kNone||e.tileItemStatus==TileItemStatusType.kWaitBomb||e.tileItemStatus==TileItemStatusType.kJustStop||e.tileItemStatus==TileItemStatusType.kTileHalfStable?(f=e.fruitSpecialType,
FruitTypeConfig.isNotFive(f)||ScoreCalculateLogic.addScoreAtSiteByItemType(a,c,d,e.tileItemType,!1,g),e.AddItemStatus(TileItemStatusType.kSpecialStatus)):e.tileItemStatus==TileItemStatusType.kFallingStatus&&(f=e.fruitSpecialType,FruitTypeConfig.isNotFive(f)?e.AddItemStatus(TileItemStatusType.kSpecialStatus):(ScoreCalculateLogic.addScoreAtSiteByItemType(a,c,d,e.tileItemType,!1,g),e.AddItemStatus(TileItemStatusType.kSpecialStatus),e.itemSpeed=0,e.isEmpty=!1,e.dataReach=!0,e.gotoPos=null,e.comePos=null)))};
ItemBombLogic.tryCoverBySix=function(a,c,d,e,f,g){if(!a.isPosValid(c,d)||!1==a.tileBoardMap[c][d].isUsed)return 0;e=a.tileItemMap[c][d];ItemBombLogic.isItemTypeCanBeEliminateByFive(a,c,d)&&e.tileItemStatus!=TileItemStatusType.kMatchStatus&&e.tileItemStatus!=TileItemStatusType.kSpecialStatus&&(e.tileItemStatus==TileItemStatusType.kNone||e.tileItemStatus==TileItemStatusType.kWaitBomb||e.tileItemStatus==TileItemStatusType.kJustStop||e.tileItemStatus==TileItemStatusType.kTileHalfStable?(f=e.fruitSpecialType,
FruitTypeConfig.isNotFive(f)?e.AddItemStatus(TileItemStatusType.kSpecialStatus):(ScoreCalculateLogic.addScoreAtSiteByItemType(a,c,d,e.tileItemType,!1,g),e.AddItemStatus(TileItemStatusType.kSpecialStatus),a.addRecordToOrderList(c,d,TileItemOrderType.kFruit,e.fruitColorType,1,null,e.fruitCondiment))):e.tileItemStatus==TileItemStatusType.kFallingStatus&&(f=e.fruitSpecialType,FruitTypeConfig.isNotFive(f)?e.AddItemStatus(TileItemStatusType.kSpecialStatus):(ScoreCalculateLogic.addScoreAtSiteByItemType(a,
c,d,e.tileItemType,!1,g),e.AddItemStatus(TileItemStatusType.kSpecialStatus),e.itemSpeed=0,e.isEmpty=!1,e.dataReach=!0,e.gotoPos=null,e.comePos=null,a.addRecordToOrderList(c,d,TileItemOrderType.kFruit,e.fruitColorType,1,null,e.fruitCondiment))))};ItemBombLogic.signItemToTypeWithFiveFlying=function(a,c,d,e,f,g){var h={},m;for(m in e){var n=e[m];n&&(n=a.getItemPosListByColor(n),h=table.union(h,n))}this.setSignOfBombResWithFiveFlying(a,c,d,h,f,g)};
ItemBombLogic.setSignOfBombResWithFiveFlying=function(a,c,d,e,f,g){var h=ccp(c,d),m={};f==FruitTypeConfig.kCross&&(m=ItemPriorityLogic.getItemPointsByPriority(a,e.length));for(var n in e){var r=e[n],s=r.x,t=r.y,u=a.tileItemMap[s][t];if(!FruitTypeConfig.isFiveOrSix(u.fruitSpecialType)&&u.canBecomeSpecialByFiveSix()){u.hasJumpCat()&&SpecialEffectLogic.SpecialCoverAtPos(a,r.x,r.y,3);var r=Math.sqrt(Math.pow(c-s,2)+Math.pow(d-t,2)),w=10+Math.ceil(15*r/11),r=function(e){e=TileActionDataSet.create(ActionTargetType.kTileItemAction,
e,ccp(s,t),ccp(c,d),w);e.addInt=n;a.addDestructionPlanAction(e);u.bombRes=h;u.isHoney=g};FruitTypeConfig.isBeeline(f)?FruitTypeConfig.isBeeline(u.fruitSpecialType)?u.bombRes=h:r(ActionItemType.kItemSwap_FiveLine_Fly):f==FruitTypeConfig.kBomb?u.fruitSpecialType==FruitTypeConfig.kBomb?u.bombRes=h:r(ActionItemType.kItemSwap_FiveBoom_Fly):f==FruitTypeConfig.kCross&&(u.fruitSpecialType==FruitTypeConfig.kCross?u.bombRes=h:r(ActionItemType.kItemSwap_FiveCross_Fly),u.crossBombPoint=m[n])}}};
ItemBombLogic.tryBombWithBombRes=function(a,c,d,e,f){a=a.tileItemMap;for(e=0;e<a.length;++e)for(f=0;f<a[e].length;++f){var g=a[e][f];if(null!=g.bombRes&&g.bombRes.x==c&&g.bombRes.y==d)return g.tileItemStatus!=TileItemStatusType.kNone&&g.tileItemStatus!=TileItemStatusType.kTileHalfStable&&g.tileItemStatus!=TileItemStatusType.kWaitBomb||g.AddItemStatus(TileItemStatusType.kSpecialStatus),!0}return!1};
ItemBombLogic.canBeBombByFiveFive=function(a,c,d){a=a.tileItemMap[c][d];return a.tileItemType==TileItemType.kFruit&&FruitTypeConfig.isSpecial(a.fruitSpecialType)&&a.isAvailable()?!0:!1};ItemBombLogic.BombAll=function(a){for(var c=a.tileItemMap,d=0;d<c.length;++d)for(var e=0;e<c[d].length;++e)if(ItemBombLogic.canBeBombByFiveFive(a,d,e)){var f=c[d][e];f.hasLock()||(f.hasJumpCat()?SpecialEffectLogic.SpecialCoverAtPos(a,d,e,1,4):f.AddItemStatus(TileItemStatusType.kSpecialStatus))}};
ItemBombLogic.bombAllColorItem=function(a){for(var c=a.tileItemMap,d=0;d<c.length;++d)for(var e=0;e<c[d].length;++e){var f=c[d][e];f&&f.isColorful()&&!f.hasLock()&&(f.hasJumpCat()?SpecialEffectLogic.SpecialCoverAtPos(a,d,e,1,4):f.AddItemStatus(TileItemStatusType.kSpecialStatus))}};ItemBombLogic.getNumSpecialBomb=function(a){for(var c=0,d=a.tileItemMap,e=0;e<d.length;++e)for(var f=0;f<d[e].length;++f)if(ItemBombLogic.canBeBombByFiveFive(a,e,f)){var g=d[e][f];g.hasLock()||g.hasJumpCat();c+=1}return c};
ItemBombLogic.tryCoverByFiveFive=function(a,c,d,e,f){d=a.tileItemMap;for(var g=0;g<d.length;++g)for(var h=0;h<d[g].length;++h){var m=d[g][h];if(m.isItemCanBeCoverByFiveFive())if(m.isItemCanBeEliminatedByFiveFive()){0==e&&(e=1);0>e&&(e=0);if(m.tileItemType==TileItemType.kFruit){if(FruitTypeConfig.isSpecial(m.fruitSpecialType))m.AddItemStatus(TileItemStatusType.kSpecialStatus);else{var n=null,n=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemSwap_FiveFive_ItemEliminate,
ccp(g,h),ccp(c.r,c.c),TileConst_SpecialBomb_FiveFive_Time5);n.addInfo="kFruit";n.addInt2=e;a.addDestroyAction(n);m.AddItemStatus(TileItemStatusType.kDestroy);a.addRecordToOrderList(g,h,TileItemOrderType.kFruit,d[g][h].fruitColorType,1,null,d[g][h].fruitCondiment)}d[g][h].gotoPos=null;d[g][h].comePos=null}else m.AddItemStatus(TileItemStatusType.kSpecialStatus);d[g][h].tileItemType!=TileItemType.kDiscolor&&d[g][h].tileItemType!=TileItemType.kHelmet||ItemProduceLogic.blockShoundCome(a,d[g][h].tileItemType);
SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,g,h,e);f&&HoneyEffectLogic.doEffectToHoneyAtPos(a,g,h)}else m.hasLock()?SpecialEffectLogic.SpecialCoverAtPos(a,g,h,3,e):m.hasJumpCat()?SpecialEffectLogic.SpecialCoverAtPos(a,g,h,3,e):m.tileItemType==TileItemType.kHelmet&&(ScoreCalculateLogic.addScoreAtSiteByItemType(a,g,h,m.tileItemType,!1,e),m.AddItemStatus(TileItemStatusType.kSpecialStatus));else m.isBlockCanBeCoverByFiveFive()?SpecialEffectLogic.SpecialCoverAtPos(a,g,h,3,e):m.isEmpty||SpecialEffectLogic.SpecialCoverIceCleanAtPos(a,
g,h,e)}};
ItemBombLogic.PassLevelTime_RandomBombEffect=function(a,c){for(var d=[FruitTypeConfig.kCross,FruitTypeConfig.kBomb,FruitTypeConfig.kLine,FruitTypeConfig.kCutyPet,FruitTypeConfig.kFive,FruitTypeConfig.kSix],e=[],f=a.tileItemMap,g=a.tileBoardMap,h=0;h<f.length;++h)for(var m=0;m<f[h].length;++m){var n=f[h][m],r=g[h][m];n.isUsed&&n.tileItemType==TileItemType.kFruit&&FruitTypeConfig.isSpecial(n.fruitSpecialType)&&n.isAvailable()?(n.hasJumpCat()&&SpecialEffectLogic.bombEffectBlock(a,h,m,1),r=n.fruitSpecialType,r==
FruitTypeConfig.kColumn&&(r=FruitTypeConfig.kLine),null==e[r]&&(e[r]=[]),e[r].push(n)):r.isUsed&&0<r.boardSpType&&(r=r.boardSpType,r==FruitTypeConfig.kColumn&&(r=FruitTypeConfig.kLine),null==e[r]&&(e[r]=[]),e[r].push(n))}for(f=0;f<d.length;++f)if((g=e[d[f]])&&0<g.length)for(;0<g.length;)return d=g[0],d.tileItemStatus==TileItemStatusType.kNone&&c&&(ItemBombLogic.autoBombCutyPetAtSite(a,d.y,d.x),a.setNeedCheckFalling()),ccp(d.y,d.x)};
ItemBombLogic.canRandomFruitChange=function(a,c,d){var e=a.tileItemMap[c][d],f=a.tileBoardMap[c][d];if(e&&e.tileItemType==TileItemType.kFruit&&0<e.fruitColorType&&0==e.fruitSpecialType&&0>=f.boardSpType&&!e.hasJumpCat()&&!e.hasLock()&&e.isAvailable()){for(e=0;e<a.randomFruitHelpList.length;++e)if(f=a.randomFruitHelpList[e],f.x==c&&f.y==d)return!1;return!0}return!1};
ItemBombLogic.initRandomFruitChangeList=function(a){a.randomFruitHelpList=[];for(var c=0,d=a.tileItemMap,e=a.tileBoardMap,f=0;f<d.length;++f)for(var g=0;g<d[f].length;++g){var h=d[f][g],m=e[f][g];h.tileItemType==TileItemType.kFruit&&0<h.fruitColorType&&0==h.fruitSpecialType&&0>=m.boardSpType&&!h.hasJumpCat()&&!h.hasLock()&&h.isAvailable()&&(a.randomFruitHelpList[c]=ccp(f,g),c+=1)}};
ItemBombLogic.getRandomFruitChangeToLineSpecial=function(a){if(0==a.randomFruitHelpList.length)return null;var c=a.randomNum(0,a.randomFruitHelpList.length),d=a.randomFruitHelpList[c],d=ccp(d.x,d.y);ArrayUtils.remove(a.randomFruitHelpList,c);return d};ItemExchangeLogic=cw.Class({});ItemExchangeLogic.canBeExchange=function(a,c,d,e){return FruitTypeConfig.isSpecial(e.fruitSpecialType)?ItemExchangeLogic.canBeExchangeSpecialtype(a,c,d,e.fruitColorType,e.fruitSpecialType):FruitTypeConfig.isColor(e.fruitColorType)?ItemExchangeLogic.canBeExchangeNormal(a,c,d,e.fruitColorType,e.fruitSpecialType,!0):!1};ItemExchangeLogic.canBeExchangeSpecialtype=function(a,c,d,e,f){return a.tileItemMap[c][d].canBeExchange()?!0:!1};
ItemExchangeLogic.canBeExchangeNormal=function(a,c,d,e,f,g){f=a.tileItemMap[c][d];if(!f.canBeExchange())return!1;if(this.isCanBeStick(a,c,d,e))return!0;if(f.fruitColorType==e)return!1;(e=a.checkMatchQuick(c,d,e))&&g&&(a.cleanNeedCheckMatchList(),a.addNeedCheckMatchPoint(c,d));return e};ItemExchangeLogic.canBeExchangeQuick=function(a,c,d,e){var f=a.tileItemMap[c][d];return f.canBeExchange()?this.isCanBeStick(a,c,d,e)?!0:f.fruitColorType==e?!1:a.checkMatchQuick(c,d,e)?!0:!1:!1};
ItemExchangeLogic.isOpenGiftBox=function(a,c,d,e){a=a.tileBoardMap[c][d];return FruitTypeConfig.isColor(a.giftColor)?a.giftColor==e:!1};ItemExchangeLogic.isCanBeStick=function(a,c,d,e){var f=[{x:-1,y:0},{x:1,y:0},{x:0,y:-1},{x:0,y:1}];a:{for(var g=0;g<f.length;++g){var h=f[g];var m=h.y+c,h=a.tileItemMap[m]?a.tileItemMap[m][h.x+d]:null;if(h&&h.tileItemType==TileItemType.kClayBlock&&h.fruitColorType==e){a=!0;break a}}a=!1}return a};ItemExchangeLogic.printInfo=function(a){};
ItemExchangeLogic.calculatePossibleSwap=function(a){for(var c=[],d=a.tileItemMap,e=0;e<d.length;++e)for(var f=0;f<d[e].length;++f)if(d[e][f].canBeExchange()){var g=ItemMatchLogic.checkMatchStep(a,e,f,a.holdData.fruitColorType,!1),h=g[1];g[0]&&table.insert(c,h)}return c};FallingSourceType=cw.Enum({kNone:0,kUp:1,kLeftUp:2,kRightUp:3,kDouble:4,kPortal:5,kProduct:6,kUpLeft:7,kUpRight:8,kUpLR:9,kPortalLeft:10,kPortalRight:11,kPortalLR:12,kLeft:13,kRight:14,kDown:15});ItemFallingLogic=cw.Class({});
ItemFallingLogic.preUpdateHelpMap=function(a,c){this.buildFallingColumns(a);a.fallingHelpMap=[];for(var d=a.tileItemMap,e=0;e<d.length;++e){a.fallingHelpMap[e]=[];for(var f=0;f<d[e].length;++f)a.fallingHelpMap[e][f]=FallingSourceType.kNone}for(f=0;f<d[0].length;++f)for(e=d.length-1;0<=e;--e)a.fallingHelpMap[e][f]=ItemFallingLogic.getPosFallingSourceType(a,e,f,c);this.preSlideMap(a)};
ItemFallingLogic.preOutputOrigin=function(a,c){this.preUpdateHelpMap(a,!0);for(var d=[],e=0;e<c;++e)d[e]=[];for(var f=a.tileItemMap,e=0;i<c;++e)if(e>=f.length)for(var g=0;g<f[e-1].length;++g)d[e][g]=this.findOutputOrigin(a,e,g,d,FallingSourceType.kUpLR);else for(g=0;g<f[e].length;++g)d[e][g]=this.findOutputOrigin(a,e,g,d);return d};
ItemFallingLogic.findOutputOrigin=function(a,c,d,e,f){if(!f&&!a.isPosValid(c,d))return null;e[c]||(e[c]=[]);if(e[c][d])return e[c][d];f=f||a.fallingHelpMap[c][d];return f==FallingSourceType.kProduct?{r:c,c:d}:f==FallingSourceType.kLeftUp?this.findOutputOrigin(a,c-1,d-1,e):f==FallingSourceType.kRightUp?this.findOutputOrigin(a,c-1,d+1,e):f==FallingSourceType.kUp?this.findOutputOrigin(a,c-1,d,e):f==FallingSourceType.kUpLeft?this.findOutputOrigin(a,c-1,d,e)||this.findOutputOrigin(a,c-1,d-1,e):f==FallingSourceType.kUpRight?
this.findOutputOrigin(a,c-1,d,e)||this.findOutputOrigin(a,c-1,d+1,e):f==FallingSourceType.kUpLR?this.findOutputOrigin(a,c-1,d,e)||this.findOutputOrigin(a,c-1,d-1,e)||this.findOutputOrigin(a,c-1,d+1,e):f==FallingSourceType.kDouble?this.findOutputOrigin(a,c-1,d-1,e)||this.findOutputOrigin(a,c-1,d+1,e):f==FallingSourceType.kPortal?(d=a.tileBoardMap[c][d],c=d.protalEnterPoint.x,d=d.protalEnterPoint.y,a.isPosValid(c,d)?this.findOutputOrigin(a,c,d,e):void 0):f==FallingSourceType.kPortalLR?this.findOutputOrigin(a,
c,d,e,FallingSourceType.kPortal)||this.findOutputOrigin(a,c-1,d-1,e)||this.findOutputOrigin(a,c-1,d+1,e):f==FallingSourceType.kPortalLeft?this.findOutputOrigin(a,c,d,e,FallingSourceType.kPortal)||this.findOutputOrigin(a,c-1,d-1,e):f==FallingSourceType.kPortalRight?this.findOutputOrigin(a,c,d,e,FallingSourceType.kPortal)||this.findOutputOrigin(a,c-1,d+1,e):null};
ItemFallingLogic.buildFallingColumns=function(a){a.fallingColumnList=null;a.fallingColumnList=[];for(var c=a.tileItemMap,d=a.tileBoardMap,e=function(a,c){var e=d[a][c];return e.hasTopWood()||e.hasExitPortal()},f=function(a,c){var e=d[a][c];return e.hasBottomWood()||e.hasEnterPortal()},g=function(c,g){var h=d[c][g],m=a.isPosValid(c-1,g);if(h.isUsed&&!h.isBlock&&h.slideType==SlideType.kNone)if(m){if(h=d[c-1][g],!h.isUsed||h.isBlock||h.slideType!=SlideType.kNone||e(c,g)||f(c-1,g))return!0}else return!0;
return!1},h=function(c,g){for(var h=0,m=c;m<d.length;++m)if(a.isPosValid(m,g)){var n=d[m][g];if(n.isUsed&&!n.isBlock&&n.slideType==SlideType.kNone)if(e(m,g)&&m!=c)break;else{if(h+=1,f(m,g))break}else break}return h},m=0;m<c[0].length;++m)for(var n=0;n<c.length;++n)if(g(n,m)){var r=h(n,m);a.fallingColumnList.push({start:{r:n,c:m},len:r})}a.FallingColumnPosMap=null;a.FallingColumnPosMap={};for(c=0;c<a.fallingColumnList.length;++c)for(g=a.fallingColumnList[c],h=g.start.c,m=g.start.r+g.len-1,n=g.start.r;n<=
m;++n)a.FallingColumnPosMap[n+"_"+h]=g};ItemFallingLogic.getFallingColumnByPos=function(a,c,d){return a.FallingColumnPosMap&&(a=a.FallingColumnPosMap[c+"_"+d])?a:null};ItemFallingLogic.updateHelpMapByDeleteBlock=function(a){this.preUpdateHelpMap(a)};
ItemFallingLogic.getPosFallingSourceType=function(a,c,d,e){var f=a.tileItemMap[c][d],g=a.tileBoardMap[c][d];if(!e&&f.isBlock||!f.isUsed)return FallingSourceType.kNone;if(g.isProducer&&(e||ItemFallingLogic.isProducerValidInRC(a,c,d)))return FallingSourceType.kProduct;if(g.slideType!=SlideType.kNone)return!g.hasExitPortal()||!e&&a.tileBoardMap[g.protalEnterPoint.x][g.protalEnterPoint.y].isBlock?FallingSourceType.kNone:FallingSourceType.kPortal;var f=ItemFallingLogic.canFallingFromLeft(a,c,d,e),h=ItemFallingLogic.canFallingFromRight(a,
c,d,e);return!g.hasExitPortal()||!e&&a.tileBoardMap[g.protalEnterPoint.x][g.protalEnterPoint.y].isBlock?ItemFallingLogic.canFallingFromTop(a,c,d,e)?f&&h?FallingSourceType.kUpLR:f?FallingSourceType.kUpLeft:h?FallingSourceType.kUpRight:FallingSourceType.kUp:f&&h?FallingSourceType.kDouble:f?FallingSourceType.kLeftUp:h?FallingSourceType.kRightUp:FallingSourceType.kNone:f&&h?FallingSourceType.kPortalLR:f?FallingSourceType.kPortalLeft:h?FallingSourceType.kPortalRight:FallingSourceType.kPortal};
ItemFallingLogic.isProducerValidInRC=function(a,c,d){var e=ItemFallingLogic.getFallingColumnByPos(a,c,d);if(!e)return!0;e=e.start.r;if(e<c){var f=a.tileBoardMap[e][d],g;if(g=f.hasExitPortal())g=!a.tileBoardMap[f.protalEnterPoint.x][f.protalEnterPoint.y].isBlock;if(g)return!1;for(;e<=c-1;++e)if(a.tileBoardMap[e][d].isProducer)return!1}return!0};ItemFallingLogic.canFallingByBoard=function(a,c){return a.isUsed&&(!a.isBlock||c)};
ItemFallingLogic.canFallingByItem=function(a,c){return a.isUsed&&(!a.isBlock||c)};ItemFallingLogic.canFallingFromTop=function(a,c,d,e){var f=c-1;if(!a.isPosValid(f,d))return!1;f=a.tileBoardMap[f][d];if(f.slideType!=SlideType.kNone)return!1;a=a.tileBoardMap[c][d];return!this.canFallingByBoard(f,e)||a.hasTopWood()||f.hasBottomWood()?!1:f.hasEnterPortal()||a.hasExitPortal()?!1:!0};
ItemFallingLogic.canFallingFromLeft=function(a,c,d,e){var f=c-1,g=d-1;if(!a.isPosValid(f,g))return!1;var h=a.tileBoardMap[c][d],m=a.tileBoardMap[f][g];if(m.slideType!=SlideType.kNone)return!1;c=a.tileBoardMap[c][d-1];return!this.canFallingByItem(a.tileItemMap[f][g],e)||m.hasBottomWood()||c.hasTopWood()||c.hasRightWood()||h.hasLeftWood()||m.hasEnterPortal()||c.hasExitPortal()?!1:!0};
ItemFallingLogic.canFallingFromRight=function(a,c,d,e){var f=c-1,g=d+1;if(!a.isPosValid(f,g))return!1;var h=a.tileBoardMap[c][d],m=a.tileBoardMap[f][g];if(m.slideType!=SlideType.kNone)return!1;c=a.tileBoardMap[c][d+1];return!this.canFallingByItem(a.tileItemMap[f][g],e)||m.hasBottomWood()||c.hasTopWood()||c.hasLeftWood()||h.hasRightWood()||m.hasEnterPortal()||c.hasExitPortal()?!1:!0};
ItemFallingLogic.preSlideMap=function(a){var c=a.tileItemMap;if(c){for(var d=function(c,d){if(!a.isPosValid(c,d))return[];var e=a.tileBoardMap[c][d],f,g;e.slideType==SlideType.kUp?(f=c-1,g=d):e.slideType==SlideType.kDown?(f=c+1,g=d):e.slideType==SlideType.kLeft?(f=c,g=d-1):e.slideType==SlideType.kRight&&(f=c,g=d+1);if(null!=f&&null!=g&&a.isPosValid(f,g)){var e=e.slideType,h=a.tileBoardMap[f][g].slideType;f=e==SlideType.kUp&&h==SlideType.kDown||e==SlideType.kDown&&h==SlideType.kUp||e==SlideType.kLeft&&
h==SlideType.kRight||e==SlideType.kRight&&h==SlideType.kLeft?[null,null]:[f,g]}else f=[];return f},e=function(a,c,e,f){a=d(a,c);c=a[1];return a[0]==e&&c==f},f=[],g=[],h=0;h<c.length;++h)g[h]=[],f[h]=[];for(var m=function(a,c){if(!g[a][c]){var f=[],h=d(a,c),m=h[0],h=h[1];if(null!=m&&null!=h){a:{do{if(g[m][h])break a;g[m][h]=!0;table.insert(f,{r:m,c:h});h=d(m,h);m=h[0];h=h[1]}while(null!=m&&null!=h)}a:{m=a;h=c;do{if(g[m][h])break a;g[m][h]=!0;f.splice(0,0,{r:m,c:h});h=e(m-1,h,m,h)?[m-1,h]:e(m+1,h,m,
h)?[m+1,h]:e(m,h-1,m,h)?[m,h-1]:e(m,h+1,m,h)?[m,h+1]:[null,null];m=h[0];h=h[1]}while(null!=m&&null!=h)}return f}return null}},n=function(c,d){for(var e=c.length-1;0<=e;--e){var g=c[e];g.type=a.tileBoardMap[g.r][g.c].slideType;if(0==e)g.dir=FallingSourceType.kNone,g.type==SlideType.kDown&&a.fallingHelpMap[g.r][g.c]==FallingSourceType.kNone&&ItemFallingLogic.canFallingFromTop(a,g.r,g.c,!0)&&(a.fallingHelpMap[g.r][g.c]=FallingSourceType.kUp);else{var h=c[e-1];g.r==h.r+1&&g.c==h.c?g.dir=FallingSourceType.kUp:
g.r==h.r-1&&g.c==h.c?g.dir=FallingSourceType.kDown:g.r==h.r&&g.c==h.c+1?g.dir=FallingSourceType.kLeft:g.r==h.r&&g.c==h.c-1&&(g.dir=FallingSourceType.kRight)}f[g.r][g.c]={index:e,line:c,color:d}}},r=[],h=0;h<c.length;++h)for(var s=0;s<c[h].length;++s){var t=m(h,s);t&&(r.push(t),n(t,(r.length-1)%3+1))}a.slideMap=r;a.slideLineMap=f}};
ItemFallingLogic.tileItemFallingCheck=function(a){for(var c=!1,d=a.tileItemMap,e=0;e<d[0].length;++e)for(var f=d.length-1;0<=f;--f){var g=d[f][e];g.isUsed&&g.isEmpty&&null==g.comePos&&ItemFallingLogic.tryGetFallingFromPass(a,f,e)&&(c=!0)}for(e=0;e<d[0].length;++e)for(f=d.length-1;0<=f;--f)g=d[f][e],g.isUsed&&g.isEmpty&&null==g.comePos&&ItemFallingLogic.tryGetFalling16(a,f,e)&&(c=!0);for(var h=0;h<a.slideMap.length;++h)for(var m=a.slideMap[h],n=m.length-1;0<=n;--n)f=m[n].r,e=m[n].c,g=d[f][e],g.isUsed&&
g.isEmpty&&null==g.comePos&&ItemFallingLogic.tryGetFallingBySlide(a,f,e,m[n].dir)&&(c=!0);for(e=0;e<d[0].length;++e)for(f=d.length-1;0<=f;--f)g=d[f][e],g.isUsed&&g.isEmpty&&null==g.comePos&&ItemFallingLogic.tryGetFalling234(a,f,e)&&(c=!0);for(var r=function(a,c){return a.start.r==c.start.r?a.start.c<c.start.c:a.start.r<c.start.r},e=function(){for(var c=[],e=0;e<a.fallingColumnList.length;++e){var f=a.fallingColumnList[e],g=d[f.start.r][f.start.c];g.isUsed&&g.isEmpty&&null==g.comePos&&c.push(f)}c.sort(r);
e={};for(f=0;f<d.length;++f)for(g=0;g<d[f].length;++g){var h=d[f][g];if(h.isUsed&&(h.isEmpty||h.isBlock)&&null==h.comePos)if(h=a.fallingHelpMap[f][g],h==FallingSourceType.kNone)e[f+g]=!0;else if(h==FallingSourceType.kUp)h=f-1,e[h+g]&&(e[f+g]=!0);else if(h==FallingSourceType.kUpLeft){var m=f-1,n=g-1,h=f-1;e[h+g]&&e[m+n]&&(e[f+g]=!0)}else if(h==FallingSourceType.kUpRight){var C=f-1,E=g+1,h=f-1;e[h+g]&&e[C+E]&&(e[f+g]=!0)}else h==FallingSourceType.kUpLR?(m=f-1,n=g-1,C=f-1,E=g+1,h=f-1,e[h+g]&&e[m+n]&&
e[C+E]&&(e[f+g]=!0)):h==FallingSourceType.kPortal?ItemFallingLogic.isPortalExitNeedSlide(a,f,g)&&(e[f+g]=!0):h==FallingSourceType.kPortalLeft?ItemFallingLogic.isPortalExitNeedSlide(a,f,g)&&(e[f+g]=!0):h==FallingSourceType.kPortalRight?ItemFallingLogic.isPortalExitNeedSlide(a,f,g)&&(e[f+g]=!0):h==FallingSourceType.kPortalLR?ItemFallingLogic.isPortalExitNeedSlide(a,f,g)&&(e[f+g]=!0):h==FallingSourceType.kLeftUp?(m=f-1,n=g-1,e[m+n]&&(e[f+g]=!0)):h==FallingSourceType.kRightUp?(C=f-1,E=g+1,e[C+E]&&(e[f+
g]=!0)):h==FallingSourceType.kDouble&&(m=f-1,n=g-1,C=f-1,E=g+1,e[m+n]&&e[C+E]&&(e[f+g]=!0))}f=[];for(g=0;g<c.length;++g)h=c[g],e[h.start.r+h.start.c]&&f.push(h);return f}(),h=0;h<e.length;++h)ItemFallingLogic.tryGetFallingSnowSlide(a,e[h])&&(c=!0);return c};
ItemFallingLogic.isItemHasGameItemCanFalling=function(a,c,d){if(!a.isPosValid(c,d))return!1;a=a.tileItemMap[c][d];return!a||!a.isUsed||a.isEmpty||a.gotoPos||a.tileItemType==TileItemType.kNone||a.isBlock||a.tileItemStatus!=TileItemStatusType.kNone&&a.tileItemStatus!=TileItemStatusType.kTileHalfStable&&a.tileItemStatus!=TileItemStatusType.kFallingStatus?!1:!0};
ItemFallingLogic.tryGetFallingFromPass=function(a,c,d){var e=a.fallingHelpMap[c][d];if(e==FallingSourceType.kPortal||e==FallingSourceType.kPortalLeft||e==FallingSourceType.kPortalRight||e==FallingSourceType.kPortalLR)if(e=a.tileBoardMap[c][d],ItemFallingLogic.isItemHasGameItemCanFalling(a,e.protalEnterPoint.x,e.protalEnterPoint.y))return ItemFallingLogic._tryGetFallingItemFromPass(a,c,d);return!1};
ItemFallingLogic.tryGetFalling16=function(a,c,d){var e=a.fallingHelpMap[c][d];if(e==FallingSourceType.kUp||e==FallingSourceType.kUpLeft||e==FallingSourceType.kUpRight||e==FallingSourceType.kUpLR){if(ItemFallingLogic.isItemHasGameItemCanFalling(a,c-1,d))return ItemFallingLogic._tryGetFallingItemFromUp(a,c,d)}else if(e==FallingSourceType.kProduct){e=(e=ItemFallingLogic.getFallingColumnByPos(a,c,d))?e.start.r:c;if(e<c)for(;e<=c-1;++e){var f=a.tileItemMap[e][d];if(f.isUsed&&!f.isEmpty)return ItemFallingLogic.isItemHasGameItemCanFalling(a,
c-1,d)?ItemFallingLogic._tryGetFallingItemFromUp(a,c,d):!1}return this.isCanFromSlide(a,c,d)?!1:ItemFallingLogic._tryGetFallingItemFromProduct(a,c,d)}return!1};ItemFallingLogic.isCanFromSlide=function(a,c,d){if(a.tileBoardMap[c][d].slideType!=SlideType.kNone){d=a.slideLineMap[c][d];if(!d)return!1;c=d.line;for(d=d.index-1;0<=d;--d){var e=a.tileItemMap[c[d].r][c[d].c];if(!e.isUsed)break;if(e.isBlock)break;if(a.fallingHelpMap[c[d].r][c[d].c]==FallingSourceType.kProduct||!e.isEmpty)return!0}}return!1};
ItemFallingLogic.tryGetFalling234=function(a,c,d){var e=a.fallingHelpMap[c][d];if(e==FallingSourceType.kLeftUp){if(ItemFallingLogic.isItemHasGameItemCanFalling(a,c-1,d-1))return ItemFallingLogic._tryGetFallingItemFromLeftUp(a,c,d)}else if(e==FallingSourceType.kRightUp){if(ItemFallingLogic.isItemHasGameItemCanFalling(a,c-1,d+1))return ItemFallingLogic._tryGetFallingItemFromRightUp(a,c,d)}else if(e==FallingSourceType.kDouble)return ItemFallingLogic._tryGetFallingItemFromLeftRightUp(a,c,d)};
ItemFallingLogic.tryGetFallingBySlide=function(a,c,d,e){if(e==FallingSourceType.kLeft){if(ItemFallingLogic.isItemHasGameItemCanFalling(a,c,d-1))return ItemFallingLogic._tryGetFallingItemFromLeft(a,c,d)}else if(e==FallingSourceType.kRight){if(ItemFallingLogic.isItemHasGameItemCanFalling(a,c,d+1))return ItemFallingLogic._tryGetFallingItemFromRight(a,c,d)}else if(e==FallingSourceType.kUp){if(ItemFallingLogic.isItemHasGameItemCanFalling(a,c-1,d))return ItemFallingLogic._tryGetFallingItemFromUp(a,c,d)}else if(e==
FallingSourceType.kDown&&ItemFallingLogic.isItemHasGameItemCanFalling(a,c+1,d))return ItemFallingLogic._tryGetFallingItemFromDown(a,c,d)};ItemFallingLogic.isFallingColumnEmpty=function(a,c){for(var d=c.start.r,e=c.start.c,f=d+c.len-1;d<=f;++d){var g=a.tileItemMap[d][e];if(!g.isEmpty||null!=g.comePos)return!1}return!0};
ItemFallingLogic.isPortalExitNeedSlide=function(a,c,d){var e=a.fallingHelpMap[c][d];if(e==FallingSourceType.kPortal||e==FallingSourceType.kPortalLeft||e==FallingSourceType.kPortalRight||e==FallingSourceType.kPortalLR)if(c=a.tileBoardMap[c][d],(c=ItemFallingLogic.getFallingColumnByPos(a,c.protalEnterPoint.x,c.protalEnterPoint.y))&&!a.tileBoardMap[c.start.r][c.start.c].isProducer&&ItemFallingLogic.isFallingColumnEmpty(a,c))return!0;return!1};
ItemFallingLogic.tryGetFallingSnowSlide=function(a,c){for(var d=c.start.c,e=c.start.r+c.len-1,f=c.start.r;f<=e;++f){var g=a.fallingHelpMap[f][d],h=a.tileItemMap[f][d];if(h.isEmpty&&null==h.comePos){var m=h=!1,n=!1;g==FallingSourceType.kUpLeft||g==FallingSourceType.kPortalLeft?h=!0:g==FallingSourceType.kUpRight||g==FallingSourceType.kPortalRight?m=!0:g==FallingSourceType.kUpLR||g==FallingSourceType.kPortalLR?m=h=!0:(h=ItemFallingLogic.canFallingFromLeft(a,f,d),m=ItemFallingLogic.canFallingFromRight(a,
f,d));h&&m?n=ItemFallingLogic._tryGetFallingItemFromLeftRightUp(a,f,d):h?ItemFallingLogic.isItemHasGameItemCanFalling(a,f-1,d-1)&&(n=ItemFallingLogic._tryGetFallingItemFromLeftUp(a,f,d)):m&&ItemFallingLogic.isItemHasGameItemCanFalling(a,f-1,d+1)&&(n=ItemFallingLogic._tryGetFallingItemFromRightUp(a,f,d));if(n)return n}else break}return!1};
ItemFallingLogic.getFallingActionType=function(a,c,d){if(d.x==c.x-1&&d.y==c.y)return ActionItemType.kItemFalling_Up;if(d.x==c.x-1&&d.y==c.y-1||d.x==c.x-1&&d.y==c.y+1)return ActionItemType.kItemFalling_LeftRight;if(d.x==c.x&&d.y==c.y-1)return ActionItemType.kItemFalling_Left;if(d.x==c.x&&d.y==c.y+1)return ActionItemType.kItemFalling_Right;if(d.x==c.x+1&&d.y==c.y)return ActionItemType.kItemFalling_Down;assert()};
ItemFallingLogic._tryGetFallingItemFromDir=function(a,c,d){var e=a.tileItemMap[d.x][d.y],f=a.tileItemMap[c.x][c.y];f.gotoPos=c;f.comePos=d;f.copyFruitDataFrom(e);f.dataReach=!1;f.tileItemStatus=TileItemStatusType.kFallingStatus;f.isEmpty=!1;e.cleanFruitData();var g=this.getFallingActionType(a,c,d);c=TileActionDataSet.create(ActionTargetType.kTileItemAction,g,d,c,TileConst_Falling_MaxTime);a.addFallingAction(c);c.addInfo="Pass";return[e,f]};
ItemFallingLogic._tryGetFallingItemFromUp=function(a,c,d){a=this._tryGetFallingItemFromDir(a,ccp(c,d),ccp(c-1,d))[1];a.tileOffset.x=0;a.tileOffset.y=TileConst_Tile_Height+a.tileOffset.y;return!0};ItemFallingLogic._tryGetFallingItemFromLeftUp=function(a,c,d){a=this._tryGetFallingItemFromDir(a,ccp(c,d),ccp(c-1,d-1))[1];a.tileOffset.x=-TileConst_Tile_Width;a.tileOffset.y=TileConst_Tile_Height;a.itemSpeed=0;return!0};
ItemFallingLogic._tryGetFallingItemFromRightUp=function(a,c,d){a=this._tryGetFallingItemFromDir(a,ccp(c,d),ccp(c-1,d+1))[1];a.tileOffset.x=TileConst_Tile_Width;a.tileOffset.y=TileConst_Tile_Height;a.itemSpeed=0;return!0};ItemFallingLogic._tryGetFallingItemFromLeft=function(a,c,d){a=this._tryGetFallingItemFromDir(a,ccp(c,d),ccp(c,d-1))[1];a.tileOffset.x-=TileConst_Tile_Width;a.tileOffset.y=0;return!0};
ItemFallingLogic._tryGetFallingItemFromRight=function(a,c,d){a=this._tryGetFallingItemFromDir(a,ccp(c,d),ccp(c,d+1))[1];a.tileOffset.x+=TileConst_Tile_Width;a.tileOffset.y=0;return!0};ItemFallingLogic._tryGetFallingItemFromDown=function(a,c,d){a=this._tryGetFallingItemFromDir(a,ccp(c,d),ccp(c+1,d))[1];a.tileOffset.x=0;a.tileOffset.y-=TileConst_Tile_Height;return!0};
ItemFallingLogic._tryGetFallingItemFromLeftRightUp=function(a,c,d){var e=0;ItemFallingLogic.isItemHasGameItemCanFalling(a,c-1,d-1)&&(e+=1);ItemFallingLogic.isItemHasGameItemCanFalling(a,c-1,d+1)&&(e+=2);3==e&&(e=a.randomNum(1,2));return 1==e?ItemFallingLogic._tryGetFallingItemFromLeftUp(a,c,d):2==e?ItemFallingLogic._tryGetFallingItemFromRightUp(a,c,d):!1};
ItemFallingLogic._tryGetFallingItemFromPass=function(a,c,d){var e=a.tileBoardMap[c][d],f=e.protalEnterPoint.x,e=e.protalEnterPoint.y,g=a.tileItemMap[f][e],h=a.tileItemMap[c][d];h.gotoPos=ccp(c,d);h.comePos=ccp(f,e);h.copyFruitDataFrom(g);h.dataReach=!1;h.tileItemStatus=TileItemStatusType.kFallingStatus;h.itemSpeed=TileConst_FallingSpeed_Pass_Start;h.tileOffset.x=0;h.tileOffset.y=TileConst_Tile_Height;h.clippingPosAdd.y=TileConst_Tile_Height;h.isEmpty=!1;g.cleanFruitData();g.enterClippingPosAdd.y=
0;c=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemFalling_Pass,ccp(f,e),ccp(c,d),TileConst_Falling_MaxTime);a.addFallingAction(c);c.addInfo="Pass";return!0};
ItemFallingLogic._tryGetFallingItemFromProduct=function(a,c,d){var e=a.tileItemMap[c][d];e.gotoPos=ccp(c,d);e.comePos=ccp(0,0);var f=a.randomANewItemFallingData(c,d);e.copyFruitDataFrom(f);e.dataReach=!1;e.tileItemStatus=TileItemStatusType.kFallingStatus;var f=ActionItemType.kItemFalling_Product,g=a.tileBoardMap[c][d];g.slideType==SlideType.kUp?(e.clippingPosAdd.y=-TileConst_Tile_Height,f=ActionItemType.kItemFalling_Product_Down):(e.clippingPosAdd.y=TileConst_Tile_Height,g.slideType==SlideType.kNone&&
a.isPosValid(c+1,d)&&(g=a.tileItemMap[c+1][d],0!=g.tileOffset.y&&(e.clippingPosAdd.y=g.tileOffset.y)));e.tileOffset.y=e.clippingPosAdd.y;e.isEmpty=!1;e.isProduct=!0;c=TileActionDataSet.create(ActionTargetType.kTileItemAction,f,ccp(c,d),ccp(c+1,d),TileConst_Falling_MaxTime);a.addFallingAction(c);c.addInfo="Pass";return!0};
ItemFallingLogic.isFallingLineBelowFull=function(a,c,d){for(;d<c.length;++d){var e=c[d],f=a.tileItemMap[e.r][e.c];if(!f.isUsed)break;if(f.isEmpty){if(d==c.length-1&&e.type==SlideType.kNone&&a.fallingHelpMap[e.r][e.c]!=FallingSourceType.kNone)break;return!1}if(f.isBlock)break}return!0};ItemFallingLogic.isFallingColumnBelowFull=function(a,c,d){var e=c.start.r+c.len-1;for(c=c.start.c;d<=e;++d)if(a.tileItemMap[d][c].isEmpty)return!1;return!0};
ItemFallingLogic.getNumFallingColumnEmptyTile=function(a,c){for(var d=c.start.r+c.len-1,e=c.start.c,f=0,g=c.start.r;g<=d;++g)a.tileItemMap[g][e].isEmpty&&(f+=1);return f};ItemFallingLogic.getNumFallingColumnBelowItem=function(a,c,d){var e=c.start.r+c.len-1;c=c.start.c;var f=0;if(d==e)return 0;for(d+=1;d<=e;++d)a.tileItemMap[d][c].isEmpty||(f+=1);return f};ItemFallingLogic.getNumFallingColumnBelowTile=function(a,c,d){return c.start.r+c.len-1-d};
ItemFallingLogic.checkStopFallingDown=function(a,c,d){if(a.tileBoardMap[c][d].slideType!=SlideType.kNone){d=a.slideLineMap[c][d];if(!d)return 0;c=d.line;d=d.index;if(!this.isFallingLineBelowFull(a,c,d)){if(0<d&&d<c.length-1&&c[d-1].type!=c[d].type)return c[d].type==SlideType.kUp||c[d].type==SlideType.kLeft?4:3;if(0==d){if(c[d].type==SlideType.kLeft)return 3;if(c[d].type==SlideType.kRight)return 4}return 1}return 0}if(c<a.tileBoardMap.length-1&&(d=ItemFallingLogic.getFallingColumnByPos(a,c,d)))if(ItemFallingLogic.isFallingColumnBelowFull(a,
d,c)){var e=a.tileBoardMap[d.start.r+d.len-1][d.start.c];if(e.hasEnterPortal()&&(e=ItemFallingLogic.getFallingColumnByPos(a,e.protalExitPoint.x,e.protalExitPoint.y))){var e=ItemFallingLogic.getNumFallingColumnEmptyTile(a,e),f=ItemFallingLogic.getNumFallingColumnBelowItem(a,d,c);a=ItemFallingLogic.getNumFallingColumnBelowTile(a,d,c);if(f<e+a)return 2}}else return 1;return 0};ItemMatchLogic=cw.Class({});ItemMatchLogic.cleanSwapHelpMap=function(a){var c=a.tileItemMap;if(a.swapHelpMap)for(var d=0;d<c.length;++d)for(var e=0;e<c[d].length;++e)a.swapHelpMap[d][e]=0;else for(a.swapHelpMap=[],d=0;d<c.length;++d)for(a.swapHelpMap[d]=[],e=0;e<c[d].length;++e)a.swapHelpMap[d][e]=0;a.swapHelpList=[];a.swapHelpMakePos=[]};
ItemMatchLogic.checkMatchStep=function(a,c,d,e,f){var g=[],h=[],m=[],n=[],r=!0,s=0,t=c,u=c,w=a.swapHelpList.length+1,z=!1;if(0==e||!a.tileItemMap[c][d].canBeCoverByMatch())return!1;for(var A=a.swapHelpMap[c][d],B=!0,C=function(c,d){0<a.swapHelpMap[c][d]?0<A&&A!=a.swapHelpMap[c][d]&&(B=!1):B=!1},E=1,H=c-1;0<=H;--H)if(this.isMatchColor(a,H,d,e))E+=1,t=H,h.push({r:H,c:d}),C(H,d);else break;for(H=c+1;H<a.tileItemMap.length;++H)if(this.isMatchColor(a,H,d,e))E+=1,u=H,h.push({r:H,c:d}),C(H,d);else break;
3<=E&&!B?(s=Math.max(s,ItemMatchLogic.checkCombineItem(a,c,d,t,u,1,f,w)),z=!0):(2==E?n=h:5<=E&&(2>c-t||2>u-c)&&(r=!1),h=[]);for(var B=!0,u=t=d,H=1,F=d-1;0<=F;--F)if(this.isMatchColor(a,c,F,e))H+=1,t=F,m.push({r:c,c:F}),C(c,F);else break;for(F=d+1;F<a.tileItemMap[c].length;++F)if(this.isMatchColor(a,c,F,e))H+=1,u=F,m.push({r:c,c:F}),C(c,F);else break;3<=H&&!B?(s=Math.max(s,ItemMatchLogic.checkCombineItem(a,c,d,t,u,2,f,w)),z=!0):(2==H?n=m:5<=H&&(2>d-t||2>u-d)&&(r=!1),m=[]);0<h.length&&(g=table.union(g,
h));0<m.length&&(g=table.union(g,m));w=0<A?A:w;r&&(e=this.checkMatchSix(a,H,E,n,f,w),h=e[1],e[0]&&(g=table.union(g,h),s=Math.max(s,FruitTypeConfig.kSix)));f||(5<=E&&5<=H?s=Math.max(s,FruitTypeConfig.kSix):3<=E&&3<=H&&(s=Math.max(s,FruitTypeConfig.kBomb)));g.maxType=s;g.point={r:c,c:d};return[z,g]};ItemMatchLogic.checkMatchSix=function(a,c,d,e,f,g){if(5<=c&&5<=d){if(f){for(c=0;c<e.length;++c)d=e[c],a.swapHelpMap[d.r][d.c]=g;a.swapHelpList[g]=FruitTypeConfig.kSix}return[!0,e]}return[!1,[]]};
ItemMatchLogic.checkMatchCross=function(a,c,d,e,f,g){for(var h=!1,m=[],n=c-1;n<=c;++n)for(var r=d-1;r<=d;++r)if(m=this.isMatchCross(a,n,r,e,f,g),h=m[0],m=m[1],h){for(n in m)if(a=m[n],a.r==c&&a.c==d){ArrayUtils.remove(m,n);break}return[h,m]}return[h,m]};
ItemMatchLogic.isMatchCross=function(a,c,d,e,f,g){for(var h=[],m=c;m<=c+1;++m)for(var n=d;n<=d+1;++n){if(!a.isPosValid(m,n)||!this.isMatchColor(a,m,n,e))return[!1,[]];h.push({r:m,c:n})}if(f){for(m in h)c=h[m],0!=a.swapHelpMap[c.r][c.c]&&(g=a.swapHelpMap[c.r][c.c]);for(m in h)c=h[m],a.swapHelpMap[c.r][c.c]=g;0<g&&!FruitTypeConfig.isSpecial(a.swapHelpList[g])&&(a.swapHelpList[g]=FruitTypeConfig.kCross)}return[!0,h]};
ItemMatchLogic.isMatchColor=function(a,c,d,e){return(a=a.tileItemMap[c][d])&&a.fruitColorType==e&&a.canBeCoverByMatch()?!0:!1};
ItemMatchLogic.checkCombineItem=function(a,c,d,e,f,g,h,m){var n={},r=!1,s=0,t=a.swapHelpMap;if(2<=f-e)if(1==g)for(var u=e;u<=f;++u)0!=t[u][d]&&(r=n[t[u][d]]=!0,t[u][d]<s||0==s)&&(s=t[u][d]);else{if(2==g)for(var w=e;w<=f;++w)0!=t[c][w]&&(r=n[t[c][w]]=!0,t[c][w]<s||0==s)&&(s=t[c][w])}else return 0;getFruitCountById=function(a){for(var c=0,d=0;d<t.length;++d)for(var e=0;e<t[d].length;++e)t[d][e]==a&&(c+=1);return c};var z=0;if(r){4<=f-e?z=FruitTypeConfig.kFive:0<s&&a.swapHelpList[s]==FruitTypeConfig.kCross?
4<getFruitCountById(s)&&(z=FruitTypeConfig.kBomb):z=FruitTypeConfig.kBomb;for(u in n)a.swapHelpList[u]>z&&(z=a.swapHelpList[u]);if(0<s&&h)for(u=0;u<t.length;++u)for(w=0;w<t[u].length;++w)n[t[u][w]]&&(t[u][w]=s);m=s}else 5<=f-e?z=FruitTypeConfig.kFive:4==f-e?z=FruitTypeConfig.kFive:3==f-e?1==g?z=FruitTypeConfig.kLine:2==g&&(z=FruitTypeConfig.kColumn):2==f-e&&(z=1);0<z&&h&&(a.swapHelpList[m]=z,ItemMatchLogic.swapHelpMakeSign(a,c,d,e,f,g,m));return z};
ItemMatchLogic.calculateSpecialMergePos=function(a,c){var d=a.swapHelpMap;if(!a.swapHelpMakePos[c]){if(a.swapInfo){var e=a.swapInfo[1].r,f=a.swapInfo[1].c,g=a.swapInfo[2].r,h=a.swapInfo[2].c;if(d[e][f]==c){var m=a.tileItemMap[e][f];!FruitTypeConfig.isSpecial(m.fruitSpecialType)&&m.canBeMixToSpecialByMatch()&&(a.swapHelpMakePos[c]={r:e,c:f})}else d[g][h]==c&&(m=a.tileItemMap[g][h],!FruitTypeConfig.isSpecial(m.fruitSpecialType)&&m.canBeMixToSpecialByMatch()&&(a.swapHelpMakePos[c]={r:g,c:h}));if(a.swapHelpMakePos[c])return a.swapHelpMakePos[c]}e=
[];for(f=0;f<d.length;++f)for(g=0;g<d[f].length;++g)if(d[f][g]==c&&(m=a.tileItemMap[f][g],!FruitTypeConfig.isSpecial(m.fruitSpecialType)&&m.canBeMixToSpecialByMatch()&&e.push({r:f,c:g}),m.isExchangePoint))return m.isExchangePoint=!1,exchangePoint={r:f,c:g},a.swapHelpMakePos[c]=exchangePoint;e.length?(d=a.randomNum(0,e.length),a.swapHelpMakePos[c]=e[d]):a.swapHelpMakePos[c]={r:-1,c:-1}}return a.swapHelpMakePos[c]};
ItemMatchLogic.swapHelpMakeSign=function(a,c,d,e,f,g,h){a=a.swapHelpMap;if(1==g)for(c=e;c<=f;++c)a[c][d]=h;else if(2==g)for(d=e;d<=f;++d)a[c][d]=h};
ItemMatchLogic.matchSuccessAndCompose=function(a){for(var c={},d=a.swapHelpMap,e=a.tileItemMap,f=a.tileBoardMap,g=0;g<d.length;++g)for(var h=0;h<d[g].length;++h)if(0<d[g][h]){var m=d[g][h],n=!0,r=a.swapHelpList[m];if(r&&1<r){var s=ItemMatchLogic.calculateSpecialMergePos(a,m);if(s&&s.r==g&&s.c==h){e[g][h].tileItemType==TileItemType.kDiscolor&&ItemProduceLogic.blockShoundCome(a,TileItemType.kDiscolor);TileExtandLogic.itemDestroyHandler(a,g,h);var n=r,s=f[g][h].boardSpType,t=f[g][h].isDoubleBoardSp;
r==FruitTypeConfig.kLine?(this.playMergeEffect(a,g,h),a.tileUIDelegate.playBombEffect(),ItemBombLogic.BombItemToChange(a,g,h,FruitTypeConfig.kLine,0,3,!1,!1,!1)):r==FruitTypeConfig.kColumn?(this.playMergeEffect(a,g,h),a.tileUIDelegate.playBombEffect(),ItemBombLogic.BombItemToChange(a,g,h,FruitTypeConfig.kColumn,0,3,!1,!1,!1)):r==FruitTypeConfig.kBomb?(a.tileUIDelegate.playBombEffect(),ItemBombLogic.BombItemToChange(a,g,h,FruitTypeConfig.kBomb,0,3,!1,!1,!1)):r==FruitTypeConfig.kFive?(this.playMergeEffect(a,
g,h),ItemBombLogic.BombItemToChange(a,g,h,FruitTypeConfig.kFive,0,3,!1,!1,!1)):r==FruitTypeConfig.kSix&&(n=0,SpecialSwapLogic.swapFiveFiveBomb(a,g,h,g,h));FruitTypeConfig.isSpecial(n)&&(n=FruitTypeConfig.kCutyPet,s==FruitTypeConfig.kCutyPet&&(e[g][h].isItemLock=!1,ItemBombLogic.BombItemToChange(a,g,h,FruitTypeConfig.kCutyPet,0,3,!1,!1,!1)));d[g][h]=-d[g][h];e[g][h].oldItemType=e[g][h].tileItemType;f[g][h].boardSpType=n;f[g][h].isBoardLock=FruitTypeConfig.isNotFiveAndSix(r)&&!t;f[g][h].isNeedUpdate=
!0;n=!1;a.tileView.baseMap[g][h].updateByNewItemData(e[g][h]);e[g][h].isNeedUpdate=!0}}n&&(r=e[g][h],r.canBeEliminateByMatch()&&(r.AddItemStatus(TileItemStatusType.kMatchStatus),r.gotoPos=null,r.comePos=null,r.isExchangePoint=!1,r.tileItemType==TileItemType.kDiscolor&&ItemProduceLogic.blockShoundCome(a,TileItemType.kDiscolor)));c[m]=c[m]||HoneyEffectLogic.isHasHoney(a,g,h)}a.swapInfo=null;MatchEffectLogic.signEffectByMatchHelpMap(a,c);MatchEffectLogic.doEffectByMatchHelpMap(a);a.putOperation=!1;ItemBombLogic.BombByMatch(a)};
ItemMatchLogic.checkPossibleMatch=function(a){ItemMatchLogic.cleanSwapHelpMap(a);for(var c=!1,d=0;d<a.needCheckMatchList.length;++d){var e=a.needCheckMatchList[d],f=e.r,e=e.c,g=a.tileItemMap[f][e];g.isUsed&&ItemMatchLogic.checkMatchStep(a,f,e,g.fruitColorType,!0)[0]&&(c=!0)}c&&ItemMatchLogic.matchSuccessAndCompose(a);a.cleanNeedCheckMatchList();ItemMatchLogic.cleanSwapHelpMap(a);return c};
ItemMatchLogic.getWormEatTarget=function(a,c,d){for(var e,f=9999999,g=-1,h=0;h<a.wormEatList.length;++h){var m=a.wormEatList[h],n=cc.pDistance(ccp(c,d),ccp(m.r,m.c));f>n&&(f=n,g=h,e={r:m.r,c:m.c})}0<=g&&table.remove(a.wormEatList,g);return e};
ItemMatchLogic.playMergeEffect=function(a,c,d){for(var e=a.swapHelpMap,f=e[c][d],g=d,h=d,m=c,n=c,r=1;5>=r&&e[c][d-r]==f;++r)g=d-r;for(r=1;5>=r&&e[c][d+r]==f;++r)h=d+r;for(r=1;5>=r&&e[c-r]&&e[c-r][d]==f;++r)m=c-r;for(r=1;5>=r&&e[c+r]&&e[c+r][d]==f;++r)n=c+r;a=a.tileView;g=CommonEffect.buildFruitMergeEffect(a.specialEffectBatch,c,d,g,h,m,n);g.setPositionXY((d+0.5)*TileConst_Tile_Width,(TileConst_Tile_Item_Max-c-0.5)*TileConst_Tile_Height);a.specialEffectBatch.addChild(g)};ItemPriorityLogic=cw.Class({});ItemPriorityLogic.parseItemDict=function(a,c,d){var e={};a=xml.find(a,c);for(var f in a){c=a[f];var g=new d;g.fromData(c);e[g.id]=g}return e};ItemPriorityLogic.updatePriorityMap=function(a){var c=a.tileItemMap;a.priorityMap=null;a.priorityMap=[];for(var d=0;d<c.length;++d)for(var e=0;e<c[d].length;++e){var f=this.getItemPriority(a,d,e);0<f&&a.priorityMap.push({r:d,c:e,p:f})}table.sort(a.priorityMap,function(a,c){return a.p>c.p})};
ItemPriorityLogic.randomSortPriorityMap=function(a,c){var d=0,e=a.priorityMap.length,f=0;c=c||e;for(var g=0;g<e;++g){var h=a.priorityMap[g];0==f&&(f=h.p);if(f!=h.p){if(MathUtils.shuffle(a.priorityMap,g-d,d),d=g,f=h.p,c>=g)break}else g==e-1&&MathUtils.shuffle(a.priorityMap,g-d+1,d)}};
ItemPriorityLogic.getItemPriority=function(a,c,d){var e=MetaHelper.priorityDict,f=this.changeItemTypeToTileType(a,c,d),g=this.changeBoardToTileType(a,c,d);a=this.changeFrontToTileType(a,c,d);return f&&g&&a&&e?(f=e[f],g=e[g],e=e[a],(f?f.priority:0)+(g?g.priority:0)+(e?e.priority:0)):0};
ItemPriorityLogic.getItemPointsByPriority=function(a,c){this.updatePriorityMap(a);this.randomSortPriorityMap(a,c);for(var d=[],e=0;e<a.priorityMap.length;++e){var f=a.priorityMap[e];if(e>c)break;d.push({r:f.r,c:f.c,p:f.p})}return d};
ItemPriorityLogic.getItemPointsByPriorityArea=function(a,c,d,e,f,g,h){function m(a){if(r>=c)return!0;h&&table.exist(h,a.p)||(table.insert(n,{r:a.r,c:a.c,p:a.p}),r+=1);return!1}this.updatePriorityMap(a);this.randomSortPriorityMap(a);for(var n=[],r=0,s=0;s<a.priorityMap.length;++s){var t=a.priorityMap[s];if(a.isPetSuit){if(t.r>=d-1&&t.r<=f+1&&t.c>=e-1&&t.c<=g+1&&m(t))break}else if(t.r>=d&&t.r<=f&&t.c>=e&&t.c<=g){if(m(t))break}else if((t.r==d-1||t.r==f+1)&&t.c>e&&t.c<g){if(m(t))break}else if(t.r>d&&
t.r<f&&(t.c==e-1||t.c==g+1)&&m(t))break}return n};
ItemPriorityLogic.changeItemTypeToTileType=function(a,c,d){a=a.tileItemMap[c][d];c=a.tileItemType;if(c!=TileItemType.kNone){if(c==TileItemType.kFruit)return TileConfig.kFruit;if(c==TileItemType.kStone){if(1==a.stoneLevel)return TileConfig.kStone1;if(2==a.stoneLevel)return TileConfig.kStone2;if(3==a.stoneLevel)return TileConfig.kStone3;if(4==a.stoneLevel)return TileConfig.kStone4;if(5==a.stoneLevel)return TileConfig.kStone5}else{if(c==TileItemType.kHelmet)return TileConfig.kHelmet;if(c==TileItemType.kDiscolor)return TileConfig.kDiscolor;
if(c==TileItemType.kTwoBear){if(a.showType==TileItemShowType.kBriar)return TileConfig.kBriar;if(a.showType==TileItemShowType.kBramble)return TileConfig.kBramble}else if(c==TileItemType.kSandstorm){if(0<a.sandstormLevel)return TileConfig.kSandstorm}else if(c==TileItemType.kFlame){if(0<a.flameLevel)return TileConfig.kFlame}else{if(c==TileItemType.kBaldStrong)return TileConfig.kBaldStrong1;if(c==TileItemType.kWatermelon)return TileConfig.kWatermelon;if(c==TileItemType.kWorm)return TileConfig.kWorm}}}return TileConfig.kEmpty};
ItemPriorityLogic.changeBoardToTileType=function(a,c,d){var e=a.tileBoardMap[c][d];return a.tileItemMap[c][d].tileItemType==TileItemType.kNone?TileConfig.kEmpty:1==e.iceLevel?TileConfig.kIce1:2==e.iceLevel?TileConfig.kIce2:3==e.iceLevel?TileConfig.kIce3:4==e.iceLevel?TileConfig.kIce4:5==e.iceLevel?TileConfig.kIce5:1==e.honeyLevel?TileConfig.kHoney1:2==e.honeyLevel?TileConfig.kHoney2:3==e.honeyLevel?TileConfig.kHoney3:0<e.sandLevel?TileConfig.kSand:TileConfig.kEmpty};
ItemPriorityLogic.changeFrontToTileType=function(a,c,d){a=a.tileItemMap[c][d];return 0<a.cardboardLevel?TileConfig.kWood:0<a.jumpCatLevel?TileConfig.kJumpCat:TileConfig.kEmpty};var ProduceRuleOrder=[{outputType:TileItemFallType.kOutputCat,itemId:TileConfig.kJumpCat},{outputType:TileItemFallType.kOutputHelmet,itemId:TileConfig.kHelmet},{outputType:TileItemFallType.kOutputDiscolorFruit,itemId:TileConfig.kDiscolor},{outputType:TileItemFallType.kOutputWatermelon,itemId:TileConfig.kWatermelon},{outputType:TileItemFallType.kOutputTwoBear,itemId:TileConfig.kBriar},{outputType:TileItemFallType.kOutputStone,itemId:TileConfig.kStone1},{outputType:TileItemFallType.kOutputIce,itemId:TileConfig.kIce1},
{outputType:TileItemFallType.kOutputWorm,itemId:TileConfig.kWorm}],ProduceColorOrder=[{outputType:TileItemFallType.kOutputColor1,itemId:TileConfig.kOutputColor1},{outputType:TileItemFallType.kOutputColor2,itemId:TileConfig.kOutputColor2},{outputType:TileItemFallType.kOutputColor3,itemId:TileConfig.kOutputColor3},{outputType:TileItemFallType.kOutputColor4,itemId:TileConfig.kOutputColor4},{outputType:TileItemFallType.kOutputColor5,itemId:TileConfig.kOutputColor5}];ItemProduceLogic=cw.Class({});
ItemProduceLogic.init=function(a,c){a.blockProduceRules=[];a.cachePool=[];for(var d in c.produceRules){var e=c.produceRules[d],f;e.itemId==TileConfig.kDiscolor?f=TileItemType.kDiscolor:e.itemId==TileConfig.kHelmet?f=TileItemType.kHelmet:e.itemId==TileConfig.kWorm?f=TileItemType.kWorm:e.itemId==TileConfig.kJumpCat?f=TileItemType.kFruit:e.itemId==TileConfig.kOutputColor1?f=TileItemType.kFruit:e.itemId==TileConfig.kOutputColor2?f=TileItemType.kFruit:e.itemId==TileConfig.kOutputColor3?f=TileItemType.kFruit:
e.itemId==TileConfig.kOutputColor4?f=TileItemType.kFruit:e.itemId==TileConfig.kOutputColor5?f=TileItemType.kFruit:e.itemId==TileConfig.kWatermelon?f=TileItemType.kWatermelon:e.itemId==TileConfig.kBriar?f=TileItemType.kTwoBear:e.itemId==TileConfig.kStone1?f=TileItemType.kStone:e.itemId==TileConfig.kIce1&&(f=TileItemType.kFruit);a.cachePool[e.itemId]=[];f&&ItemProduceLogic.initBlock(a,e,f,c)}};
ItemProduceLogic.initBlock=function(a,c,d,e){var f={};f.produceRuleType=c.ruleType;f.itemId=c.itemId;f.blockMoveCount=0;f.blockMoveTarget=0;f.blockShouldCome=!1;f.itemType=d;if(1==c.ruleType)f.blockMoveTarget=c.dropSteps,f.blockSpawnDensity=c.dropNum||1,f.blockSpawned=0,f.maxNum=c.maxNum||0,f.dropNumLimit=c.totalNum||0,f.totalDroppedNum=0,f.minNum=c.minNum||0,f.itemLevel=c.itemLevel||0;else if(2==c.ruleType)f.blockSpawnDensity=c.dropSteps,f.dropNumLimit=c.totalNum||0,f.totalDroppedNum=0;else if(3==
c.ruleType){f.colors=c.colors||{};for(var g in e.outputBuff)if(c=e.outputBuff[g],c.itemId==f.itemId){a.magicBuffLogic.addBuff(f.itemId,c,e.orderMap,f.colors);break}}a.blockProduceRules.push(f)};
ItemProduceLogic.produce=function(a,c,d,e){if(!a.tileBoardMap[c][d].isProducer)return null;c=a.tileBoardMap[c][d].theTileItemFallType;ItemProduceLogic.updateCachePool(a);for(d=0;d<ProduceRuleOrder.length;++d){var f=ProduceRuleOrder[d];if((e||f.outputType!=TileItemFallType.kOutputStone&&f.outputType!=TileItemFallType.kOutputIce)&&table.exist(c,f.outputType)&&(f=ItemProduceLogic.produceBlock(a,f.itemId)))return f}if(table.exist(c,TileItemFallType.kOutputBlock)&&(f=ItemProduceLogic.produceBlock(a))||
table.exist(c,TileItemFallType.kOutputAll)&&(f=ItemProduceLogic.produceBlock(a)))return f;for(d=0;d<ProduceColorOrder.length;++d)if(f=ProduceColorOrder[d],table.exist(c,f.outputType)&&(f=ItemProduceLogic.produceColorFruit(a,f.outputType)))return f;return ItemProduceLogic.produceFruit(a)};ItemProduceLogic.produceFruit=function(a){var c=TileItemData.create();c.fruitColorType=a.randomColor();c.tileItemType=TileItemType.kFruit;return c};
ItemProduceLogic.produceColorFruit=function(a,c){var d=TileItemData.create();d.tileItemType=TileItemType.kFruit;d.fruitColorType=this.randomOutputColor(a,c);return d};
ItemProduceLogic.randomOutputColor=function(a,c){if(c&&0<c)for(var d=this.getItemIdByOutputType(c),e=0;e<a.blockProduceRules.length;++e){var f=a.blockProduceRules[e];if(f.itemId==d&&f.colors&&0<f.colors.length){if(a.magicBuffLogic&&a.magicBuffLogic.isMagicBuffEnable(d))return a.magicBuffLogic.randomColor(d);d=a.randomNum(0,f.colors.length);if(FruitTypeConfig.isColor(f.colors[d]))return f.colors[d];break}}return a.randomColor()};
ItemProduceLogic.getItemIdByOutputType=function(a){for(var c in ProduceColorOrder){var d=ProduceColorOrder[c];if(d.outputType==a)return d.itemId}return 0};
ItemProduceLogic.buildBlockData=function(a,c){var d=TileItemData.create();a.itemId==TileConfig.kDiscolor?(d.tileItemType=TileItemType.kDiscolor,d.fruitColorType=c.randomColor()):a.itemId==TileConfig.kHelmet?d.tileItemType=TileItemType.kHelmet:a.itemId==TileConfig.kWorm?(d.tileItemType=TileItemType.kWorm,d.wormLevel=2,d.wormHalfState=!0):a.itemId==TileConfig.kWatermelon?(d.tileItemType=TileItemType.kWatermelon,d.watermelonLevel=1):a.itemId==TileConfig.kJumpCat?(d.tileItemType=TileItemType.kFruit,d.fruitColorType=
c.randomColor(),d.jumpCatLevel=1):a.itemId==TileConfig.kBriar?d.tileItemType=TileItemType.kTwoBear:a.itemId==TileConfig.kStone1?d.initStone(a.itemLevel):a.itemId==TileConfig.kIce1&&(d.tileItemType=TileItemType.kFruit,d.fruitColorType=c.randomColor(),d.iceLevel=a.itemLevel);return d};ItemProduceLogic.getItemCountByItemType=function(a,c){var d=0,d=a.itemId==TileConfig.kJumpCat?c.getJumpCatCount():c.getItemCountByItemType(a.itemType);return c.cachePool[a.itemId].length+d};
ItemProduceLogic.isBlockCanProduce=function(a,c){if(1==c.produceRuleType)if(c.blockSpawned<c.blockSpawnDensity&&c.blockMoveCount>=c.blockMoveTarget){if(!(0<c.dropNumLimit&&c.totalDroppedNum>=c.dropNumLimit||0<c.maxNum&&ItemProduceLogic.getItemCountByItemType(c,a)>=c.maxNum))return[!0]}else{if(0<c.minNum&&ItemProduceLogic.getItemCountByItemType(c,a)<c.minNum&&a.cachePool[c.itemId].length<c.minNum)return[!0,!0]}else if(2==c.produceRuleType&&(c.blockMoveCount>c.blockSpawnDensity||c.blockShouldCome)&&
!(0<c.dropNumLimit&&c.totalDroppedNum>=c.dropNumLimit))return[!0];return[!1]};ItemProduceLogic.produceBlock=function(a,c){if(c){if(a.cachePool[c]&&0<a.cachePool[c].length)return table.remove(a.cachePool[c])}else for(var d=0;d<ProduceRuleOrder.length;++d){var e=a.cachePool[ProduceRuleOrder[d].itemId];if(e&&0<e.length)return table.remove(e)}};
ItemProduceLogic.updateCachePool=function(a){for(var c=0;c<a.blockProduceRules.length;++c){var d=a.blockProduceRules[c];if(a.cachePool[d.itemId]&&0==a.cachePool[d.itemId].length){for(var e=!1;;){var f=ItemProduceLogic.isBlockCanProduce(a,d),g=f[1];if(!f[0])break;e=!0;d.blockSpawned+=1;d.totalDroppedNum+=1;f=ItemProduceLogic.buildBlockData(d,a);a.cachePool[d.itemId].push(f);g&&(d.blockSpawned=0,d.blockMoveCount=0)}e&&(d.blockShouldCome=!1,d.blockMoveCount>=d.blockMoveTarget&&(d.blockSpawned=0),2==
d.produceRuleType||d.blockMoveCount>=d.blockMoveTarget)&&(d.blockMoveCount=0)}}};ItemProduceLogic.addMoveStep=function(a){for(var c=0;c<a.blockProduceRules.length;++c){var d=a.blockProduceRules[c];d.blockMoveCount+=1}};
ItemProduceLogic.resetMoveStep=function(a,c){for(var d=0;d<a.blockProduceRules.length;++d){var e=a.blockProduceRules[d];if(c==TileItemType.kDiscolor&&e.itemId==TileConfig.kDiscolor||c==TileItemType.kHelmet&&e.itemId==TileConfig.kHelmet||c==TileItemType.kBriar&&e.itemId==TileConfig.kBriar||c==TileItemType.kWatermelon&&e.itemId==TileConfig.kWatermelon||c==TileItemType.kWorm&&e.itemId==TileConfig.kWorm)e.blockMoveCount=0}};
ItemProduceLogic.blockShoundCome=function(a,c){for(var d=0;d<a.blockProduceRules.length;++d){var e=a.blockProduceRules[d];if(c==TileItemType.kDiscolor&&e.itemId==TileConfig.kDiscolor||c==TileItemType.kHelmet&&e.itemId==TileConfig.kHelmet||c==TileItemType.kBriar&&e.itemId==TileConfig.kBriar||c==TileItemType.kWatermelon&&e.itemId==TileConfig.kWatermelon||c==TileItemType.kWorm&&e.itemId==TileConfig.kWorm)e.blockShouldCome=!0}};ItemRefreshLogic=cw.Class({});ItemRefreshLogic.tryRefresh=function(a){return!0};ItemRefreshLogic.checkNeedRefresh=function(a,c){if(a.isEditMode||!a.holdData||a.holdData.fruitSpecialType&&0<a.holdData.fruitSpecialType)return!1;for(var d=c||a.tileItemMap.length,e=0;e<d;++e)for(var f=0;f<a.tileItemMap[e].length;++f)if(ItemExchangeLogic.canBeExchangeNormal(a,e,f,a.holdData.fruitColorType,0))return!1;return!0};
ItemRefreshLogic.runRefreshAction=function(a,c,d){for(var e=0,f=a.tileItemMap,g=0;g<f.length;++g)for(var h=0;h<f[g].length;++h)e+=1;for(g=0;g<f.length;++g)for(h=0;h<f[g].length;++h){var m=f[g][h],n=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItem_Refresh_ItemFly,ccp(g,h),ccp(m.y,m.x),TileConst_Refresh_Item_Flying_Time);n.addInfo="Pass";c?a.addPropAction(n):(n.callback=d,a.addGameAction(n));m.y=g;m.x=h}GameMusicManager.playEffect(GameMusicType.kRefresh);return e};
ItemRefreshLogic.runRefreshAction2=function(a,c){a.runExchangeRefreshAction(c);GameMusicManager.playEffect(GameMusicType.kRefresh);return 1};ItemSwapLogic=cw.Class({});ItemSwapLogic.canBeSwaped=function(a,c,d,e,f){return ItemSwapLogic._canBeSwaped(a.tileBoardMap,a.tileItemMap,c,d,e,f)};
ItemSwapLogic._canBeSwaped=function(a,c,d,e,f,g){if(d==f&&e==g+1||d==f&&e==g-1||d==f+1&&e==g||d==f-1&&e==g){var h=a[d][e];a=a[f][g];var m=c[f][g];if(c[d][e].canBeSwap()&&m.canBeSwap())return d==f&&e==g+1&&(h.hasLeftWood()||a.hasRightWood())||d==f&&e==g-1&&(h.hasRightWood()||a.hasLeftWood())||d==f+1&&e==g&&(h.hasTopWood()||a.hasBottomWood())||d==f-1&&e==g&&(h.hasBottomWood()||a.hasTopWood())?2:1}return 0};
ItemSwapLogic.swapItemToMatch=function(a,c,d,e,f,g){var h=ItemSwapLogic._trySwapedSpecialItem(a,c,d,e,f,g),m=h[1];if(h[0])return h=[{dir:{r:e-c,c:f-d},maxType:m}],h[0][0]={r:c,c:d},h[0][1]={r:e,c:f},[!0,h];h=ItemSwapLogic._trySwapedMatchItem(a,c,d,e,f,g);m=h[0];h=h[1];return m?(g&&(a.gameMode.afterSwap(c,d),a.gameMode.afterSwap(e,f)),[!0,h]):[!1]};
ItemSwapLogic._trySwapedSpecialItem=function(a,c,d,e,f,g){var h=a.tileItemMap[c][d],m=a.tileItemMap[e][f],n=h.fruitSpecialType,r=m.fruitSpecialType,s=h.fruitColorType,t=m.fruitColorType,u=function(){var a=h.copy(),c=m.copy();h.copyFruitDataFrom(c);m.copyFruitDataFrom(a)};return FruitTypeConfig.isSpecial(n)&&FruitTypeConfig.isSpecial(r)?(g&&(n==FruitTypeConfig.kSix&&r==FruitTypeConfig.kSix?SpecialSwapLogic.swapFiveFiveBomb(a,c,d,e,f):n==FruitTypeConfig.kSix&&r==FruitTypeConfig.kBomb?SpecialSwapLogic.swapFiveBombBomb(a,
c,d,e,f):r==FruitTypeConfig.kSix&&n==FruitTypeConfig.kBomb?SpecialSwapLogic.swapFiveBombBomb(a,e,f,c,d):n==FruitTypeConfig.kSix&&FruitTypeConfig.isBeeline(r)?SpecialSwapLogic.swapFiveLineBomb(a,c,d,e,f):r==FruitTypeConfig.kSix&&FruitTypeConfig.isBeeline(n)?SpecialSwapLogic.swapFiveLineBomb(a,e,f,c,d):n==FruitTypeConfig.kSix&&r==FruitTypeConfig.kCross?SpecialSwapLogic.swapFiveCrossBomb(a,c,d,e,f):r==FruitTypeConfig.kSix&&n==FruitTypeConfig.kCross?SpecialSwapLogic.swapFiveCrossBomb(a,e,f,c,d):n==FruitTypeConfig.kSix&&
r==FruitTypeConfig.kFive?SpecialSwapLogic.swapFiveFiveBomb(a,c,d,e,f):n==FruitTypeConfig.kFive&&r==FruitTypeConfig.kSix?SpecialSwapLogic.swapFiveFiveBomb(a,c,d,e,f):n==FruitTypeConfig.kFive&&r==FruitTypeConfig.kFive?SpecialSwapLogic.swapFiveFiveBomb(a,c,d,e,f):n==FruitTypeConfig.kFive&&r==FruitTypeConfig.kBomb?SpecialSwapLogic.swapFiveBombBomb(a,c,d,e,f):r==FruitTypeConfig.kFive&&n==FruitTypeConfig.kBomb?SpecialSwapLogic.swapFiveBombBomb(a,e,f,c,d):n==FruitTypeConfig.kFive&&FruitTypeConfig.isBeeline(r)?
SpecialSwapLogic.swapFiveLineBomb(a,c,d,e,f):r==FruitTypeConfig.kFive&&FruitTypeConfig.isBeeline(n)?SpecialSwapLogic.swapFiveLineBomb(a,e,f,c,d):n==FruitTypeConfig.kFive&&r==FruitTypeConfig.kCross?SpecialSwapLogic.swapFiveCrossBomb(a,c,d,e,f):r==FruitTypeConfig.kFive&&n==FruitTypeConfig.kCross?SpecialSwapLogic.swapFiveCrossBomb(a,e,f,c,d):n==FruitTypeConfig.kBomb&&r==FruitTypeConfig.kBomb?SpecialSwapLogic.swapBombBombBomb(a,c,d,e,f):n==FruitTypeConfig.kBomb&&FruitTypeConfig.isBeeline(r)?SpecialSwapLogic.swapBombLineBomb(a,
c,d,e,f):r==FruitTypeConfig.kBomb&&FruitTypeConfig.isBeeline(n)?SpecialSwapLogic.swapBombLineBomb(a,e,f,c,d,!0):FruitTypeConfig.isBeeline(n)&&FruitTypeConfig.isBeeline(r)?SpecialSwapLogic.swapLineLineBomb(a,c,d,e,f):n==FruitTypeConfig.kCross&&r==FruitTypeConfig.kCross?SpecialSwapLogic.swapCrossCrossBomb(a,c,d,e,f):n==FruitTypeConfig.kCross&&FruitTypeConfig.isBeeline(r)?SpecialSwapLogic.swapCrossLineBomb(a,c,d,e,f):r==FruitTypeConfig.kCross&&FruitTypeConfig.isBeeline(n)?SpecialSwapLogic.swapCrossLineBomb(a,
e,f,c,d):n==FruitTypeConfig.kCross&&r==FruitTypeConfig.kBomb?SpecialSwapLogic.swapBombCrossBomb(a,c,d,e,f):r==FruitTypeConfig.kCross&&n==FruitTypeConfig.kBomb&&SpecialSwapLogic.swapBombCrossBomb(a,e,f,c,d),u()),[!0,n+r]):n==FruitTypeConfig.kFive&&FruitTypeConfig.isColor(t)?(g&&(SpecialSwapLogic.swapFiveColorBomb(a,c,d,e,f),u()),[!0,n+r]):r==FruitTypeConfig.kFive&&FruitTypeConfig.isColor(s)?(g&&(SpecialSwapLogic.swapFiveColorBomb(a,e,f,c,d),u()),[!0,n+r]):n==FruitTypeConfig.kSix&&FruitTypeConfig.isColor(t)?
(g&&(SpecialSwapLogic.swapFiveColorBomb(a,c,d,e,f),u()),[!0,n+r]):r==FruitTypeConfig.kSix&&FruitTypeConfig.isColor(s)?(g&&(SpecialSwapLogic.swapFiveColorBomb(a,e,f,c,d),u()),[!0,n+r]):[!1]};
ItemSwapLogic._trySwapedMatchItem=function(a,c,d,e,f,g){var h=a.tileItemMap[c][d],m=a.tileItemMap[e][f],n=h.fruitColorType,r=m.fruitColorType;if(n==r)return[!1];var s=h.copy(),t=m.copy();m.copyFruitDataFrom(s);h.copyFruitDataFrom(t);ItemMatchLogic.cleanSwapHelpMap(a);var u=ItemMatchLogic.checkMatchStep(a,c,d,r,g),w=ItemMatchLogic.checkMatchStep(a,e,f,n,g),n=u[0],r=u[1],u=u[1],w=w[1],z=[];if(n){var A=r.maxType,r=table.union([{r:e,c:f}],r);r.dir={r:c-e,c:d-f};r.maxType=A;table.insert(z,r)}u&&(A=w.maxType,
w=table.union([{r:c,c:d}],w),w.dir={r:e-c,c:f-d},w.maxType=A,table.insert(z,w));backToOriginalData=function(){h.copyFruitDataFrom(s);m.copyFruitDataFrom(t);h.isNeedUpdate=!1;m.isNeedUpdate=!1};if(n||u)return g?(a.addNeedCheckMatchPoint(c,d),a.addNeedCheckMatchPoint(e,f)):backToOriginalData(),ItemMatchLogic.cleanSwapHelpMap(a),[!0,z];backToOriginalData();return[!1]};
ItemSwapLogic.calculatePossibleSwap=function(a){for(var c={},d=a.tileItemMap,e=0;e<d.length;++e)for(var f=0;f<d[e].length;++f){var g=e,h=f,m=e,n=f+1,r=e+1,s=f;n<d[e].length&&1==ItemSwapLogic.canBeSwaped(a,g,h,m,n)&&(m=ItemSwapLogic.swapItemToMatch(a,g,h,m,n,!1),n=m[1],m[0]&&(c=table.union(c,n)));r<d.length&&1==ItemSwapLogic.canBeSwaped(a,g,h,r,s)&&(m=ItemSwapLogic.swapItemToMatch(a,g,h,r,s,!1),g=m[0],n=m[1],g&&(c=table.union(c,n)))}return c};MagicBuffLogic=cw.Class({ctor:function(){this.produceBuff=this.tileLogic=null;this.canBeTriggered=this.isBuffEnable=!1;this.orderColorList=[];this.mapColorList=[]},init:function(a,c,d,e){this.tileLogic=a;(this.produceBuff=c)&&(this.produceBuff.toRate=parseInt(this.produceBuff.toRate));this.totalWeight=0;this.mapColorList=e;this.canBeTriggered=this.checkIfCanBeTriggered(a.level);this.initOrderColorList(d)},initOrderColorList:function(a){if(a){var c=[],d;for(d in a){var e=a[d],f=0,g=0,h;for(h in e)f=
e[h],"k"==h&&(g=f.split("_"),f=parseInt(g[0]),g=parseInt(g[1]),f==TileItemOrderType.kFruit?table.insert(c,g):f==TileItemOrderType.kGiftTarget?table.insert(c,g):f==TileItemOrderType.kSpecialTarget&&g==TileItemOrderType_ST.kWorm&&table.insert(c,FruitTypeConfig.kGreen))}this.orderColorList=c}},setMagicBuffEnable:function(a){this.canBeTriggered&&(printf("setMagicBuffEnable:",a),this.isBuffEnable=a)},isMagicBuffEnable:function(){return this.isBuffEnable},checkIfCanBeTriggered:function(a){if(this.produceBuff&&
0<table.size(this.produceBuff)){var c=UserManager.getTopLevel();if(c==a&&(a=UserManager.getLeveleScore(c),(!a||1>a.star)&&UserManager.getTopLevelFailCount()>this.produceBuff.failTriggerNum))return!0}return!1},isCanTriggered:function(){return this.canBeTriggered},initGame:function(a){a||0;this.canBeTriggered&&a==this.produceBuff.startMove&&(this.recalcColorDropWeights(),this.setMagicBuffEnable(!0))},onUseMoves:function(a){this.canBeTriggered&&(this.isBuffEnable||a!=this.produceBuff.startMove||(this.recalcColorDropWeights(),
this.setMagicBuffEnable(!0)),this.isBuffEnable&&a==this.produceBuff.endMove+1&&this.setMagicBuffEnable(!1))},onFruitOrderCompleted:function(a){if(this.isBuffEnable&&a&&0!=a.length){var c=!1,d;for(d in a)if(this.isColorInMapColorList(a[d])){c=!0;break}c&&this.recalcColorDropWeights()}},randomWithWeights:function(a,c){c=c||1;var d=[];if(table.size(a)<=c)for(var e in a)table.insert(d,e);else{var f=0;for(e in a)var g=a[e],f=f+g;for(var h={};table.size(d)<c;){var m=this.tileLogic.randomNum(1,f);for(e in a)if(g=
a[e],!h[e]&&(m-=g,0>=m)){h[e]=!0;table.insert(d,e);f-=g;break}}}return d},randomFromList:function(a,c){if(1>a.length)return[];var d={},e;for(e in a)d[e]=1;return this.randomWithWeights(d,c)},randomColor:function(){var a=null;if(this.isBuffEnable&&0<this.totalWeight)for(var c=this.tileLogic.randomNum(1,this.totalWeight),d=0;d<this.dropBuffWeights.length;++d)if(c-=this.dropBuffWeights[d],0>=c){a=this.mapColorList[d];break}a||(a=this.tileLogic.randomNum(0,this.mapColorList.length),a=this.mapColorList[a]);
return a},isColorInMapColorList:function(a){if("number"!=typeof a)return!1;for(var c=0;c<this.mapColorList.length;++c)if(this.mapColorList[c]==a)return!0;return!1},getOrderData:function(a){if(a&&this.tileLogic.theOrderList)for(var c=0;c<this.tileLogic.theOrderList.length;++c){var d=this.tileLogic.theOrderList[c];if(d.key1==TileItemOrderType.kFruit&&d.key2==a||d.key1==TileItemOrderType.kGiftTarget&&d.key2==a||a==FruitTypeConfig.kGreen&&d.key1==TileItemOrderType.kSpecialTarget&&d.key2==TileItemOrderType_ST.kWorm)return d}return null},
randomTargetColors:function(){for(var a=this.changeRateColors||{},c=[],d=0;d<this.orderColorList.length;++d){var e=this.orderColorList[d];if(this.isColorInMapColorList(e)){var f=this.getOrderData(e);(!f||f.f1<f.v1)&&table.insert(c,e)}}f=[];if(0<c.length){for(var g=[],d=0;d<c.length;++d)e=c[d],a[e]?table.insert(f,e):table.insert(g,e);d=this.produceBuff.colorNum-table.size(f);if(0<d&&0<g.length)for(a=this.randomFromList(g,d),d=0;d<a.length;++d)e=g[a[d]],table.insert(f,e)}return f},recalcColorDropWeights:function(){if(!(!this.produceBuff||
1>table.size(this.produceBuff)||this.produceBuff.colorNum>=this.mapColorList.length)){this.dropBuffWeights=[];var a={};if(this.produceBuff.toRate>=100/this.mapColorList.length)for(var c=this.randomTargetColors(),d=0;d<c.length;++d)a[c[d]]=!0;var e=this.produceBuff.colorNum-table.size(a);if(0<e){for(var f={},d=0;d<this.mapColorList.length;++d)c=this.mapColorList[d],a[c]||(f[c]=1);e=this.randomWithWeights(f,e);for(d=0;d<e.length;++d)c=e[d],a[c]=!0}e=Math.floor(10*this.produceBuff.toRate);f=(100-this.produceBuff.toRate*
this.produceBuff.colorNum)/(this.mapColorList.length-this.produceBuff.colorNum)*10;f=Math.floor(f);0>f&&(e=Math.floor(1E3/this.produceBuff.colorNum),f=0);for(var g=0,d=0;d<this.mapColorList.length;++d)c=this.mapColorList[d],a[c]?(table.insert(this.dropBuffWeights,e),g+=e):(table.insert(this.dropBuffWeights,f),g+=f);this.totalWeight=g;this.changeRateColors=a}}});MagicBuffLogic.create=function(a,c){var d=new MagicBuffLogic;d.init(a,c.produceBuff,c.orderMap,a.mapColorList);return d};
MagicBuffLogic.createByData=function(a,c,d,e){var f=new MagicBuffLogic;f.init(a,c,d,e);return f};MagicBuffMgr=cw.Class({ctor:function(){this.buffList=[]},init:function(a,c){this.tileLogic=a;this.mainBuff=MagicBuffLogic.create(a,c);table.insert(this.buffList,this.mainBuff)},addBuff:function(a,c,d,e){c=MagicBuffLogic.createByData(this.tileLogic,c,d,e);c.itemId=a;table.insert(this.buffList,c)},setMagicBuffEnable:function(a){for(var c in this.buffList)this.buffList[c].setMagicBuffEnable(a)},initGame:function(a){for(var c in this.buffList)this.buffList[c].initGame(a)},onUseMoves:function(a){for(var c in this.buffList)this.buffList[c].onUseMoves(a)},
onFruitOrderCompleted:function(a){for(var c in this.buffList)this.buffList[c].onFruitOrderCompleted(a)},randomColor:function(a){if(null!=a){if(a=this.getBuffByType(a))return a.randomColor()}else return this.mainBuff.randomColor()},isMagicBuffEnable:function(a){if(null!=a){if(a=this.getBuffByType(a))return a.isMagicBuffEnable()}else return this.mainBuff.isMagicBuffEnable()},isCanTriggered:function(){return this.mainBuff.isCanTriggered()},getBuffByType:function(a){for(var c in this.buffList){var d=
this.buffList[c];if(d.itemId==a)return d}return null}});MagicBuffMgr.create=function(a,c){var d=new MagicBuffMgr;d.init(a,c);return d};MatchEffectLogic=cw.Class({});MatchEffectLogic.resetEffectHalpMap=function(a){var c=a.tileBoardMap;a.effectHelpMap=null;a.effectHelpMap=[];for(var d=0;d<c.length;++d){a.effectHelpMap[d]=[];for(var e=0;e<c[d].length;++e)a.effectHelpMap[d][e]=0}};
MatchEffectLogic.signEffectByMatchHelpMap=function(a,c){MatchEffectLogic.resetEffectHalpMap(a);a.comboHelpDataSet={};a.comboHelpList=[];for(var d={},e={},f={},g={},h=0,m={},n=a.swapHelpMap,r=a.tileItemMap,s=0;s<n.length;++s)for(var t=0;t<n[s].length;++t){var u=n[s][t],w=0>u;0>u&&(u=-u);if(0<u){w||(r[s][t].hasGivenScore=!0);a.effectHelpMap[s][t]=-1;MatchEffectLogic.trySignAtByAround(a,s,t);if(null==a.comboHelpDataSet[u]||0==a.comboHelpDataSet[u])h+=1,a.comboHelpList[h-1]=u,a.comboHelpDataSet[u]=h,
m[u]=ccp(s,t);null==d[u]&&(d[u]=0);null==e[u]&&(e[u]=0);null==f[u]&&(f[u]=0);null==g[u]&&(g[u]=0);r[s][t].canBeComboNum()&&(d[u]+=1);r[s][t].canBeComboNumDiscolor()&&(r[s][t].oldItemType=null,e[u]+=1);MatchEffectLogic.doEffectToIceClean(a,s,t)?f[u]+=1:MatchEffectLogic.doEffectToSandClean(a,s,t)&&(g[u]+=1);c&&c[u]&&HoneyEffectLogic.doEffectToHoneyAtPos(a,s,t)}}for(h=0;h<a.comboHelpList.length;++h)if(u=a.comboHelpList[h],w=d[u]||0,n=e[u]||0,s=f[u],r=g[u],u=m[u])t=ScoreCalculateLogic.getComboWithCount(a,
h+1),10<t&&(t=10),t*=1.05-0.05*t,w=t*w*ScoreMetaManager.getScore(ScoreType.kBase_Fruit),s=t*s*ScoreMetaManager.getScore(ScoreType.kBase_Ice),r=t*r*ScoreMetaManager.getScore(ScoreType.kBase_Honey),n=t*n*ScoreMetaManager.getScore(ScoreType.kBase_Discolor),ScoreCalculateLogic.addScoreAtSite(a,u.x,u.y,w+s+r+n),a.recordGameData(TileRecordType.kScore,ScoreType.kBase_Fruit,w),a.recordGameData(TileRecordType.kScore,ScoreType.kBase_Ice,s),a.recordGameData(TileRecordType.kScore,ScoreType.kBase_Honey,r),a.recordGameData(TileRecordType.kScore,
ScoreType.kBase_Discolor,n);FindBearLogic.checkAllBearIsFound(a)};MatchEffectLogic.trySignAtByAround=function(a,c,d){var e=function(c,d){a.isPosValid(c,d)&&0==a.swapHelpMap[c][d]&&a.tileItemMap[c][d].canEffectAroundByMatch()&&(a.effectHelpMap[c][d]+=1)};e(c-1,d);e(c+1,d);e(c,d-1);e(c,d+1)};
MatchEffectLogic.doEffectToIceClean=function(a,c,d){if(!a.isPosValid(c,d))return!1;var e=a.tileBoardMap[c][d];return a.tileItemMap[c][d].canEffectIceClean()&&0<e.iceLevel?(BlockCleanLogic.cleanIce(a,c,d,!0),!0):!1};MatchEffectLogic.doEffectToSandClean=function(a,c,d){if(!a.isPosValid(c,d))return!1;var e=a.tileBoardMap[c][d];return a.tileItemMap[c][d].canEffectIceClean()&&0<e.sandLevel&&0>=e.iceLevel?(BlockCleanLogic.cleanSand(a,c,d,!0),!0):!1};
MatchEffectLogic.doEffectByMatchHelpMap=function(a){for(var c=a.effectHelpMap,d=0;d<c.length;++d)for(var e=0;e<c[d].length;++e){var f=a.swapHelpMap[d][e];0>f&&(f=-f);f=a.comboHelpDataSet[f];-1==c[d][e]?MatchEffectLogic.doEffectAtByMatchAt(a,d,e,f):0<c[d][e]&&MatchEffectLogic.doEffectAtByMatchAround(a,d,e,f)}0<a.comboHelpList.length&&ScoreCalculateLogic.addCombo(a,a.comboHelpList.length)};
MatchEffectLogic.doEffectAtByMatchAt=function(a,c,d,e){if(!a.isPosValid(c,d))return!1;e=a.tileItemMap[c][d];0<e.cardboardLevel&&(e.cardboardLevel-=1,a.checkItemBlock(c,d),ScoreCalculateLogic.addScoreAtSiteByType(a,c,d,ScoreType.kBase_Cage,!1),c=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemEliminate_Lock,ccp(c,d),null,1),a.addDestroyAction(c))};
MatchEffectLogic.doEffectAtByMatchAround=function(a,c,d,e){if(!a.isPosValid(c,d))return!1;e=a.tileItemMap[c][d];var f=a.effectHelpMap[c][d],g=e.tileItemStatus==TileItemStatusType.kNone||e.tileItemStatus==TileItemStatusType.kTileHalfStable;!e.isAvailable()||0<e.cardboardLevel&&e.isBlock||(0<e.stoneLevel&&0<f?BlockCleanLogic.cleanStone(a,c,d,null,null,f):0<e.sandstormLevel?BlockCleanLogic.cleanSandstorm(a,c,d):0<e.flameLevel?BlockCleanLogic.cleanFlame(a,c,d):0<e.jumpCatLevel&&g?BlockCleanLogic.cleanJumpCat(a,
c,d):e.tileItemType==TileItemType.kHelmet&&g?BlockCleanLogic.cleanHelmet(a,c,d):e.tileItemType==TileItemType.kWatermelon&&g?BlockCleanLogic.cleanWatermelon(a,c,d,null,null,f):e.tileItemType==TileItemType.kBaldStrong?TileExtandLogic.BaldStrongLoseBlood(a,c,d,!0):e.tileItemType==TileItemType.kWorm&&g&&BlockCleanLogic.cleanWorm(a,c,d,null,null,f),FindBearLogic.checkAllBearIsFound(a,c,d))};ScoreCalculateLogic=cw.Class({});ScoreCalculateLogic.addCombo=function(a,c){a.comboCount+=c;var d=a.comboCount;8<d&&(d=8);d=cc.formatStr(GameMusicType.kEliminate,d);GameMusicManager.playEffect(d);a.tileUIDelegate&&a.tileUIDelegate.addCombo(a.comboCount)};
ScoreCalculateLogic.endCombo=function(a){if(a.curGameStatus==TileGameStatus.kNormal||a.curGameStatus==TileGameStatus.kFailed){for(var c=null,d=null,e=comboConfig.length-1;0<=e;--e)if(a.comboCount>=comboConfig[e]){d=e+1;c=GameMusicType.kPassLevelTime;break}d&&3<=a.comboCount&&GameComboTipController.show({combo:a.comboCount,imageIdx:d,tileView:a.tileView});c&&(a.comboSound=GameMusicManager.playEffect(c));a.recordData.addMaxCombo(a.comboCount);a.comboCount=0}};
ScoreCalculateLogic.getComboWithCount=function(a,c){return a.comboCount+c};ScoreCalculateLogic.addTotalScore=function(a,c){for(var d=0;d<a.starScores.length;++d)a.totalScore<a.starScores[d]&&a.totalScore+c>a.starScores[d]&&GameMusicManager.playEffect(GameMusicType.kNewStarLevel);a.totalScore+=c};ScoreCalculateLogic.getScoreByStarLevel=function(a,c){return 0<=c&&c<a.starScores.length?0==c?a.starScores[c]:a.starScores[c]-a.starScores[c-1]:0};
ScoreCalculateLogic.getScoreTypeByBombType=function(a){var c=ScoreType.kNone;FruitTypeConfig.isSpecial(a)&&(a==FruitTypeConfig.kCross?c=ScoreType.kBomb_Cross:a==FruitTypeConfig.kLine?c=ScoreType.kBomb_Line:a==FruitTypeConfig.kColumn?c=ScoreType.kBomb_Column:a==FruitTypeConfig.kBomb?c=ScoreType.kBomb_Bomb:a==FruitTypeConfig.kFive?c=ScoreType.kBomb_Five:a==FruitTypeConfig.kSix?c=ScoreType.kBomb_Six:a==FruitTypeConfig.kCutyPet?c=ScoreType.kBomb_CutyPet:a==FruitTypeConfig.KBigCross?c=ScoreType.kBomb_BigCross:
a==FruitTypeConfig.KBigBomb&&(c=ScoreType.KBomb_BigBomb));return c};ScoreCalculateLogic.getScoreWithBombType=function(a){return FruitTypeConfig.isSpecial(a)?(a=this.getScoreTypeByBombType(a),ScoreMetaManager.getScore(a)):0};ScoreCalculateLogic.getScoreWithItemBomb=function(a){return a.tileItemType==TileItemType.kFruit?this.getScoreWithBombType(a.fruitSpecialType):0};
ScoreCalculateLogic.getScoreScaleWithBombType=function(a){if(FruitTypeConfig.isSpecial(a)){var c=ScoreType.kNone;a==FruitTypeConfig.kCross?c=ScoreType.kEffect_Cross:a==FruitTypeConfig.kLine?c=ScoreType.kEffect_Line:a==FruitTypeConfig.kColumn?c=ScoreType.kEffect_Column:a==FruitTypeConfig.kBomb?c=ScoreType.kEffect_Bomb:a==FruitTypeConfig.kFive?c=ScoreType.kEffect_Five:a==FruitTypeConfig.kSix?c=ScoreType.kEffect_Six:a==FruitTypeConfig.kCutyPet?c=ScoreType.kEffct_CutyPet:a==FruitTypeConfig.kBigCross?
c=ScoreType.kEffect_BigCross:a==FruitTypeConfig.kBigBomb&&(c=ScoreType.kEffect_BigBomb);return ScoreMetaManager.getScore(c)}return null};ScoreCalculateLogic.getScoreTypeByItemType=function(a){var c=ScoreType.kNone;a==TileItemType.kFruit?c=ScoreType.kBase_Fruit:a==TileItemType.kDiscolor?c=ScoreType.kBase_Discolor:a==TileItemType.kHelmet?c=ScoreType.kBase_Helmet:printf("no item type:",a);return c};ScoreCalculateLogic.getItemDestroyBaseScore=function(a){a=this.getScoreTypeByItemType(a);return ScoreMetaManager.getScore(a)};
ScoreCalculateLogic.addScoreAtSite=function(a,c,d,e,f,g,h){this.addTotalScore(a,e);var m=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemScore_Get,ccp(c,d),null,1);m.addInt=e;m.addInt2=g;a.addGameAction(m);f&&(a.tileItemMap[c][d].hasGivenScore=f);h&&a.recordGameData(TileRecordType.kScore,h,e);return m};
ScoreCalculateLogic.addScoreAtSiteByType=function(a,c,d,e,f,g,h){null==g&&(g=1);assert(0!=g,"scoreScale \x3d\x3d 0");g*=ScoreMetaManager.getScore(e);return this.addScoreAtSite(a,c,d,g,f,h,e)};ScoreCalculateLogic.addScoreAtSiteByItemType=function(a,c,d,e,f,g){e=this.getScoreTypeByItemType(e);return this.addScoreAtSiteByType(a,c,d,e,f,g)};ScoreCalculateLogic.addScoreAtSiteByBombType=function(a,c,d,e,f,g){e=this.getScoreTypeByBombType(e);return this.addScoreAtSiteByType(a,c,d,e,f,g)};SpecialEffectLogic=cw.Class({});SpecialEffectLogic.SpecialCoverAtPos=function(a,c,d,e,f,g,h){this.canEffectAround(a,c,d)&&(1==e?(this.tryEffectAroundItem(a,c-1,d,h),this.tryEffectAroundItem(a,c+1,d,h)):2==e?(this.tryEffectAroundItem(a,c,d-1,h),this.tryEffectAroundItem(a,c,d+1,h)):3==e&&(this.tryEffectAroundItem(a,c-1,d,h),this.tryEffectAroundItem(a,c+1,d,h),this.tryEffectAroundItem(a,c,d-1,h),this.tryEffectAroundItem(a,c,d+1,h)));this.canBeEffectBySpecial(a,c,d)&&this.bombEffectBlock(a,c,d,f,g,h)};
SpecialEffectLogic.SpecialCoverIceCleanAtPos=function(a,c,d,e,f){this.canBeEffectIceClean(a,c,d,f)?0<a.tileBoardMap[c][d].iceLevel&&(BlockCleanLogic.cleanIce(a,c,d,null,e),FindBearLogic.checkAllBearIsFound(a,c,d)):SpecialEffectLogic.SpecialCoverSandCleanAtPos(a,c,d,e)};
SpecialEffectLogic.SpecialCoverSandCleanAtPos=function(a,c,d,e,f){if(a.isPosValid(c,d)){var g=a.tileItemMap[c][d],h=a.tileBoardMap[c][d];if(g.canEffectIceClean()&&0<h.sandLevel&&0==h.iceLevel){if(g.tileItemType==TileItemType.kHelmet&&!f||g.tileItemType==TileItemType.kWatermelon)return!1;BlockCleanLogic.cleanSand(a,c,d,null,e)}}};
SpecialEffectLogic.canBeEffectIceClean=function(a,c,d,e){return a.isPosValid(c,d)?0<a.tileBoardMap[c][d].iceLevel&&(a=a.tileItemMap[c][d])&&a.canEffectIceClean()&&(a.tileItemType!=TileItemType.kHelmet||e)&&a.tileItemType!=TileItemType.kWatermelon?!0:!1:!1};
SpecialEffectLogic.canBeEffectBySpecial=function(a,c,d){if(!a.isPosValid(c,d))return!1;a=a.tileItemMap[c][d];return a.hasLock()||0<a.stoneLevel||0<a.sandstormLevel||0<a.flameLevel||a.tileItemType==TileItemType.kWatermelon||a.hasJumpCat()||a.tileItemType==TileItemType.kBaldStrong||a.tileItemType==TileItemType.kWorm||0<a.wormLevel?!0:!1};
SpecialEffectLogic.canEffectAround=function(a,c,d){a=a.tileItemMap;return a[c]&&a[c][d]&&a[c][d].isColorful()&&!a[c][d].hasLock()&&!a[c][d].hasJumpCat()&&a[c][d].isAvailable()?!0:!1};SpecialEffectLogic.tryEffectAroundItem=function(a,c,d,e){a.isPosValid(c,d)&&this.canBeEffectByAroundClean(a,c,d)&&this.bombEffectBlock(a,c,d,1,null,e)};
SpecialEffectLogic.canBeEffectByAroundClean=function(a,c,d){if(!a.isPosValid(c,d))return!1;a=a.tileItemMap[c][d];return a.isAvailable()?a.tileItemType==TileItemType.kSandstorm||a.tileItemType==TileItemType.kFlame?!0:!1:!1};
SpecialEffectLogic.bombEffectBlock=function(a,c,d,e,f,g){if(!a.isPosValid(c,d))return!1;e=e||1;var h=a.tileItemMap[c][d],m=0<h.cardboardLevel;m&&BlockCleanLogic.cleanCardboard(a,c,d,g,e);m&&h.isBlock||(0<h.stoneLevel?BlockCleanLogic.cleanStone(a,c,d,g,e):0<h.sandstormLevel?BlockCleanLogic.cleanSandstorm(a,c,d,g,e):0<h.flameLevel?BlockCleanLogic.cleanFlame(a,c,d,g,e):h.tileItemType==TileItemType.kWatermelon?BlockCleanLogic.cleanWatermelon(a,c,d,g,e):h.tileItemType==TileItemType.kBaldStrong?TileExtandLogic.BaldStrongLoseBlood(a,
c,d,!1,f):h.tileItemType==TileItemType.kWorm&&BlockCleanLogic.cleanWorm(a,c,d,g,e));BlockCleanLogic.cleanJumpCat(a,c,d,g,e);FindBearLogic.checkAllBearIsFound(a,c,d)};SpecialSwapLogic=cw.Class({});SpecialSwapLogic.swapFiveFiveBomb=function(a,c,d,e,f){var g=a.tileItemMap[c][d].fruitSpecialType;c=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemSwap_FiveFive,ccp(e,f),ccp(c,d),TileConst_SpecialBomb_FiveFive_Time1);c.addInfo="Pass";c.addInt2=ScoreCalculateLogic.getScoreScaleWithBombType(g);c.isHoney=!0;a.addDestructionPlanAction(c);a.recordGameData(TileRecordType.kEffect,TileRecordEffectType.kSix)};
SpecialSwapLogic.swapFiveBombBomb=function(a,c,d,e,f){var g=a.tileItemMap[c][d],h=g.fruitColorType,m=a.tileItemMap[e][f].fruitColorType,n=g.fruitSpecialType,r=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemSwap_FiveBoom,ccp(e,f),ccp(c,d),TileConst_SpecialBomb_FiveLine_Time1);r.addInfo="Pass";r.addInt=m;r.addInt2=ScoreCalculateLogic.getScoreScaleWithBombType(n);r.isHoney=HoneyEffectLogic.isHasHoneyWhenSwap(a,c,d,e,f);a.addDestructionPlanAction(r);this.changeColorBomb(a,
h,r,n);ScoreCalculateLogic.addScoreAtSiteByBombType(a,e,f,g.fruitSpecialType);r.color2||GameMusicManager.playEffect(GameMusicType.kSwapFiveBomb)};
SpecialSwapLogic.swapFiveLineBomb=function(a,c,d,e,f){var g=a.tileItemMap[c][d],h=g.fruitColorType,m=a.tileItemMap[e][f].fruitColorType,n=g.fruitSpecialType,r=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemSwap_FiveLine,ccp(e,f),ccp(c,d),TileConst_SpecialBomb_FiveLine_Time1);r.addInfo="Pass";r.addInt=m;r.addInt2=ScoreCalculateLogic.getScoreScaleWithBombType(n);r.isHoney=HoneyEffectLogic.isHasHoneyWhenSwap(a,c,d,e,f);a.addDestructionPlanAction(r);this.changeColorBomb(a,
h,r,n);ScoreCalculateLogic.addScoreAtSiteByBombType(a,e,f,g.fruitSpecialType);r.color2||GameMusicManager.playEffect(GameMusicType.kSwapFiveLine)};
SpecialSwapLogic.swapFiveCrossBomb=function(a,c,d,e,f){var g=a.tileItemMap[c][d],h=g.fruitColorType,m=a.tileItemMap[e][f].fruitColorType,n=g.fruitSpecialType,r=HoneyEffectLogic.isHasHoneyWhenSwap(a,c,d,e,f);c=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemSwap_FiveCross,ccp(e,f),ccp(c,d),TileConst_SpecialBomb_FiveLine_Time1);c.addInfo="Pass";c.addInt=m;c.addInt2=ScoreCalculateLogic.getScoreScaleWithBombType(n);c.isHoney=r;a.addDestructionPlanAction(c);this.changeColorBomb(a,
h,c,n);ScoreCalculateLogic.addScoreAtSiteByBombType(a,e,f,g.fruitSpecialType);c.color2||GameMusicManager.playEffect(GameMusicType.kSwapFiveLine)};
SpecialSwapLogic.swapFiveColorBomb=function(a,c,d,e,f){var g=a.tileItemMap[c][d],h=g.fruitColorType,m=a.tileItemMap[e][f].fruitColorType,n=g.fruitSpecialType;g.AddItemStatus(TileItemStatusType.kDestroy);var r=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemEliminate_Five,ccp(e,f),ccp(c,d),TileConst_SpecialBomb_FiveFruit_Time1);r.addInfo="Pass";r.addInt=m;r.addInt2=ScoreCalculateLogic.getScoreScaleWithBombType(n);r.isHoney=HoneyEffectLogic.isHasHoneyWhenSwap(a,c,d,e,f);
a.addDestructionPlanAction(r);this.changeColorBomb(a,h,r,n);ScoreCalculateLogic.addScoreAtSiteByBombType(a,e,f,g.fruitSpecialType);r.color2||GameMusicManager.playEffect(GameMusicType.kEliminateFive)};
SpecialSwapLogic.swapBombBombBomb=function(a,c,d,e,f){var g=a.tileItemMap[c][d],h=a.tileItemMap[e][f],m=HoneyEffectLogic.isHasHoneyWhenSwap(a,c,d,e,f);g.isItemLock=!0;h.isItemLock=!0;ScoreCalculateLogic.addScoreAtSiteByBombType(a,c,d,h.fruitSpecialType);ScoreCalculateLogic.addScoreAtSiteByBombType(a,e,f,g.fruitSpecialType);c=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemSwap_BoomBoom,ccp(c,d),ccp(e,f),TileConst_SpecialBomb_WrapWrap);c.isHoney=m;a.addDestructionPlanAction(c)};
SpecialSwapLogic.swapBombLineBomb=function(a,c,d,e,f,g){var h=a.tileItemMap[c][d],m=a.tileItemMap[e][f],n=h.fruitSpecialType,r=m.fruitSpecialType,s=!0==g&&c||e;g=!0==g&&d||f;var t=ScoreCalculateLogic.getScoreScaleWithBombType(FruitTypeConfig.kLine),u=ScoreCalculateLogic.getScoreScaleWithBombType(FruitTypeConfig.kColumn),w=HoneyEffectLogic.isHasHoneyWhenSwap(a,c,d,e,f),z=HoneyEffectLogic.isHasHoney(a,s+0,g-1),A=HoneyEffectLogic.isHasHoney(a,s-1,g+0),B=HoneyEffectLogic.isHasHoney(a,s+0,g+1),C=HoneyEffectLogic.isHasHoney(a,
s+1,g+0);ItemBombLogic.BombItemToChange(a,s+0,g,FruitTypeConfig.kLine,0,t,!0,w);ItemBombLogic.BombItemToChange(a,s,g+0,FruitTypeConfig.kColumn,0,u,!0,w);z&&ItemBombLogic.BombItemToChange(a,s+0,g-1,FruitTypeConfig.kColumn,0,u,!0,w);A&&ItemBombLogic.BombItemToChange(a,s-1,g+0,FruitTypeConfig.kLine,0,t,!0,w);B&&ItemBombLogic.BombItemToChange(a,s+0,g+1,FruitTypeConfig.kColumn,0,u,!0,w);C&&ItemBombLogic.BombItemToChange(a,s+1,g+0,FruitTypeConfig.kLine,0,t,!0,w);z||ItemBombLogic.BombItemToChange(a,s+0,
g-1,FruitTypeConfig.kColumn,0,u,!0,w);A||ItemBombLogic.BombItemToChange(a,s-1,g+0,FruitTypeConfig.kLine,0,t,!0,w);B||ItemBombLogic.BombItemToChange(a,s+0,g+1,FruitTypeConfig.kColumn,0,u,!0,w);C||ItemBombLogic.BombItemToChange(a,s+1,g+0,FruitTypeConfig.kLine,0,t,!0,w);h.isItemLock=!0;m.isItemLock=!0;ScoreCalculateLogic.addScoreAtSiteByBombType(a,c,d,r);ScoreCalculateLogic.addScoreAtSiteByBombType(a,e,f,n);GameMusicManager.playEffect(GameMusicType.kSwapBombLine)};
SpecialSwapLogic.swapBombCrossBomb=function(a,c,d,e,f){var g=a.tileItemMap[c][d],h=a.tileItemMap[e][f],m=HoneyEffectLogic.isHasHoneyWhenSwap(a,c,d,e,f);this.bombSiteOnly(a,c,d);this.bombSiteOnly(a,e,f);ScoreCalculateLogic.addScoreAtSiteByBombType(a,c,d,h.fruitSpecialType);ScoreCalculateLogic.addScoreAtSiteByBombType(a,e,f,g.fruitSpecialType);c=ItemPriorityLogic.getItemPointsByPriority(a,1);for(d=0;d<c.length;++d)g=c[d],g=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemSwap_CrossOther,
ccp(e,f),ccp(g.r,g.c),TileConst_SpecialBomb_CrossCross),g.addInt=FruitTypeConfig.kBomb,g.isHoney=m,a.addDestructionPlanAction(g);GameMusicManager.playEffect(GameMusicType.kSwapLineCross)};
SpecialSwapLogic.swapLineLineBomb=function(a,c,d,e,f){var g=a.tileItemMap[c][d],h=a.tileItemMap[e][f],m=g.fruitSpecialType,n=h.fruitSpecialType,r=HoneyEffectLogic.isHasHoneyWhenSwap(a,c,d,e,f),m=c==e&&FruitTypeConfig.kColumn||FruitTypeConfig.kLine,n=c==e&&FruitTypeConfig.kLine||FruitTypeConfig.kColumn;GameMusicManager.playEffect(GameMusicType.kSwapLineLine);ScoreCalculateLogic.addScoreAtSiteByType(a,c,d,ScoreType.kBomb_Line,!0);ScoreCalculateLogic.addScoreAtSiteByType(a,e,f,ScoreType.kBomb_Column,
!0);c=ScoreCalculateLogic.getScoreScaleWithBombType(m);d=ScoreCalculateLogic.getScoreScaleWithBombType(n);ItemBombLogic.BombItemToChange(a,e,f,n,0,d,!0,r);ItemBombLogic.BombItemToChange(a,e,f,m,0,c,!0,r);g.isItemLock=!0;h.isItemLock=!0};
SpecialSwapLogic.swapCrossLineBomb=function(a,c,d,e,f){var g=a.tileItemMap[c][d],h=a.tileItemMap[e][f],m=HoneyEffectLogic.isHasHoneyWhenSwap(a,c,d,e,f);this.bombSiteOnly(a,c,d);this.bombSiteOnly(a,e,f);ScoreCalculateLogic.addScoreAtSiteByBombType(a,c,d,h.fruitSpecialType);ScoreCalculateLogic.addScoreAtSiteByBombType(a,e,f,g.fruitSpecialType);c=ItemPriorityLogic.getItemPointsByPriority(a,1);for(d=0;d<c.length;++d)g=c[d],g=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemSwap_CrossOther,
ccp(e,f),ccp(g.r,g.c),TileConst_SpecialBomb_CrossCross),g.addInt=FruitTypeConfig.kLine,g.isHoney=m,a.addDestructionPlanAction(g);GameMusicManager.playEffect(GameMusicType.kSwapLineCross)};
SpecialSwapLogic.swapCrossCrossBomb=function(a,c,d,e,f){var g=a.tileItemMap[c][d],h=a.tileItemMap[e][f],m=HoneyEffectLogic.isHasHoneyWhenSwap(a,c,d,e,f);this.bombSiteOnly(a,c,d);this.bombSiteOnly(a,e,f);ScoreCalculateLogic.addScoreAtSiteByBombType(a,c,d,h.fruitSpecialType);ScoreCalculateLogic.addScoreAtSiteByBombType(a,e,f,g.fruitSpecialType);var g=ItemPriorityLogic.getItemPointsByPriority(a,2),n;for(n in g)h=g[n],h=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItemSwap_CrossOther,
ccp(1==n&&c||e,1==n&&d||f),ccp(h.r,h.c),TileConst_SpecialBomb_CrossCross),h.addInt=FruitTypeConfig.kCross,h.isHoney=m,a.addDestructionPlanAction(h);GameMusicManager.playEffect(GameMusicType.kSwapCrossCross)};SpecialSwapLogic.changeColorBomb=function(a,c,d,e){e==FruitTypeConfig.kSix&&FruitTypeConfig.isColor(c)&&(c==d.addInt&&(c=a.getFiveEliminateColor(d.addInt)),d.color2=c,d.actionType==ActionItemType.kItemEliminate_Five&&(d.actionType=ActionItemType.kItemEliminate_Six))};
SpecialSwapLogic.bombSiteOnly=function(a,c,d){ItemBombLogic.bombItemAtSite(a,c,d,!0,!0)};SuggestLogic=cw.Class({});var swap_weight={0:0};swap_weight[FruitTypeConfig.kCross]=60;swap_weight[FruitTypeConfig.kLine]=70;swap_weight[FruitTypeConfig.kColumn]=70;swap_weight[FruitTypeConfig.kBomb]=80;swap_weight[FruitTypeConfig.kFive]=450;swap_weight[FruitTypeConfig.kSix]=500;var match_weight={1:0};match_weight[FruitTypeConfig.kCross]=10;match_weight[FruitTypeConfig.kLine]=20;match_weight[FruitTypeConfig.kColumn]=20;match_weight[FruitTypeConfig.kBomb]=30;match_weight[FruitTypeConfig.kFive]=180;
match_weight[FruitTypeConfig.kSix]=190;var neibor_weight={};neibor_weight[FruitTypeConfig.kFive]=240;neibor_weight[FruitTypeConfig.kSix]=300;SuggestLogic.getNeighbor=function(a,c,d){var e={};9>a&&table.insert(e,d[a+1][c]);9>c&&table.insert(e,d[a][c+1]);1<c&&table.insert(e,d[a][c-1]);return e};
SuggestLogic.getMatchWeight=function(a,c){var d=match_weight[a.maxType];if(0==d)return d;for(var e=a[0].r+a.dir.r,f=a[0].c+a.dir.c,g=1;g<a.length;++g)f==a[g].c&&(e=Math.max(e,a[g].r));var g=0,e=this.getNeighbor(e,f,c),h;for(h in e)g=(d=neibor_weight[e[h].fruitSpecialType])&&Math.max(g,d)||g;return d+g};
SuggestLogic.getMatchItem=function(a,c){var d=[],e=a[0].r,f=a[0].r+a.dir.r,g=c[f][a[0].c+a.dir.c].tileItemType;if(c[e][a[0].c].tileItemType!=TileItemType.kTwoBear&&g!=TileItemType.kTwoBear||e!=f)for(var h in a)e=a[h],f=e.r,g=e.c,1==h&&(f=e.r+a.dir.r,g=e.c+a.dir.c),table.insert(d,{r:f,c:g});return d};
SuggestLogic.getMatchItemSP=function(a,c){var d=[],e=a[0].r,f=a[1].r,g=a[0].c,h=a[1].c,m=c[a[0].r][a[0].c].fruitSpecialType,n=c[a[1].r][a[1].c].fruitSpecialType;if(m>FruitTypeConfig.kBomb&&n>FruitTypeConfig.kYellow||n>FruitTypeConfig.kBomb&&m>FruitTypeConfig.kYellow||m==FruitTypeConfig.kBomb&&n==FruitTypeConfig.kBomb){for(m=0;9>m;++m)if(c[m])for(f=0;9>f;++f)c[m][f]&&table.insert(d,{r:m,c:f});return d}if(m==FruitTypeConfig.kBomb&&(n==FruitTypeConfig.kLine||n==FruitTypeConfig.kColumn)||n==FruitTypeConfig.kBomb&&
(m==FruitTypeConfig.kLine||m==FruitTypeConfig.kColumn)){var r=a[0].r,h=a[0].c;a.sp2==FruitTypeConfig.kBomb&&(r=a[1].r,h=a[1].c);if(m==FruitTypeConfig.kLine||a.sp2==FruitTypeConfig.kLine)for(m=Math.max(0,r-1);m<Math.min(9,r+1);++m){if(n=c[m])for(f=0;9>f;++f)n[f]&&table.insert(d,{r:m,c:f})}else for(m=0;9>m;++m)if(n=c[m])for(f=Math.max(0,h-1);f<Math.min(9,h+1);++f)n[f]&&table.insert(d,{r:m,c:f});return d}if(m==FruitTypeConfig.kBomb&&a.sp2==FruitTypeConfig.kCross||n==FruitTypeConfig.kCross&&m==FruitTypeConfig.kBomb){r=
0;for(m=8;0<=m;--m)if(n=c[m])for(f=0;9>f;++f)if(n[f]&&(table.insert(d,{r:m,c:f}),r+=1,9<r))return d;return d}if(m<FruitTypeConfig.kCross||n<FruitTypeConfig.kCross){r={};if(m<FruitTypeConfig.kCross||m==FruitTypeConfig.kSix)m=c[e][g].fruitColorType,r[m]=!0;if(n<FruitTypeConfig.kCross||n==FruitTypeConfig.kSix)m=c[f][h].fruitColorType,r[m]=!0;for(m=0;9>m;++m)if(c[m])for(f=0;9>f;++f)(h=c[m][f])&&r[h.fruitColorType]&&table.insert(d,{r:m,c:f})}return d};
SuggestLogic.getLine=function(a,c){var d=[],e=c[a.r];if(e)for(var f=0;9>f;++f)e[f]&&table.insert(d,{r:a.r,c:f});return d};SuggestLogic.getColumn=function(a,c){for(var d=[],e=0;9>e;++e){var f=c[e];f&&f[a.c]&&table.insert(d,{r:e,c:a.c})}return d};SuggestLogic.getCross=function(a,c,d){c=[];a=[{r:a.r,c:a.c},{r:a.r,c:a.c-1},{r:a.r,c:a.c+1},{r:a.r-1,c:a.c},{r:a.r+1,c:a.c}];for(var e in a){var f=a[e];d[f.r]&&d[f.r][f.c]&&table.insert(c,{r:f.r,c:f.c})}return c};
SuggestLogic.getItemsSP=function(a,c){var d={},e;for(e in a){var f=a[e],g={r:f.r,c:f.c};1==e&&(g.r=f.r+a.dir.r,g.c=f.c+a.dir.c);f=c[f.r][f.c].fruitSpecialType;f==FruitTypeConfig.kLine?d=table.union(d,this.getLine(g,c)):f==FruitTypeConfig.kColumn?d=table.union(d,this.getColumn(g,c)):f==FruitTypeConfig.kCross&&(d=table.union(d,this.getCross(g,e,c)))}return d};
SuggestLogic.getEnviromentWeight=function(a,c,d){var e=0,f;for(f in a){var g=a[f],h=c[g.r][g.c];h&&0<h.iceLevel&&(e+=300);var m=[{r:g.r,c:g.c-1},{r:g.r,c:g.c+1},{r:g.r-1,c:g.c},{r:g.r+1,c:g.c}];for(f in m)g=m[f],(h=d[g.r]&&d[g.r][g.c])&&(h.tileItemType==TileItemType.kStone?e+=40:h.tileItemType==TileItemType.kSandstorm?e+=200:h.tileItemType==TileItemType.kBaldStrong&&(e+=300));for(m=g.r;0<=m;--m)(h=d[m]&&d[m][g.c])&&h.tileItemType==TileItemType.kTwoBear&&(e+=1E3)}return e};
SuggestLogic.getSuggest=function(a,c){var d=null,e=-1E7,f;for(f in c){for(var g=c[f],h=[],m=0,n=0;n<g.length;++n)table.insert(h,g[n]);m+=match_weight[g.maxType];m+=this.getEnviromentWeight(h,a.tileBoardMap,a.tileItemMap);m>e&&(d=g,e=m)}return d};TileExtandLogic=cw.Class({});
TileExtandLogic.getPossibleSpreadSite=function(a,c){var d=[{x:-1,y:0},{x:1,y:0},{x:0,y:-1},{x:0,y:1}],e=a.tileItemMap,f=function(a,c){for(var f=0;f<d.length;++f){var g=d[f],h;h=g.y+a.y;h=e[h]?e[h][g.x+a.x]:null;!h||h.hasLock()||h.hasJumpCat()||h.tileItemType!=TileItemType.kFruit&&h.tileItemType!=TileItemType.kDiscolor||c[h.x+"_"+h.y]||(c[h.x+"_"+h.y]={sandstorm:a,item:h,dir:g})}},g=function(a,c){return a.item.y==c.item.y?a.item.x<c.item.x:a.item.y<c.item.y},h=[2,1];return function(){for(var a={},
d={},r=null,s=0;s<e.length;++s)for(var t=0;t<e[s].length;++t)r=e[s]?e[s][t]:null,r.isAvailable()&&0==r.cardboardLevel&&(c&&r.tileItemType==TileItemType.kFlame?f(r,a):c||r.tileItemType!=TileItemType.kSandstorm||f(r,a));for(var u in h)r=h[u],d[r]=[];for(u in a)r=a[u],r.item.isAvailable()&&(r.item.tileItemType==TileItemType.kFruit&&FruitTypeConfig.isSpecial(r.item.fruitSpecialType)?table.insert(d[2],r):r.item.tileItemType!=TileItemType.kFruit&&r.item.tileItemType!=TileItemType.kDiscolor||table.insert(d[1],
r));for(u in d)r=d[u],table.sort(r,g);return d}()};
TileExtandLogic.checkSandstormSpread=function(a,c){var d=!1,e=this.getPossibleSpreadSite(a),f=null,g;for(g in e){var h=e[g];if(0<h.length){e=a.randomNum(0,h.length);f=h[e];break}}f&&(d=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItem_Sandstorm_Spread,ccp(f.sandstorm.y,f.sandstorm.x),ccp(f.item.y,f.item.x),TileConst_Sandstorm_Spread_Time),d.callback=function(d,e,g,h){a.addRecordToOrderList(f.item.y,f.item.x,TileItemOrderType.kAllTarget,TileItemOrderType_AT.kSandstorm,
1);c(d,e,g,h)},d.itemType=f.sandstorm.tileItemType,a.addGameAction(d),d=a.tileItemMap[f.item.y][f.item.x].isBlock=!0);return d};
TileExtandLogic.checkFlameSpread=function(a,c){var d=!1,e=this.getPossibleSpreadSite(a,!0),f=[],g=0,h;for(h in e){var m=e[h];MathUtils.shuffle(m);for(var n in m)if(table.insert(f,m[n]),g+=1,2==g)break;if(2==g)break}var r=function(c,e){var f=function(d,f,g,h){a.addRecordToOrderList(c.item.y,c.item.x,TileItemOrderType.kAllTarget,TileItemOrderType_AT.kFlame,1);e(d,f,g,h)};if(c){var g=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItem_Flame_Spread,ccp(c.sandstorm.y,c.sandstorm.x),
ccp(c.item.y,c.item.x),TileConst_Sandstorm_Spread_Time);g.callback=f;g.itemType=c.sandstorm.tileItemType;a.addGameAction(g);d=a.tileItemMap[c.item.y][c.item.x].isBlock=!0}},s=function(a,d,e,h){0<g?(a=f[g],g-=1,r(a,s)):c(a,d,e,h)};0<g&&s();return d};
TileExtandLogic.getClayBlockSpreadSite=function(a){var c=[{x:-1,y:0},{x:1,y:0},{x:0,y:-1},{x:0,y:1}],d=a.tileItemMap,e=0,f=function(a,g){for(var h in c){var s=c[h],t;t=s.y+a.y;!(t=d[t]?d[t][s.x+a.x]:null)||t.hasLock()||t.hasJumpCat()||t.tileItemType!=TileItemType.kFruit||t.fruitColorType!=a.fruitColorType||g[t.x+"_"+t.y]||(e+=1,g[t.x+"_"+t.y]={sandstorm:a,item:t,dir:s,index:e},f(t,g))}},g=function(a,c){return a.index-c.index},h=[2,1];return function(){for(var a={},c={},e=null,s=0;s<d.length;++s)for(var t=
0;t<d[s].length;++t)e=d[s]?d[s][t]:null,e.isAvailable()&&0==e.cardboardLevel&&e.tileItemType==TileItemType.kClayBlock&&f(e,a);for(var u in h)e=h[u],c[e]=[];for(u in a)e=a[u],e.item.isAvailable()&&(e.item.tileItemType!=TileItemType.kFruit&&e.item.tileItemType!=TileItemType.kDiscolor||table.insert(c[1],e));for(u in c)e=c[u],table.sort(e,g);return c}()};
TileExtandLogic.checkClayBlockSpread=function(a,c){var d=!1,e=this.getClayBlockSpreadSite(a),f=[],g=0,h;for(h in e){var m=e[h],n;for(n in m)table.insert(f,0,m[n]),g+=1}var r=function(c,e){var f=function(){e()};if(c){var g=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItem_ClayBlock_Spread,ccp(c.sandstorm.y,c.sandstorm.x),ccp(c.item.y,c.item.x),TileConst_Sandstorm_Spread_Time);g.callback=f;g.itemType=c.sandstorm.tileItemType;a.addGameAction(g);d=a.tileItemMap[c.item.y][c.item.x].isBlock=
!0}},s=function(){0<g?(g-=1,r(f[g],s)):c()};0<g&&s();return d};
TileExtandLogic.checkClayBlockOrder=function(a,c){var d=a.tileItemMap,e=function(){c(!0)},f=function(c,f){for(var g=0;g<d.length;++g)for(var h=0;h<d[g].length;++h){var t=d[g]?d[g][h]:null;if(t.isAvailable()&&0==t.cardboardLevel&&t.tileItemType==TileItemType.kClayBlock){a:{var t=g,u=h,w=c,z=f,A=void 0;for(A in w){var B=w[A],C=t+(0==A?0:B[0]);if((B=d[C]?d[C][u+(0==A?0:B[1])]:null)&&B.isAvailable()){if(B.tileItemType!=TileItemType.kClayBlock){t=!1;break a}if(B.fruitColorType!=z){t=!1;break a}}else{t=
!1;break a}}t=!0}if(t)return a.addRecordToOrderList(g,h,TileItemOrderType.kClayTarget,f,1),t=f,u=c,g=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItem_ClayBlock_Clean,ccp(g,h),null,TileConst_Sandstorm_Spread_Time),g.callback=e,g.color=t,g.data=u,a.addGameAction(g),!0}}return!1},g;for(g in a.theOrderList){var h=a.theOrderList[g];if(h.active&&h.v1>h.f1&&h.key1==TileItemOrderType.kClayTarget&&f(h.data,h.key2))return!0}return!1};
TileExtandLogic.runGiftBoxFinishAction=function(a,c,d,e,f,g,h){var m=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItem_GiftBox_Finish,ccp(c,d),null,TileConst_Sandstorm_Spread_Time);m.noDelete=h;m.callback=function(){a.addRecordToOrderList(c,d,TileItemOrderType.kGiftTarget,e,1);f&&f()};g?(a.tileBoardMap[c][d].giftColor=0,a.addDestroyAction(m),ScoreCalculateLogic.addScoreAtSiteByType(a,c,d,ScoreType.kBase_GiftBox)):a.addGameAction(m)};
TileExtandLogic.checkGiftBoxFinish=function(a,c){var d=a.tileItemMap,e=a.tileBoardMap,f=function(){for(var a=[],c=0;c<d.length;++c)for(var f=0;f<d[c].length;++f){var g=d[c][f],h=e[c][f];g.isAvailable()&&0==g.cardboardLevel&&g.tileItemType==TileItemType.kFruit&&h.giftColor==g.fruitColorType&&table.insert(a,{r:c,c:f,giftColor:h.giftColor})}return a}(),g=f.length,h=function(){g-=1;0==g&&c()};if(0<g){for(var m=0;m<f.length;++m){var n=f[m];this.runGiftBoxFinishAction(a,n.r,n.c,n.giftColor,h)}return!0}return!1};
TileExtandLogic.checkGiftBoxOrder=function(a,c){return!1};
TileExtandLogic.checkJumpCatTransfer=function(a,c){var d=0,e=TileExtandLogic.filterItemByConditions(a,{},!0);table.sort(e,TileExtandLogic.itemPositionSorter);for(var f=0;f<e.length;++f){var g=e[f],h=TileExtandLogic.getJumpCatValidAroundItems(a,g),m=null;0<h.length&&(d+=1,m=h[a.randomNum(0,h.length)],m.addJumpCat(),m.isNeedUpdate=!0,g.jumpCatLevel=0,g=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItem_JumpCat_Jump,ccp(g.y,g.x),ccp(m.y,m.x),TileConst_JumpCat_Jump_Time),g.callback=
c,a.addGameAction(g))}return d};TileExtandLogic.filterItemByConditions=function(a,c,d){for(var e=[],f=0;f<a.length;++f)for(var g=0;g<a[f].length;++g){var h=a[f][g],m;a:if((m=c.gameItemTypeList)&&0!=m.length){for(var n=0;n<m.length;++n)if(h.tileItemType==m[n]){m=!0;break a}m=!1}else m=!0;m&&(m=d?d&&0<h.jumpCatLevel?!0:!1:!0,m=m&&h.isAvailable());m&&table.insert(e,h)}return e};TileExtandLogic.itemPositionSorter=function(a,c){return a.y==c.y?a.x<c.x:a.y<c.y};
TileExtandLogic.getJumpCatValidAroundItems=function(a,c){for(var d=[{x:-1,y:0},{x:1,y:0},{x:0,y:-1},{x:0,y:1}],e=c.x,f=c.y,g=[],h=null,m=0;m<d.length;++m){h=d[m];var n=f+h.y,h=a.tileItemMap[n]?a.tileItemMap[n][e+h.x]:null;!h||h.tileItemType!=TileItemType.kFruit&&h.tileItemType!=TileItemType.kDiscolor||h.hasJumpCat()||h.isBlock||!h.canBeCoverByMatch()||table.insert(g,h)}return g};
TileExtandLogic.checkWatermelonReplace=function(a,c){var d=FruitTypeConfig.kRed,e=0,f=TileExtandLogic.filterItemByConditions(a,{gameItemTypeList:[TileItemType.kWatermelon]});table.sort(f,TileExtandLogic.itemPositionSorter);for(var g=function(){for(var c=[],e=a.tileItemMap,f=0;f<e.length;++f)for(var g=0;g<e[f].length;++g){var h=e[f][g];h.tileItemType!=TileItemType.kFruit||0!=h.fruitSpecialType||h.fruitColorType==d||h.hasLock()||h.hasJumpCat()||!h.isAvailable()||table.insert(c,h)}return c}(),h=a.replaceColorMaxNum,
m={},n=0;n<f.length;++n){var r=f[n];if(4==r.watermelonLevel){var s=[],t=ccp(r.y,r.x);if(0<g.length)if(g.length>h)for(var u=0;u<h;++u){var w=a.randomNum(0,g.length),z=g[w],A=ccp(z.y,z.x);table.insert(s,A);table.remove(g,w);z.fruitColorType=d}else for(u=0;u<g.length;++u)w=a.randomNum(0,g.length),z=g[w],A=ccp(z.y,z.x),table.insert(s,A),table.remove(g,w),z.fruitColorType=d;m[t]=s;r.watermelonReset();e+=1}}if(0<e)for(t in m)f=m[t],g=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItem_Watermelon_Replace,
t,null,TileConst_Watermelon_Replace),g.itemList=f,g.callback=function(){BlockCleanLogic.destoryWatermelon(a,t.x,t.y);c&&c()},g.isHoney=HoneyEffectLogic.isHasHoney(a,t.x,t.y),a.addGameAction(g);return e};TileExtandLogic.itemDestroyHandler=function(a,c,d){var e=a.tileItemMap[c][d];e.tileItemType!=TileItemType.kFruit&&e.tileItemType==TileItemType.kHelmet&&a.addRecordToOrderList(c,d,TileItemOrderType.kSpecialTarget,TileItemOrderType_ST.kHelmet,1)};
TileExtandLogic.getRandomColorItems=function(a,c){for(var d=[],e=[],f=[],g=a.tileItemMap,h=0;h<g.length;++h)for(var m=0;m<g[h].length;++m){var n=g[h][m];!n.isAvailable()||n.hasLock()||n.hasJumpCat()||(n.tileItemType==TileItemType.kFruit?0==n.fruitSpecialType?table.insert(d,{r:h,c:m}):table.insert(f,{r:h,c:m}):n.tileItemType==TileItemType.kDiscolor&&table.insert(e,{r:h,c:m}))}g={};for(h=0;h<c;++h)(n=table.remove(d,a.randomNum(0,d.length)))||(n=table.remove(e,a.randomNum(0,e.length))),n||(n=table.remove(f,
a.randomNum(0,f.length))),n&&(g[h]=n);return g};
TileExtandLogic.BaldStrongLoseBlood=function(a,c,d,e,f){for(var g=a.tileItemMap,h=g[c][d],m=null,n=null,r=null,s=0;s<h.bossSize;++s){for(var t=0;t<h.bossSize&&(m=c-s,n=d-t,r=0<=m&&0<=n&&0<g[m][n].bossLevel?[g[m][n],m,n]:[null,null,null],m=r[0],n=r[1],r=r[2],null==m);++t);if(null!=m)break}if(!1==e&&f&&null!=m){m.specialEffectList||(m.specialEffectList={});if(m.specialEffectList[f])return;m.specialEffectList[f]=!0}null!=m&&0<m.blood&&(e=e?1:m.speicial_hit_blood,ScoreCalculateLogic.addScoreAtSiteByType(a,
c,d,ScoreType.kBase_BaldStrong,!1,e),m.blood-=e,0>m.blood&&(m.blood=0),c=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItem_Boss_Loss_Blood,ccp(n,r),null,TileConst_MaxAction_time),c.addInt=m.blood/m.maxBlood,a.addDestroyAction(c),0>=m.blood?a.tileUIDelegate&&(m=a.getGameItemPosInView(n,r),a.tileUIDelegate.setGameTargetNumber(1,a.gameMode.checkAllBaldStrongCount(!0),m)):(c=a.tileView.baseMap[n][r],d=m.lastBlood-m.blood,0<m.stunPercent&&d/m.maxBlood>=m.stunPercent?(a=a.getBossConfig(m),
m.lastBlood=m.blood,m.stunStep=a.s3||2,c.playBossStunEffect()):c.playBossHit()))};TileExtandLogic.playBossLoseBloodActivon=function(a,c,d,e){0>c.blood&&(c.blood=0);d=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItem_Boss_Loss_Blood,ccp(d,e),null,TileConst_MaxAction_time);d.addInt=c.blood/c.maxBlood;a.addDestroyAction(d)};
TileExtandLogic.showAddStepPanel=function(a){var c=a.tileLogic,d=function(d){d?(a.getAddSteps(5),c.recordGameData(TileRecordType.kProp,11001),c.setGamePlayStatus(TileGameStatus.kNormal),c.fsm.changeState(c.fsm.waitingState)):c.setGamePlayStatus(TileGameStatus.kFailed)};c.tileUIDelegate?c.tileUIDelegate.showAddFiveTip(c.level,c.totalScore,a.getStarByScore(c),a.isFinishTarget(),d):d(!1)};
TileExtandLogic.checkConveyorBeltSwitch=function(a,c){var d=0;if(a.switchBrakeData&&a.switchBrakeData.switchChange){var e=a.switchBrakeData.x,f=a.switchBrakeData.y,d=d+1,e=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItem_ConveyorBelt_Switch_Brake,ccp(f,e),null,TileConst_MaxAction_time);e.callback=c;a.addGameAction(e)}a.switchGearData&&a.switchGearData.switchChange&&(e=a.switchGearData.x,f=a.switchGearData.y,d+=1,e=TileActionDataSet.create(ActionTargetType.kTileItemAction,
ActionItemType.kItem_ConveyorBelt_Switch_Gear,ccp(f,e),null,TileConst_MaxAction_time),e.callback=c,a.addGameAction(e));a.switchBrakeMatch=0;a.switchGearMatch=0;return d};
TileExtandLogic.checkConveyorBelt=function(a,c){for(var d=0,e=a.tileItemMap,f=a.tileBoardMap,g=function(d,g,h,m,n){var r=null,B=f[d][g],C=f[h][m];n&&B.beltType==ConveyorBeltType.kStart&&C.hasConveyorBeltOutput()?r=a.randomANewItemFallingData(h,m,!0):!n&&B.beltType==ConveyorBeltType.kEnd&&C.hasConveyorBeltOutput()&&(r=a.randomANewItemFallingData(h,m,!0));B=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItem_ConveyorBelt,ccp(d,g),ccp(h,m),TileConst_MaxAction_time);B.callback=
c;B.itemData=e[d][g].copy();B.boardData=f[d][g].copy();B.isGear=n;B.toData=r;B.toBoardDataDirect=f[h][m].beltDirect;a.addGameAction(B)},h=0;h<f.length;++h)for(var m=0;m<f[h].length;++m){var n=f[h][m];if(0<n.beltType){var d=d+1,r=n.beltLink.x,n=n.beltLink.y;a.switchGearData&&0==a.switchGearData.switchGear?g(r,n,h,m,!0):g(h,m,r,n)}}return d};
TileExtandLogic.getNormalPositionsForBoss=function(a,c,d,e,f,g,h){var m=function(a){return a.tileItemType!=TileItemType.kFruit||0!=a.fruitSpecialType||!a.isAvailable()||a.hasLock()||a.hasJumpCat()?!1:!0},n=a.tileBoardMap,r=function(a,c,d){for(var e in d){var f=d[e];if(a==f.r&&c==f.c)return!0}return h&&0<n[a][c].boardSpType?!0:!1};d||(d=0);e||(e=8);c||(c=1);g||(g=!0);f||(f=[]);for(var s=a.tileItemMap,t=[],u=d;u<=e;++u)for(var w=0;w<s[u].length;++w){var z=s[u][w];m(z)&&!r(u,w,f)&&table.insert(t,{r:u,
c:w})}if(t.length<c&&g){g={};for(u=0;u<s.length;++u)if(u<d||u>e)for(w=0;w<s[u].length;++w)z=s[u][w],m(z)&&!r(u,w,f)&&table.insert(g,{r:u,c:w});d=cw.clone(t);c=Math.min(c-t.length,g.length);for(e=0;e<c;++e)f=a.randomNum(0,g.length),table.insert(d,g[f]),table.remove(g,f);return d}if(t.length<c)return t;d=[];for(e=0;e<c;++e)f=a.randomNum(0,t.length),table.insert(d,t[f]),table.remove(t,f);return d};
TileExtandLogic.checkCondimentSpray=function(a,c){for(var d=0,e=a.tileItemMap,f=a.tileBoardMap,g=0;g<f.length;++g)for(var h=0;h<f[g].length;++h){var m=e[g][h];if(m.tileItemType==TileItemType.kCondiment){var d=d+1,n=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItem_CondimentGunSpray,ccp(g,h),null,TileConst_MaxAction_time);n.callback=c;n.direction=m.condimentGunDir;a.addGameAction(n)}}return d};
TileExtandLogic.checkWormState=function(a,c){var d=0;a.wormEatList=[];for(var e=a.tileItemMap,f=a.tileBoardMap,g=0;g<f.length;++g)for(var h=0;h<f[g].length;++h){var m=e[g][h];if(m.tileItemType==TileItemType.kWorm&&0<m.wormLevel&&0==m.cardboardLevel)if(m.wormHalfState)m.wormHalfState=!1;else{var n;1==m.wormLevel?n=ActionItemType.kItem_Worm_Wakeup:2==m.wormLevel&&(n=ActionItemType.kItem_Worm_Eat);m=TileActionDataSet.create(ActionTargetType.kTileItemAction,n,ccp(g,h),null,TileConst_MaxAction_time);m.callback=
c;a.addGameAction(m);d+=1}else m.tileItemType==TileItemType.kFruit&&2==m.fruitColorType&&table.insert(a.wormEatList,{r:g,c:h})}MathUtils.shuffle(a.wormEatList);return d};TileExtandLogic.onEnterWaitingState=function(a){};TileExtandLogic.checkKitchenGodChangeRound=function(a){if(a.curGameModeType!=GameModeType.kKitchenGod)return[!1];if(a.gameMode.checkOrderListFinished()){if(9>a.curRound)return[!0,!1];a.gameMode.gameSuccess();return[!1,!0]}return[!1,!1]};
TileExtandLogic.kitchenGodBearAddBlocks=function(a,c){var d=0,e;for(e in a.bearBlockList){var f=a.bearBlockList[e],g=f[0]-1,h=f[1]-1,m=f[2],f=f[3]||1;if(0>f||5<f)f=1;if(1<=m&&4>=m){var n=a.tileItemMap[h][g],r=a.tileBoardMap[h][g];r&&r.isUsed&&n&&(g=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItem_KitchenGod_Add_Block,ccp(h,g),null,TileConst_MaxAction_time),g.callback=c,g.addInt=m,g.addInt2=f||1,a.addGameAction(g),d+=1)}}return d};
TileExtandLogic.kitchenGodRemoveBlocks=function(a){for(var c=0,d=a.tileItemMap,e=a.tileBoardMap,f=0;f<e.length;++f)for(var g=0;g<e[f].length;++g){var h=d[f][g],m=e[f][g];h.tileItemType==TileItemType.kStone?(c+=1,BlockCleanLogic.cleanStone(a,f,g,!0,1,1,!0)):h.tileItemType==TileItemType.kHelmet?(c+=1,BlockCleanLogic.cleanHelmet(a,f,g,!0,1,!0)):0<h.cardboardLevel?(c+=1,BlockCleanLogic.cleanCardboard(a,f,g,!0,1,!0)):0<m.iceLevel?(c+=1,BlockCleanLogic.cleanIce(a,f,g,!0,1,!0)):0<m.sandLevel&&(c+=1,BlockCleanLogic.cleanSand(a,
f,g,!0,1,!0))}0<c&&(a.needCheckFalling=!0);return c};
TileExtandLogic.kitchenGodBearAddCutyPet=function(a,c){function c(){var c=ItemBombLogic.getRandomFruitChangeToLineSpecial(a),d=a.tileItemMap[c.x][c.y],g=a.tileBoardMap[c.x][c.y];g.boardSpType=FruitTypeConfig.kCutyPet;if(a.tileUIDelegate){var h=a.tileUIDelegate.getBuffUiPos(),c=a.getGameItemPosInView(c.x,c.y),h=CommonFlyLine.createWhite(h,c,null,function(){d.isNeedUpdate=!0;g.isNeedUpdate=!0});GameMusicManager.playEffect(GameMusicType.kBonusStepToLine);a.tileUIDelegate.effectLayer.addChild(h)}}ItemBombLogic.initRandomFruitChangeList(a);
for(var d=1;2>=d;++d)c()};TileExtandLogic.checkSandToTransfer=function(a,c){for(var d=0,e=TileExtandLogic.getSandBoardPos(a),f=TileExtandLogic.getRandomTransferSandPos(a,e,c);0<f.length;)d+=f.length,f=TileExtandLogic.getRandomTransferSandPos(a,e,c);return d};
TileExtandLogic.getRandomTransferSandPos=function(a,c,d){for(var e=[],f=a.tileBoardMap,g=0;g<c.length;++g){var h=c[g],m=h.x,n=h.y,r=f[m][n];if(0<r.sandLevel&&!h.handled){var s=this.getSandTransferAvailablePosAround(a,m,n);if(0<s.length){var s=s[a.randFactory.rand(1,s.length)-1],t=r.sandLevel;f[s.x][s.y].sandLevel=t;r.sandLevel=0;m=TileActionDataSet.create(ActionTargetType.kTileItemAction,ActionItemType.kItem_Sand_Transfer,ccp(m,n),ccp(s.x,s.y),TileConst_MaxAction_time);m.completeCallback=d;m.addInt=
t;a.addGameAction(m);table.insert(e,s);h.handled=!0}}}return e};TileExtandLogic.getSandBoardPos=function(a){for(var c=[],d=a.tileBoardMap,e=0;e<d.length;++e)for(var f=0;f<d[e].length;++f){var g=d[e][f],h=a.tileItemMap[e][f];g&&0<g.sandLevel&&0==h.cardboardLevel&&table.insert(c,{x:e,y:f})}return c};
TileExtandLogic.canSandTransferToPos=function(a,c,d){if(!a.isPosValid(c,d))return!1;var e=a.tileBoardMap[c][d];return!e||0<e.sandLevel?!1:(a=a.tileItemMap[c][d])&&a.isUsed&&!a.tileItemType!=TileItemType.kConveyorBeltGear&&a.tileItemType!=TileItemType.kConveyorBeltBrake&&a.tileItemType!=TileItemType.kCondiment?!0:!1};
TileExtandLogic.getSandTransferAvailablePosAround=function(a,c,d){for(var e=[],f=[{dr:-1,dc:0},{dr:1,dc:0},{dr:0,dc:-1},{dr:0,dc:1}],g=0;g<f.length;++g){var h=f[g];!TileExtandLogic.hasWoodNeighbors(a,c,d,c+h.dr,d+h.dc)&&TileExtandLogic.canSandTransferToPos(a,c+h.dr,d+h.dc)&&table.insert(e,{x:c+h.dr,y:d+h.dc})}return e};
TileExtandLogic.hasWoodNeighbors=function(a,c,d,e,f){if(!a.isPosValid(c,d)||!a.isPosValid(e,f))return!1;var g=a.tileBoardMap[c][d];a=a.tileBoardMap[e][f];c=e-c;d=f-d;return 1==d?g.hasRightWood()||a.hasLeftWood():-1==d?g.hasLeftWood()||a.hasRightWood():1==c?g.hasBottomWood()||a.hasTopWood():-1==c?g.hasTopWood()||a.hasBottomWood():!1};HoldDataLogic=cw.Class({});HoldDataLogic.init=function(a){this.tileLogic=a;this.data=TileItemData.create();this.data.tileItemType=TileItemType.kFruit;this.data.fruitColorType=this.randomColor();this.data.fruitSpecialType=0;this.data.isUsed=!0;this.tileFruit=null;this.tileLogic.selectedHoldFruit(this.data);this.updateFruit()};
HoldDataLogic.randomColor=function(a){var c=this.tileLogic,d=function(a){for(var d=0;d<c.tileItemMap.length;++d)for(var e=0;e<c.tileItemMap[d].length;++e)if(ItemExchangeLogic.canBeExchangeNormal(c,d,e,a,0))return!1;return!0};this.getBoardColors();var e=this.colors[this.tileLogic.randomNum(0,this.colors.length)];if(a)for(table.removeValue(this.colors,this.data.fruitColorType);d(e);)table.removeValue(this.colors,this.data.fruitColorType),e=this.colors[this.tileLogic.randomNum(0,this.colors.length)];
return e};HoldDataLogic.getBoardColors=function(){this.colors=[];for(var a=0;9>a;++a)for(var c=0;9>c;++c){var d=this.tileLogic.getColorOfGameItem(a,c);0<d&&!table.includes(this.colors,d)&&table.insert(this.colors,d)}};HoldDataLogic.updateFruit=function(){this.updateFruitHold(this.data.fruitColorType,this.data.fruitSpecialType)};
HoldDataLogic.updateFruitHold=function(a,c){var d=TileView.create().buildNewFruitItem(a,c,null,null,null,!0);d.setScale(1.3);this.tileFruit&&this.tileFruit.dispose();this.tileFruit=d;this.nodeHold=this.tileLogic.tileView.holdDataNode;this.nodeHold.removeChildren(!0);this.nodeHold.addChild(d)};
HoldDataLogic.exchangeColor=function(a,c,d){this.data=a.copy();this.tileLogic.selectedHoldFruit(this.data);if(d)this.updateFruit();else{a=this.tileLogic.getGameItemPosInView(a.y,a.x);var e=this.nodeHold.convertToNodeSpace(a),f=this;a=[];a.push(cc.moveBy(0.1,ccp(0,-10)));a.push(cc.moveBy(0.1,ccp(0,20)));a.push(cc.moveTo(0.19,e));a.push(cc.callFunc(function(){f.updateFruit();f.tileFruit.setPosition(e);f.tileFruit.runAction(cc.sequence(cc.moveTo(0.24,ccp(0,760)),cc.spawn(cc.hide(),cc.moveTo(0,ccp(-25,
-50)))));f.tileFruit.runAction(cc.sequence(cc.delayTime(1),cc.spawn(cc.show(),cc.moveTo(0.1,ccp(0,0)))));c()}));this.tileFruit.runAction(cc.sequence(a))}};HoldDataLogic.runRefreshAction=function(a){var c=this.randomColor(!0);this.data.fruitColorType=c;this.updateFruit();a(this.data)};AddFiveDialogController=createController("AddFiveDialogController");var add5StepPropId=11001,add5GoodId=1101;AddFiveDialogController.onViewCreate=function(){return loadccb(GetAssetsPath("AddFiveDialog.ccbi"),this)};AddFiveDialogController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);EffectHelper.dialogPopOut(this,null,!0);this.reset()};
AddFiveDialogController.reset=function(){if(null!=this.param){var a=UserManager.getMainPetId();this.skelPet.reloadWithCache(GetAssetsPath("anim"+a+".json"));this.skelPet.setAnimation(0,"add5step",!0);PetHelper.setPetEquipByPetID(this.skelPet,a);this.btnUseProp.setVisible(!1);this.btnBuyRmb.setVisible(!1);this.btnBuyDiamond.setVisible(!1);this.btnVideoAd.setVisible(!1);SnsHelper.isClosePay();0<UserManager.getPropCount(add5StepPropId)||UserManager.getTimePropCount(add5StepPropId)?this.btnUseProp.setVisible(!0):
this.btnBuyDiamond.setVisible(!0);var c=9,d=this;this.registerUpdate("count_down",function(){d.isPlayVadio||(c-=1,0>c?(d.hideCountDown(),d.back()):(d.labelCountDown.setVisible(!0),d.labelCountDown.setString(c)))},1);VideoAdManager.canShowLevelVideo(this.param.levelId)&&VideoAdManager.isOpenByChannel(VideoAdRewardType.VAD_Reward_AddMove)?(this.btnUseProp.setPositionX(403),this.btnBuyRmb.setPositionX(403),this.btnBuyDiamond.setPositionX(403),this.btnVideoAd.setPositionX(173),this.btnVideoAd.setVisible(!0)):
this.btnVideoAd.setVisible(!1);var a=MetaHelper.getGoodsPrice(add5GoodId),e=a[2];this.labelBuyDiamond.setString(a[1]);1>e&&0<e?(this.spOff.setVisible(!0),this.labelOff.setString(string.format("%f\u6298",10*e))):this.spOff.setVisible(!1);this.param.bAutoPopup||(this.hideCountDown(),this.labelAddFiveDesc.setString(TextTable.t_Prop_Desc_11001))}};AddFiveDialogController.hideCountDown=function(){this.unregisterUpdate("count_down");this.labelCountDown.setVisible(!1)};
AddFiveDialogController.onVideoAd=function(){audio.playSound(GameMusicType.kButtonClick);this.hideCountDown();this.isPlayVadio=!0;WaitingDialogController.show();var a=this;VideoAdManager.playAd(this,VideoAdRewardType.VAD_Reward_AddMove,function(c,d){WaitingDialogController.hide();a.isPlayVadio=!1;c&&a.useProp()})};
AddFiveDialogController.onButtonDiamond=function(){var a=MetaHelper.getGoodsPrice(add5GoodId)[1];UserManager.getDiamond()>=a?this.buyFive():SnsHelper.isClosePay()?TipDialogController.showTip(ErrMsg(ErrCode.CASH_NOT_ENOUGH)):(this.hideCountDown(),DiamondNotEnoughDialogController.show())};
AddFiveDialogController.buyFive=function(){audio.playSound(GameMusicType.kButtonClick);var a=this.param.levelId;this.hideCountDown();var c=this;WaitingDialogController.show();var d=MetaHelper.getGoodsPrice(add5GoodId)[3];HttpHelper.buy(this,add5GoodId,1,function(a){WaitingDialogController.hide();0==a?c.useProp():TipDialogController.showTip(ErrMsg(a))},a,d)};
AddFiveDialogController.onButtonRmb=function(){audio.playSound(GameMusicType.kButtonClick);this.hideCountDown();var a=this;PayHelper.buy(this,"com.candyworks.cutypet.goods1101",function(c){c?a.useProp():TipDialogController.showTip(TextTable.t_buyFailed)})};AddFiveDialogController.onButtonUseProp=function(){audio.playSound(GameMusicType.kButtonClick);this.hideCountDown();this.useProp()};
AddFiveDialogController.useProp=function(){var a=this.param.levelId,c=LevelMapManager.getInstance().getLevelGameMode(a),d=this,e=GameWorldController.startGameTs;WaitingDialogController.show();HttpHelper.useProp(this,a,c,add5StepPropId,e,function(a){WaitingDialogController.hide();0==a?(GameWorldController.setBtnPauseEnable(!0),d.hide(),(a=d.param.listener)&&a(!0)):TipDialogController.showTip(ErrMsg(a))})};AddFiveDialogController.onButtonBack=function(){audio.playSound(GameMusicType.kButtonClick);this.back()};
AddFiveDialogController.back=function(){this.hide();var a=this.param.listener;a&&a(!1)};ChoosePetController=createController("ChoosePetController");ChoosePetController.onViewCreate=function(){return loadccb(GetAssetsPath("ChoosePet.ccbi"),this)};ChoosePetController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.registerEvent("event.ui.update");this.registerEvent("event.ui.updateEquip");this.reset();EffectHelper.dialogLeftShow(this);this.performDelay(function(){notification.postEvent("event.ui.openChoosePet")})};ChoosePetController.onViewEnter=function(){this.updateUI()};
ChoosePetController.onEvents=function(a,c){"event.ui.update"==a?this.updateUI():"event.ui.updateEquip"==a&&this.updateEquip(c)};
ChoosePetController.reset=function(){this.recommendedPetId=0;if(this.param.level){var a=LevelMapManager.getInstance().getRecommendedPetId(this.param.level);0<a&&(this.recommendedPetId=a)}this.listPet.setGalleryMode(1);this.mainPetId=this.param&&this.param.petId||UserManager.getMainPetId();a=1;this.listPetHolder=[];var c=this,d=[],e=UserManager.getPetInfos();table.sort(e,function(a,c){return a.id<c.id});for(var f=0;f<e.length;f++)d.push(e[f].id);0<this.recommendedPetId&&!table.includes(d,this.recommendedPetId)&&
d.push(this.recommendedPetId);for(f=1;f<=d.length;f++){var g=d[f-1],e={},h=loadccb(GetAssetsPath("ChoosePetItem.ccbi"),e,this);this.listPetHolder[f-1]=e;this.listPet.addItem(h);e.id=g;e.skelPet.reloadWithCache(GetAssetsPath("anim"+g+".json"));e.skelPet.setAnimation(0,"stand",!0);PetHelper.setPetEquipByPetID(e.skelPet,g);e.inputName.setString(UserManager.getPetName(g));e.btnChangePet.setVisible(g!=this.mainPetId);e.btnChangePet.setTag(g);e.btnChangePet.setEnabled(UserManager.hasPet(g),ErrMsg(100270));
e.spriteRecomended.setVisible(0<this.recommendedPetId&&this.recommendedPetId==g);g==this.mainPetId&&e.spriteBg.setDisplayFrameName("mp_pet_card2.png");g==this.recommendedPetId&&(a=f);(g=MetaHelper.petDict[g])&&0==g.gender?e.spriteSex.setDisplayFrameName("pet_ico_female.png"):e.spriteSex.setDisplayFrameName("pet_ico_male.png");e.inputName.registerScriptHandler(function(a){"detach"==a&&c.changePetName(c.getChangeName())});cc.sys.isNotPrompt&&(e.inputName.setContentWidth(0),e.spritePen.setVisible(!1))}6==
this.param.level&&(a=1);this.listPet.moveListItemTo(a,0);this.listPet.registerScriptListener(function(a){c.onListIndexChange(a)});this.onListIndexChange(a)};ChoosePetController.onListIndexChange=function(a){a=this.listPetHolder[a-1];this.spritePetSkill.setDisplayFrameName("pet_skill_"+a.id+".png");this.onUpdateScore(a.id)};
ChoosePetController.onUpdateScore=function(a){if(UserManager.petDict[a]){var c=UserManager.getPetBonus(a),d=c[0],c=c[1],e=UserManager.getPetExpInfo(a)[0],d=string.format("+%.1f%%",100*d),c=string.format("+%.1f%%",100*c);this.labelLevel.setString(tostring(e));this.labelCoin.setString(d);this.labelScore.setString(c);c=UserManager.getPetExpInfo(a);e=c[0];a=c[1];c=c[2];d=MetaHelper.getPetLevelMax()[0];e==d?this.progExp.setPercentage(100):this.progExp.setPercentage(100*a/c);this.btnSure.setVisible(!0);
this.btnCancle.setVisible(!0);this.btnUnlock.setVisible(!1)}else this.labelLevel.setString("0"),this.labelCoin.setString("+0.0%"),this.labelScore.setString("+0.0%"),this.progExp.setPercentage(0),this.btnSure.setVisible(!1),this.btnCancle.setVisible(!1),this.btnUnlock.setVisible(!0)};ChoosePetController.updateUI=function(){};
ChoosePetController.updateEquip=function(a){for(var c=1;c<=a.length;c++)for(var d=a[c-1],e=1;e<=this.listPetHolder.length;e++){var f=this.listPetHolder[e-1];f.id==d&&PetHelper.setPetEquipByPetID(f.skelPet,d)}};ChoosePetController.getPetId=function(){var a=this.listPet.getSelect();return this.listPetHolder[a-1].id};ChoosePetController.onButtonChangePet=function(a){audio.playSound(GameMusicType.kButtonClick);this.back(a)};
ChoosePetController.onButtonLeft=function(){audio.playSound(GameMusicType.kButtonClick);this.listPet.moveToPre()};ChoosePetController.onButtonRight=function(){audio.playSound(GameMusicType.kButtonClick);this.listPet.moveToNext()};ChoosePetController.onButtonPreviewSkill=function(){audio.playSound(GameMusicType.kButtonClick);PetSkillDialogController.show({petId:this.getPetId()})};ChoosePetController.onButtonOneKeyChange=function(){audio.playSound(GameMusicType.kButtonClick);this.back(this.recommendedPetId)};
ChoosePetController.onButtonSure=function(){audio.playSound(GameMusicType.kButtonClick);this.back(this.getPetId())};ChoosePetController.onButtonCancle=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};
ChoosePetController.onButtonUnlock=function(){audio.playSound(GameMusicType.kButtonClick);GameHelper.openUI("get_pet",this.getPetId())&&(this.hide(),StartGameController.isShowing&&StartGameController.back(),TimeLevelController.isShowing&&TimeLevelController.back(),TimeLevelStartController.isShowing&&TimeLevelStartController.back())};ChoosePetController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};
ChoosePetController.getChangeName=function(){var a=this.listPet.getSelect();return this.listPetHolder[a-1].inputName.getString()};ChoosePetController.changePetName=function(a){var c=this.getPetId();UserManager.petDict[c].name!=a&&HttpHelper.changePetName(this,c,a,function(a){0!=a&&TipDialogController.showTip(ErrMsg(a))})};ChoosePetController.back=function(a){this.hide();var c=this.param.listener;c&&(a=a||this.mainPetId,c(a))};StartGameHelper={};var PROP_GOOD_ID_1=3101,PROP_GOOD_ID_2=3102,PRE_PROP_ID_1=11007,PRE_PROP_ID_2=11008,DEFAULT_PET_ID=20001,PROP_IDS=[PRE_PROP_ID_1,PRE_PROP_ID_2];
StartGameHelper.startPlayGame=function(a,c,d){this.saveMainPet(a,c);var e=this.getPropUsed(a),f=e[0],g=e[1],e=LevelMapManager.getInstance().getLevelGameMode(c);WaitingDialogController.show();HttpHelper.startLevel(a,c,e,!1,f,function(e){WaitingDialogController.hide();0==e?(ModelManager.saveLocalData(),a.hideAll(),ResourcesManager.loadLevelConfig(c,function(){"WorldMap"==GameDirector.getCurrentSceneName()?SceneHelper.pushToScene("GameWorld",null,{level:c,propIds:g,roomId:d}):SceneHelper.jumpToScene("GameWorld",
null,{level:c,propIds:g,roomId:d},!0);DcHelper.startLevel(c)})):TipDialogController.showTip(ErrMsg(e))},d)};
StartGameHelper.onButtonStart=function(a,c,d){audio.playSound(GameMusicType.kButtonClick);if(UserManager.isEnergyCanPlay(d)){WaitingDialogController.show();var e=cc.Sprite.createWithSpriteFrameName("ico_energy.png"),f;f=WorldMapUIController.isShowing?WorldMapUIController.iconEnergy:ccp(0,display.height);var g=a.btnStart;a.layer.addChild(e);var h=this;g.setTouchEnabled(!1);EffectHelper.flyAndScalAnim2(e,f,g,function(){DebugFlag?HttpHelper.getLevelConfigByLevelId(a,c,function(e,f){g.setTouchEnabled(!0);
0==e?LevelMapManager.getInstance().initOneCardByData(f.config):logw("update level config failed!");h.startPlayGame(a,c,d)}):(g.setTouchEnabled(!0),h.startPlayGame(a,c,d))})}else a.back(),EnergyDialogController.show({level:c,petId:a.changePetId,roomId:d})};
StartGameHelper.initPorp=function(a,c,d){a&&a.labelPropPrice1&&a.labelPropPrice2&&(d=MetaHelper.goodsDict[PROP_GOOD_ID_2].coin,a.labelPropPrice1.setString(MetaHelper.goodsDict[PROP_GOOD_ID_1].coin),a.labelPropPrice2.setString(d),a.spritePropCheck1.setVisible(!1),a.spritePropCheck2.setVisible(!1),this.canUseProp(c,PRE_PROP_ID_1)?a.icoPropLock1.setVisible(!1):a.icoProp1.setVisible(!1),this.canUseProp(c,PRE_PROP_ID_2)?a.icoPropLock2.setVisible(!1):a.icoProp2.setVisible(!1))};
StartGameHelper.initUI=function(a,c,d){if(a){a.baseChangeBtnScale=a.btnChangePet.getScale();a.baseChangeBtnPos=a.btnChangePet.getPosition();this.initPorp(a,c,d);this.updateButtonChangePet(a,c);if(LevelMapManager.getInstance().getMeta(c)){var e=GameModeType.getModeStartKey(c),e=d?"t_TimeLevel_text_3":e[0];d=d?"ico_time_level.png":GameModeType.getModeStartFrameName(c);a.spriteTarget.setDisplayFrameName(d);a.labelTitle.setString(TextTable[e])}d=this.getLimitPetId();c=LevelMapManager.getInstance().getRecommendedPetId(c);
0<d?(a.spriteRecmdPet.setDisplayFrameName("head"+d+".png"),a.btnChangePet.setEnabled(!1,ErrMsg(200260)),this.updatePetInfo(a,d)):(0<c&&a.spriteRecmdPet.setDisplayFrameName("head"+c+".png"),a.btnChangePet.setEnabled(!0),this.updatePetInfo(a))}};
StartGameHelper.saveMainPet=function(a,c){var d=UserManager.getMainPetId(),e=this.getLimitPetId(c);0<e&&e!=d?(HttpHelper.changeMainPet(a,e),WorldMapController.petIdAfterGame=d):0<a.changePetId&&a.changePetId!=UserManager.getMainPetId()&&HttpHelper.changeMainPet(a,a.changePetId)};StartGameHelper.getCurrentPet=function(){var a=this.getLimitPetId(),c=UserManager.getMainPetId();return 0<a&&a!=c?a:this.param.popcornChallenge?this.popcornPet:this.changePetId&&0<this.changePetId?this.changePetId:UserManager.getMainPetId()};
StartGameHelper.getPropUsed=function(a){var c=[],d=[];a.spritePropCheck1&&a.spritePropCheck1.isVisible()&&(table.insert(c,PROP_GOOD_ID_1),table.insert(d,MetaHelper.goodsDict[PROP_GOOD_ID_1].item[0][0]));a.spritePropCheck2&&a.spritePropCheck2.isVisible()&&(table.insert(c,PROP_GOOD_ID_2),table.insert(d,MetaHelper.goodsDict[PROP_GOOD_ID_2].item[0][0]));return[c,d]};
StartGameHelper.getLimitPetId=function(a){if(!a)return 0;var c=LevelMapManager.getInstance().getLimitPetId(a);return 0<c?c:GameTutorialHelper.hasFirstEvent("event.game.startLevel"+a)?DEFAULT_PET_ID:0};StartGameHelper.canUseProp=function(a,c){if(!a)return!1;var d=UserManager.getTopLevel(),e=MetaHelper.propDict[c].unlock;return e>d||e>a||GameTutorialHelper.hasFirstEvent("event.game.startLevel"+a)?!1:!0};
StartGameHelper.getPropTotalCoin=function(a){var c=0,d=MetaHelper.goodsDict[PROP_GOOD_ID_1].coin,e=MetaHelper.goodsDict[PROP_GOOD_ID_2].coin;a.spritePropCheck1.isVisible()&&(c+=d);a.spritePropCheck2.isVisible()&&(c+=e);return c};
StartGameHelper.updatePetInfo=function(a,c){c=c||UserManager.getMainPetId();var d=MetaHelper.getPetLevelMax(c),e=d[0],d=UserManager.getPetExpInfo(c),f=d[0],g=d[1],d=d[2];f==e?(a.labelPetExp.setString(TextTable.t_Pet_Maxexp),a.progPetExp.setPercentage(100)):(a.labelPetExp.setString(g+"/"+d),a.progPetExp.setPercentage(100*g/d));a.labelPetLevel.setString(tostring(f))};StartGameHelper.onButtonPetInfo=function(a){PetInfoDialogController.show()};
StartGameHelper.updateButtonChangePet=function(a,c){var d=a.changePetId||UserManager.getMainPetId();a.skelPet.reloadWithCache(GetAssetsPath("anim"+d+".json"));a.skelPet.setAnimation(0,"stand",!0);PetHelper.setPetEquipByPetID(a.skelPet,d);a.btnChangePet.isEnabled()&&(a.btnChangePet.stopAllActions(),a.btnChangePet.setScale(a.baseChangeBtnScale),a.btnChangePet.setPosition(a.baseChangeBtnPos),d=LevelMapManager.getInstance().getRecommendedPetId(c),(d=UserManager.hasPet(d)?d:20001)&&(a.changePetId||UserManager.getMainPetId())!=
d&&EffectHelper.jellyJump(a.btnChangePet,a.btnChangePet.getScale()))};StartGameHelper.choosePetForGame=function(a,c){a.changePetId=c;this.updatePetInfo(a,c)};StartGameHelper.onButtonChangePet=function(a,c){audio.playSound(GameMusicType.kButtonClick);var d=this;ChoosePetController.showLoading({listener:function(e){var f=a.changePetId;0>=f&&(f=UserManager.getMainPetId());f!=e&&(d.choosePetForGame(a,e),TipDialogController.showTip(TextTable.t_Pet_Chefchange,e),d.updateButtonChangePet(a,c))},level:c,petId:a.changePetId})};
StartGameHelper.onButtonProp=function(a,c,d,e){var f=PROP_IDS[d-1];audio.playSound(GameMusicType.kAddCoin);var g=MetaHelper.propDict[f].unlock;g>c?TipDialogController.showTip(string.expand(ErrMsg(200261),{level:g})):this.canUseProp(c,f)?(a["spritePropCheck"+d].isVisible()?(a["spritePropCheck"+d].setVisible(!1),a["spritePropPrice"+d].setVisible(!0)):(a["spritePropCheck"+d].setVisible(!0),a["spritePropPrice"+d].setVisible(!1)),c=this.getPropTotalCoin(a),e=e||UserManager.getCoin(),e<c?(a["spritePropCheck"+
d].setVisible(!1),a["spritePropPrice"+d].setVisible(!0),TipDialogController.showTip(ErrMsg(100139))):(WorldMapUIController.updateCoin(-c),notification.postEvent("event.ui.onPrePropClick",c))):TipDialogController.showTip(ErrMsg(200259))};GameFailedController=createController("GameFailedController");GameFailedController.onViewCreate=function(){return loadccb(GetAssetsPath("GameFailed.ccbi"),this)};GameFailedController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.reset();EffectHelper.dialogLeftShow(this,null,!0)};
GameFailedController.reset=function(){if(null!=this.param){var a=this.param.level,c=UserManager.getMainPetId();this.skelPet.reloadWithCache(GetAssetsPath("anim"+c+".json"));PetHelper.setPetEquipByPetID(this.skelPet,c);this.skelPet.setMix("stand","fail",0.3);this.skelPet.setAnimation(0,"stand",!1);var d=this;this.performDelay(function(){d.skelPet.setAnimation(0,"fail",!0)},0.2);this.labelTitle.setString(TextTable.t_gameFailTarget6_1);EffectHelper.jellyShakeSlow(this.btnRestart,1,0);VideoAdManager.setLevelFailed(a);
audio.stopMusic();audio.playSound(GameMusicType.kFailedPanel);this.param.roomId?(this.btnRestart.setVisible(!1),this.btnBack.setVisible(!0)):this.btnBack.setVisible(!1)}};GameFailedController.onButtonRestart=function(){audio.playSound(GameMusicType.kButtonClick);this.hide();StartGameController.show({level:this.param.level})};GameFailedController.onButtonBack=function(){audio.playSound(GameMusicType.kButtonClick);this.back()};
GameFailedController.back=function(){SceneHelper.popScene({reason:this.param.roomId?"timeLevelFailed":"failed",level:this.param.level})};GameWorldController=createController("GameWorldController");GameWorldController.petResPlist="image/elements/pet_%d_bomb.plist";GameWorldController.basicResPlist="image/elements/five_ext.plist image/elements/line_bomb.plist image/elements/fruit_destroy.plist image/elements/cross_bomb.plist image/tileMapItem.plist image/tileBaseItem.plist image/tile_select.plist image/tile_cutypet.plist image/game_effects.plist image/level_target.plist".split(" ");var comboConfig=[6,8,10,15,20];
GameWorldController.onViewCreate=function(){return loadccb(GetAssetsPath("GameWorld.ccbi"),this)};GameWorldController.onViewOpen=function(){this.reset();this.registerEvent("event.ui.update");this.startGameTs=DataHelper.getSimulatorTs()};GameWorldController.onViewEnter=function(){this.updateUI();audio.playMusic(GameMusicType.kGameSceneBGM,!0)};GameWorldController.onViewClose=function(){this.curTileView.dispose();GameTutorialHelper.cancelCurGuide(!0);this.startGameTs=0};
GameWorldController.hideOrShow=function(a){a?(GameWorldUIController.show(),GameWorldTargetController.show(),GameWorldFgController.show(),GameWorldPropController.show()):(GameWorldUIController.hide(),GameWorldTargetController.hide(),GameWorldFgController.hide(),GameWorldPropController.hide())};GameWorldController.onEvents=function(a,c){"event.ui.update"==a&&this.updateUI()};
GameWorldController.preloadResourceAsync=function(){for(var a=function(){},c=CCTextureCache.sharedTextureCache(),d=this.basicResPlist.length;1<=d;--d){var e=string.gsub(this.basicResPlist[d-1],".plist",".png");c.addImageAsyncWithScriptHandler(e,a)}d=string.format(this.petResPlist,UserManager.getMainPetId());d=string.gsub(d,".plist",".png");c.addImageAsyncWithScriptHandler(d,a)};
GameWorldController.preloadResource=function(){var a=CCSpriteFrameCache.sharedSpriteFrameCache(),c;for(c in this.basicResPlist)a.addSpriteFramesWithFile(this.basicResPlist[c],!0);c=string.format(this.petResPlist,UserManager.getMainPetId());a.addSpriteFramesWithFile(c,!0)};
GameWorldController.reset=function(){this.curTileLogic=TileBoardLogic.create();this.levelId=this.param.level;var a=LevelDataManager.getInstance().getLevelConfigByID(this.levelId);this.loadLevelConfig(this.levelId);this.curTileLogic.initByConfig(this.levelId,a);this.curTileView=TileBoardView.createByTileLogic(this.curTileLogic);this.root.addChild(this.curTileView.refObject);this.curTileView.tileUIDelegate=this;this.curTileLogic.tileUIDelegate=this;this.curComboCount=0;this.aniHand.setVisible(!1);this.nodeCombo.setVisible(!1);
"zh_TW"==DeviceRegionLan?this.aniHand.setAttachment("click_cn","click_tw"):"zh"==DeviceLan&&this.aniHand.setAttachment("click_cn","click_cn");this.curTileLogic.initGame()};GameWorldController.setEffectLayer=function(a){this.effectLayer=a};GameWorldController.boundingBoxByTileZone=function(a,c){a-=1;c-=1;var d=Math.floor(a),e=Math.floor(c),f=this.curTileLogic.getGameItemRectInView(d,e),g=f[2],h=f[3];return[f[0]+(c-e)*h,f[1]+(d-a)*g,g,h]};
GameWorldController.boundingBoxByTwoTile=function(a,c,d,e){var f=this.curTileLogic.getGameItemRectInView(a-1,c-1);a=f[0];c=f[1];f=f[3];d=this.curTileLogic.getGameItemRectInView(d-1,e-1);e=d[0];var g=d[1];e+=d[2];return[a,g,e-a,c+f-g]};GameWorldController.loadLevelConfig=function(a){a=LevelDataManager.getInstance().getLevelConfigByID(a).getLevelNeedImages();for(var c in a)cc.spriteFrameCache.addSpriteFrames(a[c])};GameWorldController.updateUI=function(){};
GameWorldController.getPlayGameTime=function(){return this.startGameTs?DataHelper.getSimulatorTs()-this.startGameTs:0};GameWorldController.getState=function(){var a=this.curTileLogic.theCurMoves,c=this.curTileLogic.totalScore,d=0<this.param.propIds.length,e=this.curTileLogic.gameMode.getFinishPercent(),f=this.curTileLogic.leftMoveToWin,g=this.curTileLogic.theCurMoves,h=UserManager.getMainPetId(),m=LevelMapManager.getInstance().getLevelTargetStarByScore(this.levelId,c);return[a,c,d,e,f||0,g,h,m]};
GameWorldController.isGameOver=function(){return this.curTileLogic.isGameOver()};GameWorldController.isWaitingOperation=function(){return this.curTileLogic.isWaitingOperation};GameWorldController.pauseGame=function(a){this.curTileView.isPaused=a};
GameWorldController.playGameTargetAnimation=function(a){if(this.curTileLogic.curGameModeType==GameModeType.kKitchenGod)this.performDelay(function(){notification.postEvent("event.ui.startKitchenGodLevel");a()},0);else{var c=this;this.performDelay(function(){GameWorldTargetController.checkStartStory(function(){TargetDialogController.show(function(){TutorialTipController.show({levelId:c.levelId,listener:function(){a();notification.postEvent("event.game.startLevel"+c.levelId)}})})})},0)}};
GameWorldController.onGameTargetAnimEnded=function(){};GameWorldController.onGameSwapped=function(a){};GameWorldController.onGameStabled=function(){notification.postEvent("event.game.fallingEnd");if(this.curComboCount>=comboConfig[0]){var a=0.1*this.curComboCount;5<a&&(a=5);this.nodeCombo.stopAllActions();this.nodeCombo.runAction(cc.sequence(cc.delayTime(a),cc.scaleTo(0.05,0),cc.hide()))}else this.nodeCombo.setVisible(!1);this.curComboCount=0};GameWorldController.willPlayDoubleCutyPetAction=function(a){GameWorldFgController.willPlayDoubleCutyPetAction(a)};
GameWorldController.createTutorialMask=function(a,c,d,e){};GameWorldController.getPositionInLogic=function(a,c){};
GameWorldController.addCombo=function(a){3<=a&&(this.nodeCombo.setVisible(!0),this.nodeCombo.setScale(1),this.labelCombo.setString("x"+a),this.spriteCombo.stopAllActions(),this.spriteCombo.setScale(1),this.spriteCombo.runAction(cc.sequence(cc.scaleTo(0.06,1.5),cc.scaleTo(0.5,1).easing(cc.easeBounceOut()))),this.partCombo.resetSystem(),this.spriteComboShadow.setOpacity(90),this.spriteComboShadow.setScale(1.5),this.spriteComboShadow.runAction(cc.scaleTo(0.5,3)),this.spriteComboShadow.runAction(cc.fadeTo(0.5,
0)));for(var c=comboConfig.length;1<=c;c--)if(a>=comboConfig[c-1]){TileBoardMap.playEffect(this.curTileView,c);break}this.curComboCount=a};GameWorldController.playBombEffect=function(a){};GameWorldController.playPassLevelEffect=function(){this.curTileLogic.curGameModeType==GameModeType.kKitchenGod?KitchenGodGameTargetController.playPassLevelEffect():GameWorldTargetController.playPassLevelEffect();GameWinTipController.show()};
GameWorldController.showEliminateAdvise=function(a,c){if(GameTutorialHelper.isGuiding())return this.aniHand.setVisible(!1),!1;this.aniHand.setVisible(a);if(c){var d=this.curTileLogic.getGameItemPosInView(c.r,c.c);this.aniHand.setPosition(d.x,d.y);d.x>0.85*display.width?this.aniHand.setBoneX("bg",-70):this.aniHand.setBoneX("bg",90)}return!0};GameWorldController.setPropTouchEnable=function(a){};
GameWorldController.setMoveCount=function(a,c,d){this.curTileLogic.curGameModeType==GameModeType.kKitchenGod?KitchenGodGameUIController.setMoveCount(a,c,d):GameWorldUIController.setMoveCount(a,c,d)};GameWorldController.setRound=function(a){KitchenGodGameUIController.setRound(a)};GameWorldController.setFreeClickTime=function(a){this.curTileLogic.curGameModeType!=GameModeType.kKitchenGod&&GameWorldUIController.setFreeClickTime(a)};
GameWorldController.resetOrderList=function(a){this.curTileLogic.curGameModeType==GameModeType.kKitchenGod?KitchenGodGameTargetController.resetOrderList(a):GameWorldTargetController.resetOrderList(a)};GameWorldController.kitchenGodNextRound=function(a){KitchenGodGameTargetController.kitchenGodNextRound(a)};GameWorldController.getTargetUiPos=function(){return this.curTileLogic.curGameModeType==GameModeType.kKitchenGod?KitchenGodGameTargetController.getTargetWorldPosition():GameWorldTargetController.getTargetWorldPosition()};
GameWorldController.setGameTargetNumber=function(a,c,d){this.curTileLogic.curGameModeType==GameModeType.kKitchenGod?KitchenGodGameTargetController.setNumber(a,c,d):GameWorldTargetController.setNumber(a,c,d)};GameWorldController.addScore=function(a,c){this.curTileLogic.curGameModeType!=GameModeType.kKitchenGod&&GameWorldUIController.addScore(a,c)};GameWorldController.setBtnPauseEnable=function(a){GameWorldUIController.btnPause.setEnabled(a)};
GameWorldController.getStepUiPos=function(){return this.curTileLogic.curGameModeType==GameModeType.kKitchenGod?KitchenGodGameUIController.getStepUiPos():GameWorldUIController.getStepUiPos()};GameWorldController.getBuffUiPos=function(){return this.curTileLogic.curGameModeType==GameModeType.kKitchenGod?KitchenGodGameUIController.getBuffUiPos():ccp(0,0)};GameWorldController.updateBuff=function(a){if(this.curTileLogic.curGameModeType==GameModeType.kKitchenGod)return KitchenGodGameUIController.updateBuff(a)};
GameWorldController.showAddFiveTip=function(a,c,d,e,f){a=function(a){a?(f(!0),notification.postEvent("event.ui.update")):f(!1)};this.param.closeProp?a(!1):AddFiveDialogController.show({levelId:this.param.level,listener:a,bAutoPopup:!0})};
GameWorldController.postRemoteNotify=function(a,c,d){var e={score:6,level:7},f=UserManager.getPlayerId();if(a==c){c=[];for(var g=UserManager.getFriendIds(),h=1;h<=g.length;++h){var m=g[h-1];if(m!=f){var n=CacheHelper.getUserInfo(m);n&&n.topLevelId==a&&table.insert(c,m)}}0<c.length&&HttpHelper.notifyReq(this,e.level,c,a,null)}c=[];g=CacheHelper.getFriendLevelScoreCached(a);for(h=1;h<=g.length;++h)m=g[h-1],f!=m.playerId&&m.score<d&&table.insert(c,m.playerId);0<c.length&&HttpHelper.notifyReq(this,e.score,
c,a,null)};
GameWorldController.passGame=function(a,c,d,e,f,g,h,m){if(!XCXManager.logicMiniGameUser()){g=0;UserManager.getPetBonus()&&(g=UserManager.getPetBonus()[0]);var n=0;UserManager.scoreDict[a]&&(n=UserManager.scoreDict[a].star);var r=c;c=Math.round(c*(1+g));var s=d;d=LevelMapManager.getInstance().getLevelTargetStarByScore(a,c);g=UserManager.getPetExpInfo();var t=this,u=g[0],w=g[1],z=g[2];UserManager.getTopLevelFailCount();var A=UserManager.getTopLevel(),B=this.param.roomId,C=this.curTileLogic.recordData.maxCombo,E=
function(e,f){var g=f.rank||0,h=0,m=!1;if(0!=g){var E=MetaHelper.getWorldRankBadge(CacheHelper.getMyLevelWorldRank(a)),h=MetaHelper.getWorldRankBadge(g)-E;0<h&&0!=E&&A!=a&&(m=!0);CacheHelper.myLevelWorldRankDic[a]=g}"tutorial"==t.param.cause?t.playEndTutorial():(g={level:a,score:c,srcScore:r,star:d,srcStar:s,lastPetLevel:u,lastPetExp:w,lastPetNextLevelExp:z,rewards:f,isClear:!0,worldRankInGame:g,deltaMeta:h,rank:g,bNewMetalGet:m,friendInfos:f.friendList,bNewStarGet:d>n,maxCombo:C,roomId:B},B?(TimeLevelClearController.show(g),
notification.postEvent("event.game.timeLevel")):(notification.postEvent("event.game.levelPassCount"),GameClearController.showLoading(g),CacheHelper.clearLevelFailedTimes(a),notification.postEvent("event.game.passGame",{level:a,lastTopLevel:A,score:c,leftMove:t.curTileLogic.leftMoveToWin,move:t.curTileLogic.realCostMove,star:d})))};GameWorldTargetController.checkEndStory(function(){var g=t.getState(),h=g[1],n=g[2],r=g[3],s=g[4],g=g[6],u=CacheHelper.getCurLvPlayerFriendRank(h,a),u={stepLeft:s,friendRankInGame:u};
TencentSdkManager.isOpen()?(u.imei=TencentSdkManager.DeviceInfo.qimei,u.wechatVersion=TencentSdkManager.DeviceInfo.QQVersion):u.wechatVersion=XCXManager.version;f=JSON.stringify(u);u=t.getFriendIdsBehindMe(a,c);HttpHelper.overLevel(t,a,c,d,e,f,E,B,m,u);B||HttpHelper.heartBeat();DcHelper.overLevel(a,!1,!0,s,h,n,r,g)});notification.postEvent("event.ui.addTaskValue",{taskType:TaskType.TaskType_Pass_Level,subType:a,curValue:d});notification.postEvent("event.ui.addTaskValue",{taskType:TaskType.TaskType_Level_Star,
subType:a,curValue:d});this.curTileLogic.notifiTask()}};GameWorldController.getFriendIdsBehindMe=function(a,c,d){var e=CacheHelper.levelFriends[a];a=[];d=d&&3<d?d:3;var f={},g;for(g in e){if(a.length>=d)break;var h=e[g];h.playerId!=UserManager.getPlayerId()&&h.score<=c?a[a.length]=h.playerId:f[h.playerId]=!0}g=0;c=UserManager.getFriendIds();for(e=table.listToMap(a);a.length<d&&g<c.length;)e[c[g]]||f[c[g]]||(e[c[g]]=!0,a[a.length]=c[g]),++g;return a};
GameWorldController.passPopcorn=function(a,c,d,e,f,g,h){function m(){var a={};a.star=d;a.score=c;a.srcScore=n;PopcornHelper.setChallengeScore(c,d);PopcornChallengeClearDialogController.show(a)}a=PopcornHelper.getChallengeData();var n=c;e=UserManager.getPetBonus()[0];c=math.round(c*(1+e));for(e=d=0;e<a.stars.length;++e)c>=a.stars[e]&&(d+=1);a.mode!=PopcornHelper.CHALLENGE_MODE.Friend?m():3==d?m():PopcornChallengeFailedDialogController.show({reason:"star"});GameWorldTargetController.endGame(!0)};
GameWorldController.failGame=function(a,c,d,e,f,g,h,m){if(!XCXManager.logicMiniGameUser()){f=UserManager.getPetBonus()[0];c=Math.round(c*(1+f));var n=this,r=this.param.roomId;f=this.getState();d=f[0];g=f[1];h=f[2];var s=f[3],t=f[6];f={stepLeft:d};TencentSdkManager.isOpen()?(f.imei=TencentSdkManager.DeviceInfo.qimei,f.wechatVersion=TencentSdkManager.DeviceInfo.QQVersion):f.wechatVersion=XCXManager.version;f=JSON.stringify(f);HttpHelper.overLevel(this,a,c,0,e,f,function(d,e){"tutorial"==n.param.cause?
n.playEndTutorial():(GameFailedController.show({level:a,score:c,rewards:e,roomId:r}),CacheHelper.addLevelFailedTimes(a))},r,m);HttpHelper.heartBeat();DcHelper.overLevel(a,!1,!1,d,g,h,s,t);this.curTileLogic.notifiTask()}};GameWorldController.failPopcorn=function(a,c,d,e,f,g,h){a=UserManager.getPetBonus();c=Math.round(c*(1+a));PopcornHelper.setChallengeScore(c,d);PopcornChallengeFailedDialogController.show();GameWorldTargetController.endGame(!1)};
GameWorldController.passKichenGodGame=function(a,c,d,e,f,g){var h=UserManager.getPetBonus()[0],m=Math.round((1+h)*c),n=UserManager.getMainPetId();HttpHelper.sendOverKitchenGod(this,a,m,d,e,n,function(){KitchenGodController.setGameResult(d,e,m,n);KitchenGodPassController.show({level:a,score:c,star:d,honey:e,leftStep:f,isSuccess:g})})};
GameWorldController.playEndTutorial=function(){var a=GameDirector.getRunningScene();a.ignoreAnchorPointForPosition(!1);a.setAnchorPoint(ccp(0.5,0.85));a.setPosition(0.5*display.width,0.85*display.height);a.runAction(cc.scaleTo(0.5,3));a.runAction(CETreeTintTo.create(0.5,0,0,0));this.performDelay(function(){SceneHelper.jumpToScene("GameEndStory","fade",{level:this.param.level},!0,0.3)},0.5)};GameWorldController.exchangeColor=function(a,c,d){GameWorldFgController.exchangeColor(a,c,d)};
GameWorldController.canNotExchangeColor=function(){GameWorldFgController.canNotExchangeColor()};GameWorldController.runRefreshAction=function(a){GameWorldFgController.runRefreshAction(a)};GameWorldController.getTileLogic=function(){return this.curTileLogic};
GameWorldController.playPrePropAnimation=function(a){var c=this.param.propIds;if(1>c.length)a();else{var d=0,e=this,f=function(){d+=1;if(d>c.length)a();else{var g=c[d-1],h=PropMetaManager.getInstance().getPropType(g);h==PropType.AddStep?e.playPrePropAddStepAnim(g,f):h==PropType.RandomEffect&&e.playPrePropEffectAnim(g,f)}};scheduler.performWithDelayGlobal(f,0)}};
GameWorldController.playPrePropAddStepAnim=function(a,c){var d=PropMetaManager.getInstance().getPropValue(a),e=this;PrefixPropAni.playAddMoveAnimation(this.curTileLogic,d,function(){c();e.curTileLogic.preGameProp(a)})};GameWorldController.playPrePropEffectAnim=function(a,c){var d=this;this.curTileLogic.preGameProp(a,function(a,f,g){PrefixPropAni.playChangePropAnimation(d.curTileLogic,a,f,function(){c();g()})})};
GameWorldController.useCurrentProp=function(a,c){GameWorldPropController.onUsePropConfirm(this.curTileView.gamePropsId,function(){c&&c()})};GameWorldController.usePropCancelled=function(){notification.postEvent("event.ui.hideUsePropMask")};GameWorldFgController=createController("GameWorldFgController");GameWorldFgController.holdFruitScale=1.13;GameWorldFgController.onViewCreate=function(){return loadccbCheckAd(GetAssetsPath("GameWorldFg.ccbi"),this)};GameWorldFgController.onViewOpen=function(){this.registerEvent("event.ui.showUsePropMask");this.registerEvent("event.ui.hideUsePropMask");this.reset()};GameWorldFgController.onViewClose=function(){this.tileFruit&&this.tileFruit.dispose();this.tileCutyPet&&this.tileCutyPet.dispose()};
GameWorldFgController.onEvents=function(a,c){"event.ui.showUsePropMask"==a?this.showUsePropMask(c.propIdx):"event.ui.hideUsePropMask"==a&&this.hideUsePropMask()};GameWorldFgController.showUsePropMask=function(a){4!=a&&this.layer.runAction(CETreeTintTo.create(0.2,80,80,80))};GameWorldFgController.hideUsePropMask=function(){this.layer.runAction(CETreeTintTo.create(0.2,255,255,255))};
GameWorldFgController.reset=function(){this.tileLogic=GameWorldController.curTileLogic;this.data=TileItemData.create();this.data.tileItemType=TileItemType.kFruit;this.data.fruitColorType=this.randomColor(!0);this.data.fruitSpecialType=0;this.data.boardSpType=0;this.data.isUsed=!0;this.tileCutyPet=this.tileFruit=null;10>this.param.level&&this.spriteCooker.setScale(1.25);this.tileLogic.selectedHoldFruit(this.data);this.updateFruit();0==this.data.fruitColorType&&this.tileLogic.setGamePlayStatus(TileGameStatus.kFailed)};
GameWorldFgController.randomColor=function(a){var c=this,d=function(a){for(var d=0;d<c.tileLogic.tileItemMap.length;++d)for(var e=0;e<c.tileLogic.tileItemMap[d].length;++e)if(ItemExchangeLogic.canBeExchangeQuick(c.tileLogic,d,e,a))return!1;return!0};this.getBoardColors();var e=this.colors[this.tileLogic.randomNum(0,this.colors.length)];if(a)for(;d(e);){table.removeValue(this.colors,e);if(0==this.colors.length)return 0;e=this.colors[this.tileLogic.randomNum(0,this.colors.length)]}return e};
GameWorldFgController.getBoardColors=function(){this.colors=[];for(var a=0;9>a;++a)for(var c=0;9>c;++c){var d=this.tileLogic.getColorOfGameItem(a,c);0<d&&!table.includes(this.colors,d)&&table.insert(this.colors,d)}};GameWorldFgController.createFruit=function(a,c,d,e){a=TileView.create().buildNewFruitItem(a,c,null,null,e,!0);c=null;d&&0<d&&(c=TileCutyPet.create());return[a,c]};
GameWorldFgController.updateFruit=function(){this.updateFruitHold(this.data.fruitColorType,this.data.fruitSpecialType,this.data.boardSpType,this.data.fruitCondiment)};
GameWorldFgController.updateFruitHold=function(a,c,d,e){this.tileFruit&&this.tileFruit.dispose();this.tileCutyPet&&this.tileCutyPet.dispose();a=this.createFruit(a,c,d,e);this.tileFruit=a[0];this.tileCutyPet=a[1];this.nodeHold.removeAllChildrenWithCleanup(!0);this.tileCutyPet&&(this.tileCutyPet.setScale(this.holdFruitScale),this.tileCutyPet.setPosition(ccp(0,0)),this.tileCutyPet.refObject&&this.nodeHold.addChild(this.tileCutyPet.refObject));this.tileFruit&&(this.tileFruit.setPosition(ccp(0,0)),this.tileFruit.setScale(this.holdFruitScale),
this.tileFruit.refObject&&this.nodeHold.addChild(this.tileFruit.refObject))};
GameWorldFgController.exchangeColor=function(a,c,d){var e=this.data.copy();this.data=a.copy();this.tileLogic.selectedHoldFruit(this.data);if(d)this.updateFruit();else{this.spriteCooker.runAction(cc.sequence(cc.moveBy(0.1,ccp(0,10)),cc.moveBy(0.1,ccp(0,-10))));a.time=0.33;a=0<a.fruitSpecialType?GameWorldPropController.getWorldPositionByType(a.fruitSpecialType):this.tileLogic.getGameItemPosInView(a.y,a.x);var f=this.nodeHold.convertToNodeSpace(a),g=this,h=function(){g.exchangeAction=!1;g.nodeHoldTemp.removeAllChildrenWithCleanup(!0);
c&&c()};d=function(a){a.setPosition(ccp(0,0));var c=[];c.push(cc.moveTo(0.33,f));c.push(cc.callFunc(h));a.runAction(cc.sequence(c))};a=this.createFruit(e.fruitColorType,e.fruitSpecialType,e.boardSpType);e=a[0];if(a=a[1])a.refObject&&this.nodeHoldTemp.addChild(a.refObject),d(a);e.refObject&&this.nodeHoldTemp.addChild(e.refObject);d(e);this.updateFruit();a=function(a){a.setPosition(f);a.setVisible(!0);var c=[];c[0]=f;c[1]=ccp(0.5*g.nodeHoldTemp.getContentWidth(),f.y+200);c[2]=ccp(0,0);c=cc.bezierTo(0.6,
c);a.runAction(c);a.runAction(cc.sequence(cc.scaleTo(0.3,1.25*g.holdFruitScale),cc.scaleTo(0.3,g.holdFruitScale)))};this.tileFruit.setVisible(!1);this.tileFruit.runAction(cc.sequence(cc.delayTime(0.33),cc.callFunc(a)));this.tileCutyPet&&(this.tileCutyPet.setVisible(!1),this.tileCutyPet.runAction(cc.sequence(cc.delayTime(0.33),cc.callFunc(a))));this.exchangeAction=!0}};GameWorldFgController.willPlayDoubleCutyPetAction=function(a){GameCriticalHitController.show(a)};
GameWorldFgController.canNotExchangeColor=function(){if(!this.exchangeAction){this.spriteCooker.runAction(cc.sequence(cc.moveBy(0.1,ccp(0,5)),cc.moveBy(0.1,ccp(0,-5))));var a=function(a){a.setPosition(ccp(0,0));var d=cc.moveTo(0.1,ccp(10,40)),e=cc.moveTo(0.1,ccp(0,0));a.runAction(cc.sequence(d,e))};a(this.tileFruit);this.tileCutyPet&&a(this.tileCutyPet);GameMusicManager.playEffect(GameMusicType.kSwapFun)}};
GameWorldFgController.runRefreshAction=function(a){var c=this.randomColor(!0),d=this,e=8;this.registerUpdate("refresh",function(){e-=1;if(0>=e)d.unregisterUpdate("refresh"),d.data.fruitColorType=c,d.updateFruit(),a(d.data);else{var f=Math.random2(1,7);d.updateFruitHold(f)}},0.05)};GameWorldFgController.playComboEndEffect=function(a){};GameWorldTargetController=createController("GameWorldTargetController");var npcStageOrder=2,catTutorialLevel=4,waitingPosX=1.1*display.width,waitingPosY=-50,waitingScale=0.95;GameWorldTargetController.onViewCreate=function(){return loadccbCheckAd(GetAssetsPath("GameWorldTarget.ccbi"),this)};GameWorldTargetController.onViewOpen=function(){waitingPosX=1.1*display.width;this.layer.setZOrder(-9);this.registerEvent("event.ui.showUsePropMask");this.registerEvent("event.ui.hideUsePropMask");this.reset()};
GameWorldTargetController.onEvents=function(a,c){"event.ui.showUsePropMask"==a?this.showUsePropMask():"event.ui.hideUsePropMask"==a&&this.hideUsePropMask()};GameWorldTargetController.hidePet=function(a){};
GameWorldTargetController.reset=function(){this.targets=[];this.targetsShowCount=0;this.tileLogic=GameWorldController.curTileLogic;this.nodeNpcWatingHolder=[];this.nodeNpcCookingHolder=[];this.lastNpcExitStageTimeList=[0,0,0];this.isAllNpcAnimatedEnter=!1;this.soundIndex=0;this.initData();this.initTargetTip();this.playAllNpcEnterEffect();var a=UserManager.getMainPetId();this.skelPet.reloadWithCache(GetAssetsPath("anim"+a+".json"));this.skelPet.setAnimation(0,"stand",!0);PetHelper.setPetEquipByPetID(this.skelPet,
a)};
GameWorldTargetController.initData=function(){var a=this.param.level;this.modeType=LevelMapManager.getInstance().getLevelGameMode(a);if(this.modeType==GameModeType.kBearGoHome){var c=this.tileLogic.bearGoHomeTotal;this.addTargetData(0,0,c,this.getOneFrame(),!0)}else if(this.modeType==GameModeType.kHoney)c=this.tileLogic.kHoneyLeftCount,this.addTargetData(0,0,c,this.getOneFrame(),!0);else if(this.modeType==GameModeType.kFindBear)c=this.tileLogic.kFindBearTotal,this.addTargetData(0,0,c,this.getOneFrame(),!0);
else if(this.modeType==GameModeType.kBaldStrong)c=this.tileLogic.kBaldStrongLeftCount,this.addTargetData(0,0,c,this.getOneFrame(),!0);else if(this.modeType==GameModeType.kOrder)for(c in this.tileLogic.theOrderList)a=this.tileLogic.theOrderList[c],this.addTargetData(a.key1,a.key2,a.v1,this.getOneFrame(a.key1+"_"+a.key2,a.key3),a.active,a.data,a.key3);else this.modeType==GameModeType.kClayMode&&this.addTargetData(0,0,1,this.getOneFrame(),!0);this.targetsShowCount=this.targets.length};
GameWorldTargetController.initTargetTip=function(){if(!(0>=this.targets.length)){var a=0,c=!1,d=!1;if(this.isTimeLevel())for(var e=null,f=1;f<=this.targets.length;++f)m=this.targets[f-1],g={},h=loadccb(GetAssetsPath("GameNpcItem.ccbi"),g,this),n=m.id,g.targetId=n,g.moveType="hedgehog",e?g.skelNpc=e:(g.skelNpc.reloadWithCache(GetAssetsPath("customer_10.json")),g.skelNpc.setMix("stand","eat",0.3),g.skelNpc.setMix("eat","stand",0.3),g.skelNpc.setMix("stand","happy",0.3),g.skelNpc.setMix("happy","stand",
0.3),g.skelNpc.setMix("eat","jump",0.3),g.skelNpc.setMix("jump","move",0.3),g.skelNpc.setMix("move","stand",0.3),g.skelNpc.setMix("eat","takeoff",0.3),e=g.skelNpc),h.setVisible(!1),h.setZOrder(-1),this.nodeNpcs.addChild(h),g.layer=h,table.insert(this.nodeNpcWatingHolder,g);else if(this.param.level==catTutorialLevel||this.modeType==GameModeType.kBaldStrong){f=20001;this.modeType==GameModeType.kBaldStrong&&(f=PopcornHelper.getChallengeData().petId||UserManager.getMainPetId());var g={},h=loadccb(GetAssetsPath("GameNpcItem.ccbi"),
g,this);g.targetId=0;g.moveType="rabbit";g.skelNpc.reloadWithSkelFile(GetAssetsPath("anim"+f+".json"),null,0.7);PetHelper.clearPetEquip(g.skelNpc);h.setVisible(!1);h.setZOrder(-1);this.nodeNpcs.addChild(h);this.npcHolder=g;g.layer=h;table.insert(this.nodeNpcWatingHolder,g);a=1;this.modeType==GameModeType.kBaldStrong&&(PetHelper.setPetEquipByPetID(g.skelNpc,f),this.skelPet.setVisible(!1))}else if(this.modeType==GameModeType.kBearGoHome)g={},h=loadccb(GetAssetsPath("GameNpcItem.ccbi"),g,this),g.targetId=
8,g.moveType="monkey",g.skelNpc.reloadWithCache(GetAssetsPath("customer_8.json")),h.setVisible(!1),h.setZOrder(-1),this.nodeNpcs.addChild(h),g.layer=h,table.insert(this.nodeNpcWatingHolder,g);else{var e=null,f;for(f in this.targets){var m=this.targets[f],g={},h=loadccb(GetAssetsPath("GameNpcItem.ccbi"),g,this);h.setZOrder(-1);var n=m.id;g.targetId=n;1==m.type?(g.moveType="rabbit",a+=1):4==m.type?6==n?(g.moveType="box",h.setZOrder(npcStageOrder),a+=1):7==n?g.moveType="godBear":(g.moveType="penguin",
h.setZOrder(npcStageOrder)):5==m.type?(g.moveType="rabbit",c=g.hidePlate=!0):g.moveType="rabbit";"penguin"==g.moveType?(g.targetId=7,e?g.skelNpc=e:(g.skelNpc.reloadWithCache(GetAssetsPath("customer_7.json")),e=g.skelNpc,d=!0)):"box"==g.moveType?g.skelNpc.reloadWithCache(GetAssetsPath("customer_11.json")):"godBear"==g.moveType?(g.targetId=9,e?g.skelNpc=e:(g.skelNpc.reloadWithCache(GetAssetsPath("customer_9.json")),g.skelNpc.setMix("stand","elements",0.3),g.skelNpc.setMix("stand","strawberry",0.3),
g.skelNpc.setMix("stand","tin",0.3),g.skelNpc.setMix("stand","ice",0.3),g.skelNpc.setMix("stand","move",0.3),g.skelNpc.setMix("stand","move_",0.3),g.skelNpc.setMix("elements","stand",0.3),g.skelNpc.setMix("tin","stand",0.3),g.skelNpc.setMix("elements","move_",0.3),g.skelNpc.setMix("strawberry","move_",0.3),g.skelNpc.setMix("tin","move_",0.3),g.skelNpc.setMix("ice","move_",0.3),g.skelNpc.setMix("move","stand",0.3),g.skelNpc.setMix("move_","stand",0.3),g.skelNpc.setMix("honey","stand",0.3),bearSingleHolder=
g.skelNpc)):(g.skelNpc.reloadWithCache(GetAssetsPath("customer_"+n+".json")),g.skelNpc.setMix("stand","eat",0.3),g.skelNpc.setMix("eat","stand",0.3),g.skelNpc.setMix("stand","happy",0.3),g.skelNpc.setMix("happy","stand",0.3),g.skelNpc.setMix("eat","jump",0.3),g.skelNpc.setMix("jump","move",0.3),g.skelNpc.setMix("move","stand",0.3),g.skelNpc.setMix("eat","takeoff",0.3));h.setVisible(!1);this.nodeNpcs.addChild(h);g.layer=h;table.insert(this.nodeNpcWatingHolder,g)}}c?GameWorldUIController.send("setTargetMode",
"gift"):0>=a&&GameWorldUIController.send("setTargetMode","hide");!this.isTimeLevel()&&d&&this.spriteSceneBg.setDisplayFrameFile(GetAssetsPath("bg_scene_up2.jpg"))}};
GameWorldTargetController.playAllNpcEnterEffect=function(){var a=this.nodeNpcWatingHolder[0];!a||this.param.level==catTutorialLevel||"rabbit"!=a.moveType&&"monkey"!=a.moveType||(this.isAllNpcAnimatedEnter=!0);for(a=1;a<=this.nodeNpcWatingHolder.length;++a){var c=this.nodeNpcWatingHolder[a-1];c.layer.setPosition(waitingPosX*(0.8+0.2*a),waitingPosY);c.layer.setScale(waitingScale);c.spriteTip.setVisible(!1)}c=this.tileLogic.theOrderLimit;for(a=0;a<c;++a){var d=this.findEmptyStageIdx();0<=d&&this.targets[a]&&
this.npcEnterStage(a,d,this.isAllNpcAnimatedEnter)}var e=this;if(this.isAllNpcAnimatedEnter){var f=0.3*display.width;this.nodeGrass.setPositionX(-f);this.spriteWood.setPositionX(-f);this.performDelay(function(){e.nodeGrass.runAction(cc.moveBy(2,ccp(f,0)));e.spriteWood.runAction(cc.moveBy(2,ccp(f,0)))},1);GameWorldUIController.send("showTargetUI",!1);this.performDelay(function(){GameWorldUIController.showTargetUI(!0)},3.5)}else GameWorldUIController.send("showTargetUI",!0)};
GameWorldTargetController.getAllTargetCount=function(){if(this.isTimeLevel()||this.modeType==GameModeType.kBearGoHome)return 1;for(var a in this.targets){var c=this.targets[a],d=c.id;if(4==c.type&&6!=d)return 1}return this.targets.length};GameWorldTargetController.findEmptyStageIdx=function(){for(var a=this.tileLogic.theOrderLimit,c=0;c<a;c++)if(null==this.nodeNpcCookingHolder[c])return c;return-1};
GameWorldTargetController.findEmptyStageIdxList=function(){for(var a=[],c=this.tileLogic.theOrderLimit,d=0;d<c;++d)null==this.nodeNpcCookingHolder[d]&&table.insert(a,d);return a};GameWorldTargetController.findStageIdxByTargetIdx=function(a){for(var c=this.tileLogic.theOrderLimit,d=0;d<c;++d)if(this.nodeNpcCookingHolder[d]&&this.nodeNpcCookingHolder[d].targetIdx==a)return d;return-1};
GameWorldTargetController.getCurrentUseStageCount=function(){for(var a=0,c=this.tileLogic.theOrderLimit,d=0;d<=c;++d)this.nodeNpcCookingHolder[d]&&(a+=1);return a};GameWorldTargetController.getNpcPosByStageIdx=function(a){a=(a||0)+1;var c=this.tileLogic.theOrderLimit,d=display.width/720;return 1==c?360*d:2==c?(335+150*(a-1))*d:(310+150*(a-1))*d};
GameWorldTargetController.playNpcExitEffect=function(a,c,d){this.getTargetWorldPosition(d);var e=this,f=this.getCurrentUseStageCount();c.skelNpc.setAnimation(0,"eat",!1);"hedgehog"==c.moveType&&0<c.targetId&&c.skelNpc.setAttachment("apple2","fruit_"+c.targetId);this.performDelay(function(){"penguin"==c.moveType||"hedgehog"==c.moveType&&1<f?(c.spriteTip.runAction(cc.scaleTo(0.1,0)),e.targetsShowCount-=1):(c.spriteTip.runAction(cc.scaleTo(0.1,0)),4==a.type&&7==a.id?c.skelNpc.setAnimation(0,"stand",
!0):c.skelNpc.setAnimation(0,"jump",!1),e.performDelay(function(){GameWorldUIController.getTargetUiPos();"box"==c.moveType?(c.layer.stopAllActions(),c.skelNpc.runAction(cc.sequence(cc.scaleTo(0.2,0).easing(cc.easeBackIn()),cc.hide()))):("godBear"!=c.moveType&&"penguin"!=c.moveType&&"monkey"!=c.moveType&&6!=c.targetId&&(c.layer.stopAllActions(),c.layer.runAction(cc.moveBy(0.2,ccp(0,waitingPosY))),c.layer.setZOrder(-2),c.layer.runAction(cc.scaleTo(0.2,waitingScale))),e.performDelay(function(){c.spriteTip.setVisible(!1);
"godBear"==c.moveType?(c.layer.setZOrder(-1),c.skelNpc.setAnimation(0,"move_",!1)):(c.skelNpc.setAnimation(0,"move",!0),c.skelNpc.setScaleX(-c.skelNpc.getScaleX()),c.skelNpc.runAction(cc.sequence(cc.moveBy(3,ccp(720,0)),cc.hide())));e.targetsShowCount-=1;GameWorldUIController.setTargetCount(e.targetsShowCount)},0.3))},0.3))},2.5)};
GameWorldTargetController.playNpcEnterEffect=function(a,c,d){var e=this;a.layer.runAction(cc.sequence(cc.delayTime(0.5),cc.callFunc(function(){a.skelNpc.setAnimation(0,"move",!0);var f=a.layer.getPosition(),g=f.x,f=f.y;a.layer.stopAllActions();6==a.targetId&&(5==d.type?f+=40:1==d.type&&(f+=40));var h=e.getNpcPosByStageIdx(c),g="monkey"==a.moveType?1.76:3.6*Math.abs(g-h)/display.width;a.layer.runAction(cc.sequence(cc.moveTo(g,ccp(h,f)),cc.callFunc(function(){a.skelNpc.setAnimation(0,"monkey"==a.moveType?
"stand":"jump",!1);6==d.id?a.layer.runAction(cc.sequence(cc.scaleTo(0.4,1),cc.reZorder(npcStageOrder))):a.layer.runAction(cc.scaleTo(0.4,1));var c;c=5==d.type&&"rabbit"==a.moveType?6!=a.targetId?cc.moveBy(0.4,ccp(0,35)):cc.moveBy(0.4,ccp(0,0)):6!=a.targetId?cc.moveBy(0.4,ccp(0,50)):cc.moveBy(0.4,ccp(0,0));a.layer.runAction(cc.sequence(c,cc.callFunc(function(){GameWorldTargetController.changeNpcHolder(a);a.spriteGoal.setScale(0.8);a.spriteTip.setVisible(!0);EffectHelper.jellyMoveSlow(a.spriteTip,ccp(0,
1.5),2,0);var c=a.spriteTip.getScale();a.spriteTip.setScale(0);a.spriteTip.runAction(cc.scaleTo(0.2,c).easing(cc.easeBackOut()));a.skelNpc.addAnimation(0,"stand",!0)})))})))})))};GameWorldTargetController.npcExitStage=function(a){var c=this.targets[a];c.status="exit";a=this.findStageIdxByTargetIdx(a);var d=this.nodeNpcCookingHolder[a];this.param.level!=catTutorialLevel&&this.modeType!=GameModeType.kBaldStrong&&this.playNpcExitEffect(c,d,a);this.nodeNpcCookingHolder[a]=null};
GameWorldTargetController.nextNpcEnterStage=function(a){for(var c=-1,d=0;d<this.targets.length;++d)if("waiting"==this.targets[d].status){c=d;break}0<=c&&this.npcEnterStage(c,a,!0)};
GameWorldTargetController.npcEnterStage=function(a,c,d){var e=this.targets.length,f=this.targets[a];f.status="cooking";var g=table.remove(this.nodeNpcWatingHolder,0);if(g){this.nodeNpcCookingHolder[c]=g;g.targetIdx=a;g.layer.stopAllActions();g.layer.setVisible(!0);g.spriteGoal.setDisplayFrameName(f.frame);f.shape&&(a=TileClay.getColor(f.id),a=this.buildTargetShapeNode(f.frame,f.shape,a),a.setPosition(46,54),g.spriteGoal.getParent().addChild(a),g.spriteGoal.setVisible(!1));g.labelCount.setString(tostring(f.amount));
a=g.moveType;if(d)this.playNpcEnterEffect(g,c,f);else if(g.layer.setScale(1),g.layer.setPosition(this.getNpcPosByStageIdx(c),0),GameWorldTargetController.changeNpcHolder(g),g.spriteTip.setVisible(!0),g.spriteGoal.setScale(0.8),g.skelNpc.setAnimation(0,"stand",!0),"penguin"==a||"monkey"==a||"godBear"==a||"hedgehog"==a)g.layer.setPosition(0.5*this.nodeNpcs.getContentWidth(),0),"monkey"==g.moveType?g.layer.setPosition(0.5*this.nodeNpcs.getContentWidth(),-10):"godBear"==g.moveType&&g.layer.setPosition(0.5*
this.nodeNpcs.getContentWidth(),7),2==e?(g.spriteTip.setPositionX(g.spriteTip.getPositionX()+110*(1.5-c-1)),g.spriteTip.setScale(0.9*g.spriteTip.getScale())):3==e&&(g.spriteTip.setPositionX(g.spriteTip.getPositionX()+110*(2-c-1)),2==c&&g.spriteTip.setFlipX(!0),1!=c&&g.spriteTip.setScale(0.85*g.spriteTip.getScale()));notification.postEvent("event.ui.customerEnter",a)}var h=this.nodeNpcWatingHolder[0];h&&(h.layer.setVisible(!1),h.layer.setZOrder(-2),h.spriteTip.setVisible(!1),h.skelNpc.setAnimation(0,
"move",!0),h.layer.runAction(cc.sequence(cc.moveTo(2,ccp(waitingPosX,waitingPosY)),cc.callFunc(function(){h.skelNpc.setAnimation(0,"stand",!0)}))))};
GameWorldTargetController.changeNpcHolder=function(a){if(!this.isTimeLevel()){var c={1:function(a){a.spriteTip.setPositionX(a.spriteTip.getPositionX()-5);a.spriteTip.setPositionY(a.spriteTip.getPositionY()-5)},2:function(a){a.spriteTip.setPositionX(a.spriteTip.getPositionX()-5);a.spriteTip.setPositionY(a.spriteTip.getPositionY()-10)},3:function(a){a.spriteTip.setPositionY(a.spriteTip.getPositionY()-30);a.spriteTip.setPositionX(a.spriteTip.getPositionX()-5)},4:function(a){a.spriteTip.setPositionX(a.spriteTip.getPositionX())},
5:function(a){a.spriteTip.setPositionX(a.spriteTip.getPositionX()-5)},6:function(a){a.spriteTip.setPositionX(a.spriteTip.getPositionX()-10);a.spriteTip.setPositionY(a.spriteTip.getPositionY()-20)},7:function(a){a.spriteTip.setPositionX(a.spriteTip.getPositionX()-50);a.spriteTip.setPositionY(a.spriteTip.getPositionY())},8:function(a){a.spriteTip.setPositionY(a.spriteTip.getPositionY()+15)},9:function(a){a.spriteTip.setPositionX(a.spriteTip.getPositionX()+30);a.spriteTip.setPositionY(a.spriteTip.getPositionY()+
5)}}[a.targetId];c&&c(a)}};GameWorldTargetController.buildTargetShapeNode=function(a,c,d){var e=cc.Node.create(),f;for(f in c){var g=c[f],h=g[0],g=g[1];0==f&&(g=h=0);var m=cc.Sprite.createWithSpriteFrameName("#"+a);m.setPosition(10*g,-10*h);m.setScale(0.15);m.setColor(d);e.addChild(m)}c=CCNodeUtils.getNodeGroupBounds(e,null);a=c.size;c=c.origin;e.setContentSize(a);e.setAnchorPoint(ccp(0.5+c.x/a.width,0.5+c.y/a.height));return e};
GameWorldTargetController.addTargetData=function(a,c,d,e,f,g,h){var m={};m.id=c;m.type=a;m.amount=d;m.frame=e;m.isOk=f;m.fruitCondiment=h||0;a!=TileItemOrderType.kGiftTarget&&(m.shape=g);m.status="waiting";table.insert(this.targets,m)};
GameWorldTargetController.getTargetFrame=function(a,c,d){var e=[];if(a==GameModeType.kOrder)for(var f in c)table.insert(e,"target_order_"+c[f].k+".png");else a==GameModeType.kBearGoHome?table.insert(e,"target_beargohome.png"):a==GameModeType.kHoney?1==LevelMapManager.getInstance().getMeta(d).gameData.honeyModeTarget?table.insert(e,"target_lawn.png"):table.insert(e,"target_lawn2.png"):a==GameModeType.kFindBear?table.insert(e,"target_peanut.png"):a==GameModeType.kBaldStrong?table.insert(e,"target_boss_baldstrong.png"):
a==GameModeType.kClayMode&&table.insert(e,"target_boss_yellowman.png");return e};GameWorldTargetController.getOneFrame=function(a,c){return this.modeType==GameModeType.kOrder?c&&0<c?"target_order_condiment_"+a+".png":"target_order_"+a+".png":this.getTargetFrame(this.modeType,null,this.param.level)[0]};GameWorldTargetController.getTargetWorldPosition=function(a){return(a=this.nodeNpcCookingHolder[a||0])?(a=a.spriteGoal.boundingBoxInWorld(),ccp(a.x+0.5*a.width,a.y+0.5*a.height)):ccp(0,0)};
GameWorldTargetController.getNpcBoundsByStageIdx=function(a){a=this.getNpcPosByStageIdx(a-1);a=this.nodeNpcs.convertToWorldSpace(ccp(a,0));return[a.x-100,a.y,200,250]};GameWorldTargetController.getTargetTipBoundsByStageIdx=function(a){return(a=this.nodeNpcCookingHolder[(a||1)-1])?(a=a.spriteTip.boundingBoxInWorld(),[a.x,a.y,a.width,a.height]):[0,0,0,0]};
GameWorldTargetController.getTargetTipBoundsByStageIdx2=function(a){a=this.getNpcPosByStageIdx(a-1);a=this.nodeNpcs.convertToWorldSpace(ccp(a,0));return[a.x,a.y+150,100,120]};
GameWorldTargetController.playFruitDestroyEffect=function(a,c,d,e){var f=this.nodeNpcCookingHolder[c],g=this.getTargetWorldPosition(c),h=cc.Sprite.createWithSpriteFrameName("#"+a.frame);GameWorldUIController.addNodeToEffectLayer(h);h.setPosition(d.x,d.y);var m=this,n=d.x>g.x&&200||-200;c=[];c[0]=ccp(d.x,d.y);c[1]=ccp(g.x+n,g.y+300);c[2]=g;d=0.7+0.2*Math.random();c=cc.bezierTo(d,c);d=cc.spawn(c,cc.scaleTo(d,0.5));h.runAction(cc.sequence(d.easing(cc.easeSineIn()),cc.callFunc(function(){h.removeFromParentAndCleanup(!0);
f.nodeGoal.setScale(1);f.nodeGoal.runAction(cc.sequence(cc.scaleTo(0.05,1.2),cc.scaleTo(0.1,1)));"penguin"==f.moveType?"stand"==f.skelNpc.getCurAnimName()&&(1==a.id?f.skelNpc.setAnimation(0,"eat_strawberry",!1):2==a.id?f.skelNpc.setAnimation(0,"eat_canned",!1):5==a.id&&f.skelNpc.setAnimation(0,"ice",!1),f.skelNpc.addAnimation(0,"stand",!0)):"monkey"==f.moveType||"box"==f.moveType?"stand"==f.skelNpc.getCurAnimName()&&(f.skelNpc.setAnimation(0,"eat",!1),f.skelNpc.addAnimation(0,"stand",!0)):"godBear"==
f.moveType?"stand"==f.skelNpc.getCurAnimName()&&(1==a.type?f.skelNpc.setAnimation(0,"elements",!1):1==a.id?f.skelNpc.setAnimation(0,"strawberry",!1):2==a.id?f.skelNpc.setAnimation(0,"tin",!1):5==a.id?f.skelNpc.setAnimation(0,"ice",!1):7==a.id&&f.skelNpc.setAnimation(0,"honey",!1),f.skelNpc.addAnimation(0,"stand",!0)):"stand"==f.skelNpc.getCurAnimName()&&(0!=f.targetId||"rabbit"!=f.moveType||m.param.level!=catTutorialLevel&&m.modeType!=GameModeType.kBaldStrong?f.skelNpc.setAnimation(0,"happy",!1):
f.skelNpc.setAnimation(0,"caress",!1),f.skelNpc.addAnimation(0,"stand",!0));var c=function(){var a=m.soundIndex%4+1,c=UserManager.getMainPetId(),a=string.format(GameMusicType.kPetMood,c,a);GameMusicManager.playEffect(a);m.soundIndex+=1};if("stand"==m.skelPet.getCurAnimName()){var d=Math.random();0.04>d?(c(),m.skelPet.setAnimation(0,"happy1",!1)):0.08>d&&(c(),m.skelPet.setAnimation(0,"caress",!1));m.skelPet.addAnimation(0,"stand",!0)}e&&e()})))};
GameWorldTargetController.setNumber=function(a,c,d){var e=this.targets[a];if(e&&0<=c&&"cooking"==e.status){var f=this.findStageIdxByTargetIdx(a);if(0<=f){var g=this.nodeNpcCookingHolder[f];g&&(g.targetAmount=c,this.playFruitDestroyEffect(e,f,d,function(){c<=g.targetAmount&&(g.labelCount.setString(tostring(c)),0==c&&(g.labelCount.setVisible(!1),g.spriteRight.setVisible(!0),GameMusicManager.playEffect(GameMusicType.kShakePlate)))}));0==c&&(e.status="finish",this.npcExitStage(a),this.lastNpcExitStageTimeList[f]=
TimeUtils.time())}}};GameWorldTargetController.resetOrderList=function(a){var c=this.findEmptyStageIdxList();if(0>=c.length)a();else{var d=0,e=this,f;for(f in c){var g=c[f],h=Math.abs(TimeUtils.time()-this.lastNpcExitStageTimeList[g]);if(2<h)this.nextNpcEnterStage(g);else{var d=d+1,m=function(){e.nextNpcEnterStage(arguments.callee.emptyStageIdx);d-=1;0>=d&&a()};m.emptyStageIdx=g;this.performDelay(m,2-h)}}0>=d&&a()}};GameWorldTargetController.isTimeLevel=function(){return this.param.roomId};
GameWorldTargetController.checkStartStory=function(a){a&&a()};GameWorldTargetController.checkEndStory=function(a){UserManager.petDict[20001]||this.param.level!=catTutorialLevel?a(-1):PetGetDialogController.show({petId:20001,listener:a,autoOpen:!0})};GameWorldTargetController.showUsePropMask=function(){this.layer.runAction(CETreeTintTo.create(0.2,80,80,80))};GameWorldTargetController.hideUsePropMask=function(){this.layer.runAction(CETreeTintTo.create(0.2,255,255,255))};
GameWorldTargetController.endGame=function(a){this.modeType==GameModeType.kBaldStrong&&(a?this.npcHolder.skelNpc.setAnimation(0,"happy1",!0):this.npcHolder.skelNpc.setAnimation(0,"fail",!0))};GameWorldTargetController.playPassLevelEffect=function(){this.skelPet.setAnimation(0,"happy2",!0)};GameWorldPropController=createController("GameWorldPropController");var Proplist={1:{propId:11002,needConfirm:!0},2:{propId:11004,needConfirm:!0},3:{propId:11003,needConfirm:!0},4:{propId:11012,needConfirm:!0},5:{propId:11001,needConfirm:!1}};GameWorldPropController.onViewCreate=function(){return loadccb(GetAssetsPath("GameWorldProp.ccbi"),this,null,null,null,["iconLock"])};
GameWorldPropController.onViewOpen=function(){this.registerEvent("event.ui.update");this.registerEvent("event.ui.addPropTutorial");this.registerEvent("event.ui.usePropFree");this.registerEvent("event.ui.showUsePropMask");this.registerEvent("event.ui.hideUsePropMask");this.registerEvent("event.ui.updataWaitingState");this.reset()};GameWorldPropController.onViewEnter=function(){this.updateUI()};GameWorldPropController.onViewClose=function(){this.useTimes=null};
GameWorldPropController.onEvents=function(a,c){"event.ui.update"==a?this.updateUI():"event.ui.showUsePropMask"==a?this.showUsePropMask(c.propIdx):"event.ui.hideUsePropMask"==a?this.hideUsePropMask(c):"event.ui.addPropTutorial"==a?this.addPropByTutorial(c.propIdx):"event.ui.usePropFree"==a?this.setPropFreeForUse(c.propIdxList):"event.ui.updataWaitingState"==a&&this.updateWaitingState()};
GameWorldPropController.reset=function(){this.aniHand.setVisible(!1);"zh_TW"==DeviceRegionLan?this.aniHand.setAttachment("click_cn","click_tw"):"zh"==DeviceLan&&this.aniHand.setAttachment("click_cn","click_cn");this.tileView=GameWorldController.curTileView;this.tileLogic=GameWorldController.curTileLogic;this.registerEvent("event.ui.update");this.tutorialPropCnt={};this.tutorialFreeUseMap={};this.unlockList={};this.updateUI();this.useTimes={};for(var a in Proplist)this.useTimes[Proplist[a].propId]=
0;this.jump={};this.lastSkelProp=null;this.lastPropIndex=0;this.propBtn5.setVisible(!1);10>this.param.level&&(this.propBtn2.setVisible(!1),this.propBtn3.setVisible(!1));17==this.param.level?this.setPropFreeForUse([2,3]):20==this.param.level?this.setPropFreeForUse([1]):this.param.closeProp&&(this.spNumBg1.setVisible(!1),this.spNumBg2.setVisible(!1),this.spNumBg3.setVisible(!1),this.spNumBg4.setVisible(!1),this.spAddBg1.setDisplayFrameName("ico_pet_lock.png"),this.spAddBg2.setDisplayFrameName("ico_pet_lock.png"),
this.spAddBg3.setDisplayFrameName("ico_pet_lock.png"),this.spAddBg4.setDisplayFrameName("ico_pet_lock.png"),this.spAddBg1.setRotation(-19),this.spAddBg2.setRotation(-19),this.spAddBg3.setRotation(-19),this.spAddBg4.setRotation(-19))};
GameWorldPropController.updateUI=function(){if(!this.param.closeProp){for(var a in Proplist){var c=Proplist[a],d=MetaHelper.propDict[c.propId],d=UserManager.getTopLevel()>=d.unlock;if(this.unlockList[a]=d){var d=UserManager.getPropCount(c.propId),e=this.tutorialPropCnt[a]||0,c=UserManager.getTimePropCount(c.propId,null,GameWorldController.startGameTs),d=d+e+c;0<d?(this["labelNum"+a].setString(99<d&&"99+"||tostring(d)),this["spAddBg"+a].setVisible(!1),this["spNumBg"+a].setVisible(!0)):(this["spAddBg"+
a].setVisible(!0),this["spNumBg"+a].setVisible(!1));this.iconLock[a-1]&&this.iconLock[a-1].setVisible(!1);this["timeMark"+a]&&this["timeMark"+a].setVisible(0<c)}else this["spAddBg"+a].setVisible(!1),this["spNumBg"+a].setVisible(!1),this["timeMark"+a]&&this["timeMark"+a].setVisible(!1)}this.updateWaitingState()}};GameWorldPropController.updateWaitingState=function(){this.unlockList[1]&&this.iconLock[0].setVisible(!ItemBombLogic.PassLevelTime_RandomBombEffect(this.tileLogic,!1))};
GameWorldPropController.playAddFiveAction=function(a){var c=this.propBtn5;a&&!this.hasPlayAddFive?(this.hasPlayAddFive=!0,c.stopAllActions(),c.setVisible(!0),c.setPosition(-128.45,0),a=[],a.push(cc.moveTo(0.17,ccp(0,0))),a.push(cc.moveTo(0.07,ccp(0,0))),c.runAction(cc.sequence(a)),a=[],a.push(cc.rotateTo(0,9.18)),a.push(cc.rotateTo(0.23,-10.74)),a.push(cc.rotateTo(0.1,9.18)),a.push(cc.rotateTo(0.1,-3.44)),a.push(cc.rotateTo(0.07,0)),a.push(cc.rotateTo(0.33,0)),a.push(cc.callFunc(function(){EffectHelper.jellyJump2(c)})),
c.runAction(cc.sequence(a))):!a&&this.hasPlayAddFive&&(this.hasPlayAddFive=!1,c.stopAllActions(),c.runAction(cc.sequence(cc.moveBy(0.2,ccp(-200,0)),cc.hide())))};GameWorldPropController.clickInfo={};
GameWorldPropController.onButtonClick=function(a){audio.playSound(GameMusicType.kButtonClick);if(this.param.closeProp)TipDialogController.showTip("\u6682\u4e0d\u5f00\u653e\u6b64\u9053\u5177");else if(this.unlockList[a]){var c=this.param.level;if(this.clickInfo.index&&this.clickInfo.index==a&&this.clickInfo.time+500>(new Date).getTime())printf("continue press"+a);else if(this.clickInfo.time=(new Date).getTime(),this.clickInfo.index=a,GameWorldController.isWaitingOperation()&&!(this.tileLogic.curGameStatus>=
TileGameStatus.kEnd||0<this.tileLogic.holdData.fruitSpecialType))if(0!=this.tileView.gamePropsId)this.tileView.usePropCancelled();else{var d=Proplist[a],e=d.propId;if(11002!=e||ItemBombLogic.PassLevelTime_RandomBombEffect(this.tileLogic,!1))if(this.tutorialFreeUseMap[a])this.onUsePropNeedConfirm(Proplist[a].propId,a);else if(this.tutorialPropCnt[a]&&0<this.tutorialPropCnt[a])this.onUsePropNeedConfirm(Proplist[a].propId,a);else{var f=UserManager.getTimePropCount(e,null,GameWorldController.startGameTs),
g=!1;this["timeMark"+a]&&1>f&&this["timeMark"+a].isVisible()&&(g=!0,this.updateUI());var h=this;if(1>UserManager.getPropCount(e)&&1>f)a=PropMetaManager.getInstance().getGoodsId(e),f=!SnsHelper.isClosePay(),11001==e?AddFiveDialogController.show({levelId:c,listener:function(a){a&&(h.tileLogic.gameMode.getAddSteps(5),h.tileLogic.recordGameData(TileRecordType.kProp,11001))},bAutoPopup:!1}):ShopItemBuyDialogController.showLoading({goodsId:a,inGame:f,levelId:c}),g&&TipDialogController.showTip("\u60a8\u7684\u9650\u65f6\u9053\u5177\u5df2\u8fc7\u671f\u5566\uff0c\u6ca1\u6709\u53ef\u7528\u7684\u9053\u5177\u54e6~");
else if(g&&TipDialogController.showTip("\u60a8\u7684\u9650\u65f6\u9053\u5177\u5df2\u8fc7\u671f\u5566\uff0c\u81ea\u52a8\u4e3a\u60a8\u9009\u62e9\u975e\u9650\u65f6\u9053\u5177~"),this.tileLogic.isUsePropsValid(e))if(c=this.useTimes[e],g=PropMetaManager.getInstance().getPropUseLimit(e),0<g&&c>=g)a=this["btnProp"+a],c=a.getPosition(),a.getParent().convertToWorldSpace(c),TipDialogController.showTip(TextTable.t_Prop_MaxTime_Tips);else if(11001==e&&this.tileLogic.curGameModeType!=GameModeType.kKitchenGod&&
5<=GameWorldUIController.getMoveCount())TipDialogController.showTip(ErrMsg(200257));else if(d.needConfirm)this.onUsePropNeedConfirm(e,a);else h=this,this.onUsePropConfirm(e,function(){h.tileView.useProp(e,d.needConfirm)})}else TipDialogController.showTip(TextTable.t_ecode_noEffect)}}else a=MetaHelper.propDict[Proplist[a].propId],TipDialogController.showTip(string.expand(TextTable.t_PropUnlock,{name:a.desc,level:a.unlock}))};
GameWorldPropController.onUsePropNeedConfirm=function(a,c){notification.postEvent("event.ui.showUsePropMask",{propIdx:c});this.tileView.useProp(a,!0);if(1<=c&&4>=c){this.lastSkelProp=sp.SkeletonAnimation.create(GetAssetsPath("tools_prop_"+a+".json"),GetAssetsPath("tools_image.atlas"));this.layer.addChild(this.lastSkelProp);var d=this["propBtn"+c].boundingBoxInWorld();this.lastSkelProp.setPosition(ccp(d.x,d.y-this.layer.getPositionY()));this.lastSkelProp.setAnimation(0,"lit",!0);this["iconProp"+c].setVisible(!1);
this.lastPropIndex=c}};
GameWorldPropController.onUsePropConfirm=function(a,c){var d=null,e;for(e in Proplist)if(Proplist[e].propId==a){d=e;break}if(d&&this.tutorialFreeUseMap[d])c?c():this.tileView.useProp(a,!1),this.useTimes[a]+=1,notification.postEvent("event.ui.update"),notification.postEvent("event.ui.hideUsePropMask",!0);else if(d&&this.tutorialPropCnt[d]&&0<this.tutorialPropCnt[d])c?c():this.tileView.useProp(a,!1),this.useTimes[a]+=1,this.tutorialPropCnt[d]-=1,notification.postEvent("event.ui.update"),notification.postEvent("event.ui.hideUsePropMask",
!0);else{d=this.param.level;e=LevelMapManager.getInstance().getLevelGameMode(d);var f=this,g=GameWorldController.startGameTs;WaitingDialogController.show();HttpHelper.useProp(this,d,e,a,g,function(d){WaitingDialogController.hide();notification.postEvent("event.ui.hideUsePropMask",0==d);0==d?(c?c():f.tileView.useProp(a,!1),notification.postEvent("event.game.useProp",{propId:a}),f.useTimes[a]+=1,notification.postEvent("event.ui.update")):(f.tileView.usePropCancelled(),TipDialogController.showTip(ErrMsg(d)))})}};
GameWorldPropController.getWorldPositionByType=function(a){if(a==FruitTypeConfig.kBigCross)return a=this.btnProp3.getPosition(),a=this.btnProp3.getParent().convertToWorldSpace(a);if(a==FruitTypeConfig.kBigBomb)return a=this.btnProp2.getPosition(),a=this.btnProp2.getParent().convertToWorldSpace(a)};
GameWorldPropController.showUsePropMask=function(a){this.nodeProps.runAction(CETreeTintTo.create(0.2,80,80,80));this["propBtn"+tostring(a)].runAction(CETreeTintTo.create(0.2,255,255,255));if(1==a&&!GameTutorialHelper.isGuiding()){this.aniHand.setVisible(!0);a=this.tileLogic.getFirstBoardSpType();var c=this.tileLogic.getGameItemPosInView(a.x,a.y);this.aniHand.setPosition(c.x,c.y);a.x>0.85*display.width?this.aniHand.setBoneX("bg",-70):this.aniHand.setBoneX("bg",90)}};
GameWorldPropController.hideUsePropMask=function(a){this.aniHand.setVisible(!1);this.nodeProps.runAction(CETreeTintTo.create(0.2,255,255,255));null==this.lastSkelProp||a||(this.lastSkelProp.removeFromParentAndCleanup(!0),this.lastSkelProp=null);if(0<this.lastPropIndex){var c=this["iconProp"+this.lastPropIndex];c.setVisible(!0);a&&(c.setScale(0),c.runAction(cc.scaleTo(0.3,1)));this.lastPropIndex=0}};
GameWorldPropController.playUsePropAnimation=function(a,c){var d=this.lastSkelProp;this.lastSkelProp=null;if(null==d){d=sp.SkeletonAnimation.create(GetAssetsPath("tools_prop_"+Proplist[1].propId+".json"),GetAssetsPath("tools_image.atlas"));this.layer.addChild(d);var e=this.propBtn1.boundingBoxInWorld();d.setPosition(ccp(e.x,e.y))}if(a==ActionPropType.kSwap)d.removeFromParentAndCleanup(!0);else{d.setAnimation(0,"fly",!1);var e=TileItemViewRunner.getActionTime(TileConst_CrossProp_Action_Time),f=[];
c=this.tileLogic.getGameItemPosInView(c.x,c.y);var g=d.getPosition(),g=Math.atan2(c.x-g.x,c.y-g.y)*(180/3.1415926);d.setRotation(g);f.push(cc.moveTo(e,c));f.push(cc.callFunc(function(){d.setAnimation(0,"bomb",!1)}));f.push(cc.delayTime(0.5));f.push(cc.hide(!0));d.runAction(cc.sequence(f))}};GameWorldPropController.addPropByTutorial=function(a){this.tutorialPropCnt[a]=this.tutorialPropCnt[a]||0;this.tutorialPropCnt[a]+=1;this.updateUI()};
GameWorldPropController.setPropFreeForUse=function(a){for(var c in a){var d=a[c],e=cc.Sprite.createWithSpriteFrameName("gc_prop_free.png");e.setPosition(50,10);this["btnProp"+d].addChild(e);this["spNumBg"+d].setScale(0);this["spAddBg"+d].setScale(0);this.tutorialFreeUseMap[d]=!0}};GameWorldPropController.shakeAllItems=function(){for(var a=1;this["btnProp"+a];)EffectHelper.rotateSelf(this["btnProp"+a],0.15*(a-1)),++a};
GameWorldPropController.getPropBtnBoundsById=function(a){return Proplist[a]?(a=this["propBtn"+a].boundingBoxInWorld(),[a.x-50,a.y-50,100,100]):[0,0,100,100]};GameWorldUIController=createController("GameWorldUIController");GameWorldUIController.onViewCreate=function(){return loadccbCheckAd(GetAssetsPath("GameWorldUI.ccbi"),this)};GameWorldUIController.onViewOpen=function(){this.registerEvent("event.ui.update");this.registerEvent("event.ui.showUsePropMask");this.registerEvent("event.ui.hideUsePropMask");this.reset()};GameWorldUIController.onViewEnter=function(){this.updateUI()};GameWorldUIController.onViewClose=function(){this.effectLayer.dispose()};
GameWorldUIController.onEvents=function(a,c){"event.ui.update"==a?this.updateUI():"event.ui.showUsePropMask"==a?this.showUsePropMask():"event.ui.hideUsePropMask"==a&&this.hideUsePropMask()};
GameWorldUIController.reset=function(){if(null!=this.param){var a=this.param.level;this.score=0;this.game_meta=LevelMapManager.getInstance().getMeta(a);this.setMoveCount(GameWorldController.curTileLogic.theCurMoves);this.effectLayer=CocosNode.create();this.layer.addChild(this.effectLayer.refObject);GameWorldController.setEffectLayer(this.effectLayer);this.fallingStarLayer=cc.SpriteBatchNode.create(GetAssetsPath("yellow_star.png"),256);this.layer.addChild(this.fallingStarLayer);this.addLevel(a);this.setTargetCount(GameWorldTargetController.getAllTargetCount());
this.addScore(0);this.spriteTarget.setVisible(!1);for(var a=this.game_meta.gameData.starScores,c=1;3>=c;++c)this["labelScore"+c].setString(tostring(a[c-1]));a=this.nodeRightTop.getPositionX()-130;this.nodeRightTop.setPositionX(a-70)}};GameWorldUIController.onViewClose=function(){this.fallingStarLayer=null};GameWorldUIController.updateUI=function(){};
GameWorldUIController.showUsePropMask=function(){this.layer.runAction(CETreeTintTo.create(0.2,80,80,80));this.labelTarget.runAction(cc.tintTo(0.2,14240/255,6720/255,6480/255));this.spriteScoreBg.runAction(cc.tintTo(0.2,5360/255,1E4/255,80))};GameWorldUIController.hideUsePropMask=function(){this.layer.runAction(CETreeTintTo.create(0.2,255,255,255));this.labelTarget.runAction(cc.tintTo(0.2,178,84,81));this.spriteScoreBg.runAction(cc.tintTo(0.2,67,125,255))};
GameWorldUIController.addFallingStarEffect=function(a,c){var d=GetAssetsPath("yellow_star.png"),e=0.5*this.spriteProgBorder.getContentWidth(),f=0.5*this.spriteProgBorder.getContentHeight(),e=this.spriteProgBorder.convertToWorldSpace(ccp(e,f));e.y-=this.layer.getPositionY();for(var f=16+10*Math.random(),g=1;3>=g;++g)if(0.5<Math.random()){var h=113.0973336*g/180;a+=Math.cos(h)*f;c+=Math.sin(h)*f;h=cc.Sprite.create(d);h.setPosition(a,c);h.setScale(0.4*Math.random()+0.6);h.setOpacity(0);var m=0.3+0.64*
Math.random(),m=cc.moveTo(m,e),n=cc.moveTo(0.25,ccp(a,c)).easing(cc.easeElasticOut()),r=[];r.push(cc.spawn(n,cc.fadeIn(0.25)));r.push(m.easing(cc.easeSineIn()));r.push(cc.hide(!0));h.runAction(cc.sequence(r));this.fallingStarLayer.addChild(h)}};
GameWorldUIController.addLevel=function(a){if(GameWorldController.curTileLogic.curGameModeType!=GameModeType.kBaldStrong)this.labelLevel.setString(string.expand(TextTable.t_level_ingame,{num:a}));else{a=PopcornHelper.getChallengeData();var c=a.name;if(null==c||""==c)c=tostring(a.id);this.labelLevel.setString(string.expand(TextTable.t_PopcornFight_Peapare_title_1,{name:c}))}this.param.roomId?this.labelLevel.setString(TextTable.t_TimeLevel):this.param.demoLevel&&this.labelLevel.setString(TextTable.t_DemoLevel)};
GameWorldUIController.addScore=function(a,c){var d=this.game_meta.gameData.starScores,e=this.score;this.score+=a;this.labelScore.stopAllActions();this.labelScore.runAction(cc.sequence(cc.scaleTo(0.1,1.2),cc.scaleTo(0.1,1)));this.labelScore.runAction(cc.sequence(cc.fadeTo(0.1,80),cc.fadeTo(0,255)));this.labelScore.setString(this.score);var f=0,f=this.score<d[0]?43+this.score/d[0]*14:this.score<d[1]?56+(this.score-d[0])/(d[1]-d[0])*12:68+(this.score-d[1])/(d[2]-d[1])*10,f=Math.min(f,90);this.progScore.stopAllActions();
this.progScore.runAction(cc.progressTo(0.2,f));this.spriteProgBorder.stopAllActions();this.spriteProgBorder.runAction(cc.rotateTo(0.2,-90-3.6*f));for(f=0;f<d.length;++f)this.score>=d[f]&&e<d[f]&&(audio.playSound(GameMusicType.kPassLevelStarFly),this["spriteStar"+(f+1)].setVisible(!0));c&&this.addFallingStarEffect(c.x,c.y)};GameWorldUIController.setTargetMode=function(a){"gift"!=a&&"hide"==a&&this.spriteTarget.setVisible(!1)};
GameWorldUIController.showTargetUI=function(a){a?(this.spriteTarget.setVisible(!0),this.spriteTarget.setScale(0),this.spriteTarget.runAction(cc.scaleTo(0.2,1).easing(cc.easeBackOut()))):this.spriteTarget.setVisible(!1)};GameWorldUIController.getStepUiPos=function(){var a=this.labelStep.boundingBoxInWorld();return ccp(a.x+a.width/2,a.y+a.height/2)};GameWorldUIController.getTargetUiPos=function(){var a=this.spriteTarget.boundingBoxInWorld();return ccp(a.x,a.y)};GameWorldUIController.getMoveCount=function(){return tonumber(this.labelStep.getString())};
GameWorldUIController.setMoveCount=function(a,c,d){d?this.playAddFiveAction(a):(this.labelStep.stopAllActions(),this.labelStep.runAction(cc.sequence(cc.scaleTo(0.2,1.25),cc.scaleTo(0.1,1))),this.labelStep.runAction(cc.sequence(cc.fadeTo(0.2,150),cc.fadeTo(0.1,255))),this.labelStep.setString(a));5>a&&0!=a&&!c?GameWorldPropController.playAddFiveAction(!0):GameWorldPropController.playAddFiveAction(!1)};
GameWorldUIController.setTargetCount=function(a){this.labelTarget.setString(tostring(a));this.labelTarget.stopAllActions();this.labelTarget.runAction(cc.sequence(cc.scaleTo(0.1,1.85,1.7),cc.scaleTo(0.2,1.2)))};GameWorldUIController.setFreeClickTime=function(a){};GameWorldUIController.addNodeToEffectLayer=function(a){this.effectLayer.refObject.addChild(a)};GameWorldUIController.onButtonGuide=function(){audio.playSound(GameMusicType.kButtonClick);GameTipsController.showLoading(this.param.level)};
GameWorldUIController.onButtonBack=function(){audio.playSound(GameMusicType.kButtonClick);this.back()};GameWorldUIController.onTouchScore=function(){for(var a=1;3>=a;++a)this["labelScore"+a].stopAllActions(),this["labelScore"+a].setVisible(!1);for(a=1;3>=a;++a){var c=[];c.push(cc.delayTime(1*(a-1)));c.push(cc.show());c.push(cc.fadeIn(0.3));c.push(cc.delayTime(0.4));c.push(cc.fadeOut(0.3));c.push(cc.hide());this["labelScore"+a].runAction(cc.sequence(c))}};
GameWorldUIController.spriteTargetBgShake=function(a){var c=[];c.push(cc.delayTime(a));c.push(cc.rotateBy(0.1,-15));c.push(cc.rotateTo(0.2,0));a=cc.sequence(c);this.spriteTarget.runAction(a)};
GameWorldUIController.playAddFiveAction=function(a){var c=cc.Sprite.createWithSpriteFrameName("#mu_prop_11001.png");this.layer.addChild(c);var d=this;EffectHelper.flyAndScalAnim2(c,GameWorldPropController.iconProp5,this.labelStep,function(){d.performForLoop(1,5,function(c){var f=[];f.push(cc.scaleTo(0.06,1.8));f.push(cc.scaleTo(0.08,1.5));5==c&&f.push(cc.scaleTo(0.01,1));d.labelStep.setString(a-5+c);d.labelStep.runAction(cc.sequence(f))},0.3)})};
GameWorldUIController.back=function(){GamePauseDialogController.showLoading({levelId:this.param.level,roomId:this.param.roomId,demoLevel:this.param.demoLevel})};GameWinTipController=createController("GameWinTipController");GameWinTipController.onViewCreate=function(){return loadccb(GetAssetsPath("GameWinTip.ccbi"),this)};
GameWinTipController.onViewOpen=function(){CCNodeUtils.setSpriteOpacity(this.layerBg,0);this.layerBg.runAction(CETreeFadeTo.create(0.2,180));EffectHelper.starFalling2(this.spriteTip);this.performDelay(function(){var a=cc.ParticleSystem.create(GetAssetsPath("star_flying5.plist"));this.layer.addChild(a);a.setPosition(this.spriteTip.getPosition());a=UserManager.getMainPetId();a=string.format(GameMusicType.kComboTip,a,6);GameMusicManager.playEffect(a);audio.stopMusic();audio.playMusic(GameMusicType.kSuccessPanel,
!0)},0.2);this.performDelay(function(){this.hide()},1.5)};GameClearController=createController("GameClearController");GameClearController.onViewCreate=function(){return loadccb(GetAssetsPath("GameClear.ccbi"),this)};
GameClearController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"keypad",this.back);this.registerEvent("event.ui.updateEquip");this.reset();var a=this;this.spriteShareCoin.setVisible(!1);EffectHelper.dialogLeftShow(this,function(){a.actionShowEnd();var c=cc.ParticleSystem.create(GetAssetsPath("falling_paper.plist"));c.setPosition(0.5*display.width,display.height);a.layer.addChild(c)},!0);this.spWorldRankBg.setVisible(!1);GameRankController.show(this.param)};
GameClearController.onEvents=function(a,c){"event.ui.updateEquip"==a&&this.updateEquip(c)};
GameClearController.actionShowEnd=function(){var a=this;(function(){a.labelGameScore.setNumber(a.param.score);var c=a.param.star;if(c>a.param.srcStar){var d=a["spriteStar"+c];d.setVisible(!0);EffectHelper.starFalling2(d,1);a.performDelay(function(){audio.playSound(GameMusicType.kPassLevelStarFly);a["starPart"+c].addChild(cc.ParticleSystem.create(GetAssetsPath("star_boom.plist")));GameWorldUIController.post("addScore",a.targetScore-a.param.srcScore);1==c?a.skelPet.setAnimation(0,"stand",!0):2==c?a.skelPet.setAnimation(0,
"happy1",!0):a.skelPet.setAnimation(0,"happy2",!0)},1.25)}})();var c=MetaHelper.getPetLevelMax(),d=c[0],c=UserManager.getPetExpInfo(),e=c[0],f=c[1],g=c[2];this.petFullLevle||(this.levelUp=!1,this.registerUpdate("exp_full",function(){a.levelUp&&(a.levelUp=!1,a.lastPetExp=0,a.lastPetLevel+=1,a.labelPetLevel.setString(a.lastPetLevel),c=UserManager.getPetExpInfo(),e=c[0],f=c[1],g=c[2]);a.lastPetLevel<e&&(f=g=a.lastPetNextLevelExp);a.lastPetExp+=3;a.lastPetExp>=f&&(a.lastPetExp=f,a.lastPetLevel==e?a.unregisterUpdate("exp_full"):
a.levelUp=!0);e==d?(a.labelPetExp.setString(TextTable.t_Pet_Maxexp),a.progPetExp.setPercentage(100)):(a.labelPetExp.setString(a.lastPetExp+"/"+g),a.progPetExp.setPercentage(100*a.lastPetExp/g))},0.01))};
GameClearController.reset=function(){if(null!=this.param){VideoAdManager.setLevelFailed(0);var a=this,c=this.param.srcStar,d=this.param.score,e=this.param.srcScore,f=this.param.level;this.isShowReplay()?this.txt_btn_text.setDisplayFrameName("gc_txt_restart_level.png"):this.txt_btn_text.setDisplayFrameName("gc_txt_next_level.png");1<=c?(EffectHelper.starFalling2(this.spriteStar1,0.2),this.performDelay(function(){audio.playSound(GameMusicType.kPassLevelStarFly);a.starPart1.addChild(cc.ParticleSystem.create(GetAssetsPath("star_boom.plist")))},
0.45)):this.spriteStar1.setVisible(!1);2<=c?(EffectHelper.starFalling2(this.spriteStar2,0.5),this.performDelay(function(){audio.playSound(GameMusicType.kPassLevelStarFly2);a.starPart2.addChild(cc.ParticleSystem.create(GetAssetsPath("star_boom.plist")))},0.75)):this.spriteStar2.setVisible(!1);3<=c?(EffectHelper.starFalling2(this.spriteStar3,0.8),this.performDelay(function(){audio.playSound(GameMusicType.kPassLevelStarFly3);this.starPart3.addChild(cc.ParticleSystem.create(GetAssetsPath("star_boom.plist")))},
1.05)):this.spriteStar3.setVisible(!1);this.labelLevel.setString(string.expand(TextTable.t_level,{num:f}));this.labelGameScore.setNumber(e,0);var g=UserManager.getMainPetId();this.skelPet.reloadWithCache(GetAssetsPath("anim"+g+".json"));PetHelper.setPetEquipByPetID(this.skelPet,g);1==c?this.skelPet.setAnimation(0,"stand",!0):2==c?this.skelPet.setAnimation(0,"happy1",!0):this.skelPet.setAnimation(0,"happy2",!0);this.lastPetLevel=this.param.lastPetLevel;this.lastPetExp=this.param.lastPetExp;this.lastPetNextLevelExp=
this.param.lastPetNextLevelExp;this.labelPetLevel.setString(this.lastPetLevel);c=MetaHelper.getPetLevelMax()[0];this.lastPetLevel==c?(this.petFullLevle=!0,this.labelPetExp.setString(TextTable.t_Pet_Maxexp),this.progPetExp.setPercentage(100)):(this.labelPetExp.setString(this.lastPetExp+"/"+this.lastPetNextLevelExp),this.progPetExp.setPercentage(100*this.lastPetExp/this.lastPetNextLevelExp));if(c=this.param.rewards.levelRewards)for(g=1;g<=c.length;++g){var h=c[g-1];h[0]==ItemType.COIN&&notification.postEvent("event.game.gameCoin",
{count:h[1]})}g=0;c&&(0<c.length&&c[c.length-1][0]==ItemType.COIN&&(g=c[c.length-1][1]),this.updateRewardUI(c));this.labelScoreBonus.setNumber(d-e,1,"+");this.labelCoinBonus.setNumber(g,1,"+");(d=CacheHelper.getMyLevelWorldRank(f))&&0<MetaHelper.getWorldRankBadge(d)&&this.spMetal.setVisible(!0);3>=f&&(this.btnShare.setVisible(!1),this.btnNext.setPositionX(0.5*(this.btnShare.getPositionX()+this.btnNext.getPositionX())))}};
GameClearController.updateRewardUI=function(a){for(var c={},d=0,e=0;e<a.length;e++){var f=a[e],g=f[0],f=f[1];g!=ItemType.PET_EXP&&(null==c[g]&&(c[g]=0,d++),c[g]+=f)}a=this.nodeReward.getContentWidth();var e=0,h;for(h in c){g=cc.Node.create();this.nodeReward.addChild(g);f=cc.Sprite.createWithSpriteFrameName(GameIconHelper.getIconFrameName(h));g.addChild(f);var m=AnimateBMFontNumber.create(0,GetAssetsPath("num_score_white2.fnt"));g.addChild(m);m.setPosition(40,-3);g.setPositionX((e+1)*a/(d+1));m.setNumber(c[h],
0,"x");g=ServerProxy.getItemType(h);g!=ItemType.COIN&&g!=ItemType.ENERGY&&f.setScale(0.7);e++}};GameClearController.showTabButton=function(a){1==a?(this.btnTab1.setZOrder(1),this.btnTab2.setZOrder(-1),this.spriteTab1.setDisplayFrameName(GetLanSpriteFrame("friend_rank_blue.png")),this.spriteTab2.setDisplayFrameName(GetLanSpriteFrame("world_rank_orange.png"))):(this.btnTab1.setZOrder(-1),this.btnTab2.setZOrder(1),this.spriteTab1.setDisplayFrameName(GetLanSpriteFrame("friend_rank_orange.png")),this.spriteTab2.setDisplayFrameName(GetLanSpriteFrame("world_rank_blue.png")))};
GameClearController.updateEquip=function(a){a=UserManager.getMainPetId();PetHelper.setPetEquipByPetID(this.skelPet,a)};
GameClearController.updateFriendRankUI=function(a){this.listRankHolder=[];this.listRank.removeAllItems();var c=UserManager.getPlayerId(),d=0,e;for(e in a){var f=a[e];if(f.playerId==c){d=e;break}}e=0;var g=this;this.listRank.registerPreloadListener(0,0.05,function(){if(!(e>=a.length)){e+=1;var d=a[e-1],f={},h=loadccb(GetAssetsPath("GameRankItem.ccbi"),f,this);d.playerId==c&&(f.spriteTip.setDisplayFrameName("rank_bg_self.png"),f.spriteAvatarBg.setDisplayFrameName("avatar_bg_self.png"),f.labelName.setColor(cc.color(255,
255,255)),f.labelScore.setColor(cc.color(50,50,50)));f.labelScore.setString(d.score);f.labelName.setString(d.name);3<e?(f.labelRank.setString(e),f.spriteAvatarBg.setVisible(!1)):(f.spriteDot.setDisplayFrameName("medal_"+e+".png"),f.labelRank.setString(""),f.spriteDot.setPositionY(40));0<d.petId&&f.spritePet.setDisplayFrameName("head"+d.petId+".png");GameHelper.loadHeadSprite(f.spriteHead,d.headUrl);g.listRankHolder[e-1]=f;g.listRank.addItem(h)}});GameHelper.loadHeadSprite(this.spriteHead,UserManager.getHeadUrl());
0<d&&(f=a[d],this.spriteTip.setDisplayFrameName("rank_bg_self.png"),this.spriteAvatarBg.setVisible(!1),this.labelName.setColor(cc.color(255,255,255)),this.labelScore.setColor(cc.color(50,50,50)),this.labelScore.setString(f.score),this.labelName.setString(f.name),this.labelRank.setString(d),this.spriteAvatarBg.setVisible(!1));var h=this.spriteTip.boundingBoxInWorld().y;this.registerUpdate("check_avatar",function(){var a=g.listRankHolder[d];a?(a=a.spriteTip.boundingBoxInWorld().y,g.spriteBottom.setVisible(a<
h)):4<g.listRankHolder.length&&g.spriteBottom.setVisible(!0)})};GameClearController.playMoveEffect=function(a){var c=this.nodeDialog.getPositionX();a?this.nodeDialog.runAction(cc.moveTo(0.1,ccp(c,0.66*display.height))):this.nodeDialog.runAction(cc.moveTo(0.1,ccp(c,0.56*display.height)))};
GameClearController.isShowReplay=function(){var a=this.param.level;return UserManager.getTopLevel()-1>a?!0:UserManager.getTopLevel()>a?UserManager.getLeveleScore(a+1):UserManager.getTopLevel()==a?!WorldMapController.isMinLevelOfArea(a+1):!1};
GameClearController.onButtonNext=function(){audio.playSound(GameMusicType.kButtonClick);var a=this.param.level;if(this.isShowReplay())SceneHelper.popScene({reason:"clear",level:a,autoLevel:!0,notAnimated:!1,bNewStarGet:this.param.bNewStarGet});else{var c=UserManager.getTopLevel()==a+1;SceneHelper.popScene({reason:"clear",level:a,autoNext:c,notAnimated:!1,bNewStarGet:this.param.bNewStarGet})}};
GameClearController.onButtonShare=function(){ShareController.showLoading({shareType:"share_pass_level",level:this.param.level,listener:function(a){}},null,["ShareLayer1016"])};GameClearController.OnButtonShareSuccessCallback=function(){GameClearController.getCommonReward(!0)};
GameClearController.getCommonReward=function(a){var c=this.param.level,d=this;a?UserManager.getLeveleScore(c).share||(a=[{key:"levelId",value:tostring(c)}],HttpHelper.getCommonRewards(d,2,a,function(a){0==a?(TipDialogController.showTip(TextTable.t_ShareReward),d.spriteShareCoin.setVisible(!1),notification.postEvent("event.ui.shareGame")):TipDialogController.showTip(ErrMsg(a))})):!1==a&&TipDialogController.showTip(ErrMsg(200104))};
GameClearController.onButtonBack=function(){audio.playSound(GameMusicType.kButtonClick);this.back()};GameClearController.back=function(){SceneHelper.popScene({reason:"clear",level:this.param.level,autoNext:3>=this.param.level,notAnimated:!1,bNewStarGet:this.param.bNewStarGet})};GameComboTipController=createController("GameComboTipController");GameComboTipController.onViewCreate=function(){return 4<(this.param.imageIdx||1)?loadccb(GetAssetsPath("GameComboTip2.ccbi"),this):loadccb(GetAssetsPath("GameComboTip.ccbi"),this)};
GameComboTipController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"swallow");var a=this;this.registerScriptTouchHandler(function(c,d,g){if("began"==c)return a.hide(),!0},!1,0,!0);var c=1,d=1;this.param&&(c=this.param.imageIdx,d=this.param.combo);this.labelCount.setString("x"+d);this.spriteTip.setDisplayFrameName(GetLanSpriteFrame("combo_tip_"+c+".png"));this.anim.runAnimationsForSequenceNamed("default");this.performDelay(function(){var a=cc.ParticleSystem.create(GetAssetsPath("falling_star2.plist"));
a.setPosition(0.5*display.width,0.45*display.height);this.layer.addChild(a);this.param.tileView.viberate();a=UserManager.getMainPetId();a=string.format(GameMusicType.kComboTip,a,c);GameMusicManager.playEffect(a)},0.3);this.performDelay(function(){a.hide()},1.8);notification.postEvent("event.ui.combo",d)};GameEndStoryController=createController("GameEndStoryController");GameEndStoryController.onViewCreate=function(){return loadccb(GetAssetsPath("GameEndStory.ccbi"),this)};GameEndStoryController.onViewOpen=function(){DcHelper.freshManAction(9);this.skelBg.setAnimation(0,"start2",!1);var a=this;a.spriteGO.setVisible(!1);this.performDelay(function(){a.spriteGO.setVisible(!0);EffectHelper.jellyShakeSlow(a.spriteGO)},4);cc.spriteFrameCache.addSpriteFrames(GetAssetsPath("mainui.plist"));cc.spriteFrameCache.addSpriteFrames(GetAssetsPath("common.plist"))};
GameEndStoryController.onButtonGo=function(){if(this.spriteGO.isVisible()){var a=this;CloudDialogController.show({listener:function(){SceneHelper.popScene({reason:"clear",level:a.param.level,autoNext:!1,notAnimated:!0});CloudDialogController.show({open:!0});WorldMapController.post("playTutorialEffect")}})}};GamePauseDialogController=createController("GamePauseDialogController");GamePauseDialogController.onViewCreate=function(){return loadccb(GetAssetsPath("GamePauseDialog.ccbi"),this)};GamePauseDialogController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);EffectHelper.dialogPopOut(this);this.reset();GameWorldController.post("pauseGame",!0)};
GamePauseDialogController.reset=function(){if(null!=this.param){this.setSoundState(audio.isSoundMute());this.setMusicState(audio.isMusicMute());this.labelSoundTip.setVisible(!1);this.labelMusicTip.setVisible(!1);this.labelNotiTip.setVisible(!1);this.nodeDebug.setVisible(DebugFlag&&!GAME_SERVER_PLATFORM);var a=GameWorldController.getTileLogic();a.curGameModeType==GameModeType.kKitchenGod?this.btnRestart.setEnabled(!1):a.curGameModeType==GameModeType.kBaldStrong&&PopcornHelper.getChallengeData().mode==
PopcornHelper.CHALLENGE_MODE.Challenge&&this.btnRestart.setEnabled(!1);if(this.param.roomId||this.param.demoLevel)this.btnRestart.setEnabled(!1),this.restartNode.setVisible(!1),this.exitNode.setPositionX((this.restartNode.getPositionX()+this.exitNode.getPositionX())/2)}};GamePauseDialogController.setSoundState=function(a){this.btnSoundOn.setVisible(!a);this.btnSoundOff.setVisible(a);this.soundFrontSpr.setVisible(!a)};
GamePauseDialogController.setMusicState=function(a){this.btnMusicOn.setVisible(!a);this.btnMusicOff.setVisible(a);this.musicFrontSpr.setVisible(!a)};
GamePauseDialogController.onButtonRestart=function(){this.back();var a=GameWorldController.getTileLogic();a.curGameModeType!=GameModeType.kKitchenGod&&(a.curGameModeType==GameModeType.kBaldStrong?PopcornHelper.getChallengeData().mode!=PopcornHelper.CHALLENGE_MODE.Challenge&&PopcornChallengeDialogController.show():StartGameController.show({level:this.param.levelId,restart:!0,timeTotalUsed:Math.floor(a.timeTotalUsed)}));a.notifiTask()};
GamePauseDialogController.onButtonExit=function(){audio.playSound(GameMusicType.kButtonClick);if(!XCXManager.logicMiniGameUser()){var a=GameWorldController.getTileLogic(),c=this.param.levelId,d=GameWorldController.getState(),e=d[0],f=d[1],g=d[6],h=d[7];DcHelper.overLevel(c,!0,!1,e,f,d[2],d[3],g);DcHelper.exitGame(Math.floor(a.timeTotalUsed),e,g,c,h,f);this.back();a.curGameModeType==GameModeType.kKitchenGod?SceneHelper.popScene():a.curGameModeType==GameModeType.kBaldStrong?(SceneHelper.popScene(),
notification.postEvent(PopcornHelper.EVENTS.BackToHall)):SceneHelper.popScene({reason:"quit",level:c});a.notifiTask()}};
GamePauseDialogController.onButtonSound=function(){audio.playSound(GameMusicType.kButtonClick);var a=!audio.isSoundMute();audio.setSoundMutePersist(a);this.setSoundState(a);a?this.labelSoundTip.setString(TextTable.t_Tip_Sound_Close):this.labelSoundTip.setString(TextTable.t_Tip_Sound_Open);this.labelSoundTip.setPositionY(0);this.labelSoundTip.setOpacity(255);this.labelSoundTip.setVisible(!0);this.labelSoundTip.stopAllActions();a=cc.spawn(cc.fadeOut(1),cc.moveTo(1,ccp(0,50)));this.labelSoundTip.runAction(cc.sequence(a,
cc.hide()));GameWorldTargetController.hidePet(!1)};
GamePauseDialogController.onButtonMusic=function(){audio.playSound(GameMusicType.kButtonClick);var a=!audio.isMusicMute();audio.setMusicMutePersist(a);this.setMusicState(a);a?this.labelMusicTip.setString(TextTable.t_Tip_Music_Close):this.labelMusicTip.setString(TextTable.t_Tip_Music_Open);this.labelMusicTip.setPositionY(0);this.labelMusicTip.setOpacity(255);this.labelMusicTip.setVisible(!0);this.labelMusicTip.stopAllActions();a=cc.spawn(cc.fadeOut(1),cc.moveTo(1,ccp(0,50)));this.labelMusicTip.runAction(cc.sequence(a,
cc.hide()));GameWorldTargetController.hidePet(!0)};GamePauseDialogController.onButtonNoti=function(){audio.playSound(GameMusicType.kButtonClick);TipDialogController.showTip(ErrMsg(200262))};GamePauseDialogController.onButtonGuide=function(){audio.playSound(GameMusicType.kButtonClick);GameTipsController.showLoading(this.param.levelId)};
GamePauseDialogController.onButtonSubStep=function(){if(DebugFlag){audio.playSound(GameMusicType.kButtonClick);var a=GameWorldController.getTileLogic();1<a.theCurMoves&&(a.theCurMoves-=1,a.tileUIDelegate.setMoveCount(a.theCurMoves,!1))}};
GamePauseDialogController.onButtonFailed=function(){if(DebugFlag){audio.playSound(GameMusicType.kButtonClick);var a=GameWorldController.getTileLogic();a.curGameModeType==GameModeType.kKitchenGod?a.setGamePlayStatus(TileGameStatus.kWin):a.setGamePlayStatus(TileGameStatus.kFailed);this.back()}};
GamePauseDialogController.onButtonPassLevel=function(){if(DebugFlag){audio.playSound(GameMusicType.kButtonClick);var a=GameWorldController.getTileLogic();if(a.curGameModeType!=GameModeType.kKitchenGod){var c=a.gameMode.getStarByScore();0==c&&(c=ScoreCalculateLogic.getScoreByStarLevel(a,c),ScoreCalculateLogic.addTotalScore(a,c),GameWorldUIController.addScore(c))}a.setGamePlayStatus(TileGameStatus.kWin);this.back()}};
GamePauseDialogController.onButtonAddStar=function(){if(DebugFlag){audio.playSound(GameMusicType.kButtonClick);var a=GameWorldController.getTileLogic(),c=a.gameMode.getStarByScore(),d=GameWorldController.getState()[1],d=ScoreCalculateLogic.getScoreByStarLevel(a,c);ScoreCalculateLogic.addTotalScore(a,d);GameWorldUIController.addScore(d)}};GamePauseDialogController.onButtonBack=function(){this.back()};
GamePauseDialogController.back=function(){audio.playSound(GameMusicType.kPopupClose);GameWorldController.post("pauseGame",!1);EffectHelper.dialogPopIn(this)};GameRankController=createController("GameRankController");GameRankController.onViewCreate=function(){return loadccb(GetAssetsPath("GameRank.ccbi"),this)};
GameRankController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"swallow");if(this.param){this.showTabButton(1);this.isWorldExpand=this.hasClickWorldButton=!1;this.scrollBar.bindScrollView(this.listWorldRank);this.scrollBar.setTouchMode(2);this.scrollBar.setTouchRangeScale(4);this.scrollBar.setDelayFadeInterval(-1);this.nodeMask.setVisible(!0);this.spriteBgLeft.setContentHeight(160);this.spriteBgRight.setContentHeight(160);this.bBeforeFlyAction=!0;var a=this;this.listRank.registerScriptListener(function(c){c=
CacheHelper.getUserInfoWithDefault(a.listRankHolder[c].playerId);FriendInfoController.show({data:c})});var c=this.param.level,d=this.param.score;a.worldRank=CacheHelper.getMyLevelWorldRank(a.param.level);var e=(MetaHelper.global.share_open_level||0)>=a.param.level,f=a.param.bNewMetalGet||e&&100>=a.param.worldRankInGame&&0<a.param.worldRankInGame;this.performDelay(function(){CacheHelper.getLevelFiendInfo(this,c,function(e,g){if(0==e&&(a.updateFriendRankUI(g),a.worldRank=CacheHelper.getMyLevelWorldRank(a.param.level),
StartGameController.isShowing&&0<a.worldRank&&(StartGameController.spWorldRankBg.setVisible(!0),StartGameController.labelWorldRank.setString(a.worldRank)),a.param.isClear&&ShareController.isOpen())){var h={score:d,level:c};!f&&a.showHardShare(g,h,c)||f||a.showLevelShare(g,h,c)}})},0.5);if(a.param.worldRankInGame&&0!=a.param.worldRankInGame){var g=a.param.deltaMeta,h=function(){a.bBeforeFlyAction=!1;var c=[];c.push(cc.scaleTo(0.1,0.7));c.push(cc.scaleTo(0.25,1.5));c.push(cc.scaleTo(0.15,1));a.titleWorldRank.runAction(cc.sequence(c));
var d=1E4-a.param.worldRankInGame,e=Math.round(d/40),g=!1;GameClearController.labelWorldRank.setVisible(!0);a.registerUpdate("updateRank",function(){if(d>e)d-=e,GameClearController.labelWorldRank.setString(tostring(d));else if(!g){g=!0;GameClearController.labelWorldRank.setString(tostring(a.param.worldRankInGame));var c=[];c.push(cc.scaleTo(0.1,0.7));c.push(cc.scaleTo(0.25,2));c.push(cc.scaleTo(0.15,0.95));GameClearController.labelWorldRank.runAction(cc.sequence(c))}});if(!ShareController.isShowing&&
f){var c=persist.getInt("l2_day"),h=tonumber((new Date).getDate()),u=0;h!=c?(persist.setInt("l2_day",h),persist.setInt("share_frd_level",0)):u=persist.getInt("share_frd_level");5>u&&6<UserManager.getTopLevel()&&(persist.setInt("share_frd_level",u+1),ShareWorldRankController.showLoading({friendInfos:a.param.friendInfos,level:a.param.level,score:a.param.score,rank:a.param.worldRankInGame}))}};GameClearController.spWorldRankBg.setVisible(!0);GameClearController.labelWorldRank.setVisible(!1);EffectHelper.starFalling3(GameClearController.spMetal,
1,function(){1>g&&(GameClearController.labelWorldRank.setVisible(!0),GameClearController.labelWorldRank.setString(tostring(a.param.worldRankInGame)));for(var c=GameClearController.spMetal.boundingBoxInWorld(),c=ccp(c.x+0.5*c.width,c.y+0.5*c.height),d=1;d<=g;d++){var e=cc.Sprite.createWithSpriteFrameName("ico_metal.png");GameClearController.layer.addChild(e);e.setScale(0.5);e.setPosition(c);d==g?EffectHelper.flyRewardAnim(e,e,a.titleWorldRank,h,0.05*d):EffectHelper.flyRewardAnim(e,e,a.titleWorldRank,
null,0.05*d)}})}else GameClearController.isShowing&&0<this.worldRank&&(GameClearController.spWorldRankBg.setVisible(!0),GameClearController.labelWorldRank.setString(tostring(this.worldRank)));EffectHelper.dialogLeftShow(this)}};GameRankController.showFeatureShare=function(a,c,d){return 20<UserManager.getTopLevel()&&MetaHelper.global.newFeatureLevel[d]?(ShareController.showLoading({shareType:"new_feature_level",playerParam:c,level:d},null,["ShareLayer1017"]),!0):!1};
GameRankController.showHardShare=function(a,c,d){if(20<UserManager.getTopLevel()&&UserManager.getTopLevel()==d+1){var e=UserManager.getLeveleScore(d).fail;c.day=e;for(var f=[],g=0;g<a.length;g++){var h=a[g];if(e<h.fail||h.playerId==UserManager.getPlayerId())h.playerId==UserManager.getPlayerId()&&(h.fail=e),f.push(h)}if(4>f.length)return!1;table.sort(f,function(a,c){return a.fail<c.fail});ShareController.showLoading({shareType:"pass_after_many_failed",playerParam:c,level:d,friends:f},null,["ShareLayer1004"]);
return!0}return!1};
GameRankController.showLevelShare=function(a,c,d){if(5<=UserManager.getFriendCount()&&!ShareController.isShowing&&6<UserManager.getTopLevel()){var e=Math.random();if(1==CacheHelper.getMyRank(d)&&(12<a.length||0.6>=e&&8<=a.length||0.2>=e&&4<=a.length))return ShareController.showLoading({shareType:"first_in_friend",playerParam:c,level:d,friends:a},null,["ShareLayer1010"]),!0;if(this.showComboShare(a,c,d)||this.showFeatureShare(a,c,d))return!0;e=Math.random();a=[0.4,0.8];if(e<=a[0]&&4>persist.getCrossDayString("count_level_beyond")){if(d=
CacheHelper.getRandomFiendInfoLevelBlowMe())return ShareController.showLoading({shareType:"level_beyond_friend",friendHeadUrl:d.headUrl,friendNick:d.name,friendTopLv:d.topLevelId,playerParam:c},null,["LevelBeyondFriendDialog"]),!0}else if(e>a[0]&&e<=a[1]&&3>persist.getCrossDayString("count_score_beyond")&&(d=CacheHelper.getCurLevelFriendScoreBlowMe(d)))return ShareController.showLoading({shareType:"score_beyond_friend",friendHeadUrl:d.headUrl,friendNick:d.name,friendScore:d.score,playerParam:c},null,
["ScoreBeyondFriendDialog"]),!0}return!1};
GameRankController.showComboShare=function(a,c,d){var e=this.param.maxCombo;if(8>UserManager.getFriendCount()||15>e||ShareController.isShowing||6>=UserManager.getTopLevel())return!1;for(var f=[],g=UserManager.getPlayerId(),h=0;h<a.length;++h){var m=a[h],n=CacheHelper.getUserInfo(m.playerId);m.playerId==g?(m.combo<e&&(m.combo=e),f.push(m)):m.combo<e&&n&&!n.isNpc&&f.push(m)}if(5>f.length)return!1;table.sort(f,function(a,c){return a.combo>=c.combo});ShareController.showLoading({shareType:"share_level_combo",playerParam:c,
friends:f,combo:e,level:d},null,["ShareLayer1023"]);return!0};
GameRankController.showTabButton=function(a){1==a?(this.btnTab1.setZOrder(1),this.btnTab2.setZOrder(-1),this.nodeFriend.setVisible(!0),this.nodeWorld.setVisible(!1),this.spriteTab1.setColor(cc.color(255,255,255)),this.spriteTab2.setColor(cc.color(187,116,67))):(this.btnTab1.setZOrder(-1),this.btnTab2.setZOrder(1),this.nodeFriend.setVisible(!1),this.nodeWorld.setVisible(!0),this.spriteTab1.setColor(cc.color(187,116,67)),this.spriteTab2.setColor(cc.color(255,255,255)))};
GameRankController.updateFriendRankUI=function(a){var c=this.param.level;this.listRankHolder=[];this.friendScoreList=[];this.listRank.removeAllItems();this.myLevelScore=this.myFriendRank=0;this.totalScoreLength=a.length;for(var d=UserManager.getPlayerId(),e=0;e<a.length;++e){var f=a[e];if(f.playerId==d){this.myFriendRank=e+1;this.myLevelScore=f.score;break}}var g=this,e=0;this.listRank.registerPreloadListener(0,0.05,function(){if(!(e>=a.length)){e+=1;var c=a[e-1],f={},h=loadccb(GetAssetsPath("GameRankItem.ccbi"),
f,g);c.playerId==d&&f.spriteAvatarBg.setColor(cc.color(255,220,0));f.playerId=c.playerId;f.labelScore.setString(c.score);f.labelName.setString(c.name);f.node=h;3<e?(f.labelRank.setString(e),f.labelRank.setVisible(!0),f.spriteDot.setVisible(!1)):(f.spriteDot.setDisplayFrameName("gc_dot"+e+".png"),f.spriteDot.setScale(1.3),f.labelRank.setVisible(!1));GameHelper.loadHeadSprite(f.spriteHead,c.headUrl,!0);GameHelper.checkAndSetHeadBoardSprite(c.playerId,f.spriteGoal,!0);g.listRankHolder[e-1]=f;g.listRank.addItem(h);
g.friendScoreList[e-1]=c}});var h={},f=loadccb(GetAssetsPath("GameRankItem.ccbi"),h,this);f.setAnchorPoint(ccp(0.5,0.5));f.setPosition(30,30);this.nodeMask.addChild(f);0<this.myFriendRank&&(f=a[this.myFriendRank-1],h.labelScore.setString(f.score),h.labelName.setString(f.name),h.labelRank.setString(this.myFriendRank),h.spriteDot.setVisible(!1),h.spriteDot.setDisplayFrameName("gc_dot"+this.myFriendRank+".png"),h.spriteDot.setVisible(4>this.myFriendRank),h.labelRank.setVisible(!h.spriteDot.isVisible()),
h.spriteDot.setScale(1.3),GameHelper.loadHeadSprite(h.spriteHead,UserManager.getHeadUrl(),!0),notification.postEvent("event.ui.rankInFriend",{rank:this.myFriendRank,level:c}))};GameRankController.onSelfClicked=function(){this.totalScoreLength&&3<this.totalScoreLength&&this.listRank.moveListItemTo(this.myFriendRank,0);var a=this.listRankHolder[this.myFriendRank-1];a&&EffectHelper.shakeLightly(a.node)};
GameRankController.updateWorldRankUI=function(a){for(var c=this.param.level,d=1;3>=d;++d){var e=CacheHelper.getCacheWorldRank(c,d)[0];if(e){GameHelper.loadHeadSprite(this["spriteHead"+d],e.headUrl,!0);this["labelScore"+d].setString(e.score);var f=MetaHelper.getWorldRankBadge(d);this["labelBadge"+d].setString(""+f);this["labelName"+d].setString(e.name);this["nodeHead"+d].setVisible(!0)}else this["nodeHead"+d].setVisible(!1)}d=a-3;0>d&&(d=0);this.listWorldRankHolder=[];this.listWorldRank.setRowHeight(60);
this.listWorldRank.setTotalCount(d);this.listWorldRank.setSpeedFactor(4);this.labelRankNum1.setString(Math.floor(0.23*(a-3))+3);this.labelRankNum2.setString(Math.floor(0.52*(a-3))+3);this.labelRankNum3.setString(Math.floor(0.925*(a-3))+3);this.updateTopNamePosition(!1);var g=this;this.listWorldRank.registerPreloadListener(function(a,d){var e;if(0>=d){e={};var f=loadccb(GetAssetsPath("GameRankItem2.ccbi"),e,g);g.listWorldRank.addItem(a,f);e.node=f;table.insert(g.listWorldRankHolder,e)}else e=g.listWorldRankHolder[d-
1];var f=a+3,s=CacheHelper.getCacheWorldRank(c,f),t=s[0],s=s[1];t?(s=MetaHelper.getWorldRankBadge(f),e.labelBadge1.setString(""+s),e.labelScore.setString(t.score),e.labelName.setString(t.name),e.labelRank.setString(f),e.spritePet.setDisplayFrameName("head"+t.petId+".png"),e.playerId=t.playerId,GameHelper.loadHeadSprite(e.spriteHead,t.headUrl,!0)):s||CacheHelper.getLevelWorldRankInfo(g,c,function(a){0==a&&g.performDelay(function(){g.listWorldRank.refreshItem(-1)},1,"refresh_rank")},f)})};
GameRankController.playMoveEffect=function(a){a?this.nodeDialog.runAction(cc.moveTo(0.1,ccp(this.nodeDialog.getPositionX(),0.6*display.height))):this.nodeDialog.runAction(cc.moveTo(0.1,ccp(this.nodeDialog.getPositionX(),0.5*display.height)))};GameRankController.onButtonTab1=function(){audio.playSound(GameMusicType.kButtonClick);this.showTabButton(1);this.openWorldList(!1);this.spriteBgLeft.setContentHeight(160);this.spriteBgRight.setContentHeight(160)};
GameRankController.onButtonTab2=function(){audio.playSound(GameMusicType.kButtonClick);this.showTabButton(2);if(!this.hasClickWorldButton){this.nodeHead1.setVisible(!1);this.nodeHead2.setVisible(!1);this.nodeHead3.setVisible(!1);this.hasClickWorldButton=!0;var a=this.param.level,c=this;CacheHelper.clearLevelWorldRankInfo(a);CacheHelper.getLevelWorldRankInfo(this,a,function(a,e,f){0==a&&(c.maxWorldRank=f,c.updateWorldRankUI(f))})}this.openWorldList(!1);0>=MetaHelper.getWorldRankBadge(this.worldRank)&&
(this.btnMyRankNode.setVisible(!1),this.spriteBgLeft.setContentHeight(160),this.spriteBgRight.setContentHeight(160))};GameRankController.onButtonExpand=function(){audio.playSound(GameMusicType.kButtonClick);this.switchWorldList()};GameRankController.switchWorldList=function(a){this.isWorldExpand?this.openWorldList(!1,a):this.openWorldList(!0,a)};
GameRankController.openWorldList=function(a,c){this.labelMyRank.setString(tostring(this.worldRank));this.labelMyBadge.setString(tostring(MetaHelper.getWorldRankBadge(this.worldRank)));this.labelMyName.setString(UserManager.getNickName());this.labelMyScore.setString(tostring(this.myLevelScore));this.spritePet.setDisplayFrameName("head"+UserManager.getMainPetId()+".png");GameHelper.loadHeadSprite(this.spriteHead,UserManager.getHeadUrl(),!0);a?(this.isWorldExpand=!0,this.btnExpand.setRotation(0),this.nodeExpand.setVisible(!0),
this.spriteBgLeft.setContentHeight(460),this.spriteBgRight.setContentHeight(460),this.btnMyRankNode.setVisible(!0),this.btnMyRankNode.setPositionY(-350),0>=MetaHelper.getWorldRankBadge(this.worldRank)&&(this.btnMyRankNode.setVisible(!1),this.spriteBgLeft.setContentHeight(410),this.spriteBgRight.setContentHeight(410))):(this.btnMyRankNode.setVisible(!1),this.isWorldExpand=!1,this.btnExpand.setRotation(180),this.nodeExpand.setVisible(!1),this.btnMyRankNode.setVisible(!0),this.spriteBgLeft.setContentHeight(210),
this.spriteBgRight.setContentHeight(210),this.btnMyRankNode.setPositionY(-100),0>=MetaHelper.getWorldRankBadge(this.worldRank)&&(this.btnMyRankNode.setVisible(!1),this.spriteBgLeft.setContentHeight(160),this.spriteBgRight.setContentHeight(160)));this.playMoveEffect(a);this.updateTopNamePosition(a);StartGameController.post("playMoveEffect",a);GameClearController.post("playMoveEffect",a)};
GameRankController.updateTopNamePosition=function(a){for(var c=1;4>c;++c){var d=this["medalNod"+c];d.setVisible(a);this["labelName"+c].setPositionY(d.getPositionY()-(a?25:5))}};
GameRankController.onButtonMyWorldRank=function(){var a=this.worldRank;if(3<a)if(this.isWorldExpand){this.listWorldRank.moveListItemTo(a-4);var a=[],c=this;a.push(cc.delayTime(0.25));a.push(cc.callFunc(function(){for(var a=0;a<c.listWorldRankHolder.length;a++){var e=c.listWorldRankHolder[a];e.playerId==UserManager.getPlayerId()&&EffectHelper.boomShake(e.node)}}));c.btnExpand.runAction(cc.sequence(a))}else this.onButtonExpand(),this.onButtonMyWorldRank()};
GameRankController.back=function(){StartGameController.isShowing&&StartGameController.back();GameClearController.isShowing&&GameClearController.back()};StartTargetController=createController("StartTargetController");StartTargetController.onViewCreate=function(){return loadccb(GetAssetsPath("StartTarget.ccbi"),this)};StartTargetController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"swallow");this.reset()};
StartTargetController.reset=function(){if(null!=this.param){var a=this;this.skelGift.setVisible(!1);this.performDelay(function(){a.skelGift.setVisible(!0);a.skelGift.setAnimation(0,"animation",!1)},0.5);this.performDelay(function(){a.skelPet.setAnimation(0,"happy1",!1);a.skelPet.addAnimation(0,"stand",!0)},0.8);this.performDelay(function(){SceneHelper.jumpToScene("GameWorld","circleclip",a.param,!0,0.8,ccp(0.5,0.5),!0)},2.5)}};GameCriticalHitController=createController("GameCriticalHitController");GameCriticalHitController.onViewCreate=function(){return loadccb(GetAssetsPath("GameCriticalHit.ccbi"),this)};
GameCriticalHitController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"swallow");var a=UserManager.getMainPetId();this.skelPet.reloadWithCache(GetAssetsPath("anim"+a+".json"));PetHelper.setPetEquipByPetID(this.skelPet,a);this.skelPet.setAnimation(0,"stand",!1);this.anim.runAnimationsForSequenceNamed("default");this.spriteBanner.setDisplayFrameFile(GetAssetsPath("banner_"+a+".png"));this.spriteSkill.setDisplayFrameName("pet_skill_"+a+".png");this.spriteTitle.setDisplayFrameFile(GetLanAssetsPath("title_skill_"+
a+".png"));a=cc.Sprite.create(GetAssetsPath("big_ico_skill_"+a+".png"));this.spriteSkill.addChild(a);a.setScale(0.375);a.setPositionX(0.5*this.spriteSkill.getContentWidth());a.setPositionY(0.5*this.spriteSkill.getContentHeight());var c=this;this.performDelay(function(){c.hide();c.param&&c.param()},1.2);audio.playSound(GameMusicType.kPetCastSkill)};TargetDialogController=createController("TargetDialogController");TargetDialogController.onViewCreate=function(){return loadccb(GetAssetsPath("TargetDialog.ccbi"),this)};TargetDialogController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);var a=this;this.registerScriptTouchHandler(function(c,d,e){"began"==c&&a.back(!0);return!0},!1,0,!0);this.reset()};
TargetDialogController.reset=function(){this.isBacking=!1;this.initTarget();var a=UserManager.getMainPetId();this.skelNpc.reloadWithCache(GetAssetsPath("anim"+a+".json"));PetHelper.setPetEquipByPetID(this.skelNpc,a);this.skelNpc.setAnimation(0,"stand",!0);this.nodeDialog.setScale(0);this.nodeDialog.runAction(cc.scaleTo(0.2,1).easing(cc.easeBackOut()))};
TargetDialogController.initTarget=function(a){var c=GameWorldTargetController.targets,d=GameWorldTargetController.tileLogic.theOrderLimit,e=GameWorldTargetController.param.level,f=GameWorldTargetController.param.roomId;a=[];for(var g=1;g<=d;++g){var h=c[g-1],m=a[g-1]={};m.target=h;var n=loadccb(GetAssetsPath("TargetNpcItem.ccbi"),m,this);m.node=n;m.spriteGoal.setDisplayFrameName(h.frame);m.labelCount.setString("x"+tostring(h.amount));m.targetNode=GameWorldTargetController.nodeNpcCookingHolder[g-1].spriteGoal;
1==d?n.setPositionX(n.getPositionX()+80):2<=d-g?(n.setPositionX(n.getPositionX()+80),n.setPositionY(n.getPositionY()-60)):n.setPositionX(n.getPositionX()+150*(d-g));3==d&&n.setPositionY(n.getPositionY()+30);this.nodeTarget.addChild(n)}LevelMapManager.getInstance().getMeta(e)&&(c=f?"t_TimeLevel_text_3":GameModeType.getModeStartKey(e)[0],this.content.setString(TextTable[c]));this.holder=a;this.isAllNpcAnimatedEnter=GameWorldTargetController.isAllNpcAnimatedEnter;a=1.5;this.isAllNpcAnimatedEnter&&(a=
3.5);var r=this;this.performDelay(function(){r.back()},a)};TargetDialogController.flyToTargetAnimation=function(a,c,d){var e=this;EffectHelper.flyAndScalAnim(a,null,c,function(){e.scaleLight(c);d&&GameWorldPropController.isShowing&&GameWorldPropController.shakeAllItems()})};TargetDialogController.scaleLight=function(a){var c=a.getScale(),d=[];d.push(cc.scaleTo(0.2,1.2*c));d.push(cc.scaleTo(0.2,c));a.runAction(cc.sequence(d))};
TargetDialogController.back=function(a){if(!this.isBacking){this.isBacking=!0;var c=this,d=function(){for(var a in c.holder){var d=c.holder[a];CCNodeUtils.changeParent(d.node,c.layer,0,0);c.flyToTargetAnimation(d.node,d.targetNode,a==c.holder.length-1)}c.nodeDialog.runAction(cc.sequence(cc.scaleTo(0.5,0).easing(cc.easeBackIn()),cc.callFunc(function(){c.performDelay(function(){c.hide();c.param&&c.param()},0.5)})))},e=GameWorldTargetController.isAllNpcAnimatedEnter;a&&e?(GameDirector.setTimeScale(8),
this.performDelay(function(){GameDirector.setTimeScale(1);d()},3.4)):d()}};PetHouseController=createController("PetHouseController");PetHouseController.onViewCreate=function(){return loadccb(GetAssetsPath("PetHouse.ccbi"),this)};PetHouseController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.registerEvent("event.ui.update");this.registerEvent("event.ui.updateTempEquip");this.registerEvent("event.ui.expPropUsed");this.registerEvent("event.ui.detailsUiMove");this.registerEvent("event.ui.closePetHouse");this.listPet.setGalleryMode(2);this.reset()};
PetHouseController.onViewEnter=function(){this.updateUI();this.onListIndexChange()};PetHouseController.onEvents=function(a,c){if("event.ui.update"==a)this.updateUI();else if("event.ui.updateTempEquip"==a)this.updateEquip(c);else if("event.ui.expPropUsed"==a)this.onExpPropUsed(c);else if("event.ui.detailsUiMove"==a)this.onUIMove(c.isOpen);else"event.ui.closePetHouse"==a&&this.back()};
PetHouseController.reset=function(){this.btnBack.setVisible(!1);this.btnBack2.setVisible(!1);this.btnCamera.setVisible(!1);this.param&&"bag"==this.param.from?(this.page="details",this.spBG.setPositionY(768),this.btnBack2.setVisible(!0)):(this.page="equip",this.spBG.setPositionY(640),this.btnBack.setVisible(!0));var a=UserManager.getMainPetId();this.param&&this.param.petId&&(a=this.param.petId);var c=0;this.listPetHolder=[];for(var d in MetaHelper.gameMeta.pet){var e=MetaHelper.gameMeta.pet[d],f={},
g=loadccb(GetAssetsPath("PetChooseItem.ccbi"),f,this);this.listPetHolder[d]=f;this.listPet.addItem(g);f.id=e.id;f.meta=e;f.skelPet.reloadWithCache(GetAssetsPath("anim"+e.id+".json"));f.skelPet.setAnimation(0,"stand",!0);PetHelper.setPetEquipByPetID(f.skelPet,e.id);e.id==a&&(c=tonumber(d)+1)}var h=this;this.listPet.moveListItemTo(c,0);this.listPet.registerScriptListener(function(a){h.onListIndexChange()});this.inputName.registerScriptHandler(function(a){"detach"==a?(h.btnNameEdit.setVisible(!0),h.changePetName(h.inputName.getString())):
"attach"==a&&h.btnNameEdit.setVisible(!1)});this.btnNameEdit.setVisible(!cc.sys.isNotPrompt);this.inputName.setEnabled(!cc.sys.isNotPrompt);this.btnDetails.setVisible(!1)};PetHouseController.updateUI=function(){this.btnHelp.setVisible(!1);this.btnEquip.setVisible(!1);this.btnDetails.setVisible(!1);this.btnHelp.setVisible("equip"==this.page);this.btnDetails.setVisible("equip"==this.page);this.btnEquip.setVisible("details"==this.page)};
PetHouseController.updateEquip=function(a){var c=this.listPet.getSelect();PetHelper.setPetEquip(this.listPetHolder[c-1].skelPet,a.equips);this.displaySuitBouns(a.equips)};
PetHouseController.displaySuitBouns=function(a){var c=MetaHelper.getPetSuit(a);this.suitBouns.setVisible(null!=c);if(null!=c){var d=0,e=0,f=20;"en"==DeviceLan&&(f=18);this.suitBounsTips.removeAllChildrenWithCleanup(!0);for(var g in c.special){var h=cc.LabelTTF.create(TextTable["t_Outfitskill_"+c.special[g][0]],"Arial",f);h.setPosition(-70,d);h.setAnchorPoint(ccp(0,0.5));this.suitBounsTips.addChild(h);d-=30;e+=1}a=MetaHelper.getPetEquipBonus(a);h=a[0];a=a[1];0<h&&(h=TextTable.t_Pet_CionAdd+string.format("+%.1f%%",
100*h),h=cc.LabelTTF.create(h,"Arial",f),h.setPosition(-70,d),h.setAnchorPoint(ccp(0,0.5)),this.suitBounsTips.addChild(h),d-=30,e+=1);0<a&&(h=TextTable.t_Pet_ScoreAdd+string.format("+%.1f%%",100*a),h=cc.LabelTTF.create(h,"Arial",f),h.setPosition(-70,d),h.setAnchorPoint(ccp(0,0.5)),this.suitBounsTips.addChild(h),e+=1);this.suitBounsFrame.setPreferredSize(cc.size(219,38*e));this.suitBoundsIcon.setDisplayFrameName("suit_"+c.id+".png")}};
PetHouseController.onListIndexChange=function(a){a=this.listPet.getSelect();a=this.listPetHolder[a-1];var c=UserManager.petDict[a.id];this.curPetId=a.id;var d=TextTable["t_name"+a.id],e=!0;0==a.meta.gender&&(e=!1);c?(c.id==UserManager.getMainPetId()?this.btnSet.setVisible(!1):this.btnSet.setVisible(!0),""!=c.name&&(d=c.name),this.displaySuitBouns(c.equips),this.inputGroup.setVisible(!0),this.btnUnlock.setVisible(!1),this.unlockGroup.setVisible(!1)):(this.btnSet.setVisible(!1),this.btnUnlock.setVisible(!0),
this.suitBouns.setVisible(!1),this.inputGroup.setVisible(!1),this.unlockGroup.setVisible(!0));this.inputName.setString(d);this.labelUnlockName.setString(d);this.iconSex.setDisplayFrameName(e&&"pet_ico_male.png"||"pet_ico_female.png");this.iconSex2.setDisplayFrameName(e&&"pet_ico_male.png"||"pet_ico_female.png");notification.postEvent("event.ui.petHouseIndexChange",{id:a.id})};
PetHouseController.onExpPropUsed=function(a){var c=GameIconHelper.getIconFrameName(a.propId),c=cc.Sprite.createWithSpriteFrameName("#"+c);a.src.addChild(c);var d=this;EffectHelper.flyAndScalAnim(c,a.src,this.btnBtnPet,function(){var a=d.listPet.getSelect(),a=d.listPetHolder[a-1];a.skelPet.setAnimation(0,"happy1",!1);a.skelPet.addAnimation(0,"stand",!0);notification.postEvent("event.ui.update");d.onListIndexChange()});GameMusicManager.playEffect(GameMusicType.kPetLevelUp)};
PetHouseController.onButtonPet=function(){var a=this.listPet.getSelect(),a=this.listPetHolder[a-1],c=Math.random2(1,3);1==c?a.skelPet.setAnimation(0,"caress",!1):2==c?a.skelPet.setAnimation(0,"happy1",!1):a.skelPet.setAnimation(0,"happy2",!1);a.skelPet.addAnimation(0,"stand",!0)};
PetHouseController.onButtonSet=function(){audio.playSound(GameMusicType.kButtonClick);var a=this.listPet.getSelect(),c=this;HttpHelper.changeMainPet(this,this.listPetHolder[a-1].id,function(a){0!=a?TipDialogController.showTip(ErrMsg(a)):(c.onListIndexChange(),TipDialogController.showTip(TextTable.t_Pet_Chefchange))})};
PetHouseController.onUIMove=function(a){var c=640;a&&(c=790);a=Math.abs(c-this.spBG.getPositionY())/800;this.spBG.stopAllActions();this.spBG.runAction(cc.moveTo(a,ccp(0.5*display.width,c)).easing(cc.easeExponentialOut()))};PetHouseController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};PetHouseController.back=function(){PetHouseEquipController.post("checkNeedChangeDress");SceneHelper.popScene()};
PetHouseController.onBtnHelpClicked=function(){PetEquipInfoDialogController.show();audio.playSound(GameMusicType.kButtonClick)};PetHouseController.showPage=function(a){this.page=a;notification.postEvent("event.ui.update");notification.postEvent("event.ui.petHousePageChagne",this.page)};PetHouseController.onBtnEquipClicked=function(){this.showPage("equip");audio.playSound(GameMusicType.kButtonClick)};PetHouseController.onBtnDetailsClicked=function(){this.showPage("details");audio.playSound(GameMusicType.kButtonClick)};
PetHouseController.onBtnCameraClicked=function(){audio.playSound(GameMusicType.kButtonClick);ShareController.openShareCameraPreview(0.5*display.width,0.7*display.height,TencentSdkManager.getShareUrl(),function(a){a?TipDialogController.showTip(TextTable.t_shareSuccess):!1==a&&TipDialogController.showTip(ErrMsg(200104))})};PetHouseController.onButtonEditName=function(){this.btnNameEdit.setVisible(!1);audio.playSound(GameMusicType.kButtonClick);this.inputName.attachWithIME()};
PetHouseController.changePetName=function(a){var c=this.curPetId;if(UserManager.petDict[c].name!=a){var d=this;HttpHelper.changePetName(this,c,a,function(a){0!=a?TipDialogController.showTip(ErrMsg(a)):notification.postEvent("event.ui.petHouseChangeName",d.curPetId)})}};PetHouseController.onButtonUnlock=function(){audio.playSound(GameMusicType.kButtonClick);GameHelper.openUI("get_pet",this.curPetId)};PetInfoDialogController=createController("PetInfoDialogController");PetInfoDialogController.onViewCreate=function(){return loadccb(GetAssetsPath("PetInfoDialog.ccbi"),this)};PetInfoDialogController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);EffectHelper.dialogLeftShow(this);this.reset()};PetInfoDialogController.reset=function(){};PetInfoDialogController.onButtonBack=function(){audio.playSound(GameMusicType.kButtonClick);this.back()};PetInfoDialogController.back=function(){EffectHelper.dialogLeftHide(this)};PetLevelUpRewardController=createController("PetLevelUpRewardController");PetLevelUpRewardController.onInit=function(){notification.registerEvent(this.onLevelUpRewardEvents,"event.server.petLevelUpReward",this)};PetLevelUpRewardController.onDestroy=function(){notification.unregisterEvent(this.onLevelUpRewardEvents)};PetLevelUpRewardController.onViewCreate=function(){return loadccb(GetAssetsPath("PetLevelUpReward.ccbi"),this,null,null,null,["icoStar","spriteStar"])};
PetLevelUpRewardController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.reset();5>=UserManager.getTopLevel()&&notification.postEvent("event.ui.openPetLevelUpReward")};PetLevelUpRewardController.onLevelUpRewardEvents=function(a,c){var d=this;setTimeout(function(){var a=c.rewards;0<a.length&&d.showLoading({rewards:a,petId:c.petId,nextLevel:c.nextLevel})},0)};
PetLevelUpRewardController.reset=function(){if(null!=this.param){var a=this.param.rewards[0],c=a[0],a=a[1];this.nodePet.setVisible(!1);this.param.petId||UserManager.getMainPetId();a=GameIconHelper.getIconFrameName(c,a);this.spriteEquip.setDisplayFrameName(a);if(ServerProxy.getItemType(c)==ItemType.EQUIP){(a=MetaHelper.equipDict[c])?(c=a.rarity,this.equipNameLabel.setString(a.desc)):(this.spriteEquip.setDisplayFrameName("equip_unknown.png"),this.equipNameLabel.setString("???"),c=0);for(a=0;a<this.icoStar.length;++a)this.icoStar[a].setVisible(!1);
for(a=0;a<c&&a<this.icoStar.length;++a)this.icoStar[a].setVisible(!0),this.icoStar[a].setDisplayFrameName("pet_star1.png")}this.param.nextLevel?(this.labelNext.setVisible(!0),this.labelNext.setString(this.param.nextLevel)):this.nextTipNode.setVisible(!1);this.playAction()}};PetLevelUpRewardController.playAction=function(){for(var a=this.spriteStar,c=1;c<=a.length;c++)EffectHelper.starAction(a[c-1]);this.nodeLight.runAction(cc.repeatForever(cc.rotateBy(5,360)))};
PetLevelUpRewardController.playPutOnDressEffect=function(a){this.nodePet.setVisible(!0);this.nodeEquip.setVisible(!1);var c=20001;(a=MetaHelper.equipDict[a])&&(c=a.own);this.skelPet.reloadWithCache(GetAssetsPath("anim"+c+".json"));this.skelPet.setAnimation(0,"happy2",!0);PetHelper.setPetEquipByPetID(this.skelPet,c);this.nodeBigLight.stopAllActions();this.nodeBigLight.runAction(cc.repeatForever(cc.rotateBy(7,360)))};PetLevelUpRewardController.onButtonOk=function(){this.back()};
PetLevelUpRewardController.onButtonEquip=function(){var a=this.param.rewards[0][0],c=this,d=function(d){WaitingDialogController.hide();if(0==d)if(notification.postEvent("event.ui.updateEquip"),GameTutorialHelper.isGuiding())c.playPutOnDressEffect(a);else{d=20001;var f=MetaHelper.equipDict[a];f&&(d=f.own);f=Math.random2(1,5);ShareController.showLoading({shareType:"pet_shot_cloth",petId:d,txtIdx:f,feedId:2009});c.back()}else TipDialogController.showTip(ErrMsg(d))};ServerProxy.getItemType(a)==ItemType.EQUIP&&
(MetaHelper.equipDict[a]?(WaitingDialogController.show(),HttpHelper.putOnDress(c,[a],d)):this.back())};PetLevelUpRewardController.onButtonBack=function(){this.back()};PetLevelUpRewardController.back=function(){this.hide()};PetLevelUpRewardController.onInit();PetSkillDialogController=createController("PetSkillDialogController");PetSkillDialogController.onViewCreate=function(){return loadccb(GetAssetsPath("PetSkillDialog.ccbi"),this)};
PetSkillDialogController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);var a=this;this.registerTouch(function(c,e){"began"==c&&a.back();return!0},0,!0);var c=this.param.petId;this.labelDes.setString(TextTable["t_Ablt_Desc_"+c]);this.labelName.setString(TextTable["t_ability"+c]);this.iconSkill.setDisplayFrameName("pet_skill_"+c+".png");this.registerUpdate("loop",function(){a.skelPreview.setToSetupPose();a.skelPreview.setAnimation(0,tostring(c),!1)},2.5,!0);this.nodeDialog.setScale(0);
this.nodeDialog.runAction(cc.scaleTo(0.2,1).easing(cc.easeBackOut()))};PetSkillDialogController.back=function(){this.hide()};PetHelper={};var equipTypeMax=4;PetHelper.setPetEquipByPetID=function(a,c){if(a){var d=UserManager.getPetInfo(c);d?XCXManager.isMiniGameNewUser?(PetHelper.setPetEquip(a,[301102,301202,301302,301402]),PetHelper.setPetEquip(GameWorldTargetController.skelPet,[301102,301202,301302,301402])):PetHelper.setPetEquip(a,d.equips):this.clearPetEquip(a)}};PetHelper.setPetEquip=function(a,c){if(a)if(c)for(var d=1;d<=equipTypeMax;d++){var e=0,f=c[d-1]||0;0!=f&&(e=f%100);a.setEquipAttachment(d,e)}else this.clearPetEquip(a)};
PetHelper.setPetEquipByItemsMeta=function(a,c){for(var d=[0,0,0,0],e=0;e<c.length;e++){var f=c[e][0],g=MetaHelper.equipDict[f];g&&(d[g.pos-1]=f)}this.setPetEquip(a,d)};PetHelper.clearPetEquip=function(a){this.setPetEquip(a,[0,0,0,0])};PetHallController=createController("PetHallController");PetHallController.SYNC_POPCORN_CD=300;PetHallController.lastSyncPopcorn=TimeUtils.time();PetHallController.onViewCreate=function(){return loadccb(GetAssetsPath("PetHall.ccbi"),this)};
PetHallController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.navis=[];this.registerEvent("event.ui.update");this.registerEvent("event.ui.updateEquip");this.registerEvent("event.ui.rollToPopcorn");this.registerEvent("event.ui.petHouseChangeName");this.registerEvent("event.server.mainPetChanged");this.registerEvent("event.server.addPet");this.registerEvent(PopcornHelper.EVENTS.BackToHall);this.registerEvent(PopcornHelper.EVENTS.LevelSaved);this.registerEvent(PopcornHelper.EVENTS.ChallengeNext);
this.registerEvent(PopcornHelper.EVENTS.DefenderChanged);this.reset();this.registerUpdate("navi",this.updateNavi,0);this.registerUpdate("popcorn",this.updatePopcorn,1,!0);if(this.param){var a=this;this.param.playerId?this.performDelay(function(){var c=a.param.playerId;WaitingDialogController.show();a.registerUpdate("check_target_friend",function(){var d=a.getListIdxByFriendId(c);0<d&&(a.unregisterUpdate("check_target_friend"),WaitingDialogController.hide(),a.onFriendClicked(d-1,0))},0.5)}):this.param.updateLevel&&
this.performDelay(function(){PopcornSelectLevelDialogController.show()})}else PetHallController.isPopcornEnabled()&&this.performDelay(function(){notification.postEvent(PopcornHelper.EVENTS.EnterHall)})};PetHallController.onViewEnter=function(){this.updateUI()};PetHallController.onViewClose=function(){this.fdata=this.fid=null;this.petPosCache={}};
PetHallController.runUIInAnim=function(){for(var a in this.topBtns){var c=this.topBtns[a],d=cc.delayTime(Math.random2(0,10)/100),e=cc.scaleTo(0.25,1).easing(cc.easeBackOut()),d=cc.sequence(d,e);c.setScale(0);c.runAction(d);c.y=c.getPositionY()}this.top.setPositionY(this.top.customY+this.topOffset);this.showTopBar(!0);this.uiTopFriend.setPositionY(this.uiTopFriend.y+this.topFriendOffset);this.bottom.setPositionY(-230);this.bottom.runAction(cc.moveBy(0.4,ccp(0,230)).easing(cc.easeExponentialOut()))};
PetHallController.initFriendList=function(a){table.sort(a,function(a,c){return a.star>c.star});var c=this,d=function(d){d-=1;var e=a[d],h={},m=loadccb(GetAssetsPath("PetHallItemUser.ccbi"),h,c);h.data=e;c.listViewUser.addItem(m);c.friends[d]=h;h.labelName.setString(e.name);h.labelStar.setString(tostring(e.star));GameHelper.loadHeadSprite(h.portrait,e.headUrl,!0);GameHelper.checkAndSetHeadBoardSprite(e.playerId,h.portraitBorder);d=tostring(e.topLevelId);m=Math.max(0.05,0.35-0.045*(d.length-1));h.labelLevel.setString(d);
h.labelLevel.setScale(m);d=UserManager.getLovePetFriendCount();e=UserManager.getLovePetFriendByID(e.playerId);h.heart.setVisible(null==e&&d<c.maxLovedCount)};this.friends=[];var e=Math.min(6,a.length);this.performForLoop(1,a.length,function(a){if(1==a)for(a=1;a<=e;a++)d(a);else a>e&&d(a)},0.05,"update_friends")};PetHallController.petPosCache={};PetHallController.petPosByState={};PetHallController.petPosByState["default"]=[5,1];PetHallController.petPosByState.pet_pos_house=[14,1];
PetHallController.petPosByState.pet_pos_popcorn=[1,5];PetHallController.getPetPosState=function(){return this.isPopcornEnabled()?"pet_pos_popcorn":this.isPetHouseEnabled()?"pet_pos_house":"default"};PetHallController.exchangePetPos=function(a,c){var d=this.getPetPosState(),e=UserManager.getUserId(),d=this.petPosCache[e][d],e=d[a];d[a]=d[c];d[c]=e;return d[a],d[c]};
PetHallController.getPetPos=function(a,c,d){var e=this.getPetPosState();this.petPosCache[a]=this.petPosCache[a]||{};this.petPosCache[a][e]=this.petPosCache[a][e]||{already:{}};var f=this.petPosCache[a][e],g=f[c];if(g)return[this["petPos"+g],g];var g=null,h=this.petPosByState[e][0],m=this.petPosByState[e][1];if(c!=d||f.already[h])if(f.already[m]){d=[];for(h=1;15>=h;h++)14==h&&"pet_pos_house"!=e||f.already[h]||table.insert(d,h);0<d.length&&(g=d[Math.random2(1,d.length)])}else g=m;else g=h;if(d=this["petPos"+
g])f[c]=g,f.already[g]=!0,this.petPosCache[a][e]=f;return[d,g]};
PetHallController.setPetItemDefault=function(a,c,d,e,f){if(this.enemyData)this["enemyPet"+e].addChild(d),20005!=c.id&&2==e?a.skelPet.setScaleX(-1):20005==c.id&&1==e&&a.skelPet.setScaleX(-1);else{f=this.getPetPos(e,c.id,f);e=f[0];f=f[1];if(!e)return!1;e.addChild(d);7<f&&d.setScale(0.8)}a.uiSelf.setVisible(null==this.fid&&null==this.enemyData);a.uiFriend.setVisible(null!=this.fid);a.skelPet.reloadWithCache(GetAssetsPath("anim"+c.id+".json"));a.skelPet.setAnimation(0,"stand",!0);var g=function(){var c=
cc.delayTime(Math.random2(30,90)/10),d=cc.callFunc(function(){var c=["caress","happy1","happy2"],d=Math.random2(0,c.length);a.skelPet.setAnimation(0,c[d],!1);a.skelPet.addAnimation(0,"stand",!0);g()});a.skelPet.runAction(cc.sequence(c,d))};g();PetHelper.setPetEquip(a.skelPet,c.equips);d=c.name;""==d&&(d=TextTable["t_name"+c.id]);a.labelName.setString(d);return!0};PetHallController.setPetItemSelf=function(a){0<a.visible?a.imgVisible.setDisplayFrameName("pet_equip_ui_img_25.png"):a.imgVisible.setDisplayFrameName("pet_equip_ui_img_24.png")};
PetHallController.showPets=function(a,c,d){for(var e=0;e<this.pets.length;++e){var f=this.pets[e];f.node.removeFromParentAndCleanup(!0)}for(e=0;e<this.enemyPets.length;++e)f=this.enemyPets[e],f.node.removeFromParentAndCleanup(!0);this.enemyPets=[];this.pets=[];f=[];for(e in a){var g=a[e];table.insert(f,e)}table.shuffle(f);var h=UserManager.getLovePetFriendCount(),m=UserManager.getLovePetFriendByID(this.fid);for(e in f)if(g=f[e],g=a[g],!this.fid||g.visible){var n={},r=loadccb(GetAssetsPath("PetHallItemPet.ccbi"),
n,this);table.insert(this.pets,n);n.node=r;n.data=g;n.visible=g.visible;n.btnLove.setTag(this.pets.length);n.btnVisible.setTag(this.pets.length);this.setPetItemDefault(n,g,r,c,d)&&(null==this.fid?this.setPetItemSelf(n):n.uiFriend.setVisible(null==m&&h<this.maxLovedCount))}};
PetHallController.resetHallPos=function(){var a=this.petPos5;this.isPopcornEnabled()?a=this.popcorn:this.isPetHouseEnabled()&&(a=this.petHouse);a&&(a=a.convertToWorldSpace(a.getAnchorPointInPoints()),this.nodeRoot.moveToWorldXY(a.x,a.y,0));this.nodeRoot.setTouchEnabled(null==this.enemyData)};PetHallController.isNPCHome=function(){return this.fid&&115790321<=this.fid&&115790325>=this.fid};
PetHallController.showSelfPets=function(){if(!this.fid&&!this.enemyData){var a=UserManager.getUserId(),c=UserManager.getPetInfos(),d=UserManager.getMainPetId();this.showPets(c,a,d)}};PetHallController.enterSelfHome=function(){this.resetHallPos();this.updateFunBtns();this.updateBackBtns();this.updateLevelAndStar();this.updatePopcornMachine();this.showSelfPets()};
PetHallController.enterFriendHome=function(a){this.resetHallPos();this.updateFunBtns();this.updateBackBtns();this.updateLevelAndStar();this.hidePopcornBtns(!0);this.displayPopcornFunBtns(!0,!0);this.updatePopcornMachine();var c=-1,d=!0,e=a.mainPet,f;for(f in a.pets){var g=a.pets[f];0<g.visible&&(c=g.id);g.id==a.mainPet&&(d=0<g.visible)}d||(e=c);this.showPets(a.pets,a.userData.playerId,e)};
PetHallController.resetNavis=function(){var a=this.naviPopCorn.convertToWorldSpace(ccp(0,0)),c=this.naviPetHouse.convertToWorldSpace(ccp(0,0)),d=CCNodeUtils.getNodeGroupBounds(this.popcorn,null),e=CCNodeUtils.getNodeGroupBounds(this.petHouse,null),d=cc.size(d.x,d.y),e=cc.size(e.x,e.y);this.navis=[];this.navis[0]={item:this.popcorn,navi:this.naviPopCorn,naviPos:a,onlySelf:!1,size:d};this.navis[1]={item:this.petHouse,navi:this.naviPetHouse,naviPos:c,onlySelf:!1,size:e};this.navis[0].arrow=this.naviPopCornArrow;
this.navis[1].arrow=this.naviPetHouseArrow};
PetHallController.initFunBtns=function(){var a=1;"en"!=DeviceLan&&(a=1.4);var c=string.expand(TextTable.t_Pet_Wardrobe_tips6,{num:this.petHouseUnlockLevel});this.labelPetHouseLock.setString(c);this.labelPetHouseLock.setScale(a);var c=TextTable.t_ecode200277,d=PopcornHelper.isPopcornOpen(),e=tonumber(PopcornHelper.getOpenLevel());d&&e&&(c=string.expand(TextTable.t_Pet_Wardrobe_tips6,{num:e}));this.labelPopcornLock.setString(c);this.labelPopcornLock.setScale(a);"en"==DeviceLan&&this.btnPopcornChallenge.getChildByTag(1).setScale(0.8)};
PetHallController.initPopcornPart=function(){this.prePopcornReserves=this.prePopcornState=this.hasPopcornInit=this.popcornPetMax=this.popcornPetCur=this.prePopcorn=this.preShell=null;this.enemyPets=[];this.popcornFunBtns=[];this.popcornFunBtns.isShow=!1;this.btnDefendChallenge.show=!1;for(var a=1;5>=a;++a){var c=this.nodePopcornFunBtns.getChildByTag(a);table.insert(this.popcornFunBtns,c);c.x=c.getPositionX();c.y=c.getPositionY();c.setPosition(0,0);c.setScale(0);c.setVisible(!1);if(2!=a){c.childs=
[];for(var d=c.getChildrenCount(),e=1;e<=d;++e){var f=c.getChildByIdx(e-1);f&&table.insert(c.childs,f)}}}this.displayPopcornFunBtns(!1);CCNodeUtils.setSpriteOpacity(this.nodePopcornBar,0);CCNodeUtils.setSpriteOpacity(this.nodePopcornShell,0);CCNodeUtils.setSpriteOpacity(this.nodeOtherPopcorn,0);this.nodePopcornBar.setVisible(!1);this.nodePopcornShell.setVisible(!1);this.nodeOtherPopcorn.setVisible(!1);this.nodePopcornBar.y=this.nodePopcornBar.getPositionY();this.nodeOtherPopcorn.y=this.nodeOtherPopcorn.getPositionY();
this.btnDefendChallenge.setVisible(!1);this.defenderPortrait.setShaderProgramByKey(kCCShaderType_CircleClip);this.iconPopcornBtn.reorderChild(this.popcornDefender,-1);this.bottomChallenge.setPositionY(-400);this.bottomChallenge.setVisible(!1);this.popcornChallengeCoin.setString(tostring(PopcornHelper.getChallengeCoin()));this.popcornChallengeCoin2.setString(tostring(PopcornHelper.getChallengeCoin()))};
PetHallController.reset=function(){this.pets=[];this.friends=[];this.friendData=[];this.friendDataTime=[];this.topOffset=80;this.topFriendOffset=90;this.top.customY=this.top.getPositionY();this.petHouseUnlockLevel=MetaHelper.getFuncUnlockLevel(MenuItemTag.Menu_Tag_FittingRoom);this.uiTopFriend.y=this.uiTopFriend.getPositionY();this.maxLovedCount=MetaHelper.getCommonRewardByID(10).condition;this.topBtns=[this.btnCamera,this.btnBack,this.btnBack2,this.naviPetHouse,this.naviPopCorn];var a=this.top.getPosition();
this.oriNodeTopX=a.x;this.oriNodeTopY=a.y;a=this.bottom.getPosition();this.oriNodeBottomX=a.x;this.oriNodeBottomY=a.y;a=this.btnCamera.getPosition();this.oriBtnCameraX=a.x;this.oriBtnCameraY=a.y;a=this.btnBack.getPosition();this.oriBtnBackX=a.x;this.oriBtnBackY=a.y;a=this.naviPetHouse.getPosition();this.oriBtnNaviPetX=a.x;this.oriBtnNaviPetY=a.y;a=this.naviPopCorn.getPosition();this.oriBtnNaviPopcornX=a.x;this.oriBtnNaviPopcornY=a.y;this.effectLayer.setVisible(!1);this.popcornTest.setVisible(DebugFlag);
this.resetNavis();this.initFunBtns();this.initPopcornPart();this.runUIInAnim();this.nodeRoot.setNodeVisibleDeep(3);this.nodeRoot.setMoveNotSwallowTouch(!0);this.btnCamera.setVisible(!1);var c=this;this.listViewUser.registerScriptListener(function(a,e,f){c.onFriendClicked(a,f)});this.friendListData=[];CacheHelper.getAndCacheFiendsInfo(this,function(a,e){0==a?(c.friendListData=e,c.initFriendList(e),c.updatePopcornMachine()):TipDialogController.showTip(ErrMsg(a))});this.scrollBarUser.bindScrollView(this.listViewUser);
this.enterSelfHome()};PetHallController.getListIdxByFriendId=function(a){for(var c=1;c<=this.friends.length;++c)if(a==this.friends[c-1].data.playerId)return c;return 0};
PetHallController.updateNavi=function(){for(var a=1;a<=this.navis.length;++a){var c=this.navis[a-1],d=!0,e=!0,f=c.item.boundingBoxInWorld(),g=this.nodeRoot.getNearestWorldXY(f.x+0.5*f.width,f.y),f=g.x,g=g.y,d=d&&(0>f||f>display.width);c.onlySelf&&(e=null==this.fid,d=d&&e);this.enemyData&&(d=!1,e=!0);c.navi.setVisible(d);c.item.setVisible(e);d=180*Math.atan2(c.naviPos.x-f,c.naviPos.y-g)/3.1415926;c.arrow.setRotation(d-45)}};
PetHallController.onEvents=function(a,c){if("event.ui.update"==a)this.updateUI();else if("event.ui.updateEquip"==a)this.updateEquip(c);else if("event.ui.rollToPopcorn"==a)this.moveByNavi(this.popcorn,!0);else if("event.server.mainPetChanged"==a)this.updateMainPet(c);else if("event.ui.petHouseChangeName"==a)this.updatePetName(c);else if(a==PopcornHelper.EVENTS.DefenderChanged)this.onPopcornDefenderChanged();else if(a==PopcornHelper.EVENTS.BackToHall)this.onPopcornBackToHall();else if(a==PopcornHelper.EVENTS.ChallengeNext)this.onPopcornChallengeNext(c);
else if(a==PopcornHelper.EVENTS.LevelSaved){this.updateUI();this.updateSelfPopcornFunEnable();PopcornSelectDefenderDialogController.resetExceptIDS();var d=PopcornHelper.isLevelExpired(UserManager.getPopcornLastEditTime());this.popcornUpdateTip.setVisible(d)}else"event.server.addPet"==a&&(this.petPosCache[UserManager.getPlayerId()]={},this.showSelfPets())};
PetHallController.updateUI=function(){this.labelCoin.setString(UserManager.getCoin());this.labelBell.setString(UserManager.getBell());this.updateLevelAndStar();this.updateFunBtns();this.updateFriendFrame();var a=UserManager.getLovePetFriendCount(),c;for(c in this.friends){var d=this.friends[c],e=UserManager.getLovePetFriendByID(d.data.playerId);d.heart.setVisible(null==e&&a<this.maxLovedCount)}};
PetHallController.updateLevelAndStar=function(){var a=0,c=0;null==this.fid?(a=UserManager.getTotalStar(),c=UserManager.getTopLevel()):this.fdata&&(a=this.fdata.userData.star,c=this.fdata.userData.topLevelId);this.labelStar.setString(tostring(a));this.labelLevel.setString(string.expand(TextTable.t_level_ingame,{num:c}))};PetHallController.isPetHouseEnabled=function(){return this.fid?!1:UserManager.getTopLevel()>=MetaHelper.getFuncUnlockLevel(MenuItemTag.Menu_Tag_FittingRoom)};
PetHallController.isPopcornEnabled=function(){var a=null;if(this.fid)if(this.fdata&&this.fdata.userData)a=tonumber(this.fdata.userData.topLevelId);else return!1;return PopcornHelper.isPopcornEnabled(a)};PetHallController.updateBackBtns=function(){this.btnBack.setVisible(null!=this.fid||null!=this.enemyData);this.btnBack2.setVisible(null==this.fid&&null==this.enemyData)};
PetHallController.updateFunBtns=function(){var a=this.isPopcornEnabled(),c=!a&&null==this.fid&&null==this.enemyData||!PopcornHelper.isPopcornOpen();this.btnPopcorn.enable=a;this.popcornStar.setVisible(a);this.popcornLock.setVisible(c);this.lockNaviPopcorn.setVisible(!a);a?this.iconNaviPopcorn.setShaderProgramByKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR):this.iconNaviPopcorn.setShaderProgramByKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR_GRAY);a=this.isPetHouseEnabled();this.btnPetHouse1.enable=a;this.btnPetHouse1.setVisible(a);
this.btnPetHouse0.setVisible(!a);this.lockPetHouse.setVisible(!a);this.petHouseLock.setVisible(null==this.fid);a?this.iconPetHouse.setShaderProgramByKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR):this.iconPetHouse.setShaderProgramByKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR_GRAY)};
PetHallController.updateFriendFrame=function(){for(var a in this.friends){var c=this.friends[a];if(this.fid&&this.fid==c.data.playerId){c.frame.setDisplayFrameName("pet_equip_ui_img_23.png");c.nameFrame.setColor(cc.color(201,124,48));var d=c.data;c.data.star=this.fdata.userData.star;c.labelStar.setString(tostring(d.star));c.data.topLevelId=this.fdata.userData.topLevelId;var d=tostring(d.topLevelId),e=Math.max(0.05,0.35-0.045*(d.length-1));c.labelLevel.setString(d);c.labelLevel.setScale(e)}else c.frame.setDisplayFrameName("pet_equip_ui_img_22.png"),
c.nameFrame.setColor(cc.color(224,173,124))}};PetHallController.updateEquip=function(a){if(null==this.fid)for(var c=1;c<=a.length;++c)for(var d=a[c-1],e=1;e<=this.pets.length;++e){var f=this.pets[e-1];f.data.id==d&&PetHelper.setPetEquip(f.skelPet,f.data.equips)}};PetHallController.updatePetName=function(a){var c=UserManager.getPetInfo(a);if(c)for(var d in this.pets){var e=this.pets[d];if(e.data.id==a){a=c.name;""==a&&(a=TextTable["t_name"+c.id]);e.labelName.setString(a);break}}};
PetHallController.updateMainPet=function(a){if(a.cur!=a.pre){var c=this.exchangePetPos(a.cur,a.pre),d=c[0],c=c[1];if(null==this.fid&&null==this.enemyData){for(var e=null,f=null,g=1;g<=this.pets.length;++g){var h=this.pets[g-1];h.data.id==a.pre?e=h:h.data.id==a.cur&&(f=h)}e&&f&&(a=e.node.getParent(),g=f.node.getParent(),e.node.retain(),f.node.retain(),e.node.removeFromParentAndCleanup(!1),f.node.removeFromParentAndCleanup(!1),a.addChild(f.node),g.addChild(e.node),e.node.release(),f.node.release(),
e.node.setScale(7<c&&0.7||1),f.node.setScale(7<d&&0.7||1))}}};
PetHallController.showTopBar=function(a,c){var d=this.top.customY;a||(d=this.top.customY+this.topOffset);var e=this.top.getPositionY(),d=d-e,e=Math.abs(d)/400;c&&(e=0);d=cc.moveBy(e,ccp(0,d));d=a?d.easing(cc.easeExponentialOut()):d.easing(cc.easeExponentialIn());this.top.stopAllActions();this.top.runAction(d);d=this.uiTopFriend.y;a&&(d=this.uiTopFriend.y+this.topFriendOffset);e=this.uiTopFriend.getPositionY();d-=e;e=Math.abs(d)/400;c&&(e=0);d=cc.moveBy(e,ccp(0,d));d=a?d.easing(cc.easeExponentialOut()):
d.easing(cc.easeExponentialIn());this.uiTopFriend.stopAllActions();this.uiTopFriend.runAction(d)};PetHallController.savePetVisible=function(){var a=[],c;for(c in this.pets){var d=this.pets[c];d.visible!=d.data.visible&&table.insert(a,{itemId:d.data.id,value:d.visible})}0<a.length&&HttpHelper.petSet(this,a,null)};
PetHallController.backToSelf=function(a){function c(){a&&d.displayPopcornFunBtns(!0,!0);d.enterSelfHome()}if(!this.delayShow){this.fid=null;this.showTopBar(!0);this.updateFriendFrame();var d=this;this.startDelayShow(c)}};
PetHallController.back=function(a){audio.playSound(GameMusicType.kPopupClose);if(!this.delayShow){if(!a){if(this.popcornFunBtns.isShow){this.displayPopcornFunBtns(!1);return}if(this.btnDefendChallenge.show){this.displayPopcornFunBtns(!1);return}}null!=this.fid?(this.hidePopcornBtns(!0),this.backToSelf()):null!=this.enemyData?(this.enemyData=null,this.displayEnemyPopcorn(!1,!0),this.displayBottom(!0),this.backToSelf(!0)):(this.savePetVisible(),SceneHelper.popScene())}};
PetHallController.onButtonBack=function(){this.back(!0)};PetHallController.onButtonPetHouse=function(){if(this.btnPetHouse1.enable)this.hidePopcornBtns(),this.savePetVisible(),SceneHelper.pushToScene("PetHouse"),audio.playSound(GameMusicType.kButtonClick);else{var a="",a=this.fid?TextTable.t_Wardrobe_tips4:string.expand(TextTable.t_Pet_Wardrobe_tips6,{num:this.petHouseUnlockLevel});TipDialogController.showTip(a);audio.playSound(GameMusicType.kPopupClose)}};
PetHallController.onBtnVisibleClicked=function(a){if(null==this.fid){var c=this.pets[a-1];if(c&&!c.label){this.hidePopcornBtns();a="";0<c.visible?(c.visible=0,a="t_Pet_Kitchen_btn3",audio.playSound(GameMusicType.kPopupClose)):(c.visible=1,a="t_Pet_Kitchen_btn2",audio.playSound(GameMusicType.kButtonClick));this.setPetItemSelf(c);var d=cc.LabelTTF.create(TextTable[a],"Arial",26);c.uiSelf.addChild(d);c.label=d;a=cc.delayTime(0.35);var e=cc.fadeOut(0.15),f=cc.moveBy(0.5,ccp(0,50)).easing(cc.easeExponentialOut());
a=cc.spawn(f,cc.sequence(a,e));e=cc.callFunc(function(){d.removeFromParentAndCleanup(!0);c.label=null});d.runAction(cc.sequence(a,e))}}};
PetHallController.startEnterFriendHome=function(a,c,d){var e=this.fdata;this.fdata=a;this.fid=a.userData.playerId;e&&e.mainPet!=a.mainPet&&(this.petPosCache[this.fid]=null);this.showTopBar(!1);this.btnCamera.setVisible(!1);this.updateFriendFrame();this.labelTopFriendName.setString(tostring(a.userData.name));GameHelper.loadHeadSprite(this.topFriendPortrait,a.userData.headUrl);a=Math.min(0.5,0.05*Math.abs(d-c));this.listViewUser.moveListItemTo(c,a)};
PetHallController.startDelayShow=function(a){this.delayShow=!0;var c=this,d=[];d.push(cc.fadeIn(0.5));d.push(cc.callFunc(function(){c.delayShow=!1;a&&a()}));d.push(cc.fadeOut(0.3));d.push(cc.hide());d=cc.sequence(d);this.effectLayer.setVisible(!0);this.effectLayer.stopAllActions();this.effectLayer.runAction(d)};
PetHallController.jumpToFriendHomeByID=function(a){var c=null,d;for(d in this.friends)if(a==this.friends[d].data.playerId){c=d;break}null!=c&&(a=this.listViewUser.getSelect(),this.onFriendClicked(c,a))};
PetHallController.onFriendClicked=function(a,c){if(!this.delayShow){var d=this.friends[a];if(!this.fid||this.fid!=d.data.playerId){audio.playSound(GameMusicType.kButtonClick);var e=this,f=function(d){e.startEnterFriendHome(d,a,c);e.startDelayShow(function(){e.enterFriendHome(d)})},g=this.friendData[d.data.playerId],h=this.friendDataTime[d.data.playerId];g&&7200>=TimeUtils.time()-h?f(g):(WaitingDialogController.show(),HttpHelper.getFriendInfo(this,d.data.playerId,function(a,c){WaitingDialogController.hide();
0==a?(e.friendData[d.data.playerId]=c,e.friendDataTime[d.data.playerId]=TimeUtils.time(),f(c)):TipDialogController.showTip(ErrMsg(a))}))}}};
PetHallController.showLovedReward=function(a,c){var d=[],e;for(e in c){var f=c[e],g=0,h=cc.Node.create();h.setPositionY(-70);a.uiFriend.addChild(h);table.insert(d,h);var m=f[1],n=GameIconHelper.getIconFrameName(f[0],m),n=cc.Sprite.createWithSpriteFrameName("#"+n);n.setAnchorPoint(ccp(0,0.5));h.addChild(n);var r=n.getContentSize(),r=Math.min(56/r.width,56/r.height);n.setScale(r);g+=n.getContentSize().width*r;m=cc.LabelBMFont.create("x"+tostring(m),GetAssetsPath("num_paragraph_white.fnt"));m.setScale(0.5);
m.setPosition(g,0);m.setAnchorPoint(ccp(0,0.5));h.addChild(m);g=CCNodeUtils.getNodeGroupBounds(h,null);h.setPositionX(-g.width/2)}h=cc.LabelTTF.create(TextTable.t_Pet_Kitchen_tips1,"Arial",26);h.setPositionY(-70);h.setAnchorPoint(ccp(0.5,0));a.uiFriend.addChild(h);table.insert(d,h);h.getContentSize();for(e in d)h=d[e],g=(e-0)/2.5,m=cc.delayTime(g),n=CETreeFadeTo.create(0.2,255),m=cc.sequence(m,n),CCNodeUtils.setSpriteOpacity(h,0),h.runAction(m),m=cc.delayTime(g),n=cc.moveBy(1,ccp(0,140)),m=cc.sequence(m,
n),h.runAction(m),m=cc.delayTime(g+0.9),n=CETreeFadeTo.create(0.1,0),m=cc.sequence(m,n),h.runAction(m);return f};
PetHallController.onBtnLoveClicked=function(a){var c=this.pets[a-1];if(null!=this.fid&&null!=c){this.hidePopcornBtns();audio.playSound(GameMusicType.kButtonClick);var d=this;WaitingDialogController.show();HttpHelper.love(this,this.fid,c.data.id,this.isPopcornEnabled(),function(a,f){WaitingDialogController.hide();if(0==a)for(var g in d.pets)d.pets[g].btnLove.setVisible(!1),d.showLovedReward(c,f.rewards),d.updateUI();else TipDialogController.showTip(ErrMsg(a))})}};
PetHallController.onBtnCameraClicked=function(){this.hidePopcornBtns();audio.playSound(GameMusicType.kButtonClick);this.showAllUIButtons(!1);ShareController.openShareCameraPreview(0.5*display.width,0.7*display.height,TencentSdkManager.getShareUrl(),function(a){this.showAllUIButtons(!0);a?TipDialogController.showTip(TextTable.t_shareSuccess):!1==a&&TipDialogController.showTip(ErrMsg(200104))},!0)};
PetHallController.showAllUIButtons=function(a,c){this.top.stopAllActions();this.bottom.stopAllActions();this.btnCamera.stopAllActions();this.btnBack.stopAllActions();this.btnBack2.stopAllActions();this.naviPetHouse.stopAllActions();this.naviPopCorn.stopAllActions();if(a){c?(this.top.setPosition(this.oriNodeTopX,this.oriNodeTopY),this.bottom.setPosition(this.oriNodeBottomX,this.oriNodeBottomY),this.btnCamera.setPosition(this.oriBtnCameraX,this.oriBtnCameraY),this.btnBack.setPosition(this.oriBtnBackX,
this.oriBtnBackY),this.btnBack2.setPosition(this.oriBtnBackX,this.oriBtnBackY),this.naviPetHouse.setPosition(this.oriBtnNaviPetX,this.oriBtnNaviPetY),this.naviPopCorn.setPosition(this.oriBtnNaviPopcornX,this.oriBtnNaviPopcornY)):(this.top.runAction(cc.moveTo(0.1,ccp(this.oriNodeTopX,this.oriNodeTopY))),this.bottom.runAction(cc.moveTo(0.1,ccp(this.oriNodeBottomX,this.oriNodeBottomY))),this.btnCamera.runAction(cc.moveTo(0.1,ccp(this.oriBtnCameraX,this.oriBtnCameraY))),this.btnBack.runAction(cc.moveTo(0.1,
ccp(this.oriBtnBackX,this.oriBtnBackY))),this.btnBack2.runAction(cc.moveTo(0.1,ccp(this.oriBtnBackX,this.oriBtnBackY))),this.naviPetHouse.runAction(cc.moveTo(0.1,ccp(this.oriBtnNaviPetX,this.oriBtnNaviPetY))),this.naviPopCorn.runAction(cc.moveTo(0.1,ccp(this.oriBtnNaviPopcornX,this.oriBtnNaviPopcornY))));for(var d in this.pets){var e=this.pets[d];e.btnVisible.setVisible(!0)}}else for(d in c?(this.top.setPosition(this.oriNodeTopX,this.oriNodeTopY+100),this.bottom.setPosition(this.oriNodeBottomX,this.oriNodeBottomY-
300),this.btnCamera.setPosition(this.oriBtnCameraX-150,this.oriBtnCameraY),this.btnBack.setPosition(this.oriBtnBackX+150,this.oriBtnBackY),this.btnBack2.setPosition(this.oriBtnBackX+150,this.oriBtnBackY),this.naviPetHouse.setPosition(this.oriBtnNaviPetX-150,this.oriBtnNaviPetY),this.naviPopCorn.setPosition(this.oriBtnNaviPopcornX+150,this.oriBtnNaviPopcornY)):(this.top.runAction(cc.moveTo(0.1,ccp(this.oriNodeTopX,this.oriNodeTopY+100))),this.bottom.runAction(cc.moveTo(0.1,ccp(this.oriNodeBottomX,
this.oriNodeBottomY-300))),this.btnCamera.runAction(cc.moveTo(0.1,ccp(this.oriBtnCameraX-150,this.oriBtnCameraY))),this.btnBack.runAction(cc.moveTo(0.1,ccp(this.oriBtnBackX+150,this.oriBtnBackY))),this.btnBack2.runAction(cc.moveTo(0.1,ccp(this.oriBtnBackX+150,this.oriBtnBackY))),this.naviPetHouse.runAction(cc.moveTo(0.1,ccp(this.oriBtnNaviPetX-150,this.oriBtnNaviPetY))),this.naviPopCorn.runAction(cc.moveTo(0.1,ccp(this.oriBtnNaviPopcornX+150,this.oriBtnNaviPopcornY)))),this.pets)e=this.pets[d],e.btnVisible.setVisible(!1)};
PetHallController.moveByNavi=function(a,c){if(a){var d=a.boundingBoxInWorld(),e=this.nodeRoot.getNearestWorldXY(d.x+0.5*d.width,d.y),d=e.x,e=e.y,f=Math.min(0.5,Math.abs(d-display.width/2)/1E3);c&&(f=0);this.nodeRoot.moveToWorldXY(d,e,f)}};PetHallController.onNaviPopCornClicked=function(){this.delayShow||(this.hidePopcornBtns(),audio.playSound(GameMusicType.kButtonClick),this.moveByNavi(this.popcorn))};
PetHallController.onNaviPetHouseClicked=function(){this.delayShow||(this.hidePopcornBtns(),audio.playSound(GameMusicType.kButtonClick),this.moveByNavi(this.petHouse))};PetHallController.onBtnCoinClicked=function(){this.delayShow||(this.hidePopcornBtns(),audio.playSound(GameMusicType.kButtonClick),ShopController.loadAndShow(1))};
PetHallController.onBtnBellClicked=function(){if(!this.delayShow){this.hidePopcornBtns();var a=MetaHelper.getFuncUnlockLevel(MenuItemTag.Menu_Tag_Lottery);-1==a||UserManager.getTopLevel()<a?(a=string.expand(TextTable.t_Pet_Wardrobe_tips6,{num:a}),TipDialogController.showTip(a)):(audio.playSound(GameMusicType.kButtonClick),SceneHelper.pushToScene("Lottery"))}};
PetHallController.updatePopcorn=function(){if(PopcornHelper.isPopcornEnabled()){UserManager.updatePopcorn();var a=UserManager.getPopcornShellRemain();if(this.preShell!=a){if(0>=a)this.popcornShell.setDisplayFrameName("popcorn_shell_icon_0.png"),this.labelPopcornShell.setString(TextTable.t_PopcornFight_Shield_text_2);else{var c=TextTable.t_PopcornFight_Shield_text_1+PopcornHelper.getTimeStr(a/1E3,2);this.labelPopcornShell.setString(c);this.popcornShell.setDisplayFrameName("popcorn_shell_icon_1.png")}this.preShell=
a}var d=UserManager.getPopcornData(),a=d[0],c=d[1],d=d[2];if(this.prePopcorn!=a||this.prePopcornState!=d||this.prePopcornReserves!=c)null!=this.prePopcornState&&this.prePopcornState!=d&&0!=this.prePopcornState&&0==d&&PopcornLevelUpSuccessDialogController.show({upType:this.prePopcornState}),this.prePopcorn=a,this.prePopcornState=d,this.prePopcornReserves=c,notification.postEvent(PopcornHelper.EVENTS.Update,{cur:a,max:c}),d=a/c*100,a=tostring(a)+"/"+tostring(c),this.labelPopCorn.setString(a),this.barPopCorn.setPercentage(d),
this.popcornLabel.setString(a),this.popcornBar.setPercentage(d),a=UserManager.getPopcornOutput(),this.popcornOutputLabel.setString(tostring(a)+"/h");d=UserManager.getPopcornChallengeTimes();a=d[0];c=d[1];if(this.popcornPetCur!=a||this.popcornPetMax!=c)this.popcornPetCur=a,this.popcornPetMax=c,this.popcornChallengeNum.setString(tostring(a)+"/"+tostring(c))}else this.labelPopCorn.setString("0/0"),this.barPopCorn.setPercentage(100),this.unregisterUpdate("popcorn")};
PetHallController.hidePopcornBtns=function(a){this.popcornFunBtns.isShow?this.displaySelfPopcorn(!1,a):this.btnDefendChallenge.show&&this.displayFriendPopcorn(!1,a)};PetHallController.displayPopcornFunBtns=function(a,c){this.fid?this.displayFriendPopcorn(a,c):this.enemyData?this.displayEnemyPopcorn(a,c):(this.displaySelfPopcorn(a,c),this.displayPopcornUpdateTip(a,c))};
PetHallController.displayPopcornUpdateTip=function(a,c){if(a&&!c&&UserManager.hasInitPopcorn()&&PopcornHelper.isLevelExpired(UserManager.getPopcornLastEditTime())){var d={};d.text=TextTable.t_PopcornFight_text_13;d.textOk=TextTable.t_PopcornFight_Peapare_btn_8;d.textCancel=TextTable.t_cancel;d.listener=function(a){a&&PopcornSelectLevelDialogController.show()};QueryDialogController.show(d)}};
PetHallController.displayEnemyPopcorn=function(a,c){this.nodeOtherPopcorn.stopAllActions();this.barOtherPopcorn.setPercentage(100);this.nodeOtherPopcorn.setPositionY(this.nodeOtherPopcorn.y-370);a?(this.nodeOtherPopcorn.setVisible(!0),CCNodeUtils.setSpriteOpacity(this.nodeOtherPopcorn,255),this.labelOtherPopcorn.setString(tostring(this.enemyData.popcorn))):(this.nodeOtherPopcorn.setVisible(!1),CCNodeUtils.setSpriteOpacity(this.nodeOtherPopcorn,0))};
PetHallController.updateSelfPopcornFunEnable=function(){var a=UserManager.hasInitPopcorn();if(this.hasPopcornInit!=a){this.hasPopcornInit=a;var c=kCCShaderType_Gray;a&&(c=kCCShaderType_Color);for(var d in this.popcornFunBtns){var e=this.popcornFunBtns[d];if(e.childs){for(d in e.childs){var f=e.childs[d];f.setShaderProgramByKey&&f.setShaderProgramByKey(c)}e.setEnabled(a)}}this.btnAddShell.setEnabled(a);this.btnAddShell.getChildByTag(1).setVisible(a);this.btnAddShell.getChildByTag(2).setVisible(!a)}};
PetHallController.displaySelfPopcorn=function(a,c){if(this.popcornFunBtns.isShow!=a){this.popcornFunBtns.isShow=a;this.updateSelfPopcornFunEnable();var d=1;a&&(d=0.825);var e=this.iconPopcornBtn.getScale(),e=math.abs(e-d)/1;c&&(e=0);d=cc.scaleTo(e,d);this.iconPopcornBtn.stopAllActions();this.iconPopcornBtn.runAction(d);var e=1.15*e,f;for(f in this.popcornFunBtns)if(d=this.popcornFunBtns[f],d.stopAllActions(),a){d.setVisible(!0);var g=d.x,h=d.y;c?(d.setScale(1),d.setPosition(g,h)):(m=cc.delayTime(0.02*
(f-1)),n=cc.moveTo(e,ccp(1.1*g,1.1*h)),g=cc.moveTo(0.1,ccp(g,h)),g=cc.sequence(n,g),g=cc.sequence(m,g),m=cc.delayTime(0.02*(f-1)),n=cc.scaleTo(e+0.1,1),n=cc.sequence(m,n),d.runAction(g),d.runAction(n))}else if(c)d.setScale(0),d.setPosition(0,0),d.setVisible(!1);else{var m=cc.delayTime(0.02*(f-1)),g=cc.scaleTo(e,0),g=cc.sequence(m,g),m=cc.delayTime(0.02*(f-1)),n=cc.moveTo(e,ccp(0,0)),n=cc.sequence(m,n);d.runAction(g);d.runAction(cc.sequence(n,cc.hide()))}this.nodePopcornBar.stopAllActions();this.nodePopcornShell.stopAllActions();
c?(this.nodePopcornBar.setVisible(!0),this.nodePopcornShell.setVisible(!0),a&&(CCNodeUtils.setSpriteOpacity(this.nodePopcornBar,255),CCNodeUtils.setSpriteOpacity(this.nodePopcornShell,255))):a?(this.nodePopcornBar.setVisible(!0),this.nodePopcornShell.setVisible(!0),this.nodePopcornBar.runAction(CETreeFadeTo.create(e,255)),this.nodePopcornShell.runAction(CETreeFadeTo.create(e,255))):(this.nodePopcornBar.runAction(cc.sequence(CETreeFadeTo.create(e,0),cc.hide())),this.nodePopcornShell.runAction(cc.sequence(CETreeFadeTo.create(e,
0),cc.hide())));this.popcornOutputLabel.setVisible(!0);this.btnDefendChallenge.setVisible(!1);this.seg1.setTouchEnabled(a);this.btnAddShell.setTouchEnabled(a);this.btnPopcorn.setTouchEnabled(!a);f=PopcornHelper.isLevelExpired(UserManager.getPopcornLastEditTime());this.popcornUpdateTip.setVisible(f)}};
PetHallController.displayFriendPopcorn=function(a,c){if(!(a&&!this.isPopcornEnabled()||a&&this.isNPCHome()||this.btnDefendChallenge.show==a)){this.btnDefendChallenge.show=a;this.nodeOtherPopcorn.stopAllActions();this.btnDefendChallenge.stopAllActions();c?(this.nodeOtherPopcorn.setVisible(a),this.btnDefendChallenge.setVisible(a),a&&(CCNodeUtils.setSpriteOpacity(this.nodeOtherPopcorn,255),CCNodeUtils.setSpriteOpacity(this.btnDefendChallenge,255))):a?(this.nodeOtherPopcorn.setVisible(!0),this.btnDefendChallenge.setVisible(!0),
this.nodeOtherPopcorn.runAction(CETreeFadeTo.create(0.2,255)),this.btnDefendChallenge.runAction(CETreeFadeTo.create(0.2,255))):(this.nodeOtherPopcorn.runAction(cc.sequence(CETreeFadeTo.create(0.2,0),cc.hide())),this.btnDefendChallenge.runAction(cc.sequence(CETreeFadeTo.create(0.2,0),cc.hide())));this.btnDefendChallenge.setVisible(!0);this.popcornOutputLabel.setVisible(!1);this.btnDefendChallenge.setTouchEnabled(a);this.btnPopcorn.setTouchEnabled(!a);this.seg1.setTouchEnabled(a);if(this.fdata.popcorn&&
this.fdata.capacityLevel){var d=this.fdata.popcorn,e=MetaHelper.getPopcornReservesMetaByLevel(this.fdata.capacityLevel);e?(e=e.capacity,this.barOtherPopcorn.setPercentage(d/e*100),this.labelOtherPopcorn.setString(tostring(d)+"/"+tostring(e))):(this.barOtherPopcorn.setPercentage(100),this.labelOtherPopcorn.setString(0))}else this.barOtherPopcorn.setPercentage(100),this.labelOtherPopcorn.setString(0);d=kCCShaderType_Gray;this.isNPCHome()||!a?d=kCCShaderType_Color:this.fdata.isUpdatePopcornLevel&&UserManager.hasInitPopcorn()&&
(d=kCCShaderType_Color);this.btnDefendChallengeFrame.setShaderProgramByKey(d);this.nodeOtherPopcorn.setPositionY(this.nodeOtherPopcorn.y)}};PetHallController.onPopcornDefenderChanged=function(){this.fid&&(this.fdata.protectUser.name=UserManager.getNickName(),this.fdata.protectUser.headUrl=UserManager.getHeadUrl(),this.fdata.protectUser.playerId=UserManager.getPlayerId());this.updatePopcornMachine()};
PetHallController.onPopcornBackToHall=function(){this.enemyData=null;var a=PopcornHelper.getMainPetAfter();a&&0<a&&HttpHelper.changeMainPet(null,a);this.displayEnemyPopcorn(!1,!0);this.enterSelfHome();this.showTopBar(!0,!0);this.displayBottom(!0,!0);this.displayPopcornFunBtns(!0,!0)};PetHallController.onPopcornChallengeNext=function(a){var c=PopcornHelper.getMainPetAfter();c&&0<c&&HttpHelper.changeMainPet(null,c);this.enemyData=a;this.startEnterEnemyHome();this.enterEnemyHome();this.updateUI()};
PetHallController.updatePopcornMachine=function(){if(this.isPopcornEnabled()){var a=null;if(this.fid&&this.fdata)a=this.fdata.protectUser;else{var c=UserManager.getPopcornLevelData();c&&(a=this.friendListData[c.friendId])}a&&0!=a.playerId?(this.popcornDefender.setVisible(!0),this.defenderName.setString(tostring(a.name)),GameHelper.loadHeadSprite(this.defenderPortrait,a.headUrl)):this.popcornDefender.setVisible(!1)}else this.popcornDefender.setVisible(!1)};
PetHallController.onSelfPopcornClicked=function(){audio.playSound(GameMusicType.kButtonClick);!GameTutorialHelper.hasFirstEvent(PopcornHelper.EVENTS.EnterHall)&&!this.popcornFunBtns.isShow&&os.time()-this.lastSyncPopcorn>=this.SYNC_POPCORN_CD?(WaitingDialogController.show(),HttpHelper.getPopcornData(this,null,function(a){WaitingDialogController.hide();0==a&&(this.lastSyncPopcorn=os.time(),this.updateUI(),this.updatePopcorn(),this.updatePopcornMachine());this.displayPopcornFunBtns(!this.popcornFunBtns.isShow)})):
this.displayPopcornFunBtns(!this.popcornFunBtns.isShow)};
PetHallController.onButtonPopCorn=function(){if(this.btnPopcorn.enable)if(this.fid)this.isNPCHome()?(audio.playSound(GameMusicType.kButtonClick),TipDialogController.showTip(TextTable.t_PopcornFight_text_12)):(audio.playSound(GameMusicType.kButtonClick),this.displayPopcornFunBtns(!this.btnDefendChallenge.show));else if(this.enemyData)this.onBtnChallengeCurClicked();else this.onSelfPopcornClicked();else PopcornHelper.isPopcornOpen()?this.fid&&TipDialogController.showTip(TextTable.t_PopcornFight_text_11):
TipDialogController.showTip(TextTable.t_ecode200262),audio.playSound(GameMusicType.kPopupClose)};
PetHallController.displayBottom=function(a,c){var d=0.25,e=0.4;c&&(e=d=0);if(a){var f=cc.delayTime(d),g=CCEaseExponentialOut.create(cc.moveTo(e,ccp(0.5*display.width,0)));this.bottom.runAction(cc.sequence(f,g))}else this.bottom.runAction(CCEaseExponentialIn.create(cc.moveTo(e,ccp(0.5*display.width,-300))));a?this.bottomChallenge.runAction(cc.sequence(CCEaseBackIn.create(cc.moveTo(e,ccp(0,-400))),cc.hide())):(f=cc.delayTime(d),g=CCEaseBackOut.create(cc.moveTo(e,ccp(0,0))),this.bottomChallenge.setVisible(!0),
this.bottomChallenge.runAction(cc.sequence(f,g)));this.bottomChallenge.runAction(action)};
PetHallController.showEnemyPets=function(){for(var a=1;a<=this.enemyPets.length;++a){var c=this.enemyPets[a-1];c.node.removeFromParentAndCleanup(!0)}this.enemyPets=[];var d=[];(a=this.enemyData.popcornLevelData.pet)&&0!=a.id&&table.insert(d,a);(a=this.enemyData.popcornLevelData.friendPet)&&0!=a.id&&table.insert(d,a);for(a=1;a<=d.length;++a){var c=d[a-1],e={},f=loadccb(GetAssetsPath("PetHallItemPet.ccbi"),e,this);e.node=f;table.insert(this.enemyPets,e);this.setPetItemDefault(e,c,f,a)}};
PetHallController.startEnterEnemyHome=function(){this.showTopBar(!1);this.displayBottom(!1);this.btnCamera.setVisible(!1);this.labelChallengeReward.setString(tostring(this.enemyData.canGrapPopcorns[3]));this.labelTopFriendName.setString(tostring(this.enemyData.user.name));GameHelper.loadHeadSprite(this.topFriendPortrait,this.enemyData.user.headUrl)};
PetHallController.enterEnemyHome=function(){this.showPets({});this.resetHallPos();this.showEnemyPets();this.updateBackBtns();this.displaySelfPopcorn(!1,!0);this.displayPopcornFunBtns(!0,!0)};
PetHallController.onPopcornHistoryBtnClicked=function(){WaitingDialogController.show();HttpHelper.getPopcornHistory(this,null,function(a,c){WaitingDialogController.hide();if(0==a){var d={};d.users=c.users||{};d.records=c.records||{};d.protectIds=c.protectIds||{};d.protectTimes=c.protectTimes||{};d.delProtectIds=c.delProtectIds||{};d.delProtectTimes=c.delProtectTimes||{};PopcornHistoryDialogController.show(d)}else TipDialogController.showTip(ErrMsg(a))})};
PetHallController.onPopcornEditBtnClicked=function(){PopcornSelectLevelDialogController.show()};PetHallController.onPopcornUpgradeBtnClicked=function(){PopcornDialogController.show()};PetHallController.onPopcornInfoBtnClicked=function(){var a=UserManager.getPopcornLevelData();PopcornHelper.setChallengeDataByLevelData(a,PopcornHelper.CHALLENGE_MODE.Self);PopcornHelper.setChallengePlayer(UserManager.getPlayerId(),UserManager.getNickName(),UserManager.getHeadUrl());PopcornChallengeDialogController.show()};
PetHallController.onPopcornChallengeBtnClicked=function(){if(this.delayShow)audio.playSound(GameMusicType.kPopupClose);else if(UserManager.getCoin()<PopcornHelper.getChallengeCoin())audio.playSound(GameMusicType.kPopupClose),TipDialogController.showTip(ErrMsg(100139));else if(void 0>=UserManager.getPopcornChallengeTimes()){var a=function(a){this.onPopcornChallengeBtnClicked()},c={};c.listener=a;c.popcornChallenge=!0;ChoosePetController.showLoading(c);audio.playSound(GameMusicType.kButtonClick)}else{a=
function(a,c){WaitingDialogController.hide();if(0==a){this.enemyData=c;var d=tonumber(this.popcornTest.getString());d&&(this.enemyData.user={},this.enemyData.user.name=d,this.enemyData.user.otherId=d,this.enemyData.user.headUrl=1);this.startEnterEnemyHome();this.updateUI();this.startDelayShow(function(){this.enterEnemyHome()})}else TipDialogController.showTip(ErrMsg(a))};WaitingDialogController.show();audio.playSound(GameMusicType.kButtonClick);var c=0,d=this.popcornTest.getString();tonumber(d)&&
(c=tonumber(d));HttpHelper.getPlayerPopcorn(this,c,a)}};PetHallController.onBtnPopcornShellAddClicked=function(){PopcornShellDialogController.show()};PetHallController.remindUpdatePopcorn=function(){WaitingDialogController.show();HttpHelper.remindUpdatelevel(this,this.fid,function(a){WaitingDialogController.hide();0==a?QueryDialogController.hide():TipDialogController.showTip(ErrMsg(a))})};
PetHallController.onBtnDefendChallengeClicked=function(){if(this.fdata.isUpdatePopcornLevel)if(UserManager.hasInitPopcorn()){var a=this;WaitingDialogController.show();HttpHelper.getPlayerPopcorn(this,this.fid,function(c,d){if(0==c){var e=d.popcornLevelData.user;a.fid&&e&&(a.fdata.protectUser.name=e.name&&""!=e.name?e.name:tostring(e.playerId),a.fdata.protectUser.headUrl=e.headUrl,a.fdata.protectUser.playerId=e.playerId,a.updatePopcornMachine());PopcornHelper.isLevelExpired(Math.ceil(d.popcornLevelData.levelEditTime/
1E3))?(e={},e.text=TextTable.t_PopcornFight_Peapare_text_10,e.textOk=TextTable.t_ok,e.textCancel=TextTable.t_cancel,e.disableAutoHide=!0,e.listener=function(c){c?a.remindUpdatePopcorn():QueryDialogController.hide()},QueryDialogController.show(e)):(PopcornHelper.setChallengeDataByLevelData(d.popcornLevelData,PopcornHelper.CHALLENGE_MODE.Friend,d.serverTime),PopcornHelper.setChallengePlayer(this.fid,tostring(this.fdata.userData.name),d.user.headUrl),PopcornChallengeDialogController.show())}else TipDialogController.showTip(ErrMsg(c));
WaitingDialogController.hide()})}else TipDialogController.showTip(TextTable.t_PopcornFight_text_9);else TipDialogController.showTip(ErrMsg(100298))};PetHallController.onBtnChallengeNextClicked=function(){this.onPopcornChallengeBtnClicked()};
PetHallController.onBtnChallengeCurClicked=function(){audio.playSound(GameMusicType.kButtonClick);PopcornHelper.setChallengeDataByLevelData(this.enemyData.popcornLevelData,PopcornHelper.CHALLENGE_MODE.Challenge,this.enemyData.serverTime);PopcornHelper.setChallengeEnemyData(PopcornHelper.ENEMY_TYPE.CHALLENGE,this.enemyData.canGrapPopcorns,null);PopcornHelper.setChallengePlayer(this.enemyData.otherId,this.enemyData.user.name,this.enemyData.user.headUrl);PopcornChallengeDialogController.show()};PetHouseEquipController=createController("PetHouseEquipController");PetHouseEquipController.onViewCreate=function(){return loadccb(GetAssetsPath("PetHouseEquip.ccbi"),this)};PetHouseEquipController.onViewOpen=function(){var a=this;this.registerScriptTouchHandler(function(c,d,e){a.onTouch(c,d,e);return!0},!1,0,!1);this.registerEvent("event.ui.update");this.registerEvent("event.ui.setEquip");this.registerEvent("event.ui.petHousePageChagne");this.registerEvent("event.ui.petHouseIndexChange");this.reset()};
PetHouseEquipController.onViewEnter=function(){this.updateUI()};PetHouseEquipController.onEvents=function(a,c){if("event.ui.update"==a)this.updateUI();else if("event.ui.setEquip"==a)this.onEquipSet(c);else if("event.ui.petHousePageChagne"==a)this.onPageChange(c);else if("event.ui.petHouseIndexChange"==a)this.onPetChange(c)};
PetHouseEquipController.reset=function(){this.equips=[];this.petInfoEquips=[];for(var a=UserManager.getPetInfos(),c=1;c<=a.length;++c){var d=a[c-1];this.petInfoEquips[d.id]=cw.clone(d.equips)}this.top.customY=this.top.getPositionY();this.coinAdd.x=this.coinAdd.getPositionX();this.scoreAdd.x=this.scoreAdd.getPositionX();this.bottom.setPositionY(-450);this.top.setPositionY(this.top.customY+150);this.coinAdd.setPositionX(this.coinAdd.x-display.width);this.scoreAdd.setPositionX(this.scoreAdd.x+display.width);
this.param&&"bag"==this.param.from||(this.top.setPositionY(this.top.customY),this.bottom.setPositionY(-450),this.bottom.runAction(cc.moveBy(0.5625,ccp(0,450)).easing(cc.easeBackOut())),this.coinAdd.runAction(cc.moveBy(display.width/1200,ccp(display.width,0)).easing(cc.easeExponentialOut())),this.scoreAdd.runAction(cc.moveBy(display.width/1200,ccp(-display.width,0)).easing(cc.easeExponentialOut())));this.bgAll.setVisible(!1);this.bgI.setVisible(!1);this.bgII.setVisible(!1);this.bgIII.setVisible(!1);
this.bgIIII.setVisible(!1);this.tabBGS=[];this.tabBGS[0]=this.bgAll;this.tabBGS[1]=this.bgI;this.tabBGS[2]=this.bgII;this.tabBGS[3]=this.bgIII;this.tabBGS[4]=this.bgIIII;this.coinAdd.setVisible(!1);this.scoreAdd.setVisible(!1);this.nodeInfo.y=this.nodeInfo.getPositionY();this.nodeInfo.setPositionY(this.nodeInfo.y-100);this.nodeInfo.setVisible(!1);var e=this;this.listView.registerScriptListener(function(a){e.onEquipClicked(a)});this.scrollBar.bindScrollView(this.listView)};
PetHouseEquipController.updateUI=function(a){this.labelCoin.setString(UserManager.getCoin());a=UserManager.getPopcorn()[0];this.labelPopCorn.setString(a);this.labelBell.setString(UserManager.getBell());a=this.petInfoEquips[this.curPetId];for(var c in this.equips){var d=this.equips[c],e=UserManager.hasEquip(d.cfg.id);if(d.enable!=e){d.enable=e;var f=cc.SHADER_SPRITE_POSITION_TEXTURECOLOR_GRAY;e&&(f=cc.SHADER_SPRITE_POSITION_TEXTURECOLOR);d.lock.setVisible(!e);d.icon.setShaderProgramByKey(f);d.suit.setShaderProgramByKey(f);
for(c in d.stars)e=d.stars[c],e.setShaderProgramByKey(f)}if(a)for(f=1;f<=a.length;++f)if(e=a[f-1],e==d.cfg.id){d.isSelect=!0;d.right.setVisible(!0);break}else d.isSelect=!1,d.right.setVisible(!1);else d.isSelect=!1,d.right.setVisible(!1)}if(a){f=d=0;for(c=1;c<=a.length;++c)if(e=a[c-1],0!=e&&(e=MetaHelper.getEquipById(e)))d+=100*e.coinBonus,f+=100*e.scoreBonus;this.barCoinAdd.setPercentage(100*d);this.barScoreAdd.setPercentage(100*f)}else this.barCoinAdd.setPercentage(0),this.barScoreAdd.setPercentage(0)};
PetHouseEquipController.onPageChange=function(a){var c=0;"equip"!=a&&(c=-450);var d=this.bottom.getPositionY(),c=c-d,d=Math.abs(c)/800,c=cc.moveBy(d,ccp(0,c)).easing(cc.easeBackOut());this.bottom.stopAllActions();"equip"!=a?this.bottom.runAction(cc.sequence(c,cc.hide())):this.bottom.setVisible(!0);this.bottom.runAction(c);c=this.top.customY;"equip"!=a&&(c+=150);d=this.top.getPositionY();c-=d;d=Math.abs(c)/300;c=cc.moveBy(d,ccp(0,c)).easing(cc.easeExponentialOut());this.top.stopAllActions();this.top.runAction(c);
c=this.coinAdd.x;"equip"!=a&&(c=this.coinAdd.x-display.width);d=this.coinAdd.getPositionX();c-=d;d=Math.abs(c)/1200;c=cc.moveBy(d,ccp(c,0)).easing(cc.easeExponentialOut());this.coinAdd.stopAllActions();this.coinAdd.runAction(c);c=this.scoreAdd.x;"equip"!=a&&(c=this.scoreAdd.x+display.width);d=this.scoreAdd.getPositionX();c-=d;d=Math.abs(c)/1200;c=cc.moveBy(d,ccp(c,0)).easing(cc.easeExponentialOut());this.scoreAdd.stopAllActions();this.scoreAdd.runAction(c)};
PetHouseEquipController.onPetChange=function(a){var c=this.curTab||0;this.curTab=null;this.curPetId=a.id;this.selectTab(c)};PetHouseEquipController.onEquipSet=function(a){if(a=this.equips[a]){var c=tostring(a.cfg.id),c=tonumber(c.substr(3,1));1>c||4<c||(this.petInfoEquips[this.curPetId][c-1]=a.cfg.id,this.updateUI(),notification.postEvent("event.ui.updateTempEquip",{petId:this.curPetId,equips:this.petInfoEquips[this.curPetId]}))}};
PetHouseEquipController.onTouch=function(a,c,d){if("moved"!=a&&"began"!=a)this.setInfo(null);else if("began"==a){for(a=0;a<this.equips.length;++a){var e=this.equips[a],f=e.node.convertToNodeSpace(ccp(c,d));if(!(30>f.x||200<f.x||30>f.y||160<f.y)){this.setInfo(e.cfg);return}}this.setInfo(null)}};
PetHouseEquipController.setInfo=function(a){if(this.nodeInfo.meta!=a){this.nodeInfo.meta=a;var c=this.nodeInfo.y-100;a&&(c=this.nodeInfo.y,this.labelInfoName.setString(TextTable["t_Petclothes_"+a.id]),this.labelInfoCoin.setString("+"+tostring(100*a.coinBonus)+"%"),this.labelInfoScore.setString("+"+tostring(100*a.scoreBonus)+"%"));var d=this.nodeInfo.getPositionY(),c=c-d,d=Math.abs(c)/800,c=cc.moveBy(d,ccp(0,c));this.nodeInfo.stopAllActions();a?(this.nodeInfo.setVisible(!0),this.nodeInfo.runAction(c)):
this.nodeInfo.runAction(cc.sequence(c,cc.hide()))}};PetHouseEquipController.onBtnAll=function(){this.selectTab(0)?audio.playSound(GameMusicType.kButtonClick):audio.playSound(GameMusicType.kPopupClose)};PetHouseEquipController.onBtnI=function(){this.selectTab(1)?audio.playSound(GameMusicType.kButtonClick):audio.playSound(GameMusicType.kPopupClose)};PetHouseEquipController.onBtnII=function(){this.selectTab(2)?audio.playSound(GameMusicType.kButtonClick):audio.playSound(GameMusicType.kPopupClose)};
PetHouseEquipController.onBtnIII=function(){this.selectTab(3)?audio.playSound(GameMusicType.kButtonClick):audio.playSound(GameMusicType.kPopupClose)};PetHouseEquipController.onBtnIIII=function(){this.selectTab(4)?audio.playSound(GameMusicType.kButtonClick):audio.playSound(GameMusicType.kPopupClose)};
PetHouseEquipController.findAndSortEquips=function(a){var c=string.format("3%02d",this.curPetId-2E4),d=tonumber(c+a+"00"),e=tonumber(c+a+"99");0==a&&(e=tonumber(c+"999"));a=[];for(var f in MetaHelper.equipList)c=MetaHelper.equipList[f],c.id>=d&&c.id<=e&&0<c.showType.length&&table.insert(a,c);var g=[];if(d=UserManager.getPetInfo(this.curPetId))for(f in d.equips)c=d.equips[f],g[c]=!0;table.sort(a,function(a,c){if(g[a.id]&&!g[c.id])return!0;if(g[c.id]&&!g[a.id])return!1;var d=UserManager.hasEquip(a.id),
e=UserManager.hasEquip(c.id);if(d&&!e)return!0;if(e&&!d)return!1;if(a.rarity>c.rarity)return!0;if(a.rarity<c.rarity)return!1;d=a.suit_id;e=c.suit_id;return 0<d&&1>e?!0:0<e&&1>d?!1:a.id<c.id});return a};
PetHouseEquipController.createEquipItem=function(a){var c={},d=loadccb(GetAssetsPath("PetHouseEquipItem.ccbi"),c,this);this.listView.addItem(d);c.node=d;c.cfg=a;c.stars=[];c.unknown=!1;c.isSelect=!1;c.lock.setVisible(!1);c.right.setVisible(!1);c.suit.setVisible(0!=a.suit_id);var d=cc.spriteFrameCache,e=d.getSpriteFrame("equip_"+a.id+".png");e?c.icon.setDisplayFrame(e):(c.unknown=!0,c.icon.setDisplayFrameName("equip_unknown.png"));(e=d.getSpriteFrame("suit_"+a.suit_id+".png"))?c.suit.setDisplayFrame(e):
c.suit.setVisible(!1);for(var d=0,e=cc.Layer.create(),f=1;f<=a.rarity;f++){var g=cc.Sprite.createWithSpriteFrameName("#pet_equip_ui_img_12.png");g.setPositionX(d);g.setAnchorPoint(ccp(0,0.5));e.addChild(g);d+=g.getContentSize().width;table.insert(c.stars,g)}e.setPositionX(-d/2);c.star.addChild(e);return c};
PetHouseEquipController.selectTab=function(a){if(this.curTab==a||!this.curPetId)return!1;this.tabBGS[a].setVisible(!0);null!=this.curTab&&this.tabBGS[this.curTab].setVisible(!1);this.curTab=a;this.equips=[];this.listView.removeAllItems();a=this.findAndSortEquips(a);for(var c in a){var d=this.createEquipItem(a[c]);table.insert(this.equips,d)}this.updateUI();return!0};
PetHouseEquipController.unselectEquip=function(a){a=tostring(a.cfg.id);a=tonumber(a.substr(3,1));1>a||4<a||(this.petInfoEquips[this.curPetId][a-1]=0,this.updateUI(),notification.postEvent("event.ui.updateTempEquip",{petId:this.curPetId,equips:this.petInfoEquips[this.curPetId]}))};
PetHouseEquipController.checkNeedChangeDress=function(){for(var a=[],c=[],d=UserManager.getPetInfos(),e=1;e<=d.length;++e){var f=d[e-1],g=!1,h=this.petInfoEquips[f.id];if(h)for(var m=1;m<=h.length;++m)h[m-1]!=f.equips[m-1]&&(table.insert(a,{itemId:f.id,count:m,value:h[m-1]}),g=!0);g&&table.insert(c,f.id)}0<a.length&&HttpHelper.changeDress(null,a,function(a){0==a&&notification.postEvent("event.ui.updateEquip",c)})};
PetHouseEquipController.onEquipClicked=function(a){var c=this.equips[a];c&&(c.unknown?TipDialogController.showTip(ErrMsg(200262)):c.enable?UserManager.getPetInfo(this.curPetId)?c.isSelect?(this.unselectEquip(c),audio.playSound(GameMusicType.kPopupClose)):(this.onEquipSet(a),audio.playSound(GameMusicType.kButtonClick)):TipDialogController.showTip(ErrMsg(200273)):PetHouseByEquipDialogController.show({cfg:c.cfg,index:a}))};
PetHouseEquipController.onBtnCoinClicked=function(){audio.playSound(GameMusicType.kButtonClick);ShopController.loadAndShow(1)};PetHouseEquipController.onBtnBellClicked=function(){audio.playSound(GameMusicType.kButtonClick);LotteryController.isOpen()&&SceneHelper.pushToScene("Lottery")};PetHouseEquipController.onBtnPopcornClicked=function(){audio.playSound(GameMusicType.kButtonClick);notification.postEvent("event.ui.closePetHouse");notification.postEvent("event.ui.rollToPopcorn")};PetHouseDetailsController=createController("PetHouseDetailsController");PetHouseDetailsController.onViewCreate=function(){return loadccb(GetAssetsPath("PetHouseDetails.ccbi"),this)};PetHouseDetailsController.onViewOpen=function(){this.registerEvent("event.ui.update");this.registerEvent("event.ui.updateTempEquip");this.registerEvent("event.ui.petHousePageChagne");this.registerEvent("event.ui.petHouseIndexChange");this.reset()};PetHouseDetailsController.onViewEnter=function(){this.updateUI()};
PetHouseDetailsController.onEvents=function(a,c){if("event.ui.update"==a)this.updateUI();else if("event.ui.updateTempEquip"==a)this.curPetId&&this.updateDetails({id:this.curPetId,equips:c.equips});else if("event.ui.petHouseIndexChange"==a)this.updateDetails(c);else if("event.ui.petHousePageChagne"==a)this.onPageChange(c)};
PetHouseDetailsController.reset=function(){0>=UserManager.getPetInfos().length&&loge("user ! has a pet!!!");this.param&&"bag"==this.param.from?(this.nodeFront.setPositionY(0),this.spLevelDown.setVisible(!0),this.spLevelUp.setVisible(!1),this.isOpen=!0):(this.nodeFront.setPositionY(-800),this.nodeFront.setVisible(!1),this.spLevelDown.setVisible(!1),this.spLevelUp.setVisible(!0),this.isOpen=!1);this.expProp=[11005,11006];this.expGoods=[1105,1106];for(var a=1;2>=a;a++){var c=this.expGoods[a-1],d=MetaHelper.getGoodMetaListById(c),
d=ServerProxy.getGoodsPayType(d)[1];this["labelPropPrice_"+a].setString("x"+tostring(d));this["btnPropBuy_"+a].setTag(c)}};
PetHouseDetailsController.updatePetProfile=function(a,c){this.curPetId=a;var d=UserManager.petDict[a];if(d){this.btnPlay.setTag(d.id);var e=MetaHelper.getPetLevelByExp(d.exp)[0];this.iconSkill.setDisplayFrameName("pet_skill_"+d.id+".png");this.labelLevel.setString(e);this.labelAbility.setString(TextTable["t_ability"+d.id]);var f,g;if(c){g=UserManager.getPetLevelBonus(d.id);f=g[0];g=g[1];var h=MetaHelper.getPetEquipBonus(c),m=h[1];f+=h[0];g+=m}else h=UserManager.getPetBonus(d.id),f=h[0],g=h[1];this.labelScore.setString(string.format("+%.1f%%",
100*f));this.labelCoin.setString(string.format("+%.1f%%",100*g));this.labelExp.setString(tostring(d.exp));g=MetaHelper.getPetExpByLevel(e);g[1]>e?(g=MetaHelper.getPetExpByLevel(e+1),f=g[0],this.labelExpNeed.setString(tostring(f.expr-d.exp)),g=MetaHelper.getPetBonus(d.id,e),f=g[0],h=g[1],g=MetaHelper.getPetBonus(d.id,e+1),d=g[1],this.labelScoreAdd.setString(string.format("+%.1f%%",100*(g[0]-f))),this.labelCoinAdd.setString(string.format("+%.1f%%",100*(d-h))),this.labelScoreAdd.setVisible(this.isOpen),
this.labelCoinAdd.setVisible(this.isOpen),this.btnPropUse_2.setEnabled(!0),this.btnPropUse_1.setEnabled(!0),this.canPetLevelUp=!0):(this.labelExpNeed.setString("0"),this.labelScoreAdd.setVisible(!1),this.labelCoinAdd.setVisible(!1),this.canPetLevelUp=!1,this.btnPropUse_2.setEnabled(!1),this.btnPropUse_1.setEnabled(!1))}else this.labelLevel.setString("1"),this.btnPlay.setTag(this.curPetId),this.iconSkill.setDisplayFrameName("pet_skill_"+this.curPetId+".png"),this.labelAbility.setString(TextTable["t_ability"+
this.curPetId]),g=MetaHelper.getPetBonus(this.curPetId,1),f=g[0],g=g[1],this.labelScore.setString(string.format("+%.1f%%",100*f)),this.labelCoin.setString(string.format("+%.1f%%",100*g)),this.labelExp.setString(tostring(0)),MetaHelper.getPetExpByLevel(1),g=MetaHelper.getPetExpByLevel(2),f=g[0],this.labelExpNeed.setString(tostring(f.expr)),this.canPetLevelUp=!1,this.labelScoreAdd.setVisible(!1),this.labelCoinAdd.setVisible(!1),this.btnPropUse_2.setEnabled(!1),this.btnPropUse_1.setEnabled(!1)};
PetHouseDetailsController.updateUI=function(a){for(a=1;2>=a;a++){var c=this.expProp[a-1],d=UserManager.getPropCount(c),c=PropMetaManager.getInstance().getPropValue(c),e=99<d&&"99+"||tostring(d);this["lablePropNum_"+a].setString(e);this["labelPropValue_"+a].setString(tostring(c));this["btnPropUse_"+a].setVisible(0<d);this["btnPropBuy_"+a].setVisible(0>=d)}};PetHouseDetailsController.updateDetails=function(a){this.curPetId=a.id;this.updatePetProfile(a.id,a.equips)};
PetHouseDetailsController.onPageChange=function(a){var c=-190;"details"!=a&&(c=-800);var d=this.nodeFront.getPositionY(),c=c-d,d=Math.abs(c)/1E3,c=cc.moveBy(d,ccp(0,c)).easing(cc.easeBackOut());this.nodeFront.stopAllActions();"details"!=a?this.nodeFront.runAction(cc.sequence(c,cc.hide())):(this.nodeFront.setVisible(!0),this.nodeFront.runAction(c));if(this.isOpen)this.onUIMove(!1,!0)};PetHouseDetailsController.onButtonLevelUp=function(){audio.playSound(GameMusicType.kButtonClick);this.onUIMove(!this.isOpen)};
PetHouseDetailsController.onUIMove=function(a,c){var d=this;if(a){this.isOpen=!0;var e=function(){d.spLevelDown.setVisible(!0);d.spLevelUp.setVisible(!1);d.labelScoreAdd.setVisible(this.canPetLevelUp);d.labelCoinAdd.setVisible(this.canPetLevelUp)},f=this.nodeFront.getPositionY(),f=Math.abs(f)/800,g=[];g.push(cc.moveTo(f,ccp(0.5*display.width,0)).easing(cc.easeExponentialOut()));g.push(cc.callFunc(e));this.nodeFront.stopAllActions();this.nodeFront.runAction(cc.sequence(g))}else this.isOpen=!1,c?(this.spLevelUp.setVisible(!0),
this.spLevelDown.setVisible(!1),this.labelCoinAdd.setVisible(!1),this.labelScoreAdd.setVisible(!1)):(e=function(){d.spLevelDown.setVisible(!1);d.spLevelUp.setVisible(!0)},this.labelScoreAdd.setVisible(!1),this.labelCoinAdd.setVisible(!1),f=this.nodeFront.getPositionY(),f=Math.abs(-190-f)/800,g=[],g.push(cc.moveTo(f,ccp(0.5*display.width,-190)).easing(cc.easeExponentialOut())),g.push(cc.callFunc(e)),this.nodeFront.stopAllActions(),this.nodeFront.runAction(cc.sequence(g)));notification.postEvent("event.ui.detailsUiMove",
{isOpen:a})};PetHouseDetailsController.onButtonPropUse=function(a){if(UserManager.getPetInfo(this.curPetId))if(this.canPetLevelUp){audio.playSound(GameMusicType.kButtonClick);var c=this,d=this.expProp[a-1];HttpHelper.useObject(this,d,this.curPetId,function(e){0==e?c.flyToPetAnimation(a,d):TipDialogController.showTip(ErrMsg(e))})}else TipDialogController.showTip(ErrMsg(ErrCode.PET_LEVEL_MAX))};
PetHouseDetailsController.flyToPetAnimation=function(a,c){var d={};d.propId=c;d.src=this["iconProp_"+a];notification.postEvent("event.ui.expPropUsed",d)};PetHouseDetailsController.onButtonPropBuy=function(a){audio.playSound(GameMusicType.kButtonClick);ShopItemBuyDialogController.showLoading({goodsId:a})};PetHouseDetailsController.onButtonTVPlay=function(a){audio.playSound(GameMusicType.kButtonClick);PetSkillDialogController.show({petId:a})};var GET_WAY={Popcorn:1,Bell:2,Thomas:3,Week:4,PetLevel:5,Activity:6};PetHouseByEquipDialogController=createController("PetHouseByEquipDialogController");PetHouseByEquipDialogController.onViewCreate=function(){return loadccb(GetAssetsPath("PetByEquipDialog.ccbi"),this)};PetHouseByEquipDialogController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.registerEvent("event.ui.update");this.reset();EffectHelper.dialogLeftShow(this)};
PetHouseByEquipDialogController.onViewEnter=function(){this.updateUI()};PetHouseByEquipDialogController.onEvents=function(a,c){"event.ui.update"==a&&this.updateUI()};
PetHouseByEquipDialogController.reset=function(){var a=this.param.cfg;this.labelName.setString(TextTable["t_Petclothes_"+a.id]);this.item.setDisplayFrameName("equip_"+a.id+".png");this.rarityIcon.setVisible(!1);for(var c=this.rarityIcon.getPosition(),d=1;d<=a.rarity;d++){var e=cc.Sprite.createWithSpriteFrameName("#pet_equip_ui_img_12.png");e.setAnchorPoint(ccp(0,0.5));e.setPosition(c);this.nodeDialog.addChild(e);c.x=c.x+e.getContentSize().width+2}0<a.suit_id?this.suitIcon.setDisplayFrameName("suit_"+
a.suit_id+".png"):this.suitIcon.setVisible(!1);this.labelCoin.setString("+"+string.format("%.1f",100*a.coinBonus)+"%");this.labelScore.setString("+"+string.format("%.1f",100*a.scoreBonus)+"%");this.btnWeek.setVisible(!1);this.btnBell.setVisible(!1);this.btnThomas.setVisible(!1);this.btnPopCorn.setVisible(!1);this.labelWay.setVisible(!1);this.labelBtnBell.setString("x"+a.bellCombine);this.labelBtnPopCorn.setString("x"+a.popcornCombine);this.labelBtnPopCorn2.setString("x"+a.popcornCombine);this.initByWay()};
PetHouseByEquipDialogController.initByWay=function(){var a=this.param.cfg,c={};c[GET_WAY.Popcorn]=this.btnPopCorn;c[GET_WAY.Bell]=this.btnBell;c[GET_WAY.Thomas]=this.btnThomas;c[GET_WAY.Week]=this.btnWeek;UserManager.getBell()<a.bellCombine&&(this.btnBell.notEnough=!0);UserManager.getPopcorn()[0]<a.popcornCombine&&(this.btnPopCorn.notEnough=!0,this.labelBtnPopCorn2.setColor(cc.color(255,0,0)));this.ways=a.showType;table.sort(this.ways,function(a,c){return tonumber(a)<tonumber(c)});PopcornHelper.isPopcornOpen()||
this.hasWay(GET_WAY.Popcorn)&&table.remove(this.ways,0);var a=[],d=this.ways.length;if(1==d){if(this.hasWay(GET_WAY.PetLevel)||this.hasWay(GET_WAY.Activity))d=0}else 2==d&&this.hasWay(GET_WAY.Bell)&&this.hasWay(GET_WAY.Thomas)&&(d=1);0==d?(c="",this.hasWay(GET_WAY.PetLevel)?c=TextTable.t_Clothes_tips5:this.hasWay(GET_WAY.Activity)&&(c=TextTable.t_Clothes_tips6),this.labelWay.setString(c),this.labelWay.setVisible(!0)):1==d?(c=c[this.ways[0]],c.setPosition(this.posMid.getPosition()),table.insert(a,
c)):(lb=c[this.ways[0]],rb=c[this.ways[1]],table.insert(a,lb),table.insert(a,rb),lb.setPosition(this.posLeft.getPosition()),rb.setPosition(this.posRight.getPosition()));var c=1,e=40,f=115,g=180;1==d&&(c=1.4,e=45,f=145,g=250);for(d=0;d<a.length;++d){var h=a[d];h.setVisible(!0);h.setContentSize(cc.size(g,75));h.getChildByTag(98).setVisible(!1);h.getChildByTag(99).setVisible(!1);var m=h.getChildByTag(98);h.notEnough&&(m=h.getChildByTag(99));m.setVisible(!0);m.setPosition(0,37.5);m.getChildByTag(100).setScaleX(c);
m.getChildByTag(100).setPositionX(g/2);m.getChildByTag(101).setPositionX(e);m.getChildByTag(102).setPositionX(f)}};PetHouseByEquipDialogController.hasWay=function(a){for(var c in this.ways)if(this.ways[c]==a)return!0;return!1};PetHouseByEquipDialogController.updateUI=function(a){};PetHouseByEquipDialogController.back=function(){EffectHelper.dialogLeftHide(this)};PetHouseByEquipDialogController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};
PetHouseByEquipDialogController.onBtnThomasClicked=function(){audio.playSound(GameMusicType.kButtonClick);this.hide();SceneHelper.pushToScene("Lottery")};PetHouseByEquipDialogController.onBtnWeekClicked=function(){audio.playSound(GameMusicType.kButtonClick);var a=this;WaitingDialogController.show();KitchenGodController.checkDataOrRefresh(function(c){WaitingDialogController.hide();c&&(a.hide(),SceneHelper.popScene(),SceneHelper.popScene(),SceneHelper.pushToScene("KitchenGodMap"))})};
PetHouseByEquipDialogController.onBtnBellClicked=function(){audio.playSound(GameMusicType.kButtonClick);if(this.btnBell.notEnough)this.hide(),SceneHelper.pushToScene("Lottery");else{var a=this;HttpHelper.exchangeDress(this,this.param.cfg.id,ItemType.BELL,function(c){0==c?(notification.postEvent("event.ui.update"),a.back()):TipDialogController.showTip(ErrMsg(c))})}};
PetHouseByEquipDialogController.onBtnPopCornClicked=function(){audio.playSound(GameMusicType.kButtonClick);if(this.btnPopCorn.notEnough)this.hide(),notification.postEvent("event.ui.closePetHouse"),notification.postEvent("event.ui.rollToPopcorn");else{var a=this;WaitingDialogController.show();HttpHelper.exchangeDress(this,this.param.cfg.id,ItemType.POPCORN,function(c){WaitingDialogController.hide();0==c?(notification.postEvent("event.ui.update"),a.back()):TipDialogController.showTip(ErrMsg(c))})}};PetEquipInfoDialogController=createController("PetEquipInfoDialogController");PetEquipInfoDialogController.onViewCreate=function(){return"en"==DeviceLan?loadccb(GetAssetsPath("PetEquipInfoDialogEN.ccbi"),this):loadccb(GetAssetsPath("PetEquipInfoDialog.ccbi"),this)};PetEquipInfoDialogController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.registerEvent("event.ui.update");this.reset();EffectHelper.dialogLeftShow(this)};PetEquipInfoDialogController.onViewEnter=function(){this.updateUI()};
PetEquipInfoDialogController.onEvents=function(a,c){"event.ui.update"==a&&this.updateUI()};PetEquipInfoDialogController.reset=function(){};PetEquipInfoDialogController.updateUI=function(a){};PetEquipInfoDialogController.back=function(){EffectHelper.dialogLeftHide(this)};PetEquipInfoDialogController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};PetHouseEquipDialogController=createController("PetHouseEquipDialogController");PetHouseEquipDialogController.onViewCreate=function(){return loadccb(GetAssetsPath("PetEquipDialog.ccbi"),this)};PetHouseEquipDialogController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.registerEvent("event.ui.update");this.reset();EffectHelper.dialogLeftShow(this)};PetHouseEquipDialogController.onViewEnter=function(){this.updateUI()};
PetHouseEquipDialogController.onEvents=function(a,c){"event.ui.update"==a&&this.updateUI()};
PetHouseEquipDialogController.reset=function(){var a=this.param.cfg;this.labelName.setString(TextTable["t_Petclothes_"+a.id]);this.item.setDisplayFrameName("equip_"+a.id+".png");this.rarityIcon.setVisible(!1);for(var c=this.rarityIcon.getPosition(),d=1;d<=a.rarity;d++){var e=cc.Sprite.createWithSpriteFrameName("#pet_equip_ui_img_12.png");e.setAnchorPoint(ccp(0,0.5));e.setPosition(x,y);this.nodeDialog.addChild(e);c.x=c.x+e.getContentSize().width+2}0<a.suit_id?this.suitIcon.setDisplayFrameName("suit_"+
a.suit_id+".png"):this.suitIcon.setVisible(!1);this.labelCoin.setString("+"+tostring(100*a.coinBonus)+"%");this.labelScore.setString("+"+tostring(100*a.scoreBonus)+"%")};PetHouseEquipDialogController.updateUI=function(a){};PetHouseEquipDialogController.back=function(a){a||audio.playSound(GameMusicType.kPopupClose);EffectHelper.dialogLeftHide(this)};PetHouseEquipDialogController.onButtonBack=function(){this.back()};
PetHouseEquipDialogController.onOKBtnClicked=function(){notification.postEvent("event.ui.setEquip",this.param.index);audio.playSound(GameMusicType.kButtonClick);this.back(!0)};PetEquipsController=createController("PetEquipsController");PetEquipsController.onViewCreate=function(){return loadccb(GetAssetsPath("PetEquips.ccbi"),this)};PetEquipsController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.registerEvent("event.ui.update");this.registerEvent("event.ui.updateEquipCount");this.reset();EffectHelper.dialogLeftShow(this)};PetEquipsController.onViewEnter=function(){this.updateUI()};
PetEquipsController.onEvents=function(a,c){"event.ui.update"==a?this.updateUI():"event.ui.updateEquipCount"==a&&this.updateEquipSelectState()};
PetEquipsController.reset=function(){this.petId=this.param&&this.param.petId||UserManager.getMainPetId();this.equipsHolderList=null;this.curTab=0;var a=UserManager.getPetInfo(this.petId);this.tmpPetEquips=cw.clone(a.equips);this.showTab(1);var c=this;this.listView.registerScriptListener(function(a){c.onEquipClicked(a)},this);this.scrollBar.bindScrollView(this.listView);this.skelPet.reloadWithCache(GetAssetsPath("anim"+this.petId+".json"));this.skelPet.setAnimation(0,"stand",!0);PetHelper.setPetEquipByPetID(this.skelPet,
this.petId);this.inputName.setString(UserManager.getPetName(this.petId));(a=MetaHelper.petDict[this.petId])&&0==a.gender?this.spriteSex.setDisplayFrameName("pet_ico_female.png"):this.spriteSex.setDisplayFrameName("pet_ico_male.png");this.inputName.registerScriptHandler(function(a){"detach"==a&&c.changePetName(c.inputName.getString())});cc.sys.isNotPrompt&&(this.inputName.setContentWidth(0),this.spritePen.setVisible(!1))};
PetEquipsController.showTab=function(a){if(this.curTab!=a){for(var c=1;5>=c;++c)c==a?(this["spriteTabBg"+c].setColor(cc.color(255,255,255)),this["spriteTab"+c].setDisplayFrameName("pet_equip_tab_s"+c+".png")):(this["spriteTabBg"+c].setColor(cc.color(132,176,200)),this["spriteTab"+c].setDisplayFrameName("pet_equip_tab"+c+".png"));this.createEquipList(a);this.updateEquipSelectState()}};
PetEquipsController.createEquipList=function(a){this.equipsHolderList=[];this.listView.removeAllItems();a=this.findAndSortEquips(a);for(var c=1;c<=a.length;c++){var d=a[c-1],e={},f=loadccb(GetAssetsPath("PetEquipsItem.ccbi"),e,this);this.listView.addItem(f);table.insert(this.equipsHolderList,e);this.updateEquipItem(d,e)}};
PetEquipsController.updateEquipItem=function(a,c){var d=UserManager.hasEquip(a.id);c.id=a.id;c.spriteLock.setVisible(!d);c.spriteIcon.setDisplayFrameName(GameIconHelper.getIconFrameName(a.id));0<a.suit_id?c.spriteSuit.setDisplayFrameName("suit_"+a.suit_id+".png"):c.spriteSuit.setVisible(!1);for(d=1;5>=d;++d)c["spriteStar"+d].setVisible(d<=a.rarity);c.nodeStars.setPositionX(9*(5-a.rarity))};
PetEquipsController.updateEquipSelectState=function(){for(var a=1;a<=this.equipsHolderList.length;a++){var c=this.equipsHolderList[a-1],d=table.includes(this.tmpPetEquips,c.id);c.spriteRight.setVisible(d);d=UserManager.hasEquip(c.id);c.spriteLock.setVisible(!d)}PetHelper.setPetEquip(this.skelPet,this.tmpPetEquips)};PetEquipsController.updateUI=function(a){this.labelBell.setString(UserManager.getBell())};
PetEquipsController.changePetName=function(a){UserManager.getPetName(this.petId)!=a&&HttpHelper.changePetName(this,this.petId,a,function(a){0!=a&&TipDialogController.showTip(ErrMsg(a))})};
PetEquipsController.findAndSortEquips=function(a){for(var c=this.petId,d=[],e=1;e<=MetaHelper.equipList.length;e++){var f=MetaHelper.equipList[e-1];f.own==c&&0<f.showType.length&&(1!=a&&f.pos!=a-1||table.insert(d,f))}var g={};if(a=UserManager.getPetInfo(c))for(e=1;e<=a.equips.length;e++)f=a.equips[e-1],g[f]=!0;table.sort(d,function(a,c){if(g[a.id]&&!g[c.id])return!0;if(g[c.id]&&!g[a.id])return!1;var d=UserManager.hasEquip(a.id),e=UserManager.hasEquip(c.id);if(d&&!e)return!0;if(e&&!d)return!1;if(a.rarity>
c.rarity)return!0;if(a.rarity<c.rarity)return!1;d=a.suit_id;e=c.suit_id;return 0<d&&1>e?!0:0<e&&1>d?!1:a.id<c.id});return d};PetEquipsController.unselectEquip=function(a){for(var c=1;c<=this.tmpPetEquips.length;c++)this.tmpPetEquips[c-1]==a&&(this.tmpPetEquips[c-1]=0)};PetEquipsController.selectEquip=function(a){var c=MetaHelper.equipDict[a];c&&(this.tmpPetEquips[c.pos-1]=a)};
PetEquipsController.checkNeedChangeDress=function(){for(var a=[],c=UserManager.getPetInfo(this.petId),d=1;d<=this.tmpPetEquips.length;++d)this.tmpPetEquips[d-1]!=c.equips[d-1]&&table.insert(a,{itemId:this.petId,count:d,value:this.tmpPetEquips[d-1]});if(0<a.length){var e=this;WaitingDialogController.show();HttpHelper.changeDress(null,a,function(a){WaitingDialogController.hide();0==a?(EffectHelper.dialogLeftHide(e),notification.postEvent("event.ui.updateEquip",[e.petId])):TipDialogController.showTip(ErrMsg(a))});
return!0}};PetEquipsController.onEquipClicked=function(a){audio.playSound(GameMusicType.kButtonClick);a=this.equipsHolderList[a];a.spriteLock.isVisible()?PetEquipsUnlockController.show(a.id):(a.spriteRight.isVisible()?this.unselectEquip(a.id):this.selectEquip(a.id),this.updateEquipSelectState())};
PetEquipsController.onButtonPhoto=function(){audio.playSound(GameMusicType.kCameraClick);for(var a=this,c=[],d=UserManager.getPetInfo(this.petId),e=1;e<=this.tmpPetEquips.length;++e)this.tmpPetEquips[e-1]!=d.equips[e-1]&&table.insert(c,{itemId:this.petId,count:e,value:this.tmpPetEquips[e-1]});0<c.length?(a=this,WaitingDialogController.show(),HttpHelper.changeDress(null,c,function(c){WaitingDialogController.hide();0==c?(notification.postEvent("event.ui.updateEquip",[a.petId]),FadeLayerController.show(),
c=Math.random2(1,5),ShareController.showLoading({shareType:"pet_shot_cloth",petId:a.petId,txtIdx:c,feedId:2008})):TipDialogController.showTip(ErrMsg(c))})):(FadeLayerController.show(),c=Math.random2(1,5),ShareController.showLoading({shareType:"pet_shot_cloth",petId:a.petId,txtIdx:c,feedId:2008}))};PetEquipsController.onButtonTab=function(a){audio.playSound(GameMusicType.kButtonClick);this.showTab(a)};PetEquipsController.onButtonHelp=function(){audio.playSound(GameMusicType.kButtonClick);PetEquipsHelpController.show()};
PetEquipsController.onButtonBack=function(){audio.playSound(GameMusicType.kButtonClick);this.back()};PetEquipsController.back=function(){PetDetailsController.showLoading({petId:this.petId});this.checkNeedChangeDress()||EffectHelper.dialogLeftHide(this)};PetEquipsHelpController=createController("PetEquipsHelpController");PetEquipsHelpController.onViewCreate=function(){return loadccb(GetAssetsPath("PetEquipsHelp.ccbi"),this)};PetEquipsHelpController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.reset();EffectHelper.dialogLeftShow(this)};PetEquipsHelpController.reset=function(){};PetEquipsHelpController.onButtonBack=function(){audio.playSound(GameMusicType.kButtonClick);this.back()};PetEquipsHelpController.back=function(){EffectHelper.dialogLeftHide(this)};PetEquipsUnlockController=createController("PetEquipsUnlockController");PetEquipsUnlockController.onViewCreate=function(){return loadccb(GetAssetsPath("PetEquipsUnlock.ccbi"),this)};PetEquipsUnlockController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.reset();EffectHelper.dialogLeftShow(this)};
PetEquipsUnlockController.reset=function(){var a=this.param,c=MetaHelper.equipDict[a];if(c){this.spriteEquip.setDisplayFrameName(GameIconHelper.getIconFrameName(a));this.labelName.setString(TextTable["t_Petclothes_"+a]);for(var d=1;5>=d;d++)this["spriteStar"+d].setVisible(d<=c.rarity);for(var e=0,f=c.showType.length,d=1;d<=c.showType.length;d++){var g=c.showType[d-1],e=e+1,g=g[0],h=!1,m;g==SOURCE_WAY.kPopcorn?(h=!0,m="ico_popcorn.png"):g==SOURCE_WAY.kBell?(h=!0,m="ico_bell.png"):g==SOURCE_WAY.kThomas?
m="ico_thomas.png":g==SOURCE_WAY.kWeek?m="ico_kitchen.png":g==SOURCE_WAY.kPetLevel?m="ico_pet.png":g==SOURCE_WAY.kActivity?m="ico_activity.png":g==SOURCE_WAY.kAchieve?m="ico_task.png":g==SOURCE_WAY.kTimeLevel?(m="ico_time_level.png",this["spriteIcon"+e].setScale(0.6)):g==SOURCE_WAY.kTimeChargeGift?(m="ico_time_charge.png",this["spriteIcon"+e].setScale(0.6)):g==SOURCE_WAY.kTimeShopGift?(m="ico_time_shop.png",this["spriteIcon"+e].setScale(0.6)):g==SOURCE_WAY.kWXBetaReward?(this.labelInfo.setString(TextTable["t_Petdress_"+
a+"_Pro"]),--f):g==SOURCE_WAY.kMallReward?(m="ico_shop.png",this["spriteIcon"+e].setScale(0.6)):--f;this["btnUnlock"+e].setTag(d-1);h?this["labelCount"+e].setString("x"+c.bellCombine):this["labelCount"+e].setVisible(!1);m&&this["spriteIcon"+e].setDisplayFrameName(m);if(2<=e)break}0==e||0==f?(this.btnUnlock1.setVisible(!1),this.btnUnlock2.setVisible(!1)):1==e&&(this.btnUnlock2.setVisible(!1),this.btnUnlock1.setPositionX(0.5*this.btnUnlock1.getParent().getContentWidth()))}};
PetEquipsUnlockController.onButtonUnlock=function(a){audio.playSound(GameMusicType.kButtonClick);var c=MetaHelper.equipDict[this.param];if(c)this.onCheckUnlock(a,c)};
PetEquipsUnlockController.onCheckUnlock=function(a,c){var d=this,e=c.showType[a],f=e[0],e=e[1],g;f==SOURCE_WAY.kBell?g=string.expand(TextTable.t_itemSourceBell,{bell:c.bellCombine,dress:TextTable["t_Petclothes_"+c.id]}):f==SOURCE_WAY.kThomas?g=TextTable.t_itemSourceLottery:f==SOURCE_WAY.kAchieve?(f=e&&MetaHelper.achieveDict[e],g=string.expand(TextTable.t_itemSourceAchieve,{achieve:f&&f.name})):f==SOURCE_WAY.kTimeLevel?g=TextTable.t_itemSourceTimeLevel:f==SOURCE_WAY.kTimeChargeGift?g=TextTable.t_itemSourceTimeCharge:
f==SOURCE_WAY.kTimeShopGift?g=TextTable.t_itemSourceTimeShop:f==SOURCE_WAY.kActivity?g=string.expand(TextTable.t_itemSourceActivity,{name:TextTable["t_activityName"+e]}):f==SOURCE_WAY.kMallReward&&(g=TextTable.t_itemSourceShop);if(g)QueryDialogController.showLoading({text:g,listener:function(e){if(e)d.onUnlockSure(a,c)}});else d.onUnlockSure(a,c)};
PetEquipsUnlockController.onUnlockSure=function(a,c){var d=c.showType[a],e=d[0],f=d[1],g=this;e==SOURCE_WAY.kPopcorn?HttpHelper.exchangeDress(this,c.id,ItemType.POPCORN,function(a){0==a?(notification.postEvent("event.ui.update"),TipDialogController.showTip(TextTable.t_Shop_BuySuccess),g.back()):TipDialogController.showTip(ErrMsg(a))}):e==SOURCE_WAY.kBell?HttpHelper.exchangeDress(this,c.id,ItemType.BELL,function(a){0==a?(notification.postEvent("event.ui.update"),notification.postEvent("event.ui.updateEquipCount"),
TipDialogController.showTip(TextTable.t_Shop_BuySuccess),g.back()):QueryDialogController.showLoading({text:TextTable.t_bellNotEnough,listener:function(a){a&&GameHelper.openUI("lottery")}})}):e==SOURCE_WAY.kPetLevel?(d=string.expand(TextTable.t_itemSourcePet,{name:TextTable["t_name"+c.own],level:f}),TipDialogController.showTip(d)):(this.hide(),PetEquipsController.hide(),PetDetailsController.hide(),ItemSourceDialogController.jumpBySourceId(d))};PetEquipsUnlockController.onButtonBack=function(){this.back()};
PetEquipsUnlockController.back=function(){EffectHelper.dialogLeftHide(this)};PetLevelUpController=createController("PetLevelUpController");PetLevelUpController.propId1=11005;PetLevelUpController.propId2=11006;PetLevelUpController.goodsId1=1105;PetLevelUpController.goodsId2=1106;PetLevelUpController.onViewCreate=function(){return loadccb(GetAssetsPath("PetLevelUp.ccbi"),this)};PetLevelUpController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.registerEvent("event.ui.update");this.reset();EffectHelper.dialogLeftShow(this)};
PetLevelUpController.onViewEnter=function(){this.updateUI()};PetLevelUpController.reset=function(){this.petId=this.param&&this.param.petId||UserManager.getMainPetId();this.skelPet.reloadWithCache(GetAssetsPath("anim"+this.petId+".json"));this.skelPet.setAnimation(0,"stand",!0);PetHelper.setPetEquipByPetID(this.skelPet,this.petId)};PetLevelUpController.onEvents=function(a,c){"event.ui.update"==a&&this.updateUI()};
PetLevelUpController.updateUI=function(){var a=UserManager.getPropCount(this.propId1)+UserManager.getTimePropCount(this.propId1),c=UserManager.getPropCount(this.propId2)+UserManager.getTimePropCount(this.propId2);this.labelCount1.setString(a);this.labelCount2.setString(c);var d=UserManager.getPetBonus(this.petId),e=d[0],d=d[1],f=UserManager.getPetExpInfo(this.petId)[0],e=string.format("+%.1f%%",100*e),d=string.format("+%.1f%%",100*d);this.labelLevel.setString(tostring(f));this.labelCoin.setString(e);
this.labelScore.setString(d);this.useLabel1.setDisplayFrameFile(GetAssetsPath(0<a?"txt_use_orange.png":"txt_buy.png"));this.useLabel1.setScale(0<a?1.2:1.3);this.useLabel2.setDisplayFrameFile(GetAssetsPath(0<c?"txt_use_green.png":"txt_buy.png"));this.useLabel2.setScale(0<c?1.2:1.3);d=UserManager.getPetExpInfo(this.petId);f=d[0];a=d[1];c=d[2];d=MetaHelper.getPetLevelMax()[0];f==d?this.progExp.setPercentage(100):this.progExp.setPercentage(100*a/c);this.setButtonState()};
PetLevelUpController.isMaxLevel=function(){var a=UserManager.getPetExpInfo(this.petId)[0],c=MetaHelper.getPetLevelMax()[0];return a>=c};PetLevelUpController.setButtonState=function(){var a=this.isMaxLevel();this.btnUse1.setEnabled(!a,TextTable.t_ecode100353);this.btnUse2.setEnabled(!a,TextTable.t_ecode100353)};PetLevelUpController.onButtonUse1=function(){audio.playSound(GameMusicType.kButtonClick);this.useProp(this.propId1)};
PetLevelUpController.onButtonUse2=function(){audio.playSound(GameMusicType.kButtonClick);this.useProp(this.propId2)};PetLevelUpController.onButtonAdd1=function(){audio.playSound(GameMusicType.kButtonClick);ShopItemBuyDialogController.showLoading({goodsId:this.goodsId1,flyTarget:this.icoExp1})};PetLevelUpController.onButtonAdd2=function(){audio.playSound(GameMusicType.kButtonClick);ShopItemBuyDialogController.showLoading({goodsId:this.goodsId2,flyTarget:this.icoExp2})};
PetLevelUpController.useProp=function(a){if(this.isMaxLevel())TipDialogController.showTip(TextTable.t_ecode100353);else if(0>=UserManager.getPropCount(a)&&0>=UserManager.getTimePropCount(a)){if(11005==a)var c=1105,d=this.icoExp1;else c=1106,d=this.icoExp2;ShopItemBuyDialogController.showLoading({goodsId:c,flyTarget:d})}else{var e=this,f=MetaHelper.propDict[a].value;WaitingDialogController.show();HttpHelper.useObject(this,a,this.petId,function(c){WaitingDialogController.hide();0==c?(notification.postEvent("event.game.petExp",
{preExp:0,curExp:f,petId:e.petId}),e.playUserPropEffect(a)):TipDialogController.showTip(ErrMsg(c))})}};
PetLevelUpController.playUserPropEffect=function(a){var c=GameIconHelper.getIconFrameName(a),c=cc.Sprite.createWithSpriteFrameName("#"+c);this.layer.addChild(c);var d=this,e=this.spriteProp1;a==this.propId2&&(e=this.spriteProp2);a=d.skelPet.convertToWorldSpace(ccp(0,160));EffectHelper.flyAndScalAnim(c,e,a,function(){d.skelPet.setAnimation(0,"happy1",!1);d.skelPet.addAnimation(0,"stand",!0);notification.postEvent("event.ui.update")});GameMusicManager.playEffect(GameMusicType.kPetLevelUp)};
PetLevelUpController.onButtonBack=function(){audio.playSound(GameMusicType.kButtonClick);this.back()};PetLevelUpController.back=function(){notification.postEvent("event.ui.updateExp");PetDetailsController.showLoading({petId:this.petId});EffectHelper.dialogLeftHide(this)};LotteryOneRewardController=createController("LotteryOneRewardController");LotteryOneRewardController.onViewCreate=function(){return loadccb(GetAssetsPath("LotteryOneReward.ccbi"),this)};LotteryOneRewardController.onViewOpen=function(){var a=this;this.holderList=[];this.registerTouch(function(c,d){"began"==c&&a.back();return!0},0,!0);this.reset();EffectHelper.dialogLeftShow(this)};
LotteryOneRewardController.reset=function(){if(this.param){this.rewardNode.removeAllChildren();var a=this.param;this.otherTxt.setVisible(!1);if(ServerProxy.getItemType(a.itemId)==ItemType.EQUIP){var c=LotteryController.createDressRewardItem(a.itemId,this.holderList,this,!a.value2);a.value2&&this.holderList[0].labelCount.setString(a.value2)}else c=LotteryController.createOtherRewardItem(a.itemId,this.holderList,this,a.value),this.dressTxt.setVisible(!1),this.itemTypeBg.setVisible(!1);c&&this.rewardNode.addChild(c)}};
LotteryOneRewardController.onSendCallback=function(a){this.holderList[0].btnItemSend.setEnabled(!a);a&&this.param.value2&&LotteryController.updateUI()};LotteryOneRewardController.onSendFriend=function(){LotterySendLayerController.showLoading({sendContext:this,reward:this.param});this.holderList[0].btnItemSend.setEnabled(!1)};LotteryOneRewardController.onButtonReturn=function(){audio.playSound(GameMusicType.kButtonClick);this.showCheckDialog(!1)};
LotteryOneRewardController.showCheckDialog=function(a){var c=this,d=function(d){if(d){if(a)LotteryController.onOneDropButton();c.back()}};this.dressTxt.isVisible()&&this.param.value2&&this.holderList[0].btnItemSend.isEnabled()?LotteryController.showCheckDecompose(1,this.param.value2,d):d(!0)};LotteryOneRewardController.onRedropButtonClick=function(){this.showCheckDialog(!0)};LotteryOneRewardController.back=function(){LotteryController.resetBallAnimation();this.hide()};LotteryTenRewardController=createController("LotteryTenRewardController");LotteryTenRewardController.onViewCreate=function(){return loadccb(GetAssetsPath("LotteryTenReward.ccbi"),this,null,null,null,"labelTitle spriteEquip spriteBell spriteSuit spritePetHeadFrame spritePetHead nodeStars spriteStar1 spriteStar2 spriteStar3 spriteStar4 spriteStar5".split(" "))};
LotteryTenRewardController.onViewOpen=function(){var a=this;this.registerTouch(function(c,d){"began"==c&&a.back();return!0},0,!0);this.reset();EffectHelper.dialogLeftShow(this)};LotteryTenRewardController.reset=function(){this.dressHolderList=[];this.otherHolderList=[];var a=this.param,c=this;this.performForLoop(1,a.length,function(d){d=a[d-1];ServerProxy.getItemType(d.itemId)==ItemType.EQUIP?c.addDressRewardItem(d):c.addOtherRewardItem(d)},0.05,"update_ten_rewards")};
LotteryTenRewardController.addDressRewardItem=function(a){var c=LotteryController.createDressRewardItem(a.itemId,this.dressHolderList,this,!a.value2);if(c){var d=this.dressHolderList.length-1;this.dressHolderList[d].btnItemSend.setTag(d+1);a.value2&&this.dressHolderList[d].labelCount.setString(a.value2);this.dressHolderList[d].reward=a;this.dressRewardList.addItem(c)}};
LotteryTenRewardController.addOtherRewardItem=function(a){(a=LotteryController.createOtherRewardItem(a.itemId,this.otherHolderList,this,a.value))&&this.otherRewardList.addItem(a)};LotteryTenRewardController.onSendCallback=function(a){var c=this.dressHolderList[this.clickSendIndex-1];c&&(c.btnItemSend.setEnabled(!a),a&&c.reward.value2&&LotteryController.updateUI())};
LotteryTenRewardController.onSendFriend=function(a){this.clickSendIndex=a;LotterySendLayerController.showLoading({sendContext:this,reward:this.dressHolderList[a-1].reward});this.dressHolderList[a-1].btnItemSend.setEnabled(!1)};LotteryTenRewardController.getUnsendDressCountAndBell=function(){var a=0,c=0,d;for(d in this.dressHolderList){var e=this.dressHolderList[d];e.btnItemSend.isEnabled()&&e.reward.value2&&(++a,c+=e.reward.value2)}return[a,c]};
LotteryTenRewardController.showCheckDialog=function(a){var c=this,d=function(d){if(d){if(a)LotteryController.onTenDropButton();c.back()}},e=this.getUnsendDressCountAndBell();0<e[0]&&0<e[1]?LotteryController.showCheckDecompose(e[0],e[1],d):d(!0)};LotteryTenRewardController.onDropTenAgain=function(){this.showCheckDialog(!0)};LotteryTenRewardController.onButtonReturn=function(){this.showCheckDialog(!1)};LotteryTenRewardController.back=function(){LotteryController.resetBallAnimation();this.hide()};LotteryHandbookController=createController("LotteryHandbookController");LotteryHandbookController.onViewCreate=function(){return loadccb(GetAssetsPath("LotteryHandbook.ccbi"),this)};LotteryHandbookController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back)};LotteryHandbookController.onViewOpened=function(a){this.reset();EffectHelper.dialogLeftShow(this)};
LotteryHandbookController.reset=function(){this.holdersList=[];var a=MetaHelper.getDressHandbookList(),c=this;this.performForLoop(1,a.length,function(d){(d=c.createItemNode(a[d-1]))&&c.rewardList.addItem(d)},0.05,"update_handbook")};LotteryHandbookController.createItemNode=function(a){if(a){var c=ServerProxy.getItemType(a);if(c==ItemType.EQUIP)var d=MetaHelper.getEquipById(a);else c==ItemType.PROP&&(d=MetaHelper.propDict[a]);return this.initItemWithData(d)}};
LotteryHandbookController.initItemWithData=function(a){if(!a)return null;var c={},d=loadccb(GetAssetsPath("LotteryHandbookItem.ccbi"),c,this);this.holdersList.push(c);if(a.rarity){for(var e=1;5>=e;++e)c["spriteStar"+e].setVisible(e<=a.rarity);c.nodeStars.setPositionX(c.nodeStars.getPositionX()+10*(5-a.rarity));c.markUnlock.setVisible(UserManager.hasEquip(a.id));c.spritePetHead.setDisplayFrameName("head"+a.own+".png");c.spriteEquip.setDisplayFrameName("equip_"+a.id+".png")}else c.nodeStars.setVisible(!1),
c.propCountLabel.setVisible(!1),c.spritePetHead.setVisible(!1),c.spriteEquip.setDisplayFrameName(GameIconHelper.getIconFrameName(a.id)),c.spriteEquip.setScale(1),c.markUnlock.setVisible(!1);c.labelTitle.setString(a.desc);return d};LotteryHandbookController.onLotteryProbClicked=function(){LotteryProbController.showLoading();this.hide()};LotteryHandbookController.back=function(){this.onButtonBack()};LotteryHandbookController.onButtonBack=function(){this.hide()};LotterySendLayerController=createController("LotterySendLayerController");LotterySendLayerController.onViewCreate=function(){return loadccb(GetAssetsPath("LotterySendLayer.ccbi"),this)};LotterySendLayerController.onViewOpen=function(){this.registerTouch(function(a,c){return!0},0,!0);this.registerEvent("event.ui.update");this.reset();EffectHelper.dialogLeftShow(this)};LotterySendLayerController.onViewEnter=function(){this.updateUI()};
LotterySendLayerController.onEvents=function(a,c){"event.ui.update"==a&&this.updateUI()};LotterySendLayerController.reset=function(){this.listFriendHolder=null;this.selectedFriend();this.listFriend.registerScriptListener(this.onListItemClick,this);this.noFriend.setVisible(!0);var a=this;CacheHelper.getAndCacheFiendsInfo(this,function(c,d){0==c?(a.friendList=d,a.updateFriendListUI(d)):TipDialogController.showTip(ErrMsg(c))})};
LotterySendLayerController.updateFriendListUI=function(){this.listFriendHolder=[];this.listFriend.removeAllItems();var a=this,c=!0,d;for(d in this.friendList)if(!this.friendList[d].isNpc){c=!1;break}this.noFriend.setVisible(c);var a=this,e=0,c=function(){if(!(e>=a.friendList.length)){e++;var c=a.friendList[e-1];if(!c.isNpc){var d={},h=loadccb(GetAssetsPath("AskForEnergyFriendItem.ccbi"),d,a);d.playerId=c.playerId;d.labelName.setString(c.name);d.spriteCheckMark.setVisible(!1);GameHelper.loadHeadSprite(d.spriteHead,
c.headUrl,!0);a.listFriendHolder.push(d);a.listFriend.addItem(h)}}};for(d=1;12>=d;++d)c();this.listFriend.unregisterPreloadListener();12<this.friendList.length&&this.listFriend.registerPreloadListener(0.1,0.05,c)};LotterySendLayerController.onListItemClick=function(a){audio.playSound(GameMusicType.kButtonClick);this.selectedFriend(this.listFriendHolder[a])};
LotterySendLayerController.selectedFriend=function(a){if(this.selectedHolder&&(this.selectedHolder.spriteCheckMark.setVisible(!1),a==this.selectedHolder)){this.selectedHolder=null;return}(this.selectedHolder=a||null)&&this.selectedHolder.spriteCheckMark.setVisible(!0)};LotterySendLayerController.updateUI=function(){};
LotterySendLayerController.onSendDress=function(){audio.playSound(GameMusicType.kButtonClick);if(this.selectedHolder){var a=this,c=string.expand(TextTable.t_confirmation_send,{name:MetaHelper.equipDict[this.param.reward.itemId].desc,freind:this.selectedHolder.labelName.getString()});QueryDialogController.showLoading({text:c,listener:function(c){if(c)a.onSendSure()}})}else TipDialogController.showTip(TextTable.t_energySelectFriend)};
LotterySendLayerController.onSendSure=function(){var a=this;WaitingDialogController.show();HttpHelper.sendFriendDress(this,this.selectedHolder.playerId,this.param.reward,function(c){WaitingDialogController.hide();0==c?(a.back(!0),TipDialogController.showTip(TextTable.t_giveSuccess)):TipDialogController.showTip(ErrMsg(c))})};LotterySendLayerController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};
LotterySendLayerController.back=function(a){if(this.param.sendContext)this.param.sendContext.onSendCallback(a);EffectHelper.dialogLeftHide(this)};LotterySpecialRewardController=createController("LotterySpecialRewardController");LotterySpecialRewardController.onViewCreate=function(){return loadccb(GetAssetsPath("LotterySpecialReward.ccbi"),this)};LotterySpecialRewardController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back)};LotterySpecialRewardController.onViewOpened=function(a){this.reset();EffectHelper.dialogPopOut(this)};
LotterySpecialRewardController.reset=function(){var a=this.param;if(a){this.holderList=[];var c=LotteryController.createDressRewardItem(a.itemId,this.holderList,this,0>=a.count);c&&(this.holderList[0].sendBtnNode.setVisible(!1),this.holderList[0].labelCount.setString(a.count),this.dressItemNode.removeAllChildren(),this.dressItemNode.addChild(c));this.playAction()}};
LotterySpecialRewardController.playAction=function(){for(var a=this.spriteStar,c=1;c<=a.length;c++)EffectHelper.starAction(a[c-1]);this.nodeLight.runAction(cc.repeatForever(cc.rotateBy(5,360)))};LotterySpecialRewardController.onShareFriends=function(){var a={feedID:1022,title:TextTable.t_sharetitle3002,desc:string.expand(TextTable.t_sharefeed3002,{id:UserManager.getPlayerId()}),shareType:0};TencentSdkManager.shareMessage(a)};
LotterySpecialRewardController.onShareMoments=function(){var a={feedID:1022,title:TextTable.t_sharetitle3002,desc:string.expand(TextTable.t_sharefeed3002,{id:UserManager.getPlayerId()}),shareType:1};TencentSdkManager.shareMessage(a)};LotterySpecialRewardController.back=function(){this.onButtonBack()};LotterySpecialRewardController.onButtonBack=function(){this.hide()};LotteryProbController=createController("LotteryProbController");LotteryProbController.onViewCreate=function(){return loadccb(GetAssetsPath("LotteryProb.ccbi"),this)};LotteryProbController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back)};LotteryProbController.onViewOpened=function(a){var c=this;cc.textureCache.addImage(GetAssetsPath("lottery_prob.png"),function(){var a=cc.Sprite.create(GetAssetsPath("lottery_prob.png"));c.listView.addItem(a)});EffectHelper.dialogLeftShow(this)};
LotteryProbController.back=function(){this.onButtonBack()};LotteryProbController.onButtonBack=function(){this.hide();LotteryHandbookController.showLoading()};KitchenGodController=createController("KitchenGodController");KitchenGodController.isFuncOpen=function(){return WorldMapUIController.isFuncUnlock(MenuItemTag.Menu_Tag_FriendRequest)};
KitchenGodController.updateDataTime=function(a){if(this.godData){var c=DataHelper.getSimulatorTs();a=this.updateMinTime-c;c=MathUtils.mod(this.godData.updateTime-c,86400);0>=c&&(0>=c&&scheduler.unscheduleGlobal(this.timeListener),this.isOverdue=!0,this.isShowing&&this.checkDataOrRefresh(function(a){a&&(this.reset(),notification.postEvent("event.ui.update",this.godData))}));if(0>a&&KitchenGodRewardController.isShowing){var d=this;this.checkDataOrRefresh(function(a){a&&notification.postEvent("event.ui.update",
d.godData)})}}};KitchenGodController.sortRankData=function(a){if(!a||2>a.length)return a;table.sort(a,function(a,d){return a.score>d.score});return a};
KitchenGodController.requestData=function(a){var c=this;HttpHelper.sendGetKitchenGodData(null,function(d,e){if(0==d){c.meta=MetaHelper.kitchenGod;c.isOverdue=!1;c.godData=cw.clone(e.kitchenGodData);c.lastWeekRank={ranks:e.ranks,users:e.users};c.lastWeekRank.users&&(c.lastWeekRank.users=table.listToMap(c.lastWeekRank.users,"playerId"));if(0==this.preWorldRank||0==this.preFriendRank)this.preWorldRank=this.godData.preRank||0,this.preFriendRank=this.godData.preFriendRank||0;c.godData.playCount==c.meta.cfg.defaultTimes&&
(ModelManager.gameData.kitchenGodLevels=[]);a&&a(!0);c.timeListener&&scheduler.unscheduleGlobal(c.timeListener);c.updateMinTime=c.godData.updateTime;if(c.godData.rewardList)for(var f in c.godData.rewardList){var g=c.godData.rewardList[f];g.time<c.updateMinTime&&(c.updateMinTime=g.time)}c.timeListener=scheduler.scheduleGlobal(KitchenGodController.updateDataTime,1)}else TipDialogController.showTip(ErrMsg(d)),a&&a(!1)})};
KitchenGodController.checkDataOrRefresh=function(a){this.godData&&!this.isOverdue?a&&a(!0):this.requestData(a)};
KitchenGodController.randomLevelId=function(){if(DebugFlag){var a=tonumber(this.inputLevel.getString())||0,c;for(c in this.meta.cfg.levels){var d=this.meta.cfg.levels[c];if(d==a)return this.debugLevel=!0,a}}if(!this.levels||0==this.levels.length){this.levels=cw.clone(this.meta.cfg.levels);for(c in ModelManager.gameData.kitchenGodLevels)d=ModelManager.gameData.kitchenGodLevels[c],table.exist(this.levels,d)&&table.removeValue(this.levels,d);0==this.levels.length&&(this.levels=cw.clone(this.meta.cfg.levels),
ModelManager.gameData.kitchenGodLevels=[]);MathUtils.shuffle(this.levels)}return this.levels[0]};KitchenGodController.getStartValue=function(){return this.godData?0<this.godData.playCount?[this.godData.playCount,0,0,0]:0==this.godData.playCount&&0==this.godData.buyCount?[0,this.meta.cfg.price,this.meta.cfg.offprice,this.meta.cfg.offpriceShow]:[0,this.meta.cfg.price,this.meta.cfg.price,1]:0};
KitchenGodController.setGameResult=function(a,c,d,e){this.godData&&(this.godData.star+=a,this.godData.honey+=c,d>this.godData.score&&(this.godData.score=d,this.godData.petId=e))};KitchenGodController.onInit=function(){this.preFriendRank=this.preWorldRank=0};KitchenGodController.onDestroy=function(){this.preFriendRank=this.preWorldRank=null;this.timeListener&&scheduler.unscheduleGlobal(this.timeListener)};
KitchenGodController.onViewCreate=function(){return loadccb(GetAssetsPath("KitchenGodLayer.ccbi"),this)};
KitchenGodController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.registerEvent("event.ui.update");this.reset();var a=this,c=function(){a.godData&&(EffectHelper.paperShake(a.btnStart),EffectHelper.paperShake(a.btnReward),EffectHelper.paperShake(a.btnRank),EffectHelper.paperShake(a.spCar),0<this.preWorldRank||0<this.preFriendRank)&&(KitchenGodLastRewardDialogController.show({preRank:this.preWorldRank,preFriendRank:this.preFriendRank}),this.preFriendRank=this.preWorldRank=
0)};this.performDelay(function(){c();notification.postEvent("event.ui.startKitchenGodFirst")})};KitchenGodController.onViewEnter=function(){this.updateUI()};KitchenGodController.onEvents=function(a,c){"event.ui.update"==a&&this.updateUI()};
KitchenGodController.reset=function(){var a=this,c=function(c){c&&a.isShowing&&(a.changePetId=UserManager.getMainPetId(),a.meta=MetaHelper.kitchenGod,a.chooseHead.setDisplayFrameName("head"+a.changePetId+".png"),a.updateUI())};this.godData?c(!0):this.requestData(c);DebugFlag?this.spLevelEdit.setVisible(!0):this.spLevelEdit.setVisible(!1)};
KitchenGodController.updateUI=function(){if(this.godData){var a=this.getStartValue(),c=a[0],d=a[2],a=a[3];0<c?(this.spBuyStart.setVisible(!1),this.spFreeStart.setVisible(!0),this.labelPlayCount.setString(c)):(this.spBuyStart.setVisible(!0),this.spFreeStart.setVisible(!1),this.labelPrice.setString("x"+tostring(d)),this.spOffPriceBG.setVisible(1!=a),this.labelOff.setString(100*a+"%"))}};
KitchenGodController.onButtonStart=function(){var a=this.getStartValue()[2];UserManager.getDiamond();var c=this,d=function(){0<c.changePetId&&c.changePetId!=UserManager.getMainPetId()&&HttpHelper.changeMainPet(c,c.changePetId);c.btnStart.setEnabled(!1);var d=c.randomLevelId();DebugFlag?HttpHelper.getLevelConfigByLevelId(c,d,function(f,g){0==f?LevelMapManager.getInstance().initOneCardByData(g.config):(logw("update level config failed!"),c.btnStart.setEnabled(!0));c.requestStart(d,a)}):c.requestStart(d,
a)};0<a?QueryDialogController.checkAndUseDiamond(a,function(a){a&&d()}):d()};
KitchenGodController.requestStart=function(a,c){var d=0;0<c&&(d=1);var e=this;HttpHelper.sendStartKitchenGod(this,a,d,c,function(f){e.btnStart.setEnabled(!0);0==f?(e.godData.playCount-=1,1==d&&(e.godData.buyCount+=1,ServerProxy.subItem(ItemType.DIAMOND,c)),e.debugLevel||(e.debugLevel=!1,table.insert(ModelManager.gameData.kitchenGodLevels,a),table.exist(e.levels,a)&&table.removeValue(e.levels,a),ModelManager.saveLocalData()),ResourcesManager.loadLevelConfig(a,function(){"KitchenGodMap"==GameDirector.getCurrentSceneName()?
SceneHelper.pushToScene("KitchenGodGame",null,{level:a,propIds:[]}):SceneHelper.jumpToScene("KitchenGodGame",null,{level:a,propIds:[]},!0);DcHelper.startLevel(a)})):TipDialogController.showTip(ErrMsg(f))})};KitchenGodController.onButtonReward=function(){audio.playSound(GameMusicType.kButtonClick);KitchenGodRewardController.show(this.godData)};KitchenGodController.onButtonRank=function(){KitchenGodRankController.show({score:this.godData.score,petId:this.godData.petId,lastWeekRank:this.lastWeekRank})};
KitchenGodController.onButtonPet=function(){audio.playSound(GameMusicType.kButtonClick);var a=this;ChoosePetController.showLoading({listener:function(c){a.changePetId=c;TipDialogController.showTip(TextTable.t_Pet_Chefchange);a.chooseHead.setDisplayFrameName("head"+c+".png")}})};KitchenGodController.onButtonHelp=function(){audio.playSound(GameMusicType.kButtonClick);KitchenGodHelpController.show()};KitchenGodController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};
KitchenGodController.back=function(){SceneHelper.popScene()};KitchenGodPassController=createController("KitchenGodPassController");KitchenGodPassController.onViewCreate=function(){return loadccb(GetAssetsPath("KitchenGodPassLayer.ccbi"),this)};KitchenGodPassController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.reset();EffectHelper.dialogPopOut(this)};KitchenGodPassController.onViewEnter=function(){this.updateUI()};KitchenGodPassController.onEvents=function(a,c){};
KitchenGodPassController.reset=function(){if(this.param){var a=this,c=UserManager.getMainPetId();this.skelPet.reloadWithCache(GetAssetsPath("anim"+c+".json"));PetHelper.setPetEquipByPetID(this.skelPet,c);this.skelPet.setAnimation(0,"stand",!0);this.labelStar.setNumber(0,0);this.labelHoney.setNumber(0,0);this.labelScore.setNumber(0,0);this.labelMoves.setNumber(this.param.leftStep,0);this.performDelay(function(){a.labelStar.setNumber(a.param.star,1);a.labelHoney.setNumber(a.param.honey,1);a.labelScore.setNumber(a.param.score,
1.5)},0.5,"delayUiMove1");this.performDelay(function(){a.labelMoves.setNumber(0,1)},1.5,"delayUiMove2");this.spScoreBonus.setVisible(!1);var d=UserManager.getPetBonus()[0];this.labelScoreBonus.setString(string.format("+%.1f%%",100*d));c=[];c.push(cc.delayTime(2.5));c.push(cc.show());c.push(cc.EaseBackOut.create(cc.moveTo(0.4,ccp(353,100))));this.spScoreBonus.runAction(cc.sequence(c));this.performDelay(function(){var c=cc.repeatForever(cc.sequence(cc.EaseBounce.create(cc.moveBy(1,ccp(20,0))),cc.EaseBounceOut.create(cc.moveBy(0.6,
ccp(-20,0)))));a.spScoreBonus.stopAllActions();a.spScoreBonus.runAction(c);a.labelScore.setNumber(a.param.score*(1+d))},3,"delayScoreBonus");this.param.isSuccess?this.spTitle.setDisplayFrameFile(GetAssetsPath("kitchen_pass_title_success.png")):this.spTitle.setDisplayFrameFile(GetAssetsPath("kitchen_pass_title_fail.png"))}};KitchenGodPassController.updateUI=function(){};KitchenGodPassController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};
KitchenGodPassController.back=function(){SceneHelper.popScene()};KitchenGodRankController=createController("KitchenGodRankController");KitchenGodRankController.onViewCreate=function(){return loadccb(GetAssetsPath("KitchenGodRankLayer.ccbi"),this)};KitchenGodRankController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.reset();EffectHelper.dialogLeftShow(this)};KitchenGodRankController.onViewEnter=function(){};
KitchenGodRankController.reset=function(){null!=this.param&&(this.userScore=this.param.score,this.petId=this.param.petId||UserManager.getMainPetId(),this.lastWeekRank=this.param.lastWeekRank,this.rankData||(this.rankData={}),this.listRankFriend.setVisible(!1),this.scrollBarFriend.bindScrollView(this.listRankFriend),this.scrollBarGlobal.bindScrollView(this.listRankGlobal),this.lableNoOpen.setVisible(!1),this.btnAddFriend.setVisible(!1),this.resetLastWeekList(),this.resetRankData(0),this.resetRankData(1),
this.onButtonTabFriend())};KitchenGodRankController.setTempData=function(a,c){c.users=table.listToMap(c.users,"playerId");this.rankData[a+1]=c};
KitchenGodRankController.resetRankData=function(a){var c=this.rankData[a+1];if(c&&c.userScore==this.userScore)this.setRankUI(a,c);else{var d=this;HttpHelper.sendGetKitchenGodRank(this,a,function(e,f){if(0==e){var g={ranks:f.ranks||[],rank:f.rank,users:table.listToMap(f.users,"playerId"),userScore:d.userScore};1==a?CacheHelper.getAndCacheFiendsInfo(d,function(c,e){0==c&&(d.rankData[a+1]=g,d.setRankUI(a,d.rankData[a+1]))}):(d.rankData[a+1]=g,d.setRankUI(a,d.rankData[a+1]))}else TipDialogController.showTip(ErrMsg(e)),
d.setRankUI(a,c)})}};KitchenGodRankController.setRankUI=function(a,c){c&&(1==a?this.resetFriendList(c):this.resetGlobalList(c))};
KitchenGodRankController.setItemUI=function(a,c,d,e,f){c&&!d&&(d={name:tostring(c.playerId),headUrl:"1"});var g=UserManager.getPlayerId();c.playerId==g?(a.labelName.setString(TextTable.t_me),a.labelName.setColor(cc.color(255,255,255)),a.labelScore.setColor(cc.color(50,50,50))):a.labelName.setString(d.name);a.labelScore.setString(Math.floor(c.score));0==c.score?(a.labelRank.setString("--"),a.spriteAvatarBg.setVisible(!1)):3<e?a.labelRank.setString(e):(a.spriteDot.setDisplayFrameName("medal_"+e+".png"),
a.labelRank.setString(""));c.petId&&0<c.petId?a.spritePet.setDisplayFrameName("head"+c.petId+".png"):a.spritePet.setDisplayFrameName("head20001.png");f?(c.playerId==g&&a.spriteTip.setDisplayFrameName("bar_friend_self.png"),GameHelper.loadHeadSprite(a.spriteHead,d.headUrl,!0),GameHelper.checkAndSetHeadBoardSprite(c.playerId,a.spriteGoal)):(c.playerId==g&&a.spriteTip.setDisplayFrameName("rank_bg_self.png"),100<e&&(a.labelRank.setString("100+"),a.labelRank.setScale(0.4)),tonumber(d.headUrl)?a.spriteHead.setDisplayFrameFile(GetAssetsPath("avatar"+
d.headUrl+".png")):(a.spriteHead.setUrl(d.headUrl),a.spriteHead.startLoadWhenVisible(!1)),GameHelper.checkAndSetHeadBoardSprite(c.playerId,a.spriteGoal,!0))};
KitchenGodRankController.resetFriendList=function(a){if(10>a.ranks.length)this.listRankFriend.setVisible(!1),this.lableNoOpen.setVisible(!0),this.btnAddFriend.setVisible(!0);else{this.listRankFriend.setVisible(!0);this.lableNoOpen.setVisible(!1);this.btnAddFriend.setVisible(!1);for(var c=0,d=UserManager.getPlayerId(),e=1;e<=a.ranks.length;++e){var f=a.ranks[e-1];if(f.playerId==d){c=e;f.score<this.userScore&&(f.score=this.userScore);break}}0==c&&(e={playerId:UserManager.getPlayerId(),score:this.userScore,
petId:this.petId},table.insert(a.ranks,e));KitchenGodController.sortRankData(a.ranks);for(e=1;e<=a.ranks.length;++e)if(f=a.ranks[e-1],f.playerId==d){c=e;break}var g=this;this.listFriendHolder={};this.listRankFriend.removeAllItems();e=UserManager.getPlayerId();this.performForLoop(1,a.ranks.length,function(c){var d=a.ranks[c-1],e=CacheHelper.getUserInfo(d.playerId);d.playerId!=UserManager.getPlayerId()||e||(e={headUrl:UserManager.getHeadUrl(),name:UserManager.getNickName()});var f={},h=loadccb(GetAssetsPath("KitchenGodFriendItem.ccbi"),
f,g);g.setItemUI(f,d,e,c,!0);g.listFriendHolder[d.playerId]=f;g.listRankFriend.addItem(h)},0.05,"update_friendList");if(0<c){var f={},h=loadccb(GetAssetsPath("KitchenGodFriendItem.ccbi"),f,this);this.spriteFriendBottom.addChild(h);h.setAnchorPoint(ccp(0.5,0.5));h.setPosition(0,90);h.setScale(1);f.spriteTip.setDisplayFrameName("bar_friend_self.png");f.spriteAvatarBg.setVisible(!1);f.labelName.setColor(cc.color(255,255,255));f.labelScore.setColor(cc.color(50,50,50));f.labelScore.setString(Math.floor(this.userScore));
f.labelName.setString(TextTable.t_me);0==this.userScore?f.labelRank.setString("--"):f.labelRank.setString(c);f.spriteAvatarBg.setVisible(!1);GameHelper.loadHeadSprite(f.spriteHead,UserManager.getHeadUrl(),!0);GameHelper.checkAndSetHeadBoardSprite(e,f.spriteGoal);var m=f.spriteTip.boundingBoxInWorld().y;this.registerUpdate("check_avatar_friend",function(){var a=g.listFriendHolder[d];a&&(a=a.spriteTip.boundingBoxInWorld().y,g.spriteFriendBottom.setVisible(a<m))})}}};
KitchenGodRankController.resetGlobalList=function(a){KitchenGodController.sortRankData(a.ranks);for(var c=0,d=UserManager.getPlayerId(),e=1;e<=a.ranks.length;++e)if(a.ranks[e-1].playerId==d){c=e;break}0==c&&(table.insert(a.ranks,{playerId:d,score:this.userScore,rank:101,petId:this.petId}),user={headUrl:UserManager.getHeadUrl(),name:UserManager.getNickName()},a.users[d]=user,c=101);this.listGlobalHolder={};this.listRankGlobal.removeAllItems();var f=this;this.performForLoop(1,a.ranks.length,function(c){var e=
a.ranks[c-1],g=a.users[e.playerId];e.playerId!=d||g||(g={headUrl:UserManager.getHeadUrl(),name:UserManager.getNickName()});var h={},t=loadccb(GetAssetsPath("KitchenGodRankItem.ccbi"),h,f);f.setItemUI(h,e,g,c,!1);f.listGlobalHolder[e.playerId]=h;f.listRankGlobal.addItem(t)},0.05,"update_globalList");if(0<c){var e={},g=loadccb(GetAssetsPath("KitchenGodRankItem.ccbi"),e,this);this.spriteWorldBottom.addChild(g);g.setAnchorPoint(ccp(0.5,0.5));g.setPosition(0,100);g.setScale(1.05);0==this.userScore?e.labelRank.setString("--"):
100<c?(e.labelRank.setString("100+"),e.labelRank.setScale(0.4)):e.labelRank.setString(c);e.spriteTip.setDisplayFrameName("rank_bg_self.png");e.labelName.setColor(cc.color(255,255,255));e.labelScore.setColor(cc.color(50,50,50));e.labelScore.setString(Math.floor(this.userScore));e.labelName.setString(TextTable.t_me);GameHelper.loadHeadSprite(e.spriteHead,UserManager.getHeadUrl());0<this.userScore?e.spritePet.setDisplayFrameName("head"+this.petId+".png"):e.spriteAvatarBg.setVisible(!1);var h=e.spriteTip.boundingBoxInWorld().y;
this.registerUpdate("check_avatar",function(){var a=f.listGlobalHolder[d];a&&(a=a.spriteTip.boundingBoxInWorld().y,f.spriteWorldBottom.setVisible(a<h))})}};
KitchenGodRankController.resetLastWeekList=function(){for(var a=UserManager.getPlayerId(),c=1;3>=c;c++){var d,e;this.lastWeekRank.ranks&&this.lastWeekRank.users&&(d=this.lastWeekRank.ranks[c-1])&&(e=this.lastWeekRank.users[d.playerId]);d&&e?(d.playerId==a?this["labelLastName"+c].setString(TextTable.t_me):this["labelLastName"+c].setString(e.name),tonumber(e.headUrl)?this["iconHead_"+c].setDisplayFrameFile(GetAssetsPath("avatar"+e.headUrl+".png")):(this["iconHead_"+c].setUrl(e.headUrl),this["iconHead_"+
c].startLoadWhenVisible(!1))):(this["iconHead_"+c].setDisplayFrameFile(GetAssetsPath("avatar_0.png")),this["labelLastName"+c].setVisible(!1))}};KitchenGodRankController.onButtonTabFriend=function(){audio.playSound(GameMusicType.kButtonClick);this.nodeFriend.setVisible(!0);this.nodeGlobal.setVisible(!1);this.spTableFriendDis.setVisible(!1);this.spTableFriendActive.setVisible(!0);this.spTableGlobalActive.setVisible(!1);this.spTableGlobalDis.setVisible(!0);this.btnTabFriend.setZOrder(1);this.btnTabGlobal.setZOrder(-1)};
KitchenGodRankController.onButtonTabGlobal=function(){audio.playSound(GameMusicType.kButtonClick);this.nodeFriend.setVisible(!1);this.nodeGlobal.setVisible(!0);this.spTableFriendDis.setVisible(!0);this.spTableFriendActive.setVisible(!1);this.spTableGlobalActive.setVisible(!0);this.spTableGlobalDis.setVisible(!1);this.btnTabFriend.setZOrder(-1);this.btnTabGlobal.setZOrder(1)};KitchenGodRankController.onButtonAdd=function(){audio.playSound(GameMusicType.kButtonClick);this.back();AddFriendLayerController.show()};
KitchenGodRankController.onButtonBack=function(){this.back()};KitchenGodRankController.back=function(){audio.playSound(GameMusicType.kPopupClose);EffectHelper.dialogLeftHide(this)};KitchenGodRewardController=createController("KitchenGodRewardController");KitchenGodRewardController.onViewCreate=function(){return loadccb(GetAssetsPath("KitchenGodRewardLayer.ccbi"),this)};KitchenGodRewardController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);var a=this;this.registerScriptTouchHandler(function(c,d,e){a.onTouch(c,d,e);return!0},!1,0,!0);this.registerEvent("event.ui.update");this.reset();EffectHelper.dialogLeftShow(this)};
KitchenGodRewardController.onViewClose=function(){this.listRewardNode=null};KitchenGodRewardController.onEvents=function(a,c){"event.ui.update"==a&&this.updateUI(c)};
KitchenGodRewardController.reset=function(){this.godData=KitchenGodController.godData;this.labelStar.setString("x"+this.godData.star);this.labelHoney.setString("x"+this.godData.honey);if(this.listRewardNode&&this.listRewardNode)for(var a in this.listRewardNode){var c=this.listRewardNode[a];c.removeFromParentAndCleanup(!0)}this.listRewardHolder=[];this.listRewardNode=[];this.listTime=[];var d=!1,e=!1;for(a in this.godData.rewardList){var c=this.godData.rewardList[a],f=c.level;3==f&&(d=!0);5==f&&(e=
!0);var g={},h=loadccb(GetAssetsPath("KitchenGodRewardItem.ccbi"),g,this);0==c.needStar||0==c.needHoney?(g.node1.setVisible(!0),g.node2.setVisible(!1),0<c.needStar?(g.labelPrice0.setString("x"+tostring(c.needStar)),g.iconPrice0.setDisplayFrameName("kitchen_star_jindu.png")):(g.labelPrice0.setString("x"+tostring(c.needHoney)),g.iconPrice0.setDisplayFrameName("kitchen_honey.png"))):(g.node1.setVisible(!1),g.node2.setVisible(!0),g.labelPrice1.setString("x"+tostring(c.needStar)),g.iconPrice1.setDisplayFrameName("kitchen_star_jindu.png"),
g.labelPrice2.setString("x"+tostring(c.needHoney)),g.iconPrice2.setDisplayFrameName("kitchen_honey.png"));var m=c.items[0];g.spriteIcon.setDisplayFrameName(GameIconHelper.getIconFrameName(m.itemId));g.icoBell.setVisible(!1);var n=ServerProxy.getItemType(m.itemId)==ItemType.EQUIP;g.nodeTime.setVisible(!1);if(n){this.listTime[f]=c.time;var r=UserManager.hasEquip(m.itemId);g.icoBell.setVisible(r);g.isEquip=n}g.imgCountBG.setVisible(!1);5==f&&g.lableStatic.setString(TextTable.t_Cuty_week_Match_exchange_5);
g.rewardInfo=c;g.itemId=m.itemId;this.listRewardHolder[f]=g;this.listRewardNode[f]=h;this["nodeItem"+f].addChild(h)}d||(a=this.spPanel_1.getContentWidth(),this.nodeItem1.setPositionX(0.3*a),this.nodeItem2.setPositionX(0.7*a));e||(e=cc.Sprite.create(GetLanAssetsPath("kitchen_reward_more.png")),this.nodeItem5.addChild(e));this.updateTimes()};
KitchenGodRewardController.updateTimes=function(){var a=this;this.registerUpdate("refreshData",function(c){c=DataHelper.getSimulatorTs();var d=a.godData.updateTime-c;0>d&&(d=0);86400<d?(a.labelTime.setVisible(!1),a.labelTimeDay.setVisible(!0),d=Math.ceil(d/86400),a.labelTimeDay.setString(d+TextTable.t_time_day)):(a.labelTime.setVisible(!0),a.labelTimeDay.setVisible(!1),d=Utils.formatSecToHHMMSS(d),a.labelTime.setString(d));for(var e in a.listTime){var d=a.listTime[e],f=a.listRewardHolder[e];f.nodeTime.setVisible(!0);
d-=c;86400<d?(f.labelTime.setVisible(!1),f.labelTimeDay.setVisible(!0),d=Math.ceil(d/86400),f.labelTimeDay.setString(d+TextTable.t_time_day)):(f.labelTime.setVisible(!0),f.labelTimeDay.setVisible(!1),d=Utils.formatSecToHHMMSS(d),f.labelTime.setString(d))}},1,!0)};KitchenGodRewardController.updateUI=function(a){a?this.reset():(this.labelStar.setString("x"+this.godData.star),this.labelHoney.setString("x"+this.godData.honey))};KitchenGodRewardController.refreshUI=function(a){a&&this.reset()};
KitchenGodRewardController.onItemClicked=function(a){if(!this.isFlyAct){var c=this,d=a.rewardInfo;if(this.godData.star>=d.needStar&&this.godData.honey>=d.needHoney){var e;if(0<d.needStar&&0<d.needHoney){var f=GameIconHelper.getIconFrameName(a.itemId);e=string.expand(TextTable.t_Cuty_week_Match_exchange_3,{num1:d.needStar});e=string.expand(e,{num2:d.needHoney});e=string.expand(e,{img1:"kitchen_star_jindu.png"});e=string.expand(e,{img2:"kitchen_honey_jindu.png"});e=string.expand(e,{imgReward:f})}else 0<
d.needStar?(f=GameIconHelper.getIconFrameName(a.itemId),e=string.expand(TextTable.t_Cuty_week_Match_exchange_2,{num1:d.needStar}),e=string.expand(e,{img1:"kitchen_star_jindu.png"}),e=string.expand(e,{imgReward:f})):0<d.needHoney&&(f=GameIconHelper.getIconFrameName(a.itemId),e=string.expand(TextTable.t_Cuty_week_Match_exchange_2,{num1:d.needHoney}),e=string.expand(e,{img1:"kitchen_honey_jindu.png"}),e=string.expand(e,{imgReward:f}));KitchenGodQueryDialogController.show({text:e,listener:function(e){e&&
HttpHelper.sendGetKitchenGodReward(c,d.id,function(e,f){0==e?(GetRewardDialogController.show({rewards:f.rewards,tip:TextTable.t_Tip_Exchange_Code3}),c.godData.star-=d.needStar,c.godData.honey-=d.needHoney,a.isEquip?c.reset():notification.postEvent("event.ui.update"),c.isFlyAct=!1):TipDialogController.showTip(ErrMsg(e))})}})}else e=string.expand(TextTable.t_Cuty_week_Match_exchange_4,{img1:"kitchen_star_jindu.png"}),e=string.expand(e,{img2:"kitchen_honey_jindu.png"}),KitchenGodQueryDialogController.show({text:e,
confirmDlg:!0})}};KitchenGodRewardController.onTouch=function(a,c,d){if("moved"!=a){for(var e in this.listRewardHolder){var f=this.listRewardHolder[e],g=f,f=f.spPao.convertToNodeSpace(ccp(c,d)),f=0>f.x||160<f.x||0>f.y||160<f.y;if("began"==a&&!f&&g.isEquip){this.showItemTip(e,g.itemId,g);return}if("ended"==a&&!f){this.showItemTip(null);this.onItemClicked(g);return}}this.showItemTip(null)}};
KitchenGodRewardController.showItemTip=function(a,c,d){a?(a=this["nodeItem"+a],d=a.getPosition(),a=a.getParent().convertToWorldSpace(d),KitchenGodRewardItemTipController.show({itemId:c,pos:a})):KitchenGodRewardItemTipController.hide()};KitchenGodRewardController.onButtonHelp=function(){KitchenGodHelpController.show({type:"reward"})};KitchenGodRewardController.onButtonBack=function(){this.back()};KitchenGodRewardController.back=function(){audio.playSound(GameMusicType.kPopupClose);EffectHelper.dialogLeftHide(this)};KitchenGodGameUIController=createController("KitchenGodGameUIController");KitchenGodGameUIController.onViewCreate=function(){return loadccb(GetAssetsPath("KitchenGodGameUI.ccbi"),this)};KitchenGodGameUIController.onViewOpen=function(){this.registerEvent("event.ui.update");this.registerEvent("event.ui.showUsePropMask");this.registerEvent("event.ui.hideUsePropMask");this.reset();audio.playSound(GameMusicType.kButtonClick)};KitchenGodGameUIController.onViewEnter=function(){this.updateUI()};
KitchenGodGameUIController.onViewClose=function(){this.effectLayer.dispose()};KitchenGodGameUIController.onEvents=function(a,c){"event.ui.update"==a?this.updateUI():"event.ui.showUsePropMask"==a?this.showUsePropMask():"event.ui.hideUsePropMask"==a&&this.hideUsePropMask()};
KitchenGodGameUIController.reset=function(){if(null!=this.param){this.tileLogic=GameWorldController.curTileLogic;var a=this.param.level;this.score=0;this.game_meta=LevelMapManager.getInstance().getMeta(a);this.effectLayer=CocosNode.create();this.layer.addChild(this.effectLayer.refObject);GameWorldController.setEffectLayer(this.effectLayer);this.setMoveCount(this.tileLogic.theCurMoves,!1);this.setRound(this.tileLogic.curRound);this.updateMoveStars();for(a=1;4>=a;a++)this.viewBuff.addSpriteFrameName("kitchen_buff_icon_"+
a+".png",0.1);this.spBuffUi.setVisible(!1);this.viewBuff.reset();this.viewBuff.setSpeedFactor(10);this.viewBuff.setVisible(!1);this.labelBuffAdd.setVisible(!1);this.labelStars.setString("0");this.labelHoney.setString("0")}};KitchenGodGameUIController.updateUI=function(){};KitchenGodGameUIController.showUsePropMask=function(){this.layer.runAction(CETreeTintTo.create(0.2,80,80,80))};KitchenGodGameUIController.hideUsePropMask=function(){this.layer.runAction(CETreeTintTo.create(0.2,255,255,255))};
KitchenGodGameUIController.getStepUiPos=function(){var a=this.labelStep.boundingBoxInWorld();return ccp(a.x+a.width/2,a.y+a.height/2)};KitchenGodGameUIController.getBuffUiPos=function(){var a=this.viewBuff.boundingBoxInWorld();return ccp(a.x+a.width/2,a.y+a.height/2)};KitchenGodGameUIController.getTargetUiPos=function(){var a=this.spBuff.boundingBoxInWorld();return ccp(a.x,a.y)};KitchenGodGameUIController.getMoveCount=function(){return tonumber(this.labelStep.getString())};
KitchenGodGameUIController.setMoveCount=function(a,c,d){d?this.playAddFiveAction(a):this.labelStep.setString(tostring(a));5>a&&0!=a&&!c?GameWorldPropController.playAddFiveAction(!0):GameWorldPropController.playAddFiveAction(!1);this.updateMoveStars();KitchenGodGameTargetController.updateMoveStars()};
KitchenGodGameUIController.updateMoveStars=function(){if(this.tileLogic.isNewRound&&12==this.tileLogic.roundMove)this.barProg.runAction(cc.ProgressTo.create(0.5,100)),this.tileLogic.isNewRound=!1;else{this.barProg.setPercentage(100*this.tileLogic.roundMove/12);var a=this.barProg.getContentWidth(),c=this.barProg.getPositionX()-0.5*a;this.spriteBubble.setPositionX(c+this.tileLogic.roundMove/12*a)}this.tileLogic.isBearOrder?this.barStarNode2.setVisible(0<this.tileLogic.roundMove):(a=Math.ceil(this.tileLogic.roundMove/
4),this.labelStarNum.setString("x"+a))};KitchenGodGameUIController.setRound=function(a){this.labelRound.setString(tostring(a)+"/9");this.tileLogic.isBearOrder?(this.barStarNode1.setVisible(!1),this.barStarNode2.setVisible(!0)):(this.barStarNode1.setVisible(!0),this.barStarNode2.setVisible(!1));this.updateBuff()};
KitchenGodGameUIController.updateBuff=function(a){this.labelBuffAdd.setVisible(1==this.tileLogic.bearBuff);if(null!=a)this.labelBuffAdd.setVisible(!0),this.labelBuffAdd.setString("x"+tostring(a));else if(0<this.tileLogic.bearBuff){this.viewBuff.setVisible(!0);this.viewBuff.setResultIdx(this.tileLogic.bearBuff||4);this.viewBuff.start();var c=this;this.performDelay(function(){c.viewBuff.stop();1==c.tileLogic.bearBuff&&c.labelBuffAdd.setString("x"+tostring(this.tileLogic.bearBuffAdd));c.lableBuffTips.setString(TextTable["t_Cuty_week_Match_buff_"+
c.tileLogic.bearBuff]);c.lableBuffTips.setVisible(!1)},0.01);this.spBuffUi.stopAllActions();this.spBuffUi.setVisible(!0);notification.postEvent("event.ui.startKitchenGodBuff")}else this.viewBuff.isVisible()&&(this.spBuffUi.setVisible(!1),this.viewBuff.setVisible(!1),this.labelBuffAdd.setVisible(!1),this.lableBuffTips.setVisible(!1))};
KitchenGodGameUIController.onButtonBuffTips=function(){this.lableBuffTips.setPositionY(50);var a=[];a.push(cc.show());a.push(cc.fadeIn(0));a.push(cc.jumpBy(0.5,ccp(0,50),60,1));a.push(cc.delayTime(0.3));a.push(cc.fadeOut(0.2));this.lableBuffTips.stopAllActions();this.lableBuffTips.runAction(cc.sequence(a))};KitchenGodGameUIController.updateStars=function(){this.labelStars.setString(this.tileLogic.kichenGodStar);this.labelHoney.setString(this.tileLogic.kichenGodHoney)};
KitchenGodGameUIController.getTargetUiPos=function(a){a=1==a?this.iconStar.boundingBoxInWorld():this.iconHoney.boundingBoxInWorld();return ccp(a.x+a.width/2,a.y+a.height/2)};KitchenGodGameUIController.addNodeToEffectLayer=function(a){this.effectLayer.refObject.addChild(a)};KitchenGodGameUIController.onButtonBack=function(){audio.playSound(GameMusicType.kButtonClick);this.back()};
KitchenGodGameUIController.spriteTargetBgShake=function(a){var c=[];c.push(cc.delayTime(a));c.push(cc.rotateBy(0.1,-15));c.push(cc.rotateTo(0.2,0));a=cc.sequence(c);this.spriteTargetBg.runAction(a)};
KitchenGodGameUIController.playAddFiveAction=function(a){var c=cc.Sprite.createWithSpriteFrameName("mu_prop_11001.png");this.layer.addChild(c);var d=this;EffectHelper.flyAndScalAnim2(c,GameWorldPropController.iconProp5,this.labelStep,function(){d.performForLoop(1,5,function(c){d.labelStep.setString(a-5+c);d.labelStep.runAction(cc.sequence(cc.scaleTo(0.06,1.5),cc.scaleTo(0.08,1)))},0.3)})};KitchenGodGameUIController.playFinishTarget=function(a){};KitchenGodGameUIController.back=function(){GamePauseDialogController.show({levelId:this.param.level})};KitchenGodGameTargetController=createController("KitchenGodGameTargetController");npcStageOrder=2;waitingPosX=1.1*display.width;waitingPosY=-50;waitingScale=0.95;KitchenGodGameTargetController.onViewCreate=function(){return loadccb(GetAssetsPath("KitchenGodGameTarget.ccbi"),this)};KitchenGodGameTargetController.onViewOpen=function(){this.layer.setZOrder(-9);this.registerEvent("event.ui.showUsePropMask");this.registerEvent("event.ui.hideUsePropMask");this.reset()};
KitchenGodGameTargetController.onEvents=function(a,c){"event.ui.showUsePropMask"==a?this.showUsePropMask():"event.ui.hideUsePropMask"==a&&this.hideUsePropMask()};
KitchenGodGameTargetController.reset=function(){this.tileLogic=GameWorldController.curTileLogic;this.resetData();for(var a=this.tileLogic.theOrderLimit,c=1;c<=a;c++)this.npcEnterStage(c,c);a=UserManager.getMainPetId();this.skelPet.reloadWithCache(GetAssetsPath("anim"+a+".json"));this.skelPet.setAnimation(0,"stand",!0);PetHelper.setPetEquipByPetID(this.skelPet,a)};
KitchenGodGameTargetController.resetData=function(){this.targets=[];this.nodeNpcWatingHolder=[];this.nodeNpcCookingHolder=[];this.nodeNpcStarHolder=[];this.lastNpcExitStageTimeList=[0,0,0];this.initData();this.initTargetTip()};KitchenGodGameTargetController.getOneFrame=function(a,c){return c&&0<c?"target_order_condiment_"+a+".png":"target_order_"+a+".png"};
KitchenGodGameTargetController.initData=function(){for(var a in this.tileLogic.theOrderList){var c=this.tileLogic.theOrderList[a];this.addTargetData(c.key1,c.key2,c.v1,this.getOneFrame(c.key1+"_"+c.key2,c.key3),c.active,c.data,c.key3)}};
KitchenGodGameTargetController.initTargetTip=function(){if(!(0>=this.targets.length))for(var a=null,c=1;c<=this.targets.length;c++){var d=this.targets[c-1],e={},f=loadccb(GetAssetsPath("GameNpcItem.ccbi"),e,this);f.setZOrder(-1);var g={},h=loadccb(GetAssetsPath("KitchenGodGameTargetStar.ccbi"),g,this),m=d.id;e.targetId=m;this.tileLogic.isBearOrder?(e.moveType="godBear",e.hidePlate=!0):1==d.type?e.moveType="rabbit":4==d.type?6==m&&(e.moveType="box",f.setZOrder(npcStageOrder)):e.moveType="rabbit";"box"==
e.moveType?(e.skelNpc.reloadWithCache(GetAssetsPath("customer_11.json")),table.insert(this.nodeNpcStarHolder,g)):"godBear"==e.moveType?(e.targetId=9,a?e.skelNpc=a:(e.skelNpc.reloadWithCache(GetAssetsPath("customer_9.json")),a=e.skelNpc,table.insert(this.nodeNpcStarHolder,g))):(e.skelNpc.reloadWithCache(GetAssetsPath("customer_"+m+".json")),e.skelNpc.setMix("stand","eat",0.3),e.skelNpc.setMix("eat","stand",0.3),e.skelNpc.setMix("stand","happy",0.3),e.skelNpc.setMix("happy","stand",0.3),e.skelNpc.setMix("eat",
"jump",0.3),e.skelNpc.setMix("jump","move",0.3),e.skelNpc.setMix("move","stand",0.3),e.skelNpc.setMix("eat","takeoff",0.3),table.insert(this.nodeNpcStarHolder,g));f.setVisible(!1);h.setVisible(!1);this.nodeNpcs.addChild(f);this.nodeNpcs.addChild(h);e.layer=f;g.layer=h;table.insert(this.nodeNpcWatingHolder,e)}};KitchenGodGameTargetController.getCurrentUseStageCount=function(){for(var a=0,c=this.tileLogic.theOrderLimit,d=0;d<c;d++){var e=this.targets[d];e&&"exit"!=e.status&&(a+=1)}return a};
KitchenGodGameTargetController.getNpcPosByStageIdx=function(a){a=a||1;var c=this.tileLogic.theOrderLimit;return 1==c?360:2==c?335+150*(a-1):310+150*(a-1)};
KitchenGodGameTargetController.playBearExitEffect=function(a){var c=this.nodeNpcCookingHolder[0],d=this.targets[0],e=this,f=function(){for(var a=1;a<=e.nodeNpcCookingHolder.length;a++)e.nodeNpcCookingHolder[a-1].spriteTip.setVisible(!1);e.calculateStarOrHoney(1);c.layer.setZOrder(-1);c.layer.runAction(cc.sequence(cc.delayTime(0.5),cc.moveBy(0.4,ccp(0,-200)),cc.hide()));e.performDelay(function(){d.status="exit_over"},0.9)};a?f():this.performDelay(f,2.5)};
KitchenGodGameTargetController.playNpcExitEffect=function(a,c,d,e){var f=this,g=function(){"godBear"==c.moveType?1<f.getCurrentUseStageCount()?c.spriteTip.setVisible(!1):f.playBearExitEffect(e):(c.spriteTip.setVisible(!1),f.calculateStarOrHoney(d),a.type==TileItemOrderType.kFruit&&6==a.id?c.skelNpc.setAnimation(0,"takeoff",!1):c.skelNpc.setAnimation(0,"jump",!1),f.performDelay(function(){"box"==c.moveType?(c.layer.stopAllActions(),c.skelNpc.runAction(cc.sequence(cc.scaleTo(0.2,0).easing(cc.easeBackIn()),
cc.hide()))):("penguin"!=c.moveType&&"monkey"!=c.moveType&&6!=c.targetId&&(c.layer.stopAllActions(),c.layer.runAction(cc.moveBy(0.2,ccp(0,waitingPosY))),c.layer.setZOrder(-2),c.layer.runAction(cc.scaleTo(0.2,waitingScale))),f.performDelay(function(){a.status="exit_over";c.spriteTip.setVisible(!1);c.skelNpc.setAnimation(0,"move",!0);c.skelNpc.setScaleX(-c.skelNpc.getScaleX());c.skelNpc.runAction(cc.sequence(cc.moveBy(3,ccp(720,0)),cc.hide()))},0.3))},0.3))};e||this.tileLogic.isBearOrder?g():(c.hidePlate||
c.skelNpc.setAnimation(0,"eat",!1),this.performDelay(g,2.5))};
KitchenGodGameTargetController.playBearEnterEffect=function(a,c,d,e){a.skelNpc.setVisible(!0);a.layer.setZOrder(-1);a.layer.stopAllActions();a.layer.getPosition();a.layer.setPositionX(0.5*this.nodeNpcs.getContentWidth());a.layer.setPositionY(9);a.skelNpc.setAnimation(0,"move",!1);a.skelNpc.addAnimation(0,"stand",!0);var f=this;this.performDelay(function(){a.layer.setZOrder(npcStageOrder);a.spriteTip.setVisible(!0);f.changeNpcHolder(a);var d=f.targets.length;2==d?(a.spriteTip.setPositionX(a.spriteTip.getPositionX()+
190*(0.5-c)),2==c&&(a.spriteTip.setFlipX(!0),a.spriteTip.setPositionY(a.spriteTip.getPositionY()+10))):1==d&&a.spriteTip.setPositionX(a.spriteTip.getPositionX()-70);f.resetNpcStar(a);notification.postEvent("event.ui.startKitchenGodBear");e&&e()},2.7,"bearEnter"+c)};
KitchenGodGameTargetController.playNpcEnterEffect=function(a,c,d,e){var f=this;a.layer.runAction(cc.sequence(cc.delayTime(0),cc.callFunc(function(){if("godBear"==a.moveType)f.playBearEnterEffect(a,c,d,e);else{a.skelNpc.setAnimation(0,"move",!0);var g=a.layer.getPosition(),h=g.x,g=g.y;a.layer.stopAllActions();"godBear"==a.moveType?g-=50:6==a.targetId&&d.type==TileItemOrderType.kFruit&&(g+=40);var m=f.getNpcPosByStageIdx(c);"godBear"==a.moveType&&(m=0.5*f.nodeNpcs.getContentWidth());Math.abs(h-m);a.layer.runAction(cc.sequence(cc.moveTo(1,
ccp(m,g)),cc.callFunc(function(){"godBear"==a.moveType?(a.skelNpc.setAnimation(0,"move",!1),a.layer.runAction(cc.scaleTo(0.4,1))):(a.skelNpc.setAnimation(0,"jump",!1),6==d.id?a.layer.runAction(cc.sequence(cc.scaleTo(0.4,1),cc.reZorder(npcStageOrder))):a.layer.runAction(cc.scaleTo(0.4,1)));moveBy=6!=a.targetId?cc.moveBy(0.4,ccp(0,50)):cc.moveBy(0.4,ccp(0,0));a.layer.runAction(cc.sequence(moveBy,cc.callFunc(function(){if("godBear"==a.moveType){var d=f.targets.length;2==d?(a.spriteTip.setPositionX(a.spriteTip.getPositionX()+
190*(1.5-c)),2==c&&a.spriteTip.setFlipX(!0)):1==d&&a.spriteTip.setPositionX(a.spriteTip.getPositionX()-70);notification.postEvent("event.ui.startKitchenGodBear")}f.changeNpcHolder(a);a.spriteGoal.setScale(0.8);a.spriteTip.setVisible(!0);EffectHelper.jellyMoveSlow(a.spriteTip,ccp(0,1.5),2,0);d=a.spriteTip.getScale();a.spriteTip.setScale(0);a.spriteTip.runAction(cc.scaleTo(0.2,d).easing(cc.easeBackOut()));a.skelNpc.addAnimation(0,"stand",!0);f.resetNpcStar(a);e&&e()})))})))}})))};
KitchenGodGameTargetController.npcExitStage=function(a,c){var d=this.targets[a-1];this.playNpcExitEffect(d,this.nodeNpcCookingHolder[a-1],a,c);d.status="exit"};
KitchenGodGameTargetController.npcEnterStage=function(a,c,d,e){var f=this.targets.length,g=this.targets[a-1];g.status="cooking";var h=table.remove(this.nodeNpcWatingHolder,0);h&&(this.nodeNpcCookingHolder[c-1]=h,h.targetIdx=a,h.layer.stopAllActions(),h.layer.setVisible(!0),h.spriteGoal.setDisplayFrameName(g.frame),h.labelCount.setString(tostring(g.amount)),d?this.playNpcEnterEffect(h,c,g,e):(h.layer.setScale(1),KitchenGodGameTargetController.changeNpcHolder(h),h.spriteTip.setVisible(!0),h.skelNpc.setAnimation(0,
"stand",!0),"godBear"==h.moveType?(h.layer.setPosition(0.5*this.nodeNpcs.getContentWidth(),9),h.skelNpc.setPositionX(h.skelNpc.getPositionX()),2==f?(h.spriteTip.setPositionX(h.spriteTip.getPositionX()+190*(0.5-c)),2==c&&h.spriteTip.setFlipX(!0)):1==f&&h.spriteTip.setPositionX(h.spriteTip.getPositionX()-70)):(h.spriteGoal.setScale(0.8),h.layer.setPosition(this.getNpcPosByStageIdx(c),0)),6==h.targetId&&h.layer.setZOrder(npcStageOrder),this.resetNpcStar(h)));var m=this.nodeNpcWatingHolder[0];m&&(m.layer.setVisible(!0),
m.layer.setPosition(850,-50),m.layer.setScale(0.95),m.spriteTip.setVisible(!1),m.layer.runAction(cc.sequence(cc.moveTo(0,ccp(650,-50)),cc.callFunc(function(){m.skelNpc.setAnimation(0,"stand",!0)}))))};
KitchenGodGameTargetController.resetNpcStar=function(a){if(this.tileLogic.isBearOrder){var c=this.nodeNpcStarHolder[0];c.layer.setVisible(!0);c.layer.setPosition(0.5*this.nodeNpcs.getContentWidth(),-12);a=this.tileLogic.addBearHoney;5==a&&c.spBg.setContentWidth(230);var d=c.spBg.getContentWidth();c.spBg.getContentHeight();for(var e=1;5>=e;e++){var f=c["icon"+e],g=c["icoStar"+e];f.setDisplayFrameName("kitchen_honey.png");g.setDisplayFrameName("kitchen_honey.png");g.setVisible(!1);f.setVisible(e<=a);
5==a?(c.layer.setPosition(0.5*this.nodeNpcs.getContentWidth(),-12),f.setPositionX(1.1*d*(1/(a+1)*e-0.5))):3==a?f.setPositionX(1.4*d*(0.25*e-0.5)):1==a&&f.setPositionX(0)}}else for(c=this.nodeNpcStarHolder[a.targetIdx-1],c.layer.setVisible(!0),c.layer.setPosition(a.layer.getPositionX(),-12),d=c.spBg.getContentWidth(),c.spBg.getContentHeight(),e=1;5>=e;e++)f=c["icon"+e],f.setVisible(3>=e),f.setPositionX(1.2*d*(0.25*e-0.5));CCNodeUtils.changeParent(c.layer,this.nodeNpcsFg,0,0)};
KitchenGodGameTargetController.updateMoveStars=function(){for(var a in this.nodeNpcStarHolder){var c=this.nodeNpcStarHolder[a];if(!c.isOver&&!this.tileLogic.isBearOrder)for(a=1;3>=a;a++)c["icoStar"+a].setVisible(this.tileLogic.roundMove>4*(a-1))}};KitchenGodGameTargetController.calculateStarOrHoney=function(a){this.tileLogic.gameMode.getStarOrHoney(a);this.playFinishTarget(a)};
KitchenGodGameTargetController.playFinishTarget=function(a){this.tileLogic.isBearOrder&&(a=1);var c=this.nodeNpcStarHolder[a-1];c.isOver=!0;var d=KitchenGodGameUIController.effectLayer,e;e=this.tileLogic.isBearOrder?KitchenGodGameUIController.getTargetUiPos(2):KitchenGodGameUIController.getTargetUiPos(1);e=d.convertToNodeSpace(e);var f=Math.ceil(this.tileLogic.roundMove/4);this.tileLogic.isBearOrder&&(f=this.tileLogic.addBearHoney);for(var g=1;g<=f;g++){var h=c["icoStar"+g],m=h.getPosition(),m=h.getParent().convertToWorldSpace(m),
n;n=this.tileLogic.isBearOrder?cc.Sprite.createWithSpriteFrameName("kitchen_honey.png"):cc.Sprite.createWithSpriteFrameName("kitchen_star.png");m=d.convertToNodeSpace(m);n.setPosition(m.x,m.y);d.refObject.addChild(n);var m=[],r=[],s=Math.abs(e.x-n.getPositionX())/2+Math.min(e.x,n.getPositionX());r[0]=ccp(n.getPosition());r[1]=ccp(s,e.y+50);r[2]=e;m.push(cc.spawn(cc.bezierTo(0.6,r),cc.sequence(cc.scaleBy(0.2,1.2),cc.scaleBy(0.4,1/1.5*0.8))));m.push(cc.hide(!0));m.push(cc.callFunc(function(){n.removeFromParentAndCleanup(!0);
KitchenGodGameUIController.updateStars()}));n.runAction(cc.sequence(m));h.setVisible(!1)}c.layer.removeFromParentAndCleanup(!0);KitchenGodGameUIController.playFinishTarget(a)};
KitchenGodGameTargetController.changeNpcHolder=function(a){var c={1:function(a){a.spriteTip.setPositionX(a.spriteTip.getPositionX()-5);a.spriteTip.setPositionY(a.spriteTip.getPositionY()-5)},2:function(a){a.spriteTip.setPositionX(a.spriteTip.getPositionX()-5);a.spriteTip.setPositionY(a.spriteTip.getPositionY()-10)},3:function(a){a.spriteTip.setPositionY(a.spriteTip.getPositionY()-30);a.spriteTip.setPositionX(a.spriteTip.getPositionX()-5)},4:function(a){a.spriteTip.setPositionX(a.spriteTip.getPositionX())},
5:function(a){a.spriteTip.setPositionX(a.spriteTip.getPositionX()-5)},6:function(a){a.spriteTip.setPositionX(a.spriteTip.getPositionX()-10);a.spriteTip.setPositionY(a.spriteTip.getPositionY()-20)},7:function(a){a.spriteTip.setPositionX(a.spriteTip.getPositionX()-50);a.spriteTip.setPositionY(a.spriteTip.getPositionY())},8:function(a){a.spriteTip.setPositionY(a.spriteTip.getPositionY()+15)},9:function(a){a.spriteTip.setPositionX(a.spriteTip.getPositionX()+30);a.spriteTip.setPositionY(a.spriteTip.getPositionY()+
5)}}[a.targetId];c&&c(a)};KitchenGodGameTargetController.addTargetData=function(a,c,d,e,f,g,h){g={};g.id=c;g.type=a;g.amount=d;g.frame=e;g.isOk=f;g.fruitCondiment=h||0;g.status="waiting";table.insert(this.targets,g)};KitchenGodGameTargetController.getTargetFrame=function(a,c,d){a={};for(var e in c)table.insert(a,"target_order_"+c[e].k+".png");return a};
KitchenGodGameTargetController.getTargetWorldPosition=function(a){return(a=this.nodeNpcCookingHolder[(a||1)-1])?(a=a.spriteGoal.boundingBoxInWorld(),ccp(a.x+0.5*a.width,a.y+0.5*a.height)):ccp(0,0)};KitchenGodGameTargetController.getNpcBoundsByStageIdx=function(a){a=this.getNpcPosByStageIdx(a);a=this.nodeNpcs.convertToWorldSpace(ccp(a,0));return[a.x-100,a.y,200,250]};
KitchenGodGameTargetController.getTargetTipBoundsByStageIdx=function(a){return(a=this.nodeNpcCookingHolder[(a||1)-1])?(a=a.spriteTip.boundingBoxInWorld(),[a.x,a.y,a.width,a.height]):[0,0,0,0]};KitchenGodGameTargetController.getTargetStarBoundsByStageIdx=function(a){a=this.getNpcPosByStageIdx(a);a=this.nodeNpcs.convertToWorldSpace(ccp(a,-30));return[a.x-70,a.y,140,40]};
KitchenGodGameTargetController.getTargetTipBoundsByStageIdx2=function(a){a=this.getNpcPosByStageIdx(a);a=this.nodeNpcs.convertToWorldSpace(ccp(a,-30));return[a.x,a.y+150,100,120]};
KitchenGodGameTargetController.playFruitDestroyEffect=function(a,c,d,e){var f=this.nodeNpcCookingHolder[c-1],g=this.getTargetWorldPosition(c),h=cc.Sprite.createWithSpriteFrameName("#"+a.frame);KitchenGodGameUIController.addNodeToEffectLayer(h);h.setPosition(d.x,d.y);var m=this,n=d.x>g.x&&200||-200;c=[];c[0]=ccp(d.x,d.y);c[1]=ccp(g.x+n,g.y+300);c[2]=g;d=0.7+0.2*Math.random();c=cc.bezierTo(d,c);d=cc.spawn(c,cc.scaleTo(d,0.5));h.runAction(cc.sequence(d.easing(cc.easeSineIn()),cc.callFunc(function(){h.removeFromParentAndCleanup(!0);
f.nodeGoal.setScale(1);f.nodeGoal.runAction(cc.sequence(cc.scaleTo(0.05,1.2),cc.scaleTo(0.1,1)));"godBear"==f.moveType?"stand"==f.skelNpc.getCurAnimName()&&(1==a.type?f.skelNpc.setAnimation(0,"elements",!1):1==a.id?f.skelNpc.setAnimation(0,"strawberry",!1):2==a.id?f.skelNpc.setAnimation(0,"tin",!1):5==a.id&&f.skelNpc.setAnimation(0,"ice",!1),f.skelNpc.addAnimation(0,"stand",!0)):"stand"==f.skelNpc.getCurAnimName()&&(f.skelNpc.setAnimation(0,"happy",!1),f.skelNpc.addAnimation(0,"stand",!0),1==a.type&&
GameMusicManager.playEffect(GameMusicType.kShakePlate));if("stand"==m.skelPet.getCurAnimName()){var c=Math.random();0.25>c?m.skelPet.setAnimation(0,"happy1",!1):0.7>c&&m.skelPet.setAnimation(0,"caress",!1);m.skelPet.addAnimation(0,"stand",!0)}e&&e()})))};
KitchenGodGameTargetController.setNumber=function(a,c,d){a=tonumber(a)+1;var e=this.targets[a-1];if(e&&0<=c&&"cooking"==e.status){var f=this.nodeNpcCookingHolder[a-1];f&&(f.targetAmount=c,this.playFruitDestroyEffect(e,a,d,function(){c<=f.targetAmount&&f.labelCount.setString(tostring(c))}));0==c&&(e.status="finish",this.npcExitStage(a),this.lastNpcExitStageTimeList[a-1]=TimeUtils.time())}};KitchenGodGameTargetController.resetOrderList=function(a){a()};
KitchenGodGameTargetController.kitchenGodNextRound=function(a){for(var c=this,d=0,e=function(){d-=1;0==d&&a(2)},f=function(){c.resetData();for(var a=c.tileLogic.theOrderLimit,f=1;f<=a;f++){d+=1;var g=c.nodeNpcWatingHolder[f-1];g&&("godBear"==g.moveType?(g.layer.setVisible(!0),g.skelNpc.setVisible(!1),g.layer.setPosition(0.5*c.nodeNpcs.getContentWidth(),9),g.layer.setScale(1),g.layer.setZOrder(-2),g.spriteTip.setVisible(!1)):(g.layer.setVisible(!0),g.layer.setPosition(650,-50),g.layer.setScale(0.95),
g.layer.setZOrder(-2),g.spriteTip.setVisible(!1),g.skelNpc.setAnimation(0,"stand",!0)));c.npcEnterStage(f,f,!0,e)}},g=!1,h=this.tileLogic.theOrderLimit,m=1;m<=h;m++){var n=this.targets[m-1];n&&"cooking"==n.status&&this.npcExitStage(m,!0);"exit_over"!=n.status&&(g=!0)}g?this.performDelay(function(){a(1,f)},3):a(1,f)};KitchenGodGameTargetController.showUsePropMask=function(){this.layer.runAction(CETreeTintTo.create(0.2,80,80,80))};
KitchenGodGameTargetController.hideUsePropMask=function(){this.layer.runAction(CETreeTintTo.create(0.2,255,255,255))};KitchenGodGameTargetController.playPassLevelEffect=function(){this.skelPet.setAnimation(0,"happy2",!0)};KitchenGodHelpController=createController("KitchenGodHelpController");KitchenGodHelpController.onViewCreate=function(){return loadccb(GetAssetsPath("KitchenGodHelpLayer.ccbi"),this)};KitchenGodHelpController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.reset();EffectHelper.dialogLeftShow(this)};KitchenGodHelpController.onEvents=function(a,c){};
KitchenGodHelpController.reset=function(){this.holderPages=[];this.nodePages=[];var a=this;this.pageView.setPageSize(4);this.pageView.registerScriptListener(function(c,d){if("page"==c)a.pageView.setPageView(a.buildPage(d),d);else if("select"==c){a.labelPageNum.setString(d+"/4");var e="kitchen_help_title.png";if(2==d)e="kitchen_help_title_reward.png";else if(3==d||4==d)e="kitchen_help_title_rank.png";e=GetLanAssetsPath(e);a.spTitle.setDisplayFrameFile(e)}});this.pageView.moveToPage(1)};
KitchenGodHelpController.buildPage=function(a){var c={},d=loadccb(GetAssetsPath("KitchenGodHelp"+a+".ccbi"),c,this);3==a?this.buildPageRankGlobal(c):4==a&&this.buildPageRankFriend(c);this.holderPages[a]=c;return this.nodePages[a]=d};KitchenGodHelpController.sortRewardMeta=function(a){if(!a||2>a.length)return a;table.sort(a,function(a,d){return a.level<d.level});return a};
KitchenGodHelpController.buildPageRankGlobal=function(a){var c=MetaHelper.kitchenGod.rewards,d=[],e;for(e in c){var f=c[e];3==f.type&&table.insert(d,f)}this.sortRewardMeta(d);for(e=f=1;7>=e;e++){c=d[e-1];3<e&&7>e&&(f=string.expand(TextTable.t_Cuty_week_Match_help_3_5,{num:f+1+"-"+c.level}),a["labelRank_"+e].setString(f));for(var f=0,g=1;3>=g;g++){var h=a["icoReward_"+e+"_"+g],m=a["labelReward_"+e+"_"+g],n=c.item[g-1];if(n){var r=GameIconHelper.getIconFrameName(n[0]);h.setDisplayFrameName(r);m.setString("x"+
n[1]);f+=1}else h.setVisible(!1),m.setVisible(!1)}f+=1;3>=e&&(h=a["icoReward_"+e+"_"+f],f=h.getPosition(),g=a["icoHead_"+e],g.setShaderProgramByKey(kCCShaderType_CircleClip),g.setPosition(f));f=c.level}};
KitchenGodHelpController.buildPageRankFriend=function(a){var c=MetaHelper.kitchenGod.rewards,d=[],e;for(e in c){var f=c[e];2==f.type&&table.insert(d,f)}this.sortRewardMeta(d);for(e=1;4>=e;e++)for(c=d[e-1],3>=e&&(f=string.expand(TextTable.t_Cuty_week_Match_help_3_5,{num:c.level}),a["labelRank_"+e].setString(f)),f=1;3>=f;f++){var g=a["icoReward_"+e+"_"+f],h=a["labelReward_"+e+"_"+f],m=c.item[f-1];if(m){var n=GameIconHelper.getIconFrameName(m[0]);g.setDisplayFrameName(n);h.setString("x"+m[1])}else g.setVisible(!1),
h.setVisible(!1)}};KitchenGodHelpController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};KitchenGodHelpController.back=function(){EffectHelper.dialogLeftHide(this)};KitchenGodQueryDialogController=createController("KitchenGodQueryDialogController");KitchenGodQueryDialogController.onViewCreate=function(){return loadccb(GetAssetsPath("KItchenGodQueryDialog.ccbi"),this)};KitchenGodQueryDialogController.onViewOpen=function(){this.layer.setZOrder(LayerZOrderTable.QueryLayer);registerTouchAndKeyProcessor(this,"default",this.back);EffectHelper.dialogPopOut(this);this.reset();audio.playSound(GameMusicType.kPopupOpen)};
KitchenGodQueryDialogController.reset=function(){null!=this.param&&(this.labelTitle.setString(this.param.text),this.param.confirmDlg?(this.btnCancel.setVisible(!1),this.btnOk.setPositionX(this.nodeDialog.getContentSize().width/2)):(null!=this.param.textOk&&this.btnOk.setString(this.param.textOk),null!=this.param.textCancel&&this.btnCancel.setString(this.param.textCancel)))};
KitchenGodQueryDialogController.onButtonOk=function(){audio.playSound(GameMusicType.kButtonClick);var a=this.param.listener,c=this.param.disableAutoHide;null!=a&&a(!0,this.param);!0!=c&&this.hide()};KitchenGodQueryDialogController.onButtonCancel=function(){this.back()};KitchenGodQueryDialogController.back=function(){audio.playSound(GameMusicType.kPopupClose);var a=this.param.listener,c=this.param.disableAutoHide;null!=a&&a(!1,this.param);!0!=c&&this.hide()};KitchenGodLastRewardDialogController=createController("KitchenGodLastRewardDialogController");KitchenGodLastRewardDialogController.onViewCreate=function(){return loadccb(GetAssetsPath("KitchenGodLastRewardDialog.ccbi"),this)};KitchenGodLastRewardDialogController.onViewOpen=function(){this.layer.setZOrder(LayerZOrderTable.QueryLayer);registerTouchAndKeyProcessor(this,"default",this.back);EffectHelper.dialogPopOut(this);this.reset()};
KitchenGodLastRewardDialogController.reset=function(){if(null!=this.param){var a;a=null==this.param.preFriendRank||0>=this.param.preFriendRank?string.expand(TextTable.t_Cuty_week_Match_week_prize_2,{num1:"-"}):string.expand(TextTable.t_Cuty_week_Match_week_prize_2,{num1:this.param.preFriendRank});a=null==this.param.preRank||0>=this.param.preRank?string.expand(a,{num2:"-"}):string.expand(a,{num2:this.param.preRank});this.labelInfo.setString(a)}};
KitchenGodLastRewardDialogController.onButtonOk=function(){audio.playSound(GameMusicType.kButtonClick);this.back()};KitchenGodLastRewardDialogController.back=function(){this.hide()};KitchenGodRewardItemTipController=createController("KitchenGodRewardItemTipController");KitchenGodRewardItemTipController.onViewCreate=function(){return loadccb(GetAssetsPath("KitchenGodRewardItemTip.ccbi"),this)};KitchenGodRewardItemTipController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.registerScriptTouchHandler(function(a,c,d){return this.nodeDialog.containWorldPoint(c,d)?!0:(this.hide(),!1)},!1,0,!0);this.reset()};
KitchenGodRewardItemTipController.reset=function(){if(null!=this.param){var a=this.param.pos;this.nodeDialog.setPosition(a.x,a.y+80);EffectHelper.dialogPopOut(this);var c=MetaHelper.getEquipById(this.param.itemId);dump(c);this.labelTipName.setString(TextTable["t_Petclothes_"+c.id]);this.labelTipDesc.setString(TextTable.t_Petclothes_tips2+TextTable["t_name"+c.own]);for(var a=0,d=1;d<=c.rarity;d++){var e=cc.Sprite.createWithSpriteFrameName("pet_equip_ui_img_12.png");e.setAnchorPoint(ccp(0,0.5));e.setPosition(a,
0);this.nodeStar.addChild(e);a=a+e.getContentSize().width+2}c=this.nodeStar.getPositionX();this.nodeStar.setPositionX(c-a/2)}};KitchenGodRewardItemTipController.onButtonBack=function(){this.back()};KitchenGodRewardItemTipController.back=function(){this.hide()};AskForEnergyController=createController("AskForEnergyController");AskForEnergyController.onViewCreate=function(){return loadccb(GetAssetsPath("AskForEnergy.ccbi"),this)};AskForEnergyController.onViewOpen=function(){this.registerTouch(function(a,c){return!0},0,!0);this.registerEvent("event.ui.update");this.reset();EffectHelper.dialogLeftShow(this)};AskForEnergyController.onViewEnter=function(){this.updateUI()};AskForEnergyController.onEvents=function(a,c){"event.ui.update"==a&&this.updateUI()};
AskForEnergyController.reset=function(){var a=MetaHelper.global;this.listFriendHolder=null;this.listFriend.registerScriptListener(this.onListItemClick,this);this.sendPanel.setVisible(!1);this.noFriend.setVisible(!0);var c=this;CacheHelper.getAndCacheFiendsInfo(this,function(a,e){0==a?(c.friendList=e,c.updateFriendListUI(e)):TipDialogController.showTip(ErrMsg(a))});this.labelMaxTip.setString(string.expand(TextTable.t_energyMaxTip,{num:a.daily_max_receive_gift_count}))};
AskForEnergyController.updateFriendListUI=function(){this.listFriendHolder=[];this.listFriend.removeAllItems();var a=this,c=UserManager.getDailyWantEnergyIds(),d=[],e;for(e in this.friendList){var f=this.friendList[e];table.keyOf(c,f.playerId)||table.insert(d,f)}if(0==d.length)this.sendPanel.setVisible(!1),this.noFriend.setVisible(!0);else{this.noFriend.setVisible(!1);this.sendPanel.setVisible(!0);var a=this,g=0,c=function(c){if(!(g>=d.length)){g++;c=d[g-1];var e={},f=loadccb(GetAssetsPath("AskForEnergyFriendItem.ccbi"),
e,a);e.playerId=c.playerId;e.labelName.setString(c.name);12>=g?e.spriteCheckMark.setVisible(!0):e.spriteCheckMark.setVisible(!1);GameHelper.loadHeadSprite(e.spriteHead,c.headUrl,!0);a.listFriendHolder[g]=e;a.listFriend.addItem(f)}};for(e=1;12>=e;++e)c();this.listFriend.unregisterPreloadListener();12<d.length&&this.listFriend.registerPreloadListener(0.1,0.05,c)}};AskForEnergyController.onListItemClick=function(a){audio.playSound(GameMusicType.kButtonClick);a=this.listFriendHolder[a+1];a.spriteCheckMark.setVisible(!a.spriteCheckMark.isVisible())};
AskForEnergyController.updateUI=function(){};
AskForEnergyController.onButtonSend=function(){audio.playSound(GameMusicType.kButtonClick);var a=[],c=[];if(this.listFriendHolder)for(var d in this.listFriendHolder){var e=this.listFriendHolder[d];e.spriteCheckMark.isVisible()&&(table.insert(a,e.playerId),table.insert(c,parseInt(d)))}var f=this;0<a.length?HttpHelper.sendFreeGift(this,a,!1,function(d){if(0==d){f.unregisterUpdate("update_friends");for(d=c.length-1;0<=d;--d){var e=c[d];f.listFriend.removeItem(e+1,!0);table.remove(f.listFriendHolder,
e)}notification.postEvent("event.ui.update");f.updateFriendListUI();TipDialogController.showTip(TextTable.t_requestSuccess);DcHelper.onEnergySend(a.length)}else TipDialogController.showTip(ErrMsg(d))}):TipDialogController.showTip(TextTable.t_energySelectFriend)};AskForEnergyController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};AskForEnergyController.onButtonAdd=function(){audio.playSound(GameMusicType.kButtonClick);this.hide();FriendAddLayerController.show()};
AskForEnergyController.back=function(){EffectHelper.dialogLeftHide(this)};FriendRequestHelpController=createController("FriendRequestHelpController");FriendRequestHelpController.onViewCreate=function(){return loadccb(GetAssetsPath("FriendRequestHelpLayer.ccbi"),this)};FriendRequestHelpController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.reset();EffectHelper.dialogLeftShow(this)};FriendRequestHelpController.onEvents=function(a,c){};FriendRequestHelpController.reset=function(){};
FriendRequestHelpController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};FriendRequestHelpController.back=function(){EffectHelper.dialogLeftHide(this)};FriendRequestLayerController=createController("FriendRequestLayerController");FriendRequestItemType={FR_Item_None:0,FR_Item_Water:1,FR_Item_Apple:2,FR_Item_Banana:3,FR_Item_Cake_1:4,FR_Item_Cake_2:5,FR_Item_Cake_3:6,FR_Item_Cake_4:7};FriendRequestLayerController.isOpenFunc=function(){return MetaHelper.isFuncUnlock(MenuItemTag.Menu_Tag_FriendRequest)&&this.gameData&&this.isOpen?!0:!1};
FriendRequestLayerController.onInit=function(){notification.registerEvent(this.onPassGame,"event.game.passGame",this);this.rqeFriends=[]};FriendRequestLayerController.onDestroy=function(){this.rqeFriends=null;notification.unregisterEvent(this.onPassGame)};
FriendRequestLayerController.updateDataTime=function(a){this.isOpenFunc()?(a=DataHelper.getSimulatorTs(),a=this.gameData.endTime/1E3-a,0>a&&(scheduler.unscheduleGlobal(this.timeListener),this.reqRequestData(!0),a=0),this.isShowing&&(259200<a?(this.nodeTime.setVisible(!1),scheduler.unscheduleGlobal(this.timeListener)):172800>a&&(this.nodeTime.setVisible(!0),a=Utils.formatSecToHHMMSS(a),this.labelTime.setString(a)))):scheduler.unscheduleGlobal(this.timeListener)};
FriendRequestLayerController.reqRequestData=function(a){if(!this.gameData||a){var c=this;HttpHelper.sendFriendRequestData(null,function(d,e){0==d?(c.isOpen=e.isOpen,c.gameData=e.friendsRequestData,c.resetMeta(),c.gameData&&(c.gameData.collectionList=c.gameData.collectionList?table.listToMap(c.gameData.collectionList,"itemId"):{},c.gameData.defaultCake=table.listToMap(c.gameData.defaultCake,"itemId"),c.gameData.rewardList=c.gameData.rewardList||[]),c.isOpen&&(c.timeListener=scheduler.scheduleGlobal(handler(c,
c.updateDataTime),1)),notification.postEvent("event.ui.friendsRequest")):a&&TipDialogController.showTip(ErrMsg(d))})}};FriendRequestLayerController.dropWater=function(a,c,d){d=0;var e=this.getItemCount(FriendRequestItemType.FR_Item_Water),f=e[0],e=e[1];f<e&&(d=a>=c?2:1);d>e-f&&(d=e-f);return[FriendRequestItemType.FR_Item_Water,d]};
FriendRequestLayerController.dropApple=function(a,c,d){var e=0,f=this.getItemCount(FriendRequestItemType.FR_Item_Apple),g=f[0],f=f[1];g<f&&(12<=d+1?e=f-g:(d=Math.random2(1,100),a>=c?25>=d?e=2:75>=d&&(e=1):66>=d&&(e=1)));e>f-g&&(e=f-g);return[FriendRequestItemType.FR_Item_Apple,e]};
FriendRequestLayerController.dropBanana=function(a,c,d){a=0;d=this.getItemCount(FriendRequestItemType.FR_Item_Banana);c=d[0];d=d[1];c<d&&50>=Math.random2(1,100)&&(a=1);a>d-c&&(a=d-c);return[FriendRequestItemType.FR_Item_Banana,a]};FriendRequestLayerController.dropCake=function(a,c,d){a=0;c=this.getDefaultCake();var e=this.getItemCount(c),f=e[0],e=e[1];f<e&&(12<=d+1?a=e-f:10>=Math.random2(1,100)&&(a=1));return[c,a]};
FriendRequestLayerController.dropItem=function(a){for(var c={1:FriendRequestLayerController.dropWater,2:FriendRequestLayerController.dropApple,3:FriendRequestLayerController.dropBanana,4:FriendRequestLayerController.dropCake},d="FriendRequestPlayCount_"+UserManager.getPlayerId(),d=persist.getInt(d),e=0.8*UserManager.getTopLevel(),f=[],g=1;4>=g;++g){var h=c[g].call(this,a,e,d),m=h[0],h=h[1];0<h&&table.insert(f,{itemId:m,value:h})}return f};
FriendRequestLayerController.onPassGame=function(a,c){if(!this.isOpenFunc())return[];var d=c.level,e=c.lastTopLevel,f=MetaHelper.getFuncUnlockLevel(MenuItemTag.Menu_Tag_FriendRequest);if(e!=d||e!=f-1){var g=this.dropItem(d);if(0!=g.length){var h=this;HttpHelper.sendFriendRequestDropItem(null,g,function(a){if(0==a){for(var c in g){a=g[c];var d=h.gameData.collectionList[a.itemId];d?d.value+=a.value:h.gameData.collectionList[a.itemId]={itemId:a.itemId,value:a.value}}h.playDropItem(g)}})}}};
FriendRequestLayerController.playDropItem=function(a){var c=GameDirector.getRunningScene(),d=cc.Layer.create();d.setContentSize(cc.size(display.width,display.height));c.addChild(d);var e=0;this.performForLoop(1,a.length,function(c){c=cc.Sprite.createWithSpriteFrameName("request_item_"+a[c-1].itemId+".png");d.addChild(c);c.setPosition(0.5*display.width,0.5*display.height);e+=1;var g=[],h=cc.moveBy(0.8,ccp(0,100)).easing(cc.easeBackOut()),m=cc.delayTime(0.5),n=cc.moveTo(1,ccp(-100,display.height+100)).easing(cc.easeExponentialOut()),
r=cc.fadeOut(0.2),s=cc.callFunc(function(a){a.removeFromParentAndCleanup(!0);e-=1;0==e&&d.removeFromParentAndCleanup(!0);notification.postEvent("event.ui.update")});g.push(h);g.push(m);g.push(n);g.push(r);g.push(s);c.runAction(cc.sequence(g))},0.1,"update_drop_items")};FriendRequestLayerController.getItemCount=function(a){if(!this.isOpenFunc())return[0,0];this.resetMeta();var c=this.collectionTargets[a],d=0;this.gameData.collectionList[a]&&(d=this.gameData.collectionList[a].value);return[d,c]};
FriendRequestLayerController.canGetRewardNum=function(){var a=0;for(taskType=1;3>=taskType;++taskType){var c=this.canTaskReward(taskType),d=c[1];c[0]&&!d&&(a+=1)}return a};
FriendRequestLayerController.canTaskReward=function(a){if(!this.isOpenFunc())return[!1,!1];for(var c in this.gameData.rewardList)if(a==this.gameData.rewardList[c])return[!1,!0];if(1==a){var d=this.getItemCount(FriendRequestItemType.FR_Item_Water);a=d[0];d=d[1];if(a<d)return[!1,!1]}else if(2==a)for(c=FriendRequestItemType.FR_Item_Apple;c<=FriendRequestItemType.FR_Item_Banana;c++){if(d=this.getItemCount(c),a=d[0],d=d[1],a<d)return[!1,!1]}else if(3==a)for(c=FriendRequestItemType.FR_Item_Cake_1;c<=FriendRequestItemType.FR_Item_Cake_4;++c)if(d=
this.getItemCount(c),a=d[0],d=d[1],a<d)return[!1,!1];return[!0,!1]};FriendRequestLayerController.getTaskRewardMeta=function(a){this.resetMeta();for(var c in this.collectionMeta){var d=this.collectionMeta[c];if(d.type==a)return d.rewards[0]}return null};FriendRequestLayerController.getItemTask=function(a){return a==FriendRequestItemType.FR_Item_Water?1:a==FriendRequestItemType.FR_Item_Apple||a==FriendRequestItemType.FR_Item_Banana?2:3};
FriendRequestLayerController.canRequestHelp=function(a){a=this.getItemTask(a);return this.canTaskReward(a)[1]?!1:!0};FriendRequestLayerController.getCakeTypeByPlayerId=function(a){a=tonumber(string.sub(tostring(a),-1));return(a=this.gameData.defaultCake[a])?a.value:-1};FriendRequestLayerController.getDefaultCake=function(){if(!this.isOpenFunc())return-1;var a=tostring(UserManager.getPlayerId());return this.getCakeTypeByPlayerId(a)};
FriendRequestLayerController.onViewCreate=function(){return loadccb(GetAssetsPath("FriendRequestLayer.ccbi"),this)};FriendRequestLayerController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.registerEvent("event.ui.update");this.reset();EffectHelper.dialogLeftShow(this)};FriendRequestLayerController.onEvents=function(a){"event.ui.update"==a&&this.updateUI()};
FriendRequestLayerController.reset=function(){this.nodeTime.setVisible(!1);this.holderList=[];for(var a=1;7>=a;++a){this.getItemTask(a);this.getItemCount(a);var c={},d=loadccb(GetAssetsPath("FriendRequestItem.ccbi"),c,this);c.icoItem.setDisplayFrameName("request_item_"+a+".png");this["nodeItem_"+a].addChild(d);this.holderList[a-1]=c}this.updateUI()};
FriendRequestLayerController.resetMeta=function(){if(!this.collectionMeta){this.collectionMeta=MetaHelper.friendsRequest.collections;this.collectionTargets={};for(var a in this.collectionMeta){var c=this.collectionMeta[a],d;for(d in c.item){var e=c.item[d];this.collectionTargets[e[0]]=e[1]}}}};
FriendRequestLayerController.updateUI=function(){for(var a=1;7>=a;++a){var c=this.getItemTask(a),d=this.getItemCount(a),e=d[0],f=d[1],d=this.canTaskReward(c),g=d[0],d=d[1],g=this.holderList[a-1];g.icoOK.setVisible(e>=f);g.spNumBg.setVisible(e<f);g.lableItemNum.setString(tostring(e)+"/"+tostring(f));3==c?(c=this.getDefaultCake(),this.canRequestHelp(a),g.btnReq.setVisible(c!=a&&e<f&&!d),g.btnCollect.setVisible(c==a&&e<f&&!d),g.btnReq.setTag(a)):(g.btnReq.setVisible(!1),g.btnCollect.setVisible(e<f&&
!d))}for(c=1;3>=c;++c)d=this.canTaskReward(c),g=d[0],d=d[1],a=this.getTaskRewardMeta(c),this["labelRewardNum_"+c].setString("x"+tostring(a[1])),a=GameIconHelper.getIconFrameName(a[0]),this["icoReward_"+c].setDisplayFrameName(a),this["icoReward_"+c].setEnabled(!d),this["btnReward_"+c].setEnabled(g),d&&this["btnRewardLabel_"+c].setString(TextTable.t_FriendsRequest_btn6)};
FriendRequestLayerController.onButtonGetReward=function(a){var c=function(){notification.postEvent("event.ui.update")},d=this.getTaskRewardMeta(a),e=this;HttpHelper.sendFriendRequestGetReward(this,a,function(f){0==f?(table.insert(e.gameData.rewardList,a),EffectHelper.itemFlyToUIAnim(d[0],d[1],e["icoReward_"+a],null,c)):TipDialogController.showTip(ErrMsg(f))});this["btnReward_"+a].setEnabled(!1)};
FriendRequestLayerController.onButtonRequestFriend=function(a){var c=this,d=function(d){0!=d.length&&c.requestHelp(a,d)};CacheHelper.getAndCacheFiendsInfo(this,function(e,f){if(0==e){table.sort(f,function(a,c){return a.star==c.star?a.topLevelId==c.topLevelId?a.playerId<c.playerId:a.topLevelId>c.topLevelId:a.star>c.star});var g=[],h;for(h in f){var m=f[h];c.getCakeTypeByPlayerId(m.playerId)!=a||m.isNpc||table.insert(g,m)}for(h=1;h<=c.rqeFriends.length;++h)for(var m=c.rqeFriends[h-1],n=1;n<=g.length;++n)if(m==
g[n-1].playerId){table.remove(g,n-1);break}SelectFriendListLayerController.show({friendList:g,callback:d})}else TipDialogController.showTip(ErrMsg(e))})};
FriendRequestLayerController.requestHelp=function(a,c){var d=this;HttpHelper.sendFriendRequestInvite(this,a,c,function(e){if(0==e){if(d.rqeFriends=table.union(d.rqeFriends,c),e=function(a){a&&SnsHelper.inviteFriend()},CheckedQueryDialogController.canShow("frq")){var f=string.expand(TextTable.t_FriendsRequest_title2,{name:TextTable["t_FriendsRequest_tittle"+(a+6)]}),g=string.expand(TextTable.t_FriendsRequest_text2,{name:TextTable["t_FriendsRequest_tittle"+(a+6)]});CheckedQueryDialogController.show({text:f+
g,listener:e,key:"frq"})}}else TipDialogController.showTip(ErrMsg(e))})};FriendRequestLayerController.onButtonCollect=function(a){audio.playSound(GameMusicType.kPopupClose);this.back();StartGameController.show({level:UserManager.getTopLevel()})};FriendRequestLayerController.onButtonHelp=function(){FriendRequestHelpController.show()};FriendRequestLayerController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};FriendRequestLayerController.back=function(){EffectHelper.dialogLeftHide(this)};
FriendRequestLayerController.onInit();FriendAddByIDController=createController("FriendAddByIDController");FriendAddByIDController.onViewCreate=function(){return loadccb(GetAssetsPath("FriendAddByID.ccbi"),this)};FriendAddByIDController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.reset();EffectHelper.dialogLeftShow(this)};FriendAddByIDController.onViewEnter=function(){};
FriendAddByIDController.reset=function(){this.updateUI();this.inputID.ignoreWidthLimit=!0;this.inputID.setPlaceHolderColor(cc.color(255,255,255));PetHelper.setPetEquipByPetID(this.skelPet,20002);var a=UserManager.getPlayerId();this.labelId.setString(string.expand(TextTable.t_topAddfriendsMyID_txt,{num:a}))};
FriendAddByIDController.updateUI=function(a){(this.data=a)?(this.nodeFriend.setVisible(!0),this.labelTips.setVisible(!1),this.labelName.setString(tostring(a.name)),this.labelLevel.setString(string.expand(TextTable.t_level_ingame,{num:a.topLevelId})),GameHelper.loadHeadSprite(this.spriteHead,a.headUrl,!0),GameHelper.checkAndSetHeadBoardSprite(a.playerId,this.spriteGoal),2==a.sex&&this.spriteSex.setDisplayFrameName("frd_sex_female.png")):(this.nodeFriend.setVisible(!1),this.labelTips.setVisible(!0))};
FriendAddByIDController.onButtonSearch=function(){audio.playSound(GameMusicType.kButtonClick);this.inputID.detachWithIME();var a=this.inputID.getString();if(0==a.length)TipDialogController.showTip(TextTable.t_inputNumEmpty);else if(a=tonumber(a),isNaN(a))TipDialogController.showTip(TextTable.t_inputNumError),this.inputID.setString("");else{var c=this;WaitingDialogController.show();HttpHelper.getFriendInfo(this,a,function(a,e){WaitingDialogController.hide();0==a?c.updateUI(e.userData):TipDialogController.showTip(ErrMsg(a))})}};
FriendAddByIDController.onButtonSearchAddFriend=function(){audio.playSound(GameMusicType.kButtonClick);this.inputID.detachWithIME();var a=this.data.playerId;if(a==UserManager.getPlayerId())TipDialogController.showTip(ErrMsg(100220));else{var c=this;WaitingDialogController.show();HttpHelper.inviteCodeAddFriend(this,[a],function(a){WaitingDialogController.hide();0==a?(c.inputID.setString(""),c.updateUI(null),TipDialogController.showTip(TextTable.t_addFriendSuccess)):TipDialogController.showTip(ErrMsg(a))})}};
FriendAddByIDController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};FriendAddByIDController.back=function(){EffectHelper.dialogLeftHide(this)};FriendAddByQRController=createController("FriendAddByQRController");FriendAddByQRController.onViewCreate=function(){return loadccb(GetAssetsPath("FriendAddByQR.ccbi"),this)};FriendAddByQRController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.reset();EffectHelper.dialogLeftShow(this)};FriendAddByQRController.onViewEnter=function(){};FriendAddByQRController.reset=function(){this.updateUI()};
FriendAddByQRController.updateUI=function(){this.labelName.setString(UserManager.getNickName());GameHelper.loadHeadSprite(this.spriteHead,UserManager.getHeadUrl(),!0);var a=CCNodeUtils.generatorQRNode(tostring(UserManager.getPlayerId()),this.nodeQR.getContentWidth(),1);this.nodeQR.addChild(a)};FriendAddByQRController.onButtonSearch=function(){audio.playSound(GameMusicType.kButtonClick)};FriendAddByQRController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};
FriendAddByQRController.back=function(){EffectHelper.dialogLeftHide(this)};FriendAddLayerController=createController("FriendAddLayerController");FriendAddLayerController.onViewCreate=function(){return loadccb(GetAssetsPath("FriendAddLayer.ccbi"),this)};FriendAddLayerController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.reset();EffectHelper.dialogLeftShow(this);notification.postEvent("event.ui.openAddFriend")};FriendAddLayerController.onViewEnter=function(){};FriendAddLayerController.reset=function(){this.listRecmdHolder=null;this.refreshRecmdPageIfNotExist()};
FriendAddLayerController.buildRecmdPage=function(){return loadccb(GetAssetsPath("AddFriendByRecmd.ccbi"),this)};FriendAddLayerController.refreshRecmdPageIfNotExist=function(){(null==this.listRecmdHolder||0>=this.listRecmdHolder.length)&&this.refreshRecmdPage()};
FriendAddLayerController.refreshRecmdPage=function(){this.listRecmd.removeAllItems();this.listRecmdHolder=[];this.btnRecmdRefresh.setVisible(!1);this.btnRecmdAddAll.setVisible(!1);var a=UserManager.getFriendIds(),c=this;WaitingDialogController.show();HttpHelper.recommendFriend(this,function(d,e){WaitingDialogController.hide();c.performDelay(function(){c.btnRecmdRefresh.setVisible(!0);c.btnRecmdAddAll.setVisible(!0)},0.8);if(0==d){var f=e.users||[],g=0;c.performForLoop(1,f.length,function(d){if(!(10<=
c.listRecmdHolder.length||(d=f[d-1],table.keyOf(a,d.playerId)||UserManager.friendIdDict[d.playerId]))){var e={},n=loadccb(GetAssetsPath("FriendAddItem.ccbi"),e,c);e.labelName.setString(tostring(d.name));e.labelLevel.setString(string.expand(TextTable.t_level_ingame,{num:d.topLevelId}));GameHelper.loadHeadSprite(e.spriteHead,d.headUrl,!0);GameHelper.checkAndSetHeadBoardSprite(d.playerId,e.spriteGoal);c.listRecmd.addItem(n);e.btnRecmdAdd.setTag(d.playerId);e.data=d;e.spriteSex.setDisplayFrameName(2==
d.sex?"frd_sex_female.png":"frd_sex_male.png");c.listRecmdHolder[g]=e;g+=1;c.btnRecmdAddAll.isTouchEnabled()||(c.btnRecmdAddAll.setEnabled(!0),c.btnRecmdAddAll.setTouchEnabled(!0))}},0.05,"refresh_recmd_page")}else TipDialogController.showTip(ErrMsg(d))})};FriendAddLayerController.onButtonID=function(){audio.playSound(GameMusicType.kButtonClick);FriendAddByIDController.showLoading()};FriendAddLayerController.onButtonQR=function(){audio.playSound(GameMusicType.kButtonClick);FriendAddByQRController.showLoading()};
FriendAddLayerController.onButtonRecmdItemAdd=function(a,c){audio.playSound(GameMusicType.kButtonClick);c.setDisplayFrameName("ico_loading.png");c.setTouchEnabled(!1);c.runAction(cc.repeatForever(cc.rotateBy(5,360)));HttpHelper.inviteCodeAddFriend(this,[a],function(a){c.stopAllActions();c.setRotation(0);0==a?(c.setDisplayFrameName("ico_checkmark.png"),FriendAddLayerController.enableAddAll()):(c.setTouchEnabled(!0),c.setDisplayFrameName("frd_ico_add.png"),TipDialogController.showTip(ErrMsg(a)))})};
FriendAddLayerController.onButtonHead=function(a,c){audio.playSound(GameMusicType.kButtonClick);var d=this.listRecmd.getPositionByNode(c);FriendInfoController.show({data:this.listRecmdHolder[d-1].data,isStranger:!0})};FriendAddLayerController.enableAddAll=function(){for(var a=1;a<=this.listRecmdHolder.length;++a)if(this.listRecmdHolder[a-1].btnRecmdAdd.isTouchEnabled()){this.btnRecmdAddAll.setEnabled(!0);this.btnRecmdAddAll.setTouchEnabled(!0);return}this.btnRecmdAddAll.setEnabled(!1);this.btnRecmdAddAll.setTouchEnabled(!1)};
FriendAddLayerController.onButtonAddAll=function(){audio.playSound(GameMusicType.kButtonClick);for(var a=[],c=1;c<this.listRecmdHolder.length;++c){var d=this.listRecmdHolder[c-1];d.btnRecmdAdd.isTouchEnabled()&&table.insert(a,d.btnRecmdAdd.getTag())}if(!(0>=a.length)){WaitingDialogController.show();var e=this;HttpHelper.inviteCodeAddFriend(this,a,function(a){WaitingDialogController.hide();if(0==a){for(a=1;a<=e.listRecmdHolder.length;++a){var c=e.listRecmdHolder[a-1];c.btnRecmdAdd.isTouchEnabled()&&
(c.btnRecmdAdd.setTouchEnabled(!1),c.btnRecmdAdd.setDisplayFrameName("ico_checkmark.png"))}e.btnRecmdAddAll.setEnabled(!1);e.btnRecmdAddAll.setTouchEnabled(!1)}else TipDialogController.showTip(ErrMsg(a))})}};FriendAddLayerController.onButtonRecmdRefresh=function(){audio.playSound(GameMusicType.kButtonClick);this.refreshRecmdPage()};FriendAddLayerController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};FriendAddLayerController.back=function(){EffectHelper.dialogLeftHide(this)};FriendRuleController=createController("FriendRuleController");FriendRuleController.onViewCreate=function(){return this.param&&this.param.isWorld?loadccb(GetAssetsPath("WorldRankRule.ccbi"),this):loadccb(GetAssetsPath("FriendRule.ccbi"),this)};FriendRuleController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back)};FriendRuleController.onViewOpened=function(a){EffectHelper.dialogLeftShow(this)};FriendRuleController.back=function(){this.onButtonBack()};
FriendRuleController.onButtonBack=function(){this.hide()};RedPackLayerController=createController("RedPackLayerController");worldRankRange=100;RedPackLayerController.onViewCreate=function(){return loadccb(GetAssetsPath("RedPackLayer.ccbi"),this)};RedPackLayerController.onViewOpen=function(){this.reset()};RedPackLayerController.onViewEnter=function(){};RedPackLayerController.reset=function(){console.log("RedPackLayerController.reset");RedPackLayerController.showWelfarePage()};
RedPackLayerController.showWelfarePage=function(){this.labelTip.setString("\u6700\u4f73\u624b\u6c14\u5c1a\u672a\u51fa\u73b0\uff0c\u7a0d\u540e\u63ed\u6653~");this.resultTitle.setString("\u770b\u770b\u5927\u5bb6\u7684\u624b\u6c14");HttpHelper.sendGetRedPacInfo(this,XCXManager.redPacId,function(a,c){if(0==a){var d=c.myCoin;RedPackLayerController.noRedpackTip.setVisible(!1);0==d&&(RedPackLayerController.noRedpackTip.setString("\u54ce\u5440\u5440\uff0c\u7ea2\u5305\u9886\u5149\u5566\uff0c\u4e0b\u6b21\u5feb\u70b9\u54e6~"),
RedPackLayerController.noRedpackTip.setPositionY(RedPackLayerController.noRedpackTip.getPositionY()+10),RedPackLayerController.noRedpackTip.setVisible(!0),RedPackLayerController.congurateLabel.setVisible(!1),RedPackLayerController.coinSpr.setVisible(!1),RedPackLayerController.labelCoinNum.setVisible(!1),RedPackLayerController.labelTip.setVisible(!1));RedPackLayerController.labelCoinNum.setString("x"+d);RedPackLayerController.leftRedpackNum.setString("\u7ea2\u5305\u5269\u4f59\uff1a"+c.rest);RedPackLayerController.refreshFriendPage(c);
console.log("gainredpac");console.log(c)}else console.log("cannotgainredpac"),TipDialogController.showTip(ErrMsg(a));wx.login({success:function(a){a.code?(console.log("code:"+a.code),wxCode=a.code):console.log("\u8f6c\u53d1\u5931\u8d25")}})})};RedPackLayerController.refreshFriendPage=function(a){RedPackLayerController.listWorldHolder=null;RedPackLayerController.updateFriendListUI(a)};
RedPackLayerController.refreshWorldPage=function(){var a=this;this.getWorldRankList(1,function(c,d,e,f){0==c?(0==d?a.labelWNo.setVisible(!0):a.spriteRankStage.setVisible(!0),a.updateWorldListUI(d,e,f)):(a.labelWNo.setVisible(!0),TipDialogController.showTip(ErrMsg(c)))})};RedPackLayerController.getStartRankRange=function(a){var c=worldRankRange;return[Math.floor((a-1)/c)*c+1,c]};RedPackLayerController.isCacheWorldRank=function(a){a=this.getStartRankRange(a)[0];return this.worldRankCache[a]?!0:!1};
RedPackLayerController.getCacheWorldRank=function(a){var c=this.getStartRankRange(a)[0];return this.worldRankCache[c]?[this.worldRankCache[c][a-c],!0]:[]};
RedPackLayerController.getWorldRankList=function(a,c){a=a||1;if(this.isCacheWorldRank(a))c(0,100,0,0);else{var d=this.getStartRankRange(a),e=d[0],d=d[1];if(!this.levelWorldPostMap[e]){this.levelWorldPostMap[e]=!0;var f=this;HttpHelper.sendGetWorldRank(this,e,d,function(a,d){f.levelWorldPostMap[e]=null;if(0==a){var m=d.ranks||[],n=d.maxRank,r=d.rank,s=d.value,t=table.listToMap(d.users,"playerId");f.mergeRankUser(m,t);f.worldRankCache[e]=m;c(0,n,r,s)}else c(a)})}}};
RedPackLayerController.mergeRankUser=function(a,c){for(var d=1;d<=a.length;d++){var e=a[d-1],f=c[e.playerId];f&&(e.name=f.name,e.headUrl=f.headUrl,e.topLevelId=f.topLevelId,e.star=f.star,e.isNpc=!0,e.sex=f.sex)}};
RedPackLayerController.updateRank=function(a,c,d,e){3>=c?(a.labelRank.setVisible(!1),a.spriteRank.setVisible(!0),a.spriteRank.setDisplayFrameName(string.format("frd_rank_%d.png",c))):(a.labelRank.setVisible(!0),a.spriteRank.setVisible(!1),a.labelRank.setString(""+c));a.playerId==d?(e||this.labelMyRank.setString(TextTable.t_topWorldMy_title+c),a.spriteBG.setColor(cc.color(246,250,197))):a.spriteBG.setColor(cc.color(255,255,255))};
RedPackLayerController.updateFriendListUI=function(a){RedPackLayerController.listWorldHolder=[];RedPackLayerController.listCoin.removeAllItems();UserManager.getPlayerId();var c=RedPackLayerController;if(a.fusers){var d=a.fusers,e=d.length,f=a.fids;a=a.coin;for(var g=0;g<e;g++){for(var h=0,m=0;m<f.length;m++)d[g].playerId==f[m]&&(h=m);var m=d[g],h=a[h],n={},r=loadccb(GetAssetsPath("RedPackItem.ccbi"),n,c);n.labelName.setString(m.name);n.SprBestLucky.setVisible(!1);n.labelScore.setString(h);GameHelper.loadHeadSprite(n.spriteHead,
m.headUrl,!0);c.listCoin.addItem(r)}}};RedPackLayerController.onButtonShare=function(a,c){XCXManager.shareMessage({feedID:3101,title:"\u6210\u5c31\u8fbe\u6210\u798f\u5229\uff0c\u70b9\u51fb\u9886\u53d6\u7ea2\u5305\uff01",query:"from\x3dwelfare\x26redpacid\x3d"+XCXManager.redPacId})};RedPackLayerController.onButtonEnterGame=function(){RedPackLayerController.hide()};FriendRankLayerController=createController("FriendRankLayerController");FriendRankLayerController.onViewCreate=function(){return loadccb(GetAssetsPath("FriendRankLayer.ccbi"),this)};FriendRankLayerController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.reset()};FriendRankLayerController.onViewEnter=function(){};
FriendRankLayerController.reset=function(){this.nodeSize=this.nodeSub.getContentSize();this.nodeOffest=this.nodeSub.convertToWorldSpace(ccp(0,0));this.updateFromSub();this.showTabButton(1)};
FriendRankLayerController.updateFromSub=function(){if(XCXManager.isOpen()){var a=this.nodeSub;sharedCanvas.setAttribute("width",a.getContentWidth());sharedCanvas.setAttribute("height",a.getContentHeight());var c=new cc.Sprite(sharedCanvas);c.setAnchorPoint(0,0);c.setScale(cc.contentScaleFactor());a.addChild(c);this.sharedTexture=c._texture;this.registerUpdate("updateSharedCanvas",this.updateSharedCanvas,0,!1)}};
FriendRankLayerController.updateSharedCanvas=function(){this.sharedTexture&&(XCXManager.runSubLoop(),this.sharedTexture._htmlElementObj=sharedCanvas,this.sharedTexture.handleLoadedTexture(!1))};
FriendRankLayerController.showTabButton=function(a){this.btnFriend.setPressDown(!1);this.btnWorld.setPressDown(!1);this.tagFriend1.setVisible(!1);this.tagFriend2.setVisible(!1);this.tagWorld1.setVisible(!1);this.tagWorld2.setVisible(!1);1==a?(this.tagFriend2.setVisible(!0),this.tagWorld1.setVisible(!0),this.btnFriend.setPressDown(!0)):2==a&&(this.tagFriend1.setVisible(!0),this.tagWorld2.setVisible(!0),this.btnWorld.setPressDown(!0));this.postMessage(a+1)};
FriendRankLayerController.postMessage=function(a){this.tab=a;var c=XCXManager.getCacheRes(["res/image/720x1280/groupranknew.plist"]),d=XCXManager.getResPath(["res/image/720x1280/groupranknew.png"]);XCXManager.postMessage({id:a,size:this.nodeSize,res:d,cache:c,selfId:wxCode,offest:this.nodeOffest})};
FriendRankLayerController.onButtonPK=function(){audio.playSound(GameMusicType.kButtonClick);var a=ShareController.getFeedTitleAndContent(3100,MathUtils.random(1,5)),a={feedID:3100,shareUrl:cc.loader.urlByAliases(GetAssetsPath("share_pic_pk.jpg")),title:a[0],desc:a[1]};a.query="from\x3dfriendrank\x26tab\x3d"+this.tab;XCXManager.shareMessage(a)};FriendRankLayerController.onButtonFriend=function(){audio.playSound(GameMusicType.kButtonClick);this.showTabButton(1)};
FriendRankLayerController.onButtonWorld=function(){audio.playSound(GameMusicType.kButtonClick);this.showTabButton(2)};FriendRankLayerController.onButtonInvite=function(){audio.playSound(GameMusicType.kButtonClick);var a=MathUtils.random(1,6);XCXManager.shareMessage({feedID:3004,title:TextTable["t_sharetitle3004_"+a],desc:TextTable["t_sharefeed3004_"+a],query:"from\x3dinvite"})};FriendRankLayerController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back();XCXManager.postMessage({id:99})};
FriendRankLayerController.back=function(){EffectHelper.dialogLeftHide(this)};FriendPKLayerController=createController("FriendPKLayerController");FriendPKLayerController.onViewCreate=function(){return loadccb(GetAssetsPath("FriendPKLayer.ccbi"),this)};FriendPKLayerController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.reset()};FriendPKLayerController.onViewEnter=function(){};
FriendPKLayerController.reset=function(){this.nodeSize=this.nodeSub.getContentSize();this.nodeOffest=this.nodeSub.convertToWorldSpace(ccp(0,0));this.updateFromSub();this.showTabButton()};
FriendPKLayerController.updateFromSub=function(){if(XCXManager.isOpen()){var a=this.nodeSub;sharedCanvas.setAttribute("width",a.getContentWidth());sharedCanvas.setAttribute("height",a.getContentHeight());var c=new cc.Sprite(sharedCanvas);c.setAnchorPoint(0,0);c.setScale(cc.contentScaleFactor());a.addChild(c);this.sharedTexture=c._texture;this.registerUpdate("updateSharedCanvas",this.updateSharedCanvas,0,!1)}};
FriendPKLayerController.updateSharedCanvas=function(){this.sharedTexture&&(XCXManager.runSubLoop(),this.sharedTexture._htmlElementObj=sharedCanvas,this.sharedTexture.handleLoadedTexture(!1))};FriendPKLayerController.showTabButton=function(){this.postMessage(4)};
FriendPKLayerController.postMessage=function(a){var c=XCXManager.getCacheRes(["res/image/720x1280/groupranknew.plist"]),d=XCXManager.getResPath(["res/image/720x1280/groupranknew.png","res/image/720x1280/bg_shage_pk.png"]);XCXManager.postMessage({id:a,openId:XCXManager.senderOpenId,selfId:wxCode,size:this.nodeSize,res:d,cache:c,tab:this.param,offest:this.nodeOffest})};FriendPKLayerController.onButtonGO=function(){this.onButtonBack()};
FriendPKLayerController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back();XCXManager.postMessage({id:99})};FriendPKLayerController.back=function(){EffectHelper.dialogLeftHide(this);StartMenuController.isShowing&&StartMenuController.enterGame()};GroupRankNewController=createController("GroupRankNewController");GroupRankNewController.onViewCreate=function(){return loadccb(GetAssetsPath("GroupRankNew.ccbi"),this)};GroupRankNewController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.reset()};GroupRankNewController.onViewEnter=function(){};GroupRankNewController.reset=function(){this.nodeSize=this.nodeSub.getContentSize();this.nodeOffest=this.nodeSub.convertToWorldSpace(ccp(0,0));this.updateFromSub();this.postMessage(1)};
GroupRankNewController.updateFromSub=function(){if(XCXManager.isOpen()){var a=this.nodeSub;sharedCanvas.setAttribute("width",a.getContentWidth());sharedCanvas.setAttribute("height",a.getContentHeight());var c=new cc.Sprite(sharedCanvas);c.setAnchorPoint(0,0);c.setScale(cc.contentScaleFactor());a.addChild(c);this.sharedTexture=c._texture;this.registerUpdate("updateSharedCanvas",this.updateSharedCanvas,0,!1)}};
GroupRankNewController.updateSharedCanvas=function(){this.sharedTexture&&(XCXManager.runSubLoop(),this.sharedTexture._htmlElementObj=sharedCanvas,this.sharedTexture.handleLoadedTexture(!1))};GroupRankNewController.postMessage=function(a){var c=XCXManager.getCacheRes(["res/image/720x1280/groupranknew.plist"]),d=XCXManager.getResPath(["res/image/720x1280/groupranknew.png"]);XCXManager.postMessage({id:a,size:this.nodeSize,res:d,cache:c,openId:XCXManager.senderOpenId,selfId:wxCode,offest:this.nodeOffest})};
GroupRankNewController.onButtonGo=function(){this.hide();XCXManager.postMessage({id:99});if(StartMenuController.isShowing)StartMenuController.onButtonStart()};FriendRankInfoController=createController("FriendRankInfoController");FriendRankInfoController.onViewCreate=function(){return loadccb(GetAssetsPath("FriendRankInfo.ccbi"),this)};FriendRankInfoController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.reset();notification.postEvent("event.ui.groupRank")};
FriendRankInfoController.loadInfo=function(){WaitingDialogController.show();var a=this;HttpHelper.sendGetWXGameInfo(null,function(c,d){WaitingDialogController.hide();0==c?a.showLoading(JSON.parse(d.buffer)):TipDialogController.showTip(ErrMsg(c))})};
FriendRankInfoController.reset=function(){this.data=this.param||{pet:20002,comScore:100,star:100,threeStar:200,combo:300,usePet:75,rank:200};var a=this.data.pet||20002;this.skelPet.reloadWithCache(GetAssetsPath("anim"+a+".json"));this.skelPet.setAnimation(0,"stand",!0);PetHelper.setPetEquipByPetID(this.skelPet,a);this.labelName.setString(UserManager.getNickName());this.labelScore.setNumber(this.data.comScore,0);this.labelTotalStar.setString(this.data.star);this.label3StarLevel.setString(this.data.threeStar);
this.labelTopLevel.setString(this.data.rank);this.labelMaxCombo.setString(this.data.combo);this.labelUse.setString(this.data.usePet+"%");GameHelper.loadHeadSprite(this.spriteHead,UserManager.getHeadUrl())};FriendRankInfoController.onButtonPK=function(){audio.playSound(GameMusicType.kButtonClick);FriendRankLayerController.showLoading()};
FriendRankInfoController.onButtonDisplay=function(){audio.playSound(GameMusicType.kButtonClick);var a={feedID:3101,title:"\u672c\u7fa4\u6d88\u9664\u5927\u795e\u5728\u6b64\uff0c\u770b\u770b\u4f60\u6392\u7b2c\u51e0",desc:"\u672c\u7fa4\u6d88\u9664\u5927\u795e\u5728\u6b64\uff0c\u770b\u770b\u4f60\u6392\u7b2c\u51e0",query:"from\x3dgrouprank",withShareTicket:!1,rect:ShareController.getXcxScreenShotRect(this.screenShotNode)};XCXManager.share(a)};
FriendRankInfoController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};FriendRankInfoController.back=function(){EffectHelper.dialogLeftHide(this)};PetAdoptionController=createController("PetAdoptionController");PetAdoptionController.onViewCreate=function(){return loadccb(GetAssetsPath("PetAdoption.ccbi"),this)};PetAdoptionController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.registerEvent("event.ui.update");this.reset();EffectHelper.dialogLeftShow(this)};PetAdoptionController.onViewEnter=function(){this.updateUI()};PetAdoptionController.onEvents=function(a,c){"event.ui.update"==a&&this.updateUI()};
PetAdoptionController.reset=function(){PetHelper.clearPetEquip(this.skelPet)};PetAdoptionController.updateUI=function(){var a=UserManager.getConsumedDiamond(),c=MetaHelper.global.consumeDiamondCount;this.labelTitle.setString(string.expand(TextTable.t_PetHusky_content1,{number:c}));this.progBar.setPercentage(Math.floor(100*a/c));this.labelProgress.setString(a+"/"+c)};PetAdoptionController.onButtonOk=function(){audio.playSound(GameMusicType.kButtonClick);GameHelper.openUI("lottery")};
PetAdoptionController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};PetAdoptionController.back=function(){EffectHelper.dialogLeftHide(this)};ShopItemBuyDialogController=createController("ShopItemBuyDialogController");ShopItemBuyDialogController.onViewCreate=function(){return loadccb(GetAssetsPath("ShopItemBuyDialog.ccbi"),this)};ShopItemBuyDialogController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.registerEvent("event.ui.update");this.reset();EffectHelper.dialogLeftShow(this)};ShopItemBuyDialogController.onViewEnter=function(){};
ShopItemBuyDialogController.reset=function(){if(null!=this.param&&(this.goodsId=this.param.goodsId,this.goodsMeta=MetaHelper.getGoodMetaListById(this.goodsId),this.baseRatio=this.param.baseRatio||1,this.goodsMeta)){this.itemMeta=this.goodsMeta.item[0];this.itemId=this.itemMeta[0];this.limit=GoodsManager.getLimitCount(this.goodsId)[0];var a=GetLanAssetsPath("prop_title_"+tostring(this.itemId)+".png");this.spTitle.setDisplayFrameFile(a);a=GameIconHelper.getIconFrameName(this.itemId);this.spIcon.setDisplayFrameName(a);
this.labelOwnGem.setString(GameHelper.getConinString(UserManager.getDiamond()));11002==this.itemId||11003==this.itemId||11004==this.itemId||11012==this.itemId?(a=PropMetaManager.getInstance().getPropUseLimit(this.itemId),a=string.expand(TextTable["t_Prop_Desc_"+this.itemId],{limit:a})):2==this.itemId?a=string.expand(TextTable["t_Prop_Desc_"+this.itemId],{amount:this.itemMeta[1]}):(a=TextTable["t_Prop_Desc_"+this.itemId],this.itemId==ItemType.BELL&&(a=TextTable.t_Petclothes_txt9,this.bellNode.setVisible(!0),
this.labelDesc.setPosition(ccp(159,240)),this.labelDesc.setDimensions(0,0),this.skelPet.setVisible(!1)));var c=MetaHelper.getGoodsPrice(this.goodsId);this.labelDesc.setString(a);this.price=c[1];this.buyCount=this.baseRatio;this.discountId=c[3];a=c[2];this.param.showLeft&&(this.labelLeftBuy.setVisible(!0),this.labelLeftBuy.setString("\u4eca\u65e5\u5269\u4f59\u8d2d\u4e70\u4e2a\u6570\uff1a"+this.limit));1>a&&0<a?(this.spOff.setVisible(!0),this.labelOff.setString(string.format("%f\u6298",10*a))):this.spOff.setVisible(!1);
11001==this.itemId?(this.skelPreview.reloadWithCache(GetAssetsPath("add5step.json")),this.spritePreview.setVisible(!1),this.skelPet.setVisible(!1)):11002!=this.itemId&&11003!=this.itemId&&11004!=this.itemId&&11012!=this.itemId?(this.btnPlay.setVisible(!1),this.spritePreview.setVisible(!1),a=UserManager.getMainPetId(),this.skelPet.reloadWithCache(GetAssetsPath("anim"+a+".json")),PetHelper.setPetEquipByPetID(this.skelPet,a),this.skelPet.setAnimation(0,"stand",!0)):this.skelPreview.setVisible(!1);this.updateUI()}};
ShopItemBuyDialogController.onEvents=function(a,c){"event.ui.update"==a&&this.updateUI()};
ShopItemBuyDialogController.updateUI=function(){var a=UserManager.getDiamond();this.btnRMB.setVisible(!1);this.btnGem.setVisible(!0);var c=Math.floor(a/this.price);c<this.limit&&(this.limit=c,1>this.limit&&(this.limit=1));this.labelOwnGem.setString(GameHelper.getConinString(a));this.labelNum.setString(tostring(this.buyCount));this.bellNumLabel.setString("x"+this.buyCount);this.btnSub.setEnabled(this.buyCount>this.baseRatio);this.btnAdd.setEnabled(this.buyCount+this.baseRatio<=this.limit);this.labelPrice.setString("x"+
tostring(this.price*this.buyCount));99<this.limit&&(this.limit=99)};ShopItemBuyDialogController.playBuyRewardAnim=function(){this.param&&this.param.flyTarget?EffectHelper.itemFlyToUIAnim(this.itemId,null,this.spIcon,null,null,0,this.param.flyTarget):EffectHelper.itemFlyToUIAnim(this.itemId,null,this.spIcon);this.itemId==ItemType.BELL&&EffectHelper.itemFlyToUIAnim(ItemType.LOTTERY_CARD,null,this.icoAddCard,null,null,0,this.param.flyTarget2)};
ShopItemBuyDialogController.onButtonSub=function(){audio.playSound(GameMusicType.kButtonClick);this.buyCount<=this.baseRatio||(this.buyCount-=this.baseRatio,this.updateUI())};ShopItemBuyDialogController.onButtonAdd=function(){audio.playSound(GameMusicType.kButtonClick);this.buyCount+this.baseRatio>this.limit||(this.buyCount+=this.baseRatio,this.updateUI())};
ShopItemBuyDialogController.onButtonBuy=function(){audio.playSound(GameMusicType.kButtonClick);if(UserManager.getDiamond()<this.price*this.baseRatio)SnsHelper.isClosePay()?TipDialogController.showTip(ErrMsg(ErrCode.CASH_NOT_ENOUGH)):(DiamondNotEnoughDialogController.show(),this.hide());else{var a=this;WaitingDialogController.show();HttpHelper.buy(this,this.goodsId,this.buyCount,function(c){WaitingDialogController.hide();0==c?(notification.postEvent("event.ui.update"),a.param.isOnlyTip||a.param.inGame?
TipDialogController.showTip(TextTable.t_buySuccess):a.playBuyRewardAnim(),a.back()):(TipDialogController.showTip(ErrMsg(c)),SnsHelper.isClosePay()||c==ErrCode.CASH_NOT_ENOUGH&&a.performDelay(function(){ShopController.isShowing?(a.back(),ShopController.onButtonTag2()):(a.back(),ShopController.loadAndShow(3))},0.8))},this.param.levelId,this.discountId)}};
ShopItemBuyDialogController.onButtonRMBBuy=function(){var a=this;PayHelper.buy(this,MetaHelper.productDict[this.goodsId].productId,function(c){c?(notification.postEvent("event.ui.update"),a.playBuyRewardAnim(),a.back()):TipDialogController.showTip(TextTable.t_buyFailed)})};ShopItemBuyDialogController.onButtonPlay=function(){audio.playSound(GameMusicType.kButtonClick);this.skelPreview.isVisible()?(this.btnPlay.setVisible(!1),this.skelPreview.setAnimation(0,"animation",!0)):ShopPropPreviewController.show(this.itemId)};
ShopItemBuyDialogController.onButtonBack=function(){this.back()};ShopItemBuyDialogController.back=function(){audio.playSound(GameMusicType.kPopupClose);EffectHelper.dialogLeftHide(this)};ShopPropPreviewController=createController("ShopPropPreviewController");ShopPropPreviewController.onViewCreate=function(){return loadccb(GetAssetsPath("ShopPropPreview.ccbi"),this)};
ShopPropPreviewController.onViewOpen=function(){var a=this;this.registerScriptTouchHandler(function(a,c,f){return!0},!1,0,!0);this.registerUpdate("loop",function(){a.skelPreview.setToSetupPose();a.skelPreview.setAnimation(0,tostring(a.param),!1)},2.5,!0);this.nodeDialog.setScale(0);this.nodeDialog.runAction(cc.scaleTo(0.2,1).easing(cc.easeBackOut()));var c=UserManager.getMainPetId();this.skelNpc.reloadWithCache(GetAssetsPath("anim"+c+".json"));PetHelper.setPetEquipByPetID(this.skelNpc,c);this.skelNpc.setAnimation(0,
"stand",!0)};ShopPropPreviewController.back=function(){this.hide()};ShopPropPreviewController.onButtonBack=function(){this.hide()};ShopPropPreviewController.onButtonOk=function(){this.hide()};var ActivityController=createController("Activity10001Controller");ActivityController.lan=function(){return""};ActivityController.onViewCreate=function(){return loadccb(GetAssetsPath("Activity_10001.ccbi"),this)};ActivityController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.registerEvent("event.ui.update");printf("registerEvent reset");this.reset();EffectHelper.dialogLeftShow(this)};ActivityController.onViewEnter=function(){this.updateUI()};
ActivityController.onEvents=function(a,c){"event.ui.update"==a&&this.updateUI()};
ActivityController.reset=function(){printf("ActivityController.reset");this.initData();this.scrollBar.bindScrollView(this.listView);"en"==DeviceLan&&this.labelTitle.setPositionY(this.labelTitle.getPositionY()+14);this.listViewItems=[];this.listView.removeAllItems();lan=this.lan();var a=this.getConfig();printf("ActivityController.reset config.length "+a.length);for(var c=1;c<=a.length;++c){var d=a[c-1],e={},f=loadccb(GetAssetsPath("Activity_10001_Item.ccbi"),e,this);e.btnGet.setTag(d.id);e.rewardNode.setTag(c);
var g=e.imgReward.getBoundingBox(),h=GameIconHelper.getIconFrameName(d.reward.id,d.reward.amount);e.imgReward.setDisplayFrameName(h);e.labelNum.setString("x"+tostring(d.reward.amount));h=e.imgReward.getBoundingBox();g=Math.min(g.width/h.width,g.height/h.height);1>g&&e.imgReward.setScale(g);4==c||8==c?(e.skelLight.setVisible(!0),e.skelLight.runAction(cc.repeatForever(cc.rotateBy(10,360)))):e.skelLight.setVisible(!1);this.listView.addItem(f);this.listViewItems[d.id]=e;e.cfg=d;e.index=c;if(8==c)break}};
ActivityController.onRewardClick=function(a,c){var d=this.getConfig()[a-1];ItemTipController.showWithButton(d.reward.id,d.reward.amount,c,d.reward.extra)};
ActivityController.updateUI=function(){printf("ActivityController.updateUI");var a=this.getState(),c;for(c in a){var d=a[c],e=this.listViewItems[d.id];e&&(2==d.state?(e.leftBar1.setVisible(!1),e.leftBar2.setVisible(!0),e.imgDay.setDisplayFrameName("activity_10001_day1_"+e.index+lan+".png"),e.Background1.setVisible(!1),e.Background2.setVisible(!0),e.btnGet.setEnabled(!1),e.imgHasGet.setVisible(!0),e.imgHasGet.setShaderProgramByKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR_GRAY),e.imgDoGet.setVisible(!1),
e.okSpr.setVisible(!0),e.spItembgHasgain.setVisible(!0),e.spItembgCangain.setVisible(!1)):0==d.state?(e.leftBar1.setVisible(!1),e.leftBar2.setVisible(!0),e.imgDay.setDisplayFrameName("activity_10001_day1_"+e.index+lan+".png"),e.Background1.setVisible(!1),e.Background2.setVisible(!0),e.btnGet.setEnabled(!1,TextTable.t_ecode200272),e.imgHasGet.setVisible(!1),e.imgDoGet.setVisible(!0),e.imgDoGet.setShaderProgramByKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR_GRAY),e.okSpr.setVisible(!1),e.spItembgHasgain.setVisible(!0),
e.spItembgCangain.setVisible(!1)):(e.leftBar1.setVisible(!0),e.leftBar2.setVisible(!1),e.imgDay.setDisplayFrameName("activity_10001_day1_"+e.index+lan+".png"),e.Background1.setVisible(!0),e.Background2.setVisible(!1),e.btnGet.setEnabled(!0),e.imgHasGet.setVisible(!1),e.imgDoGet.setVisible(!0),e.imgDoGet.setShaderProgramByKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR),e.okSpr.setVisible(!1),e.spItembgHasgain.setVisible(!1),e.spItembgCangain.setVisible(!0)))}};
ActivityController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};ActivityController.back=function(){EffectHelper.dialogLeftHide(this)};
ActivityController.onGetBtnClicked=function(a){var c=this;WaitingDialogController.show();HttpHelper.sendActivity(this,10001,"reward",{rewardId:a},function(d,e,f){WaitingDialogController.hide();if(0!=d)TipDialogController.showTip(ErrMsg(100238)+"code:"+tostring(d));else{for(var g in c.state)if(d=c.state[g],d.id==a){d.state=2;break}e=null;f=c.listViewItems[a];for(g in c.config)if(d=c.config[g],d.id==a){e=d;break}e&&f&&(20004==e.reward.id?StoryLayerController.show({config:MeetPet20004Config,listener:function(){PetGetDialogController.show({petId:20004,
autoOpen:!0,share:!0})}}):EffectHelper.itemFlyToUIAnim(e.reward.id,null,f.imgReward,null,function(){notification.postEvent("event.ui.update")}));e&&(e.reward.extra?ServerProxy.addItem(e.reward.id,e.reward.amount,parseInt(e.reward.extra)):ServerProxy.addItem(e.reward.id,e.reward.amount));c.updateUI()}})};
Activity10001Controller.initData=function(){if(this.param){this.config=[];for(var a in this.param.config.reward){var c=this.param.config.reward[a],d=string.split(c.reward,":");if(d&&2<=d.length){var e=tonumber(d[0]),f=tonumber(d[1]),g=tonumber(c.id);null!=e&&null!=f&&null!=g&&table.insert(this.config,d[2]?{id:g,reward:{id:e,amount:f,extra:d[2]}}:{id:g,reward:{id:e,amount:f}})}}dump(this.config);table.sort(this.config,function(a,c){return a.id<c.id});this.state=[];for(a in this.param.reward)c=this.param.reward[a],
(g=string.split(a,"_"))&&2<=g.length&&(c=tonumber(c),e=tonumber(g[1]),null!=c&&null!=e&&table.insert(this.state,{id:e,state:c}))}else this.state=[],this.config=[]};ActivityController.getConfig=function(){return this.config};ActivityController.getState=function(){return this.state};TextTable=TextTable||{};TextTable.t_StoryGuide_20004_1="\x3cb size\x3d#24 color\x3d#544030\x3e\u6211\u662f\u4e3b\u53a8\u82f1\u77ed\u732b\uff0c\u6765\u5e2e\u60a8\u4e00\u8d77\u5236\u4f5c\u7f8e\u98df\u5427\uff0c\u6211\u867d\u7136\u80fd\u5403\uff0c\u4f46\u4e5f\u662f\u4e2a\u597d\u53a8\u5e08\u3002\x3c/b\x3e";TextTable.t_StoryGuide_20004_2="\x3cb size\x3d#24 color\x3d#544030\x3e\u80fd\u5403\u7684\u53a8\u5e08\uff1f\uff01\u54c8\u54c8\uff0c\u6211\u4eec\u7684\u786e\u6b63\u7f3a\u4eba\u624b\uff0c\u6b22\u8fce\u52a0\u5165~~\x3c/b\x3e";
MeetPet20004Config={roles:["anim20002.json","anim20004.json"],talk:[{role:2,text:TextTable.t_StoryGuide_20004_1,padding:5,pose:{1:{anim:"stand",x:25,y:35,flip:!0,hide:!1},2:{anim:"happy1",x:75,y:35}}},{role:1,text:TextTable.t_StoryGuide_20004_2,padding:5,pose:{2:{anim:"caress"}}}]};Activity10003Controller=createController("Activity10003Controller");Activity10003Controller.itemArea=[{startR:-20,endR:20},{startR:300,endR:340},{startR:260,endR:300},{startR:220,endR:260},{startR:180,endR:220},{startR:140,endR:180},{startR:100,endR:140},{startR:60,endR:100},{startR:20,endR:60}];Activity10003Controller.onViewCreate=function(){return loadccb(GetAssetsPath("Activity_10003.ccbi"),this,null,null,null,"nodeUser labelDiamond spriteHead btnAdd btnBuy labelUserName".split(" "))};
Activity10003Controller.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.registerEvent("event.ui.update");cc.spriteFrameCache.addSpriteFrames(GetAssetsPath("equipments.plist"));this.reset();EffectHelper.dialogLeftShow(this,null,!0)};Activity10003Controller.onViewEnter=function(){};Activity10003Controller.onEvents=function(a,c){"event.ui.update"==a&&this.updateUI()};Activity10003Controller.getConfig=function(){return this.config};
Activity10003Controller.converItem=function(a){a=string.split(a,":");return{itemId:tonumber(a[0]),value:tonumber(a[1])}};
Activity10003Controller.reset=function(){this.spPlate.setRotation(0);this.labelPos=this.labelTitle.getPosition();for(var a=1;3>=a;a++){var c=a-1;this.btnBuy[c].setTag(a);this.btnAdd[c].setTag(a);this.btnBuy[c].setVisible(!1);this.btnAdd[c].setPositionY(0.5*(this.btnBuy[c].getPositionY()+this.btnAdd[c].getPositionY()))}if((this.actData=this.param)&&this.actData.rewards){for(a in this.actData.rewards)c=this.actData.rewards[a],c.reward=this.converItem(c.reward);this.initDrawRecord();this.updateUI();
this.performDelay(this.onFristEnter,0.5)}};Activity10003Controller.onFristEnter=function(){persist.getBool("first_enter_10003")||(persist.setBool("first_enter_10003",!0),this.onButtonHelp())};
Activity10003Controller.initDrawRecord=function(){var a=this.clipView.getContentSize(),c=this.actData.drawRecord;if(c&&0!=c.length){this.labelTitle.setPosition(a.width,a.height/2);for(var d="",e=0;e<c.length;++e)var f=c[e],g=GameIconHelper.getItemName(f.item),d=d+string.expand(TextTable.Activity_Roulette_text8,{name:f.nickName,item:g,num:f.num});this.labelTitle.setString(d);var h=this,d=h.labelTitle.getContentSize(),e=[];e.push(cc.moveTo(4*c.length,ccp(-d.width,a.height/2)));e.push(cc.callFunc(function(){h.labelTitle.setPosition(ccp(a.width,
a.height/2))}));this.labelTitle.stopAllActions();this.labelTitle.runAction(cc.repeatForever(cc.sequence(e)))}else this.labelTitle.setString("\x3cb size\x3d#26\x3e"+TextTable.Activity_Roulette_text1+"\x3c/b\x3e"),this.labelTitle.setPosition(0,a.height/2),this.labelTitle.stopAllActions()};
Activity10003Controller.updateUI=function(){if(this.actData){this.spPlate.setRotation(0);this.uiToReward={};this.rewardToUi={};for(var a=1;9>=a;a++){var c=this.actData.rewards[a-1];if(1<a){var d=c.reward;this["icoItem_"+a].setDisplayFrameName(GameIconHelper.getIconFrameName(d.itemId));this["labelItem_"+a].setString("x"+d.value);this.uiToReward[a-1]=d}this.rewardToUi[c.id]=a}c=3>this.actData.daycount?!0:!1;if(3>this.actData.daycount)for(a=1;3>=a;a++){var e=this.actData.info[a-1],d=this.btnBuy[a-1].getPosition();
e&&0<e?(e=CacheHelper.getUserInfoWithDefault(e),GameHelper.loadHeadSprite(this.spriteHead[a-1],e.headUrl,!0),this.labelUserName[a-1].setString(e.name),this.btnAdd[a-1].setVisible(!1),this.labelUserName[a-1].setVisible(!0),this.nodeUser[a-1].setPosition(d.x,d.y+30),this.nodeUser[a-1].setScale(1.2)):(GameHelper.loadHeadSprite(this.spriteHead[a-1],"0",!0),this.btnAdd[a-1].setVisible(!0),this.btnAdd[a-1].setEnabled(3>this.actData.daycount),this.labelUserName[a-1].setVisible(!1),this.labelDiamond[a-1].setString("x"+
tostring(this.actData.diamond)),this.nodeUser[a-1].setPosition(d.x,d.y+69),this.nodeUser[a-1].setScale(1),c=!1)}3<=this.actData.daycount?this.setButtonState(2):c?this.setButtonState(0):this.setButtonState(1);3<=this.actData.daycount?CCNodeUtils.setSpriteColor(this.spPlate,cc.color(180,180,180)):c?CCNodeUtils.setSpriteColor(this.spPlate,cc.color(255,255,255)):CCNodeUtils.setSpriteColor(this.spPlate,cc.color(180,180,180))}};
Activity10003Controller.setButtonState=function(a){2==a?(this.btnStart.setEnabled(!1,TextTable.t_act_ecode10),this.normalInviteNode.setVisible(!1),this.chanceUseOutNode.setVisible(!0),this.btnStart.stopAllActions(),this.btnStart.setScale(1)):1==a?(this.btnStart.setEnabled(!1,TextTable.Activity_Roulette_text7),this.btnStart.stopAllActions(),this.btnStart.setScale(1)):0==a?(this.btnStart.setEnabled(!0),EffectHelper.jellyShake(this.btnStart)):3==a&&(this.btnStart.setEnabled(!1),this.btnStart.stopAllActions(),
this.btnStart.setScale(1))};Activity10003Controller.onButtonAdd=function(a){audio.playSound(GameMusicType.kButtonClick);var c=this,d=function(d){0!=d.length&&c.sendVideoOrBuy(a,3,d)};CacheHelper.getAndCacheFiendsInfo(this,function(a,c){0==a?(table.sort(c,function(a,c){return a.star==c.star?a.topLevelId==c.topLevelId?a.playerId<c.playerId:a.topLevelId>c.topLevelId:a.star>c.star}),InviteFriendListLayerController.showLoading({friendList:c,callback:d,isNoNpc:!0,isShare:!0})):TipDialogController.showTip(ErrMsg(a))})};
Activity10003Controller.onButtonBuy=function(a){audio.playSound(GameMusicType.kButtonClick);var c=this;QueryDialogController.checkAndUseDiamond(this.actData.diamond,function(d){d&&c.sendVideoOrBuy(a,1)})};Activity10003Controller.onButtonVideo=function(a){WaitingDialogController.show();VideoAdManager.playAd(this,VideoAdRewardType.VAD_Reward_Task,function(c,d){WaitingDialogController.hide();c&&this.sendVideoOrBuy(a,2)})};
Activity10003Controller.onButtonStart=function(){this.setButtonState(3);WaitingDialogController.show();var a=this;HttpHelper.sendActivity(this,10003,"reward",null,function(c,d,e){WaitingDialogController.hide();if(0!=c)9==c?TipDialogController.showTip(TextTable.t_act_ecode9):10==c?TipDialogController.showTip(TextTable.t_act_ecode10):(a.setButtonState(0),TipDialogController.showTip(ErrMsg(c)));else{for(c=1;c<=d.rewards.length;++c)e=d.rewards[c-1],e.reward=a.converItem(e.reward);a.btnBack.setEnabled(!1);
a.palyGetReward(a.rewardToUi[d.drawReward.id],d.drawReward.reward,function(){a.btnBack.setEnabled(!0);a.actData.rewards=d.rewards;a.actData.info=d.info;a.actData.daycount=d.daycount;a.actData.drawRecord=d.drawRecord;a.initDrawRecord();notification.postEvent("event.ui.update")});for(c in d.drawReward.reward)e=d.drawReward.reward[c],ServerProxy.addItem(e.itemId,e.num,parseInt(e.expire));notification.postEvent("event.game.turnTable")}})};
Activity10003Controller.sendVideoOrBuy=function(a,c,d){var e="";if(d)for(var f in d)e=e+tostring(d[f])+",";else e=null;a={type:c,index:a,friends:e};var g=this;WaitingDialogController.show();HttpHelper.sendActivity(this,10003,"addInvite",a,function(a,d,e){WaitingDialogController.hide();0!=a?9==a?TipDialogController.showTip(TextTable.t_act_ecode9):10==a?TipDialogController.showTip(TextTable.t_act_ecode10):TipDialogController.showTip(ErrMsg(a)):(1==c&&UserManager.subDiamond(g.actData.diamond),d&&d.info&&
(g.actData.info=d.info,notification.postEvent("event.ui.update")))})};
Activity10003Controller.palyGetReward=function(a,c,d){var e=0,f=function(){e-=1;0==e&&d()},g=this,h=this.itemArea[a-1],h=1800+Math.random2(h.startR+2,h.endR-2),h=cc.rotateTo(4,h).easing(cc.easeSineOut()),m=cc.callFunc(function(){if(1==a)for(var d in g.uiToReward){var h=g.uiToReward[d];e+=1;EffectHelper.itemFlyToUIAnim(h.itemId,h.value,g["icoItem_"+d],this.layer,f,1)}else for(d=1;d<=c.length;++d)h=c[d-1],e+=1,EffectHelper.itemFlyToUIAnim(h.itemId,h.num,g["icoItem_"+a],g.layer,f,1)}),n=[];n.push(cc.delayTime(0.5));
n.push(h);n.push(m);this.spPlate.runAction(cc.sequence(n))};Activity10003Controller.onButtonHelp=function(){audio.playSound(GameMusicType.kButtonClick);Activity10003InfoController.showLoading()};Activity10003Controller.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};Activity10003Controller.back=function(){EffectHelper.dialogLeftHide(this)};Activity10003InfoController=createController("Activity10003InfoController");Activity10003InfoController.onViewCreate=function(){return loadccb(GetAssetsPath("Activity_10003_Info.ccbi"),this)};Activity10003InfoController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.registerEvent("event.ui.update");this.reset();EffectHelper.dialogLeftShow(this)};
Activity10003InfoController.reset=function(){this.labelTip.setString(TextTable.Activity_Roulette_text2+"\n\n"+TextTable.Activity_Roulette_text3+"\n\n"+TextTable.Activity_Roulette_text4+"\n\n"+TextTable.Activity_Roulette_text5+"\n\n"+TextTable.Activity_Roulette_text6)};Activity10003InfoController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};Activity10003InfoController.back=function(){EffectHelper.dialogLeftHide(this)};TextTable=TextTable||{};TextTable.Activity_Roulette_text1="\u5feb\u5e2e\u5e2e\u6211\uff0c\u6211\u8981\u542f\u52a8\u5927\u8f6c\u76d8\u54af\uff01";TextTable.Activity_Roulette_text2="1\uff0c\u542f\u52a8\u8f6c\u76d8\u83b7\u53d6\u5e78\u8fd0\u5927\u5956\uff01\u62bd\u4e2d\u5e78\u8fd0\u4e4b\u661f\uff0c\u8d62\u53d6\u5168\u76d8\u5956\u52b1\u3002\u9996\u6b21\u53c2\u4e0e\u514d\u8d39\u54e6~";TextTable.Activity_Roulette_text3="2\uff0c\u5411\u5c0f\u4f19\u4f34\u5bfb\u6c42\u5e2e\u52a9\uff0c\u6ee1\u8db3\u6570\u91cf\u53ef\u518d\u6b21\u542f\u52a8\u8f6c\u76d8\u3002";
TextTable.Activity_Roulette_text4="3\uff0c\u6bcf\u542f\u52a8\u4e00\u6b21\u8f6c\u76d8\uff0c\u5956\u52b1\u5185\u5bb9\u66f4\u65b0\u4e00\u6b21\u3002";TextTable.Activity_Roulette_text5="4\uff0c\u8f6c\u76d8\u5956\u52b1\u53ca\u6982\u7387\u8bf4\u660e\uff1a\u5ba0\u7269\u65f6\u88c5(3.10%);\u9053\u5177(3.29%);\u94bb\u77f3(38.94%);\u91d1\u5e01(54.63%);\u661f\u661f(0.04%)";TextTable.Activity_Roulette_text6="5\uff0c\u8f6c\u76d8\u4e5f\u8981\u4f11\u606f\u5566\uff01\u6bcf\u5929\u80fd\u8f6c\u52a8\u4e09\u6b21\uff0c\u4e14\u73a9\u4e14\u73cd\u60dc~";
TextTable.Activity_Roulette_text7="\u5feb\u53bb\u9080\u8bf7\u597d\u53cb\u5e2e\u5fd9\u5f00\u542f\u8f6c\u76d8\u5440~";TextTable.Activity_Roulette_text8="\x3cb size\x3d#26\x3e\u606d\u559c \x3c/b\x3e\x3cb size\x3d#26 color\x3d#00FFFF\x3e{name}\x3c/b\x3e\x3cb size\x3d#26\x3e \u83b7\u5f97\u4e86 {item} x {num}    \x3c/b\x3e";TextTable.Activity_Roulette_text_video="\u770b\u89c6\u9891";TextTable.t_act_ecode9="\u6ca1\u6709\u8fbe\u5230\u542f\u52a8\u6761\u4ef6\u54e6\uff01";TextTable.t_act_ecode10="\u4eca\u5929\u5df2\u7ecf\u542f\u52a83\u6b21\u4e86\uff0c\u660e\u5929\u518d\u6765\u5427\uff01";var Activity10006Controller=createController("Activity10006Controller");Activity10006Controller.onViewCreate=function(){return loadccb(GetAssetsPath("Activity_10006.ccbi"),this)};Activity10006Controller.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.reset();EffectHelper.dialogLeftShow(this)};Activity10006Controller.onViewEnter=function(){this.updateUI()};Activity10006Controller.onEvents=function(a,c){};
Activity10006Controller.reset=function(){this.initData();for(var a=0;a<this.dailyRewards.length;a++){var c=this.dailyRewards[a];this["imgReward"+tostring(a+1)].setDisplayFrameName(GameIconHelper.getIconFrameName(c[0],c[1]));this["labelRewardNum"+tostring(a+1)].setString("x"+tostring(c[1]))}var a=[],d;for(d in this.helpSignInFriendIds)c=CacheHelper.getUserInfoWithDefault(d),a.push(c);for(d=0;5>d;d++)d<a.length?(c=a[d],GameHelper.loadHeadSprite(this["spriteHead"+tostring(d+1)],c.headUrl,!0)):GameHelper.loadHeadSprite(this["spriteHead"+
tostring(d+1)],null,!0)};
Activity10006Controller.updateUI=function(){for(var a=0;7>a;++a)this["rewardNode"+tostring(a+1)].setTouchEnabled(!1),this["okSpr"+tostring(a+1)].setVisible(a<this.curSignInProgessDay),6!=a&&(this["spHasGetBg"+tostring(a+1)].setVisible(a<this.curSignInProgessDay),this["spCanGetBg"+tostring(a+1)].setVisible(a==this.curSignInProgessDay&&this.bCanSignInCurDay),this["spCanNotGetBg"+tostring(a+1)].setVisible(a>this.curSignInProgessDay||a==this.curSignInProgessDay&&!this.bCanSignInCurDay));a=this.bCanSignInCurDay?
115*this.curSignInProgessDay:115*(this.curSignInProgessDay-1);this.spCur.setPositionY(345+115*this.curSignInProgessDay);this.spNext.setPositionY(460+a);this.nodeTip.setPositionY(470+a);2==a/115||4==a/115?(this.spNext.setPositionX(525),this.nodeTip.setPositionX(500)):(this.spNext.setPositionX(420),this.nodeTip.setPositionX(420));3==a/115||5==a/115?this.spCur.setPositionX(525):this.spCur.setPositionX(420);5==a/115&&(this.nodeTip.setPositionX(460),this.nodeTip.setPositionY(470+a-30));a=3<=this.curSignInProgessDay&&
!this.bCanSignInCurDay;this.spCur.setVisible(this.bCanSignInCurDay);this.labelDesc.setVisible(!a);this.btnInvite.setVisible(a);this.btnConsume.setVisible(a);this.nodeFriendList.setVisible(a);this.nodeTip.setVisible(a);this.btnInvite.setEnabled(!this.bCanHelpSignIn);7>this.curSignInProgessDay?(this.spNext.setVisible(6!=this.curSignInProgessDay),this["rewardNode"+tostring(this.curSignInProgessDay+1)].setTouchEnabled(this.bCanSignInCurDay)):(this.spNext.setVisible(!1),this.nodeTip.setVisible(!1),this.rewardNode7.setEnabled(!1),
this.btnInvite.setVisible(!1),this.btnConsume.setVisible(!1),this.nodeFriendList.setVisible(!1),this.labelDesc.setVisible(!0))};
Activity10006Controller.onButtonInvite=function(a,c){audio.playSound(GameMusicType.kButtonClick);var d=this,e=function(c){0!=c.length&&d.sendVideoOrBuy(a,3,c)};CacheHelper.getAndCacheFiendsInfo(this,function(a,c){0==a?(table.sort(c,function(a,c){return a.star==c.star?a.topLevelId==c.topLevelId?a.playerId<c.playerId:a.topLevelId>c.topLevelId:a.star>c.star}),InviteFriendListLayerController.show({friendList:c,callback:e,isNoNpc:!0,isShare:!0})):TipDialogController.showTip(ErrMsg(a))})};
Activity10006Controller.sendVideoOrBuy=function(a,c,d){var e="";if(d)for(var f in d)e=e+tostring(d[f])+",";else e=null;a={type:c,index:a,friends:e};var g=this;WaitingDialogController.show();HttpHelper.sendActivity(this,10006,"addInvite",a,function(a,d,e){WaitingDialogController.hide();0!=a?9==a?TipDialogController.showTip(TextTable.t_act_ecode9):10==a?TipDialogController.showTip(TextTable.t_act_ecode10):TipDialogController.showTip(ErrMsg(a)):(1==c&&UserManager.subDiamond(g.actData.diamond),d&&d.info&&
(g.actData.info=d.info,notification.postEvent("event.ui.update")))})};Activity10006Controller.onButtonGetByConsume=function(){var a=this;id=this.curSignInProgessDay;WaitingDialogController.show();HttpHelper.sendActivity(this,10006,"use",{rewardId:id},function(c,d,e){WaitingDialogController.hide();0!=c?TipDialogController.showTip(ErrMsg(100238)+"code:"+tostring(c)):(ServerProxy.subItem(1,60),notification.postEvent("event.ui.update"),a.bCanSignInCurDay=!0,a.updateUI())})};
Activity10006Controller.onButtonBox=function(a){var c=this,d=!1,e=!1,f;for(f in this.alreadyBoxIds)if(this.alreadyBoxIds[f]==a){d=!0;break}4==a?(3==this.curSignInProgessDay&&this.bCanSignInCurDay||4==this.curSignInProgessDay&&!this.bCanSignInCurDay)&&!d&&(e=!0):6<=this.curSignInProgessDay&&!d&&(e=!0);f=4==a?0:2;var g=4==a?1:2;f={reward1:c.boxRewards[f],reward2:c.boxRewards[f+1],shareBefore:c.alreadyShareIds[g],shareReward:c.shareRewards[g-1],shareId:g,boxListener:function(d){0==d&&table.insert(c.alreadyBoxIds,
a)},shareListener:function(a){0==a&&table.insert(c.alreadyShareIds,g)}};e?Activity10006KitController.showLoading(f):d?TipDialogController.showTip(TextTable.t_activity10006_kit_hasGet):TipDialogController.showTip(TextTable.t_activity10006_kit_notGet)};
Activity10006Controller.onButtonRewardItem=function(a){var c=this;WaitingDialogController.show();HttpHelper.sendActivity(this,10006,"reward",{rewardId:a},function(d,e,f){WaitingDialogController.hide();0!=d?TipDialogController.showTip(ErrMsg(100238)+"code:"+tostring(d)):(d=function(){c.bCanSignInCurDay=!1;c.curSignInProgessDay++;c.updateUI();if(4==a||7==a)c.onButtonBox(a);notification.postEvent("event.ui.update")},4>a?(e=c.dailyRewards[a-1],EffectHelper.itemFlyToUIAnim(e[0],null,c["imgReward"+tostring(a)],
null,d)):4==a?(e=c.dailyRewards[3],f=c.dailyRewards[4],EffectHelper.itemFlyToUIAnim(e[0],null,c.imgReward4,null,null),EffectHelper.itemFlyToUIAnim(f[0],null,c.imgReward5,null,d)):5==a?(e=c.dailyRewards[5],EffectHelper.itemFlyToUIAnim(e[0],null,c.imgReward6,null,d)):6==a?(e=c.dailyRewards[6],f=c.dailyRewards[7],EffectHelper.itemFlyToUIAnim(e[0],null,c.imgReward7,null,null),EffectHelper.itemFlyToUIAnim(f[0],null,c.imgReward8,null,d)):7==a&&(e=c.dailyRewards[8],f=c.dailyRewards[9],EffectHelper.itemFlyToUIAnim(e[0],
null,c.imgReward9,null,null),EffectHelper.itemFlyToUIAnim(f[0],null,c.imgReward10,null,d)),c.updateUI())})};Activity10006Controller.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};Activity10006Controller.back=function(){EffectHelper.dialogLeftHide(this)};
Activity10006Controller.initData=function(){if(this.param){this.curSignInProgessDay=this.param.rewardDay;this.alreadyShareIds=this.param.shareIds;this.alreadyBoxIds=this.param.boxIds;this.bCanSignInCurDay=0==this.param.canReceiveReward;this.bCanHelpSignIn=0==this.param.canHelp;this.helpSignInFriendIds=this.param.hIds;this.shareRewards=[];this.boxRewards=[];this.dailyRewards=[];for(var a=0;a<this.param.rewards.length;a++)for(var c=this.param.rewards[a].reward,c=string.split(c,","),d=0;d<c.length;d++){var e=
string.split(c[d],":");this.dailyRewards.push(e)}for(a=0;a<this.param.boxs.length;a++)for(c=this.param.boxs[a].reward,c=string.split(c,","),d=0;d<c.length;d++)e=string.split(c[d],":"),this.boxRewards.push(e);for(a=0;a<this.param.shares.length;a++)for(c=this.param.shares[a].reward,c=string.split(c,","),d=0;d<c.length;d++)e=string.split(c[d],":"),this.shareRewards.push(e)}else this.curSignInProgessDay=0,this.alreadyShareIds=[],this.alreadyBoxIds=[],this.bCanHelpSignIn=this.bCanSignInCurDay=!1,this.helpSignInFriendIds=
[],this.shareRewards=[],this.boxRewards=[],this.dailyRewards=[]};Activity10006KitController=createController("Activity10006KitController");Activity10006KitController.onViewCreate=function(){return loadccb(GetAssetsPath("Activity_10006_Kit.ccbi"),this)};Activity10006KitController.onViewOpen=function(){this.layer.setZOrder(LayerZOrderTable.QueryLayer);registerTouchAndKeyProcessor(this,"default",this.back);EffectHelper.dialogPopOut(this);this.reset()};
Activity10006KitController.reset=function(){this.nodeShareReward.setVisible(!this.param.shareBefore);this.spShareReward.setDisplayFrameName(GameIconHelper.getIconFrameName(this.param.shareReward[0],this.param.shareReward[1]));this.labelShareReward.setString("x"+tostring(this.param.shareReward[1]));this.imgReward1.setDisplayFrameName(GameIconHelper.getIconFrameName(this.param.reward1[0],this.param.reward1[1]));this.labelReward1.setString("x"+tostring(this.param.reward1[1]));this.imgReward2.setDisplayFrameName(GameIconHelper.getIconFrameName(this.param.reward2[0],
this.param.reward2[1]));this.labelReward2.setString("x"+tostring(this.param.reward2[1]))};
Activity10006KitController.onButtonGet=function(){audio.playSound(GameMusicType.kButtonClick);var a=this;WaitingDialogController.show();HttpHelper.sendActivity(this,10006,"rewardBox",{},function(c,d,e){WaitingDialogController.hide();0!=c?TipDialogController.showTip(ErrMsg(100238)+"code:"+tostring(c)):(a.param.boxListener&&a.param.boxListener(0),a.back(),EffectHelper.itemFlyToUIAnim(a.param.reward1[0],a.param.reward1[1],a.imgReward1,null,null),EffectHelper.itemFlyToUIAnim(a.param.reward2[0],a.param.reward2[0],
a.imgReward2,null,function(){notification.postEvent("event.ui.update")}))})};
Activity10006KitController.onButtonShare=function(){audio.playSound(GameMusicType.kButtonClick);var a=this;ShareController.shareDirectly(2011,5,function(c){c&&(TipDialogController.showTip("\u5206\u4eab\u6210\u529f"),a.shareBefore||(a.param.shareListener&&a.param.shareListener(0),c={shareId:tostring(a.param.shareId)},HttpHelper.sendActivity(this,10006,"share",c,function(c,e,f){WaitingDialogController.hide();0!=c?TipDialogController.showTip(ErrMsg(100238)+"code:"+tostring(c)):EffectHelper.itemFlyToUIAnim(a.param.shareReward[0],
a.param.shareReward[1],a.spShareReward,null,function(){a.nodeShareReward.setVisible(!1);notification.postEvent("event.ui.update")})})))})};Activity10006KitController.onButtonBack=function(){audio.playSound(GameMusicType.kButtonClick);this.back()};Activity10006KitController.back=function(){EffectHelper.dialogLeftHide(this)};ShareKitTipController=createController("ShareKitTipController");ShareKitTipController.onViewCreate=function(){return loadccb(GetAssetsPath("ShareKitTip.ccbi"),this)};ShareKitTipController.onViewOpen=function(){this.layer.setZOrder(LayerZOrderTable.TipLayer);var a=this;this.registerTouch(function(c,d){a.back();return!1},0,!0)};
ShareKitTipController.showTip=function(a){this.isShowing||this.show();this.labelTip.setString(string.expand(TextTable.t_ShareKit_Text_Tip,{num:a.starsNum}));if(a.reward)for(var c=1;c<=a.reward.length;c++){var d=a.reward[c-1],e=d[1],d=GameIconHelper.getIconFrameName(d[0],e);this["spReward"+tostring(c)].setDisplayFrameName(d);this["labelReward"+tostring(c)].setString("x "+e)}this.nodeDialog.setPosition(a.pos);this.nodeDialog.stopAllActions();this.nodeDialog.setScale(0);this.nodeDialog.runAction(cc.scaleTo(0.2,
1).easing(cc.easeBackOut()));this.nodeDialog.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(this.back,this)))};ShareKitTipController.back=function(){this.nodeDialog.runAction(cc.sequence(cc.scaleTo(0.2,0).easing(cc.easeBackIn()),cc.callFunc(this.hide,this)))};ShareKitRuleController=createController("ShareKitRuleController");ShareKitRuleController.onViewCreate=function(){return loadccb(GetAssetsPath("ShareKitRule.ccbi"),this)};ShareKitRuleController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back)};ShareKitRuleController.onViewOpened=function(a){EffectHelper.dialogLeftShow(this)};ShareKitRuleController.back=function(){this.onButtonBack()};ShareKitRuleController.onButtonBack=function(){this.hide()};ShareKitWXController=createController("ShareKitWXController");ShareKitWXController.onViewCreate=function(){console.log("ShareKitWXController.onViewCreate");return loadccb(GetAssetsPath("ShareKitWX.ccbi"),this)};ShareKitWXController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.reset();EffectHelper.dialogLeftShow(this)};ShareKitWXController.reset=function(){this.restRewardCount=0;this.listKitHolder=[];this.buildBaseUI(!1)};
ShareKitWXController.buildKits=function(){if(this.listKitHolder)for(var a=1;a<this.listKitHolder.length;a++)this.listKitHolder[a].node.removeFromParentAndCleanup(!0);this.listKitHolder=[];for(var c=0,a=5;0<a;a--){var d=MetaHelper.shareKitRewardDic[a-1];if(d&&d.star<=CacheHelper.getAssistBoardFriendCount()){c=a-1;break}}for(var d=CacheHelper.getShareKitGetedIds(),e=!1,a=1;4>=a;a++){for(var e=!1,f=1;f<=d.length;f++)if(d[f-1]==a){e=!0;break}var f=a,g=a<=c,h=[],m=loadccb(GetAssetsPath("ShareKitKitItemWX.ccbi"),
h,this),n="kit_img_0"+f+".png",r="kit_img_0"+f+"_open.png";h.spKit.setDisplayFrameName(g&&e?r:n);h.skelLight.setVisible(g&&!e);h.labelNeedInvite.setString(string.expand(TextTable.t_ShareKit_invite_num,{num:MetaHelper.shareKitRewardDic[f].star}));h.btnKit.setTag(f);h.node=m;g&&!e&&EffectHelper.jellyShake(h.spKit);this.listKitHolder[f]=h;m.setPosition(150+138*(f-1),135);this.kitNode.addChild(m)}this.refreshBottleStatus(c)};
ShareKitWXController.buildBaseUI=function(a){var c=this;c.curRecommedIndex=0;CacheHelper.getAndCacheAssistBoardFiendsInfo(this,function(a,e,f){0==a?(c.restRewardCount=e,f=CacheHelper.getAssistBoardUserInfoList(),table.sort(f,function(a,c){return a.star>c.star}),c.labelInviteCount.setString(tostring(CacheHelper.getAssistBoardFriendCount())+"/100"),c.labelTicketCount.setString(tostring(CacheHelper.getRestRewardTicketCount())),c.buildKits()):TipDialogController.showTip(ErrMsg(a))},a)};
ShareKitWXController.refreshBottleStatus=function(a){this.spHeart.setEnabled(!1);0==a?this.progessKit.setPercentage(0):1==a?this.progessKit.setPercentage(10):2==a?this.progessKit.setPercentage(39):3==a?this.progessKit.setPercentage(70):4==a&&(this.progessKit.setPercentage(100),this.spHeart.setEnabled(!0))};ShareKitWXController.onButtonMore=function(){audio.playSound(GameMusicType.kButtonClick);this.curRecommedIndex+=4;this.buildFriendRecommedList()};
ShareKitWXController.onButtonKitItem=function(a,c){audio.playSound(GameMusicType.kButtonClick);var d=MetaHelper.shareKitRewardDic[a],e=this,f=CacheHelper.getShareKitGetedIds(),g=d.star-CacheHelper.getAssistBoardFriendCount(),h=!1;if(0>=g)for(var m=0;m<f.length;m++)if(a==f[m]){h=!0;break}f=[];f.reward=d.reward;f.starsNum=g;m=this.listKitHolder[a].node;m=m.getParent().convertToWorldSpace(m.getPosition());f.pos=m;!h&&0<g?ShareKitTipController.showTip(f):!h&&0>=g?(WaitingDialogController.show(),HttpHelper.sendGetShareKitWithIndex(e,
a,function(a){WaitingDialogController.hide();if(0==a){a=c.convertToWorldSpace(c.getAnchorPointInPoints());for(var f=0;f<d.reward.length;f++){var g=d.reward[f];0<f?EffectHelper.itemFlyToUIAnim(g[0],g[1],a,this.layer,null,0.5):EffectHelper.itemFlyToUIAnim(g[0],g[1],a,this.layer)}notification.postEvent("event.ui.update");3==CacheHelper.getShareKitGetedIds().length&&TipDialogController.showTip(TextTable.t_ShareKit_refeshTip);e.buildBaseUI(!0)}else TipDialogController.showTip(ErrMsg(a))})):h&&TipDialogController.showTip(TextTable.t_ShareKit_hasGetTip)};
ShareKitWXController.onButtonBottle=function(){audio.playSound(GameMusicType.kButtonClick);if(!this.spBottleBubble.isVisible()){this.spBottleBubble.setScale(0.1);this.lableBottleTip.setString(TextTable.t_ShareKit_Text_starCount);var a=[];a.push(cc.show());a.push(cc.scaleTo(0.2,1.3));a.push(cc.scaleTo(0.05,1));a.push(cc.delayTime(1.25));a.push(cc.scaleTo(0.2,0.2));a.push(cc.scaleTo(0.05,0.05));a.push(cc.hide());a=cc.sequence(a);this.spBottleBubble.runAction(a)}};
ShareKitWXController.onButtonInvite=function(){audio.playSound(GameMusicType.kButtonClick);100<=CacheHelper.getAssistBoardFriendCount()&&TipDialogController.showTip(TextTable.t_ShareKit_Text_renshushangxian);var a=MathUtils.random(1,6);XCXManager.shareMessage({feedID:3002,title:TextTable["t_sharetitle3002_"+a],desc:TextTable["t_sharefeed3002_"+a],inviteType:1,query:"from\x3dinvite"})};
ShareKitWXController.onButtonReward=function(){audio.playSound(GameMusicType.kButtonClick);var a=this;a.spIconReward.isVisible()||(0>=CacheHelper.getRestRewardTicketCount()?TipDialogController.showTip(TextTable.t_ShareKit_Text_cjanniu):HttpHelper.getCommonRewards(a,7,[],function(c,d){var e=d.rewards;if(0==c){CacheHelper.setRestRewardTicketCount();a.labelTicketCount.setString(tostring(CacheHelper.getRestRewardTicketCount()));var f=[];f.push(cc.scaleTo(0.15,0.58,0.54));f.push(cc.scaleTo(0.15,1,1));
f.push(cc.scaleTo(0.15,0.58,0.54));f.push(cc.scaleTo(0.15,1*a.spBottleCork.getScale(),1*a.spBottleCork.getScale()));f.push(cc.spawn(cc.moveBy(0.5,ccp(100,80)).easing(cc.easeElasticOut()),cc.rotateBy(0.5,60,0).easing(cc.easeElasticOut())));f.push(cc.callFunc(function(){a.particleNode.resetSystem();a.particleNode.setVisible(!0)}));a.spIconReward.setVisible(!0);a.spIconReward.setScale(0.1);a.spIconReward.setDisplayFrameName(GameIconHelper.getIconFrameName(e[0].itemId));a.spIconReward.runAction(cc.sequence(cc.scaleTo(0.3,
1.2),cc.scaleTo(0.05,1),cc.moveBy(1,ccp(0,280)),cc.callFunc(function(){GetRewardDialogController.show({rewards:e,tip:TextTable.t_Tip_Exchange_Code3});a.spIconReward.setVisible(!1);a.spIconReward.setPositionY(a.spIconReward.getPositionY()-280);a.spBottleCork.runAction(cc.sequence(cc.delayTime(1.5),cc.spawn(cc.moveBy(1,ccp(-100,-80)).easing(cc.easeElasticOut()),cc.rotateBy(1,-60,0).easing(cc.easeElasticOut()))));notification.postEvent("event.ui.update")})));f=cc.sequence(f);a.spBottleCork.runAction(f)}else TipDialogController.showTip(ErrMsg(c))}))};
ShareKitWXController.onButtonShareKitRule=function(){audio.playSound(GameMusicType.kButtonClick);ShareKitRuleController.show()};ShareKitWXController.onButtonBack=function(){audio.playSound(GameMusicType.kButtonClick);this.hide()};ShareKitWXController.back=function(){EffectHelper.dialogLeftHide(this)};InviteRewardXyxDialogController=createController("InviteRewardXyxDialogController");InviteRewardXyxDialogController.onViewCreate=function(){return loadccb(GetAssetsPath("InviteRewardXyxDialog.ccbi"),this)};InviteRewardXyxDialogController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.reset();EffectHelper.dialogLeftShow(this)};InviteRewardXyxDialogController.reset=function(){this.buildBaseUI()};
InviteRewardXyxDialogController.resetFriendList=function(a){this.listItemHolder=[];for(var c=MetaHelper.commonRewardDict[7].rewards[0],d=0;30>d;d++){var e=d,f=[],g=loadccb(GetAssetsPath("InviteRewardXyxListItem.ccbi"),f,this);f.btnItem.setVisible(!1);f.spTipGet.setVisible(!1);f.nodeHasNotGet.setVisible(!0);f.spHasGet.setVisible(!1);f.spGem.setDisplayFrameName(GameIconHelper.getIconFrameName(c[0],c[1]));f.btnItem.setTag(e);f.node=g;this.listItemHolder[e]=f;this.listFriend.addItem(g)}this.reorderFriendList(a)};
InviteRewardXyxDialogController.reorderFriendList=function(a){for(var c=0,d=29,e=0;e<a.length;e++){var f=!1,g=!1,h=a[e]||[],f=1==h.status,g=2==h.status;if(f){var m=this.listItemHolder[c];m.playerId=h.playerId;GameHelper.loadHeadSprite(m.spriteHead1,h.headUrl,!1);m.btnItem.setVisible(f&&!g);m.spTipGet.setVisible(f&&!g);m.nodeHasNotGet.setVisible(!f&&!g);m.spHasGet.setVisible(g);c++}g&&(m=this.listItemHolder[d],m.playerId=h.playerId,GameHelper.loadHeadSprite(m.spriteHead1,h.headUrl,!1),m.btnItem.setVisible(f&&
!g),m.spTipGet.setVisible(f&&!g),m.nodeHasNotGet.setVisible(!f&&!g),m.spHasGet.setVisible(g),d--)}};InviteRewardXyxDialogController.buildBaseUI=function(){var a=this;CacheHelper.getAndCacheAssistBoardFiendsInfo(this,function(c,d){0==c?(d=CacheHelper.getAssistBoardUserInfoList(),a.labelInviteCount.setString(tostring(CacheHelper.getAssistBoardFriendCount())+"/30"),a.resetFriendList(d)):TipDialogController.showTip(ErrMsg(c))},!1)};
InviteRewardXyxDialogController.onButtonItem=function(a,c){audio.playSound(GameMusicType.kButtonClick);var d=this,e=this.listItemHolder[a];e.btnItem.setTouchEnabled(!1);var f=CacheHelper.getAssistBoardUserInfoList(),g={key:"inviteId",value:tostring(e.playerId)},h=[];h.push(g);WaitingDialogController.showLoading();HttpHelper.getCommonRewards(d,7,h,function(a){WaitingDialogController.hide();e.btnItem.setTouchEnabled(!0);if(0==a){a=MetaHelper.commonRewardDict[7].rewards[0];TipDialogController.showTip(string.expand(TextTable.t_invite_reward_get,
{num:a[1]}));var c=e.spGem.convertToWorldSpace(e.spGem.getAnchorPointInPoints());EffectHelper.itemFlyToUIAnim(a[0],a[1],c,d.layer,function(){e.spTipGet.setVisible(!1);e.btnItem.setVisible(!1);e.nodeHasNotGet.setVisible(!1);e.spHasGet.setVisible(!0)},0.5);for(var g in f)a=f[g],a.playerId==e.playerId&&(a.status=2);CacheHelper.inviteRewardNUm--;notification.postEvent("event.ui.update")}else TipDialogController.showTip(ErrMsg(a))})};
InviteRewardXyxDialogController.onButtonShareKitRule=function(){audio.playSound(GameMusicType.kButtonClick);ShareKitRuleController.showLoading()};
InviteRewardXyxDialogController.onButtonInvite=function(){audio.playSound(GameMusicType.kButtonClick);var a=this,c=Math.random2(1,6);XCXManager.shareMessage({feedID:1024,title:TextTable["t_sharetitle3002_"+c],desc:TextTable["t_sharefeed3002_"+c],query:"from\x3dinvite"},function(){UserManager.getDailyData().inviteShareRewardGeted||HttpHelper.getCommonRewards(a,11,[],function(a){0==a?(TipDialogController.showTip(TextTable.t_ShareReward),UserManager.getDailyData().inviteShareRewardGeted=!1,notification.postEvent("event.ui.update")):
TipDialogController.showTip(ErrMsg(a))})},function(){})};InviteRewardXyxDialogController.onButtonBack=function(){audio.playSound(GameMusicType.kButtonClick);this.hide()};InviteRewardXyxDialogController.back=function(){EffectHelper.dialogLeftHide(this)};InviteRewardQQDialogController=createController("InviteRewardQQDialogController");InviteRewardQQDialogController.onViewCreate=function(){return loadccb(GetAssetsPath("InviteRewardQQDialog.ccbi"),this)};InviteRewardQQDialogController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.reset();EffectHelper.dialogLeftShow(this)};InviteRewardQQDialogController.reset=function(){this.buildBaseUI()};
InviteRewardQQDialogController.resetFriendList=function(a){var c=this;c.listItemHolder=[];c.performDelay(function(){for(var d=0;30>d;d++){var e=d,f=[],g=loadccb(GetAssetsPath("InviteRewardQQListItem.ccbi"),f,c);f.labelName.setString("\u672a\u9080\u8bf7");GameHelper.loadHeadSprite(f.spriteHead,null,!0);f.spGem.setVisible(!0);f.spHasGet.setVisible(!1);f.btnGet.setVisible(!0);f.btnGet.setEnabled(!1);f.btnGet.setTag(e);f.node=g;c.listItemHolder[e]=f;c.listFriend.addItem(g)}c.reorderFriendList(a)})};
InviteRewardQQDialogController.reorderFriendList=function(a){for(var c=0,d=29,e=0;e<a.length;e++){var f=!1,g=!1,h=a[e]||[],f=1==h.status,g=2==h.status;if(f){var m=this.listItemHolder[c];m.playerId=h.playerId;GameHelper.loadHeadSprite(m.spriteHead,h.headUrl,!0);m.labelName.setString(h.name);c++}g&&(m=this.listItemHolder[d],m.playerId=h.playerId,GameHelper.loadHeadSprite(m.spriteHead,h.headUrl,!0),m.labelName.setString(h.name),d--);m.spGem.setVisible(!g);m.spHasGet.setVisible(g);m.btnGet.setVisible(!g);
m.btnGet.isVisible()&&m.btnGet.setEnabled(f&&!g)}};
InviteRewardQQDialogController.buildFriendRecommedList=function(){var a=this;a.listFriendsRecommedHolder=[];TencentSdkManager.getBosomFriends(20,function(c){a.curRecommedIndex+4>c.length&&(a.curRecommedIndex=0);if(c&&0<c.length){a.btnMore.setVisible(!0);for(var d=a.curRecommedIndex+4,e=c.length,f=1+a.curRecommedIndex;f<=Math.min(d,e);f++){var g=f,h=c[g-1],m=[],n=a["nodeHead"+tostring(g-a.curRecommedIndex)];n.setVisible(!0);a["labelName"+tostring(g-a.curRecommedIndex)].setString(h.name);m.playerId=
h.openId;m.node=n;a["btnNode"+tostring(g-a.curRecommedIndex)].setTag(g-a.curRecommedIndex-1);a["btnNode"+tostring(g-a.curRecommedIndex)].setEnabled(!0);a["spInvite"+tostring(g-a.curRecommedIndex)].setVisible(!0);a["spInvited"+tostring(g-a.curRecommedIndex)].setVisible(!1);m.btnNode=a["btnNode"+tostring(g-a.curRecommedIndex)];m.spInvite=a["spInvite"+tostring(g-a.curRecommedIndex)];m.spInvited=a["spInvited"+tostring(g-a.curRecommedIndex)];n=a["spriteHead"+tostring(g-a.curRecommedIndex)];GameHelper.loadHeadSprite(n,
h.headUrl,!0);a.listFriendsRecommedHolder[g-a.curRecommedIndex-1]=m}}})};
InviteRewardQQDialogController.buildBaseUI=function(){var a=this;a.curRecommedIndex=0;CacheHelper.getAndCacheAssistBoardFiendsInfo(this,function(c,d){0==c?(d=CacheHelper.getAssistBoardUserInfoList(),a.labelInviteCount.setString(tostring(CacheHelper.getAssistBoardFriendCount())+"/30"),a.nodeShareReward.setVisible(!UserManager.getDailyData().inviteShareRewardGeted),a.resetFriendList(d),a.buildFriendRecommedList()):TipDialogController.showTip(ErrMsg(c))},!1)};
InviteRewardQQDialogController.onButtonMore=function(){audio.playSound(GameMusicType.kButtonClick);this.curRecommedIndex+=4;this.buildFriendRecommedList()};InviteRewardQQDialogController.onButtonShareKitRule=function(){audio.playSound(GameMusicType.kButtonClick);ShareKitRuleController.showLoading()};
InviteRewardQQDialogController.onButtonPersonalInvite=function(a){audio.playSound(GameMusicType.kButtonClick);30<=CacheHelper.getAssistBoardFriendCount()&&TipDialogController.showTip(TextTable.t_ShareKit_Text_renshushangxian);a=this.listFriendsRecommedHolder[a].playerId;var c=MathUtils.random(1,6);XCXManager.shareMessage({openId:a,feedID:3005,title:TextTable["t_sharetitle3002_"+c],desc:TextTable["t_sharefeed3002_"+c],inviteType:1,game_tag:2,query:"from\x3dinvite"})};
InviteRewardQQDialogController.onButtonGet=function(a,c){audio.playSound(GameMusicType.kButtonClick);var d=this,e=this.listItemHolder[a];e.btnGet.setTouchEnabled(!1);var f={key:"inviteId",value:tostring(e.playerId)},g=CacheHelper.getAssistBoardUserInfoList(),h=[];h.push(f);WaitingDialogController.showLoading();HttpHelper.getCommonRewards(d,7,h,function(a){WaitingDialogController.hide();e.btnGet.setTouchEnabled(!0);if(0==a){a=MetaHelper.commonRewardDict[7].rewards[0];TipDialogController.showTip(string.expand(TextTable.t_invite_reward_get,
{num:a[1]}));var c=e.spGem.convertToWorldSpace(e.spGem.getAnchorPointInPoints());EffectHelper.itemFlyToUIAnim(a[0],a[1],c,d.layer,function(){e.spGem.setVisible(!1);e.spHasGet.setVisible(!0);e.btnGet.setVisible(!1)},0.5);for(var f in g)a=g[f],a.playerId==e.playerId&&(a.status=2);CacheHelper.inviteRewardNUm--;notification.postEvent("event.ui.update")}else TipDialogController.showTip(ErrMsg(a))})};
InviteRewardQQDialogController.onButtonInvite=function(){audio.playSound(GameMusicType.kButtonClick);30<=CacheHelper.getAssistBoardFriendCount()&&TipDialogController.showTip(TextTable.t_ShareKit_Text_renshushangxian);var a=MathUtils.random(1,6);XCXManager.shareMessage({feedID:3002,title:TextTable["t_sharetitle3002_"+a],desc:TextTable["t_sharefeed3002_"+a],inviteType:1,query:"from\x3dinvite"})};InviteRewardQQDialogController.onButtonBack=function(){audio.playSound(GameMusicType.kButtonClick);this.hide()};
InviteRewardQQDialogController.back=function(){EffectHelper.dialogLeftHide(this)};HuskyChessController=createController("HuskyChessController");HuskyChessController.onViewCreate=function(){return loadccb(GetAssetsPath("HuskyChessUI.ccbi"),this)};
HuskyChessController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);notification.registerEvent(this.onEvents,"event.chess.onRewardGetControllerClosed",this);notification.registerEvent(this.onEvents,"event.chess.onRewardTotClosed",this);notification.registerEvent(this.onEvents,"event.chess.onDogFoodAdded",this);this.reset()};HuskyChessController.onViewOpened=function(a){};
HuskyChessController.onEvents=function(a,c){"event.chess.onRewardTotClosed"==a?(this.gameLeftTime=MetaHelper.huskyDailyRewardDic.game_time,this.back()):"event.chess.onDogFoodAdded"==a?this.labelDogFood.setString(tostring(HuskyTaskManager.getCurDogFood())):"event.chess.onRewardGetControllerClosed"==a&&this.registerUpdate("clock",this.updateGameTime,1)};
HuskyChessController.reset=function(){this.listChessItemHolders={};this.buildChess();this.gameLeftTime=MetaHelper.huskyDailyRewardDic.game_time;this.pieceGetCount=this.deadIndex=this.clickCount=0};
HuskyChessController.buildChess=function(){this.performDelay(function(){1!=persist.getInt("HuskyChessRuleFirstPopUp",0)&&(HuskyChessRuleController.showLoading(),persist.setInt("HuskyChessRuleFirstPopUp",1))});this.holder={};this.labelDogFood.setString(tostring(HuskyTaskManager.getCurDogFood()));this.labelNum.setString(tostring("x"+MetaHelper.huskyDailyRewardDic.chess_refresh));for(var a=HuskyTaskManager.huskyChessItemList,c=loadccb(GetAssetsPath("HuskyChess.ccbi"),this.holder,this,null,null,"nodeChessItemBg nodeChessMask nodeChessItem spriteIcon nodeLableItem labelRewardNum btnChessItem".split(" ")),
d=0;d<this.holder.btnChessItem.length;d++){var e=a[d],f=Math.floor(d/9),g=d%9;if(e){var h=e.rewards[0];h&&h[1]?(this.holder.spriteIcon[d].setScale(0.75),this.holder.spriteIcon[d].setDisplayFrameName(GameIconHelper.getIconFrameName(h[0],h[1])),ServerProxy.getItemType(h[0])==ItemType.HUSKY_PIECE&&this.holder.spriteIcon[d].setScale(0.2),0<h[0]?(this.holder.labelRewardNum[d].setVisible(!0),this.holder.labelRewardNum[d].setString("x"+tostring(h[1]))):this.holder.labelRewardNum[d].setVisible(!1)):this.holder.spriteIcon[d].setVisible(!1);
this.holder.id=e.id}else this.holder.nodeLableItem[d].setVisible(!1),this.holder.nodeChessItem[d].setVisible(!1),this.holder.labelRewardNum[d].setVisible(!1);this.holder.btnChessItem[d].setTag(d);this.holder.nodeChessItem[d].setPosition(ccp(76*(g-4),110-76*f));this.holder.nodeChessMask[d].setPosition(ccp(76*(g-4),110-76*f));this.holder.nodeChessItemBg[d].setPosition(ccp(76*(g-4),110-76*f));this.holder.nodeLableItem[d].setPosition(ccp(76*(g-4),110-76*f));this.holder.nodeChessMask[d].setVisible(!1)}this.nodeChess.addChild(c);
this.updateGameTime()};
HuskyChessController.refreshChessReward=function(){this.gameLeftTime=MetaHelper.huskyDailyRewardDic.game_time;this.clickCount=0;this.labelDogFood.setString(tostring(HuskyTaskManager.getCurDogFood()));for(var a=HuskyTaskManager.huskyChessItemList,c=0;c<this.holder.btnChessItem.length;c++){var d=a[c],e=Math.floor(c/9),f=c%9;if(d){var g=d.rewards[0];g&&g[1]?(this.holder.spriteIcon[c].setScale(0.75),this.holder.spriteIcon[c].setVisible(!0),this.holder.spriteIcon[c].setDisplayFrameName(GameIconHelper.getIconFrameName(g[0],g[1])),
ServerProxy.getItemType(g[0])==ItemType.HUSKY_PIECE&&this.holder.spriteIcon[c].setScale(0.2),0<g[0]?(this.holder.labelRewardNum[c].setVisible(!0),this.holder.labelRewardNum[c].setString("x"+tostring(g[1]))):this.holder.labelRewardNum[c].setVisible(!1)):(this.holder.spriteIcon[c].setVisible(!1),this.holder.labelRewardNum[c].setVisible(!1));this.holder.id=d.id}else this.holder.nodeLableItem[c].setVisible(!1),this.holder.nodeChessItem[c].setVisible(!1),this.holder.labelRewardNum[c].setVisible(!1);this.holder.btnChessItem[c].setTag(c);
this.holder.nodeChessItem[c].setPosition(ccp(76*(f-4),110-76*e));this.holder.nodeChessMask[c].setPosition(ccp(76*(f-4),110-76*e));this.holder.nodeChessItemBg[c].setPosition(ccp(76*(f-4),110-76*e));this.holder.nodeLableItem[c].setPosition(ccp(76*(f-4),110-76*e));this.holder.nodeChessMask[c].setVisible(!1)}};
HuskyChessController.chessItemMoveAction=function(){var a=this;GameDirector.setTouchAndKeypadEnable(!1);for(var c=this.holder.btnChessItem,d=this.holder.nodeChessMask,e=0;e<c.length;e++)d[e].setVisible(!0),d[e].setScale(0),d[e].runAction(cc.scaleTo(0.3,1).easing(cc.easeIn(0.3)));var f=d[Math.floor(c.length/2)].getPosition();this.performDelay(function(){for(var a=this.holder.spriteIcon,e=this.holder.labelRewardNum,m=0;m<c.length;m++){a[m].setVisible(!1);e[m].setVisible(!1);var n=d[m].getPosition(),
r=13*(n.x+n.y),s=180*Math.cos(r),t=180*Math.sin(r),r=ccp(f.x+s,f.y+t),s=ccp(f.x-s,f.y-t),t=0.2*Math.random()*1.8,u=[];u.push(cc.moveTo(1.8*0.1+t,f).easing(cc.easeSineIn()));u.push(cc.moveTo(1.8*0.1,r).easing(cc.easeSineOut()));u.push(cc.moveTo(1.8*0.2,s).easing(cc.easeSineOut()));u.push(cc.moveTo(1.8*0.1,f).easing(cc.easeSineOut()));u.push(cc.moveTo(0.54,n).easing(cc.easeSineOut()));d[m].runAction(cc.sequence(u))}},0.3);this.performDelay(function(){a.labelDogFood.runAction(cc.sequence(cc.delayTime(0.1),
cc.callFunc(function(){GameDirector.setTouchAndKeypadEnable(!0);a.registerUpdate("clock",a.updateGameTime,1)})))},2.1)};HuskyChessController.showALlRewards=function(){for(var a=0;a<this.holder.nodeChessMask.length;a++)if(this.holder.nodeChessMask[a].isVisible())this.onButtonChessItem(this.holder.btnChessItem[a].getTag(),!1)};
HuskyChessController.updateGameTime=function(){var a=this.gameLeftTime--;if(0>a)this.gameEnd();else{this.labelTime.setVisible(!0);var c=Math.floor(a/60),a=string.format("%02d:%02d",Math.floor(99<c?99:c),a%60);this.labelTime.setString(a)}};
HuskyChessController.onButtonChessItem=function(a,c){if(c||81!=this.clickCount)if(c&&2>HuskyTaskManager.getCurDogFood())TipDialogController.showTip(TextTable.t_husky_Dog_Food_Short);else{c&&(audio.playSound(GameMusicType.kButtonClick),HuskyTaskManager.setCurDogFood(HuskyTaskManager.getCurDogFood()-2));var d=this;if(HuskyTaskManager.huskyChessItemList[d.clickCount]){var e=HuskyTaskManager.huskyChessItemList[d.clickCount].rewards[0],f=1==HuskyTaskManager.huskyChessItemList[d.clickCount].pop_up;e&&e[1]?
(this.holder.spriteIcon[a].setScale(0.75),this.holder.spriteIcon[a].setVisible(!0),this.holder.spriteIcon[a].setDisplayFrameName(GameIconHelper.getIconFrameName(e[0],e[1])),ServerProxy.getItemType(e[0])==ItemType.HUSKY_PIECE&&this.holder.spriteIcon[a].setScale(0.2),e[0]!=ItemType.HUSKY_BOOM?(this.holder.labelRewardNum[a].setVisible(!0),this.holder.labelRewardNum[a].setString("x"+tostring(e[1]))):this.holder.labelRewardNum[a].setVisible(!1)):(this.holder.spriteIcon[a].setScale(0.75),this.holder.spriteIcon[a].setVisible(!0),
this.holder.spriteIcon[a].setDisplayFrameName("img_husky_null.png"))}this.holder.nodeChessMask[a].setVisible(!1);this.labelDogFood.setString(tostring(HuskyTaskManager.getCurDogFood()));this.clickCount++;if(c)if(e&&e[0]==ItemType.HUSKY_BOOM)d.gameEnd();else{var g={clickCount:this.clickCount,reward:e};e&&ServerProxy.getItemType(e[0])==ItemType.HUSKY_PIECE&&d.pieceGetCount++;g.reward&&(ServerProxy.addItem(g.reward[0],g.reward[1],parseInt(g.reward[2])),notification.postEvent("event.chess.onDogFoodAdded"));
var h=!1;e&&e[0]&&e[0]==ItemType.HUSKY_DOG_FOOD&&(h=!0);if(f)d.unregisterUpdate("clock"),HuskyRewardGetController.showLoading(g);else if(h||0==g.clickCount%3)WaitingDialogController.show(),HttpHelper.getHuskyChessReward(d,g.clickCount,function(a){WaitingDialogController.hide();if(0!=a&&(TipDialogController.showTip(ErrMsg(a)),100379==a))d.onButtonBack()})}}else this.gameEnd()};
HuskyChessController.gameEnd=function(){var a=this;TipDialogController.showTip(TextTable.t_husky_chess_game_end);a.unregisterUpdate("clock");a.deadIndex=this.clickCount;GameDirector.setTouchAndKeypadEnable(!1);a.showALlRewards();for(var c=[],d=[],e=0;e<a.deadIndex;e++){var f=HuskyTaskManager.huskyChessItemList[e].rewards[0];f&&0<=f[0]&&c[f[0]]?c[f[0]]+=f[1]:f&&0<=f[0]&&(c[f[0]]=f[1]);f&&2<f.length&&(d[f[0]]=f[2])}e=cc.ParticleSystem.create(GetAssetsPath("SmallParticle.plist"));e.setPosition(0.5*display.width,
display.height/2);a.layer.addChild(e);0<a.deadIndex?(WaitingDialogController.show(),HttpHelper.getHuskyChessReward(a,a.deadIndex,function(e){WaitingDialogController.hide();if(0==e)a.labelDogFood.runAction(cc.sequence(cc.delayTime(2.5),cc.callFunc(function(){var e=Math.floor(MetaHelper.huskyDailyRewardDic.game_time-a.gameLeftTime),e=e>MetaHelper.huskyDailyRewardDic.game_time?MetaHelper.huskyDailyRewardDic.game_time:e,e={chessGameTime:e+"s",huskyPiece:a.pieceGetCount,rewards:c,timeLimits:d};GameDirector.setTouchAndKeypadEnable(!0);
HuskyChessRewardTotController.showLoading(e)})));else if(GameDirector.setTouchAndKeypadEnable(!0),TipDialogController.showTip(ErrMsg(e)),100379==e)a.onButtonBack()})):a.labelDogFood.runAction(cc.sequence(cc.delayTime(2.5),cc.callFunc(function(){var d=Math.floor(MetaHelper.huskyDailyRewardDic.game_time-a.gameLeftTime),d=d>MetaHelper.huskyDailyRewardDic.game_time?MetaHelper.huskyDailyRewardDic.game_time:d,d={chessGameTime:d+"s",huskyPiece:a.pieceGetCount,rewards:c};GameDirector.setTouchAndKeypadEnable(!0);
HuskyChessRewardTotController.show(d)})));notification.postEvent("event.ui.updateHuskyMainUI")};
HuskyChessController.onButtonStart=function(a){audio.playSound(GameMusicType.kButtonClick);2>HuskyTaskManager.getCurDogFood()?TipDialogController.showTip(TextTable.t_husky_Dog_Food_Short):(this.btnRefresh.setVisible(!1),this.labelChessDesc.setVisible(!0),this.labelChessDesc2.setVisible(!0),this.clickCount=0,this.bShareRewardThisRound=!1,this.gameLeftTime=MetaHelper.huskyDailyRewardDic.game_time,this.pieceGetCount=this.deadIndex=0,this.btnStart.setVisible(!1),this.chessItemMoveAction())};
HuskyChessController.onButtonRefresh=function(){audio.playSound(GameMusicType.kButtonClick);var a=this;WaitingDialogController.show();HttpHelper.refreshHuskyChess(a,function(c){WaitingDialogController.hide();0==c?(ServerProxy.subItem(ItemType.DIAMOND,MetaHelper.huskyDailyRewardDic.chess_refresh),notification.postEvent("event.ui.update"),a.refreshChessReward()):TipDialogController.showTip(ErrMsg(c))})};
HuskyChessController.onButtonDogFood=function(){audio.playSound(GameMusicType.kButtonClick);HuskyTaskController.showLoading();this.unregisterUpdate("clock")};HuskyChessController.onButtonHuskyRule=function(){audio.playSound(GameMusicType.kButtonClick);HuskyChessRuleController.showLoading()};
HuskyChessController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);var a=this;QueryDialogController.showLoading({text:TextTable.t_husky_GameExit_COnfirm,listener:function(c){c&&(0<a.gameLeftTime&&a.gameLeftTime<MetaHelper.huskyDailyRewardDic.game_time?(WaitingDialogController.show(),c=0<a.deadIndex?a.deadIndex:a.clickCount,HttpHelper.getHuskyChessReward(a,81<c?81:c,function(c){WaitingDialogController.hide();if(0==c)notification.postEvent("event.ui.updateHuskyMainUI"),a.back();
else if(TipDialogController.showTip(ErrMsg(c)),100379==c)a.onButtonBack()})):a.back())}})};HuskyChessController.back=function(){this.gameLeftTime=MetaHelper.huskyDailyRewardDic.game_time;SceneHelper.popScene()};HuskyDailyRewardController=createController("HuskyDailyRewardController");HuskyDailyRewardController.onViewCreate=function(){return loadccb(GetAssetsPath("HuskyDailyReward.ccbi"),this)};
HuskyDailyRewardController.onViewOpen=function(){this.layer.setZOrder(LayerZOrderTable.QueryLayer);registerTouchAndKeyProcessor(this,"default",this.back);var a=UserManager.getMainPetId();this.skelNpc.reloadWithCache(GetAssetsPath("anim"+a+".json"));PetHelper.setPetEquipByPetID(this.skelNpc,a);this.skelNpc.setAnimation(0,"stand",!0);EffectHelper.dialogPopOut(this);this.reset()};
HuskyDailyRewardController.reset=function(){this.labelTicket.setString(tostring(MetaHelper.huskyDailyRewardDic.freeTicket));this.labelDogFood.setString(tostring(MetaHelper.huskyDailyRewardDic.freeDogFood))};
HuskyDailyRewardController.onButtonGet=function(){audio.playSound(GameMusicType.kButtonClick);var a=this;EffectHelper.flyRewardAnim(a.imgReward2,a.imgReward2,HuskyMainPageController.spIconDogFood);EffectHelper.flyRewardAnim(a.imgReward1,a.imgReward1,HuskyMainPageController.spIconTicket,function(){HuskyMainPageController.labelTicket.setString(tostring(HuskyTaskManager.getCurhuskyTicket()));HuskyMainPageController.labelDogFood.setString(tostring(HuskyTaskManager.getCurDogFood()));a.hide()})};
HuskyDailyRewardController.onButtonBack=function(){audio.playSound(GameMusicType.kButtonClick);var a=this;EffectHelper.flyRewardAnim(a.imgReward2,a.imgReward2,HuskyMainPageController.spIconDogFood);EffectHelper.flyRewardAnim(a.imgReward1,a.imgReward1,HuskyMainPageController.spIconTicket,function(){HuskyMainPageController.labelTicket.setString(tostring(HuskyTaskManager.getCurhuskyTicket()));HuskyMainPageController.labelDogFood.setString(tostring(HuskyTaskManager.getCurDogFood()));a.hide()})};HuskyTaskController=createController("HuskyTaskController");HuskyTaskController.onViewCreate=function(){return loadccb(GetAssetsPath("HuskyTask.ccbi"),this)};
HuskyTaskController.onViewOpen=function(){this.layer.setZOrder(LayerZOrderTable.QueryLayer);registerTouchAndKeyProcessor(this,"default",this.back);var a=UserManager.getMainPetId();this.skelNpc.reloadWithCache(GetAssetsPath("anim"+a+".json"));PetHelper.setPetEquipByPetID(this.skelNpc,a);this.skelNpc.setAnimation(0,"stand",!0);EffectHelper.dialogPopOut(this);this.reset()};
HuskyTaskController.reset=function(){var a=this;a.labelNum.setString(tostring("x"+MetaHelper.huskyDailyRewardDic.task_finish_cost));this.performDelay(function(){WaitingDialogController.show();HttpHelper.getHuskyTask(a,function(c,d){WaitingDialogController.hide();if(0==c){a.labelTaskChangeTip.setString(string.expand(TextTable.t_husky_task_changeTip,{num:d.actReplaceTaskNum}));var e=HuskyTaskManager.getCurTask(),f=MetaHelper.huskyTaskDict[e.taskId];if(f)for(a.labelTaskDesc.setString(HuskyTaskManager.getTaskDesc(e)),
e.num>=e.target?(a.spGo.setVisible(!1),a.spGet.setVisible(!0),a.btnChangeTask.setEnabled(!1),a.btnFinish.setEnabled(!1)):(a.spGo.setVisible(!0),a.spGet.setVisible(!1),a.btnChangeTask.setEnabled(!0),a.btnFinish.setEnabled(!0)),e=0;e<f.rewards.length;e++){var g=f.rewards[e];a["imgReward"+(e+1)].setVisible(!0);a["imgReward"+(e+1)].setDisplayFrameName(GameIconHelper.getIconFrameName(g[0],g[1]));a["labelNum"+(e+1)].setVisible(!0);a["labelNum"+(e+1)].setString("x"+tostring(g[1]))}else TipDialogController.showTip(TextTable.t_husky_Task_Error),
a.onButtonBack()}else TipDialogController.showTip(ErrMsg(c))})})};
HuskyTaskController.onButtonGo=function(){audio.playSound(GameMusicType.kButtonClick);var a=this,c=HuskyTaskManager.getCurTask();if(c.num>=c.target)WaitingDialogController.show(),HttpHelper.getHuskyTaskReward(a,c.taskId,0,function(d){WaitingDialogController.hide();if(0==d){notification.postEvent("event.ui.updateHuskyMainUI");TipDialogController.showTip("\u9886\u53d6\u6210\u529f~");c=HuskyTaskManager.getCurTask();d=MetaHelper.huskyTaskDict[c.taskId];a.labelTaskDesc.setString(HuskyTaskManager.getTaskDesc(c));
c.progress>=c.target?(a.spGo.setVisible(!1),a.spGet.setVisible(!0),a.btnChangeTask.setEnabled(!1),a.btnFinish.setEnabled(!1)):(a.spGo.setVisible(!0),a.spGet.setVisible(!1),a.btnChangeTask.setEnabled(!0),a.btnFinish.setEnabled(!0));for(var f=0;f<d.rewards.length;f++){var g=d.rewards[f];a["imgReward"+(f+1)].setVisible(!0);a["imgReward"+(f+1)].setDisplayFrameName(GameIconHelper.getIconFrameName(g[0],g[1]));a["labelNum"+(f+1)].setString("x"+tostring(g[1]))}}else TipDialogController.showTip(ErrMsg(d)),
this.hide()});else{var d=MetaHelper.huskyTaskDict[c.taskId];if(d.type!=HusKyTaskType.INVITE_SNS&&HuskyMainPageController.isShowing)HuskyMainPageController.onButtonBack();switch(d.type){case HusKyTaskType.DES_FRUIT:case HusKyTaskType.DES_BLOCK:case HusKyTaskType.PASS_DIFF_PET:case HusKyTaskType.TRIGGER_EFFECT:case HusKyTaskType.GET_STAR:case HusKyTaskType.USE_COIN:case HusKyTaskType.USE_PRE_PROP:case HusKyTaskType.PASS_WITH_PET:case HusKyTaskType.GAME_COIN:case HusKyTaskType.LEVEL_PASS_COUNT:case HusKyTaskType.CLEAR_MUL:case HusKyTaskType.LEVEL_PASS_SP:case HusKyTaskType.USE_PROP:StartGameController.show({level:UserManager.getTopLevel()});
break;case HusKyTaskType.WEEK_RANK_RACE:break;case HusKyTaskType.FRIEND_REQUEST:case HusKyTaskType.SEND_ENERGY:RankListLayerController.show();break;case HusKyTaskType.ENERGY_BOTTLE:MailCenterController.showLoading(1);break;case HusKyTaskType.TURN_TABLE:WorldMapUIController.onButtonActivity();break;case HusKyTaskType.TIME_LEVEL:GameHelper.openUI("time_level");break;case HusKyTaskType.PET_EXP:PetLevelUpController.showLoading({petId:UserManager.getMainPetId()});break;case HusKyTaskType.CHEF_CHANGE:PetDetailsController.showLoading({petId:UserManager.getMainPetId()});
break;case HusKyTaskType.LOTTERY_GO:(d=MetaHelper.isFuncUnlock(MenuItemTag.Menu_Tag_Lottery))?SceneHelper.pushToScene("Lottery"):TipDialogController.showTip(MetaHelper.getFuncUnlockInfo(MenuItemTag.Menu_Tag_Lottery,d));break;case HusKyTaskType.WHEEL_HELP:MailCenterController.showLoading(1);break;case HusKyTaskType.PAGE_OPEN:case HusKyTaskType.USE_PROP_ANY:case HusKyTaskType.USE_PROP_SP:case HusKyTaskType.INVITE_SNS:break;default:TipDialogController.showTip("\u8be5\u4efb\u52a1\u65e0\u6cd5\u8df3\u8f6c~");
return}HuskyTaskController.onButtonBack()}};
HuskyTaskController.onButtonChangeTask=function(){audio.playSound(GameMusicType.kButtonClick);WaitingDialogController.show();var a=this,c=HuskyTaskManager.getCurTask();HttpHelper.replaceHuskyTask(a,c.taskId,function(d,e){WaitingDialogController.hide();if(0==d){a.labelTaskChangeTip.setString(string.expand(TextTable.t_husky_task_changeTip,{num:e.replaceTaskNum}));c=HuskyTaskManager.getCurTask();var f=MetaHelper.huskyTaskDict[c.taskId];a.labelTaskDesc.setString(HuskyTaskManager.getTaskDesc(c));for(var g=
0;g<f.rewards.length;g++){var h=f.rewards[g];a["imgReward"+(g+1)].setVisible(!0);a["imgReward"+(g+1)].setDisplayFrameName(GameIconHelper.getIconFrameName(h[0],h[1]));a["labelNum"+(g+1)].setString("x"+tostring(h[1]))}}else TipDialogController.showTip(ErrMsg(d))})};
HuskyTaskController.onButtonFinish=function(){audio.playSound(GameMusicType.kButtonClick);WaitingDialogController.show();var a=this,c=HuskyTaskManager.getCurTask();HttpHelper.getHuskyTaskReward(a,c.taskId,1,function(d){WaitingDialogController.hide();if(0==d){notification.postEvent("event.ui.updateHuskyMainUI");TipDialogController.showTip("\u9886\u53d6\u6210\u529f,\u4efb\u52a1\u5df2\u5237\u65b0~");ServerProxy.subItem(ItemType.DIAMOND,MetaHelper.huskyDailyRewardDic.task_finish_cost);notification.postEvent("event.ui.update");
c=HuskyTaskManager.getCurTask();d=MetaHelper.huskyTaskDict[c.taskId];a.labelTaskDesc.setString(HuskyTaskManager.getTaskDesc(c));c.progress>=c.target?(a.spGo.setVisible(!1),a.spGet.setVisible(!0)):(a.spGo.setVisible(!0),a.spGet.setVisible(!1));for(var e=0;e<d.rewards.length;e++){var f=d.rewards[e];a["imgReward"+(e+1)].setVisible(!0);a["imgReward"+(e+1)].setDisplayFrameName(GameIconHelper.getIconFrameName(f[0],f[1]));a["labelNum"+(e+1)].setString("x"+tostring(f[1]))}}else TipDialogController.showTip(ErrMsg(d)),
this.hide()})};HuskyTaskController.onButtonOk=function(){audio.playSound(GameMusicType.kButtonClick);this.hide()};HuskyTaskController.onButtonBack=function(){audio.playSound(GameMusicType.kButtonClick);this.hide()};HuskyRewardGetController=createController("HuskyRewardGetController");HuskyRewardGetController.onViewCreate=function(){return loadccb(GetAssetsPath("HuskyRewardGet.ccbi"),this)};HuskyRewardGetController.onViewOpen=function(){this.layer.setZOrder(LayerZOrderTable.QueryLayer);registerTouchAndKeyProcessor(this,"default",this.back);EffectHelper.dialogPopOut(this);this.reset()};
HuskyRewardGetController.reset=function(){if(null!=this.param){HuskyChessController.bShareRewardThisRound&&this.nodeShareReward.setVisible(!1);var a=MetaHelper.huskyShareRewardDic[HuskyFeedType.CHESS_SHARE].rewards[0];this.spShareReward.setDisplayFrameName(GameIconHelper.getIconFrameName(a[0],a[1]));this.labelShareReward.setString(tostring("x"+a[1]));this.imgReward1.setDisplayFrameName(GameIconHelper.getIconFrameName(this.param.reward[0],this.param.reward[1]));this.labelNum1.setString("x"+tostring(this.param.reward[1]))}};
HuskyRewardGetController.onButtonShare=function(){audio.playSound(GameMusicType.kButtonClick);var a=this;ShareController.shareDirectly(2006,5,function(c){if(c){var d=function(){ServerProxy.addItemListByArray(MetaHelper.huskyShareRewardDic[HuskyFeedType.CHESS_SHARE].rewards);notification.postEvent("event.chess.onDogFoodAdded");a.nodeShareReward.setVisible(!1);HuskyChessController.bShareRewardThisRound=!0};HttpHelper.postHuskyShareType(a,HuskyFeedType.CHESS_SHARE,function(){var c=a.spShareReward.convertToWorldSpace(a.spShareReward.getAnchorPointInPoints());
EffectHelper.itemFlyToUIAnim(ItemType.HUSKY_DOG_FOOD,1,c,a.layer,d)})}})};
HuskyRewardGetController.onButtonGet=function(){audio.playSound(GameMusicType.kButtonClick);var a=this;GameDirector.setTouchAndKeypadEnable(!1);WaitingDialogController.show();HttpHelper.getHuskyChessReward(this,this.param.clickCount,function(c){WaitingDialogController.hide();0==c?(c=a.imgReward1.convertToWorldSpace(a.imgReward1.getAnchorPointInPoints()),EffectHelper.itemFlyToUIAnim(a.param.reward[0],a.param.reward[1],c,a.layer,function(){a.param.reward[0]==ItemType.HUSKY_DOG_FOOD&&notification.postEvent("event.chess.onDogFoodAdded");
notification.postEvent("event.chess.onRewardGetControllerClosed");GameDirector.setTouchAndKeypadEnable(!0);a.onButtonOk()})):(GameDirector.setTouchAndKeypadEnable(!0),notification.postEvent("event.chess.onRewardGetControllerClosed"),TipDialogController.showTip(ErrMsg(c)),a.hide())})};HuskyRewardGetController.onButtonOk=function(){audio.playSound(GameMusicType.kButtonClick);this.hide()};HuskyRewardGetController.onButtonBack=function(){this.onButtonGet()};HuskyRankListController=createController("HuskyRankListController");HuskyRankListController.onViewCreate=function(){return loadccb(GetAssetsPath("HuskyRankList.ccbi"),this)};HuskyRankListController.onViewOpen=function(){this.layer.setZOrder(LayerZOrderTable.QueryLayer);registerTouchAndKeyProcessor(this,"default",this.back);EffectHelper.dialogLeftShow(this);this.reset()};HuskyRankListController.reset=function(){this.buildPage()};
HuskyRankListController.buildPage=function(){this.listFriendHolder=[];this.listFriend.removeAllItems();var a=this;CacheHelper.getAndCacheFiendsInfo(this,function(c,d){if(0==c){var e=CacheHelper.getUserInfoWithDefault(UserManager.getPlayerId());e.huskyPart=HuskyTaskManager.getCurHuskyPiece();table.insert(d,e);table.sort(d,function(a,c){return Math.abs(a.huskyPart)>Math.abs(c.huskyPart)});a.updateFriendListUI(d)}else TipDialogController.showTip(ErrMsg(c))})};
HuskyRankListController.updateFriendListUI=function(a){for(var c=this,d=0,e=function(){if(!(d>=a.length)){d++;var e=a[d-1],f={},m=loadccb(GetAssetsPath("HuskyRankListItem.ccbi"),f,c);f.playerId=e.playerId;f.labelName.setString(e.name);f.labelRank.setString(tostring(d));f.labelPieceCount.setString(tostring(e.huskyPart)+"/16");f.spriteSex.setDisplayFrameName(2==e.sex?"frd_sex_female.png":"frd_sex_male.png");GameHelper.loadHeadSprite(f.spriteHead,e.headUrl,!0);if(1E4<e.huskyPart||0>e.huskyPart)f.spHuskyPiece.setVisible(!1),
f.spHasGet.setVisible(!0);c.listFriendHolder[d-1]=f;c.listFriend.addItem(m)}},f=1;8>=f;++f)e();c.listFriend.unregisterPreloadListener();8<a.length&&c.listFriend.registerPreloadListener(0.1,0.05,e)};HuskyRankListController.onButtonOk=function(){audio.playSound(GameMusicType.kButtonClick);this.hide()};HuskyRankListController.onButtonBack=function(){audio.playSound(GameMusicType.kButtonClick);this.hide()};HuskyMainPageController=createController("HuskyMainPageController");HuskyMainPageController.onViewCreate=function(){return loadccb(GetAssetsPath("HuskyMainPage.ccbi"),this)};HuskyMainPageController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);notification.registerEvent(this.onEvents,"event.ui.updateHuskyMainUI",this);this.reset()};HuskyMainPageController.onViewEnter=function(){};
HuskyMainPageController.onEvents=function(a,c){if("event.ui.updateHuskyMainUI"==a){this.labelTicket.setString(tostring(HuskyTaskManager.getCurhuskyTicket()));this.labelDogFood.setString(tostring(HuskyTaskManager.getCurDogFood()));this.labelPiece.setString(tostring(HuskyTaskManager.getCurHuskyPiece()));for(var d=0;d<HuskyTaskManager.curHuskyPieceList.length;d++){var e=this["spHuskyPiece"+(HuskyTaskManager.curHuskyPieceList[d].itemId-31E3)];e.isEnabled()||(e.stopAllActions(),e.runAction(cc.repeat(cc.sequence(cc.scaleTo(0.5,
0.98),cc.scaleTo(0.5,1)),6)));e.setEnabled(!0);e.setTouchEnabled(!1)}UserManager.hasPet(20005)||16!=HuskyTaskManager.curHuskyPieceList.length||(this.btnHuskyGet.setVisible(!0),this.btnGo.setEnabled(!1),this.btnHuskyPiece.setVisible(!1));this.showDogFoodTip()}};
HuskyMainPageController.showDogFoodTip=function(){if(0==persist.getInt("huskyDogFoodShortTip",0)&&10>HuskyTaskManager.getCurDogFood()){this.nodeTip.setVisible(!0);this.nodeTip.setScale(0.1);var a=[];a.push(cc.scaleTo(0.3,1.1));a.push(cc.scaleTo(0.25,0.92));a.push(cc.scaleTo(0.3,1));a.push(cc.callFunc(function(){EffectHelper.jellyMoveSlow(this.nodeTip,ccp(0,5),2,0)}));a.push(cc.delayTime(6));a.push(cc.scaleTo(0.3,0.92));a.push(cc.scaleTo(0.25,1));a.push(cc.scaleTo(0.3,0.3));a.push(cc.hide());this.nodeTip.runAction(cc.sequence(a));
persist.setInt("huskyDogFoodShortTip",1)}};
HuskyMainPageController.reset=function(){for(var a=1;16>=a;a++)this["spHuskyPiece"+a].setEnabled(!1),this["spHuskyPiece"+a].setTouchEnabled(!1);var c=this;this.performDelay(function(){WaitingDialogController.show();HttpHelper.getHuskyMainInfo(c,function(a,e){WaitingDialogController.hide();if(0==a){1!=persist.getInt("HuskyMainRuleFirstPopUp",0)&&(PopoutQueue.push("HuskyMainRuleController"),persist.setInt("HuskyMainRuleFirstPopUp",1));1==e.dailyBenefits?(PopoutQueue.push("HuskyDailyRewardController"),c.labelTicket.setString(tostring(HuskyTaskManager.getCurhuskyTicket()-
MetaHelper.huskyDailyRewardDic.freeTicket)),c.labelDogFood.setString(tostring(HuskyTaskManager.getCurDogFood()-MetaHelper.huskyDailyRewardDic.freeDogFood))):(c.labelTicket.setString(tostring(HuskyTaskManager.getCurhuskyTicket())),c.labelDogFood.setString(tostring(HuskyTaskManager.getCurDogFood())));c.labelPiece.setString(tostring(HuskyTaskManager.getCurHuskyPiece()));var f=MetaHelper.huskyShareRewardDic[HuskyFeedType.MAIN_SHARE].rewards[0];c.spShareReward1.setDisplayFrameName(GameIconHelper.getIconFrameName(f[0],
f[1]));c.labelShareReward1.setString("x"+tostring(f[1]));c.nodeShareReward.setVisible(!1);for(var g=e.completeShare?e.completeShare:{},f=0;f<g.length;f++)if(g[f]==HuskyFeedType.MAIN_SHARE){c.nodeShareReward.setVisible(!1);break}for(f=0;f<HuskyTaskManager.curHuskyPieceList.length;f++)g=HuskyTaskManager.curHuskyPieceList[f].itemId-31E3,c["spHuskyPiece"+tostring(g)].setEnabled(!0),c["spHuskyPiece"+tostring(g)].setTouchEnabled(!1);UserManager.hasPet(20005)||16!=HuskyTaskManager.curHuskyPieceList.length||
(c.btnHuskyGet.setVisible(!0),c.btnGo.setEnabled(!1),c.btnHuskyPiece.setVisible(!1));UserManager.hasPet(20005)&&(c.btnGo.setEnabled(!1),c.btnHuskyPiece.setVisible(!1));c.showDogFoodTip()}else TipDialogController.showTip(ErrMsg(a))})})};HuskyMainPageController.onButtonDOgFood=function(){audio.playSound(GameMusicType.kButtonClick);this.nodeTip.isVisible()&&(this.nodeTip.stopAllActions(),this.nodeTip.setVisible(!1));HuskyTaskController.showLoading()};
HuskyMainPageController.onButtonHuskyGet=function(){audio.playSound(GameMusicType.kButtonClick);var a=this;HttpHelper.getHuskyPet(this,function(c){0==c?(a.btnHuskyGet.setVisible(!1),a.btnGo.setEnabled(!1),a.btnHuskyPiece.setVisible(!1),ServerProxy.addItem(20005,1),PetGetDialogController.show({petId:20005,autoOpen:!0,share:!0})):TipDialogController.showTip(ErrMsg(c))})};
HuskyMainPageController.onButtonGo=function(){audio.playSound(GameMusicType.kButtonClick);2>HuskyTaskManager.getCurDogFood()?TipDialogController.showTip(TextTable.t_husky_Dog_Food_Short):this.huskyGO()};
HuskyMainPageController.huskyGO=function(){var a=this;GameDirector.setTouchAndKeypadEnable(!1);WaitingDialogController.show();HttpHelper.beginHuskyChessGame(a,function(c){WaitingDialogController.hide();GameDirector.setTouchAndKeypadEnable(!0);0==c?(a.labelTicket.setString(tostring(HuskyTaskManager.getCurhuskyTicket())),a.labelDogFood.setString(tostring(HuskyTaskManager.getCurDogFood())),a.labelPiece.setString(tostring(HuskyTaskManager.getCurHuskyPiece())),SceneHelper.pushToScene("HuskyChess")):TipDialogController.showTip(ErrMsg(c))})};
HuskyMainPageController.onButtonShare=function(){audio.playSound(GameMusicType.kButtonClick);var a=this;ShareController.shareDirectly(2006,5,function(c){if(c){TipDialogController.showTip("\u5206\u4eab\u6210\u529f");var d=function(){a.nodeShareReward.setVisible(!1);ServerProxy.addItemListByArray(MetaHelper.huskyShareRewardDic[HuskyFeedType.MAIN_SHARE].rewards);notification.postEvent("event.ui.updateHuskyMainUI")};HttpHelper.postHuskyShareType(a,HuskyFeedType.MAIN_SHARE,function(){a.nodeShareReward.isVisible()?
(EffectHelper.flyRewardAnim(a.spShareReward1,a.spShareReward1,a.spIconDogFood),EffectHelper.flyRewardAnim(a.spShareReward2,a.spShareReward2,a.spIconTicket,d)):a.nodeShareReward.setVisible(!1)})}})};HuskyMainPageController.onButtonRankBoard=function(){audio.playSound(GameMusicType.kButtonClick);HuskyRankListController.showLoading()};HuskyMainPageController.onButtonHuskyRule=function(){audio.playSound(GameMusicType.kButtonClick);HuskyMainRuleController.showLoading()};
HuskyMainPageController.onButtonBack=function(){audio.playSound(GameMusicType.kPopupClose);this.back()};HuskyMainPageController.back=function(){SceneHelper.popScene()};HuskyChessRuleController=createController("HuskyChessRuleController");HuskyChessRuleController.onViewCreate=function(){return loadccb(GetAssetsPath("huskyChessRule.ccbi"),this)};HuskyChessRuleController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back)};HuskyChessRuleController.onViewOpened=function(a){EffectHelper.dialogLeftShow(this)};HuskyChessRuleController.back=function(){this.onButtonBack()};HuskyChessRuleController.onButtonBack=function(){this.hide()};HuskyMainRuleController=createController("HuskyMainRuleController");HuskyMainRuleController.onViewCreate=function(){return loadccb(GetAssetsPath("huskyMainRule.ccbi"),this)};HuskyMainRuleController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back)};HuskyMainRuleController.onViewOpened=function(a){EffectHelper.dialogLeftShow(this)};HuskyMainRuleController.back=function(){this.onButtonBack()};HuskyMainRuleController.onButtonBack=function(){this.hide()};HuskyChessRewardTotController=createController("HuskyChessRewardTotController");HuskyChessRewardTotController.onViewCreate=function(){return loadccb(GetAssetsPath("HuskyChessRewardTot.ccbi"),this)};HuskyChessRewardTotController.onViewOpen=function(){registerTouchAndKeyProcessor(this,"default",this.back);this.reset()};HuskyChessRewardTotController.onViewOpened=function(a){EffectHelper.dialogLeftShow(this)};
HuskyChessRewardTotController.reset=function(){var a=MetaHelper.huskyShareRewardDic[HuskyFeedType.CHESS_SHARE_TOT].rewards[0];this.labelGameTime.setString(this.param.chessGameTime);this.labelPiece.setString("x"+tostring(this.param.huskyPiece));this.spShareReward.setDisplayFrameName(GameIconHelper.getIconFrameName(a[0],a[1]));this.labelShareReward.setString(tostring("x"+a[1]));this.buildRewardItems()};
HuskyChessRewardTotController.buildRewardItems=function(){0>=this.param.rewards.length?(this.spRewardTip.setVisible(!1),this.spNoRewardTip.setVisible(!0)):(this.spNoRewardTip.setVisible(!1),this.spRewardTip.setVisible(!0));this.nodeShareReward.setVisible(!1);this.listBagHolder=[];this.listBag.removeAllItems();var a=0,c;for(c in this.param.rewards){var d=this.param.rewards[c],e={},f=loadccb(GetAssetsPath("HuskyChessRewardItem.ccbi"),e,this);e.spriteIcon.setDisplayFrameName(GameIconHelper.getIconFrameName(c,
d));ServerProxy.getItemType(c)==ItemType.HUSKY_PIECE&&e.spriteIcon.setScale(0.35);e.labelCount.setString(tostring("x"+d));this.param.timeLimits&&this.param.timeLimits[c]&&e.timeMark.setVisible(this.param.timeLimits[c]);this.listBagHolder[a]=e;this.listBag.addItem(f);a+=1}4>a&&(this.listBag.setContentHeight(200),this.listBag.setPositionY(755))};
HuskyChessRewardTotController.onButtonShare=function(){audio.playSound(GameMusicType.kButtonClick);var a=this;ShareController.shareDirectly(2007,5,function(c){if(c){TipDialogController.showTip("\u5206\u4eab\u6210\u529f");c=function(c){0==c?(c=a.spShareReward.convertToWorldSpace(a.spShareReward.getAnchorPointInPoints()),EffectHelper.itemFlyToUIAnim(ItemType.EQUIP,1,c,a.layer,d)):TipDialogController.showTip(ErrMsg(c))};var d=function(){ServerProxy.addItemListByArray(MetaHelper.huskyShareRewardDic[HuskyFeedType.CHESS_SHARE_TOT].rewards);
notification.postEvent("event.chess.onDogFoodAdded");notification.postEvent("event.ui.updateHuskyMainUI");a.nodeShareReward.setVisible(!1)};a.nodeShareReward.isVisible()&&HttpHelper.postHuskyShareType(a,HuskyFeedType.CHESS_SHARE_TOT,c)}})};HuskyChessRewardTotController.back=function(){this.onButtonBack()};HuskyChessRewardTotController.onButtonBack=function(){notification.postEvent("event.chess.onRewardTotClosed");this.hide()};console.log("game_part_end");console.log("cc.static_config");cc.game.gameInit=function(a){if(!a||document.ccConfig)if(a||!document.ccConfig)cc.addTimePoint("initSystem"),GameInitManager.initSystem(function(){cc.addTimePoint("initSystemEnd");cc.game.gameStart()})};cc.game.gameInitOK=!1;
cc.game.gameStart=function(){cc.game.gameInitOK?(cc.addTimePoint("initLoadResList"),GameInitManager.initLoadResList(),cc.addTimePoint("preload"),GameLoaderScene.preload(g_resources,function(a){cc.addTimePoint("initGame");a?GameInitManager.preLoadError():GameInitManager.initGame()})):cc.game.gameInitOK=!0};
cc.game.onStart=function(){cc.addTimePoint("onStart");!cc.sys.isNative&&document.getElementById("cocosLoading")&&document.body.removeChild(document.getElementById("cocosLoading"));cc.view.enableRetina(!0);cc.view.adjustViewPort(!0);cc.view.setOrientation(cc.ORIENTATION_PORTRAIT);var a=cc.view.getFrameSize();0.4609375>a.width/a.height?cc.view.setDesignResolutionSize(590,1280,cc.ResolutionPolicy.SHOW_ALL):0.75>=a.width/a.height?cc.view.setDesignResolutionSize(720,1280,cc.ResolutionPolicy.FIXED_HEIGHT):
cc.view.setDesignResolutionSize(720,1280,cc.ResolutionPolicy.SHOW_ALL);cc.view.resizeWithBrowserSize(!0);cc.director.setContentScaleFactor(cc.game.config.contentScaleFactor);cc.game.gameInit();cc.game.gameStart()};cc.game.gameInit(!0);cc.addTimePoint("end");cc.game.run();cc.addTimePoint("runEnd");
//@ sourceMappingURL=sourcemap 
 			}); 	require("game.js");
 	